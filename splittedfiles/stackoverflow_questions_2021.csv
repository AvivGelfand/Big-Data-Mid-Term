65540240	javascript|python|communication|wikipedia|eel	How to communicate between multiple javascript files in python eel	"<p>I am trying to make a HTML app using eel. In this app I have two javascript files and want to make communication between my python main.py file. It will get a string from &quot;show()&quot; and &quot;show2()&quot;.The string from &quot;show()&quot; will go to my &quot;script.js&quot; file and the string from &quot;show2()&quot; will go to &quot;script2.js&quot;.I am able to get strings from &quot;show()&quot; but not from show2(). Only one javascript file is working and the other is not working. Can someone please help me with it?</p> <p>Here is my python &quot;main.py&quot; code:</p> <pre><code>import eel import time import wikipedia import socket import os import pyttsx3 import webbrowser import datetime import sound  engine= pyttsx3.init(&quot;sapi5&quot;) en_id = &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Speech\\Voices\\Tokens\\TTS_MS_Cortana&quot; engine.setProperty(&quot;voice&quot;,en_id) def say(audio):     engine.say(audio)     engine.runAndWait()  @eel.expose def show(text):     user=text.lower()          if &quot;hello&quot; in user or &quot;hey&quot; in user:         ans=&quot;Hello, how can I help you?&quot;         time.sleep(0.5)         eel.boxes2(ans)         say(ans) @eel.expose def show2(text2):     print(text2)     eel.boxes3(&quot;hello&quot;)    eel.init(&quot;eel&quot;) eel.start(&quot;index.html&quot;,size=(460,660)) </code></pre> <p>And here is my &quot;script.js&quot; file. This file is working:</p> <pre><code>var nav=document.getElementById(&quot;content&quot;); var textbox=document.getElementById(&quot;input&quot;);  var tag=document.createElement(&quot;i&quot;);  textbox.onclick=function(){     nav.style.display=&quot;none&quot;;  } eel.expose(boxes2); function boxes2(reply){     var tag=document.createElement(&quot;a&quot;);     var text=document.createTextNode(reply);     tag.appendChild(text);     var element=document.getElementById(&quot;box2&quot;);     element.appendChild(tag); }   function boxes(){     var textbox=document.getElementById(&quot;input&quot;);      text= textbox.value;     eel.show(text)     var cover=document.createElement(&quot;p&quot;);     var tag=document.createElement(&quot;i&quot;);     var text=document.createTextNode(text);     tag.appendChild(text);     cover.appendChild(tag);     var element=document.getElementById(&quot;box2&quot;);     element.appendChild(cover);     textbox.value=&quot;&quot;;      } var sub = document.getElementById(&quot;send&quot;);   sub.onclick=function(){     boxes();     boxes2(reply);  } </code></pre> <p>And here is my &quot;script2.js&quot;. This is the file which is not working in python eel:</p> <pre><code>eel.expose(boxes3) function boxes3(reply2){     eel.show2(&quot;bye&quot;)     var tag=document.createElement(&quot;p&quot;);     var text=document.createTextNode(reply2);     tag.appendChild(text);     var element=document.getElementById(&quot;box2&quot;);     element.appendChild(tag); }  var sub2 = document.getElementById(&quot;hello&quot;);   sub2.onclick=function(){     boxes3(reply2);  } </code></pre> <p>Here is my index.html code:</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt;     &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no&quot;&gt;     &lt;title&gt;Aurora&lt;/title&gt;     &lt;link rel=&quot;Icon&quot; href=&quot;logo.ico&quot; type=&quot;png&quot; hreflang=&quot;en&quot;&gt;     &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;      &lt;/head&gt; &lt;body&gt;     &lt;div style=&quot;background-color: blanchedalmond; width: 500px; height: 30px; position: fixed; top: 0;&quot;&gt;         &lt;label id=&quot;options&quot; title=&quot;options&quot;&gt;...&lt;/label&gt;         &lt;button id=&quot;hello&quot; &gt;hello&lt;/button&gt;     &lt;/div&gt;     &lt;div style=&quot;width: max-content; height: 630px; overflow-y: scroll; overflow-x: hidden;scroll-behavior: auto;&quot;&gt;         &lt;div id=&quot;box2&quot; style=&quot;width: 470px;  height: max-content; margin-top: 35pt;margin-left: 20px;&quot;&gt;&lt;/div&gt;     &lt;/div&gt;          &lt;div id=&quot;content&quot;&gt;         &lt;label id=&quot;close&quot; title=&quot;close&quot;&gt;Ã—&lt;/label&gt;         &lt;h1 style=&quot;font-family: segoe ui; position: relative; top: -50px;left: 10px; font-weight: 300;&quot;&gt;Aurora&lt;/h1&gt;         &lt;button style=&quot;width: 100%; font-size: 15pt; text-align: left; position: relative; top: 220pt; border:none; padding: 7pt;outline: none; &quot; id=&quot;settings&quot;&gt;Settings&lt;/button&gt;         &lt;button style=&quot;width: 100%; font-size: 15pt; text-align: left; position: relative; top: 220pt; border: none; padding: 7pt;outline: none;  &quot; id=&quot;settings&quot;&gt;About&lt;/button&gt;         &lt;button style=&quot;width: 100%; font-size: 15pt; text-align: left; position: relative; top: 220pt; border: none; padding: 7pt;outline: none;  &quot; id=&quot;settings&quot;&gt;Commands&lt;/button&gt;     &lt;/div&gt;          &lt;div id=&quot;user-input&quot;&gt;         &lt;form&gt;             &lt;textarea id=&quot;input&quot; placeholder=&quot;Ask me something&quot; title=&quot;ask aurora&quot;&gt;&lt;/textarea&gt;         &lt;/form&gt;         &lt;button id=&quot;send&quot; title=&quot;send text&quot;&gt;Send&lt;/button&gt;     &lt;/div&gt;     &lt;script src=&quot;eel.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;script2.js&quot;&gt;&lt;/script&gt;           &lt;/body&gt; &lt;/html&gt; </code></pre> <p>Please help me!!!</p>"	2021-01-02 14:34:18.13 UTC	65547559	"<p>all functions decorated with @eel.expose must be between eel.init and eel.start.</p> <p>Try using the following line:</p> <pre><code>eel.init('eel', allowed_extensions=['.js', '.html']) </code></pre> <p>This will look for exposed functions in all js and html files contained in your eel folder.</p>"			2021-01-03 07:25:37.867 UTC
65546679	javascript|python	converting javascript function to python with comma operator	"<p>I have the following javascript code</p> <pre><code>var d = Math.random(),    k = parseInt((1e3 * d)/2),    s = d + &quot;&quot; </code></pre> <p>output of d : <code>0.6715250159864421</code></p> <p>Similarly, I have the python code that I was able to write up and as close to</p> <pre><code>d, k, s = random.random(), int((1e3*random.random()/2)), d + '' </code></pre> <p>The output are completely different.</p> <pre><code>0.8018834108596731 </code></pre> <p>Am I not using the comma operator properly</p> <p>PS: I understand output is going to be different, however I want to validate that my python code is correctly translated to the shown JS snippet.</p>"	2021-01-03 04:38:01.207 UTC	65547190	"<p>In your Python code you're not using <code>d</code> when you calculate <code>k</code>, you're calculating a different random number.</p> <p>In Python you can't concatenate strings with numbers. JS is using that to convert the number to a string, in Python you do that with the <code>str()</code> function.</p> <p>The translation should be:</p> <pre><code>d = random.random() k = int(1e3 * d) / 2 s = str(d) </code></pre> <p>In Python 3.8 you could use the &quot;walrus&quot; operator to assign to <code>d</code> in a one-liner</p> <pre><code>k, s = int(1e3 * (d := random.random())) / 2, str(d) </code></pre> <p>But this is confusing, so I don't recommend it.</p>"			2021-01-03 06:21:46.413 UTC
65548187	javascript|python|selenium-chromedriver	How can I run my pure python (.py) file from javascript file	"<p>I am creating a website which scrapes data from a site and displays that data in my site. I used selenium for scraping and this is purely written in python which converts scraped data to JSON. I used Javascript to fetch data from JSON and display it in HTML.</p> <p>Now there are two things what I want to ask.</p> <p>Firstly, how can I run that python file in web browser via web hosting.</p> <p>Secondly, what I want is that every day my Javascript code run that python file so that whenever website is updated, the updated data is displayed in my website also.</p> <p>Can anyone guide me how I can run Python file from Javascript. I also viewed Brython but it doesn't run my python(.py). Here's how I used Brython</p> <p>These are the js files imported in head</p> <pre><code>&lt;script src=&quot;/brython.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/brython_stdlib.js&gt;&lt;/script&gt; </code></pre> <p>And here in body tag I give reference to my python file</p> <pre><code>&lt;body onload=&quot;brython()&quot;&gt;      &lt;script type=&quot;text/python&quot; src=&quot;webScrapper.py&quot;&gt; &lt;/body&gt; </code></pre> <p>But nothing happens.</p> <p>Hope my question is clear. Thanks in advance for your brainstorming ideas</p>"	2021-01-03 09:09:51.593 UTC	65548783	"<p>Well, I don't think you can run python script on a web browser using js. But what you can do is spawn python as a child process from a node js server.  I have done something similar. I ran ruby script from a nodejs.</p> <p>You can find the code here. you just have to make minor changes</p> <p><a href=""https://github.com/thealpha93/spawn-child-process.git"" rel=""nofollow noreferrer"">https://github.com/thealpha93/spawn-child-process.git</a></p>"			2021-01-03 10:27:46.053 UTC
65548322	javascript|python|machine-learning|pickle	Converting machine learning code in python to javascript	"<p>I've implemented a machine learning model using scikit-learn in python. Since I want to use this code in a browser (as I'm developing a chrome extension and want the application to work completely in the client side), I'd like to convert the same code to javascript.</p> <p>This is my python code :</p> <pre><code>import pickle import pandas as pd from sklearn.feature_extraction.text import CountVectorizer  input_ = 'input string' logreg = pickle.load(open('logreg.sav', 'rb')) count_vectorizer = pickle.load(open('count_vectorizer.sav', 'rb')) count_test = count_vectorizer.transform(pd.Series(input_)) result = logreg.predict(count_test) print(result) </code></pre> <p>Code mostly involves loading the trained models saved as a pickle file. Is it possible to convert this to javascript or should I try implementing ML models in javascript again ?</p>"	2021-01-03 09:32:59.017 UTC	65549476	"<p><em>A different approach (If you really don't want to implement the model again with Javascript)</em></p> <p><strong>Make a Django server</strong> and render your model's <strong>prediction using REST API</strong>, then you could <strong>host that site</strong> into any free hosting services such as Heroku. Then you could easily <strong>access your model</strong> from Javascript by simply <strong>doing an API call</strong>.</p>"			2021-01-03 11:48:09.303 UTC
65552950	javascript|python|encryption	Is this Python function able to be be converted to Javascript?	"<p>I am working with ciphers; encrypting and decrypting and I'm currently working with the <a href=""https://www.geeksforgeeks.org/polybius-square-cipher/"" rel=""nofollow noreferrer"">Polybius Cipher</a> with the modern Latin alphabet. For example, the letters 'a' is the 2-digit code, '11' and 'abc' is '11 12 13'.</p> <p>I have found a solution in Python:</p> <pre><code># Python Program to implement polybius cipher     # function to display polybius cipher text  def polybiusCipher(s):             # convert each character to its encrypted code          for char in s:                                 # finding row of the table                  row = int((ord(char) - ord('a')) / 5) + 1                            # finding column of the table                   col = ((ord(char) - ord('a')) % 5) + 1                    # if character is 'k'                  if char == 'k':                          row = row - 1                         col = 5 - col + 1                                            # if character is greater than 'j'                  elif ord(char) &gt;= ord('j'):                          if col == 1 :                              col = 6                             row = row - 1                                                        col = col - 1                                            print(row, col, end ='', sep ='') </code></pre> <p>I am trying to convert it and keep getting <code>NaN</code> as I am misusing something, or multiple things. Here is what I have so far:</p> <pre><code>function polybius(input, encode = true) {   for (let i = 0; i &lt; input.length; i++) {     let letter = input[i];      let row = letter.charCodeAt(0 - letter.charCodeAt(97)) / 5 + 1;      let col = letter.charCodeAt(0 - (letter.charCodeAt(97) % 5)) + 1;      if (letter.charCodeAt(0) === letter.charCodeAt(107)) {       row = row - 1;       col = 5 - col + 1;     } else if (letter.charCodeAt(0) &gt;= letter.charCodeAt(106)) {       if (col === 1) {         col = 6;         row = row - 1;       }       col = col - 1;     }     return `${row}${col} `;   } }  </code></pre>"	2021-01-03 17:41:04.777 UTC	65553081	"<p><code>let row = letter.charCodeAt(i - letter.charCodeAt('a')) / 5 + 1;</code> is not correct since the char code of the letter itself is <code>letter.charCodeAt(0)</code> and the char code of <code>'a'</code> is <code>'a'.charCodeAt(0)</code>. Moreover, you need to use <code>Math.floor</code> to round down.</p> <p>Thus, it should be <code>let row = Math.floor((letter.charCodeAt(0) - 'a'.charCodeAt(0)) / 5) + 1;</code>.</p> <p>There is a similar problem with the <code>col</code> initialization and it should be <code>let col = (letter.charCodeAt(0) - 'a'.charCodeAt(0)) % 5 + 1;</code>.</p> <p>Next, to check if the letter is <code>k</code>, there is no need to compare char codes, you can directly use <code>letter === 'k'</code>. For the comparison to see if the letter is greater than or equal to <code>'j'</code>, a similar issue exists and you can directly use <code>&gt;= 'j'</code>.</p> <p>Finally, you return in the first iteration of the loop, so it will only run once. Instead, you can build a string to output or return at the end.</p> <pre><code>function polybius(input, encode = true) {   let str = '';   for (let i = 0; i &lt; input.length; i++) {     let letter = input[i];      let row = Math.floor((letter.charCodeAt(0) - 'a'.charCodeAt(0)) / 5) + 1;      let col = (letter.charCodeAt(0) - 'a'.charCodeAt(0)) % 5 + 1;      if (letter === 'k') {       row = row - 1;       col = 5 - col + 1;     } else if (letter &gt;= 'j') {       if (col === 1) {         col = 6;         row = row - 1;       }       col = col - 1;     }    str += `${row}${col} `;   }   console.log(str); } </code></pre>"			2021-01-03 17:55:56.713 UTC
65562035	python|rest|flask|swagger|flask-restx	Python REST-API with Flask-RestX and JavaScript REST-Client served together	"<p>I run this example: <a href=""https://flask-restx.readthedocs.io/en/latest/example.html"" rel=""nofollow noreferrer"">https://flask-restx.readthedocs.io/en/latest/example.html</a> (A Python REST-API with Flask-RESTX)</p> <h2>Code snippet</h2> <pre><code>app = Flask(__name__) api = Api(app, ...) ns = api.namespace('todos', ...)  @ns.route('/') ... @ns.route('/&lt;int:id&gt;') ... </code></pre> <h2>Result</h2> <p>I get the following URLs for the REST-API:</p> <p><a href=""http://127.0.0.1:5000"" rel=""nofollow noreferrer"">http://127.0.0.1:5000</a> -&gt; Swagger Documentation</p> <p><a href=""http://127.0.0.1:5000/swagger.json"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/swagger.json</a></p> <p><a href=""http://127.0.0.1:5000/todos/"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/todos/</a></p> <p><a href=""http://127.0.0.1:5000/todos/%7Bid%7D"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/todos/{id}</a></p> <h2>Question</h2> <p>I would like to implement a Webclient with Javascript, which should be reached under following URLs:</p> <p><a href=""http://127.0.0.1:5000"" rel=""nofollow noreferrer"">http://127.0.0.1:5000</a> -&gt; index.html</p> <p><a href=""http://127.0.0.1:5000/style.css"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/style.css</a></p> <p><a href=""http://127.0.0.1:5000/app.js"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/app.js</a></p> <p>The URLs for the REST-API should change to:</p> <p><a href=""http://127.0.0.1:5000/api"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api</a> -&gt; Swagger Documentation</p> <p><a href=""http://127.0.0.1:5000/api/swagger.json"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/swagger.json</a></p> <p><a href=""http://127.0.0.1:5000/api/todos/"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/todos/</a></p> <p><a href=""http://127.0.0.1:5000/api/todos/%7Bid%7D"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/todos/{id}</a></p> <p>How can I expand the example to generate the wanted URLs?</p>"	2021-01-04 11:36:29.06 UTC	66225378	"<p>You can wrap flask-restx application with flask.Blueprint to move swagger logic under a specific url_path.</p> <p>The following example shows how this can be achieved:</p> <pre class=""lang-py prettyprint-override""><code> import flask import flask_restx   APP = flask.Flask(&quot;my-app&quot;) api_bp = flask.Blueprint(&quot;api&quot;, __name__, url_prefix=&quot;/api&quot;)  API = flask_restx.Api(api_bp) APP.register_blueprint(api_bp)   NAMESPACE = API.namespace(&quot;todos&quot;)   @NAMESPACE.route(&quot;/&quot;) class TODOSAPI(flask_restx.Resource):     def get(self):         return ['todo-1', 'todo-2']   </code></pre>"			2021-02-16 13:34:28.193 UTC
65562035	python|rest|flask|swagger|flask-restx	Python REST-API with Flask-RestX and JavaScript REST-Client served together	"<p>I run this example: <a href=""https://flask-restx.readthedocs.io/en/latest/example.html"" rel=""nofollow noreferrer"">https://flask-restx.readthedocs.io/en/latest/example.html</a> (A Python REST-API with Flask-RESTX)</p> <h2>Code snippet</h2> <pre><code>app = Flask(__name__) api = Api(app, ...) ns = api.namespace('todos', ...)  @ns.route('/') ... @ns.route('/&lt;int:id&gt;') ... </code></pre> <h2>Result</h2> <p>I get the following URLs for the REST-API:</p> <p><a href=""http://127.0.0.1:5000"" rel=""nofollow noreferrer"">http://127.0.0.1:5000</a> -&gt; Swagger Documentation</p> <p><a href=""http://127.0.0.1:5000/swagger.json"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/swagger.json</a></p> <p><a href=""http://127.0.0.1:5000/todos/"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/todos/</a></p> <p><a href=""http://127.0.0.1:5000/todos/%7Bid%7D"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/todos/{id}</a></p> <h2>Question</h2> <p>I would like to implement a Webclient with Javascript, which should be reached under following URLs:</p> <p><a href=""http://127.0.0.1:5000"" rel=""nofollow noreferrer"">http://127.0.0.1:5000</a> -&gt; index.html</p> <p><a href=""http://127.0.0.1:5000/style.css"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/style.css</a></p> <p><a href=""http://127.0.0.1:5000/app.js"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/app.js</a></p> <p>The URLs for the REST-API should change to:</p> <p><a href=""http://127.0.0.1:5000/api"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api</a> -&gt; Swagger Documentation</p> <p><a href=""http://127.0.0.1:5000/api/swagger.json"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/swagger.json</a></p> <p><a href=""http://127.0.0.1:5000/api/todos/"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/todos/</a></p> <p><a href=""http://127.0.0.1:5000/api/todos/%7Bid%7D"" rel=""nofollow noreferrer"">http://127.0.0.1:5000/api/todos/{id}</a></p> <p>How can I expand the example to generate the wanted URLs?</p>"	2021-01-04 11:36:29.06 UTC	65767480	"<p>Not sure if you have gotten an answer by now. I often clone the below github project for flask restx boilerplate. It is designed as a rest boilerplate to help get you up and running.</p> <p><a href=""https://github.com/cosmic-byte/flask-restplus-boilerplate"" rel=""nofollow noreferrer"">https://github.com/cosmic-byte/flask-restplus-boilerplate</a></p> <p>The templates and static files can be added to the application and to the controllers to host the pages. Added the below documentation for the static pages. Every this should be there to get you running with a full site</p> <p><a href=""https://flask.palletsprojects.com/en/1.1.x/tutorial/static/"" rel=""nofollow noreferrer"">https://flask.palletsprojects.com/en/1.1.x/tutorial/static/</a></p>"			2021-01-18 00:41:19.993 UTC
65563252	javascript|python|html|jquery|flask	pass a dictionary from javascript function to flask python function: always a None	"<p>We're creating a web application using Flask. On one html page, users answer some questions (using <code>&lt;form&gt;</code>). During this process, they are asked to click a button on the page for a few times when they receive random popup notifications. In the <code>.html</code> file, we write javascript functions to save the timestamps of users clicking on the button into an array.</p> <p>We hope to store both the user's answers and the timestamps of clicking the button. Now from <code>.html</code> to <code>.py</code>, we pass answers using <code>request.form</code> and pass the array of timestamps using ajax json (<code>request.json</code>). The <code>request.form</code> works very well but the <code>request.json</code> always gives a <code>None</code>. We have tried <code>request.get_json()</code>, <code>request.get_json(force=True)</code>, <code>request.get_json(silent=True)</code>, but none of them works.</p> <p>Our codes are like the following:</p> <p>in <code>trial.py</code>:</p> <pre><code>from flask import (Blueprint, flash, g, redirect, render_template, request, url_for, jsonify, json) from werkzeug.exceptions import abort import csv from flaskr.db import get_db  bp = Blueprint('trial', __name__, url_prefix='/trial')  @bp.route('', methods=('GET', 'POST')) def trial():     if request.method == 'POST':         if &quot;Q1&quot; in request.form:             ## this part retrieves data from request.form              ## skip the details in the following             db = get_db()             db.execute(                     'INSERT INTO trial (...)', (...))             db.commit()          timestamps = request.json         print(timestamps)  ### This is always a None     return render_template('study/trial.html') </code></pre> <p>In <code>trial.html</code>:</p> <pre><code>{% extends 'base.html' %}  {% block header %}   &lt;h1&gt;{% block title %}Trial{% endblock %}&lt;/h1&gt; {% endblock %}  {% block content %}    &lt;!-- Skip non-related details in the following --&gt;    &lt;button class=&quot;NotificationButton&quot; onclick=&quot;popup()&quot;&gt;I Got A Notification&lt;/button&gt;    &lt;div&gt;     &lt;form name=&quot;TrialQuestions&quot; id=&quot;TrialQuestions&quot; method=&quot;post&quot;&gt;       &lt;!-- skip the details of the questions and input for answers --&gt;                                                  &lt;/form&gt;   &lt;/div&gt;    &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;   &lt;script&gt;window.jQuery || document.write('&lt;script src=&quot;{{url_for('static', filename='jquery.js') }}&quot;&gt;\x3C/script&gt;')&lt;/script&gt;      &lt;script&gt;     var timestamps = {&quot;trial&quot;:[]};      function playAudio() {        &lt;!-- skip non-related details --&gt;       timestamps[&quot;trial&quot;].push(remaining);     }       function popup(){       &lt;!-- skip non-related details --&gt;       timestamps[&quot;trial&quot;].push(remaining);     }      function timeUp(){       document.TrialQuestions.submit();       $.ajax({         type: &quot;POST&quot;,         url: &quot;{{ url_for(&quot;trial.trial&quot;) }}&quot;,         contentType: &quot;application/json&quot;,         data: JSON.stringify(timestamps),         dataType: &quot;json&quot;,         success: function(response) {         console.log(response);         },         error: function(err) {         console.log(err);         }       });       alert(&quot;Time Is Up! Your Answers Have Been Submitted!&quot;);     }    &lt;/script&gt; {% endblock %} </code></pre> <p>The <code>console.log(response);</code> in <code>trial.html</code> works well, but the <code>timestamps = request.json</code> in <code>trial.py</code> always gives a <code>None</code>. We have searched and tried the suggestions from the following posts but none of them solves the problem:</p> <ol> <li><a href=""https://stackoverflow.com/questions/53694709/passing-javascript-array-in-python-flask"">Passing Javascript array in Python Flask</a></li> <li><a href=""https://stackoverflow.com/questions/10434599/get-the-data-received-in-a-flask-request"">Get the data received in a Flask request</a></li> <li><a href=""https://www.codegrepper.com/code-examples/typescript/how+to+send+information+from+javascript+to+flask+route"" rel=""nofollow noreferrer"">How to send information from javascript to flask route</a></li> </ol> <p>Can anyone give some hints? Thanks a lot!</p>"	2021-01-04 13:09:43.547 UTC	65565937	"<p>Your form submit results in the page being reloaded and the template being transmitted again as html from the server.</p> <p>An asynchronous javascript request is only ended when the callback for success or error is called. The transmission of the data is not waited for.</p> <pre><code>function timeUp() {   console.log(&quot;sending data to &quot; + &quot;{{ url_for('trial.trial') }}&quot;)    $.ajax({     type: &quot;POST&quot;,     url: &quot;{{ url_for('trial.trial') }}&quot;,     contentType: &quot;application/json&quot;,     data: JSON.stringify(timestamps),     dataType: &quot;json&quot;,     success: function(response) {       console.log(response);       // The data has now been successfully transferred.              // document.TrialQuestions.submit();     },     error: function(err) {       console.log(err);     }   }); } </code></pre> <p>When specifying the data type, the query expects exactly this as an answer. See also <a href=""https://api.jquery.com/jquery.ajax/"" rel=""nofollow noreferrer"">here</a>.<br /> For this reason, I am returning a response in json format.</p> <pre><code>from flask import render_template, request, jsonify  @bp.route('/', methods=('GET', 'POST')) def trial():     if request.method == 'POST':         print('got a post request')          if request.is_json: # application/json             # handle your ajax request here!             print('got json:', request.json)             return jsonify(success=True) # answer as json         else:              # handle your form submit here!             print(request.form)     return render_template('trial.html') </code></pre> <hr /> <p>AJAX has the advantage that you can send and load data sets without reloading and rendering the whole page.</p> <p>Within a transmission, the data is formatted in a predefined format. When you submit a form you use the type &quot;application/x-www-form-urlencoded&quot; or &quot;multipart/form-data&quot;. For JSON it is &quot;application/json&quot;.<br /> Depending on the selected format, either the query &quot;request.json&quot; returns a &quot;None&quot; or &quot;request.form&quot; is an empty dictionary.</p> <p>The structure of your data set depends on your requirements.<br /> The following is a suggestion that is similar to the original approach of a form.</p> <pre><code>function timeUp() {   const data = {     &quot;data&quot;: $(&quot;form[name='TrialQuestions']&quot;).serializeArray().map(elem =&gt; {       return [elem[&quot;name&quot;], elem[&quot;value&quot;]];     }),     &quot;ts&quot;: timestamps,   };    $.ajax({     type: &quot;POST&quot;,     url: &quot;{{ url_for('trial.trial') }}&quot;,     contentType: &quot;application/json&quot;,     data: JSON.stringify(data),     dataType: &quot;json&quot;,     success: function(response) {       console.log(response);     },     error: function(err) {       console.log(err);     }   }); } </code></pre> <hr /> <p>Should you just want to send a form, for example because you want to do a redirect. Add one or more hidden fields to the form and fill in their value before submitting.</p> <pre><code>&lt;form name=&quot;TrialQuestions&quot; method=&quot;post&quot;&gt;   &lt;label for=&quot;q1&quot;&gt;Question 1&lt;/label&gt;   &lt;input name=&quot;q1&quot; id=&quot;q1&quot; value=&quot;a1&quot; /&gt;   &lt;input name=&quot;ts&quot; type=&quot;hidden&quot; /&gt; &lt;/form&gt;  &lt;script&gt;   function timeUp() {     document.forms[&quot;TrialQuestions&quot;][&quot;ts&quot;].value = timestamps.join();     document.forms[&quot;TrialQuestions&quot;].submit();   } &lt;/script&gt; </code></pre>"			2021-01-04 16:12:51.26 UTC
65563252	javascript|python|html|jquery|flask	pass a dictionary from javascript function to flask python function: always a None	"<p>We're creating a web application using Flask. On one html page, users answer some questions (using <code>&lt;form&gt;</code>). During this process, they are asked to click a button on the page for a few times when they receive random popup notifications. In the <code>.html</code> file, we write javascript functions to save the timestamps of users clicking on the button into an array.</p> <p>We hope to store both the user's answers and the timestamps of clicking the button. Now from <code>.html</code> to <code>.py</code>, we pass answers using <code>request.form</code> and pass the array of timestamps using ajax json (<code>request.json</code>). The <code>request.form</code> works very well but the <code>request.json</code> always gives a <code>None</code>. We have tried <code>request.get_json()</code>, <code>request.get_json(force=True)</code>, <code>request.get_json(silent=True)</code>, but none of them works.</p> <p>Our codes are like the following:</p> <p>in <code>trial.py</code>:</p> <pre><code>from flask import (Blueprint, flash, g, redirect, render_template, request, url_for, jsonify, json) from werkzeug.exceptions import abort import csv from flaskr.db import get_db  bp = Blueprint('trial', __name__, url_prefix='/trial')  @bp.route('', methods=('GET', 'POST')) def trial():     if request.method == 'POST':         if &quot;Q1&quot; in request.form:             ## this part retrieves data from request.form              ## skip the details in the following             db = get_db()             db.execute(                     'INSERT INTO trial (...)', (...))             db.commit()          timestamps = request.json         print(timestamps)  ### This is always a None     return render_template('study/trial.html') </code></pre> <p>In <code>trial.html</code>:</p> <pre><code>{% extends 'base.html' %}  {% block header %}   &lt;h1&gt;{% block title %}Trial{% endblock %}&lt;/h1&gt; {% endblock %}  {% block content %}    &lt;!-- Skip non-related details in the following --&gt;    &lt;button class=&quot;NotificationButton&quot; onclick=&quot;popup()&quot;&gt;I Got A Notification&lt;/button&gt;    &lt;div&gt;     &lt;form name=&quot;TrialQuestions&quot; id=&quot;TrialQuestions&quot; method=&quot;post&quot;&gt;       &lt;!-- skip the details of the questions and input for answers --&gt;                                                  &lt;/form&gt;   &lt;/div&gt;    &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;   &lt;script&gt;window.jQuery || document.write('&lt;script src=&quot;{{url_for('static', filename='jquery.js') }}&quot;&gt;\x3C/script&gt;')&lt;/script&gt;      &lt;script&gt;     var timestamps = {&quot;trial&quot;:[]};      function playAudio() {        &lt;!-- skip non-related details --&gt;       timestamps[&quot;trial&quot;].push(remaining);     }       function popup(){       &lt;!-- skip non-related details --&gt;       timestamps[&quot;trial&quot;].push(remaining);     }      function timeUp(){       document.TrialQuestions.submit();       $.ajax({         type: &quot;POST&quot;,         url: &quot;{{ url_for(&quot;trial.trial&quot;) }}&quot;,         contentType: &quot;application/json&quot;,         data: JSON.stringify(timestamps),         dataType: &quot;json&quot;,         success: function(response) {         console.log(response);         },         error: function(err) {         console.log(err);         }       });       alert(&quot;Time Is Up! Your Answers Have Been Submitted!&quot;);     }    &lt;/script&gt; {% endblock %} </code></pre> <p>The <code>console.log(response);</code> in <code>trial.html</code> works well, but the <code>timestamps = request.json</code> in <code>trial.py</code> always gives a <code>None</code>. We have searched and tried the suggestions from the following posts but none of them solves the problem:</p> <ol> <li><a href=""https://stackoverflow.com/questions/53694709/passing-javascript-array-in-python-flask"">Passing Javascript array in Python Flask</a></li> <li><a href=""https://stackoverflow.com/questions/10434599/get-the-data-received-in-a-flask-request"">Get the data received in a Flask request</a></li> <li><a href=""https://www.codegrepper.com/code-examples/typescript/how+to+send+information+from+javascript+to+flask+route"" rel=""nofollow noreferrer"">How to send information from javascript to flask route</a></li> </ol> <p>Can anyone give some hints? Thanks a lot!</p>"	2021-01-04 13:09:43.547 UTC	65568440	"<p>... update to the question from myself.</p> <p>As posted in the question, <code>request.form</code> can work but <code>request.json</code> will give a &quot;None&quot;.</p> <p>Following Detlef's approach, according to what I tried on my side, <code>request.json</code> can work but <code>request.form</code> will give a &quot;None&quot;. Please correct me if I mistaken anything.</p> <p>So, now I propose a trade-off approach: package the form and the timestamps into one ajax JSON object. The code is now like this:</p> <pre><code>  &lt;div&gt;     &lt;form name=&quot;TrialQuestions&quot; id=&quot;TrialQuestions&quot;&gt;         &lt;label for=&quot;Q1&quot;&gt;Question 1&lt;/label&gt;       &lt;input name=&quot;Q1&quot; id=&quot;Q1&quot;&gt;        &lt;!-- skip the questions --&gt;                                                   &lt;/form&gt;   &lt;/div&gt;    &lt;script&gt;   var TrialQuestionAnswers = [];   var timestamps = [];   var formAndTimestamps = [];      function timeUp(){       TrialQuestionAnswers = [document.getElementById(&quot;Q1&quot;).value, ..., document.getElementById(&quot;Q13&quot;).value];       formAndTimestamps.push(TrialQuestionAnswers);       formAndTimestamps.push(timestamps);        $.ajax({         type: &quot;POST&quot;,         url: &quot;{{ url_for(&quot;trial.trial&quot;) }}&quot;,         contentType: &quot;application/json&quot;,         data: JSON.stringify(formAndTimestamps),         dataType: &quot;json&quot;,         success: function(response) {         console.log(response);         },         error: function(err) {         console.log(err);         }       });       alert(&quot;Time Is Up! Your Answers Have Been Submitted!&quot;);     }   &lt;/script&gt; </code></pre> <p>It can work, but maybe this is not the most efficient solution. Better idea is much appreciated!</p>"			2021-01-04 19:12:04.37 UTC
65585131	javascript|python	Is there a Javascript equivalent to the Python string constants?	"<p>I was looking for a Javascript equivalent to the constant string.<strong>ascii_lowercase</strong> <code>'abcdefghijklmnopqrstuvwxyz'</code>, but I haven't been able to find any.</p> <p>It is no trouble to implement it myself. I found it useful in Python and now that I am working with Javascript I'd be happy to discover if something similar exists, and where to find it.</p>"	2021-01-05 19:11:57.6 UTC	65585291	"<p>You can play with this by changing the number before 97. There many other ways, but this one is easy to remember:</p> <pre><code>String.fromCharCode(0+97)  // 'a' String.fromCharCode(1+97)  // 'b' . . . String.fromCharCode(25+97) // 'z' </code></pre>"			2021-01-05 19:24:56.65 UTC
65585131	javascript|python	Is there a Javascript equivalent to the Python string constants?	"<p>I was looking for a Javascript equivalent to the constant string.<strong>ascii_lowercase</strong> <code>'abcdefghijklmnopqrstuvwxyz'</code>, but I haven't been able to find any.</p> <p>It is no trouble to implement it myself. I found it useful in Python and now that I am working with Javascript I'd be happy to discover if something similar exists, and where to find it.</p>"	2021-01-05 19:11:57.6 UTC	65585216	"<p>The short answer is no: such a constant does not appear to exist in Javascript. There are several ways of generating such a constant (i.e. <a href=""https://stackoverflow.com/questions/24597634/how-to-generate-an-array-of-alphabet-in-jquery"">How to generate an array of alphabet in jQuery?</a>) or also just manually entering it, but as of right now there is no function which returns that shorthand in native JS.</p>"			2021-01-05 19:19:04.273 UTC
65585131	javascript|python	Is there a Javascript equivalent to the Python string constants?	"<p>I was looking for a Javascript equivalent to the constant string.<strong>ascii_lowercase</strong> <code>'abcdefghijklmnopqrstuvwxyz'</code>, but I haven't been able to find any.</p> <p>It is no trouble to implement it myself. I found it useful in Python and now that I am working with Javascript I'd be happy to discover if something similar exists, and where to find it.</p>"	2021-01-05 19:11:57.6 UTC	65585223	"<p>According to <a href=""https://rosettacode.org/wiki/Generate_lower_case_ASCII_alphabet#JavaScript"" rel=""nofollow noreferrer"">https://rosettacode.org/wiki/Generate_lower_case_ASCII_alphabet#JavaScript</a> there's no  easy constant like what you're looking for. The Python example on that page just uses <code>string.ascii_lowercase</code>, so I'd assume if there was a better option, that one would have been used instead.</p>"			2021-01-05 19:19:25.27 UTC
65590661	javascript|python|concurrency|promise|async-await	Difference between JavaScript and Python Promise / Awaitable Evaluation	"<p>I've been trying to learn the JS concurrency model given a background in Python's.</p> <p>Running the following in Python:</p> <pre><code>async def myFunction():     print(&quot;abc&quot;)  myFunction() </code></pre> <p>will print nothing. Running the following in JavaScript:</p> <pre><code>async function myFunction() {     console.log(&quot;abc&quot;) }  myFunction() </code></pre> <p>will print <code>&quot;abc&quot;</code>. In both cases I did not <code>await</code> <code>myFunction</code>, yet the evaluations were different.</p> <p>I understand why the Python program prints nothing. <code>myFunction</code> is a coroutine function that resolves to nothing, more specifically it returns an <code>Awaitable[None]</code>. But to actually have this awaitable's side effect executed, I must await it.</p> <p>I have also read <a href=""https://stackoverflow.com/questions/35177230/are-promises-lazily-evaluated"">Are promises lazily evaluated?</a> with an answer of no, talking about how the eager evaluation of promises is guaranteed.</p> <p>Even though I've looked at both concurrency models separately, their difference is still confusing. While general clarity about the contrast here would be very helpful, I also do have a specific question: Is there ever a point to awaiting a <code>Promise</code> in JavaScript that resolves to nothing, and should only execute for its side effect? In other words, do <code>await myFunction()</code> and <code>myFunction()</code> possibly have a difference in behavior in a different case, even though they both gave the same output here?</p>"	2021-01-06 05:26:46.78 UTC	65625707	"<p>Inside an async function all the asynchronous operations are done by using an await in front of it.</p> <p>If there is an await in front of a promise, then the we wait until the async operation is completed and then continue the remaining code execution.</p> <p>If we don't use await infront of an async operation, we don't resolve the promise and continue.</p> <p>Await in front of a synchronous operation has no effect.</p> <pre><code>// Case I  const test = async() =&gt; {      let res = fetch(&quot;http://localhost:3000&quot;);      console.log(res);      console.log(&quot;It is working&quot;);      // We dont wait for the http request to complete,      // We print res as a &lt;&lt;promise&gt;&gt;       // and continue to the next line and print &quot;It is working&quot;. }   test();  // Case II  const test = async() =&gt; {    let res = await fetch(&quot;http://localhost:3000&quot;);    console.log(res);    console.log(&quot;It is working&quot;);   // We wait for the http request completion.    // After that we print the result.   // Then print ===&gt; It is working }  test();     ()=&gt; {} // stands for an anonymous function also know as Fat arrow function. </code></pre> <p>You use await in front of a function only if it returns a promise. If it returns a promise, we wait for the promise to resolve and continue code execution. If it doesn't returns a promise, default behavior is expected.</p> <pre><code>    const test = () =&gt; {      return fetch(&quot;http://localhost:3000&quot;);      }      let testingAsynFunc = async() =&gt; {         let a = await test();         //Here we wait until the promise is resolved and then continue the code execution.         console.log(a);         console.log(&quot;working&quot;); }  testingAsyncFunc() </code></pre>"			2021-01-08 08:35:48 UTC
65590661	javascript|python|concurrency|promise|async-await	Difference between JavaScript and Python Promise / Awaitable Evaluation	"<p>I've been trying to learn the JS concurrency model given a background in Python's.</p> <p>Running the following in Python:</p> <pre><code>async def myFunction():     print(&quot;abc&quot;)  myFunction() </code></pre> <p>will print nothing. Running the following in JavaScript:</p> <pre><code>async function myFunction() {     console.log(&quot;abc&quot;) }  myFunction() </code></pre> <p>will print <code>&quot;abc&quot;</code>. In both cases I did not <code>await</code> <code>myFunction</code>, yet the evaluations were different.</p> <p>I understand why the Python program prints nothing. <code>myFunction</code> is a coroutine function that resolves to nothing, more specifically it returns an <code>Awaitable[None]</code>. But to actually have this awaitable's side effect executed, I must await it.</p> <p>I have also read <a href=""https://stackoverflow.com/questions/35177230/are-promises-lazily-evaluated"">Are promises lazily evaluated?</a> with an answer of no, talking about how the eager evaluation of promises is guaranteed.</p> <p>Even though I've looked at both concurrency models separately, their difference is still confusing. While general clarity about the contrast here would be very helpful, I also do have a specific question: Is there ever a point to awaiting a <code>Promise</code> in JavaScript that resolves to nothing, and should only execute for its side effect? In other words, do <code>await myFunction()</code> and <code>myFunction()</code> possibly have a difference in behavior in a different case, even though they both gave the same output here?</p>"	2021-01-06 05:26:46.78 UTC	65671405	"<pre class=""lang-py prettyprint-override""><code>async def myFunction():     print(&quot;abc&quot;)  awaitable = myFunction() </code></pre> <p>In Python, <code>myFunction()</code> returns an awaitable. The code hasn't run yet. It only runs when you execute a method (<code>.send()</code>) on the awaitable:</p> <pre class=""lang-py prettyprint-override""><code>awaitable.send(None) </code></pre> <p>You typically don't use <code>.send()</code>, these mechanics are hidden. You will just use <code>await myFunction()</code> or <code>asyncio.get_event_loop().run_until_complete(myFunction())</code>, and this will execute the function's code behind the scenes.</p> <p>In JavaScript, an async function returns a promise. The MDN JS reference <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"" rel=""nofollow noreferrer"">says</a>:</p> <blockquote> <p>Promises in JavaScript represent processes that are already happening</p> </blockquote> <p>So when you call the async function in JavaScript, the function's code starts running, and <strong>at some point</strong> a promise is returned. Here's what the MDN JS reference <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function"" rel=""nofollow noreferrer"">says about it</a>:</p> <blockquote> <p>The body of an async function can be thought of as being split by zero or more await expressions. Top-level code, up to and including the first await expression (if there is one), is run synchronously. In this way, an async function without an await expression will run synchronously. If there is an await expression inside the function body, however, the async function will always complete asynchronously.</p> </blockquote> <p>Given all this, I don't see why you would await an async JS function if you only wanted its side effect (unless the caller needs the side effect to have occurred before proceeding).</p>"			2021-01-11 17:06:49.473 UTC
65593813	python	What is the Python Equivalent function of Javascript Map()?	<p>I am searching for a python equivalent code/function for the below javascript code.</p> <pre><code>let nameSetFlagMap = new Map(); </code></pre>	2021-01-06 10:10:28.72 UTC	73784713	"<p>Both answers above are wrong because they do not have the same behavior as Map() from js</p> <hr /> <pre class=""lang-py prettyprint-override""><code>from collections import OrderedDict asd = OrderedDict()  asd2 = []  asd[asd2] = 123  asd2.append(444)  print(asd)  print(asd[asd2]) </code></pre> <p>output:</p> <pre><code>Traceback (most recent call last):   File &quot;/home/nikel/asd.py&quot;, line 10, in &lt;module&gt;     asd[asd2] = 123 TypeError: unhashable type: 'list' </code></pre> <hr /> <pre class=""lang-py prettyprint-override""><code>from collections import OrderedDict asd = OrderedDict()  asd2 = {}  asd[asd2] = 123  asd2.append(444)  print(asd)  print(asd[asd2]) </code></pre> <p>output:</p> <pre><code>Traceback (most recent call last):   File &quot;/home/nikel/asd.py&quot;, line 10, in &lt;module&gt;     asd[asd2] = 123 TypeError: unhashable type: 'list' </code></pre> <hr /> <pre class=""lang-js prettyprint-override""><code>asd = new Map()  asd[555] = 666  asd2 = []   asd[asd2] = 123  asd2.push(444)  console.log(asd)  console.log(asd[asd2]) </code></pre> <p>output:</p> <pre><code>Map(0) { '555': 666, '': 123 } 123 </code></pre> <p>I'm currently searching for analog too, so will update after I will find it.</p> <p>But according to <a href=""https://stackoverflow.com/a/7257711/12634253"">this answer</a> looks like it is impossible.</p>"			2022-09-20 09:47:34.753 UTC
65593813	python	What is the Python Equivalent function of Javascript Map()?	<p>I am searching for a python equivalent code/function for the below javascript code.</p> <pre><code>let nameSetFlagMap = new Map(); </code></pre>	2021-01-06 10:10:28.72 UTC	65593869	"<p>what you are looking for would be Dictionary.</p> <pre><code>nameSetFlagMap={} #or nameSetFlagMap=dict() </code></pre> <p>you can learn more about them <a href=""https://www.w3schools.com/python/python_dictionaries.asp"" rel=""nofollow noreferrer"">here</a></p>"			2021-01-06 10:16:01.503 UTC
65593813	python	What is the Python Equivalent function of Javascript Map()?	<p>I am searching for a python equivalent code/function for the below javascript code.</p> <pre><code>let nameSetFlagMap = new Map(); </code></pre>	2021-01-06 10:10:28.72 UTC	65593923	"<p><a href=""https://docs.python.org/3/library/collections.html#collections.OrderedDict"" rel=""nofollow noreferrer"">Ordered dictionary</a></p> <pre><code>from collections import OrderedDict  nameSetFlagMap = OrderedDict() nameSetFlagMap[&quot;a&quot;] = &quot;a&quot; nameSetFlagMap[&quot;b&quot;] = &quot;b&quot; </code></pre>"			2021-01-06 10:19:40.173 UTC
65613827	javascript|python|api|raspberry-pi|api-design	Using a python output in javascript	"<p>We want to send a boolean value from python to javascript so we can use it in our html website.</p> <p>We tried using sockets but thats too complicated for us. Our next thought was to use an api and we know how to get information from an api using javascript. What we want to do is post a python boolean value to an api, and then get the boolean value from the api using javascript. But we don't know how to do so.</p> <p>We are using a raspberry pi for all our code and a hardware-button which returns true in python when pressed.</p> <p>We are currently testing code we found from <a href=""https://healeycodes.com/javascript/python/beginners/webdev/2019/04/11/talking-between-languages.html"" rel=""nofollow noreferrer"">https://healeycodes.com/javascript/python/beginners/webdev/2019/04/11/talking-between-languages.html</a></p> <p>But this code doesnt work for us. We are also using pycharm as our workspace, is this a problem?</p> <p>Our current code in javascript:</p> <pre><code>    const request = new XMLHttpRequest();     request.open(&quot;GET&quot;, url, true);     request.onreadystatechange = function() {         if (request.readyState === 4 &amp;&amp; request.status === 200) {             success(JSON.parse(request.responseText));         }     };     request.send();      setInterval(get(&quot;button-status.json&quot;, receiveStatus), 3000); }   function receiveStatus(response) {     if (response.status !== status) {  // only do something if status has changed         status = response.status;         console.log('button status is now', status);     } } let status; // checks every 100ms get() </code></pre> <p>Our python code we're using for testing:</p> <pre><code>import random import json import time button_status = False path = (r&quot;C:\Users\Sam\Desktop\pythonProject\pythonflask\emplates&quot;)  # replace with your actual path  def save_button_status():     with open(path + &quot;/button-status.json&quot;, &quot;w&quot;) as f:         json.dump({'status': button_status}, f)    while True :     value = random.randrange(1, 10)     if ( value &lt;= 5) :         button_status = True         save_button_status()         time.sleep(3)     else :         button_status = False         save_button_status()         time.sleep(3)      print(button_status) </code></pre>"	2021-01-07 14:04:47.023 UTC	65614927	<p>You can try to set up a SQL Database. Write a SQL statement in Python to receive your boolean. After that make a PHP script on your Web server to receive the SQL data. Then sent a request to the URL of the PHP script using an XHTTP JavasScript request.</p>			2021-01-07 15:09:03.603 UTC
65613827	javascript|python|api|raspberry-pi|api-design	Using a python output in javascript	"<p>We want to send a boolean value from python to javascript so we can use it in our html website.</p> <p>We tried using sockets but thats too complicated for us. Our next thought was to use an api and we know how to get information from an api using javascript. What we want to do is post a python boolean value to an api, and then get the boolean value from the api using javascript. But we don't know how to do so.</p> <p>We are using a raspberry pi for all our code and a hardware-button which returns true in python when pressed.</p> <p>We are currently testing code we found from <a href=""https://healeycodes.com/javascript/python/beginners/webdev/2019/04/11/talking-between-languages.html"" rel=""nofollow noreferrer"">https://healeycodes.com/javascript/python/beginners/webdev/2019/04/11/talking-between-languages.html</a></p> <p>But this code doesnt work for us. We are also using pycharm as our workspace, is this a problem?</p> <p>Our current code in javascript:</p> <pre><code>    const request = new XMLHttpRequest();     request.open(&quot;GET&quot;, url, true);     request.onreadystatechange = function() {         if (request.readyState === 4 &amp;&amp; request.status === 200) {             success(JSON.parse(request.responseText));         }     };     request.send();      setInterval(get(&quot;button-status.json&quot;, receiveStatus), 3000); }   function receiveStatus(response) {     if (response.status !== status) {  // only do something if status has changed         status = response.status;         console.log('button status is now', status);     } } let status; // checks every 100ms get() </code></pre> <p>Our python code we're using for testing:</p> <pre><code>import random import json import time button_status = False path = (r&quot;C:\Users\Sam\Desktop\pythonProject\pythonflask\emplates&quot;)  # replace with your actual path  def save_button_status():     with open(path + &quot;/button-status.json&quot;, &quot;w&quot;) as f:         json.dump({'status': button_status}, f)    while True :     value = random.randrange(1, 10)     if ( value &lt;= 5) :         button_status = True         save_button_status()         time.sleep(3)     else :         button_status = False         save_button_status()         time.sleep(3)      print(button_status) </code></pre>"	2021-01-07 14:04:47.023 UTC	65635890	"<p>Javascript within a webpage cannot directly run a Python script on your computer or read information from a local terminal. What you could do is have your Python program output a small json file to your localhost folder which is overwritten when the button is pressed or released, like this:</p> <pre><code>import json button_status = False   # assuming it is initially off path = &quot;path/to/your/localhost/folder&quot;  # replace with your actual path  def save_button_status():     with open(path + &quot;/button-status.json&quot;, &quot;w&quot;) as f:         json.dump({'status': button_status}, f)  # Then call save_button_status() whenever the status changes </code></pre> <p>Then in your javascript, set an interval to periodically call a function that gets this json file and does something based on the value if it has changed:</p> <pre><code>function get(url, success) {     //--- Get JSON data at the given URL and call `success` if successful     const request = new XMLHttpRequest();     request.open(&quot;GET&quot;, url, true);     request.onreadystatechange = function() {         if (request.readyState === 4 &amp;&amp; request.status === 200) {             success(JSON.parse(request.responseText));         }        };     request.send(); }  function receiveStatus(response) {     if (response.status !== status) {  // only do something if status has changed         status = response.status;         console.log('button status is now', status);     } } let status; let interval = setInterval(() =&gt; get(&quot;button-status.json&quot;, receiveStatus), 100); // checks every 100ms </code></pre> <p>There may be some lag as your local server updates the file.</p>"			2021-01-08 20:22:04.18 UTC
65636169	javascript|python|http|axios	How to replicate Python HTTP request inside Javascript without getting CORS error?	"<p>I'm able to make this request without any error using python:</p> <pre><code>async def send_request():          session = aiohttp.ClientSession()     body = {         'client_id': 'play-valorant-web-prod',         'nonce': '1',         'redirect_uri': 'https://playvalorant.com/opt_in',         'response_type': 'token id_token',     }     response = await session.post('https://auth.riotgames.com/api/v1/authorization', json=body)     print(response) </code></pre> <p>But then I try doing the same thing inside my website using Javascript and Axios:</p> <pre><code>async function send_request() {     const data = {         &quot;client_id&quot;: &quot;play-valorant-web-prod&quot;,         &quot;nonce&quot;: &quot;1&quot;,         &quot;redirect_uri&quot;: &quot;https://playvalorant.com/opt_in&quot;,         &quot;response_type&quot;: &quot;token id_token&quot;     }      const response = await axios.post('https://auth.riotgames.com/api/v1/authorization', data)     console.log(response) } </code></pre> <p>And I get the following error:</p> <pre><code>Access to XMLHttpRequest at 'https://auth.riotgames.com/api/v1/authorization' from origin  'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't  pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. </code></pre> <p>Is there a way of making this request from my website?</p> <p>Many thanks!</p>"	2021-01-08 20:46:17.657 UTC	65643331	"<p>Modern browser has restrction to fetch resource when you use XMLHTTPReques or fetchAPI in you website. So if you own the hosts(in you case is &quot;auth.riotgames.com&quot;),you juse add CORS headers in HTTP response, there are serveral header you may notice:</p> <ul> <li>Access-Control-Allow-Origin: the origin you want to allow, '*' repersent all origin allowed and notice protocorl should be present as for example &quot;http://www.stackoverflow.com&quot; and &quot;https://www.stackoverflow.com&quot; are two differenct origin.</li> <li>Access-Control-Allow-Methods: the HTTP Method allowed for the request</li> <li>Access-Control-Allow-Headers: the server determine weather it want to accept the request when the heders set in.</li> <li>Access-Control-Allow-Credentials: the server wantt o accept the request with cookie in request not not.</li> </ul> <p>some case is more complex than that like you use content-type applicaton/json, browser make preflight with OPTIONS request before send real request.you my accpet request in server.you may also handle that.</p> <p>another approch's you just make a proxy which host as same domain with you webiste, same protocol, domain, port. proxy server handles all request from webiste and refirect to the real one.</p> <p>Hope this useful to you.</p>"			2021-01-09 13:41:07.257 UTC
65638971	javascript|python|python-3.x	Javascript CryptoJS HmacSHA256 in Python?	"<p>Is it possible to write these functions in Python?</p> <pre><code>var hash = CryptoJS.HmacSHA256(&quot;Message&quot;, &quot;Secret Passphrase&quot;); var v = hash.toString(CryptoJS.enc.Hex) </code></pre> <p>Thanks in advance.</p>"	2021-01-09 03:07:57.26 UTC	65638993	"<p>Yes, using <code>hmac</code> and <code>hashlib</code> from the standard library.</p> <pre><code>import hashlib import hmac  message = b&quot;Message&quot; key = b&quot;Secret Passphrase&quot;  h = hmac.new(key, message, hashlib.sha256) print(h.hexdigest()) </code></pre> <p>Gives output <code>32c647602ab4c4c7543e9c50ae25e567c3354e1532b11649ce308e6e2568d205</code>, which is identical to <code>v</code> in answer.</p>"			2021-01-09 03:13:56.827 UTC
65671455	python|html|web	Passing Python variable to JavaScript	"<p>I am trying to execute some JavaScript code through Python.</p> <pre><code>def home():     code = &quot;&quot;&quot;     var regexp = new RegExp(/playerCaptionsTracklistRenderer.*?(youtube.com\/api\/timedtext.*?)&quot;/);     var url = regexp.exec(document.body.innerHTML)[1];     open(&quot;caption.py?url=&quot; + encodeURIComponent(url));     &quot;&quot;&quot;     code = quote(code, safe='~()*!.\'')     return &quot;&quot;&quot;&lt;a href=&quot;javascript:(function(){ code })()&quot;&gt;YouTube Transcriber&lt;/a&gt;&quot;&quot;&quot; </code></pre> <p>As I understand, variables from Python must be passing to JavaScript automatically, but I get the following exception in last line in JavaScript:</p> <p><code>Uncaught ReferenceError: code is not defined</code></p>"	2021-01-11 17:10:08.783 UTC	65671576	"<p>Inside your <code>return</code> statement, inside the JS function, there is literally the word &quot;code&quot;, which is undefined. You probably wanted to enter the value of the variable <code>code</code> in which case you need to break the string apart, and add the <code>code</code> variable in between like this:</p> <pre class=""lang-py prettyprint-override""><code>return &quot;&quot;&quot;&lt;a href=&quot;javascript:(function(){&quot;&quot;&quot; + str(code) + &quot;&quot;&quot;})()&quot;&gt;YouTube Transcriber&lt;/a&gt;&quot;&quot;&quot; </code></pre>"			2021-01-11 17:18:28.4 UTC
65671455	python|html|web	Passing Python variable to JavaScript	"<p>I am trying to execute some JavaScript code through Python.</p> <pre><code>def home():     code = &quot;&quot;&quot;     var regexp = new RegExp(/playerCaptionsTracklistRenderer.*?(youtube.com\/api\/timedtext.*?)&quot;/);     var url = regexp.exec(document.body.innerHTML)[1];     open(&quot;caption.py?url=&quot; + encodeURIComponent(url));     &quot;&quot;&quot;     code = quote(code, safe='~()*!.\'')     return &quot;&quot;&quot;&lt;a href=&quot;javascript:(function(){ code })()&quot;&gt;YouTube Transcriber&lt;/a&gt;&quot;&quot;&quot; </code></pre> <p>As I understand, variables from Python must be passing to JavaScript automatically, but I get the following exception in last line in JavaScript:</p> <p><code>Uncaught ReferenceError: code is not defined</code></p>"	2021-01-11 17:10:08.783 UTC	65671505	"<p>You aren't telling python to put the contents of <code>code</code> into your returned string. You could do it like this:</p> <pre><code>return &quot;&quot;&quot;&lt;a href=&quot;javascript:(function(){ &quot;&quot;&quot; + code + &quot;&quot;&quot; })()&quot;&gt;YouTube Transcriber&lt;/a&gt;&quot;&quot;&quot; </code></pre> <p>You can't just put a variable name in a string and expect its contents to be automatically put into the string. It's not clear why you would expect that to happen. It's something you explicitly have to do, via either string formatting, or concatenation.</p>"			2021-01-11 17:13:38.693 UTC
65689097	javascript|arrays	How do i generate and sum up random numbers from an array in javascript and python	"<p>I have a function that takes an array and a target number. The goal is two generate any two random numbers from the array and sum them up. If the sum of the two random integers is equal to the target number, I then have to return the index of the two random numbers in the array.</p> <p>Here is my code so far, I keep getting a stderr. How do you recommend I go about this.</p> <pre><code>function twoSum (numbers, target) {   let numIdx = [];   let sum = 0;   let firstValue = 0;   let secValue = 0    while(sum !== target) {     firstValue = Math.floor(Math.random() * numbers.length);     secValue = Math.floor(Math.random() * numbers.length);     sum = firstValue + secValue;          if (sum === target) {       numIdx.push(numbers[firstValue])       numIdx.push(numbers[secValue])       return numIdx     }   } } </code></pre>"	2021-01-12 17:38:32.063 UTC	65689264	"<p>currently you are summing the <code>indexes</code> and returning <code>values</code>. I think this may be issue.</p> <p>try</p> <pre><code>sum = numbers[firstValue] + numbers[secValue];  and   return [firstValue, secValue] </code></pre> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function twoSum (numbers, target, max_trials = 100) {   let sum = 0;   let first = 0;   let sec = 0   let trials = 0;      const rand = () =&gt; Math.floor(Math.random() * numbers.length);    while(sum !== target &amp;&amp; trials++ &lt; max_trials ) {     first = rand();     sec = rand();     sum = numbers[first] + numbers[sec];          if (sum === target) {       console.log('Trials: ', trials)       return [first, sec];     }   }   console.log('Trials maxed out: ', trials) }  const data = [1, 4, 7, 3, 11, 9]; const target = 15; // expecting 1, 4  console.log(twoSum(data, target))</code></pre> </div> </div> </p>"			2021-01-12 17:49:42.43 UTC
65689097	javascript|arrays	How do i generate and sum up random numbers from an array in javascript and python	"<p>I have a function that takes an array and a target number. The goal is two generate any two random numbers from the array and sum them up. If the sum of the two random integers is equal to the target number, I then have to return the index of the two random numbers in the array.</p> <p>Here is my code so far, I keep getting a stderr. How do you recommend I go about this.</p> <pre><code>function twoSum (numbers, target) {   let numIdx = [];   let sum = 0;   let firstValue = 0;   let secValue = 0    while(sum !== target) {     firstValue = Math.floor(Math.random() * numbers.length);     secValue = Math.floor(Math.random() * numbers.length);     sum = firstValue + secValue;          if (sum === target) {       numIdx.push(numbers[firstValue])       numIdx.push(numbers[secValue])       return numIdx     }   } } </code></pre>"	2021-01-12 17:38:32.063 UTC	65689268	"<h3>Solution</h3> <ul> <li>Generate two indices with random number in the boundaries of the length of your array.</li> <li>Sum up the values at the indices when the sum is equal to target then return the indices.</li> </ul> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function twoSum(numbers, target) {   let numIdx = [];   let sum = 0;      while (sum !== target) {     let firstIndic = getRandomInt(numbers.length);     let firstValue = numbers[firstIndic];     let secIndic = getRandomInt(numbers.length);     let secValue = numbers[secIndic];     sum = firstValue + secValue;      if (sum === target) {       numIdx.push(firstIndic)       numIdx.push(secIndic)       return numIdx     }   } }   function getRandomInt(max) {   return Math.floor(Math.random() * Math.floor(max)); }  console.log(twoSum([   12,   5,   4,   9 ], 21));</code></pre> </div> </div> </p>"			2021-01-12 17:50:01.153 UTC
65689097	javascript|arrays	How do i generate and sum up random numbers from an array in javascript and python	"<p>I have a function that takes an array and a target number. The goal is two generate any two random numbers from the array and sum them up. If the sum of the two random integers is equal to the target number, I then have to return the index of the two random numbers in the array.</p> <p>Here is my code so far, I keep getting a stderr. How do you recommend I go about this.</p> <pre><code>function twoSum (numbers, target) {   let numIdx = [];   let sum = 0;   let firstValue = 0;   let secValue = 0    while(sum !== target) {     firstValue = Math.floor(Math.random() * numbers.length);     secValue = Math.floor(Math.random() * numbers.length);     sum = firstValue + secValue;          if (sum === target) {       numIdx.push(numbers[firstValue])       numIdx.push(numbers[secValue])       return numIdx     }   } } </code></pre>"	2021-01-12 17:38:32.063 UTC	65689396	"<p>Loop through array of numbers</p> <p>Then for each one of those numbers loop through again and check if <code>number1</code> + <code>number2</code> is equal to your <code>target</code> and also that <code>number1</code> and <code>number2</code> arent at the same position in the array (unless that's okay with you)</p> <p>and return each index</p> <pre class=""lang-js prettyprint-override""><code>function twoSum(numbers, target) {   // Loop through the array of numbers   for (let i = 0; i &lt; numbers.length; i++) {     const number1 = numbers[i];      for (let j = 0; j &lt; numbers.length; j++) {       const number2 = numbers[j];       // Check if number1 + number2 is equal to target and also make sure number1 and number2 aren't at the same index in the array       if (number1 + number2 === target &amp;&amp; i !== j) {         return `index 1: ${i}, index 2: ${j}`       }     }   } } </code></pre> <p>for instance calling this <code>twoSum([1,2,3], 4)</code> would result in <code>index 1: 0, index 2: 2</code></p>"			2021-01-12 17:57:38.113 UTC
65689097	javascript|arrays	How do i generate and sum up random numbers from an array in javascript and python	"<p>I have a function that takes an array and a target number. The goal is two generate any two random numbers from the array and sum them up. If the sum of the two random integers is equal to the target number, I then have to return the index of the two random numbers in the array.</p> <p>Here is my code so far, I keep getting a stderr. How do you recommend I go about this.</p> <pre><code>function twoSum (numbers, target) {   let numIdx = [];   let sum = 0;   let firstValue = 0;   let secValue = 0    while(sum !== target) {     firstValue = Math.floor(Math.random() * numbers.length);     secValue = Math.floor(Math.random() * numbers.length);     sum = firstValue + secValue;          if (sum === target) {       numIdx.push(numbers[firstValue])       numIdx.push(numbers[secValue])       return numIdx     }   } } </code></pre>"	2021-01-12 17:38:32.063 UTC	65689634	"<pre><code>var arr=[2,5,3,4,7]; var num=5; function twoSum (numbers, target) {   let numIdx = [];   let sum = 0;   let firstValue = 0;   let secValue = 0    while(sum !== target) {     firstValue = Math.floor(Math.random() * Math.floor(numbers.length));     let f1=numbers[firstValue];     secValue = Math.floor(Math.random() * Math.floor(numbers.length));     let f2=numbers[secValue];     sum = f1 + f2;          if (sum === target) {       numIdx.push(firstValue)       numIdx.push(secValue)       return numIdx     }   } } document.write(twoSum(arr,num)); </code></pre>"			2021-01-12 18:12:45.093 UTC
65730803	python|selenium|selenium-webdriver	How to work with links that use javascript:window.location using Selenium in Python	"<p>I have dabbled with bits of simple code over the years. I am now interested in automating some repetitive steps in a web based CRM used at work. I tried a few automation tools. I was not able to get AutoIT to to work with the Chrome webdriver. I then tried WinTask and did not make meaningful progress. I started exploring Python and Selenium last week.</p> <p>I now have automated the first few steps of my project by Googling about each step I wanted to achieve, learning from pages on Stackflow and other sites. Where I need help is that most of the links in the CRM are some sort of javascript links. Most of the text links or images have links that are formatted like this...</p> <p>javascript:window.location = 'Reports/ResponseTimes.aspx?from=1%2f14%2f2021&amp;to=1%2f14%2f2021&amp;target=gn';</p> <p>It looks like the many find_element_by functions in Selenium do not interact with the javascript links. Tonight I found a page that directed me to use... driver.execute_script(javaScript) ...Eventually I found an example that made it clear I should enter the javascript link into that function. This works...</p> <p>driver.execute_script(&quot;window.location = 'Reports/ResponseTimes.aspx?from=1%2f14%2f2021&amp;to=1%2f14%2f2021&amp;target=gn';&quot;)</p> <p>My issue is that I see now that the javascript links are actually and dynamically generated. In the code above the link gets updated with dates based on the current date. I can't reuse the driver.execute_script() code above since the dates have to be updated.</p> <p>My hope is to find a way to code so that I can locate the javascript links I need based on some part of the link that does not change. The link above always has &quot;target=gn&quot; at the end and that is unique enough that if I could find and pull the current version of the link into a variable and then run it in driver.execute_script(), I believe that would solve my current issue.</p> <p>I expect a solution could then be used in the next step I need to perform, where there a list of new leads that all needs to be updated in a manner that tells the system a human has reviewed the lead and &quot;stopped the clock&quot;. To view each lead, there are more javascript links. Each link is unique since it includes a value that is the record number for the lead. Here's the first two...</p> <p>javascript:top.viewItem(971244899); javascript:top.viewItem(971312602);</p> <p>I imagine that being able to search the page for some or all of... javascript:top.viewItem( ...in order to create a variable for... javascript:top.viewItem(971244899); ...so that it can be placed in... driver.execute_script() ...is the approach that is needed.</p> <p>Thanks for any suggestions. I have made many searches on this site and Google for phrases that might teach me more about working with javascript links. I am asking for guidance since I have not been able to move forward on my own. Here's my current code...</p> <pre><code>import selenium PATH = &quot;C:\Program Files (x86)\chromedriver.exe&quot; from selenium import webdriver from selenium.webdriver.common.keys import Keys import time  driver = webdriver.Chrome(PATH) driver.get(&quot;https://apps.vinmanager.com/cardashboard/login.aspx&quot;) # log in time.sleep(1) search = driver.find_element_by_name(&quot;username&quot;) search.send_keys(&quot;xxx&quot;) search.send_keys(Keys.RETURN) time.sleep(2) search = driver.find_element_by_name(&quot;password&quot;) search.send_keys(&quot;xxx&quot;) search.send_keys(Keys.RETURN) time.sleep(1) # close news pop-up driver.find_element_by_link_text(&quot;Close&quot;).click() time.sleep(2) # Nav to left pane driver.switch_to.frame('leftpaneframe') # Leads at No Contact link driver.execute_script(&quot;window.location = 'Reports/ResponseTimes.aspx?from=1%2f14%2f2021&amp;to=1%2f14%2f2021&amp;target=gn';&quot;) </code></pre>"	2021-01-15 05:08:16.38 UTC	65836949	"<p>Eventually I found enough info online to recognize that I needed to replace the &quot;//a&quot; tag in the xpath find method with the proper tag, which was &quot;//area&quot; in my case and then extract the href so that I could execute it...</p> <pre><code>## click no contact link ## print('click no contact link...') cncl = driver.find_element_by_xpath(&quot;//area[contains(@href,'target=gn')]&quot;).get_attribute('href') time.sleep(2) driver.execute_script(cncl) </code></pre>"			2021-01-21 22:53:13.037 UTC
65754054	javascript|node.js|cbc-mode|cmac	aes-cmac in javascript not giving the same results as in python	"<p>I'm writing code to read/write to NTAG424 DNA NFC tags. I'm doing this completely in javascript, because I want to be able to use it in a react native app.</p> <p>In <a href=""https://www.nxp.com/docs/en/application-note/AN12196.pdf"" rel=""nofollow noreferrer"">NTAG 424 DNA and NTAG 424 DNA TagTamper features and hints</a> they show the results you should be getting for every step. But they use a python solution.</p> <p>The input message is <code>A55A0001008013C56268A548D8FBBF237CCCAA20EC7E6E48C3DEF9A4C675360F</code> and the output (according to the manual) is <code>1309C877509E5A215007FF0ED19CA564</code>. Whereas I get <code>7CCEF6FEB32F34CA48CB685ECAA0F32C</code>.</p> <p>Because I need to be able to use this code commercially, I cannot just use any library.</p> <pre><code>function generateSubkeys(key) {   const cipher = crypto.createCipheriv(&quot;aes-128-ecb&quot;, key, &quot;&quot;);    const cryptedKey = cipher.update(iv);    let subkey1 = bt.bitShiftLeft(cryptedKey);   if (msb(cryptedKey[0]) &amp; 0x80) {     subkey1 = xor(subkey1, 0x87);   }    let subkey2 = bt.bitShiftLeft(subkey1);   if (msb(subkey1[0]) &amp; 0x80) {     subkey2 = xor(subkey2, 0x87);   }   return { subkey1: subkey1, subkey2: subkey2 }; }  function msb(bytes) {   return bytes &gt;&gt;&gt; 31; } function aes(key, message) {   const cipher = crypto.createCipheriv(     &quot;aes-&quot; + key.length * 8 + &quot;-cbc&quot;,     key,     iv   );    var result = cipher.update(message);   cipher.final();    return result; }  function aesCmac(key, message) {   const { subkey1, subkey2 } = generateSubkeys(Buffer.from(key, &quot;hex&quot;));   let numBlocks = Math.ceil(message.length / blockSize);   var lastBlockRemainder = message.length % blockSize;    if (numBlocks === 0) {     numBlocks = 1;   }    var messageArray = getMessageArray(message, numBlocks, lastBlockRemainder);   if (lastBlockRemainder === 0) {     messageArray[numBlocks - 1] = xor(messageArray[numBlocks - 1], subkey1);   } else {     messageArray[numBlocks - 1] = xor(messageArray[numBlocks - 1], subkey2);   }    var c = aes(     key,     Buffer.concat(messageArray.slice(0, messageArray.length - 1))   );   let c_xor_m = xor(c, messageArray[messageArray.length - 1]);   c = aes(key, c_xor_m);    return c; }  function getMessageArray(message, numBlocks, lastBlockRemainder) {   var index = 0;   var messageArray = [];   if (lastBlockRemainder !== 0) {     let padding = &quot;80&quot; + &quot;00&quot;.repeat(16 - lastBlockRemainder - 1);     let appendToMessage = Buffer.from(padding, &quot;hex&quot;);     message = Buffer.concat([message, appendToMessage]);   }   for (index = 0; index &lt; numBlocks; index++) {     let messageBlock = message.slice(       index * blockSize,       (index + 1) * blockSize     );     messageArray.push(messageBlock);   }    return messageArray; } </code></pre> <p>I already tried the one mentioned here <a href=""https://stackoverflow.com/questions/24000834/aes-cmac-module-for-node-js"">AES-CMAC module for Node.js?</a> and completely rewriting the code to my own version of an AES-CMAC algorithm. In both the one I tried and the one I made (with the help of <a href=""https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38b.pdf"" rel=""nofollow noreferrer"">NIST Special Publication 800-38B</a>), I get the same results.</p> <p>Now I'm stuck between thinking either my code is wrong, or the <a href=""https://github.com/pycrypto/pycrypto/blob/master/lib/Crypto/Hash/CMAC.py"" rel=""nofollow noreferrer"">python crypto library</a> (where I don't completely understand the code) is wrong.</p> <p>Can anyone help me figure out which of the two is true? And in case my code is wrong, help me fix it.</p>"	2021-01-16 19:55:40.397 UTC	65899244	"<p>I found the answer: The Crypto library in javascript has an aes-cbc cipher, that says (and it does) accepts buffers and arrays. But the outcomes of both are different.</p> <p>When I used a UInt8Array I got the right outcome. I completely rewrote an aes-cmac algorithm, just to figure out this what all I needed.</p>"			2021-01-26 10:03:05.423 UTC
65771772	javascript|python|selenium|popup	"python selenium, get over javascript popup"	"<p><strong>I'm working on a project and I have to go to a site and drop a soy there. I am trying to do this using the Python selenium module, but when I enter the site with a bot, I get a popup (an acceptance form about cookies). I cannot achieve what I am trying to do without pressing accept.</strong></p> <p><a href=""https://i.stack.imgur.com/Ckoka.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ckoka.png"" alt=""enter image description here"" /></a></p> <p><strong>I checked the network section of the site and found the site containing cookies, when I enter that site the code works properly and it succeeds in pushing the accept cookies button, but this does not work for me because it cannot even find the accept button on the main site, I know it is not because it is written in javascript, but i don't know how to do this.</strong></p> <p>Anyway, let's get to the code part.</p> <p><a href=""https://speech-to-text-demo.ng.bluemix.net/"" rel=""nofollow noreferrer"">on the site I'm trying to login</a></p> <p><a href=""https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#"" rel=""nofollow noreferrer"">the site that sent the cookie form the site uses</a></p> <p>this code works for <a href=""https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#"" rel=""nofollow noreferrer"">this</a>:</p> <pre><code>from selenium import webdriver import time from bs4 import BeautifulSoup from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys  option = webdriver.ChromeOptions() option.add_argument('--disable-notifications') option.add_argument(&quot;--mute-audio&quot;)  driver = webdriver.Chrome(&quot;chromedriver.exe&quot;, options=option)   driver.get('https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#')   time.sleep(10) driver.find_elements_by_class_name(&quot;call&quot;)[0].click() </code></pre> <p><strong>but it doesn't work for the other, how can I get this to work for the other too?</strong></p>"	2021-01-18 09:24:57.413 UTC	66197469	"<p><strong>@The Pilot Dude 's answer works in a way, but it can't be said to be very dynamic so:</strong></p> <p><strong>I went to the site with original chrome and accepted cookies and saved these cookies. When I had to re-enter the site later, I reloaded the cookies.</strong></p> <p><strong>for download cookies:</strong></p> <pre><code>import pickle import time from selenium import webdriver  option = webdriver.ChromeOptions() option.add_argument(&quot;--disable-notifications&quot;) option.add_argument(&quot;--mute-audio&quot;) option.add_argument(&quot;user-data-dir=C:\\Users\\___*******__\\AppData\Local\\Google\\Chrome\\User Data&quot;) driver = webdriver.Chrome(options = option)  driver.get('https://speech-to-text-demo.ng.bluemix.net/')  time.sleep(10)#in this time I accepted cookies  pickle.dump(driver.get_cookies(), open(&quot;cookies.pkl&quot;,&quot;wb&quot;))#for download cookies </code></pre> <p><strong>and after that I can use cookies for chromedriver.exe</strong></p> <p><strong>for use cookies:</strong></p> <pre><code>import pickle from selenium import webdriver  option = webdriver.ChromeOptions() option.add_argument(&quot;--disable-notifications&quot;) option.add_argument(&quot;--mute-audio&quot;) driver = webdriver.Chrome(&quot;chromedriver.exe&quot;, options = option)  driver.get('https://speech-to-text-demo.ng.bluemix.net/')  file = open(&quot;cookies.pkl&quot;,&quot;rb&quot;) cookies = pickle.load(file) for cookie in cookies:     driver.add_cookie(cookie)#for use cookies file.close() </code></pre>"			2021-02-14 16:27:49.323 UTC
65771772	javascript|python|selenium|popup	"python selenium, get over javascript popup"	"<p><strong>I'm working on a project and I have to go to a site and drop a soy there. I am trying to do this using the Python selenium module, but when I enter the site with a bot, I get a popup (an acceptance form about cookies). I cannot achieve what I am trying to do without pressing accept.</strong></p> <p><a href=""https://i.stack.imgur.com/Ckoka.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ckoka.png"" alt=""enter image description here"" /></a></p> <p><strong>I checked the network section of the site and found the site containing cookies, when I enter that site the code works properly and it succeeds in pushing the accept cookies button, but this does not work for me because it cannot even find the accept button on the main site, I know it is not because it is written in javascript, but i don't know how to do this.</strong></p> <p>Anyway, let's get to the code part.</p> <p><a href=""https://speech-to-text-demo.ng.bluemix.net/"" rel=""nofollow noreferrer"">on the site I'm trying to login</a></p> <p><a href=""https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#"" rel=""nofollow noreferrer"">the site that sent the cookie form the site uses</a></p> <p>this code works for <a href=""https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#"" rel=""nofollow noreferrer"">this</a>:</p> <pre><code>from selenium import webdriver import time from bs4 import BeautifulSoup from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys  option = webdriver.ChromeOptions() option.add_argument('--disable-notifications') option.add_argument(&quot;--mute-audio&quot;)  driver = webdriver.Chrome(&quot;chromedriver.exe&quot;, options=option)   driver.get('https://consent-pref.trustarc.com/?type=jefftest_ibm&amp;site=ibm.com&amp;action=notice&amp;country=tr&amp;locale=tr&amp;behavior=expressed&amp;gtm=1&amp;layout=default_eu&amp;irm=undefined&amp;from=https://consent.trustarc.com/#')   time.sleep(10) driver.find_elements_by_class_name(&quot;call&quot;)[0].click() </code></pre> <p><strong>but it doesn't work for the other, how can I get this to work for the other too?</strong></p>"	2021-01-18 09:24:57.413 UTC	65771897	"<p>You could use pyautogui instead to stimulate the click:</p> <pre class=""lang-py prettyprint-override""><code>import pyautogui  pyautogui.click(x=100, y=200) </code></pre>"			2021-01-18 09:32:54.73 UTC
65778367	javascript|python|meta-tags	How to get Meta Description tag of a web page using python or javascript	<p>I am tryin to make a programme which can get the <code>&lt;meta&gt; name=&quot;Description&quot; content=&quot;something....&quot;&lt;/meta&gt;</code> of an url. But I am not able to do it. Can somone please help me with it!</p>	2021-01-18 16:24:57.523 UTC	65778447	"<p>You can use BeautifulSoup:</p> <pre><code>import bs4  # Retrieve html  soup = bs4.BeautifulSoup(html) results = soup.find(&quot;meta&quot;, {&quot;name&quot; : &quot;Description&quot;}) </code></pre>"			2021-01-18 16:30:20.64 UTC
65778367	javascript|python|meta-tags	How to get Meta Description tag of a web page using python or javascript	<p>I am tryin to make a programme which can get the <code>&lt;meta&gt; name=&quot;Description&quot; content=&quot;something....&quot;&lt;/meta&gt;</code> of an url. But I am not able to do it. Can somone please help me with it!</p>	2021-01-18 16:24:57.523 UTC	65778588	"<p>In the browser you can use <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector"" rel=""nofollow noreferrer""><code>document.querySelector</code></a></p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const author = document.querySelector(""meta[name='author']""); const title = document.querySelector(""meta[name='title']"");  console.log(author.content); console.log(title.content);</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;meta name=""author"" content=""me &lt;author@me.example&gt;""&gt; &lt;meta name=""title"" content=""foo""&gt;</code></pre> </div> </div> </p>"			2021-01-18 16:38:14.497 UTC
65778367	javascript|python|meta-tags	How to get Meta Description tag of a web page using python or javascript	<p>I am tryin to make a programme which can get the <code>&lt;meta&gt; name=&quot;Description&quot; content=&quot;something....&quot;&lt;/meta&gt;</code> of an url. But I am not able to do it. Can somone please help me with it!</p>	2021-01-18 16:24:57.523 UTC	65778484	"<p>you must use <code>beautifulsoup</code>. With code below you are good to go I guess</p> <pre><code>from bs4 import BeautifulSoup import urllib.request  soup = BeautifulSoup(urllib.request.urlopen(&quot;your link&quot;), 'html.parser') meta_part = soup.find(&quot;meta&quot;) </code></pre>"			2021-01-18 16:32:47.803 UTC
65785224	javascript	Python and Javascript differences on flattening a nested array	"<p>I'm trying to learn js, but I know python. This code works in python:</p> <pre><code>def steamrollArray(arr):     narr =[]     for i in range(len(arr)):         if type(arr[i]) is list:             narr += steamrollArray(arr[i])         else:             narr.append(arr[i])     return narr </code></pre> <p>However this similar code in javascript does not work</p> <pre><code>function steamrollArray(arr) {   var narr = []   for(let i = 0;i&lt;arr.length;i++){     if (Array.isArray(arr[i])){ narr.concat(steamrollArray(arr[i]))}     else{{narr.push(arr[i])}}   }   return narr } </code></pre> <p>I'm trying to understand why this algorithm doesn't work in JS. Any help is appreciated.</p> <p>edit: I'm aware of built in methods for flattening an array in JS. I'm trying to learn JS on FreeCodeCamp and so am trying different challenges. I'm not trying so much to learn how to flatten an array as much as learn why this code works in python but not in JS so that i can better understand JS.</p>"	2021-01-19 03:48:03.777 UTC	65785237	"<p>In JavaScript you have a built-in array method called flat(): <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat</a>, try this:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let arr = [[1, 2], [3, 4]] console.log(arr.flat(2))</code></pre> </div> </div> </p> <p>Also you can use reduce() method and concat(), with an empty array as initial value:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let arr = [[1, 2], [3, 4]] console.log(arr.reduce((acc, elem) =&gt; acc.concat(elem), []));</code></pre> </div> </div> </p>"			2021-01-19 03:50:56.067 UTC
65785224	javascript	Python and Javascript differences on flattening a nested array	"<p>I'm trying to learn js, but I know python. This code works in python:</p> <pre><code>def steamrollArray(arr):     narr =[]     for i in range(len(arr)):         if type(arr[i]) is list:             narr += steamrollArray(arr[i])         else:             narr.append(arr[i])     return narr </code></pre> <p>However this similar code in javascript does not work</p> <pre><code>function steamrollArray(arr) {   var narr = []   for(let i = 0;i&lt;arr.length;i++){     if (Array.isArray(arr[i])){ narr.concat(steamrollArray(arr[i]))}     else{{narr.push(arr[i])}}   }   return narr } </code></pre> <p>I'm trying to understand why this algorithm doesn't work in JS. Any help is appreciated.</p> <p>edit: I'm aware of built in methods for flattening an array in JS. I'm trying to learn JS on FreeCodeCamp and so am trying different challenges. I'm not trying so much to learn how to flatten an array as much as learn why this code works in python but not in JS so that i can better understand JS.</p>"	2021-01-19 03:48:03.777 UTC	65786160	"<p>because <code>Array.concat</code> method returns a new array but it do not modifies the original one. Check the example:</p> <pre class=""lang-js prettyprint-override""><code>var a = []; a.concat(1); console.log(a); </code></pre> <p>try this instead</p> <pre class=""lang-js prettyprint-override""><code>narr = narr.concat(streamrollArray(arr[i])) </code></pre>"			2021-01-19 05:53:37.617 UTC
65798012	javascript|python|selenium|selenium-webdriver	Extracting JavaScript function return value using Python Selenium	"<p>I am scraping information from a webpage. The following is a snippet of the Javascript function that I am looking to extract the return string value from. In this case <code>&quot;2227885&quot;</code></p> <p><a href=""https://i.stack.imgur.com/5dLJs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5dLJs.png"" alt=""enter image description here"" /></a></p> <p>I have used the following method from selenium to attempt to extract this value:</p> <pre><code>result = driver.execute_script(&quot;getCurrentClientId()[0]&quot;) print(result) </code></pre> <p>However, the value returned is <code>None</code>. What is the proper solution to extract the return value from this JS function?</p>"	2021-01-19 19:14:25.767 UTC	65798698	"<pre><code>result = driver.execute_script(&quot;return getCurrentClientId()&quot;) print(result) </code></pre> <p>if the function is not within the html source ,and you want to pass explicitly then use</p> <pre><code>result = driver.execute_script(&quot;return arguments[0]&quot;, getCurrentClientId) print(result) </code></pre> <p>what ever we pass to execute_script will be passed into arguments arraay in the same order. so the getCurrentClientId can be accessed in the script as arguments[0]</p>"			2021-01-19 20:04:41.157 UTC
65798012	javascript|python|selenium|selenium-webdriver	Extracting JavaScript function return value using Python Selenium	"<p>I am scraping information from a webpage. The following is a snippet of the Javascript function that I am looking to extract the return string value from. In this case <code>&quot;2227885&quot;</code></p> <p><a href=""https://i.stack.imgur.com/5dLJs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5dLJs.png"" alt=""enter image description here"" /></a></p> <p>I have used the following method from selenium to attempt to extract this value:</p> <pre><code>result = driver.execute_script(&quot;getCurrentClientId()[0]&quot;) print(result) </code></pre> <p>However, the value returned is <code>None</code>. What is the proper solution to extract the return value from this JS function?</p>"	2021-01-19 19:14:25.767 UTC	65798633	<p>use &quot;return&quot; as part of your javascript:</p> <pre><code>result = driver.execute_script(&quot;return getCurrentClientId()[0]&quot;) print(result) </code></pre>			2021-01-19 19:59:15.63 UTC
65822685	javascript|python|eel	Display python result in html using JavaScript | python eel	"<p>I want to send result to JavaScript to display the result in html using eel.</p> <p>I'm adding the two numbers reading it from JavaScript through html &amp; I want to display the result in html side at the end..</p> <p><strong>main.py</strong></p> <pre><code>import eel import requests  eel.init('web')  @eel.expose def sum(a,b):     c = int(a) + int(b)      print(c)     return c  eel.start('index.html', size=(500, 500)) </code></pre> <p><strong>main.js</strong></p> <pre><code>function sum() {   var a = document.getElementById(&quot;data_1&quot;).value;   var b = document.getElementById(&quot;data_2&quot;).value;   eel.sum(a, b); } </code></pre> <p><strong>index.html</strong></p> <pre><code>&lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt;   &lt;title&gt;Test eel&lt;/title&gt;   &lt;script type=&quot;text/javascript&quot; src=&quot;/eel.js&quot;&gt;&lt;/script&gt;   &lt;script type=&quot;text/javascript&quot; src=&quot;/myscript.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt;   &lt;h3 class='label_'&gt;Num 1 &lt;/h3&gt;    &lt;input type=&quot;text&quot; id=&quot;data_1&quot;    &gt;   &lt;/br&gt;   &lt;h3 class='label_'&gt;Num 2 &lt;/h3&gt;   &lt;input type=&quot;text&quot; id=&quot;data_2&quot; &gt; &lt;/br&gt;   &lt;input type=&quot;button&quot; class=&quot;submit&quot; value=&quot;submit&quot; onclick=&quot;sum()&quot;&gt;&lt;/br&gt; output &lt;div id='file-name'&gt;---&lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>"	2021-01-21 07:17:48.797 UTC	65843654	"<p>You can use JavaScript callback function to pass the return value to html</p> <p><strong>main.js</strong></p> <pre><code>function sum() {   var a = document.getElementById(&quot;data_1&quot;).value;   var b = document.getElementById(&quot;data_2&quot;).value;   eel.sum(a, b)(callback); // change here }  // add function as function callback(c) {   document.getElementById(&quot;data&quot;).value = c; }  </code></pre> <p>In index.html add this below code to print result on html side</p> <p><strong>index.html</strong></p> <pre><code>&lt;div&gt;   Result : &lt;input type=&quot;text&quot; id=&quot;data&quot; &gt; &lt;/div&gt; </code></pre>"			2021-01-22 10:44:27.02 UTC
65823331	python|ipython|jupyter	Cannot call Python function from Javascript in Notebook	"<p>I would like to call the function <code>say_hello</code> in Jupyter Notebook.</p> <pre><code>def say_hello():   print('hello')  %%javascript //What have been tried // Method 1 var kernel = IPython.notebook.kernel; kernel.execute(&quot;say_hello()&quot;, {&quot;output&quot;: callback});  // Method 2 Jupyter.notebook.kernel.execute(&quot;say_hello()&quot;) </code></pre> <p>Both methods throw <code>ReferenceError</code> in the browser console.</p> <pre><code>VM5326:7 Uncaught ReferenceError: IPython is not defined     at send_message (&lt;anonymous&gt;:7:22)     at onClickSendMessage (&lt;anonymous&gt;:12:9)     at HTMLButtonElement.onclick (app.ipynb:1) </code></pre> <p>version : JupterLab 3.5, IPython 7.16, Python 3.9.1</p>"	2021-01-21 08:10:46.387 UTC	65899625	"<p>The <code>ReferenceError</code> that you're getting is caused by Jupyter and IPython globals not being available in Jupyter Lab at all. You'd have to <a href=""https://github.com/jupyterlab/jupyterlab/issues/5660#issuecomment-514728559"" rel=""noreferrer"">write a JupyterLab extension</a> yourself.</p> <p>These things do work in Jupyter Notebooks though. Both of the methods that you tried are a good start but need some improvements.</p> <p>We need 3 cells - Python, HTML, and JS one.</p> <ol> <li>let's just define the method we want to invoke from JS in Python.</li> </ol> <pre class=""lang-py prettyprint-override""><code>def say_hello():     print('hello') </code></pre> <ol start=""2""> <li>We need to create a cell output, where the JS will be writing the results of the execution.</li> </ol> <pre class=""lang-html prettyprint-override""><code>%%html &lt;div id=&quot;result_output&quot;&gt; </code></pre> <ol start=""3""> <li>We execute the Python function, and handle the execution result in a callback. From the callback, we'll fill the result text into the output that we created above.</li> </ol> <pre class=""lang-js prettyprint-override""><code>%%javascript const callbacks = {     iopub: {         output: (data) =&gt; {             // this will print a message in browser console             console.log('hello in console')              // this will insert the execution result into &quot;result_output&quot; div             document.getElementById(&quot;result_output&quot;).innerHTML = data.content.text         }     } };  const kernel = Jupyter.notebook.kernel kernel.execute('say_hello()', callbacks) </code></pre> <p>Some notes:</p> <ul> <li>your 2nd method would be good enough if you didn't need to see the result, the execution is executed, just the results from kernel are not handled (you can see that in Network tab in browser devtools in Websocket request messages)</li> <li>in your method 1 you use <code>callback</code> but you don't define it - that would lead to another <code>ReferenceError</code></li> <li>using <code>const</code>Â <a href=""https://www.freecodecamp.org/news/var-let-and-const-whats-the-difference/"" rel=""noreferrer"">is better</a> than using <code>var</code> in JS</li> <li><code>Jupyter.notebook.kernel</code>Â is the same as <code>IPython.notebook.kernel</code></li> </ul>"			2021-01-26 10:28:58.27 UTC
65835487	javascript|django|date|timer|countdown	(Django - Javascript) Timer javascript and datetime python variable in html template	"<p>I've found a timer countdown in javascript online and it works fine...</p> <p>I have to pass python variable to it but, although the result is correct, the countdown doesn't run, it shows the correct remaining time but doesn't continue to decrease (at least I refresh the page)...</p> <p>These are my piece of codes:</p> <ul> <li>views.py</li> </ul> <blockquote> <pre><code>import datetime  auction = Auction.objects.get(id=id) endDateFormat = auction.endDate.strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;) startDateFormat = datetime.datetime.now().strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;) </code></pre> </blockquote> <ul> <li><p>template.html</p> <pre><code>         &lt;script&gt;               // Set the date we're counting down to               var countDownDate = new Date(&quot;{{endDateFormat}}&quot;).getTime();                // Update the count down every 1 second               var x = setInterval(function() {                    // Get today's date and time                   var now = new Date(&quot;{{startDateFormat}}&quot;).getTime();                    // Find the distance between now and the count down date                   var distance = countDownDate - now;                    // Time calculations for days, hours, minutes and seconds                   var days = Math.floor(distance / (1000 * 60 * 60 * 24));                   var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));                   var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));                   var seconds = Math.floor((distance % (1000 * 60)) / 1000);                    // Output the result in an element with id=&quot;demo&quot;                   document.getElementById(&quot;demo&quot;).innerHTML = days + &quot;d &quot; + hours + &quot;h &quot; + minutes + &quot;m &quot; + seconds + &quot;s &quot;;                    // If the count down is over, write some text                   if (distance &lt; 0) {                       clearInterval(x);                       document.getElementById(&quot;demo&quot;).innerHTML = &quot;EXPIRED&quot;;                   }               }, 1000);           &lt;/script&gt; </code></pre> </li> </ul> <p>Thanks to everyone!</p>"	2021-01-21 20:48:22.74 UTC	65836776	"<p>Try this! Given a <code>view</code>:</p> <pre><code>def timer_page_view(request):     auction = Auction.objects.last()     context = {         'start_date': auction.start_date.strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;),         'end_date': auction.end_date.strftime(&quot;%Y-%m-%dT%H:%M:%S&quot;),     }     return render(request, 'timer_page.html', context=context) </code></pre> <p>Your <code>timer_page.html</code> template could look like this:</p> <pre><code>&lt;body&gt;     &lt;p&gt;start date is {{ start_date }}&lt;/p&gt;     &lt;p&gt;start date is {{ end_date }}&lt;/p&gt;     &lt;div id='demo'&gt;time difference&lt;/div&gt; &lt;/body&gt;  &lt;script&gt;  // Set the date we are counting to var countDownDate = new Date('{{ end_date }}');  // Set the date we are counting from var countFromDate = new Date(&quot;{{ start_date }}&quot;);  // Set inital distance in seconds var distance = (countDownDate.getTime() - countFromDate.getTime()) / 1000;  // Set initial time difference in the DOM var days = Math.floor((distance / (60 * 60 * 24))); var hours = Math.floor((distance - (days * (60 * 60 * 24))) / (60 * 60)); var minutes = Math.floor((distance - ((days * (60 * 60 * 24)) + (hours * (60 * 60)))) / 60); var seconds = Math.floor((distance % (1000 * 60)) / 1000); document.getElementById(&quot;demo&quot;).innerHTML = days + ' '  + hours + ' ' + minutes + ' ' + seconds;  // Timer let active = true;  startTimer = () =&gt; {     if (active) {         var timer = document.getElementById(&quot;demo&quot;).innerHTML;         let nums = timer.split(&quot; &quot;).map(num =&gt; parseInt(num))         let day = nums[0];         let hour = nums[1];         let min = nums[2];         let sec = nums[3];         if (sec == 0) {             if (min == 0) {                 hour--;                 min = 59;                 if (hour == 0){                     day--;                     hour = 23;                 }                 if (hour &lt; 10) hour = &quot;0&quot; + hour;             } else {                 min--;                            }                 if (min &lt; 10) min = &quot;0&quot; + min;             sec = 59;         } else {             sec--;             console.log(sec)             if (sec &lt; 10) sec = &quot;0&quot; + sec;         }         document.getElementById(&quot;demo&quot;).innerHTML = day + ' '  + hour + ' ' + min + ' ' + sec;         setTimeout(startTimer, 1000);     } } startTimer();  &lt;/script&gt; </code></pre> <p>The timer would start immediately here, but you can play around with that to your liking.</p>"			2021-01-21 22:35:07.603 UTC
65836519	javascript|python|blockchain|python-requests-html	"Webscraping Blockchain data seemingly embedded in Javascript through Python, is this even the right approach?"	"<p>I'm referencing this url: <a href=""https://tracker.icon.foundation/block/29562412"" rel=""nofollow noreferrer"">https://tracker.icon.foundation/block/29562412</a></p> <p>If you scroll down to &quot;Transactions&quot;, it shows 2 transactions with separate links, that's essentially what I'm trying to grab. If I try a simple pd.read_csv(url) command, it clearly omits the data I'm looking for, so I thought it might be JavaScript based and tried the following code instead:</p> <pre><code>from requests_html import HTMLSession session = HTMLSession() r = session.get('https://tracker.icon.foundation/block/29562412') r.html.links r.html.absolute_links </code></pre> <p>and I get the result &quot;set()&quot; even though I was expecting the following:</p> <p>['https://tracker.icon.foundation/transaction/0x9e5927c83efaa654008667d15b0a223f806c25d4c31688c5fdf34936a075d632', 'https://tracker.icon.foundation/transaction/0xd64f88fe865e756ac805ca87129bc287e450bb156af4a256fa54426b0e0e6a3e']</p> <p>Is JavaScript even the right approach? I tried BeautifulSoup instead and found no cigar on that end as well.</p>"	2021-01-21 22:11:58.483 UTC	65836639	"<p>You're right. This page is populated asynchronously using JavaScript, so BeautifulSoup and similar tools won't be able to see the specific content you're trying to scrape.</p> <p>However, if you log your browser's network traffic, you can see some (XHR) HTTP GET requests being made to a REST API, which serves its results in JSON. This JSON happens to contain the information you're looking for. It actually makes several such requests to various API endpoints, but the one we're interested in is called <code>txList</code> (short for &quot;transaction list&quot; I'm guessing):</p> <pre><code>def main():      import requests      url = &quot;https://tracker.icon.foundation/v3/block/txList&quot;      params = {         &quot;height&quot;: &quot;29562412&quot;,         &quot;page&quot;: &quot;1&quot;,         &quot;count&quot;: &quot;10&quot;     }      response = requests.get(url, params=params)     response.raise_for_status()      base_url = &quot;https://tracker.icon.foundation/transaction/&quot;      for transaction in response.json()[&quot;data&quot;]:         print(base_url + transaction[&quot;txHash&quot;])      return 0   if __name__ == &quot;__main__&quot;:     import sys     sys.exit(main()) </code></pre> <p>Output:</p> <pre><code>https://tracker.icon.foundation/transaction/0x9e5927c83efaa654008667d15b0a223f806c25d4c31688c5fdf34936a075d632 https://tracker.icon.foundation/transaction/0xd64f88fe865e756ac805ca87129bc287e450bb156af4a256fa54426b0e0e6a3e &gt;&gt;&gt;  </code></pre>"			2021-01-21 22:21:44.177 UTC
65841971	python|selenium|web-scraping	How to get the text of link that generated by javaScript with Selenium/Python	"<p>The hyperlink is</p> <pre><code>&lt;a href=&quot;javascript:;&quot; onclick=&quot;showStaLine(this); return false;&quot;&gt;Apple&lt;/a&gt; </code></pre> <p>I tried this code to get the text of link 'Apple'. However, it return None.</p> <pre><code>self.driver.find_element(By.XPATH, '//tr[@id=&quot;'+ item +'&quot;]/td[4]').get_attribute('href') </code></pre> <p>Anybody may help? Thanks a lot.</p>"	2021-01-22 08:51:42.437 UTC	65842873	"<p>Solution based on that rare information could be:</p> <ol> <li><p>Change your xpath to point on the <code>&lt;a&gt;</code>:</p> <pre><code>//tr[@id=&quot;'+ item +'&quot;]/td[4]/a </code></pre> </li> <li><p>Use <code>.text</code> instead of <code>get_attribute('href')</code> to get the text of the <code>&lt;a&gt;</code></p> </li> </ol> <p><strong>Example</strong></p> <pre><code>self.driver.find_element(By.XPATH, '//tr[@id=&quot;'+ item +'&quot;]/td[4]/a').text </code></pre> <p><strong>Output</strong></p> <blockquote> <p>Apple</p> </blockquote>"			2021-01-22 09:52:30.1 UTC
65868250	javascript|python|ajax|selenium	How to get Javascript ajax response in Python Selenium?	"<p>I am trying to get <code>Ajax</code> response with this method but it returns <strong><code>null</code></strong>.</p> <p>Make sure your solutions works before posting an answer.</p> <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver      driver = webdriver.Chrome()  driver.get(&quot;example.com&quot;)  result = driver.execute_synce_script(&quot;&quot;&quot;     function x()     {         var data = null          $.post('example.com/wp-admin/admin-ajax.php',{action:&quot;load_links&quot;)         .done(function( response )          {             data = response         })          return data     }      return x() &quot;&quot;&quot;)  print(result) </code></pre>"	2021-01-24 07:56:14.203 UTC	65870232	"<p>Try this:</p> <pre><code>from bs4 import BeautifulSoup from selenium import webdriver  url = &quot;&lt;url&gt;&quot; browser = webdriver.Chrome() browser.get(url) html = browser.page_source soup = BeautifulSoup(html, 'lxml') a = soup.find('section', 'wrapper') </code></pre>"			2021-01-24 11:55:42.6 UTC
65924969	javascript|java|python|cross-compiling	Java/Python Cross-Compiling in JavaScript	"<p>I am working on a project that involves having a Java code editor and a Python code editor but I have no way of compiling that code. I've used Ace within my html and I have no idea how to compile the Java code or Python code using JavaScript. I currently have a way of retrieving all of the Java/Python code to a string. From there I need a way of compiling that code so that I can run it on my website and test it. There will be no GUIs involved, all of the Java/Python code will just have console output. However, I need a way I can run the Java/Python code on my website in live speed. Everything must be done on the website, the client shouldn't have to download anything extra. I am basically trying to replicate the website 'codingbat.com'. Thanks for the help in advance.</p>"	2021-01-27 18:15:28.77 UTC	65953325	"<p>Python would usually get JITted when you invoke a good Python interpreter (ha, the name does not apply). Java has some great compilers (standard javac or the <a href=""https://www.eclipse.org/jdt/core/"" rel=""nofollow noreferrer"">Eclipse JDT</a>) so I would not even think of compiling with some other language.</p> <p>Where does the need come from to cross-compile in JavaScript? It sounds like you are searching for a Java compiler implemented in JavaScript, and likewise for Python.</p> <p>If everything has to be built and deployed to some website, why don't you create a script (shell, JavaScript, or a Jenkins Pipeline) that compiles the java part using javac, precompiles the python part as required and deploys the output directly to your website?</p>"			2021-01-29 11:09:09.217 UTC
65950305	javascript|python-2.7|controller|odoo-10	How to call Python Controller function in Javascript Odoo 10	"<p>I am new with this technology. Please bear with me :) Thank you</p> <p>Do you have any idea on how to call a python controller function using javascript? I always get cross-origin-browser error. So I tried this,</p> <p>.py</p> <pre><code>@http.route('/custom/createdb', type='json', auth=&quot;public&quot;, methods=[&quot;POST&quot;], website=True)     def createdb(self, db_name):              session = self._authenticate()         if not session:             return json.dumps(False)          # create a new database         headers = {'Content-Type': 'application/json'}                  create_db_url = &quot;http://localhost:8090/custom_api/create_db&quot;         data = {&quot;jsonrpc&quot;: 2.0, &quot;params&quot;: { &quot;name&quot;: db_name } }          _logger.debug(&quot;Creating database...&quot;)         r = session.post(url=create_db_url, data=json.dumps(data), headers=headers)          if r.ok:             return json.dumps(True)         else:             return json.dumps(False) </code></pre> <p>.js</p> <pre><code>var session = require('web.session');  $(function()     {         $(&quot;#start_trial&quot;).click(function()         {             session.rpc('/custom/createdb',                  {                     // how to get data here                 }).then(function (result)                  {                     // result                                      });         });     }); </code></pre>"	2021-01-29 07:24:24.053 UTC	66168765	"<p>just solved my own question.</p> <pre><code>var db_name = $(&quot;input[name='partner_name']&quot;).val();  session.rpc('/custom/createdb', {             db_name : db_name         }).then(function() {             console.log(&quot;Creating database&quot;);         }, function () {             console.log(&quot;calling /custom/createdb caused an exception!&quot;);         }); </code></pre> <p>I just followed this documentation: <a href=""https://www.odoo.com/documentation/10.0/reference/javascript.html#low-level-api-rpc-calls-to-python-side"" rel=""nofollow noreferrer"">https://www.odoo.com/documentation/10.0/reference/javascript.html#low-level-api-rpc-calls-to-python-side</a></p>"			2021-02-12 08:49:57.993 UTC
65970153	javascript|python|flask|mediarecorder|mediadevices	How to write Javascript audio blob to Python wave?	"<p>I'm trying to create a Flask endpoint that accepts an audio blob every n seconds and write it to a wave file:</p> <p><strong>Flask:</strong></p> <pre><code>@app.route('/api/v01/post/audio-blob/', methods=['POST']) def api_post_audio_blob():     blob = request.data     with open('file.wav', 'ab') as f:         f.write(blob)     return Response(status=200) </code></pre> <p><strong>Javascript:</strong></p> <pre><code>const startButton = document.getElementById(&quot;start&quot;); startButton.addEventListener(&quot;click&quot;, function() {      /* Get client-side audio stream */     var constraints = { audio: true }     var chunks = []     navigator.mediaDevices.getUserMedia(constraints)     .then(function(stream) {         const recorder = new MediaRecorder(stream);         recorder.ondataavailable = event =&gt; {             chunks.push(event.data);             var blob = new Blob(chunks, {                 type: &quot;audio/wav&quot;             });             var xmlhttp = new XMLHttpRequest();             var url = &quot;http://127.0.0.1:5000/api/v01/post/audio-blob/&quot;;             xmlhttp.open(&quot;POST&quot;, url, true);             xmlhttp.setRequestHeader(&quot;Content-type&quot;, &quot;audio/wav&quot;);             xmlhttp.send(blob);         };         recorder.start(10000);     })     .catch(function(err) {         /* handle the error */     }); </code></pre> <p>It seems like binary is written to file.wav, but it doesn't play any sound. Anyone knows how to resolve this? Help would be much appreciated!</p>"	2021-01-30 16:09:00.72 UTC	66034555	<p>the code above works. Tried another audio player which resolved the 'issue'</p>			2021-02-03 19:40:22.927 UTC
65999781	python|json|selenium|web-scraping	Getting javascript variable value while Selenium Python	"<pre><code>rwdata = driver.find_elements_by_xpath(     &quot;/html/body/div[2]/div/div/div/form[2]/div[2]/table/tbody&quot;) </code></pre> <p>This is a table, with the value of r with type text/javascript</p> <pre><code>for r in rwdata:     print(r.text)     if r.text != &quot;Booked&quot;:         print(&quot;Aceptado&quot;) </code></pre> <p>When I print R it has the following values: Booked Booked Booked 9:00 AM Booked Booked Booked 2:00 Am Booked</p> <p>Â¿How can I make this comparison, because so far it never enters the if?</p> <pre><code>        &lt;td scope=&quot;row&quot; headers=&quot;2/8/2021&quot; class=&quot;timetable-cells&quot;&gt;               &lt;div class=&quot;cellcontainer&quot; style=&quot;height:120px&quot;&gt;                                                           &lt;div data-function=&quot;timeTableCell&quot;                          data-sectionid=&quot;153&quot;                          data-servicetypeid=&quot;862&quot;                          data-fromdatetime=&quot;2/8/2021 9:00:00 AM&quot;                          class=&quot;pointer timecell text-center &quot;                          style=&quot;top: 0px; height:118px; background-color: #FF0000;color:#000000;&quot;                          aria-label=&quot;Booked&quot;                                                    role=&quot;row&quot;&gt;                         &lt;label for=&quot;ReservedDateTime_2/8/2021 9:00:00 AM&quot;&gt;                             Booked                         &lt;/label&gt;                     &lt;/div&gt;          </code></pre>"	2021-02-01 20:36:58.25 UTC	65999897	"<p>You're never entering the if because you're only checking the tbody elements textr value. So the entire string is &quot;Booked, Booked, Booked, 9:00 AM, Booked, Booked, Booked, 2:00 Am, Booked&quot;. I think what you WANTED to do was loop through the individual cells? Like this:</p> <pre><code>#here you fetch all the ONE element that are selected by xpath: rwdata = driver.find_element_by_xpath(     &quot;/html/body/div[2]/div/div/div/form[2]/div[2]/table/tbody&quot;)  #here you loop through all those table TD elements for r in rwdata.find_elements_by_xpath(&quot;//td&quot;):     #here you print the TD's text value     print(r.text)     #here you check if the text value is equal to a short string     if r.text != &quot;Booked&quot;:         print(&quot;Aceptado&quot;) </code></pre>"			2021-02-01 20:46:11.063 UTC
66015144	javascript|python|selenium-webdriver	Why can't I use python/selenium to click an Export button which contains javascript?	"<p>Here is the HTML associated with the Export button:<br /> <a href=""https://i.stack.imgur.com/4chLI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4chLI.png"" alt=""enter image description here"" /></a></p> <pre><code>&lt;a   onclick=&quot;return nimInspectionsExportConfirm();&quot;    id=&quot;ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;     title=&quot;Export to Excel Latest Version&quot;  class=&quot;gridActionButton exportCasesButton&quot;     href=&quot;javascript:__doPostBack('ctl00$cphDefault$ContentPlaceHolder1$NIMInspection   s1$ExportResultsToExcel','')&quot;&gt;Export xlsx &lt;/a&gt;  </code></pre> <p>And here is a link address associated with the Export button:</p> <pre><code>javascript:__doPostBack('ctl00$cphDefault$ContentPlaceHolder1$NIMInspections1$ExportResultsToExcel','') </code></pre> <p>I'm able to locate the export button web element, and it appears to click (the button changes color as if it was clicked) when I watch the code run, but the loading never finishes and the data just never exports. But my script does not return any errors. I thought it has to do with the javascript function call <code>nimInspectionsExportConfirm();</code> but when I use the <code>execute_script</code> function, it doesn't work reliably. Maybe once out of every 20 tries.</p> <p>Here's my full code (you can look in the commented code for all the different ways I tried to make it work):</p> <pre><code>from selenium import webdriver import pyinputplus as pyip import datetime import time from dateutil.relativedelta import relativedelta, MO, SU, SA from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.action_chains import ActionChains import os import shutil from pathlib import Path from selenium.webdriver.common.keys import Keys from selenium.common.exceptions import TimeoutException  #log in options = webdriver.ChromeOptions()  options.add_argument(&quot;download.default_directory={}&quot;.format(filepath)) browser = webdriver.Chrome(options=options) #self.mouse = webdriver.ActionChains(browser)     browser.get('mywebsite.url') userElem = browser.find_element_by_id('Login1_UserName') userElem.send_keys('myusername') passwordElem = browser.find_element_by_id('Login1_Password') passwordElem.send_keys(pyip.inputStr()) submitElem = browser.find_element_by_css_selector('#Login1_LoginButton') submitElem.click()   n = int(input(&quot;Enter number of weeks of reports from today: &quot;)) report_date_dict = {} for x in range(n):     report_date_dict[today + relativedelta(weekday=MO(-(n+1)))] = today + relativedelta(weekday=SU(-n))     n = n - 1 print(report_date_dict)  report_dict = {&quot;Report1&quot;:&quot;//select[@id='ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_CustomerRoleLevelFilters']/option[@value='d66c7fb5-fc1e-4643-a194-9cde73687438']&quot;} #&quot;Report2&quot;:&quot;//select[@id='ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_CustomerRoleLevelFilters']/option[@value='0bcd5215-853c-4a2f-b61f-a04993f37488']&quot;}  for key in report_dict:     report = key     browser.find_element_by_xpath(report_dict[key]).click()     reportSearchElem = browser.find_element_by_css_selector('#ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ApplyCommonFilter')     reportSearchElem.click()     print(&quot;get {}&quot;.format(key))     for key in report_date_dict:         browser.get('URLafterloginpage.com')         start = key         startdt = datetime.datetime.strptime(str(start), '%Y-%m-%d').strftime('%m/%d/%Y')         end = report_date_dict[key]#.strftime(&quot;%d/%m/%Y&quot;)         enddt = datetime.datetime.strptime(str(end), '%Y-%m-%d').strftime('%m/%d/%Y')         print(startdt, enddt)         startDateElem = browser.find_element_by_css_selector('#ParameterValue0')         startDateElem.clear()         startDateElem.send_keys(startdt)         endDateElem = browser.find_element_by_css_selector('#ParameterValue1')         endDateElem.clear()         endDateElem.send_keys(enddt)          searchElem = browser.find_element_by_css_selector('#filterBuilder &gt; tfoot &gt; tr &gt; td:nth-child(2) &gt; input:nth-child(2)')         searchElem.click()         #browser.switch_to.default_content()         #exportElem = browser.find_element_by_css_selector(&quot;#ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;)         #exportElem = browser.find_element_by_xpath(&quot;//a[@onclick='return nimInspectionsExportConfirm();']&quot;)         #exportElem = browser.find_element_by_xpath(&quot;//a[contains(@href,'NIMInspections1$ExportResultsToExcel')]&quot;)         #exportElem = browser.find_element_by_xpath()         #WebDriverWait(browser, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[@id='ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel' and not(@class='aspNetDisabled')]&quot;))).click()         WebDriverWait(browser, 60).until(EC.presence_of_element_located((By.ID, &quot;ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;)))         browser.execute_script(&quot;nimInspectionsExportConfirm();&quot;)         browser.execute_script(&quot;window.scrollTo(0, 200)&quot;)         browser.find_element_by_id(&quot;ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;).click() #WebDriverWait(browser, 60).until(EC.element_to_be_clickable((By.LINK_TEXT, &quot;Export xlsx&quot;))).click()         time.sleep(60)         &quot;&quot;&quot;while True:             try:                 WebDriverWait(browser, 20).until(EC.staleness_of(browser.find_element_by_xpath(                     &quot;//a[@id='ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel' and not(@class='aspNetDisabled')]&quot;)))                 WebDriverWait(browser, 20).until(EC.element_to_be_clickable((                     By.XPATH, &quot;//a[@id='ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel' and not(\                     @class='aspNetDisabled')]&quot;))).click()                 print (&quot;Export&quot;)             except:                 print (&quot;not work&quot;)                 break         print (&quot;Exiting&quot;)&quot;&quot;&quot;         #browser.quit()          &quot;&quot;&quot;try:             print(&quot;about to look for element&quot;)             ele = '#ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel'             element = WebDriverWait(browser, 30).until(                     lambda browser : browser.find_element_by_css_selector(ele)             )             print(&quot;still looking?&quot;)         finally:             print(&quot;yowp&quot;)&quot;&quot;&quot;         #action = ActionChains(browser)                   #action.move_to_element(exportElem).click().perform()          '''try:             element = browser.wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, &quot;#ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;)))             #button = WebDriverWait(browser, delay).until(EC.element_to_be_clickable((By.XPATH,&quot;//a[@onclick='return nimInspectionsExportConfirm();']&quot;)))             browser.execute_script(&quot;arguments[0].click();&quot;, element)             print(&quot;Page is ready!&quot;)         except TimeoutException:             print(&quot;Loading took too much time!&quot;)          #exportElem = browser.find_element_by_xpath('//*[@id=&quot;ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;]')         #exportElem.click()         #browser.execute_script(&quot;//a[@onclick='return nimInspectionsExportConfirm();']&quot;, exportElem)         '''         #if report == 'Holdover':             #time.sleep(30)         #else:             #time.sleep(60)         filename = max([filepath +&quot;/&quot;+ f for f in os.listdir(filepath)], key=os.path.getctime)         print(filename)         newfilename = newfilepath+'/'+Path(filename).stem+'.xlsx'         shutil.copyfile(filename,newfilename)         os.rename(newfilename, newfilepath+'/'+'{}_{}_{}.xlsx'.format(report,start, end)) </code></pre>"	2021-02-02 17:59:02.58 UTC	66017192	"<p>I ended up just adding another <code>time.sleep(60)</code> after the <code>execute_script</code> call and that gave the page enough time to load and export the data. Curious if there's another more efficient way though.</p> <pre><code>        browser.execute_script(&quot;nimInspectionsExportConfirm();&quot;)           browser.execute_script(&quot;window.scrollTo(0, 200)&quot;)         time.sleep(60)         browser.find_element_by_id(&quot;ctl00_cphDefault_ContentPlaceHolder1_NIMInspections1_ExportResultsToExcel&quot;).click()         time.sleep(60)  </code></pre> <p><a href=""https://stackoverflow.com/a/63042913/10808427"">https://stackoverflow.com/a/63042913/10808427</a> - more efficient way!</p>"			2021-02-02 20:31:40.067 UTC
66018228	javascript|json|python-3.x|iis|cjk	Python Script Returns Garbled Japanese Text To Javascript Via AJAX Call	"<p>On an IIS server running Python3 via FastCGI, I am trying to get an HTML file to call a python script, which returns a JSON file containing Japanese text. The Japanese text is getting garbled into mojibake on return. Using Chrome's Network tab to look at the response from the test.py file, I get the following:</p> <pre><code>{ &quot;text&quot;: &quot;ï¿½eï¿½Xï¿½g&quot;} </code></pre> <p>The python script is as follows in a file called test.py:</p> <pre><code>print(&quot;Content-type: application/json;\n&quot;) print('{ &quot;text&quot;: &quot;ãƒ†ã‚¹ãƒˆ&quot;}')     </code></pre> <p>The calling HTML snippet is here:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html xmlns=""http://www.w3.org/1999/xhtml""&gt; &lt;head&gt;     &lt;script type=""text/javascript""&gt;         var httpRequest;         function makeRequest(){             httpRequest = new XMLHttpRequest();             if (!httpRequest){                 alert('Error: Cannot create an XMLHTTP instance');                 return false;             }             httpRequest.onreadystatechange = displayContents;             httpRequest.open('GET', 'test.py');             httpRequest.send();         }         function displayContents(){             var text = '';             if (httpRequest.readyState === XMLHttpRequest.DONE ){                 if (httpRequest.status === 200) {                     var test = JSON.parse( httpRequest.responseText.trim() );                     document.getElementById( ""mydiv"" ).innerHTML = test.text;                   } else {                     alert('There was a problem with the request. This can happen if there is no exchange rate data file named exchangerates.json');                 }             }         }         &lt;/script&gt;          &lt;meta http-equiv=""X-UA-Compatible"" content=""IE=Edge"" /&gt; &lt;meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8"" /&gt; &lt;meta http-equiv=""Pragma"" content=""no-cache""&gt; &lt;title&gt;Test Japanese&lt;/title&gt; &lt;/head&gt; &lt;body id=""thebody"" onload=""makeRequest();""&gt;  &lt;div id=""mydiv"" name=""mydiv""&gt;testing Japanese...&lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> </div> </div> </p> <p>I've tried a bunch of things to try to fix the problem, to no avail. The bizarre thing is that if I try to generate JSON like this from a script, it garbles, but if I write the JSON out to a file and simply have the HTML file retrieve the JSON file, it works fine. I would appreciate any help at this point. I'm running out of hair to pull out.</p>"	2021-02-02 21:59:01.237 UTC	66043193	"<p>I tried many method but only one is useful, that is Json.</p> <p>Python code:</p> <pre><code>import json print(&quot;Content-type: application/json;&quot;) print() print(json.dumps({ &quot;text&quot;: &quot;ãƒ†ã‚¹ãƒˆ&quot;}))     </code></pre> <p>When I access the py file directly, It shows this:</p> <p><a href=""https://i.stack.imgur.com/woc7Q.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/woc7Q.png"" alt=""enter image description here"" /></a></p> <p>Then I use ajax(the code is same as yours) to call it. <a href=""https://i.stack.imgur.com/PyfgF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PyfgF.png"" alt=""enter image description here"" /></a></p>"			2021-02-04 09:51:41.433 UTC
66020818	python|python-3.x|selenium|web-scraping|scrapy	Dynamic Web Scraping javascript:void(0). Python	"<p>Not sure whats the best way to go about this. I have a page that dynamically loads content but the tag is <code> &lt;a href=&quot;javascript:void(0);&quot;&gt;Daily&lt;/a&gt;</code>.</p> <p>I've seen that the script actually sends off a network request that POST and its of type html. Ideally i would like to get a copy of that response. What would be the best way of doing this. I've read all sort of thing Selenium, request-html, scrapy. I have the URL , Xpath so any help would be greatly appreciated.</p>"	2021-02-03 03:26:50.927 UTC	66071159	"<p>Not clear if this is what you are asking. If you need to wait for the page to load dynamically, try something like this. I use this on Windows with chrome and beautiful soup. You can use whatever html parser you'd like</p> <pre><code>import time from selenium import webdriver from selenium.webdriver.chrome.options import Options chrome_options = Options() chrome_options.add_argument(&quot;--headless&quot;)  url = 'your url' driver = webdriver.Chrome('chromedriver.exe', options=chrome_options) driver.get(url) time.sleep(5) # time for page to load html = driver.page_source soup = BeautifulSoup(html, &quot;html.parser&quot;) #use bs4 to parse html  # do your thing here....  driver.quit() </code></pre>"			2021-02-05 21:58:52.957 UTC
66039996	javascript|python|flask|flask-restful	Javascript Fetch upload files to Python Flask-restful	"<p>I am new to python and javascript, I have been given a task to create a form in which I need to upload a file. I need to hit the backend (flask restful API). I have been told this is how i need to send request</p> <pre><code>requests.post(f&quot;{server}/v1/cand&quot;, files={f&quot;{target}_cand&quot;: cand_data}) </code></pre> <p>I tried hitting from javascript using fetch api and i get 201 created response but the file that backend receive is empty. i don't know if i am formatting the request correctly,</p> <pre><code> var data = new FormData()   data.append('files', files[0])   data.append('name', fileName)   console.log(data.get('files')) fetch(&quot;http://localhost:5001/v1/cand&quot;,{   method:&quot;POST&quot;,   body: {files:files[0]}, }) .then(function(response){   return response.json() }) .then(function(data){   console.log('success')   console.log(data) }) </code></pre> <p>This is how it is being received in the backend</p> <pre><code>    def post(self):     cand= []     for f in request.files:     //do something </code></pre> <p>Please help me with this problem.</p>"	2021-02-04 05:48:12.413 UTC	66041556	"<p>Sorry, couldn't believe I missed the obvious. You don't send the <code>FormData</code> instance in the request. You may want to do it like this:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>document.querySelector('#fileUpload').addEventListener('change', event =&gt; {    let files = event.target.files   let fileName = files[0].name      // your code start here   var data = new FormData()   data.append('files', files[0]) // maybe it should be '{target}_cand'   data.append('name', fileName)   console.log(data.get('files'))    // let url = ""http://localhost:5001/v1/cand""   let url = ""https://tongsampah.herokuapp.com""   fetch(url,{     method:""POST"",     // body: {files:files[0]}, // wrong     body: data,   })   .then(function(response){     return response.json()   })   // .then(function(data){ // use different name to avoid confusion   .then(function(res){     console.log('success')     console.log(res)   })  })</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""file"" id=""fileUpload"" /&gt;</code></pre> </div> </div> </p> <blockquote> <p>the <a href=""https://tongsampah.herokuapp.com"" rel=""nofollow noreferrer"">https://tongsampah.herokuapp.com</a> is just a dummy api server that I use to test. It will returns the request details as a response</p> </blockquote> <p>You may want to make sure the field name is correct (eg. <code>{target}_cand</code> -- I don't know what target value is)</p>"			2021-02-04 08:04:34.923 UTC
66053519	javascript|python|amazon-web-services|sorting|aws-lambda	Why is a Python Lambda wildly slower than a Javascript Lambda with the same functionality?	"<p>I am creating a sorting comparison workbench using AWS to host sorting lambdas.</p> <p>I have a bubble sort algorithm implemented in python (python3.8) and javascript (nodejs12.x) lambdas. Both have 512MB memory allocated.</p> <p>When I run these against eachother with array lengths N of 1 to 5500 I get the following graph. N is on the x axis and time taken in MS on the y axis:</p> <p><a href=""https://i.stack.imgur.com/euisN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/euisN.png"" alt=""Python Bubble Sort vs Javascript Bubble Sort"" /></a></p> <p>While I expect bubble sort to be slow, I didn't expect Python to be 100x slower compared with Javascript. The max milliseconds reached for JS is ~120, vs Python at ~11100.</p> <p>Perhaps there is an AWS related explanation, or my implementation is very slow?</p> <p><strong>Update:</strong> I switched the runtime over from CPython to PyPy and this has reduced the time by x100 for running bubble sort, the graphs are now much closer together, thus the time difference was due to the compiler:</p> <p><a href=""https://i.stack.imgur.com/OQ7b1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OQ7b1.png"" alt=""PyPy Bubble Sort vs Node Bubble Sort"" /></a></p>"	2021-02-04 20:43:42.18 UTC	66072726	"<p>cpython and node differ in how the code is interpreted:</p> <ul> <li><p>Python (the standard cpython) is compiled to bytecode and then interpreted. So the interpreter spends most of it's time in a loop containing a big switch-case. (See <a href=""https://github.com/python/cpython/blob/5f18c223391eef8c7d01241b51a7b2429609dd84/Python/ceval.c#L1622"" rel=""nofollow noreferrer"">https://github.com/python/cpython/blob/5f18c223391eef8c7d01241b51a7b2429609dd84/Python/ceval.c#L1622</a>)</p> </li> <li><p>node.js (using V8) and PyPy use just in time compilation. This kind of Problem (tight loop, homogeneous types) is what JITs are best at: if the interpreter sees that some piece of code is run very often with the same types, the JIT generates and optimizes native code for it.</p> </li> </ul>"			2021-02-06 01:30:27.23 UTC
66053519	javascript|python|amazon-web-services|sorting|aws-lambda	Why is a Python Lambda wildly slower than a Javascript Lambda with the same functionality?	"<p>I am creating a sorting comparison workbench using AWS to host sorting lambdas.</p> <p>I have a bubble sort algorithm implemented in python (python3.8) and javascript (nodejs12.x) lambdas. Both have 512MB memory allocated.</p> <p>When I run these against eachother with array lengths N of 1 to 5500 I get the following graph. N is on the x axis and time taken in MS on the y axis:</p> <p><a href=""https://i.stack.imgur.com/euisN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/euisN.png"" alt=""Python Bubble Sort vs Javascript Bubble Sort"" /></a></p> <p>While I expect bubble sort to be slow, I didn't expect Python to be 100x slower compared with Javascript. The max milliseconds reached for JS is ~120, vs Python at ~11100.</p> <p>Perhaps there is an AWS related explanation, or my implementation is very slow?</p> <p><strong>Update:</strong> I switched the runtime over from CPython to PyPy and this has reduced the time by x100 for running bubble sort, the graphs are now much closer together, thus the time difference was due to the compiler:</p> <p><a href=""https://i.stack.imgur.com/OQ7b1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OQ7b1.png"" alt=""PyPy Bubble Sort vs Node Bubble Sort"" /></a></p>"	2021-02-04 20:43:42.18 UTC	66053642	"<p>Of course, &quot;the problem is that you are implementing a <strong>bubble(!)</strong> sort!&quot;</p> <p>Why-the-heck are you <em>implementing your own 'sort algorithm,'</em> when either of the languages that you are now doing can already <em>&quot;sort things?&quot;</em></p> <p><strong>&quot;You are not in school anymore!&quot;</strong></p>"			2021-02-04 20:52:37.637 UTC
66053519	javascript|python|amazon-web-services|sorting|aws-lambda	Why is a Python Lambda wildly slower than a Javascript Lambda with the same functionality?	"<p>I am creating a sorting comparison workbench using AWS to host sorting lambdas.</p> <p>I have a bubble sort algorithm implemented in python (python3.8) and javascript (nodejs12.x) lambdas. Both have 512MB memory allocated.</p> <p>When I run these against eachother with array lengths N of 1 to 5500 I get the following graph. N is on the x axis and time taken in MS on the y axis:</p> <p><a href=""https://i.stack.imgur.com/euisN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/euisN.png"" alt=""Python Bubble Sort vs Javascript Bubble Sort"" /></a></p> <p>While I expect bubble sort to be slow, I didn't expect Python to be 100x slower compared with Javascript. The max milliseconds reached for JS is ~120, vs Python at ~11100.</p> <p>Perhaps there is an AWS related explanation, or my implementation is very slow?</p> <p><strong>Update:</strong> I switched the runtime over from CPython to PyPy and this has reduced the time by x100 for running bubble sort, the graphs are now much closer together, thus the time difference was due to the compiler:</p> <p><a href=""https://i.stack.imgur.com/OQ7b1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OQ7b1.png"" alt=""PyPy Bubble Sort vs Node Bubble Sort"" /></a></p>"	2021-02-04 20:43:42.18 UTC	66054590	"<p>Python needs to run CPython to interpret and compile the code and run it. It creates somehow a layer to process it and therefore more time. You can see more <a href=""https://en.wikipedia.org/wiki/CPython"" rel=""nofollow noreferrer"">here</a></p> <p>NodeJS can compile using native Javascript instructions and it takes few more seconds to run the code.</p>"			2021-02-04 22:10:14.217 UTC
66063749	javascript|python|global-variables	"Javascript implementation in my python code, so that variables stored in the external .JSON file can be used as global variables"	"<p>I have done this so far to implement Javascript in my code. The variables are stored in the external .json file just fine. How would I make these variables global variables, so that they can be used in different functions?</p> <pre><code>with open(&quot;file.json&quot; , &quot;r&quot;) as f :   data = json.load(f)  if data == {} :     monthlyWage = int(input(&quot;What is your monthly wage? &quot;)) #Allow the user to input their monthlyWage     monthlySpendings = int(input(&quot;What are your monthly spendings? &quot;)) #Allows the user to input their monthlySpendings     monthlyOverdraft = int(input(&quot;What is your monthly overdraft? &quot;)) #Allows the user to input their monthlyOverdraft     monthlySavings = int(input(&quot;How much do you add into your savings account per month? &quot;)) #Allows the user to input their monthlySavings     totalSpendings = int(monthlySpendings + monthlyOverdraft + monthlySavings) #Calculates the totalSpendings      data = {         &quot;monthlyWage&quot;: monthlyWage,         &quot;monthlySpendings&quot;: monthlySpendings,         &quot;monthlyOverdraft&quot;: monthlyOverdraft,         &quot;monthlySavings&quot;: monthlySavings,         &quot;totalSpendings&quot;: totalSpendings     }      with open(&quot;file.json&quot; , &quot;w&quot;) as f :         json.dump(data , f , indent = 4)  else :     monthlyWage = data[&quot;monthlyWage&quot;]     monthlySpendings = data[&quot;monthlySpendings&quot;]     monthlyOverdraft = data[&quot;monthlyOverdraft&quot;]     monthlySavings = data[&quot;monthlySavings&quot;]     totalSpendings = data[&quot;totalSpendings&quot;] </code></pre>"	2021-02-05 13:00:17.05 UTC	66066137	"<p>You can add all that logic into a function which returns those variables and the import them anywhere like:</p> <p>something.py</p> <pre><code>import json  def get_data():   with open(&quot;file.json&quot; , &quot;r&quot;) as f :     try:       data = json.load(f)     except json.JSONDecodeError:        monthlyWage = int(input(&quot;What is your monthly wage? &quot;)) #Allow the user to input their monthlyWage       monthlySpendings = int(input(&quot;What are your monthly spendings? &quot;)) #Allows the user to input their monthlySpendings       monthlyOverdraft = int(input(&quot;What is your monthly overdraft? &quot;)) #Allows the user to input their monthlyOverdraft       monthlySavings = int(input(&quot;How much do you add into your savings account per month? &quot;)) #Allows the user to input their monthlySavings       totalSpendings = int(monthlySpendings + monthlyOverdraft + monthlySavings) #Calculates the totalSpendings        data = {           &quot;monthlyWage&quot;: monthlyWage,           &quot;monthlySpendings&quot;: monthlySpendings,           &quot;monthlyOverdraft&quot;: monthlyOverdraft,           &quot;monthlySavings&quot;: monthlySavings,           &quot;totalSpendings&quot;: totalSpendings       }        with open(&quot;file.json&quot; , &quot;w&quot;) as f :           json.dump(data , f , indent = 4)   # we convert the values of a dict to a list   return data.values() </code></pre> <p>and then in main.py</p> <pre><code>from something import get_data   def print_something():   # it will print values   print(get_data())   monthlyWage, monthlySpendings, monthlyOverdraft, monthlySavings, totalSpendings = get_data()   print(monthlyWage, monthlySpendings, monthlyOverdraft, monthlySavings, totalSpendings)  if __name__ == '__main__':   print_something() </code></pre> <p>I also modified a bit your logic as you may see as if you read from an empty file it would have thrown an error. Let me know if this is what you were aiming for</p>"			2021-02-05 15:37:44.307 UTC
66088819	javascript|python|python-3.x|ecmascript-5	JavaScript to Python	"<p>I am new in python. Currently I am working on a project and I want a code which can extract numbers from text. I found a code on internet but it is written is java script. I want to run it in python but do not know how to do it. I tried js2py but it throws an exception that is supports only ECMA 5.1 but this code is in higher version. Can someone guide me how to run this code in python. Or someone who can convert this code into python code or ECMA 5.1 code.</p> <pre><code>const PHONE_REGEXS_STRINGS = [     // 775123456     '[0-9]{6,15}',      // 1(413)555-2378 or 1(413)555.2378 or 1 (413) 555-2378 or 1 (413) 555 2378 or (303) 494-2320     '([0-9]{1,4}( )?)?\\([0-9]{2,4}\\)( )?[0-9]{2,4}(( )?(-|.))?( )?[0-9]{2,6}',      // 1(262) 955-95-79 or 1(262)955.95.79     '([0-9]{1,4}( )?)?\\([0-9]{2,4}\\)( )?[0-9]{2,4}(( )?(-|.))?( )?[0-9]{2,6}',      // 413-577-1234-564     '[0-9]{2,4}-[0-9]{2,4}-[0-9]{2,4}-[0-9]{2,6}',     // 413-577-1234     '[0-9]{2,4}-[0-9]{2,4}-[0-9]{2,6}',     // 413-577     '[0-9]{2,4}-[0-9]{2,6}',      // 413.577.1234.564     '[0-9]{2,4}\\.[0-9]{2,4}\\.[0-9]{2,4}\\.[0-9]{2,6}',     // 413.577.1234     '[0-9]{2,4}\\.[0-9]{2,4}\\.[0-9]{2,6}',     // 413.577     '[0-9]{2,4}\\.[0-9]{2,6}',      // 413 577 1234 564     '[0-9]{2,4} [0-9]{2,4} [0-9]{2,4} [0-9]{2,6}',     // 413 577 1234     '[0-9]{2,4} [0-9]{2,4} [0-9]{2,6}',     // 123 4567     '[0-9]{2,4} [0-9]{3,8}', ];  // All phones might be prefixed with '+' or '00' for (let i = 0; i &lt; PHONE_REGEXS_STRINGS.length; i++) {     PHONE_REGEXS_STRINGS[i] = `(00|\\+)?${PHONE_REGEXS_STRINGS[i]}`; }  // The minimum number of digits a phone number can contain. // That's because the PHONE_REGEXS_STRINGS patterns are quite wide and report a lot of false positives. const PHONE_MIN_DIGITS = 7;  // These are patterns that might be matched by PHONE_REGEXS_STRINGS, // but which are most likely not phone numbers. Add more patterns as needed. const SKIP_PHONE_REGEXS = [     // 2018-11-10     '^[0-9]{4}-[0-9]{2}-[0-9]{2}$', ]; const PHONE_REGEX_GLOBAL = new RegExp(`(${PHONE_REGEXS_STRINGS.join('|')})`, 'ig'); const PHONE_REGEX = new RegExp(`^(${PHONE_REGEXS_STRINGS.join('|')})$`, 'i'); const SKIP_PHONE_REGEX = new RegExp(`^(${SKIP_PHONE_REGEXS.join('|')})$`, 'i');  /**  * The function attempts to extract phone numbers from a text. Please note that  * the results might not be accurate, since phone numbers appear in a large variety of formats and conventions.  * If you encounter some problems, please [file an issue](https://github.com/apify/apify-js/issues).  * @param {string} text Text to search the phone numbers in.  * @return {string[]} Array of phone numbers found.  * If no phone numbers are found, the function returns an empty array.  * @memberOf social  */ const phonesFromText = (text) =&gt; {     if (!_.isString(text)) return [];      let phones = text.match(PHONE_REGEX_GLOBAL) || [];     phones = phones.filter((phone) =&gt; {         if (!phone) return false;          // Skip too short phones, they are most likely incorrect         if (phone.match(/[0-9]/g).length &lt; PHONE_MIN_DIGITS) return false;          // Skip phone numbers matching specific patterns         if (SKIP_PHONE_REGEX.test(phone)) return false;          return true;     });      return phones; }; </code></pre>"	2021-02-07 14:02:55.273 UTC	66089028	"<p><strong>If you're new to python it can be an awesome way to get used to it!</strong><br> I suggest you try to translate the code yourself,<br> I will provide you with some guidelines to do it (ordered is by the given code):<br></p> <ol> <li>in python const are not a thing, just delete the const word and it'll be fine</li> <li>you probably know it but ';' are not a required thing either</li> <li>loops in python are different but can be even more intuitive for your example-</li> </ol> <pre class=""lang-py prettyprint-override""><code>for i in len(PHONE_REGEXS_STRINGS):     # code </code></pre> <ol start=""4""> <li>'{' and '}' are not a thing, however tabs and ':' (where the '{' is) are required.</li> <li>About regex, I'm not qualified to say for sure but I imagine it's pretty similar</li> <li>About the last block of code- I'm not too sure, but i imagine it won't be too hard to do it in another way to get the same result.</li> <li>functions in python are looking like:</li> </ol> <pre class=""lang-py prettyprint-override""><code>def funcName(param1, param2): # types are not a thing here either     # code     # more code     return param1 # return types are yet another not-a-thing </code></pre> <ol start=""8""> <li>Some little points- the word &quot;let&quot; can be deleted, &quot;||&quot; is &quot;or&quot; and &quot;&amp;&amp;&quot; is &quot;and&quot; and &quot;!&quot; is &quot;not&quot;, &quot;()&quot; are not required in if's, for's and similar stuff, one-liners are totaly fine, and as you can see- comments are using '#' instead of &quot;//&quot;.</li> </ol> <p>Good luck, you can do it!</p>"			2021-02-07 14:29:29.213 UTC
66102362	arrays|memory|data-structures|maxlength|high-level	"How do high level languages [eg: c#, javascript, python....] create arrays"	"<p>In low level languages you have to give the length of the array upon creation but in high level languages you don't, so how does it work? How does the computer create the array in a manner to prevent memory collisions and what happens if it collides with other memory addresses?</p>"	2021-02-08 13:14:06.563 UTC	66102511	"<p>There is wery big difference etween c# and (python, javascript). c# creates arrays al any other static language, it allocates chunk on memory on heap and gives the pointer, length and capacity to you. When it comes to python and js, when you allocate list, it also has size and cap but you can change only size and cap is abstracted, good thing to note also is that py and js always store values as variants (you can sote string ans int in same list), witch means they are on heap as well and list of ints you have is actually list of pointers.</p>"			2021-02-08 13:23:10.503 UTC
66126578	javascript|python|html|browser	"Is it possible to input new html elements under the Elements tab in inspect element on a webpage using Python, Javascript or Java?"	"<p>I have a large table to enter a large set of text into on a webpage. I'm looking to automate this task. The elements in the table are all under a</p> <pre><code>&lt;div class=Identifier&gt; &lt;/div&gt; </code></pre> <p>when viewing inspect element.</p> <p>I want to take my data set, and input it under the div like so</p> <pre><code>&lt;div class=Identifier&gt;    &lt;p&gt;Text to enter&lt;/p&gt; &lt;/div&gt; </code></pre> <p>Is this possible in Python, Javascript or Java and how should I be going about this?</p>"	2021-02-09 20:26:06.827 UTC	66126671	<p>Javascript is to get the element with a query selector then add to the innerHTML.</p> <pre><code>const yourDiv = document.querySelector(&quot;.Identifier&quot;); const text = &quot;Text to enter&quot;  yourDiv.innerHTML = `&lt;p&gt;${text}&lt;/p&gt;` </code></pre>			2021-02-09 20:33:01.823 UTC
66140898	javascript|python|html|selenium	How can I get the tooltip text from a website using selenium and python where the text comes from a javascript	"<p>I am trying to get the tooltip text that shows when I hover over how long ago the game was played <a href=""https://www.leagueofgraphs.com/summoner/eune/AnFrey99"" rel=""nofollow noreferrer"">https://www.leagueofgraphs.com/summoner/eune/AnFrey99</a> <img src=""https://i.stack.imgur.com/921im.png"" alt=""enter image description here"" />]<a href=""https://i.stack.imgur.com/921im.png"" rel=""nofollow noreferrer"">1</a></p> <p>In the html code it doesn't shows the text and I figure it comes from a javascript and each rows has a script inside the tr tag, but so far I was not able to get the value of the var newTooltipData .</p> <pre>      var newTooltipData = {""match-2733966814"": (new Date(1612964002882).toLocaleDateString() + "" "" + new Date(1612964002882).toLocaleTimeString()) + "" - 31min 48s""};     if (window.tooltipData) {         window.tooltipData = Object.assign(window.tooltipData, newTooltipData);     } else {         window.tooltipData = newTooltipData;     }  </pre> I want to get the exact date for each row along with other information that I already done. Here is my code and my tries. <pre><code>driver_second = webdriver.Firefox(executable_path=DRIVER_PATH) driver_second.get(&quot;https://www.leagueofgraphs.com/summoner/eune/&quot;+'AnFrey99') time.sleep(5) accept_button=driver_second.find_element_by_xpath(&quot;/html/body/div[3]/div/div/div[3]/div[1]/button[2]&quot;) accept_button.click() tabel=driver_second.find_element_by_xpath(&quot;//table[@class='data_table relative recentGamesTable']&quot;) rows=tabel.find_elements_by_xpath(&quot;tbody/tr&quot;) for row in rows:     elements=row.find_elements_by_xpath(&quot;td&quot;)     if(len(elements)&gt;1):             script=row.find_element_by_xpath(&quot;script&quot;)             data=elements[2].find_element_by_xpath(&quot;a/div[3]&quot;)             data=script.get_property('innerHTML') </code></pre>"	2021-02-10 16:28:53.103 UTC	66142532	"<p>If you hover the div, JavaScript will append a new div to the website with the ID <code>'tooltip'</code> (full source of the function <a href=""https://lolg-cdn.porofessor.gg/app.js?v=1612819629"" rel=""nofollow noreferrer"">here</a>):</p> <pre><code>var TooltipManager = (function () {     [...]             var tooltipElement = $('#tooltip');             if (!tooltipElement.length) {                 $('body').append('&lt;div id=&quot;tooltip&quot;&gt;&lt;/div&gt;'); #New Div appended                 [...] </code></pre> <p>Therefore Selenium can find this new div id = &quot;tooltip&quot; after you hover over the div, which calls this function.</p> <pre><code>from selenium import webdriver from webdriver_manager.chrome import ChromeDriverManager from selenium.webdriver.common.action_chains import ActionChains     import time      driver_second = webdriver.Firefox(executable_path=DRIVER_PATH) driver_second.get('https://www.leagueofgraphs.com/summoner/eune/AnFrey99') time.sleep(3)  infos = driver_second.find_elements_by_class_name('gameDate')  for i in infos:     hover = ActionChains(driver_second).move_to_element(i)     hover.perform()     time.sleep(1)     DateofGame = driver_second.find_element_by_id('tooltip').text     print(DateofGame) </code></pre> <p>output:</p> <pre><code>10.2.2021 14:33:22 - 31min 48s 10.2.2021 14:02:55 - 20min 47s 29.1.2021 04:12:09 - 29min 13s 29.1.2021 03:23:24 - 34min 54s 29.1.2021 02:44:22 - 32min 46s 29.1.2021 01:35:22 - 32min 48s 28.1.2021 23:23:19 - 24min 35s 10.1.2021 01:12:34 - 21min 8s 8.1.2021 22:27:35 - 21min 4s 8.1.2021 22:08:01 - 14min 51s </code></pre>"			2021-02-10 18:04:50.873 UTC
66146328	javascript|python	Looping through array of objects in Python coming from Javascript	"<p>Coming from Javascript I am trying to learn Python(very slowly). I'm trying to work out how to do a loop in Python script over an array of objects.</p> <p>For example say I have the following object:</p> <pre><code>contacts = [{name:&quot;John&quot;,age:30},{name:&quot;Peter&quot;,age:20},{name:&quot;Sarah&quot;,age:33}] </code></pre> <p>In javascript if I wanted to loop through the array and print to console each name I would do the following.</p> <pre><code>for (let i = 0; i &lt; contacts.length; ++i) {     console.log(contacts[i][name]) } </code></pre> <p>Which would print out:</p> <pre><code>John Peter Sarah </code></pre> <p>Furthermore if I wanted to print the last name in the the list ie Sarah I would do the following</p> <pre><code>console.log(contacts[contacts.length-1][name]) </code></pre> <p>My question is how would I do this in Python?</p>"	2021-02-10 22:53:12.9 UTC	66146409	"<p>Try using a for each loop</p> <pre><code>contacts = [{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30},{&quot;name&quot;:&quot;Peter&quot;,&quot;age&quot;:20},{&quot;name&quot;:&quot;Sarah&quot;,&quot;age&quot;:33}] for contact in contacts:     print(contact[&quot;name&quot;]) </code></pre>"			2021-02-10 23:01:31.723 UTC
66146328	javascript|python	Looping through array of objects in Python coming from Javascript	"<p>Coming from Javascript I am trying to learn Python(very slowly). I'm trying to work out how to do a loop in Python script over an array of objects.</p> <p>For example say I have the following object:</p> <pre><code>contacts = [{name:&quot;John&quot;,age:30},{name:&quot;Peter&quot;,age:20},{name:&quot;Sarah&quot;,age:33}] </code></pre> <p>In javascript if I wanted to loop through the array and print to console each name I would do the following.</p> <pre><code>for (let i = 0; i &lt; contacts.length; ++i) {     console.log(contacts[i][name]) } </code></pre> <p>Which would print out:</p> <pre><code>John Peter Sarah </code></pre> <p>Furthermore if I wanted to print the last name in the the list ie Sarah I would do the following</p> <pre><code>console.log(contacts[contacts.length-1][name]) </code></pre> <p>My question is how would I do this in Python?</p>"	2021-02-10 22:53:12.9 UTC	66146404	"<pre><code>contacts = [{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30},{&quot;name&quot;:&quot;Peter&quot;,&quot;age&quot;:20},{&quot;name&quot;:&quot;Sarah&quot;,&quot;age&quot;:33}]  for i in range(len(contacts)):     print(contacts[i][&quot;name&quot;])      for person in contacts:     print(person[&quot;name&quot;]) </code></pre> <p>The second way would be considered more &quot;Pythonic&quot;.</p> <p><strong>EDIT - added to answer question in comment</strong></p> <p>To access only the last record in the list, use a negative offset.</p> <pre><code>print(contacts[-1][&quot;name&quot;]) </code></pre>"			2021-02-10 23:01:10.79 UTC
66151440	python|antlr4	Javascript grammar in antlr4 and python	"<p>I have used the following link for JavaScript grammar .</p> <pre><code>https://github.com/antlr/grammars-v4/tree/master/javascript/javascript/Python </code></pre> <p>i have used antlr4.8 and ntlr4-python3-runtime==4.8. when i use the following code it gives following error . <br> error:</p> <pre><code>PS N:\antlr4\sample\py4.8&gt; python main.py test.js Running Test started for: test.js Created parsers Traceback (most recent call last):   File &quot;main.py&quot;, line 25, in &lt;module&gt;     main(sys.argv)   File &quot;main.py&quot;, line 20, in main     tree = parser.program()   File &quot;N:\antlr4\sample\py4.8\JavaScriptParser.py&quot;, line 880, in program     self.enterRule(localctx, 0, self.RULE_program)   File &quot;C:\Users\root\AppData\Local\Programs\Python\Python38\lib\site-packages\antlr4\Parser.py&quot;, line 366, in enterRule     self._ctx.start = self._input.LT(1) . . .   File &quot;N:\antlr4\sample\py4.8\JavaScriptLexer.py&quot;, line 919, in sempred     return pred(localctx, predIndex)   File &quot;N:\antlr4\sample\py4.8\JavaScriptLexer.py&quot;, line 925, in HashBangLine_sempred     return  this.IsStartOfFile() NameError: name 'this' is not defined </code></pre> <p>code:</p> <pre><code>import sys from antlr4 import * import JavaScriptLexer import JavaScriptParser  JSL = JavaScriptLexer.JavaScriptLexer JSP = JavaScriptParser.JavaScriptParser  class WriteTreeListener(ParseTreeListener):     def visitTerminal(self, node:TerminalNode):         print (&quot;Visit Terminal: &quot; + str(node) + &quot; - &quot; + repr(node))  def main(argv):     input_stream = FileStream(argv[1])     print(&quot;Test started for: &quot; + argv[1])     lexer = JSL(input_stream)     stream = CommonTokenStream(lexer)     parser = JSP(stream)     print(&quot;Created parsers&quot;)     tree = parser.program()     ParseTreeWalker.DEFAULT.walk(WriteTreeListener(), tree)  if __name__ == '__main__':     print(&quot;Running&quot;)     main(sys.argv)  print(&quot;Hello&quot;) </code></pre> <p>What have I done wrong ?</p>"	2021-02-11 08:49:36.197 UTC	73592762	"<p>Run the script <code>transformGrammar.py</code>, as indicated in documentation.</p>"			2022-09-03 13:54:03.137 UTC
66151440	python|antlr4	Javascript grammar in antlr4 and python	"<p>I have used the following link for JavaScript grammar .</p> <pre><code>https://github.com/antlr/grammars-v4/tree/master/javascript/javascript/Python </code></pre> <p>i have used antlr4.8 and ntlr4-python3-runtime==4.8. when i use the following code it gives following error . <br> error:</p> <pre><code>PS N:\antlr4\sample\py4.8&gt; python main.py test.js Running Test started for: test.js Created parsers Traceback (most recent call last):   File &quot;main.py&quot;, line 25, in &lt;module&gt;     main(sys.argv)   File &quot;main.py&quot;, line 20, in main     tree = parser.program()   File &quot;N:\antlr4\sample\py4.8\JavaScriptParser.py&quot;, line 880, in program     self.enterRule(localctx, 0, self.RULE_program)   File &quot;C:\Users\root\AppData\Local\Programs\Python\Python38\lib\site-packages\antlr4\Parser.py&quot;, line 366, in enterRule     self._ctx.start = self._input.LT(1) . . .   File &quot;N:\antlr4\sample\py4.8\JavaScriptLexer.py&quot;, line 919, in sempred     return pred(localctx, predIndex)   File &quot;N:\antlr4\sample\py4.8\JavaScriptLexer.py&quot;, line 925, in HashBangLine_sempred     return  this.IsStartOfFile() NameError: name 'this' is not defined </code></pre> <p>code:</p> <pre><code>import sys from antlr4 import * import JavaScriptLexer import JavaScriptParser  JSL = JavaScriptLexer.JavaScriptLexer JSP = JavaScriptParser.JavaScriptParser  class WriteTreeListener(ParseTreeListener):     def visitTerminal(self, node:TerminalNode):         print (&quot;Visit Terminal: &quot; + str(node) + &quot; - &quot; + repr(node))  def main(argv):     input_stream = FileStream(argv[1])     print(&quot;Test started for: &quot; + argv[1])     lexer = JSL(input_stream)     stream = CommonTokenStream(lexer)     parser = JSP(stream)     print(&quot;Created parsers&quot;)     tree = parser.program()     ParseTreeWalker.DEFAULT.walk(WriteTreeListener(), tree)  if __name__ == '__main__':     print(&quot;Running&quot;)     main(sys.argv)  print(&quot;Hello&quot;) </code></pre> <p>What have I done wrong ?</p>"	2021-02-11 08:49:36.197 UTC	71923699	"<p>Replace <code>this</code> with <code>self</code> <a href=""https://docs.python.org/3/tutorial/classes.html"" rel=""nofollow noreferrer"">(ref here)</a>. Example:</p> <p>Change <code>return  this.IsStartOfFile()</code> to <code>return  self.IsStartOfFile()</code>.</p>"			2022-04-19 10:50:22.847 UTC
66156018	javascript|python|arrays|json|flask	Sending a python list of tuples to JavaScript array of arrays not working	"<p>I'm trying to send a python list of tuples to a javascript array but for some reason, it doesn't work.</p> <p><strong>python code</strong></p> <pre><code>import json app = Flask(__name__) @app.route('/', methods=['GET', 'POST']) def stock_table():     if request.method == &quot;POST&quot;:          data = [('abc','efg','hij', &quot;klm&quot;), ('nop','qrs','tuv', &quot;wxyz&quot;)]         string_data=&quot;'&quot;         string_data+=str(json.dumps(data))         string_data+=&quot;'&quot;         return render_template('index.html', result=string_data)          else:         return render_template('index.html')  if __name__ == '__main__': app.run() </code></pre> <p><code>string_data</code> comes out as:  <code>'[[&quot;abc&quot;, &quot;efg&quot;, &quot;hij&quot;, &quot;klm&quot;], [&quot;nop&quot;, &quot;qrs&quot;, &quot;tuv&quot;, &quot;wxyz&quot;]]'</code></p> <p><strong>javascript code</strong></p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt;     &lt;h3&gt; Show stock pie graph &lt;/h3&gt;     &lt;form action=&quot;{{ url_for('stock_table') }}&quot; method=&quot;post&quot;&gt;         Enter User Name:  &lt;input type = &quot;text&quot; name= &quot;user_name&quot; /&gt;             &lt;input type=&quot;submit&quot;  value=&quot;Go!&quot;&gt;             &lt;p id=&quot;result&quot;&gt;&lt;/p&gt;                   &lt;/form&gt;      &lt;script&gt;      var array_start =&quot;{{ result }}&quot;;     arrayOfArrays = JSON.parse(array_start);     document.getElementById(&quot;result&quot;).innerHTML = arrayOfArrays;     &lt;/script&gt;  &lt;/body&gt; &lt;/html&gt; </code></pre> <p>when I run the program it doesn't show any errors, but it doesn't display the result.</p> <p>I also tried using the string that I made in javascript by just copying it and it worked!</p> <p>I think the problem is that the JSON.parse function doesn't work on the data I send from python when there is a string included in the tuple,when it's just numbers it works just fine.</p> <p>Any help would be appreciated!</p>"	2021-02-11 13:49:48.493 UTC	66158961	"<p>I'm not sure what you're up to.</p> <p>You can use a <a href=""https://jinja.palletsprojects.com/en/2.11.x/templates/#tojson"" rel=""nofollow noreferrer"">jinja2 filter</a> to convert the data into a JSON compliant string. It is also important to pay attention to the quotation marks.</p> <pre><code>@app.route('/', methods=['GET', 'POST']) def stock_table():     data = []     if request.method == &quot;POST&quot;:         data = [('abc','efg','hij', 'klm'), ('nop','qrs','tuv', 'wxyz')]     return render_template('index.html', data=data) </code></pre> <pre><code>&lt;p id=&quot;output&quot;&gt;{{ data | tojson | safe }}&lt;/p&gt; &lt;p id=&quot;result&quot;&gt;&lt;p&gt; &lt;script type=&quot;text/javascript&quot;&gt;   const data = '{{ data | tojson | safe }}';   console.log(JSON.parse(data));    document.getElementById('result').innerHTML = data; &lt;/script&gt; </code></pre> <p>If you want to use AJAX you can use <a href=""https://flask.palletsprojects.com/en/1.1.x/api/#flask.json.jsonify"" rel=""nofollow noreferrer"">jsonify</a> within your route to respond with the result in JSON format. You can find an example <a href=""https://flask.palletsprojects.com/en/1.1.x/patterns/jquery/"" rel=""nofollow noreferrer"">here</a>. Possibly you should rather use the submit event of a form there.</p>"			2021-02-11 16:43:20.17 UTC
66172595	python|python-3.x	"I am facing a problem in this memoizing this function in python, its works just fine in javascript"	"<p>I wrote this code and it was working well before I memoized it? Its supposed to return true if its possible to sum up to the targetSum using the numbers in the array, and false when its not possible</p> <pre><code>def can_sum(targetSum,numbers,memo={}):     if targetSum&lt;0:         return False     if targetSum in memo:         return memo[targetSum]     if targetSum==0:         return True     if targetSum&lt;0:         return False     for n in numbers:         remainder = targetSum-n         if can_sum(remainder,numbers,memo)==True:             memo[targetSum]=True             return True              memo[targetSum]=False     return False   #all of the values below are coming out to be true  print(can_sum(7,[2,3]))    #true      ------ print(can_sum(7,[7,5,3,4]))#true            | print(can_sum(7,[2,4]))    #false           |----[Actual Values] print(can_sum(8,[2,3,5]))  #true            | print(can_sum(300,[7,14])) #false     ------  </code></pre> <p>Please provide the solution</p>"	2021-02-12 13:19:56.573 UTC	66172873	"<p>You will have to memoize all parameters, just because a particular <code>targetSum</code> worked for some <code>numbers</code> doesn't mean it will work for others. I would recommend to use the <a href=""https://docs.python.org/3/library/functools.html#functools.lru_cache"" rel=""nofollow noreferrer""><code>functoools.lru_cache</code></a> decorator to handle that. However, function parameters must  be hashable, hence the extra wrapper to tuplify the list:</p> <pre><code>from functools import lru_cache  def can_sum(targetSum, numbers):     return _memo_can_sum(targetSum, tuple(numbers))  @lru_cache(None) def _memo_can_sum(targetSum, numbers):     if targetSum &lt;= 0:         return targetSum == 0             return any(_memo_can_sum(targetSum-n, numbers) for n in numbers) </code></pre> <p>Even for a custom memo implementation, you will have a hard time with memoizing for a list parameter.</p>"			2021-02-12 13:38:20.71 UTC
66172595	python|python-3.x	"I am facing a problem in this memoizing this function in python, its works just fine in javascript"	"<p>I wrote this code and it was working well before I memoized it? Its supposed to return true if its possible to sum up to the targetSum using the numbers in the array, and false when its not possible</p> <pre><code>def can_sum(targetSum,numbers,memo={}):     if targetSum&lt;0:         return False     if targetSum in memo:         return memo[targetSum]     if targetSum==0:         return True     if targetSum&lt;0:         return False     for n in numbers:         remainder = targetSum-n         if can_sum(remainder,numbers,memo)==True:             memo[targetSum]=True             return True              memo[targetSum]=False     return False   #all of the values below are coming out to be true  print(can_sum(7,[2,3]))    #true      ------ print(can_sum(7,[7,5,3,4]))#true            | print(can_sum(7,[2,4]))    #false           |----[Actual Values] print(can_sum(8,[2,3,5]))  #true            | print(can_sum(300,[7,14])) #false     ------  </code></pre> <p>Please provide the solution</p>"	2021-02-12 13:19:56.573 UTC	66172791	"<p>The problem is that all you're memoizing is the target value. Whatever the result of the first <code>can_sum</code> invocation returns will be the memoized result from then on for that target value. For example, you can run the same two lines of code in two separate interpreters, but swapping the order in which they're invoked changes the result for all subsequent calls for a given target value:</p> <pre><code>&gt;&gt;&gt; can_sum(7, [2, 4]) False &gt;&gt;&gt; can_sum(7, [7]) # I've seen 7 before! Last time it was False. False &gt;&gt;&gt;  </code></pre> <hr /> <pre><code>&gt;&gt;&gt; can_sum(7, [7]) True &gt;&gt;&gt; can_sum(7, [2, 4]) # I've seen 7 before! Last time it was True. True &gt;&gt;&gt;  </code></pre> <p>You need to memoize not just the target value, but the values used to sum up to the target value. However, it doesn't make sense to memoize lists of integers, since the order of the integers shouldn't matter. Sets would be more appropriate.</p>"			2021-02-12 13:32:58.96 UTC
66172595	python|python-3.x	"I am facing a problem in this memoizing this function in python, its works just fine in javascript"	"<p>I wrote this code and it was working well before I memoized it? Its supposed to return true if its possible to sum up to the targetSum using the numbers in the array, and false when its not possible</p> <pre><code>def can_sum(targetSum,numbers,memo={}):     if targetSum&lt;0:         return False     if targetSum in memo:         return memo[targetSum]     if targetSum==0:         return True     if targetSum&lt;0:         return False     for n in numbers:         remainder = targetSum-n         if can_sum(remainder,numbers,memo)==True:             memo[targetSum]=True             return True              memo[targetSum]=False     return False   #all of the values below are coming out to be true  print(can_sum(7,[2,3]))    #true      ------ print(can_sum(7,[7,5,3,4]))#true            | print(can_sum(7,[2,4]))    #false           |----[Actual Values] print(can_sum(8,[2,3,5]))  #true            | print(can_sum(300,[7,14])) #false     ------  </code></pre> <p>Please provide the solution</p>"	2021-02-12 13:19:56.573 UTC	66172888	"<p>Issue is you're using the same memo for all the runs.</p> <ul> <li>That's because default values are calculated once</li> <li>This results in subsequent runs using the same memo table</li> <li>Correct by using memo = None as default so we can compute new table for each run</li> </ul> <p><strong>Revised Code</strong></p> <pre><code>def can_sum(targetSum,numbers,memo=None):  # change default to None     if memo is None:                       # This resets memo at beginning of each run         memo = {}     if targetSum&lt;0:         return False     if targetSum in memo:         return memo[targetSum]     if targetSum==0:         return True     if targetSum&lt;0:         return False     for n in numbers:         remainder = targetSum-n         if can_sum(remainder,numbers,memo)==True:             memo[targetSum]=True             return True              memo[targetSum]=False     return False   #all of the values below are coming out to be true  print(can_sum(7,[2,3]))    #true      ------ print(can_sum(7,[7,5,3,4]))#true            | print(can_sum(7,[2,4]))    #false           |----[Revised Code Output] print(can_sum(8,[2,3,5]))  #true            | print(can_sum(300,[7,14])) #false     ------ </code></pre>"			2021-02-12 13:39:47.247 UTC
66210511	javascript|python|python-3.x|selenium|selenium-webdriver	Selenium Python - extract Javascript as string	"<p>Can I extract JavaScript code using Python Selenium, In other words, i need the js code as string</p> <pre><code>function validateForm() {   var x = document.forms[&quot;myForm&quot;][&quot;Password&quot;].value;   if (x.length &gt;= 6) {        } } </code></pre>"	2021-02-15 15:10:16.34 UTC	66248328	"<p>you can use BeautifulSoup</p> <pre><code>soup = BeautifulSoup(response.content,'html.parser') script_code = soup.find('script') </code></pre>"			2021-02-17 18:58:49.073 UTC
66217294	javascript|python|discord	Discord bot (either Python or Javascript) that can store information	"<p>So I was thinking of making a Discord bot for a Dungeons and Dragons server for me and my friends when I realized that (gasp) I don't know how to create variables or store information when it comes to Discord bots.</p> <p>(Yes, I do know how to make variables in regular Python, if that helps. I also know how to set up a bot and add it to Discord, I just need to get the hard coding down)</p> <p>So therefore, I hath decided to ask ye Stack Overflow gods, dispensers of coding wisdom and masters of carpal tunnel, to assist me with... figuring out how to make a bot that can store information and such. Fair warning, this will probably be the first of many questions.</p> <p>TL;DR: Could someone please help me make a bot that can store information about a fictional character(s) (i.e. name, age, etc.)?</p>"	2021-02-16 00:40:00.957 UTC	66222265	"<p>Look into <code>shelve</code> for python. You interact with it like it's a python dictionary/map, but it saves to a file.</p>"			2021-02-16 10:01:05.627 UTC
66217294	javascript|python|discord	Discord bot (either Python or Javascript) that can store information	"<p>So I was thinking of making a Discord bot for a Dungeons and Dragons server for me and my friends when I realized that (gasp) I don't know how to create variables or store information when it comes to Discord bots.</p> <p>(Yes, I do know how to make variables in regular Python, if that helps. I also know how to set up a bot and add it to Discord, I just need to get the hard coding down)</p> <p>So therefore, I hath decided to ask ye Stack Overflow gods, dispensers of coding wisdom and masters of carpal tunnel, to assist me with... figuring out how to make a bot that can store information and such. Fair warning, this will probably be the first of many questions.</p> <p>TL;DR: Could someone please help me make a bot that can store information about a fictional character(s) (i.e. name, age, etc.)?</p>"	2021-02-16 00:40:00.957 UTC	67222684	<p>you might be able to use this</p> <pre><code>  if msg.startswith(&quot;g?list&quot;):     fb = []     if &quot;fb&quot; in db.keys():       fb = db[&quot;fb&quot;]     await message.channel.send(fb)    await client.process_commands(message) </code></pre> <p>just make sure to change the command prefix to whatever your bots command prefix is.</p>			2021-04-23 01:07:13.213 UTC
66230817	javascript|sorting|mergesort	why does this merge sort code work in python but not in javascript	"<p>Does anyone know why this code isn't working, I tried the same code in python and it worked perfectly.</p> <pre><code>function merge(l, m, r) {     let divider = m + 1     let l_cache = l     let out_list = []     for (let i = 0; i &lt; r - l + 1; i++) {         if (l &gt; m) {             out_list.push(numbers[divider])             divider += 1         } else if (divider &gt; r) {             out_list.push(numbers[l])             l += 1         } else if (numbers[l] &lt; numbers[divider]) {             out_list.push(numbers[l])             l += 1         } else if (numbers[l] &gt;= numbers[divider]) {             out_list.push(numbers[divider])             divider += 1         }     }     for (let i = 0; i &lt; out_list.length; i++) {         numbers[i + l_cache] = out_list[i]     } }  function MergeSort(l, r) {     if (l &lt; r) {         let m = Math.floor((l + r - 1) / 2)         MergeSort(l, m)         MergeSort(m + 1, r)         merge(l, m, r)     } }  var numbers = [ 42, 60, 33, 79, 15, 0, 88, 62, 27, 46 ] MergeSort(0, numbers.length - 1) </code></pre> <p>input: <code>[42, 60, 33, 79, 15, 0, 88, 62, 27, 46]</code></p> <p>output: <code>[0, 15, 27, 33, 42, 46, 60, 46, 62 ,62]</code></p> <p>expected output: <code>[0, 15, 27, 33, 42, 46, 60, 62, 79, 88]</code></p>"	2021-02-16 19:19:56.337 UTC	66235093	"<p>The problem is that you are mutating <code>l</code> in the loop body, but still using it in your condition in <code>for (let i = 0; i &lt; r-l+1; i++)</code>. That way the merge ends too early and <code>out_list</code> doesn't contain everything it should. Fix this by using</p> <pre><code>for (let i = 0; i &lt; r-l_cache+1; i++) { //                    ^^^^^^^ </code></pre> <p>In python you probably used a <code>range()</code> which is only evaluated once and keeps its stop value.</p> <p>Alternatively you might want to not depend on arithmetic to determine the number of iterations beforehand, but use the end condition</p> <pre><code>while (l &lt;= m || divider &lt;= r) { </code></pre>"			2021-02-17 02:52:23.157 UTC
66357389	javascript|python|ajax	Can I get data from JavaScript to Python?	"<p>There is a module that's only available for JS, but my project is written in Python and it will be impossible to transfer it to JS at this point. Is there a way to transfer the data from JS without setting up a server?</p>"	2021-02-24 19:11:59.607 UTC	66358464	"<p>The short answer is <strong>no</strong>. Python and JavaScript may work together by implementing frameworks like <a href=""https://flask.palletsprojects.com/en/1.1.x/"" rel=""nofollow noreferrer"">Flask</a> and <a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">Django</a>, but to set up those you do need a server.</p> <p>You may however set up a Node.js installation on your local machine and then having it start your Python script, with arguments being the product of your JS function, by following <a href=""https://stackoverflow.com/questions/23450534/how-to-call-a-python-function-from-node-js"">this</a> example.</p>"			2021-02-24 20:35:19.793 UTC
66369944	javascript|html|python-3.x	How to display HTML/Javascript snippet on HTML page (plaintext) using python?	"<p>I am trying to display an <code>error message on HTML page</code>.</p> <p>Error message is combination of HTML/Javascript, as shown below.</p> <pre><code>WebDriverException: Message: unknown error: Element       &lt;div id=&quot;sidebar_item_Reports&quot; style=&quot;height: 18px; white-space:nowrap;&quot; onclick=&quot;             if (window.Event &amp;amp;&amp;amp; Event.stopProp)               Event.stopProp(event);           &quot; onmousedown=&quot;             if(Global.Central!=null) {             Global.Central.SelectItem('Reports',event);}             &quot; class=&quot;sidebar_item sidebar_item_selected listItemSelected_fill skinGradient&quot;&gt;...&lt;/div&gt; is not clickable at point (105, 67). Other element would receive the click: &lt;div class=&quot;overlay_concerto&quot; style=&quot;position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; z-index: 10;&quot;&gt;&lt;/div&gt;       (Session info: chrome=61.0.3163.100)       (Driver info: chromedriver=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41),platform=Windows NT 6.1.7601 SP1 x86_64) </code></pre> <p>As I embed the same, t's considered as HTML objects.</p> <ol> <li>How can I display the exact error message (as shown above, along with tags) on HTML page ?</li> <li>I am trying to do this with python. Any python modules available for this ?</li> </ol> <p><code>&lt;plaintext&gt;</code> doesn't seem to work on recent HTML versions. Tried <code>&lt;pre&gt; and &lt;code&gt;</code> tags also.</p> <p><strong>Code:</strong></p> <pre><code>var = &quot;&quot;&quot;WebDriverException: Message: unknown error: Element       &lt;div id=&quot;sidebar_item_Reports&quot; style=&quot;height: 18px; white-space:nowrap;&quot; onclick=&quot;             if (window.Event &amp;amp;&amp;amp; Event.stopProp)               Event.stopProp(event);           &quot; onmousedown=&quot;             if(Global.Central!=null) {             Global.Central.SelectItem('Reports',event);}             &quot; class=&quot;sidebar_item sidebar_item_selected listItemSelected_fill skinGradient&quot;&gt;...&lt;/div&gt; is not clickable at point (105, 67). Other element would receive the click: &lt;div class=&quot;overlay_concerto&quot; style=&quot;position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; z-index: 10;&quot;&gt;&lt;/div&gt;       (Session info: chrome=61.0.3163.100)       (Driver info: chromedriver=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41),platform=Windows NT 6.1.7601 SP1 x86_64)&quot;&quot;&quot;  file_handler = open(&quot;test.html, &quot;w&quot;) file_handler.write(&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;body&gt;&quot;+var+&quot;&lt;/body&gt;&lt;/head&gt;&lt;/html&gt;&quot;) </code></pre> <p><strong>Output on HTML page:</strong></p> <pre><code>WebDriverException: Message: unknown error: Element ... is not clickable at point (105, 67). Other element would receive the click: (Session info: chrome=61.0.3163.100) (Driver info: chromedriver=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41),platform=Windows NT 6.1.7601 SP1 x86_64) </code></pre> <p>Is this possible ? Can anyone please help me here ?</p>"	2021-02-25 13:57:04.19 UTC	66372400	"<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let st = `WebDriverException: Message: unknown error: Element &lt;div id=""sidebar_item_Reports"" style=""height: 18px; white-space:nowrap;"" onclick=""if (window.Event &amp;amp;&amp;amp; Event.stopProp)Event.stopProp(event);"" onmousedown=""if(Global.Central!=null) {Global.Central.SelectItem('Reports',event);}"" class=""sidebar_item sidebar_item_selected listItemSelected_fill skinGradient""&gt;...&lt;/div&gt; is not clickable at point (105, 67). Other element would receive the click: &lt;div class=""overlay_concerto"" style=""position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; z-index: 10;""&gt;&lt;/div&gt;(Session info: chrome=61.0.3163.100)(Driver info: chromedriver=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41),platform=Windows NT 6.1.7601 SP1 x86_64)`      let newStr = st.replace('&lt;', '&amp;lt;'); let latest = newStr.replace('&gt;', '&amp;gt;'); document.getElementById('d').innerHTML = latest;</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;     &lt;html lang=""en""&gt;     &lt;head&gt;         &lt;meta charset=""UTF-8""&gt;         &lt;meta http-equiv=""X-UA-Compatible"" content=""IE=edge""&gt;         &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;         &lt;title&gt;Document&lt;/title&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div id='d'&gt;         &lt;/div&gt;     &lt;/body&gt;     &lt;/html&gt;</code></pre> </div> </div> </p> <p><strong>EXPLANATION:</strong></p> <p>In html, if we want to print the tag name inside the page (same as your condition) we need to replace the angle brackets with <code>&amp;lt;</code>(for <code>&lt;</code>) and <code>&amp;gt;</code> (for <code>&gt;</code>).</p> <p>So in your problem, as we cannot do that manually because it is an error message not some hand-written code. So i used javascript to relace <code>&lt;</code> with <code>&amp;lt;</code> and <code>&gt;</code> with <code>&amp;gt;</code>.</p>"			2021-02-25 16:22:11.403 UTC
66378125	javascript|python	Why does this bubble sorting algorithm work in Javascript but not in Python?	"<p>In Javascript, you can get away with array sorters like these</p> <pre><code>function sorter(array) {   var done = false   while (!done) {     for (i=0; i &lt; array.length; i++) {       done = true;       if (array[i-1] &gt; array[i]) {         done = false;         var tmp = array[i-1];         array[i-1] = array[i];         array[i] = tmp;       }     }   }   return array; }  var index = [3, 8, 2, 4, 213, 5, 23, 75,23, 43]; sorter(index); console.log(index); </code></pre> <p>When I wanted to convert this code to python, I surprisingly got an infinite loop of calculating, it might be because I'm not very familiar with python.</p> <pre><code>def sorter(array):     done = False     while (done == False):         for i in range(len(array)):             done = True             if array[i-1] &gt; array[i]:                 done = False                 tmp = array[i-1]                 array[i-1] = array[i]                 array[i] = tmp     return array   index = [2, 35, 6, 4, 8, 7] sorter(index) print(index) </code></pre>"	2021-02-25 23:46:24.553 UTC	66378277	"<p>Or you can do this:</p> <pre><code>def sorter(array):     a = array.sort()     return a   index = [2, 35, 6, 4, 8, 7] sorter(index) print(index) </code></pre>"			2021-02-26 00:04:49.997 UTC
66378125	javascript|python	Why does this bubble sorting algorithm work in Javascript but not in Python?	"<p>In Javascript, you can get away with array sorters like these</p> <pre><code>function sorter(array) {   var done = false   while (!done) {     for (i=0; i &lt; array.length; i++) {       done = true;       if (array[i-1] &gt; array[i]) {         done = false;         var tmp = array[i-1];         array[i-1] = array[i];         array[i] = tmp;       }     }   }   return array; }  var index = [3, 8, 2, 4, 213, 5, 23, 75,23, 43]; sorter(index); console.log(index); </code></pre> <p>When I wanted to convert this code to python, I surprisingly got an infinite loop of calculating, it might be because I'm not very familiar with python.</p> <pre><code>def sorter(array):     done = False     while (done == False):         for i in range(len(array)):             done = True             if array[i-1] &gt; array[i]:                 done = False                 tmp = array[i-1]                 array[i-1] = array[i]                 array[i] = tmp     return array   index = [2, 35, 6, 4, 8, 7] sorter(index) print(index) </code></pre>"	2021-02-25 23:46:24.553 UTC	66378178	"<p>Yes, the problem is that you don't know Python <em>quite</em> well enough.  Your loop limits are wrong:</p> <pre><code>    for i in range(len(array)): </code></pre> <p>On the first iteration of this loop, i=0, so i-1 is -1.</p> <p>array[-1] is the <em>last</em> element of the list.  Thus, every time you start again, you swap the last element of the list with the first, and have to bubble it back to the end, never finishing.</p> <p>Any simple tracing of your program would have shown you the effect.  See this <a href=""https://ericlippert.com/2014/03/05/how-to-debug-small-programs/"" rel=""nofollow noreferrer"">lovely debugging site</a> for help.</p> <hr /> <p><strong>REPAIR</strong></p> <pre><code>    for i in range(1, len(array)): </code></pre>"			2021-02-25 23:52:10.36 UTC
66404201	javascript|python|python-3.x	Trouble converting Javascript source to Python	"<p>I'm trying to convert a Javascript function to Python. Most of it was no problem but there's one statement I'm not sure how to convert:</p> <pre class=""lang-js prettyprint-override""><code>color = +(&quot;0x&quot; + color.slice(1).replace(color.length &lt; 5 &amp;&amp; /./g, '$&amp;$&amp;')) </code></pre> <p>The Python so far is:</p> <pre class=""lang-py prettyprint-override""><code>color = +(&quot;0x&quot; + color[:1].replace(             len(color) &lt; 5 and /./g, '$&amp;$&amp;')         ) </code></pre> <p>idk what <code>+()</code> or <code>/./g</code> are for. The complete JS function is:</p> <pre class=""lang-js prettyprint-override""><code>function lightOrDark(color) {          // Variables for red, green, blue values     var r, g, b, hsp;     var threshold = 127.5     // Check the format of the color, HEX or RGB?     if (color.match(/^rgb/)) {                  // If RGB --&gt; store the red, green, blue values in separate variables         color = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);                  r = color[1];         g = color[2];         b = color[3];     } else {                  // If hex --&gt; Convert it to RGB: http://gist.github.com/983661         color = +(&quot;0x&quot; + color.slice(1).replace(color.length &lt; 5 &amp;&amp; /./g, '$&amp;$&amp;'))         console.log(color)         r = color &gt;&gt; 16;         g = color &gt;&gt; 8 &amp; 255;         b = color &amp; 255;     }          // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html     hsp = Math.sqrt(         0.299 * (r * r) +         0.587 * (g * g) +         0.114 * (b * b)     )          // Using the HSP value, determine whether the color is light or dark     return hsp &gt; threshold; } </code></pre>"	2021-02-27 22:52:12.143 UTC	66404243	"<p>The <code>/./g</code> is a regular expression and the <code>+()</code> coerces a string into a number (and the <code>0x</code> makes it hexadecimal). In Python you'd use the <code>re</code> module and the <code>int()</code> builtin for that.</p> <p>The <code>replace</code> duplicates the characters if the color is written in its short form. The Python equivalent is a <code>re.sub()</code>. You use a backslash instead of a dollar for back-references in Python's regex dialect. So <code>\1</code> refers to the first matching group.</p> <pre><code>&gt;&gt;&gt; import re &gt;&gt;&gt; color = &quot;#123456&quot; &gt;&gt;&gt; re.sub(&quot;(.)&quot;, r&quot;\1\1&quot; if len(color)&lt;5 else r&quot;\1&quot;, color[1:]) '123456' &gt;&gt;&gt; color = &quot;#abc&quot; &gt;&gt;&gt; re.sub(&quot;(.)&quot;, r&quot;\1\1&quot; if len(color)&lt;5 else r&quot;\1&quot;, color[1:]) 'aabbcc' </code></pre> <p>So for a short string, this replaces each character with itself twice, but for a long string this replaces each character with itself once (no change).</p> <p>Then you use a base of 16 to convert a hexadecimal string to an int:</p> <pre><code>&gt;&gt;&gt; int('aabbcc', 16) 11189196 </code></pre> <p>All together:</p> <pre><code>int(re.sub(&quot;(.)&quot;, r&quot;\1\1&quot; if len(color)&lt;5 else r&quot;\1&quot;, color[1:]), 16) </code></pre>"			2021-02-27 22:57:58.74 UTC
66404201	javascript|python|python-3.x	Trouble converting Javascript source to Python	"<p>I'm trying to convert a Javascript function to Python. Most of it was no problem but there's one statement I'm not sure how to convert:</p> <pre class=""lang-js prettyprint-override""><code>color = +(&quot;0x&quot; + color.slice(1).replace(color.length &lt; 5 &amp;&amp; /./g, '$&amp;$&amp;')) </code></pre> <p>The Python so far is:</p> <pre class=""lang-py prettyprint-override""><code>color = +(&quot;0x&quot; + color[:1].replace(             len(color) &lt; 5 and /./g, '$&amp;$&amp;')         ) </code></pre> <p>idk what <code>+()</code> or <code>/./g</code> are for. The complete JS function is:</p> <pre class=""lang-js prettyprint-override""><code>function lightOrDark(color) {          // Variables for red, green, blue values     var r, g, b, hsp;     var threshold = 127.5     // Check the format of the color, HEX or RGB?     if (color.match(/^rgb/)) {                  // If RGB --&gt; store the red, green, blue values in separate variables         color = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);                  r = color[1];         g = color[2];         b = color[3];     } else {                  // If hex --&gt; Convert it to RGB: http://gist.github.com/983661         color = +(&quot;0x&quot; + color.slice(1).replace(color.length &lt; 5 &amp;&amp; /./g, '$&amp;$&amp;'))         console.log(color)         r = color &gt;&gt; 16;         g = color &gt;&gt; 8 &amp; 255;         b = color &amp; 255;     }          // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html     hsp = Math.sqrt(         0.299 * (r * r) +         0.587 * (g * g) +         0.114 * (b * b)     )          // Using the HSP value, determine whether the color is light or dark     return hsp &gt; threshold; } </code></pre>"	2021-02-27 22:52:12.143 UTC	66404365	"<p>That's a fairly compact line of code. Let's deconstruct it.</p> <p>First, <code>+()</code> is the same as <code>Number()</code> in this case it can also be alternatively implemented using <code>parseInt()</code>.</p> <p>Next <code>/./g</code> is just a regular expression. On its own it does not do anything. It is just a value like <code>&quot;hello&quot;</code> or <code>3</code>. It is the first argument to <code>replace()</code>.</p> <p>So the line can be rewritten as:</p> <pre><code>let temp1 = color.slice(1); // In this case can also be rewritten as color.substr(1)                             // It basically removes the first character  if (color.length &lt; 5) {     temp1 = temp1.replace(/./g, '$&amp;$&amp;'); // This replaces each character with itself twice.                                          // For example &quot;123&quot; is replaced with &quot;112233&quot; }  let temp2 = &quot;0x&quot; + temp1. // This adds &quot;0x&quot; to the previous string so that                           // it will look like a hexadecimal number.  color = parseInt(temp2); // Convert string of hexadecimal number to a number. </code></pre> <p>I personally don't know Python but the above should be easy to rewrite in any language.</p> <p>In case you're not comfortable with regular expressions you can rewrite the number doubling code using a loop. The following is an alternative implementation that does not use any fancy functions/methods at all:</p> <pre><code>// Remove first character (color.slice(1)) let temp1 = &quot;&quot;; for (let i=1; i&lt;color.length; i++) { // copy every character except color[0]     temp1 = temp1 + color[i]; }  // Convert 3-letter color to 6-letter color, eg #69a to #6699aa if (color.length &lt; 5) {     let temp2 = &quot;&quot;;     for (let i=0; i&lt;3; i++) {         temp2 = temp2 + temp1[i] + temp1[i];     }      temp1 = temp2; }  let temp3 = &quot;0x&quot; + temp1. // This adds &quot;0x&quot; to the previous string so that                           // it will look like a hexadecimal number.  color = parseInt(temp3); // Convert string of hexadecimal number to a number. </code></pre> <p>Note that both versions of the code above does exactly the same thing as the line:</p> <pre><code>color = +(&quot;0x&quot; + color.slice(1).replace(color.length &lt; 5 &amp;&amp; /./g, '$&amp;$&amp;')) </code></pre>"			2021-02-27 23:17:03.95 UTC
66411469	python|selenium|dom|web-scraping|webdriver	How to properly scrape data from a javascript website in Python?	"<p>I am a newby in python programming and I wanted to practice webscraping. My original aim was to list top 10 players in some countries according their points. But it seems, I cannot get the whole source code of the page, hence I am not able to create my database. So when I click in Chrome on &quot;inspect\elements&quot;, I am able to see the necessary data, but with my code below, I cannot get all of it.</p> <pre><code>from selenium import webdriver url = 'https://aoe2.net/#aoe2de-leaderboard-rm-1v1' driver = webdriver.Chrome() code = driver.get(url) source = driver.page_source print(source) </code></pre> <p>Could you tell me please, what do I do wrong?</p>"	2021-02-28 16:47:21.893 UTC	66411910	"<p>tried out this code and should work:</p> <pre><code>from selenium import webdriver from time import sleep driver = webdriver.Firefox() code = driver.get('https://aoe2.net/#aoe2de-leaderboard-rm-1v1') sleep(5) #Since my internet is slow, if yours is fast enough then you can comment this line d1 = {} for i in range(1,11):     if i % 2 == 1:         val = 'odd'     else:         val = 'even'     a = driver.find_element_by_css_selector(f'tr.{val}:nth-child({i}) &gt; td:nth-child(3) &gt; a:nth-child(3)').text     d1[i] = a print(d1) </code></pre> <p>Just replace firefox with chrome, since I didn't have the Chrome Drivers Installed</p>"			2021-02-28 17:28:03.237 UTC
66419564	javascript|python|json|parsing	Parse <script type=â€œtext/javascriptâ€ twitter python	"<p>very long code.. Need parse screen_name:</p> <pre><code>&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot; nonce=&quot;YjJmNTAwODgtODBmMy00YzQ5LWJhODItMmQwNTk0Yjg4MTI1&quot;&gt;window.__INITIAL_STATE__={&quot;optimist&quot;:[],&quot;urt&quot;:{},&quot;toasts&quot;:[],&quot;needs_phone_verification&quot;:false,&quot;normal_followers_count&quot;:2,&quot;notifications&quot;:false,&quot;pinned_tweet_ids_str&quot;:[],&quot;profile_image_url_https&quot;:&quot;https://pbs.twimg.com/profile_images/1174197230003208192/qK5cqalJ_normal.jpg&quot;,&quot;profile_interstitial_type&quot;:&quot;&quot;,&quot;protected&quot;:false,&quot;featureSwitch&quot;:{&quot;config&quot;:{&quot;2fa_multikey_management_enabled&quot;:{&quot;value&quot;:false},&quot;screen_name&quot;:&quot;Vickson25435099&quot;,&quot;always_use_https&quot;:true,&quot;use_cookie_personalization&quot;:false,&quot;sleep_time&quot;:{&quot;enabled&quot;:false,&quot;end_time&quot;:null,&quot;start_time&quot;:null},&quot;geo_enabled&quot;:false,&quot;language&quot;:&quot;en&quot;,&quot;discoverable_by_email&quot;:true,&quot;discoverable_by_mobile_phone&quot;:true,&quot;personalized_trends&quot;:true,&quot;allow_media_tagging&quot;:&quot;none&quot;,&quot;allow_contributor_request&quot;:&quot;all&quot;,&quot;allow_ads_personalization&quot;:true,&quot;allow_logged_out_device_personalization&quot;:true,&quot;allow_location_history_personalization&quot;:true,&quot;allow_sharing_data_for_third_party_personalization&quot;:false,&quot;allow_dms_from&quot;:&quot;following&quot;,&quot;allow_dm_groups_from&quot;:&quot;following&quot;,&quot;translator_type&quot;:&quot;none&quot;,&quot;country_code&quot;:&quot;us&quot;,&quot;nsfw_user&quot;:false,&quot;nsfw_admin&quot;:false,&quot;ranked_timeline_setting&quot;:1,&quot;ranked_timeline_eligible&quot;:null,&quot;address_book_live_sync_enabled&quot;:false,&quot;universal_quality_filtering_enabled&quot;:&quot;enabled&quot;,&quot;dm_receipt_setting&quot;:&quot;all_disabled&quot;,&quot;alt_text_compose_enabled&quot;:null,&quot;mention_filter&quot;:&quot;unfiltered&quot;,&quot;allow_authenticated_periscope_requests&quot;:true,&quot;protect_password_reset&quot;:false,&quot;require_password_login&quot;:false,&quot;requires_login_verification&quot;:false,&quot;dm_quality_filter&quot;:&quot;enabled&quot;,&quot;autoplay_disabled&quot;:false,&quot;settings_metadata&quot;:{}},&quot;fetchStatus&quot;:&quot;loaded&quot;},&quot;dataSaver&quot;:{&quot;dataSaverMode&quot;:false},&quot;transient&quot;:{&quot;dtabBarInfo&quot;:{&quot;hide&quot;:false},&quot;loginPromptShown&quot;:false,&quot;lastViewedDmInboxPath&quot;:&quot;/messages&quot;,&quot;themeFocus&quot;:&quot;&quot;}},&quot;devices&quot;:{&quot;browserPush&quot;:{&quot;fetchStatus&quot;:&quot;none&quot;,&quot;pushNotificationsPrompt&quot;:{&quot;dismissed&quot;:false,&quot;fetchStatus&quot;:&quot;none&quot;},&quot;subscribed&quot;:false,&quot;supported&quot;:null},&quot;devices&quot;:{&quot;data&quot;:{&quot;emails&quot;:[],&quot;phone_numbers&quot;:[]},&quot;fetchStatus&quot;:&quot;none&quot;},&quot;notificationSettings&quot;:{&quot;push_settings&quot;:{&quot;error&quot;:null,&quot;fetchStatus&quot;:&quot;none&quot;},&quot;push_settings_template&quot;:{&quot;template&quot;:{&quot;settings&quot;:[]}},&quot;sms_settings&quot;:{&quot;error&quot;:null,&quot;fetchStatus&quot;:&quot;none&quot;},&quot;sms_settings_template&quot;:{&quot;template&quot;:{&quot;settings&quot;:[]}},&quot;checkin_time&quot;:null}},&quot;audio&quot;:{&quot;conversationLookup&quot;:{}},&quot;hashflags&quot;:{&quot;fetchStatus&quot;:&quot;none&quot;,&quot;hashflags&quot;:{}},&quot;friendships&quot;:{&quot;pendingFollowers&quot;:{&quot;acceptedIds&quot;:[],&quot;ids&quot;:[],&quot;fetchStatus&quot;:{&quot;bottom&quot;:&quot;none&quot;,&quot;top&quot;:&quot;none&quot;},&quot;hydratedIds&quot;:[]}},&quot;homeTimeline&quot;:{&quot;useLatest&quot;:false,&quot;fetchStatus&quot;:&quot;none&quot;},&quot;multiAccount&quot;:{&quot;fetchStatus&quot;:&quot;none&quot;,&quot;users&quot;:[],&quot;badgeCounts&quot;:{},&quot;addAccountFetchStatus&quot;:&quot;none&quot;},&quot;badgeCount&quot;:{&quot;unreadDMCount&quot;:0},&quot;ocf_location&quot;:{&quot;startLocation&quot;:{}},&quot;navigation&quot;:{},&quot;teams&quot;:{&quot;fetchStatus&quot;:&quot;none&quot;,&quot;teams&quot;:{}},&quot;cardState&quot;:{},&quot;promotedContent&quot;:{}};window.__META_DATA__={&quot;env&quot;:&quot;prod&quot;,&quot;isLoggedIn&quot;:true,&quot;isRTL&quot;:false,&quot;hasMultiAccountCookie&quot;:false,&quot;uaParserTags&quot;:[&quot;m2&quot;,&quot;rweb&quot;,&quot;msw&quot;],&quot;serverDate&quot;:1614578006755,&quot;sha&quot;:&quot;9921d3a6d626dc45b0f5a65681ef95c891d815cd&quot;};window.__PREFETCH_DATA__={&quot;items&quot;:[{&quot;key&quot;:&quot;dataUsageSettings&quot;,&quot;payload&quot;:{&quot;dataSaverMode&quot;:false}}],&quot;timestamp&quot;:1614578006700};&lt;/script&gt; </code></pre> <p>I`m trying this method</p> <pre><code>import requests import json from bs4 import BeautifulSoup  x = requests.get('https://twitter.com/home') b = BeautifulSoup(x.text, 'html.parser') for b in b.find_all('script'):     wis = x.text.split('window.__INITIAL_STATE__=')     if len(wis) &gt; 1:         data = json.loads(wis[1].split(';')[0])          print(data[&quot;screen_name&quot;]) </code></pre> <p>Result: KeyError &quot;screen_name&quot; And this way doesn't work either:</p> <pre><code>import requests import json   x = requests.get('https://twitter.com/home') html = x.text.split('window.__INITIAL_STATE__=')[0] html = html.split(';&lt;/script&gt;')[0] data = json.loads(html) print(data['screen_name']) </code></pre> <p>Result</p> <pre><code>Traceback (most recent call last):   File &quot;&lt;string&gt;&quot;, line 8, in &lt;module&gt;   File &quot;/usr/lib/python3.8/json/__init__.py&quot;, line 357, in loads     return _default_decoder.decode(s)   File &quot;/usr/lib/python3.8/json/decoder.py&quot;, line 337, in decode     obj, end = self.raw_decode(s, idx=_w(s, 0).end())   File &quot;/usr/lib/python3.8/json/decoder.py&quot;, line 355, in raw_decode     raise JSONDecodeError(&quot;Expecting value&quot;, s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0) &gt;  </code></pre>"	2021-03-01 09:30:21.897 UTC	66421822	"<p>update using full source html</p> <pre><code>for script in b.find_all('script'):     if 'window.__INITIAL_STATE__=' not in script.contents[0]:         continue      wis = script.contents[0].split('window.__INITIAL_STATE__=')     data = json.loads(wis[1].split(';window.__META_DATA__')[0])     print(data[&quot;settings&quot;][&quot;remote&quot;][&quot;settings&quot;][&quot;screen_name&quot;])     break </code></pre> <hr /> <p>you wont get <code>screen_name</code> it is only for current logged user, you have to <code>requests</code> with valid cookies to get the data.</p> <p>btw for example above, it has multiple variable (json), you want json between <code>window.__INITIAL_STATE__=</code> and <code>,&quot;devices&quot;</code></p> <pre><code>b = BeautifulSoup(html, 'html.parser')  for script in b.find_all('script'):     if 'window.__INITIAL_STATE__=' not in script.contents[0]:         continue      wis = script.contents[0].split('window.__INITIAL_STATE__=')     data = json.loads(wis[1].split(',&quot;devices&quot;')[0])     print(data['featureSwitch']['config']['screen_name'])     break </code></pre>"			2021-03-01 12:04:41.867 UTC
66424738	javascript|python|tensorflow|tensorflow.js|pyodide	Replicating a Python workflow for pre-processing of an image for Tensorflow in a Javascript environment	"<p>In my python code, I'm pre-processing an image and feeding it to a model for predictions.:</p> <pre><code>path = &quot;/Users/iamreddy831/Desktop/ArchitecturalStyle_ML/FinalTests/testimage3.jpg&quot; styles = [&quot;Baroque&quot;, &quot;NeoClassical&quot;, &quot;Gothic&quot;, &quot;Modern&quot;, &quot;Victorian&quot;] def read_image(file_path):     print(&quot;[INFO] loading and preprocessing imageâ€¦&quot;)      image = load_img(file_path, target_size=(300, 300))      image = img_to_array(image)      image = np.expand_dims(image, axis=0)     image /= 255.      return image def test_single_image(path):     styles = [&quot;Baroque&quot;, &quot;NeoClassical&quot;, &quot;Gothic&quot;, &quot;Modern&quot;, &quot;Victorian&quot;]     images = read_image(path)     time.sleep(.5)     bt_prediction = vgg19.predict(images)      tf.shape(bt_prediction)     preds = model.predict(bt_prediction)     for idx, styles, x in zip(range(0,7), styles, preds[0]):         print(&quot;ID: {}, Label: {} {}%&quot;.format(idx, styles, round(x*100,2) ))         print(&quot;Final Decision:&quot;)     time.sleep(.5)     for x in range(3):         print(&quot;.&quot;*(x+1))     time.sleep(.2)     class_predicted = np.argmax(model.predict(bt_prediction), axis=-1)     class_dictionary = generator_top.class_indices      inv_map = {v: k for k, v in class_dictionary.items()}      print(&quot;ID: {}, Label: {}&quot;.format(class_predicted[0],  inv_map[class_predicted[0]]))      return load_img(path) </code></pre> <p>How can I run this python code on a webpage to preprocess images from the page for input? I looked into Tensorflow.js and recreating the workflow, but I think because it relies on applications.vgg19 (which exists in Tensorflow but not Tensorflow.js) I have to create a python environment to do the same/similar thing:</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt; async function run(){    const image = tf.browser.fromPixels(imgcanvas);   const batchedImage = languagePluginLoader.then(function () {       console.log(pyodide.runPython(`           import sys           sys.version           import tensorflow as tf           from tensorflow import keras           from tensorflow.keras import applications           tf.keras.applications.vgg19.preprocess_input(             image, data_format=None       `));     });   const MODEL_URL = 'web_model/model.json';   const model = await tf.loadGraphModel(MODEL_URL);   const result = model.predict(batchedImage);   result.print(); run(); &lt;/script&gt; </code></pre> <p>Am I using Pyodide correctly in this case? I keep getting syntax errors when trying to execute this live. Or is there an easier way to approach this problem? The reshaping is rather complex, a [-1, 9, 9, 512] array that is dependent on convolutional layers.</p>"	2021-03-01 15:17:22.577 UTC	66440428	"<p>Your general approach looks correct (not sure why you are getting syntax errors), however a major limitation is that you will only be able to import <a href=""https://github.com/iodide-project/pyodide/tree/master/packages"" rel=""nofollow noreferrer"">packages with C extensions that have been built for pyodide</a>. Tensorflow is not in the list, and it's unlikely that it will be added soon given that it's fairly complex, and has a long list of dependencies.</p> <p>So you won't be able to import tensorflow or keras in pyodide. If you all you need is to apply <a href=""https://github.com/tensorflow/tensorflow/blob/85c8b2a817f95a3e979ecd1ed95bff1dc1335cff/tensorflow/python/keras/applications/imagenet_utils.py#L104"" rel=""nofollow noreferrer"">tf.keras.applications.vgg19.preprocess_input</a>, you can take that function and adapt it to be pure numpy which should work then if you define it in pyodide directly.</p> <p>About syntax errors, maybe try to progressively remove code lines until it's working to identify the issue.</p>"			2021-03-02 13:32:03.333 UTC
66449210	python	How would I search for files in Python in a similar way to JavaScript?	"<p>This is about file directories. So in Javascript I understand how to work back from code files to find other files. Something like:</p> <p><code>require('../folder/file')</code></p> <p>I am unsure of how to do something like this in Python. I am currently trying to open a file using <code>.open()</code>, however I am getting an error message saying the file/directory can't be found, and will only work if I put this in the directory BEFORE the one in the code. So I would like to know how to open files using the paths as I have explained.</p>"	2021-03-03 00:52:32.29 UTC	66449273	"<p>to open a file in your current directory</p> <pre><code>f = open(&quot;file.txt&quot;, &quot;r&quot;) </code></pre> <p>And to specify a location</p> <pre><code>f = open(&quot;D:\\path_to_file\file.txt&quot;, &quot;r&quot;) </code></pre> <p>I would also use a context manager so something like</p> <pre><code>with open(&quot;D:\\path_to_file\file.txt&quot;, &quot;r&quot;) as file: # Do task </code></pre> <p>this will handle closing the file/connection automatically</p>"			2021-03-03 00:59:39.577 UTC
66449210	python	How would I search for files in Python in a similar way to JavaScript?	"<p>This is about file directories. So in Javascript I understand how to work back from code files to find other files. Something like:</p> <p><code>require('../folder/file')</code></p> <p>I am unsure of how to do something like this in Python. I am currently trying to open a file using <code>.open()</code>, however I am getting an error message saying the file/directory can't be found, and will only work if I put this in the directory BEFORE the one in the code. So I would like to know how to open files using the paths as I have explained.</p>"	2021-03-03 00:52:32.29 UTC	66449241	"<p>First, check the current location of your program:</p> <pre><code>import os   print(&quot;current location-&gt; %s&quot; %os.getcwd()) </code></pre> <p>From experience, you are actually not in the location you thought.</p> <p>Then, set the current location by</p> <pre><code>current_path = os.path.dirname(__file__) </code></pre> <p><strong>Here I post a complete version:</strong></p> <pre><code> import os   print(&quot;current location-&gt; %s&quot; %os.getcwd())   current_path = os.path.dirname(__file__)   def read_file() :     with open(current_path + &quot;/user_info.txt&quot; , encoding = 'utf-8') as f_obj :         content = f_obj.readline()         print(&quot;content -&gt; %s&quot; %content)   if __name__ == '__main__' :     read_file() </code></pre> <p>Another way to do so is to open a file using the absolution path. like</p> <pre><code>C:\Users\Frank\Desktop\a.txt </code></pre>"			2021-03-03 00:56:15.633 UTC
66449210	python	How would I search for files in Python in a similar way to JavaScript?	"<p>This is about file directories. So in Javascript I understand how to work back from code files to find other files. Something like:</p> <p><code>require('../folder/file')</code></p> <p>I am unsure of how to do something like this in Python. I am currently trying to open a file using <code>.open()</code>, however I am getting an error message saying the file/directory can't be found, and will only work if I put this in the directory BEFORE the one in the code. So I would like to know how to open files using the paths as I have explained.</p>"	2021-03-03 00:52:32.29 UTC	66449265	"<p>If I understand you correctly, you want to know how to open a file in an folder ontop of your current working folder i.E:</p> <pre><code>-Folder --test.txt -main.py </code></pre> <p>then you would use something like this</p> <pre><code>with open('./test/test.txt','r') as file:     print(file.read()) </code></pre> <p>the <code>../</code> indicates you want to go one folder back. to start from your current working folder, where you main.py lies, you use <code>./</code></p>"			2021-03-03 00:59:01.253 UTC
66479185	python|jupyter-notebook	Suppress the message <IPython.core.display.Javascript object> in Jupyter notebook/lab	"<p>I am using python 3.8 with jupyter notebook on a MacPro, OS is Big Sur; following are the details regarding the version;</p> <pre><code> jupyter core     : 4.6.3  jupyter-notebook : 6.1.1  qtconsole        : 4.7.5  ipython          : 7.17.0  ipykernel        : 5.3.4  jupyter client   : 6.1.6  jupyter lab      : 2.2.4  nbconvert        : 5.6.1   ipywidgets       : 7.5.1   nbformat         : 5.0.7   traitlets        : 4.3.3 </code></pre> <p>Whenever I open a jupyter notebook file(.ipynb) then each cell has the output as well as the following message;</p> <pre><code> &lt;IPython.core.display.Javascript object&gt; </code></pre> <p>Interestingly, when I re-run the cell, the message vanish,s but if I close and reopen the file, the message appears again. For reference purpose, hers is the preamble for my notebook;</p> <pre><code>import nltk  nltk.download(&quot;wordnet&quot;, quiet=True) nltk.download(&quot;words&quot;, quiet=True) nltk.download(&quot;stopwords&quot;, quiet=True) from nltk.corpus import stopwords   import warnings  warnings.filterwarnings(&quot;ignore&quot;) </code></pre> <p>Can I kindly get help, on how can the message be suppressed for ever? Advice is appreciated.</p>"	2021-03-04 16:32:57.703 UTC	68869722	<p>Try to reinstall your ipython package</p>			2021-08-21 02:42:49.6 UTC
66480686	javascript|python|django	How to fetch data from Python function to JavaScript | Django	"<p>Here, I am trying to get data(&quot;Okay, we'll see.&quot;) from <code>get_bot_response</code> function. But every time when I call it from JavaScript, it shows <code>500 (Internal Server Error)</code>. Here is how I tried,</p> <p>Views.py</p> <pre><code>def get_bot_response(request):     userText = request.GET.get('msg')     return &quot;Okay, we\'ll see.&quot; </code></pre> <p>urls.py</p> <pre><code>urlpatterns = [     ...     path('get/', views.get_bot_response, name='get'), ] </code></pre> <p>In template script</p> <pre><code>function botResponse(rawText) {         // Bot Response         $.get(&quot;/get&quot;, { msg: rawText }).done(function (data) {             const msgText = data;             appendMessage(&quot;&quot;, &quot;msgText&quot;);          });      } </code></pre> <p>As well as in <code>http://127.0.0.1:8000/get/</code> it shows <strong>Error:</strong> <code>'str' object has no attribute 'get'</code></p>"	2021-03-04 18:09:01.46 UTC	66481674	"<p>You must return a <a href=""https://docs.djangoproject.com/en/3.1/ref/request-response/#httpresponse-objects"" rel=""nofollow noreferrer""><code>HttpResponse</code></a> (or a subclass thereof) from your views. You cannot just return a string</p> <pre><code>from django.http import HttpResponse  def get_bot_response(request):     userText = request.GET.get('msg')     return HttpResponse(&quot;Okay, we\'ll see.&quot;) </code></pre>"			2021-03-04 19:21:56.717 UTC
66492951	javascript|python|beautifulsoup	Python: Setting JavaScript Variables With Beautifulsoup?	"<p>Most of the pertinent questions I see answered online revolve around accessing JS variables from parsed pages. I want to go the other way as I have an HTML page which is being printed in python by beautifulsoup. Pretty easy stuff except that the page contains a bunch of dynamic JavaScript (GUI stuff) which I am not sure how to pre-populate on render without things getting messy.</p> <p>To clarify: The page is being rendered by a python script running on a server. The python script retrieves a bunch of market data which it slices/dices and then is supposed to populate various JS variables in my HTML page. Again the static HTML is fairly straightforward and I've done that before. But populating the JS variables and arrays could get tricky. FYI - this is a single page and thus it's not worth setting up Flask or Django.</p> <p>Finally, I wonder if it may just be easier to skip beautifulsoup and simply parse a static HTML file and pre-populate placeholder strings.</p> <p>Thanks for any pointers, insights, or even better: examples ;-)</p>"	2021-03-05 12:53:00.68 UTC	66493146	"<p>If I understood it correctly you could try to create an script tag at the end of the html file with the help of beautifulsoup. In this script tag you could just set the variables like this.</p> <p>your_soup is the soup element of your page</p> <pre><code>from bs4 import BeautifulSoup  variable = &quot;Example&quot; temp_soup = BeautifulSoup('&lt;script&gt;var yourvariable = ' + variable + '&lt;/script&gt;') script_tag = temp_soup.html.body.script your_soup.body.insert(len(your_soup.body.contents), script_tag) </code></pre> <p>I hope it works.</p>"			2021-03-05 13:07:33.42 UTC
66515435	javascript|selenium|selenium-webdriver|selenium-chromedriver|google-chrome-devtools	How to call javascript function with Python Selenium?	"<p>I want to call MapITRFtoWgs84() function multiple times, actually giving input from a text file and write the output to the another text file? I think Selenium is appropirate tool for my goal. How can I do that? Here is the photo of the calling function from chrome console: <a href=""https://i.stack.imgur.com/7pKvy.png"" rel=""nofollow noreferrer"">ss of chrome console</a></p>"	2021-03-07 10:23:28.547 UTC	66518184	"<pre><code>   driver.execute_script(&quot;MapITRFtoWgs84()&quot;) or     driver.execute_script(&quot;$.MapITRFtoWgs84()&quot;) or     driver.execute_script(&quot;document.MapITRFtoWgs84()&quot;)  </code></pre> <p>Try any of the above methods , it depends on whether jquery is exported in the page . Else you will get $ not defined error .</p>"			2021-03-07 15:32:06.88 UTC
66525294	javascript|python|ajax|flask	Flask - Send Javascript Variable to Python	<p>I'm looking for a simple Flask example that demonstrates pressing a button in an HTML page that sends a Javascript string variable to Flask in Python and then prints that string to the terminal where the app is running.</p>	2021-03-08 06:37:29.513 UTC	66531377	"<p>Flask RESTful API. It's not that easy as you might think. You have to set up basic Flask RESTful API for this and make post requests from the JS code, passing the variable as a parameter. For the Flask side you will be good off with this <a href=""https://flask-restful.readthedocs.io/en/latest/quickstart.html#a-minimal-api"" rel=""nofollow noreferrer"">Flask RESTful documentation</a> And for the frontend you want to use something like Axios or similar things</p>"			2021-03-08 14:12:04.38 UTC
66546787	javascript|python|html|jquery|ajax	How to pass data to python scripts from JavaScript?	"<p>Here is the HTML file where in scripts portion I made an ajax request to pass some string to python function.</p> <pre class=""lang-js prettyprint-override""><code>var status = &quot;hello there!!!&quot;  $.ajax({       url: &quot;../SCRIPTS/cond.py&quot;,       type: 'POST',       data: {         'status': status       },       success: function (data) {       location.reload(true)     }   }); </code></pre> <p>Here in <code>url</code> I set the path of python scripts. Python file where I want to fetch the requested data from JS and print it.</p> <pre class=""lang-py prettyprint-override""><code>def main():     # if __name__ == &quot;__main__&quot;:     main()  def test(request):     print(request) </code></pre> <p>Note: Here I am not using any framework. Just pure HTML, JS and Python file.</p>"	2021-03-09 12:22:15.98 UTC	66547047	"<p>Your backend logic(python script in this case) must be hosted on a http server. An &quot;ajax&quot; request is an http request. You can not POST something to a file on the local file system. Are you running your script on a server? If so, you should be able to access it via a http(s):// type URL.</p>"			2021-03-09 12:39:06.293 UTC
66569466	python|html|selenium	"Selenium & Python: Button not interactable; href=""javascript:void(0);"" onclick attribute"	"<p>I am trying to click this button</p> <p> Next &gt;&gt; </p> <p>My code is</p> <pre><code>next_page = driver.find_element_by_xpath(&quot;//a[contains(text(), 'Next')]&quot;) next_page.click() </code></pre> <p>I have also tried using class name and onclick attribute name but they don't work either.</p> <p>The code returns the error as ElementNotInteractableException: Message: element not interactable (Session info: chrome=88.0.4324.192).</p>"	2021-03-10 17:00:22.743 UTC	66569559	"<p>It's possible the button is hidden and not accessible directly.  Maybe try this:</p> <pre><code>from selenium.webdriver.common.action_chains import ActionChains  next_page = driver.find_element_by_xpath(&quot;//a[contains(text(), 'Next')]&quot;) driver.implicitly_wait(10) ActionChains(driver).move_to_element(next_page).click(next_page).perform() </code></pre> <p><a href=""https://stackoverflow.com/questions/44119081/how-do-you-fix-the-element-not-interactable-exception"">How do you fix the &quot;element not interactable&quot; exception?</a></p>"			2021-03-10 17:05:55.523 UTC
66582991	javascript|python	Javascript to Python - low/high byte addition	"<p>I try to convert the following JS code into Python code. It's not my function, but I have to use it.</p> <pre><code>function combineBytes(high, low) {   high = parseInt(high || &quot;0&quot;, 10);   low = parseInt(low || &quot;0&quot;, 10);   high * 4294967296 + low; } </code></pre> <p>Does anyone know how to convert <code>high || &quot;0&quot;</code> into Python?</p>"	2021-03-11 12:54:25.263 UTC	66583068	"<p>high is passed argument to the function  ,this will work</p> <pre><code>   int (high or 0); </code></pre>"			2021-03-11 12:59:43.947 UTC
66582991	javascript|python	Javascript to Python - low/high byte addition	"<p>I try to convert the following JS code into Python code. It's not my function, but I have to use it.</p> <pre><code>function combineBytes(high, low) {   high = parseInt(high || &quot;0&quot;, 10);   low = parseInt(low || &quot;0&quot;, 10);   high * 4294967296 + low; } </code></pre> <p>Does anyone know how to convert <code>high || &quot;0&quot;</code> into Python?</p>"	2021-03-11 12:54:25.263 UTC	66583167	"<p>That function can be done in the following way.</p> <pre><code>def combineBytes(high, low):   high = int(high or 0)   low = int(low or 0)   return high * 4294967296 + low  print(combineBytes(2, None)) </code></pre> <p>By default the base to transform is 10.</p> <p>In Python &quot;or&quot; is replaced by || in js</p> <p><code>high || &quot;0&quot;</code> is equivalent to <code>high or 0</code> in python.</p> <p>keep in mind that the data type must be integer and <code>&quot;0&quot;</code> would be string</p> <p>Return:</p> <pre><code>8589934592 </code></pre>"			2021-03-11 13:05:53.657 UTC
66591768	javascript|python|selenium|click	Clicking a button in JavaScript page - Selenium/Python	"<p>My code accesses a page, and I am trying to click on the button that says &quot;Physician Program&quot; on the menu list. If you click on this on the <em><strong>browser</strong></em>, it directs you to a new webpage.</p> <p>However, there is no href on the html of the page that would help me find this link via code (I am assuming because it is JavaScript?) Currently, I just used its Xpath.</p> <p>My question is - If I am able to click on it in a browser, shouldnt I be able to click on it using Selenium? If so, how can this be done?</p> <pre><code>import time from bs4 import BeautifulSoup from selenium import webdriver driver = webdriver.Chrome()  driver.get('https://www.kidney.org/spring-clinical/program') time.sleep(6) page_source = driver.page_source soup = BeautifulSoup(page_source, 'html.parser') element1 = driver.find_element_by_xpath('//*[@id=&quot;dx-c7ad8807-6124-b55e-d292-29a4389dee8e&quot;]/div') element1.click() </code></pre>"	2021-03-11 22:56:25.023 UTC	66591945	"<p>The element is inside iframe you need to switch to iframe</p> <pre><code>driver.switch_to.frame(&quot;SCM20 Advanced Practitioner Program&quot;) element1 = driver.find_element_by_xpath(&quot;//div[text()='Physician Program']&quot;) element1.click() </code></pre> <p>Ideally you should use <code>webdriverwait</code> and wait for frame to be available.</p> <pre><code>WebDriverWait(driver,10).until(EC.frame_to_be_available_and_switch_to_it((By.NAME,&quot;SCM20 Advanced Practitioner Program&quot;)))  WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH &quot;//div[text()='Physician Program']&quot;))).click() </code></pre> <p>You need to import below libraries</p> <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By </code></pre>"			2021-03-11 23:16:47.113 UTC
66591768	javascript|python|selenium|click	Clicking a button in JavaScript page - Selenium/Python	"<p>My code accesses a page, and I am trying to click on the button that says &quot;Physician Program&quot; on the menu list. If you click on this on the <em><strong>browser</strong></em>, it directs you to a new webpage.</p> <p>However, there is no href on the html of the page that would help me find this link via code (I am assuming because it is JavaScript?) Currently, I just used its Xpath.</p> <p>My question is - If I am able to click on it in a browser, shouldnt I be able to click on it using Selenium? If so, how can this be done?</p> <pre><code>import time from bs4 import BeautifulSoup from selenium import webdriver driver = webdriver.Chrome()  driver.get('https://www.kidney.org/spring-clinical/program') time.sleep(6) page_source = driver.page_source soup = BeautifulSoup(page_source, 'html.parser') element1 = driver.find_element_by_xpath('//*[@id=&quot;dx-c7ad8807-6124-b55e-d292-29a4389dee8e&quot;]/div') element1.click() </code></pre>"	2021-03-11 22:56:25.023 UTC	66591990	"<pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By  import subprocess #other imports import time from bs4 import BeautifulSoup from selenium import webdriver driver = webdriver.Chrome()  driver.get('https://www.kidney.org/spring-clinical/program') time.sleep(6) page_source = driver.page_source soup = BeautifulSoup(page_source, 'html.parser') frame= WebDriverWait(driver,10).until(EC.presence_of_element_located(     (By.NAME, &quot;SCM20 Advanced Practitioner Program&quot;))) driver.switch_to.frame(frame) options = WebDriverWait(driver, 10).until(EC.visibility_of_all_elements_located(     (By.CSS_SELECTOR, '[class=&quot;track-selector-popup&quot;] [role=&quot;option&quot;]')))  options[0].click()  input() </code></pre> <p>Element is inside iframe so switch to it and also use waits, to switch back and interact with elements outside the frame use:</p> <pre><code>  driver.switch_to.default_content() </code></pre>"			2021-03-11 23:22:21.78 UTC
66598057	javascript|python|html|web-scraping|python-requests	How do I detect if a web page is rendered dynamically from Javascript in Python?	"<p>I am building a web scraper that has to retrieve quickly the text of a web page, from HTML only. I'm using Python, <code>requests</code> and <code>BeautifulSoup</code>. I would like to detect if the web page content is pure HTML or if it's rendered from Javascript. In this last case, I would just return an error message saying that this cannot be done.</p> <p>I know about headless browsers to render the Javascript but in this case I really just need to detect it the fastest way possible without having to render it.</p> <p>It's not really possible to detect <code>script</code> tag as there are many in every webpage and that doesn't mean the text content is rendered in Javascript necessarily.</p> <p>Is there something I could check jn the HTML that tells me accurately that the body content will be rendered from Javascript?</p> <p>Thank you</p>"	2021-03-12 10:18:56.83 UTC	66615160	"<p>There is nothing in the initial DOM that shows beforehand that the site is rendered with js. These are some stuff you could try:</p> <ul> <li>Analyzing several websites and make a guess on where the site is rendered with js based on the page's content size.</li> <li>You could also get the html of different pages of the site and compare the content length (for a js-rendered site, the contents of different pages are likely to be the same/similar before any code is executed).</li> <li>Check the content size of the scripts or detect the scripts names of famous technologies like react, vue and angular</li> </ul>"			2021-03-13 15:23:26.14 UTC
66614587	javascript|python-3.x|performance	Why is Python so much slower than JavaScript? Could it ever catch up?	"<p>I am a PhD student, and I have been creating Python programs to handle massive scientific calculations. Even after using optimal Computer Science algorithms, my scripts often take hours to complete.</p> <p>I recently tried to implement some of the heavier functions in JavaScript to compare its performance, and it was 10x times faster right away.</p> <p>This left me wondering why is JavaScript so much Faster than Python, if both are interpreted languages. Could Python could ever catch up with this performance? (Perhaps restricting a few minor operations, or adding optional declarations to improve speed).</p> <p>PS. I have read that the performance improvements that I noticed in JavaScript are powered by advanced Google Chrome technology, so I guess my question could be rephrased as asking whether these technologies could also be applied to speed up standard Python.</p>"	2021-03-13 14:24:15.363 UTC	66614653	"<p>Here the reason for python to be slow is because, python runs c programme at its backend. What I meant by it is that every variable/ object you create in python has an 'C' struct defined at its backend for find that variables size,datatype, and other three parameters. Hence, each time you run the python code it first runs that c code in backed and shows you result. Hence, python is much slower compared to javascript or java.</p>"			2021-03-13 14:31:08.353 UTC
66620221	javascript|python|django|ngrok	How to authenticate ngrok password automatically using Python and or Javascript?	"<p>I am using ngrok to expose my localhost on a raspberry pi, and ngrok is password protected. I am using Django on another computer outside my network to access a webpage(simple server) on this raspberry pi. I don't want to manually type in the username and password to ngrok.</p> <p>How can I automatically fill in the ngrok user/password, which is a popup in chrome asking for user and password?</p> <p>What I've tried: I first tried using JS in my template, just using a fetch request: <code>https://user:password@myngrokdomain.ngrok.io</code> but chrome threw an error in the console saying I can't pass in credentials in plain text like this, rightfully so...</p> <p>I then tried to use python requests:</p> <pre><code>    UN= &quot;myuser&quot;     PWD = &quot;mypassword&quot;     loginURL = &quot;https://myngrokdomain.ngrok.io&quot;     client = requests.session()     login_data = dict(username=UN, password=PWD,)     r = client.post(loginURL, data=login_data) </code></pre> <p>This returned a 401 access denied</p> <p><code>r.headers + r.reason</code> returns: <code>401 Unauthorized Unauthorized {'Content-Length': '16', 'Content-Type': 'text/plain', 'Www-Authenticate': 'Basic realm=&quot;ngrok&quot;', 'Date': 'Tue, 16 Mar 2021 15:22:15 GMT'}</code></p>"	2021-03-14 01:28:18.723 UTC	66755121	"<p>You need to distinguish whether you're making the request from a browser or from a server application.</p> <h2>Browser</h2> <p>If you're doing it from a browser you're hitting a CORS issue and ngrok doesn't support that when providing <code>--auth</code>. From the <a href=""https://ngrok.com/docs#cors-basic-auth"" rel=""nofollow noreferrer"">docs</a>:</p> <blockquote> <p>you cannot use ngrok's -auth option. ngrok's http tunnels allow you to specify basic authentication credentials to protect your tunnels. However, ngrok enforces this policy on <em>all</em> requests, including the preflight OPTIONS requests that are required by the CORS spec. In this case, your application must implement its own basic authentication</p> </blockquote> <p>In this case, your only option is to implement authentication in your application instead of using ngrok's <code>--auth</code>.</p> <h2>Server</h2> <p>If you're sending the request from a server application you won't get into any CORS issue but you need to provide the Basic Authentication credentials properly.</p> <p>Say you have your application exposed via ngrok at <code>http://myapp.ngrok.io</code> protected via <code>--auth user:pass</code>.</p> <p>In plain Node.js you would do something like this:</p> <pre class=""lang-js prettyprint-override""><code>const http = require('http')  http.get('http://myapp.ngrok.io', { auth: 'user:pass' }, res =&gt; {   const chunks = []    res.on('data', chunk =&gt; {     chunks.push(chunk)   })    res.on('end', () =&gt; {     console.log(Buffer.concat(chunks).toString('utf-8'))   }) }) </code></pre> <p>Note that to hit the https url you would use Node's <code>https</code> module instead of <code>http</code>, or a higher level library that handles that for you, like <a href=""https://www.npmjs.com/package/node-fetch"" rel=""nofollow noreferrer""><code>node-fetch</code></a>.</p> <p>In Python you can do something similar and <a href=""https://stackoverflow.com/questions/44239822/urllib-request-urlopenurl-with-authentication"">this question</a> will probably get you on the right path.</p>"			2021-03-22 23:18:23.46 UTC
66620221	javascript|python|django|ngrok	How to authenticate ngrok password automatically using Python and or Javascript?	"<p>I am using ngrok to expose my localhost on a raspberry pi, and ngrok is password protected. I am using Django on another computer outside my network to access a webpage(simple server) on this raspberry pi. I don't want to manually type in the username and password to ngrok.</p> <p>How can I automatically fill in the ngrok user/password, which is a popup in chrome asking for user and password?</p> <p>What I've tried: I first tried using JS in my template, just using a fetch request: <code>https://user:password@myngrokdomain.ngrok.io</code> but chrome threw an error in the console saying I can't pass in credentials in plain text like this, rightfully so...</p> <p>I then tried to use python requests:</p> <pre><code>    UN= &quot;myuser&quot;     PWD = &quot;mypassword&quot;     loginURL = &quot;https://myngrokdomain.ngrok.io&quot;     client = requests.session()     login_data = dict(username=UN, password=PWD,)     r = client.post(loginURL, data=login_data) </code></pre> <p>This returned a 401 access denied</p> <p><code>r.headers + r.reason</code> returns: <code>401 Unauthorized Unauthorized {'Content-Length': '16', 'Content-Type': 'text/plain', 'Www-Authenticate': 'Basic realm=&quot;ngrok&quot;', 'Date': 'Tue, 16 Mar 2021 15:22:15 GMT'}</code></p>"	2021-03-14 01:28:18.723 UTC	66658604	"<p>Try doing a get on the login page first. Perhaps it's setting some cookies that it expects to be present on the post :</p> <pre><code>    UN= &quot;myuser&quot;     PWD = &quot;mypassword&quot;     loginURL = &quot;https://myngrokdomain.ngrok.io&quot;     client = requests.session()     login_data = dict(username=UN, password=PWD,)     client.get(loginURL )     r = client.post(loginURL, data=login_data) </code></pre>"			2021-03-16 15:44:05.06 UTC
66620221	javascript|python|django|ngrok	How to authenticate ngrok password automatically using Python and or Javascript?	"<p>I am using ngrok to expose my localhost on a raspberry pi, and ngrok is password protected. I am using Django on another computer outside my network to access a webpage(simple server) on this raspberry pi. I don't want to manually type in the username and password to ngrok.</p> <p>How can I automatically fill in the ngrok user/password, which is a popup in chrome asking for user and password?</p> <p>What I've tried: I first tried using JS in my template, just using a fetch request: <code>https://user:password@myngrokdomain.ngrok.io</code> but chrome threw an error in the console saying I can't pass in credentials in plain text like this, rightfully so...</p> <p>I then tried to use python requests:</p> <pre><code>    UN= &quot;myuser&quot;     PWD = &quot;mypassword&quot;     loginURL = &quot;https://myngrokdomain.ngrok.io&quot;     client = requests.session()     login_data = dict(username=UN, password=PWD,)     r = client.post(loginURL, data=login_data) </code></pre> <p>This returned a 401 access denied</p> <p><code>r.headers + r.reason</code> returns: <code>401 Unauthorized Unauthorized {'Content-Length': '16', 'Content-Type': 'text/plain', 'Www-Authenticate': 'Basic realm=&quot;ngrok&quot;', 'Date': 'Tue, 16 Mar 2021 15:22:15 GMT'}</code></p>"	2021-03-14 01:28:18.723 UTC	66658817	"<p>The authentication method used by ngrok is called HTTP Basic Auth. To use it with the requests library you pass login and password as a tuple in the <code>auth</code> argument:</p> <pre><code>r = client.post(loginURL, auth=(UN, PWD)) </code></pre> <p>Docs: <a href=""https://requests.readthedocs.io/en/master/user/authentication/#basic-authentication"" rel=""nofollow noreferrer"">Basic Authentication â€” Requests</a></p>"			2021-03-16 15:56:42.34 UTC
66625206	javascript|python|node.js|selenium|beautifulsoup	"Need guidance on paginating through this URL using Python (requests, beautifulsoup or selenium) OR Javascript (node js, puppeteer)?"	"<p>So i was trying to scrape data from the following URL:</p> <p><a href=""https://www.11880.com/suche/Immobilienmakler/deutschland?branchen=3302469%7C3302464%7C3302249%7C3303516%7C3301609%7C3300129&amp;sorte=%7C&amp;modul=direct"" rel=""nofollow noreferrer"">https://www.11880.com/suche/Immobilienmakler/deutschland?branchen=3302469%7C3302464%7C3302249%7C3303516%7C3301609%7C3300129&amp;sorte=%7C&amp;modul=direct</a></p> <p>I am good at Web Scraping myself but this website is having some unique type of pagination which i guess is done using JavaScript. In fact for the first 5 pages it just appends <code>page={NO}</code> to the URL but after the first 5 pages it appends a unique identifier (query) to URL of each page along with the Page No. Most of the part of that query is similar for all pages just some characters are different to each page.</p> <p>The query looks like this:</p> <p>For Page 6:</p> <p><code>cmxXakxKcWNvelMwbko5aFZ3YzdWemtjb0p5MFZ3YmtBRmp2b1RTbXFSOXZuekl3cVBWNnJsV3NuSkR2QnZWMU1KSDVNUU5sQlRWMkFUU3dCSld4TEdMM0JReDRabU52WVBXc3BUeXhWd2JsWkdxOXNGanZwMkl1cHpBYkczTzBuSjlocGxWNnIzMGZWYVd1b3pFaW9JQXlNSkR2Qno1MW9Uazk=</code></p> <p>For Page 7:</p> <p><code>cmxXakxKcWNvelMwbko5aFZ3YzdWemtjb0p5MFZ3YmtBRmp2b1RTbXFSOXZuekl3cVBWNnJsV3NuSkR2QnZWMU1RcDJaVFYxWjJaakx3cDBNSkQyWndaM0FUVjNMd3R2WVBXc3BUeXhWd2JrQUdNOXNGanZwMkl1cHpBYkczTzBuSjlocGxWNnIzMGZWYVd1b3pFaW9JQXlNSkR2Qno1MW9Uazk=</code></p> <p><strong>Python Requests</strong></p> <p>I have checked into the code through inspect and was not able to find any such key for the next page. The current page query is there in script tags.</p> <p>Try this code to start with. this is for 7th page. You can see the <code>query</code> in the <code>params</code> which i took from <code>Network</code> tab.</p> <pre><code>import requests  headers = {     'authority': 'www.11880.com',     'cache-control': 'max-age=0',     'sec-ch-ua': '&quot;Google Chrome&quot;;v=&quot;89&quot;, &quot;Chromium&quot;;v=&quot;89&quot;, &quot;;Not A Brand&quot;;v=&quot;99&quot;',     'sec-ch-ua-mobile': '?0',     'upgrade-insecure-requests': '1',     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36',     'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',     'sec-fetch-site': 'none',     'sec-fetch-mode': 'navigate',     'sec-fetch-user': '?1',     'sec-fetch-dest': 'document',     'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8',     'cookie': '__cfduid=d3ba308b5d5994136cfb2ffd23797ae371615711538; _gcl_au=1.1.638363378.1615711421; _ga=GA1.2.1798619679.1615711421; _gid=GA1.2.1401311919.1615711421; __gads=ID=7767acb88c5bd4d2:T=1615721793:S=ALNI_MZzcwQtHCl4hWOWahxyceRZJYrgGg; randomSeed=1615724814; referrer=none; __cf_bm=d8225bc8662e1af83b9ae8c3eebbfdb7f0613cb2-1615727481-1800-AdDP/tSscGJQRiVmW/GyJBUUNHXkWvqYbiqv47MgKrvXzBt0InecHvXrwnMtnOKbtYS/YODx2Zh1ewlOlCAgtMpvjD7Vw9FG9J+gvII/EOy2; cf_chl_2=93a30b70f062111; cf_chl_prog=a41; cf_clearance=b85ac9756885d88ad6c979309aeadb222e4f60b9-1615727532-0-250; geoIPData=eyJjb3VudHJ5X2NvZGUiOm51bGwsImNvdW50cnlfY29kZTMiOm51bGwsImNvdW50cnlfbmFtZSI6bnVsbCwicmVnaW9uIjpudWxsLCJjaXR5IjpudWxsLCJwb3N0YWxfY29kZSI6bnVsbCwibGF0aXR1ZGUiOm51bGwsImxvbmdpdHVkZSI6bnVsbCwiYXJlYV9jb2RlIjpudWxsLCJkbWFfY29kZSI6bnVsbCwibWV0cm9fY29kZSI6bnVsbCwiY29udGluZW50X2NvZGUiOm51bGwsImlwIjoiMTE5LjE2MC42Ni4xMjUsIDE3Mi42OS4xMTEuMTM4In0%3D; rlData={%22randomSeed%22:1615724814%2C%22rlUrl%22:%22/suche/Immobilienmakler/deutschland?branchen=3302469%257C3302464%257C3302249%257C3303516%257C3301609%257C3300129&amp;sorte=%257C&amp;modul=direct&amp;page=5%22%2C%22adsTargeting%22:{%22ort%22:[%22deutschland%22]%2C%22suche%22:[%22Immobilienmakler%22]%2C%22url%22:[%22/suche/Immobilienmakler/deutschland%22]%2C%22branche%22:[%223302469%22%2C%223302464%22%2C%223302249%22%2C%223303516%22%2C%223301609%22%2C%223300611%22%2C%223305630%22%2C%223300129%22%2C%223305491%22%2C%223305627%22]}}', }  params = (     ('branchen', '3302469|3302464|3302249|3303516|3301609|3300129'),     ('sorte', '|'),     ('modul', 'direct'),     ('page', '7'),     ('query', 'cmxXakxKcWNvelMwbko5aFZ3YzdWemtjb0p5MFZ3YmtBRmp2b1RTbXFSOXZuekl3cVBWNnJsV3NuSkR2QnZWMU1RcDJaVFYxWjJaakx3cDBNSkQyWndaM0FUVjNMd3R2WVBXc3BUeXhWd2JrQUdNOXNGanZwMkl1cHpBYkczTzBuSjlocGxWNnIzMGZWYVd1b3pFaW9JQXlNSkR2Qno1MW9Uazk='), )  response = requests.get('https://www.11880.com/suche/Immobilienmakler/deutschland', headers=headers, params=params) </code></pre> <p><strong>Python Selenium</strong></p> <p>I tried with selenium but the website is having a captcha which pops up when i do <code>driver.get(url)</code> and i don't know how to bypass the captcha.</p> <p><strong>JavaScript OR Node</strong></p> <p>I haven't tried with JavaScript but i guess the captcha will pop up there too.</p> <p><strong>So any solution in any technology that are mentioned above, will be highly appreciated. Thank You...</strong></p>"	2021-03-14 13:42:06.533 UTC	66625648	"<p>Solution is very simple.</p> <p>Just send request like in this form, from each page. This POST request redirects users to the necessary page. <img src=""https://i.stack.imgur.com/3fWrC.png"" alt=""screencast"" /></p>"			2021-03-14 14:26:34.343 UTC
66638161	javascript|python|random|converters	What would be a proper javascript code expression to this python code	"<p>How can I convert this code to javascript? I've tried different compilers, but none of them worked for me, guess I just couldn't figure out how to use them</p> <pre><code>import random randDuration = random.randint(1000, 2000)/1000 </code></pre> <p>It's a code generating random numbers between 1 and 2 with a thousandth fraction.</p>"	2021-03-15 12:36:18.447 UTC	66638279	"<p><code>Math.random()</code> generate random <strong>float number</strong> between 0 and 1, then add 1, and the number will be from 1 to 2, and finally convert to deciaml 3 using toFixed().</p> <p><code>(Math.random()+1).toFixed(3)</code></p> <p>Since to fix convert it to string, you can convert it back using <code>Number()</code> method e.g. <code>Number(Math.random()+1).toFixed(3))</code></p>"			2021-03-15 12:45:18.277 UTC
66638161	javascript|python|random|converters	What would be a proper javascript code expression to this python code	"<p>How can I convert this code to javascript? I've tried different compilers, but none of them worked for me, guess I just couldn't figure out how to use them</p> <pre><code>import random randDuration = random.randint(1000, 2000)/1000 </code></pre> <p>It's a code generating random numbers between 1 and 2 with a thousandth fraction.</p>"	2021-03-15 12:36:18.447 UTC	66638231	<p>var randomnum = Math.floor(Math.random() * (2 * 1000 - 1 * 1000) + 1 * 1000) / (1*1000);</p>			2021-03-15 12:41:44.167 UTC
66694025	javascript|python|api|python-requests|fetch	Relation Between Fetch using Javascript and Fetch Using Python Requests	"<p>I have been trying to access an API using Python Requests and/or Scrapy but have been unsuccessful in logging in with a POST request. I decided to try my luck using a fetch command via JavaScript and was able to successfully log-in with the following code.</p> <pre><code>    fetch(&quot;https://vendoradmin.fashiongo.net/api/login&quot;, {   &quot;headers&quot;: {     &quot;accept&quot;: &quot;application/json&quot;,     &quot;accept-language&quot;: &quot;en,en-US;q=0.9,it;q=0.8,es;q=0.7&quot;,     &quot;content-type&quot;: &quot;text/plain&quot;,     &quot;sec-ch-ua&quot;: &quot;\&quot;Google Chrome\&quot;;v=\&quot;89\&quot;, \&quot;Chromium\&quot;;v=\&quot;89\&quot;, \&quot;;Not A Brand\&quot;;v=\&quot;99\&quot;&quot;,     &quot;sec-ch-ua-mobile&quot;: &quot;?0&quot;,     &quot;sec-fetch-dest&quot;: &quot;empty&quot;,     &quot;sec-fetch-mode&quot;: &quot;cors&quot;,     &quot;sec-fetch-site&quot;: &quot;same-origin&quot;   },   &quot;referrer&quot;: &quot;https://vendoradmin.fashiongo.net/&quot;,   &quot;referrerPolicy&quot;: &quot;strict-origin-when-cross-origin&quot;,   &quot;body&quot;: &quot;{\&quot;username\&quot;:\&quot;*****\&quot;,\&quot;password\&quot;:\&quot;*****\&quot;}&quot;,   &quot;method&quot;: &quot;POST&quot;,   &quot;mode&quot;: &quot;cors&quot;,   &quot;credentials&quot;: &quot;omit&quot; }) </code></pre> <p>No matter how I've tried to set my headers and payload with my Python requests, I always receive and 500 status code, but I think I'm missing something. Is there anyone out there can do a literal translation of the above JS Fetch to a Python Request? or explain why this would work with JS but not with a Python Request?</p> <p>The current Python request script I've been trying is below:</p> <pre><code>import requests  payload = {'username':'*****', 'password':'*****'}  headers = { 'Host': 'vendoradmin.fashiongo.net', 'Origin': 'https://vendoradmin.fashiongo.net/#/auth/login', 'Referrer':'https://vendoradmin.fashiongo.net/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36'}  r = requests.post(&quot;https://vendoradmin.fashiongo.net/api/login&quot;, data = payload, headers = headers) </code></pre>"	2021-03-18 15:22:28.027 UTC	66694663	"<p>Use the <code>json</code> kwarg instead of the <code>data</code> kwarg:</p> <pre class=""lang-py prettyprint-override""><code>r = requests.post(&quot;https://vendoradmin.fashiongo.net/api/login&quot;, json = payload, headers = headers) </code></pre> <p><code>data</code> makes the request form-encoded instead of using <code>application/json</code> as the content-type</p>"			2021-03-18 15:59:12.63 UTC
66700319	javascript|python|flask	pass variable from JavaScript to Python using Flask	<p>It's an error I've been stuck on for a while.</p> <pre><code>var longitude = 20 </code></pre> <p>How would I pass this to python with Flask without using any complicated GET/POST requests? My end goal is to print the statement in the python console.</p> <pre><code>print(getfromjavascript(longitude)) </code></pre> <p><em>Pseudocode</em></p>	2021-03-18 23:02:16.877 UTC	66701988	"<p>Ok, there is a lot to learn, but an example made everything better to understand:</p> <p><strong>app.py</strong></p> <pre class=""lang-py prettyprint-override""><code>from flask import Flask, request, render_template  app = Flask(__name__)  @app.route('/', methods=['GET', 'POST']) def index():     if request.method == 'POST':         print(request.form.get('longitude'))     return render_template('index.html')  if __name__ == '__main__':     app.run() </code></pre> <p><strong>templates/index.html</strong></p> <pre class=""lang-html prettyprint-override""><code>&lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;     &lt;input type=&quot;text&quot; name=&quot;longitude&quot; /&gt;     &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;/form&gt; &lt;script&gt;     var longitude = 20;     var request = new XMLHttpRequest();     request.open('POST', '/', true);     request.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);     request.onreadystatechange = function() {         // do something     };     request.send('longitude=' + longitude); &lt;/script&gt; </code></pre> <p>This simple code will print the longitute value when you click in the button only on console, but also triggers a post request from Javascript that will do the same automatically every time you access the page.</p>"			2021-03-19 03:05:31.067 UTC
66704725	opencv	How to change car body color with opencv on python or javascript	"<p>How to change the car color to ff6700 and keep the shadow effect on the hood</p> <p><a href=""https://i.stack.imgur.com/vIvJm.png"" rel=""nofollow noreferrer"">enter image description here</a></p>"	2021-03-19 08:23:21.227 UTC	66712884	"<p>Here is one way to do that in Python/OpenCV.  Basically, treat the gray image as the value channel of HSV. Then create a saturation and a hue channel and combine. Then convert back to BGR.</p> <p>This would work better if you had a mask for the windows and for the red rear lights so that they would not get colorized.</p> <p>Input:</p> <p><a href=""https://i.stack.imgur.com/xexo2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xexo2.png"" alt=""enter image description here"" /></a></p> <pre><code>import cv2 import numpy as np  # read image with alpha img = cv2.imread(&quot;gray_car.png&quot;, cv2.IMREAD_UNCHANGED)  # extract bgr channels bgr = img[:,:,0:3]  # extract alpha channel alpha = img[:,:,3]  # convert bgr to gray as value channel V = cv2.cvtColor(bgr, cv2.COLOR_BGR2GRAY)  # create saturation channel S = np.full_like(V, (128))  # create blue hue channel # blue is hue=240, but in OpenCV divide by 2 H = np.full_like(V, (120))  # merge HSV hsv = cv2.merge([H,S,V])  # convert hsv to bgr bgr_colorized = cv2.cvtColor(hsv, cv2.COLOR_HSV2BGR)  # put alpha channel back result = bgr_colorized.copy() result = cv2.cvtColor(result, cv2.COLOR_BGR2BGRA) result[:,:,3] = alpha  # save result cv2.imwrite('gray_car_colorized.png', result)  cv2.imshow('result', result) cv2.waitKey(0) cv2.destroyAllWindows() </code></pre> <br> <p>Result:</p> <p><a href=""https://i.stack.imgur.com/IeYah.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IeYah.jpg"" alt=""enter image description here"" /></a></p>"			2021-03-19 17:27:32.93 UTC
66717659	python|svg|encode	Encode a SVG image in python like JavaScript encodeURIComponent() does	"<p>In python I need to read an svg file into a string then encode it so that I can embed it into a data URI <code>data:image/svg+xml,...</code>.</p> <p>This is exactly what the JavaScript function <code>encodeURIComponent()</code> does. There is an online tool that does it perfectly as well at <a href=""https://yoksel.github.io/url-encoder/"" rel=""nofollow noreferrer"">URL-Encoder for SVG</a>.</p> <p>The problem I am experiencing is that if I link to the SVG file via <code>src=&quot;pic.svg&quot;</code> it works fine, but if I link via <code>src=&quot;data:image/svg+xml,...&quot;</code> where <code>...</code> is the content of pic.svg it fails. If I encode the content of the SVG file and replace <code>...</code> with the encoded version it works. But I need to do all of this in python where I generate my HTML using Jinja2.</p> <p>There is so much information on StackExchange about encoding and escaping and UTF-8, but I cannot find anything specifically on my problem.</p> <p>For example, the python function I need would take the following input and produce the indicated result.</p> <p><strong>Input</strong></p> <pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --&gt; &lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt; &lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot;      width=&quot;472px&quot; height=&quot;392px&quot; viewBox=&quot;0 0 472 392&quot; enable-background=&quot;new 0 0 472 392&quot; xml:space=&quot;preserve&quot;&gt; &lt;g id=&quot;Layer_3&quot;&gt;     &lt;path fill=&quot;#FFB564&quot; d=&quot;M288.7,187.7c-53.7-32.6-119.8,1-119.8,1s11.6,92.6,11.4,121.4c-0.8,2-1,4.1-0.4,6.3         c-0.2,1.2-0.6,1.7-1,1.7h1.7c1.1,3,2.9,4.3,5.8,5.3c10.9,4,21.5,6.8,33.1,7.7c3.6,0.3,7.1,0.2,10.5-0.2c1.6,1.5,4,2.4,7.1,2.1         c13.2-1.2,28-1.9,38.6-10.3c1.7-1.4,2.7-2.7,3.1-4.7h0.8L288.7,187.7z&quot;/&gt;     &lt;polygon fill=&quot;#52E2D7&quot; points=&quot;173.2,146.4 180.5,184 206.6,177.2 200.1,144     &quot;/&gt;     &lt;path fill=&quot;#FFFBE8&quot; d=&quot;M222.6,133.8c0,0-17.9-15.6-5.3,39.9c0.6,2.5,19.4,3.4,19.4,3.4L222.6,133.8z&quot;/&gt;     &lt;path fill=&quot;#F9A035&quot; d=&quot;M188.6,181.4c0,0-20.6,0-20.6,12.4c0.1,17.2,13.4,105.6,13.1,119.9c-0.2,9.3,19.1,13.6,19.1,13.6&quot;/&gt;     &lt;path fill=&quot;#FFB564&quot; d=&quot;M200.2,93.3c0,0,9.7,50.2,11.6,48.4c2-1.8,10.8-7.9,10.8-7.9l-13.5-40.5H200.2z&quot;/&gt;     &lt;path fill=&quot;#FFFBE8&quot; d=&quot;M184.1,123.6c0,0-12.9,24.6-10.9,22.8c2-1.8,27-2.4,27-2.4L184.1,123.6z&quot;/&gt;     &lt;path fill=&quot;#F25F68&quot; d=&quot;M257.9,92.8c-1.5,2-3,4.1-4.4,6.3c-1.2,1.9-2.9,2.3-4.6,1.9c-1.7,3.4-3.5,6.7-5.7,9.8         c-6.2,22.4-0.7,41.7-8.7,63.8c-1.3,3.5,0.3,0.3,2.2,2.5c5.6-3,31.1,3.5,38.7,4.2c1.7-2.3-9.1-3.3-10.3-6.6c1.4,3.9,0.2-5.2,0.2-6.1         c0.3-2.6,0-5.5,0.3-8.1c0.7-4.6-1.4-6.4-0.8-11c1.9-14.5,3.4-29.4,3-44.1c-2.2-3.9-4.1-7.9-5.6-12.1         C261,92.9,259.4,92.7,257.9,92.8z&quot;/&gt; &lt;/g&gt; &lt;g id=&quot;Layer_2&quot;&gt;              &lt;polyline fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;square&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; points=&quot;         238,171.1 245.2,109 260.4,86.9 267.7,110.8 265.1,174.8  &quot;/&gt;              &lt;polyline fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;square&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; points=&quot;         180.2,182.4 173.8,144 184.1,123.6 200.1,139.2 206.6,176.2   &quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;square&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M218.2,174.8c0,0-4.5-16.5-9-36.4c-4.8-21.3-9.7-43.8-9-45.1c1.3-2.6,5.4-4.8,8.9,0c2,2.7,7.9,21.6,13.5,40.5         c6.3,21.1,12.2,42.3,11.9,40.8&quot;/&gt;     &lt;path fill=&quot;#AF3A46&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;2.4882&quot; stroke-miterlimit=&quot;10&quot; d=&quot;M200.2,93.3c-11.6-12.2-10.4-19.2-6.6-23         c6.6-6.6-2.8-16.6-0.9-16.8c6.6-0.6,28.6,9.6,17.3,36.9&quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M245.2,109c0,0,11.3-4.8,22.5,1.9&quot;/&gt;              &lt;path fill=&quot;#FFFBE8&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M200.1,139.2c0,4.7-12.2,4.7-12.2,4.7c-3.2,5.3-14.1,0-14.1,0&quot;/&gt;     &lt;path fill=&quot;#AF3A46&quot; d=&quot;M190.9,130.3c3.4,3.3-12,3.5-12,3.5l5.1-10.2L190.9,130.3z&quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M211.8,141.6c7.7,0,11.4-6,11.4-6&quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.9763&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M169,188.8L169,188.8c43.9-21.5,94.3-16.6,119.8-1.1L277,321.9c0,0-39.9,23.2-95.2-1.1L169,188.8z&quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;4.8228&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M255.7,270.4l-2.2-32.6l-24.4-18.9L205,236.6c0.3,11.8,1.4,22.8,1.7,34.6C206.6,271.2,236,275.9,255.7,270.4z&quot;/&gt;              &lt;line fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;5&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; x1=&quot;229.5&quot; y1=&quot;219&quot; x2=&quot;229.5&quot; y2=&quot;246&quot;/&gt;              &lt;path fill=&quot;none&quot; stroke=&quot;#AF3A46&quot; stroke-width=&quot;3.8582&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-miterlimit=&quot;10&quot; d=&quot;         M233.2,240.8c-1.5,0-2.9,0.3-6.8,0.4c0,0-1-0.9-0.1,5.9c2.9,0.1,4,0.2,6.9,0.2C233.2,247.4,233.2,242.5,233.2,240.8z&quot;/&gt; &lt;/g&gt; &lt;/svg&gt;  </code></pre> <p><strong>Result</strong></p> <pre><code>%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='472px' height='392px' viewBox='0 0 472 392' enable-background='new 0 0 472 392' xml:space='preserve'%3E%3Cg id='Layer_3'%3E%3Cpath fill='%23FFB564' d='M288.7,187.7c-53.7-32.6-119.8,1-119.8,1s11.6,92.6,11.4,121.4c-0.8,2-1,4.1-0.4,6.3 c-0.2,1.2-0.6,1.7-1,1.7h1.7c1.1,3,2.9,4.3,5.8,5.3c10.9,4,21.5,6.8,33.1,7.7c3.6,0.3,7.1,0.2,10.5-0.2c1.6,1.5,4,2.4,7.1,2.1 c13.2-1.2,28-1.9,38.6-10.3c1.7-1.4,2.7-2.7,3.1-4.7h0.8L288.7,187.7z'/%3E%3Cpolygon fill='%2352E2D7' points='173.2,146.4 180.5,184 206.6,177.2 200.1,144 '/%3E%3Cpath fill='%23FFFBE8' d='M222.6,133.8c0,0-17.9-15.6-5.3,39.9c0.6,2.5,19.4,3.4,19.4,3.4L222.6,133.8z'/%3E%3Cpath fill='%23F9A035' d='M188.6,181.4c0,0-20.6,0-20.6,12.4c0.1,17.2,13.4,105.6,13.1,119.9c-0.2,9.3,19.1,13.6,19.1,13.6'/%3E%3Cpath fill='%23FFB564' d='M200.2,93.3c0,0,9.7,50.2,11.6,48.4c2-1.8,10.8-7.9,10.8-7.9l-13.5-40.5H200.2z'/%3E%3Cpath fill='%23FFFBE8' d='M184.1,123.6c0,0-12.9,24.6-10.9,22.8c2-1.8,27-2.4,27-2.4L184.1,123.6z'/%3E%3Cpath fill='%23F25F68' d='M257.9,92.8c-1.5,2-3,4.1-4.4,6.3c-1.2,1.9-2.9,2.3-4.6,1.9c-1.7,3.4-3.5,6.7-5.7,9.8 c-6.2,22.4-0.7,41.7-8.7,63.8c-1.3,3.5,0.3,0.3,2.2,2.5c5.6-3,31.1,3.5,38.7,4.2c1.7-2.3-9.1-3.3-10.3-6.6c1.4,3.9,0.2-5.2,0.2-6.1 c0.3-2.6,0-5.5,0.3-8.1c0.7-4.6-1.4-6.4-0.8-11c1.9-14.5,3.4-29.4,3-44.1c-2.2-3.9-4.1-7.9-5.6-12.1 C261,92.9,259.4,92.7,257.9,92.8z'/%3E%3C/g%3E%3Cg id='Layer_2'%3E%3Cpolyline fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='square' stroke-linejoin='round' stroke-miterlimit='10' points=' 238,171.1 245.2,109 260.4,86.9 267.7,110.8 265.1,174.8 '/%3E%3Cpolyline fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='square' stroke-linejoin='round' stroke-miterlimit='10' points=' 180.2,182.4 173.8,144 184.1,123.6 200.1,139.2 206.6,176.2 '/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='square' stroke-linejoin='round' stroke-miterlimit='10' d=' M218.2,174.8c0,0-4.5-16.5-9-36.4c-4.8-21.3-9.7-43.8-9-45.1c1.3-2.6,5.4-4.8,8.9,0c2,2.7,7.9,21.6,13.5,40.5 c6.3,21.1,12.2,42.3,11.9,40.8'/%3E%3Cpath fill='%23AF3A46' stroke='%23AF3A46' stroke-width='2.4882' stroke-miterlimit='10' d='M200.2,93.3c-11.6-12.2-10.4-19.2-6.6-23 c6.6-6.6-2.8-16.6-0.9-16.8c6.6-0.6,28.6,9.6,17.3,36.9'/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M245.2,109c0,0,11.3-4.8,22.5,1.9'/%3E%3Cpath fill='%23FFFBE8' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M200.1,139.2c0,4.7-12.2,4.7-12.2,4.7c-3.2,5.3-14.1,0-14.1,0'/%3E%3Cpath fill='%23AF3A46' d='M190.9,130.3c3.4,3.3-12,3.5-12,3.5l5.1-10.2L190.9,130.3z'/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M211.8,141.6c7.7,0,11.4-6,11.4-6'/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='4.9763' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M169,188.8L169,188.8c43.9-21.5,94.3-16.6,119.8-1.1L277,321.9c0,0-39.9,23.2-95.2-1.1L169,188.8z'/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='4.8228' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M255.7,270.4l-2.2-32.6l-24.4-18.9L205,236.6c0.3,11.8,1.4,22.8,1.7,34.6C206.6,271.2,236,275.9,255.7,270.4z'/%3E%3Cline fill='none' stroke='%23AF3A46' stroke-width='5' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='229.5' y1='219' x2='229.5' y2='246'/%3E%3Cpath fill='none' stroke='%23AF3A46' stroke-width='3.8582' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' d=' M233.2,240.8c-1.5,0-2.9,0.3-6.8,0.4c0,0-1-0.9-0.1,5.9c2.9,0.1,4,0.2,6.9,0.2C233.2,247.4,233.2,242.5,233.2,240.8z'/%3E%3C/g%3E%3C/svg%3E%0A </code></pre> <p>I am not really clear what this encoding is called or does, but from what I can see a few things are:</p> <ul> <li><p>Replace special characters with hex versions of the form <code>%HH</code></p> </li> <li><p>Convert all quotes to single quotes.</p> </li> </ul>"	2021-03-20 02:18:04.99 UTC	66718254	"<p>I have found an answer to my own question by translating a JavaScript answer into Python. Refer to <a href=""https://codepen.io/tigt/post/optimizing-svgs-in-data-uris"" rel=""nofollow noreferrer"">this</a> and <a href=""https://bl.ocks.org/jennyknuth/222825e315d45a738ed9d6e04c7a88d0"" rel=""nofollow noreferrer"">this</a>. Not sure it is the best answer, other answers welcome.</p> <pre><code>def svg_encode(svg):     # Ref: https://bl.ocks.org/jennyknuth/222825e315d45a738ed9d6e04c7a88d0     # Encode an SVG string so it can be embedded into a data URL.     enc_chars = '&quot;%#{}&lt;&gt;' # Encode these to %hex     enc_chars_maybe = '&amp;|[]^`;?:@=' # Add to enc_chars on exception     svg_enc = ''     # Translate character by character     for c in str(svg):         if c in enc_chars:             if c == '&quot;':                 svg_enc += &quot;'&quot;             else:                 svg_enc += '%' + format(ord(c), &quot;x&quot;)         else:             svg_enc += c     return ' '.join(svg_enc.split()) # Compact whitespace </code></pre> <p>SVG is just an XML format, so SVG files are text files. If you get the text out of an SVG file into a string called <code>svg</code> say, and run the string through the above function to get <code>svg_enc</code> say, then the following data URL should work.</p> <p><code>'data:image/svg+xml,' + svg_enc</code></p>"			2021-03-20 04:30:07.403 UTC
66756568	python|jupyter-notebook|ipycytoscape	Is there a way to save ipycytoscape (javascript based object) in jupyter notebook(python)?	"<p>I was creating a graph through <code>ipycytoscape</code> <a href=""https://ipycytoscape.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">https://ipycytoscape.readthedocs.io/en/latest/</a></p> <p>I have created an interactive graph through the package, in <code>jupyter notebook</code> with my python code. <br>However, is there a way to save this javascript originated graph as an image?</p> <p>below is an example code.</p> <pre><code>import networkx as nx G = nx.complete_graph(5) cyto = ipycytoscape.CytoscapeWidget() cyto.graph.add_graph_from_networkx(G) display(cyto) </code></pre>"	2021-03-23 02:46:35.903 UTC	66856869	"<p>thanks for the question. I found something that might be a start for you: <a href=""https://nbconvert.readthedocs.io/en/latest/nbconvert_library.html#Extracting-Figures-using-the-HTML-Exporter"" rel=""nofollow noreferrer"">https://nbconvert.readthedocs.io/en/latest/nbconvert_library.html#Extracting-Figures-using-the-HTML-Exporter</a> If you wanna keep discussing this I'd recommend to open an issue in our github <a href=""https://github.com/QuantStack/ipycytoscape/issues"" rel=""nofollow noreferrer"">https://github.com/QuantStack/ipycytoscape/issues</a> Cheers!</p>"			2021-03-29 15:20:08.913 UTC
66770780	javascript|python|html|web-scraping|beautifulsoup	How to get data from JavaScript tags in python?	"<p>I am trying to scrape from price data from an ecommerce website. I could do it using BS4 and getting HTML tags. code below.</p> <pre><code>import requests from glob import glob from bs4 import BeautifulSoup import pandas as pd from datetime import datetime from time import sleep  HEADERS = ({'User-Agent':             'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36',             'Accept-Language': 'en-US, en;q=0.5'}) url = &quot;https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4&quot; ##JavaScript below refers to this link #url = &quot;https://www.nykaa.com/playboy-new-york-eau-de-toilette/p/196319?ptype=product&amp;productId=196319&amp;skuId=196319&amp;categoryId=53&amp;pps=17&quot; def nykaa_prices(url,HEADERS):     try:         page = requests.get(url, headers=HEADERS)     except(HTTPError, URLError, ValueError, EnvironmentError, RecursionError, ConnectionError) as ERROR:         return None     else:         soup = BeautifulSoup(page.content, features=&quot;lxml&quot;)         data = soup.find_all(&quot;div&quot;, {&quot;class&quot;: &quot;m-content__product-des__details-wrap desktop-detail col-custom&quot;})         for dat in data:             try:                 title = dat.find('h1', class_='product-title').text                 print('Name:',title)             except:                 title = ''              try:                 MRP = float(dat.find('span', {&quot;class&quot;: &quot;mrp-price&quot;}).text.replace('â‚¹', '').strip())                 print('MRP:',MRP)             except:                 MRP = ''              try:                 offerPrice = float(dat.find('span',{&quot;class&quot; :&quot;post-card__content-price-offer&quot;}).text.replace('â‚¹', '').strip())                 print('OfferPrice:',offerPrice)             except:                 offerPrice = ''              try:                 discount = dat.find('div',{&quot;class&quot; :&quot;discount-info&quot;}).text.replace('off','').strip()                 print('Discount %:',discount)             except:                 discount = ''              try:                 rating = dat.find('div', {&quot;class&quot;: &quot;text-center rating-count-popup__rating-count&quot;}).text.split()[0]                 print('Rating:',rating)             except:                 rating = ''              try:                 temp = dat.find('div',{&quot;class&quot; :&quot;product-des__details-div scroll-to-target pull-left&quot;})                 ratings = temp.text.split()[0]                 reviews = temp.text.split()[3]                 print(&quot;Ratings: {} \nReviews: {}&quot;.format(ratings,reviews))             except:                 ratings = ''                 reviews = ''      return  test = nykaa_prices(url,HEADERS) </code></pre> <p>I see that there is a block of <code>&lt;script type=&quot;text/javascript&quot;&gt;</code> (script I want to scrape,I put at the end) which contains everything I require for my project, including review comments and other details. I see it follows a json-ish format and if I can access that, I can get this project done. However, I am unable to do so, I have been hunting the web to find clue as to how to do this, but not getting anywhere.</p> <p>In short, I want to access the <code>window.__PRELOADED_STATE__ =</code> in the JavaScript and read the tags <code>Key:Value</code> pairs contained in it. Since it contains a lot of pairs, I will decide later which all to read, but is there a way to do it?</p> <p>JavaScript:</p> <pre><code>  &lt;script type=&quot;text/javascript&quot;&gt;    window.__PRELOADED_STATE__ = {&quot;appLevelReducer&quot;:{&quot;userId&quot;:-1,&quot;pageType&quot;:null,&quot;productId&quot;:null,&quot;productSku&quot;:null,&quot;categoryId&quot;:null,&quot;selectedStore&quot;:&quot;&quot;,&quot;metaData&quot;:{&quot;productPage&quot;:{&quot;title&quot;:&quot;Product_Name: Buy Product_Name Online at Best Price in India | Nykaa&quot;,&quot;description&quot;:&quot;Product_Name Online: Buy Product_Name at best price from Nykaa. Check out Product_Name review. âœ“COD âœ“Free Shipping&quot;},&quot;brandPage&quot;:{&quot;title&quot;:&quot;Brand_Name - Buy Brand_Name Products Online at Best Price | Nykaa&quot;,&quot;description&quot;:&quot;Brand_Name products: Buy Brand_Name products online at best price on Nykaa. Browse from a wide range of Brand_Name authentic products online at low price. âœ“COD âœ“Free shipping âœ“Original Products&quot;}},&quot;storeConfig&quot;:{&quot;status&quot;:false,&quot;backToBeautyText&quot;:&quot;Nykaa Main Store&quot;,&quot;exploreMoreStores&quot;:&quot;https://images-static.nykaa.com/media/explore_stores_v5.png&quot;,&quot;stores&quot;:[]}},&quot;deliveryOptionReducer&quot;:{&quot;pinCode&quot;:null,&quot;pinCodeMessages&quot;:null},&quot;footerReducer&quot;:{&quot;dummyData&quot;:&quot;FOOTER: This is a dummy string defined in initial state of footerReducer.&quot;,&quot;footerLinks&quot;:[]},&quot;headerReducer&quot;:{&quot;categories&quot;:[]},&quot;navigationReducer&quot;:{&quot;categories&quot;:null,&quot;brands&quot;:null,&quot;desktopCategories&quot;:null,&quot;desktopBrand&quot;:null,&quot;beautyAdvice&quot;:null,&quot;nykaaLogo&quot;:null,&quot;popups&quot;:null,&quot;style&quot;:null,&quot;topStrip&quot;:&quot;&quot;},&quot;overlayReducer&quot;:{&quot;isOverlayActive&quot;:false},&quot;productReducer&quot;:{&quot;product&quot;:{&quot;description&quot;:&quot;&lt;p&gt;&lt;b&gt;SOURCED FROM PARCOS, THE OFFICIAL BRAND PARTNER&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;The new Lanvin fragrance explores a new vision of a woman: one who lives in mysterious ways, a rebellious adventurer.Free-spirited, she lives the life of a disarmingly modern princess, of one who breaks rules in general, and rules of romance in particular. Glamorous, untamed and fiercely sensual, she uses her own free will, playing with secrets and certainties. She has never been held prisoner of anything, nor of anyone. She creates her own destiny.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Notes:&lt;/b&gt;&lt;b&gt;- Top Notes: &lt;/b&gt;Pink Lady Apple, Red Currant&lt;b&gt;- Heart Notes: &lt;/b&gt;Jasmine, Freesia&lt;b&gt;- Base Notes: &lt;/b&gt;Vanilla Orchid, Musks&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Family:&lt;/b&gt;Floral&lt;/p&gt;&lt;br&gt;&lt;p&gt;&lt;b&gt;About the Brand: &lt;/b&gt;&lt;p&gt;Created in 1889 by Jeanne Lanvin, the very first French Couture House is one of the leading references in the fashion industry. In 1924, Jeanne Lanvin created Lanvin Parfums at 4, Rond-Point des Champs-Elysees. The legendary Arpege fragrance was born three years later and was an immediate&lt;br&gt;&lt;br&gt;&lt;p&gt;Explore the entire range of &lt;a href=/fragrance/women/perfumes-edt-edp/c/962 target=_blank&gt; &lt;u&gt;Perfumes (EDT &amp; EDP)&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; available on Nykaa. Shop more &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206 target=_blank&gt; &lt;u&gt;Lanvin&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; products here.You can browse through the complete world of &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity target=_blank&gt; &lt;u&gt; Lanvin Perfumes (EDT &amp; EDP) &lt;/u&gt;&lt;/font&gt;&lt;/a&gt;.&lt;/br&gt;Alternatively, you can also find many more products from the &lt;a href=/lanvin-modern-princess-eau-de-parfum/p/338884 target=_blank&gt; &lt;u&gt;Lanvin Modern Princess Eau De Parfum&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; range.&lt;/p&gt;&quot;,&quot;bulkbuyer_max_allowed_qty&quot;:null,&quot;product_id&quot;:&quot;338884&quot;,&quot;fbn&quot;:false,&quot;price&quot;:3870,&quot;show_wishlist_button&quot;:false,&quot;d_sku&quot;:null,&quot;manufacturer_ids&quot;:null,&quot;quantity&quot;:10,&quot;mrp_freeze&quot;:false,&quot;star_rating_count&quot;:9,&quot;max_allowed_qty&quot;:null,&quot;type&quot;:&quot;configurable&quot;,&quot;meta_title&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum at Nykaa.com&quot;,&quot;meta_keywords&quot;:&quot;Lanvin Modern Princess Eau De Parfum, Nykaa Luxe, Fragrance, Women&quot;,&quot;mrp&quot;:4300,&quot;is_kit_combo&quot;:false,&quot;brand_ids&quot;:&quot;5206&quot;,&quot;button_text&quot;:&quot;ADD TO BAG&quot;,&quot;is_luxe&quot;:true,&quot;offer_count&quot;:[],&quot;explore_more&quot;:[{&quot;brand&quot;:{&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;intcmp=pdp,explore_more,brand,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more products from Lanvin&quot;,&quot;id&quot;:&quot;5206&quot;},&quot;category&quot;:{&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products&quot;,&quot;id&quot;:&quot;962&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962&amp;intcmp=pdp,explore_more,category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;brand_plus_cat&quot;:{&quot;brand_id&quot;:&quot;5206&quot;,&quot;category_id&quot;:&quot;962&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products from Lanvin&quot;,&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity&amp;intcmp=pdp,explore_more,brand_and_category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;filters&quot;:{&quot;id&quot;:&quot;962&quot;,&quot;type&quot;:&quot;price&quot;,&quot;filter_value&quot;:&quot;2000-3999&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962?price=2000-3999&amp;sort=popularity&amp;intcmp=pdp,explore_more,price_and_category,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products in this price range&quot;}}],&quot;pack_size&quot;:&quot;&quot;,&quot;seller_rating&quot;:0,&quot;highlights&quot;:&quot;&quot;,&quot;pro_flag&quot;:0,&quot;category_ids&quot;:&quot;53,54,194,714,962,2880,2907,3126,3383,3841,3892,3894,5101,5206,5243,5245,5246,7648,7651,8653,8657,8742,8752,9215,9893,10396,10459,10469,11723,11783,11784,11790,12165,12166,12170,12932,13107,13687,14316,15259,15864,15865&quot;,&quot;eretailer&quot;:null,&quot;bucket_discount_percent&quot;:null,&quot;can_try&quot;:false,&quot;media&quot;:[{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_2.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_1_1.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/c/e/certificate_nykaa_lanvin_1_6.jpg&quot;}],&quot;is_free_sample&quot;:0,&quot;star_rating&quot;:4.6,&quot;brand_name&quot;:[&quot;Lanvin&quot;],&quot;shipping_quote&quot;:null,&quot;product_ingredients&quot;:&quot;&quot;,&quot;can_try_type&quot;:&quot;&quot;,&quot;meta_description&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum Online From Nykaa.com at Best Price&quot;,&quot;qna_count&quot;:0,&quot;tags&quot;:[],&quot;seller_name&quot;:&quot;Nykaa E retail private limited&quot;,&quot;in_stock&quot;:true,&quot;variant_id&quot;:null,&quot;variants&quot;:null,&quot;parent_id&quot;:&quot;338884&quot;,&quot;title&quot;:&quot;Lanvin Modern Princess Eau De Parfum&quot;,&quot;category_levels&quot;:{&quot;53&quot;:&quot;0&quot;,&quot;54&quot;:&quot;1&quot;,&quot;194&quot;:&quot;0&quot;,&quot;962&quot;:&quot;2&quot;,&quot;2880&quot;:&quot;1&quot;,&quot;2907&quot;:&quot;2&quot;,&quot;5101&quot;:&quot;1&quot;,&quot;5243&quot;:&quot;2&quot;,&quot;5245&quot;:&quot;2&quot;,&quot;11723&quot;:&quot;0&quot;,&quot;11783&quot;:&quot;1&quot;,&quot;11784&quot;:&quot;2&quot;,&quot;11790&quot;:&quot;2&quot;},&quot;is_service&quot;:false,&quot;backorders&quot;:false,&quot;featured_in_titles&quot;:null,&quot;sku&quot;:&quot;LANV_LMPEDP&quot;,&quot;featured_in_urls&quot;:null,&quot;vendor_sku&quot;:&quot;&quot;,&quot;disabled&quot;:null,&quot;catalog_tag&quot;:[&quot;luxe&quot;,&quot;nykaa&quot;,&quot;ultra_lux&quot;,&quot;store_essential&quot;,&quot;nykaaRetail&quot;],&quot;variant_type&quot;:&quot;size&quot;,&quot;psku&quot;:&quot;LANV_LMPEDP&quot;,&quot;expdt&quot;:&quot;&quot;,&quot;is_saleable&quot;:true,&quot;can_subscribe&quot;:false,&quot;add_to_cart_url&quot;:&quot;&quot;,&quot;star_rating_percentage&quot;:92,&quot;slug&quot;:&quot;lanvin-modern-princess-eau-de-parfum/p/338884&quot;,&quot;discount&quot;:10,&quot;how_to_use&quot;:&quot;&lt;p&gt;Spritz onto pulse points.&lt;/p&gt;&quot;,&quot;review_splitup&quot;:{&quot;0&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:1},&quot;1&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:2},&quot;2&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:3},&quot;3&quot;:{&quot;count&quot;:&quot;4&quot;,&quot;per&quot;:44.44444444444444,&quot;star&quot;:4},&quot;4&quot;:{&quot;count&quot;:&quot;5&quot;,&quot;per&quot;:55.55555555555556,&quot;star&quot;:5},&quot;aggregated&quot;:4.6,&quot;total_count&quot;:9},&quot;review_count&quot;:&quot;6&quot;,&quot;sizeData&quot;:{&quot;enabled&quot;:false},&quot;top_reviews&quot;:[{&quot;title&quot;:&quot;Feel like a princess&quot;,&quot;createdOn&quot;:&quot;2020-11-29 19:32:28&quot;,&quot;description&quot;:&quot;One of the classic Lanvin scents. To some extent all sweet Lanvin perfumes smell similar and this is no exception... Except this one is especially fruity and sweet! It does smell expensive and also girls in early to mid twenties, but I think any woman can pull this off. The top notes, heart notes and last notes are exactly as described. If you wanna feel like a princess, go for it. It will make you feel like you're wearing a soft pink organza dress with a sparkling tiara anywhere...\r\nThe picture is my hand holding the 60ml bottle. It's classy and cute, reminds you of a princess' dress. The liquid color is pale pink. Overall a beautiful perfume.&quot;,&quot;likeCount&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Yumi Christina&quot;,&quot;id&quot;:&quot;15884878&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:true,&quot;images&quot;:[&quot;https://images-static.nykaa.com/prod-review/1606679021424_688a0709-8223-4831-9bf5-e98eaa1313b6_1.jpg&quot;],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/11/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Eau de parfum&quot;,&quot;createdOn&quot;:&quot;2020-06-05 11:36:16&quot;,&quot;description&quot;:&quot;It is very sensual kind of a fragrance , it stays long and packaging is so good&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;priyal sharma&quot;,&quot;id&quot;:&quot;13390905&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;05/06/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;One of my favourtie fragrances&quot;,&quot;createdOn&quot;:&quot;2020-03-15 17:40:49&quot;,&quot;description&quot;:&quot;It has a perfect blend of sensual and fresh fragrance combination. Simply amazing one&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Ishu Singh&quot;,&quot;id&quot;:&quot;12949471&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;15/03/2020&quot;,&quot;rating&quot;:4},{&quot;title&quot;:&quot;Smells so good&quot;,&quot;createdOn&quot;:&quot;2020-01-25 10:28:40&quot;,&quot;description&quot;:&quot;Best packaging, long-lasting and nice fragrance.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;aanchal raj&quot;,&quot;id&quot;:&quot;12332489&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;25/01/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Best ever.&quot;,&quot;createdOn&quot;:&quot;2019-07-29 10:27:54&quot;,&quot;description&quot;:&quot;I love how good it makes me feel. My absolute favorite.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Shraddha Verma&quot;,&quot;id&quot;:&quot;6192251&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/07/2019&quot;,&quot;rating&quot;:5}],&quot;offers&quot;:[],&quot;options&quot;:[ </code></pre> <p>There is a lot more to this script, I can send a file if required, else inspecting this <a href=""https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4"" rel=""nofollow noreferrer"">URL</a> will show the script.</p> <p>Any help appreciated!</p>"	2021-03-23 20:23:05.393 UTC	66908149	"<p>I made the following the code based on @Cute Panda's inputs.</p> <pre><code>    try:         page = requests.get(url, headers=HEADERS)     except(HTTPError, URLError, ValueError, EnvironmentError, RecursionError, ConnectionError) as ERROR:         return None     else:         bs = BeautifulSoup(page.content, features=&quot;lxml&quot;)         x = bs.find_all('script', {'type': 'text/javascript'})         # if len(x) == 0:         #     return None         for item in x:             p = item.contents             f = &quot;&quot;.join(p)             if &quot;window.__PRELOADED_STATE__&quot; in f:                 #print(p[0].split(&quot;\n&quot;)[0])                 text = p[0].split(&quot;\n&quot;)[0]                 break         else:             return None          data_json = json.loads(text.replace(&quot;window.__PRELOADED_STATE__ = &quot;,&quot;&quot;))         _l_common = [&quot;title&quot;,&quot;star_rating_count&quot;,&quot;star_rating&quot;]         _l_option = [&quot;brand_name&quot;, &quot;parent_id&quot;, &quot;id&quot;, &quot;pack_size&quot;, &quot;mrp&quot;, &quot;discount&quot;, &quot;price&quot;, &quot;inStock&quot;]         _l_noOption = [&quot;brand_name&quot;, &quot;parent_id&quot;, &quot;product_id&quot;, &quot;pack_size&quot;, &quot;mrp&quot;, &quot;discount&quot;, &quot;price&quot;, &quot;in_stock&quot;]         _output = []         _out_common = [data_json['productReducer']['product'][_key] for _key in _l_common]         if &quot;options&quot; in data_json['productReducer']['product'].keys():             for _item in range(len(data_json['productReducer']['product']['options'])):                 _val = [data_json['productReducer']['product']['options'][_item][_key] for _key in _l_option]                 _val.extend(_out_common)                 _output.append(flatten_list(_val))         else:             _val = [data_json['productReducer']['product'][_key] for _key in _l_noOption]             _val.extend(_out_common)             _output.append(flatten_list(_val))     return _output```  Now there is a lot of information I am not picking up. I don't really know how to store all that information. Excel ofcourse won't work. I was thinking a database to keep all the information from various tags from the code. Run it once and store a lot of static info (all except price and discount info is relevant in this case), but I really don't know where to start and how to even do it. And I want to experiment with cloud storage.  Any suggestions are greatly appreciated.  Thanks Cute Panda once again! </code></pre>"			2021-04-01 16:18:40.197 UTC
66770780	javascript|python|html|web-scraping|beautifulsoup	How to get data from JavaScript tags in python?	"<p>I am trying to scrape from price data from an ecommerce website. I could do it using BS4 and getting HTML tags. code below.</p> <pre><code>import requests from glob import glob from bs4 import BeautifulSoup import pandas as pd from datetime import datetime from time import sleep  HEADERS = ({'User-Agent':             'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36',             'Accept-Language': 'en-US, en;q=0.5'}) url = &quot;https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4&quot; ##JavaScript below refers to this link #url = &quot;https://www.nykaa.com/playboy-new-york-eau-de-toilette/p/196319?ptype=product&amp;productId=196319&amp;skuId=196319&amp;categoryId=53&amp;pps=17&quot; def nykaa_prices(url,HEADERS):     try:         page = requests.get(url, headers=HEADERS)     except(HTTPError, URLError, ValueError, EnvironmentError, RecursionError, ConnectionError) as ERROR:         return None     else:         soup = BeautifulSoup(page.content, features=&quot;lxml&quot;)         data = soup.find_all(&quot;div&quot;, {&quot;class&quot;: &quot;m-content__product-des__details-wrap desktop-detail col-custom&quot;})         for dat in data:             try:                 title = dat.find('h1', class_='product-title').text                 print('Name:',title)             except:                 title = ''              try:                 MRP = float(dat.find('span', {&quot;class&quot;: &quot;mrp-price&quot;}).text.replace('â‚¹', '').strip())                 print('MRP:',MRP)             except:                 MRP = ''              try:                 offerPrice = float(dat.find('span',{&quot;class&quot; :&quot;post-card__content-price-offer&quot;}).text.replace('â‚¹', '').strip())                 print('OfferPrice:',offerPrice)             except:                 offerPrice = ''              try:                 discount = dat.find('div',{&quot;class&quot; :&quot;discount-info&quot;}).text.replace('off','').strip()                 print('Discount %:',discount)             except:                 discount = ''              try:                 rating = dat.find('div', {&quot;class&quot;: &quot;text-center rating-count-popup__rating-count&quot;}).text.split()[0]                 print('Rating:',rating)             except:                 rating = ''              try:                 temp = dat.find('div',{&quot;class&quot; :&quot;product-des__details-div scroll-to-target pull-left&quot;})                 ratings = temp.text.split()[0]                 reviews = temp.text.split()[3]                 print(&quot;Ratings: {} \nReviews: {}&quot;.format(ratings,reviews))             except:                 ratings = ''                 reviews = ''      return  test = nykaa_prices(url,HEADERS) </code></pre> <p>I see that there is a block of <code>&lt;script type=&quot;text/javascript&quot;&gt;</code> (script I want to scrape,I put at the end) which contains everything I require for my project, including review comments and other details. I see it follows a json-ish format and if I can access that, I can get this project done. However, I am unable to do so, I have been hunting the web to find clue as to how to do this, but not getting anywhere.</p> <p>In short, I want to access the <code>window.__PRELOADED_STATE__ =</code> in the JavaScript and read the tags <code>Key:Value</code> pairs contained in it. Since it contains a lot of pairs, I will decide later which all to read, but is there a way to do it?</p> <p>JavaScript:</p> <pre><code>  &lt;script type=&quot;text/javascript&quot;&gt;    window.__PRELOADED_STATE__ = {&quot;appLevelReducer&quot;:{&quot;userId&quot;:-1,&quot;pageType&quot;:null,&quot;productId&quot;:null,&quot;productSku&quot;:null,&quot;categoryId&quot;:null,&quot;selectedStore&quot;:&quot;&quot;,&quot;metaData&quot;:{&quot;productPage&quot;:{&quot;title&quot;:&quot;Product_Name: Buy Product_Name Online at Best Price in India | Nykaa&quot;,&quot;description&quot;:&quot;Product_Name Online: Buy Product_Name at best price from Nykaa. Check out Product_Name review. âœ“COD âœ“Free Shipping&quot;},&quot;brandPage&quot;:{&quot;title&quot;:&quot;Brand_Name - Buy Brand_Name Products Online at Best Price | Nykaa&quot;,&quot;description&quot;:&quot;Brand_Name products: Buy Brand_Name products online at best price on Nykaa. Browse from a wide range of Brand_Name authentic products online at low price. âœ“COD âœ“Free shipping âœ“Original Products&quot;}},&quot;storeConfig&quot;:{&quot;status&quot;:false,&quot;backToBeautyText&quot;:&quot;Nykaa Main Store&quot;,&quot;exploreMoreStores&quot;:&quot;https://images-static.nykaa.com/media/explore_stores_v5.png&quot;,&quot;stores&quot;:[]}},&quot;deliveryOptionReducer&quot;:{&quot;pinCode&quot;:null,&quot;pinCodeMessages&quot;:null},&quot;footerReducer&quot;:{&quot;dummyData&quot;:&quot;FOOTER: This is a dummy string defined in initial state of footerReducer.&quot;,&quot;footerLinks&quot;:[]},&quot;headerReducer&quot;:{&quot;categories&quot;:[]},&quot;navigationReducer&quot;:{&quot;categories&quot;:null,&quot;brands&quot;:null,&quot;desktopCategories&quot;:null,&quot;desktopBrand&quot;:null,&quot;beautyAdvice&quot;:null,&quot;nykaaLogo&quot;:null,&quot;popups&quot;:null,&quot;style&quot;:null,&quot;topStrip&quot;:&quot;&quot;},&quot;overlayReducer&quot;:{&quot;isOverlayActive&quot;:false},&quot;productReducer&quot;:{&quot;product&quot;:{&quot;description&quot;:&quot;&lt;p&gt;&lt;b&gt;SOURCED FROM PARCOS, THE OFFICIAL BRAND PARTNER&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;The new Lanvin fragrance explores a new vision of a woman: one who lives in mysterious ways, a rebellious adventurer.Free-spirited, she lives the life of a disarmingly modern princess, of one who breaks rules in general, and rules of romance in particular. Glamorous, untamed and fiercely sensual, she uses her own free will, playing with secrets and certainties. She has never been held prisoner of anything, nor of anyone. She creates her own destiny.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Notes:&lt;/b&gt;&lt;b&gt;- Top Notes: &lt;/b&gt;Pink Lady Apple, Red Currant&lt;b&gt;- Heart Notes: &lt;/b&gt;Jasmine, Freesia&lt;b&gt;- Base Notes: &lt;/b&gt;Vanilla Orchid, Musks&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Family:&lt;/b&gt;Floral&lt;/p&gt;&lt;br&gt;&lt;p&gt;&lt;b&gt;About the Brand: &lt;/b&gt;&lt;p&gt;Created in 1889 by Jeanne Lanvin, the very first French Couture House is one of the leading references in the fashion industry. In 1924, Jeanne Lanvin created Lanvin Parfums at 4, Rond-Point des Champs-Elysees. The legendary Arpege fragrance was born three years later and was an immediate&lt;br&gt;&lt;br&gt;&lt;p&gt;Explore the entire range of &lt;a href=/fragrance/women/perfumes-edt-edp/c/962 target=_blank&gt; &lt;u&gt;Perfumes (EDT &amp; EDP)&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; available on Nykaa. Shop more &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206 target=_blank&gt; &lt;u&gt;Lanvin&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; products here.You can browse through the complete world of &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity target=_blank&gt; &lt;u&gt; Lanvin Perfumes (EDT &amp; EDP) &lt;/u&gt;&lt;/font&gt;&lt;/a&gt;.&lt;/br&gt;Alternatively, you can also find many more products from the &lt;a href=/lanvin-modern-princess-eau-de-parfum/p/338884 target=_blank&gt; &lt;u&gt;Lanvin Modern Princess Eau De Parfum&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; range.&lt;/p&gt;&quot;,&quot;bulkbuyer_max_allowed_qty&quot;:null,&quot;product_id&quot;:&quot;338884&quot;,&quot;fbn&quot;:false,&quot;price&quot;:3870,&quot;show_wishlist_button&quot;:false,&quot;d_sku&quot;:null,&quot;manufacturer_ids&quot;:null,&quot;quantity&quot;:10,&quot;mrp_freeze&quot;:false,&quot;star_rating_count&quot;:9,&quot;max_allowed_qty&quot;:null,&quot;type&quot;:&quot;configurable&quot;,&quot;meta_title&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum at Nykaa.com&quot;,&quot;meta_keywords&quot;:&quot;Lanvin Modern Princess Eau De Parfum, Nykaa Luxe, Fragrance, Women&quot;,&quot;mrp&quot;:4300,&quot;is_kit_combo&quot;:false,&quot;brand_ids&quot;:&quot;5206&quot;,&quot;button_text&quot;:&quot;ADD TO BAG&quot;,&quot;is_luxe&quot;:true,&quot;offer_count&quot;:[],&quot;explore_more&quot;:[{&quot;brand&quot;:{&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;intcmp=pdp,explore_more,brand,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more products from Lanvin&quot;,&quot;id&quot;:&quot;5206&quot;},&quot;category&quot;:{&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products&quot;,&quot;id&quot;:&quot;962&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962&amp;intcmp=pdp,explore_more,category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;brand_plus_cat&quot;:{&quot;brand_id&quot;:&quot;5206&quot;,&quot;category_id&quot;:&quot;962&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products from Lanvin&quot;,&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity&amp;intcmp=pdp,explore_more,brand_and_category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;filters&quot;:{&quot;id&quot;:&quot;962&quot;,&quot;type&quot;:&quot;price&quot;,&quot;filter_value&quot;:&quot;2000-3999&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962?price=2000-3999&amp;sort=popularity&amp;intcmp=pdp,explore_more,price_and_category,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products in this price range&quot;}}],&quot;pack_size&quot;:&quot;&quot;,&quot;seller_rating&quot;:0,&quot;highlights&quot;:&quot;&quot;,&quot;pro_flag&quot;:0,&quot;category_ids&quot;:&quot;53,54,194,714,962,2880,2907,3126,3383,3841,3892,3894,5101,5206,5243,5245,5246,7648,7651,8653,8657,8742,8752,9215,9893,10396,10459,10469,11723,11783,11784,11790,12165,12166,12170,12932,13107,13687,14316,15259,15864,15865&quot;,&quot;eretailer&quot;:null,&quot;bucket_discount_percent&quot;:null,&quot;can_try&quot;:false,&quot;media&quot;:[{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_2.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_1_1.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/c/e/certificate_nykaa_lanvin_1_6.jpg&quot;}],&quot;is_free_sample&quot;:0,&quot;star_rating&quot;:4.6,&quot;brand_name&quot;:[&quot;Lanvin&quot;],&quot;shipping_quote&quot;:null,&quot;product_ingredients&quot;:&quot;&quot;,&quot;can_try_type&quot;:&quot;&quot;,&quot;meta_description&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum Online From Nykaa.com at Best Price&quot;,&quot;qna_count&quot;:0,&quot;tags&quot;:[],&quot;seller_name&quot;:&quot;Nykaa E retail private limited&quot;,&quot;in_stock&quot;:true,&quot;variant_id&quot;:null,&quot;variants&quot;:null,&quot;parent_id&quot;:&quot;338884&quot;,&quot;title&quot;:&quot;Lanvin Modern Princess Eau De Parfum&quot;,&quot;category_levels&quot;:{&quot;53&quot;:&quot;0&quot;,&quot;54&quot;:&quot;1&quot;,&quot;194&quot;:&quot;0&quot;,&quot;962&quot;:&quot;2&quot;,&quot;2880&quot;:&quot;1&quot;,&quot;2907&quot;:&quot;2&quot;,&quot;5101&quot;:&quot;1&quot;,&quot;5243&quot;:&quot;2&quot;,&quot;5245&quot;:&quot;2&quot;,&quot;11723&quot;:&quot;0&quot;,&quot;11783&quot;:&quot;1&quot;,&quot;11784&quot;:&quot;2&quot;,&quot;11790&quot;:&quot;2&quot;},&quot;is_service&quot;:false,&quot;backorders&quot;:false,&quot;featured_in_titles&quot;:null,&quot;sku&quot;:&quot;LANV_LMPEDP&quot;,&quot;featured_in_urls&quot;:null,&quot;vendor_sku&quot;:&quot;&quot;,&quot;disabled&quot;:null,&quot;catalog_tag&quot;:[&quot;luxe&quot;,&quot;nykaa&quot;,&quot;ultra_lux&quot;,&quot;store_essential&quot;,&quot;nykaaRetail&quot;],&quot;variant_type&quot;:&quot;size&quot;,&quot;psku&quot;:&quot;LANV_LMPEDP&quot;,&quot;expdt&quot;:&quot;&quot;,&quot;is_saleable&quot;:true,&quot;can_subscribe&quot;:false,&quot;add_to_cart_url&quot;:&quot;&quot;,&quot;star_rating_percentage&quot;:92,&quot;slug&quot;:&quot;lanvin-modern-princess-eau-de-parfum/p/338884&quot;,&quot;discount&quot;:10,&quot;how_to_use&quot;:&quot;&lt;p&gt;Spritz onto pulse points.&lt;/p&gt;&quot;,&quot;review_splitup&quot;:{&quot;0&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:1},&quot;1&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:2},&quot;2&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:3},&quot;3&quot;:{&quot;count&quot;:&quot;4&quot;,&quot;per&quot;:44.44444444444444,&quot;star&quot;:4},&quot;4&quot;:{&quot;count&quot;:&quot;5&quot;,&quot;per&quot;:55.55555555555556,&quot;star&quot;:5},&quot;aggregated&quot;:4.6,&quot;total_count&quot;:9},&quot;review_count&quot;:&quot;6&quot;,&quot;sizeData&quot;:{&quot;enabled&quot;:false},&quot;top_reviews&quot;:[{&quot;title&quot;:&quot;Feel like a princess&quot;,&quot;createdOn&quot;:&quot;2020-11-29 19:32:28&quot;,&quot;description&quot;:&quot;One of the classic Lanvin scents. To some extent all sweet Lanvin perfumes smell similar and this is no exception... Except this one is especially fruity and sweet! It does smell expensive and also girls in early to mid twenties, but I think any woman can pull this off. The top notes, heart notes and last notes are exactly as described. If you wanna feel like a princess, go for it. It will make you feel like you're wearing a soft pink organza dress with a sparkling tiara anywhere...\r\nThe picture is my hand holding the 60ml bottle. It's classy and cute, reminds you of a princess' dress. The liquid color is pale pink. Overall a beautiful perfume.&quot;,&quot;likeCount&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Yumi Christina&quot;,&quot;id&quot;:&quot;15884878&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:true,&quot;images&quot;:[&quot;https://images-static.nykaa.com/prod-review/1606679021424_688a0709-8223-4831-9bf5-e98eaa1313b6_1.jpg&quot;],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/11/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Eau de parfum&quot;,&quot;createdOn&quot;:&quot;2020-06-05 11:36:16&quot;,&quot;description&quot;:&quot;It is very sensual kind of a fragrance , it stays long and packaging is so good&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;priyal sharma&quot;,&quot;id&quot;:&quot;13390905&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;05/06/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;One of my favourtie fragrances&quot;,&quot;createdOn&quot;:&quot;2020-03-15 17:40:49&quot;,&quot;description&quot;:&quot;It has a perfect blend of sensual and fresh fragrance combination. Simply amazing one&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Ishu Singh&quot;,&quot;id&quot;:&quot;12949471&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;15/03/2020&quot;,&quot;rating&quot;:4},{&quot;title&quot;:&quot;Smells so good&quot;,&quot;createdOn&quot;:&quot;2020-01-25 10:28:40&quot;,&quot;description&quot;:&quot;Best packaging, long-lasting and nice fragrance.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;aanchal raj&quot;,&quot;id&quot;:&quot;12332489&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;25/01/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Best ever.&quot;,&quot;createdOn&quot;:&quot;2019-07-29 10:27:54&quot;,&quot;description&quot;:&quot;I love how good it makes me feel. My absolute favorite.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Shraddha Verma&quot;,&quot;id&quot;:&quot;6192251&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/07/2019&quot;,&quot;rating&quot;:5}],&quot;offers&quot;:[],&quot;options&quot;:[ </code></pre> <p>There is a lot more to this script, I can send a file if required, else inspecting this <a href=""https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4"" rel=""nofollow noreferrer"">URL</a> will show the script.</p> <p>Any help appreciated!</p>"	2021-03-23 20:23:05.393 UTC	66770971	"<p>Might searching the line which containing windows.<strong>PRELOADED_STATE</strong> = ...... json string....</p> <p>Split this line by = or removing the first part of of the equal.</p> <p>Finally, parsing the final string: json.loads(json string)</p>"			2021-03-23 20:39:11.773 UTC
66770780	javascript|python|html|web-scraping|beautifulsoup	How to get data from JavaScript tags in python?	"<p>I am trying to scrape from price data from an ecommerce website. I could do it using BS4 and getting HTML tags. code below.</p> <pre><code>import requests from glob import glob from bs4 import BeautifulSoup import pandas as pd from datetime import datetime from time import sleep  HEADERS = ({'User-Agent':             'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36',             'Accept-Language': 'en-US, en;q=0.5'}) url = &quot;https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4&quot; ##JavaScript below refers to this link #url = &quot;https://www.nykaa.com/playboy-new-york-eau-de-toilette/p/196319?ptype=product&amp;productId=196319&amp;skuId=196319&amp;categoryId=53&amp;pps=17&quot; def nykaa_prices(url,HEADERS):     try:         page = requests.get(url, headers=HEADERS)     except(HTTPError, URLError, ValueError, EnvironmentError, RecursionError, ConnectionError) as ERROR:         return None     else:         soup = BeautifulSoup(page.content, features=&quot;lxml&quot;)         data = soup.find_all(&quot;div&quot;, {&quot;class&quot;: &quot;m-content__product-des__details-wrap desktop-detail col-custom&quot;})         for dat in data:             try:                 title = dat.find('h1', class_='product-title').text                 print('Name:',title)             except:                 title = ''              try:                 MRP = float(dat.find('span', {&quot;class&quot;: &quot;mrp-price&quot;}).text.replace('â‚¹', '').strip())                 print('MRP:',MRP)             except:                 MRP = ''              try:                 offerPrice = float(dat.find('span',{&quot;class&quot; :&quot;post-card__content-price-offer&quot;}).text.replace('â‚¹', '').strip())                 print('OfferPrice:',offerPrice)             except:                 offerPrice = ''              try:                 discount = dat.find('div',{&quot;class&quot; :&quot;discount-info&quot;}).text.replace('off','').strip()                 print('Discount %:',discount)             except:                 discount = ''              try:                 rating = dat.find('div', {&quot;class&quot;: &quot;text-center rating-count-popup__rating-count&quot;}).text.split()[0]                 print('Rating:',rating)             except:                 rating = ''              try:                 temp = dat.find('div',{&quot;class&quot; :&quot;product-des__details-div scroll-to-target pull-left&quot;})                 ratings = temp.text.split()[0]                 reviews = temp.text.split()[3]                 print(&quot;Ratings: {} \nReviews: {}&quot;.format(ratings,reviews))             except:                 ratings = ''                 reviews = ''      return  test = nykaa_prices(url,HEADERS) </code></pre> <p>I see that there is a block of <code>&lt;script type=&quot;text/javascript&quot;&gt;</code> (script I want to scrape,I put at the end) which contains everything I require for my project, including review comments and other details. I see it follows a json-ish format and if I can access that, I can get this project done. However, I am unable to do so, I have been hunting the web to find clue as to how to do this, but not getting anywhere.</p> <p>In short, I want to access the <code>window.__PRELOADED_STATE__ =</code> in the JavaScript and read the tags <code>Key:Value</code> pairs contained in it. Since it contains a lot of pairs, I will decide later which all to read, but is there a way to do it?</p> <p>JavaScript:</p> <pre><code>  &lt;script type=&quot;text/javascript&quot;&gt;    window.__PRELOADED_STATE__ = {&quot;appLevelReducer&quot;:{&quot;userId&quot;:-1,&quot;pageType&quot;:null,&quot;productId&quot;:null,&quot;productSku&quot;:null,&quot;categoryId&quot;:null,&quot;selectedStore&quot;:&quot;&quot;,&quot;metaData&quot;:{&quot;productPage&quot;:{&quot;title&quot;:&quot;Product_Name: Buy Product_Name Online at Best Price in India | Nykaa&quot;,&quot;description&quot;:&quot;Product_Name Online: Buy Product_Name at best price from Nykaa. Check out Product_Name review. âœ“COD âœ“Free Shipping&quot;},&quot;brandPage&quot;:{&quot;title&quot;:&quot;Brand_Name - Buy Brand_Name Products Online at Best Price | Nykaa&quot;,&quot;description&quot;:&quot;Brand_Name products: Buy Brand_Name products online at best price on Nykaa. Browse from a wide range of Brand_Name authentic products online at low price. âœ“COD âœ“Free shipping âœ“Original Products&quot;}},&quot;storeConfig&quot;:{&quot;status&quot;:false,&quot;backToBeautyText&quot;:&quot;Nykaa Main Store&quot;,&quot;exploreMoreStores&quot;:&quot;https://images-static.nykaa.com/media/explore_stores_v5.png&quot;,&quot;stores&quot;:[]}},&quot;deliveryOptionReducer&quot;:{&quot;pinCode&quot;:null,&quot;pinCodeMessages&quot;:null},&quot;footerReducer&quot;:{&quot;dummyData&quot;:&quot;FOOTER: This is a dummy string defined in initial state of footerReducer.&quot;,&quot;footerLinks&quot;:[]},&quot;headerReducer&quot;:{&quot;categories&quot;:[]},&quot;navigationReducer&quot;:{&quot;categories&quot;:null,&quot;brands&quot;:null,&quot;desktopCategories&quot;:null,&quot;desktopBrand&quot;:null,&quot;beautyAdvice&quot;:null,&quot;nykaaLogo&quot;:null,&quot;popups&quot;:null,&quot;style&quot;:null,&quot;topStrip&quot;:&quot;&quot;},&quot;overlayReducer&quot;:{&quot;isOverlayActive&quot;:false},&quot;productReducer&quot;:{&quot;product&quot;:{&quot;description&quot;:&quot;&lt;p&gt;&lt;b&gt;SOURCED FROM PARCOS, THE OFFICIAL BRAND PARTNER&lt;/b&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;The new Lanvin fragrance explores a new vision of a woman: one who lives in mysterious ways, a rebellious adventurer.Free-spirited, she lives the life of a disarmingly modern princess, of one who breaks rules in general, and rules of romance in particular. Glamorous, untamed and fiercely sensual, she uses her own free will, playing with secrets and certainties. She has never been held prisoner of anything, nor of anyone. She creates her own destiny.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Notes:&lt;/b&gt;&lt;b&gt;- Top Notes: &lt;/b&gt;Pink Lady Apple, Red Currant&lt;b&gt;- Heart Notes: &lt;/b&gt;Jasmine, Freesia&lt;b&gt;- Base Notes: &lt;/b&gt;Vanilla Orchid, Musks&lt;/p&gt;&lt;p&gt;&lt;b&gt;Fragrance Family:&lt;/b&gt;Floral&lt;/p&gt;&lt;br&gt;&lt;p&gt;&lt;b&gt;About the Brand: &lt;/b&gt;&lt;p&gt;Created in 1889 by Jeanne Lanvin, the very first French Couture House is one of the leading references in the fashion industry. In 1924, Jeanne Lanvin created Lanvin Parfums at 4, Rond-Point des Champs-Elysees. The legendary Arpege fragrance was born three years later and was an immediate&lt;br&gt;&lt;br&gt;&lt;p&gt;Explore the entire range of &lt;a href=/fragrance/women/perfumes-edt-edp/c/962 target=_blank&gt; &lt;u&gt;Perfumes (EDT &amp; EDP)&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; available on Nykaa. Shop more &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206 target=_blank&gt; &lt;u&gt;Lanvin&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; products here.You can browse through the complete world of &lt;a href=/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity target=_blank&gt; &lt;u&gt; Lanvin Perfumes (EDT &amp; EDP) &lt;/u&gt;&lt;/font&gt;&lt;/a&gt;.&lt;/br&gt;Alternatively, you can also find many more products from the &lt;a href=/lanvin-modern-princess-eau-de-parfum/p/338884 target=_blank&gt; &lt;u&gt;Lanvin Modern Princess Eau De Parfum&lt;/u&gt;&lt;/font&gt;&lt;/a&gt; range.&lt;/p&gt;&quot;,&quot;bulkbuyer_max_allowed_qty&quot;:null,&quot;product_id&quot;:&quot;338884&quot;,&quot;fbn&quot;:false,&quot;price&quot;:3870,&quot;show_wishlist_button&quot;:false,&quot;d_sku&quot;:null,&quot;manufacturer_ids&quot;:null,&quot;quantity&quot;:10,&quot;mrp_freeze&quot;:false,&quot;star_rating_count&quot;:9,&quot;max_allowed_qty&quot;:null,&quot;type&quot;:&quot;configurable&quot;,&quot;meta_title&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum at Nykaa.com&quot;,&quot;meta_keywords&quot;:&quot;Lanvin Modern Princess Eau De Parfum, Nykaa Luxe, Fragrance, Women&quot;,&quot;mrp&quot;:4300,&quot;is_kit_combo&quot;:false,&quot;brand_ids&quot;:&quot;5206&quot;,&quot;button_text&quot;:&quot;ADD TO BAG&quot;,&quot;is_luxe&quot;:true,&quot;offer_count&quot;:[],&quot;explore_more&quot;:[{&quot;brand&quot;:{&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;intcmp=pdp,explore_more,brand,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more products from Lanvin&quot;,&quot;id&quot;:&quot;5206&quot;},&quot;category&quot;:{&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products&quot;,&quot;id&quot;:&quot;962&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962&amp;intcmp=pdp,explore_more,category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;brand_plus_cat&quot;:{&quot;brand_id&quot;:&quot;5206&quot;,&quot;category_id&quot;:&quot;962&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products from Lanvin&quot;,&quot;url&quot;:&quot;/luxe/brands/lanvin/c/5206?ptype=brand&amp;id=5206&amp;category_filter=962&amp;sort=popularity&amp;intcmp=pdp,explore_more,brand_and_category,Lanvin Modern Princess Eau De Parfum&quot;},&quot;filters&quot;:{&quot;id&quot;:&quot;962&quot;,&quot;type&quot;:&quot;price&quot;,&quot;filter_value&quot;:&quot;2000-3999&quot;,&quot;url&quot;:&quot;/fragrance/women/perfumes-edt-edp/c/962?ptype=lst&amp;id=962?price=2000-3999&amp;sort=popularity&amp;intcmp=pdp,explore_more,price_and_category,Lanvin Modern Princess Eau De Parfum&quot;,&quot;message&quot;:&quot;See more Perfumes (EDT &amp; EDP) products in this price range&quot;}}],&quot;pack_size&quot;:&quot;&quot;,&quot;seller_rating&quot;:0,&quot;highlights&quot;:&quot;&quot;,&quot;pro_flag&quot;:0,&quot;category_ids&quot;:&quot;53,54,194,714,962,2880,2907,3126,3383,3841,3892,3894,5101,5206,5243,5245,5246,7648,7651,8653,8657,8742,8752,9215,9893,10396,10459,10469,11723,11783,11784,11790,12165,12166,12170,12932,13107,13687,14316,15259,15864,15865&quot;,&quot;eretailer&quot;:null,&quot;bucket_discount_percent&quot;:null,&quot;can_try&quot;:false,&quot;media&quot;:[{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_2.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/3/3/3386460077217_1_1.jpg&quot;},{&quot;type&quot;:&quot;image&quot;,&quot;url&quot;:&quot;https://images-static.nykaa.com/media/catalog/product/tr:h-800,w-800,cm-pad_resize/c/e/certificate_nykaa_lanvin_1_6.jpg&quot;}],&quot;is_free_sample&quot;:0,&quot;star_rating&quot;:4.6,&quot;brand_name&quot;:[&quot;Lanvin&quot;],&quot;shipping_quote&quot;:null,&quot;product_ingredients&quot;:&quot;&quot;,&quot;can_try_type&quot;:&quot;&quot;,&quot;meta_description&quot;:&quot;Buy Lanvin Modern Princess Eau De Parfum Online From Nykaa.com at Best Price&quot;,&quot;qna_count&quot;:0,&quot;tags&quot;:[],&quot;seller_name&quot;:&quot;Nykaa E retail private limited&quot;,&quot;in_stock&quot;:true,&quot;variant_id&quot;:null,&quot;variants&quot;:null,&quot;parent_id&quot;:&quot;338884&quot;,&quot;title&quot;:&quot;Lanvin Modern Princess Eau De Parfum&quot;,&quot;category_levels&quot;:{&quot;53&quot;:&quot;0&quot;,&quot;54&quot;:&quot;1&quot;,&quot;194&quot;:&quot;0&quot;,&quot;962&quot;:&quot;2&quot;,&quot;2880&quot;:&quot;1&quot;,&quot;2907&quot;:&quot;2&quot;,&quot;5101&quot;:&quot;1&quot;,&quot;5243&quot;:&quot;2&quot;,&quot;5245&quot;:&quot;2&quot;,&quot;11723&quot;:&quot;0&quot;,&quot;11783&quot;:&quot;1&quot;,&quot;11784&quot;:&quot;2&quot;,&quot;11790&quot;:&quot;2&quot;},&quot;is_service&quot;:false,&quot;backorders&quot;:false,&quot;featured_in_titles&quot;:null,&quot;sku&quot;:&quot;LANV_LMPEDP&quot;,&quot;featured_in_urls&quot;:null,&quot;vendor_sku&quot;:&quot;&quot;,&quot;disabled&quot;:null,&quot;catalog_tag&quot;:[&quot;luxe&quot;,&quot;nykaa&quot;,&quot;ultra_lux&quot;,&quot;store_essential&quot;,&quot;nykaaRetail&quot;],&quot;variant_type&quot;:&quot;size&quot;,&quot;psku&quot;:&quot;LANV_LMPEDP&quot;,&quot;expdt&quot;:&quot;&quot;,&quot;is_saleable&quot;:true,&quot;can_subscribe&quot;:false,&quot;add_to_cart_url&quot;:&quot;&quot;,&quot;star_rating_percentage&quot;:92,&quot;slug&quot;:&quot;lanvin-modern-princess-eau-de-parfum/p/338884&quot;,&quot;discount&quot;:10,&quot;how_to_use&quot;:&quot;&lt;p&gt;Spritz onto pulse points.&lt;/p&gt;&quot;,&quot;review_splitup&quot;:{&quot;0&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:1},&quot;1&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:2},&quot;2&quot;:{&quot;count&quot;:&quot;0&quot;,&quot;per&quot;:0,&quot;star&quot;:3},&quot;3&quot;:{&quot;count&quot;:&quot;4&quot;,&quot;per&quot;:44.44444444444444,&quot;star&quot;:4},&quot;4&quot;:{&quot;count&quot;:&quot;5&quot;,&quot;per&quot;:55.55555555555556,&quot;star&quot;:5},&quot;aggregated&quot;:4.6,&quot;total_count&quot;:9},&quot;review_count&quot;:&quot;6&quot;,&quot;sizeData&quot;:{&quot;enabled&quot;:false},&quot;top_reviews&quot;:[{&quot;title&quot;:&quot;Feel like a princess&quot;,&quot;createdOn&quot;:&quot;2020-11-29 19:32:28&quot;,&quot;description&quot;:&quot;One of the classic Lanvin scents. To some extent all sweet Lanvin perfumes smell similar and this is no exception... Except this one is especially fruity and sweet! It does smell expensive and also girls in early to mid twenties, but I think any woman can pull this off. The top notes, heart notes and last notes are exactly as described. If you wanna feel like a princess, go for it. It will make you feel like you're wearing a soft pink organza dress with a sparkling tiara anywhere...\r\nThe picture is my hand holding the 60ml bottle. It's classy and cute, reminds you of a princess' dress. The liquid color is pale pink. Overall a beautiful perfume.&quot;,&quot;likeCount&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Yumi Christina&quot;,&quot;id&quot;:&quot;15884878&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:true,&quot;images&quot;:[&quot;https://images-static.nykaa.com/prod-review/1606679021424_688a0709-8223-4831-9bf5-e98eaa1313b6_1.jpg&quot;],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/11/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Eau de parfum&quot;,&quot;createdOn&quot;:&quot;2020-06-05 11:36:16&quot;,&quot;description&quot;:&quot;It is very sensual kind of a fragrance , it stays long and packaging is so good&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;priyal sharma&quot;,&quot;id&quot;:&quot;13390905&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;05/06/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;One of my favourtie fragrances&quot;,&quot;createdOn&quot;:&quot;2020-03-15 17:40:49&quot;,&quot;description&quot;:&quot;It has a perfect blend of sensual and fresh fragrance combination. Simply amazing one&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Ishu Singh&quot;,&quot;id&quot;:&quot;12949471&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;15/03/2020&quot;,&quot;rating&quot;:4},{&quot;title&quot;:&quot;Smells so good&quot;,&quot;createdOn&quot;:&quot;2020-01-25 10:28:40&quot;,&quot;description&quot;:&quot;Best packaging, long-lasting and nice fragrance.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;aanchal raj&quot;,&quot;id&quot;:&quot;12332489&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;25/01/2020&quot;,&quot;rating&quot;:5},{&quot;title&quot;:&quot;Best ever.&quot;,&quot;createdOn&quot;:&quot;2019-07-29 10:27:54&quot;,&quot;description&quot;:&quot;I love how good it makes me feel. My absolute favorite.&quot;,&quot;likeCount&quot;:&quot;0&quot;,&quot;name&quot;:&quot;Shraddha Verma&quot;,&quot;id&quot;:&quot;6192251&quot;,&quot;variantId&quot;:338883,&quot;isLikedByUser&quot;:false,&quot;isBuyer&quot;:false,&quot;images&quot;:[],&quot;profilePic&quot;:&quot;https://images-static.nykaa.com/prod-review/default_profile_image.svg&quot;,&quot;createdOnText&quot;:&quot;29/07/2019&quot;,&quot;rating&quot;:5}],&quot;offers&quot;:[],&quot;options&quot;:[ </code></pre> <p>There is a lot more to this script, I can send a file if required, else inspecting this <a href=""https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4"" rel=""nofollow noreferrer"">URL</a> will show the script.</p> <p>Any help appreciated!</p>"	2021-03-23 20:23:05.393 UTC	66771096	"<p>I recommend using selenium for scraping, this will work fine:</p> <pre><code>from bs4 import BeautifulSoup from selenium import webdriver from selenium.webdriver.chrome.options import Options  option = Options() option.add_argument('--headless') url = 'https://www.nykaa.com/lanvin-modern-princess-eau-de-parfum/p/338884?ptype=product&amp;productId=338884&amp;skuId=338884&amp;categoryId=53&amp;pps=4' driver = webdriver.Chrome(options=option) driver.get(url) bs = BeautifulSoup(driver.page_source, 'html.parser') x = bs.find_all('script', {'type': 'text/javascript'}) driver.quit() for item in x:     p = item.contents     f = &quot;&quot;.join(p)     if &quot;window.__PRELOADED_STATE__&quot; in f:         print(p[0].split(&quot;\n&quot;)[0]) </code></pre>"			2021-03-23 20:49:12.897 UTC
66782803	python|regex|string|beautifulsoup|python-requests	Converting a string from scraped javascript into a python dictionary	"<p>I want to crawl the product description of the product in the link below.</p> <p><a href=""https://i.stack.imgur.com/58WES.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/58WES.png"" alt=""enter image description here"" /></a></p> <p>I tried to crawl by using <strong>selenium</strong>, but the information is protected by the website so all the information I get by <strong>selenium</strong> is the same with <strong>requests</strong>. So to make to script run faster, I crawl it by using <strong>requests</strong>.</p> <p>Below is the code :</p> <pre><code>import requests from bs4 import BeautifulSoup as BS  res= requests.get(&quot;https://www.real.de/product/345246038/&quot;) soup=BS(res.text,'lxml') code=soup.prettify() split =  code.split(&quot;attributes:&quot;) for value in split:     after=value.split(&quot;,condition$:b&quot;)     for value in after:         if &quot;{default:[{name:&quot; in value:             clean = value.replace(&quot;,highlighted:void 0}}&quot;,&quot;}&quot;).replace(&quot;: None&quot;,&quot;&quot;)          </code></pre> <p>Here is the string in the variable <strong>clean</strong> :</p> <p><a href=""https://i.stack.imgur.com/hm1kp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hm1kp.png"" alt=""enter image description here"" /></a></p> <p>I convert the clean into a dictionary :</p> <pre><code>import yaml d = yaml.load(clean) </code></pre> <p>But it is not properly formatted like a dictionary : because not all the words are in the double quote ( &quot;&quot; )</p> <p>So I use regrex to extract only the word in the string that are not in double quote. Here is the code :</p> <pre><code>r = re.compile(r'[{,:][a-zA-z]+[:}]', flags=re.I | re.X) string = r.findall(clean)   ta=[]           for w in string :     m = re.search('[a-zA-z]+', w)     if m:         new = str('&quot;')+m.group(0)+str('&quot;')         ta.append(new)                          </code></pre> <p>However. I don't know how to put the words which are in the double quote (&quot;&quot;) inside the <strong>clean</strong> variable again.</p> <p>Can you help me?</p>"	2021-03-24 14:07:01.117 UTC	66784133	"<p>you can try <code>(?!&quot;)</code> that mean match character that not followed by quote</p> <pre><code>if &quot;{default:[{name:&quot; in value:     clean = value.replace(&quot;,highlighted:void 0}}&quot;,&quot;}&quot;).replace(&quot;: None&quot;,&quot;&quot;)     # add the lines below     clean = re.sub(r'(\{|,)(?!&quot;)(\w+?):', r'\1&quot;\2&quot;:', clean)     clean = re.sub(r':(?!&quot;)(\w+?)(\}|,)', r':&quot;\1&quot;\2', clean)     jsonData = json.loads(clean)     print(json.dumps(jsonData, indent=2)) </code></pre>"			2021-03-24 15:20:12.2 UTC
66785847	python|altair	Python Altair rendering error - Javascript Error: too much recursion	"<p>I am using Altair charts for Python with Jupyter Notebooks, but one of the (rendering?) components crashes if I increase the amount of data points:</p> <pre><code>import altair as alt import datetime import pandas as pd import random  def add_minutes(tm, minutes_to_add):     fulldate = datetime.datetime(100, 1, 1, tm.hour, tm.minute, tm.second)     fulldate = fulldate + datetime.timedelta(minutes=minutes_to_add)     return fulldate.time()  time_sort_order = []  render_hours = 13  def build_df():     value_list = []     start_time = datetime.time(21, 0, 0)     for n in range(60*render_hours):         time_to_fetch = add_minutes(start_time, 1*n)         time_sort_order.append(str(time_to_fetch))         value_list.append({             &quot;time&quot;: str(time_to_fetch),             &quot;value&quot;: random.randint(1, 5)         })     return pd.DataFrame(value_list)  df = build_df()  alt.Chart(df).mark_rect().encode(     x=alt.X('time', sort=time_sort_order),     color='value:Q' )  </code></pre> <p>If I set <code>render_hours = 13</code>: Everything works/renders normally</p> <p>If I set <code>render_hours = 14</code>: I get a blank output</p> <p>If I set <code>render_hours = 24</code>:</p> <blockquote> <p>Javascript Error: too much recursion This usually means there's a typo in your chart specification. See the javascript console for the full traceback.</p> </blockquote>"	2021-03-24 17:02:12.013 UTC	66788647	"<p>It looks like the renderer can't handle an explicit sort order with hundreds of entries; that is probably a bug in Vega, but it's also a bit of an anti-pattern.</p> <p>Try doing something like this instead:</p> <pre class=""lang-python prettyprint-override""><code>alt.Chart(df.reset_index()).mark_rect().encode(     x=alt.X('time', sort=alt.SortField('index')),     color='value:Q' ) </code></pre>"			2021-03-24 20:12:07.03 UTC
66787627	javascript|django|html2canvas|html2pdf|xhtml2pdf	Dynamic HTML to PDF using Python or Javascript	"<p>I am trying to add &quot;Download PDF&quot; link on my webapp. At the moment, I call a django function which gets a queryset and passes the context to a html file. However, I would like users to be able to download this html file as a pdf with watermark in the center.</p> <p>I have tried jspdf html2canvas but nothing works with. I have tried xhtmlpdf but its too slow in rendering the html. Any help would be appreciated.</p>"	2021-03-24 18:59:15.643 UTC	66787800	"<p><code>wkhtmltopdf</code> is probably the fastest you are going to get. It is using QT Webkit under the hood, so you can't ask for much more than that (<a href=""https://wkhtmltopdf.org/index.html"" rel=""nofollow noreferrer"">homepage</a> <a href=""https://github.com/wkhtmltopdf/wkhtmltopdf"" rel=""nofollow noreferrer"">github</a>).</p> <p>I see that there is a library of python bindings <a href=""https://pypi.org/project/wkhtmltopdf/"" rel=""nofollow noreferrer"">here</a>, but it is not maintained anymore. Since performance is your utmost concern, if you <em>just</em> need html =&gt; pdf, I can't imagine the C-to-python binding being more than 100 lines of code, most of which would be boilerplate. However, calling the CLI with python's <code>subprocess</code> module should be very fast too. Since it would be so easy to set up, I'd probably start with that, profile it, and see how it suits your use case.</p>"			2021-03-24 19:10:32.837 UTC
66787627	javascript|django|html2canvas|html2pdf|xhtml2pdf	Dynamic HTML to PDF using Python or Javascript	"<p>I am trying to add &quot;Download PDF&quot; link on my webapp. At the moment, I call a django function which gets a queryset and passes the context to a html file. However, I would like users to be able to download this html file as a pdf with watermark in the center.</p> <p>I have tried jspdf html2canvas but nothing works with. I have tried xhtmlpdf but its too slow in rendering the html. Any help would be appreciated.</p>"	2021-03-24 18:59:15.643 UTC	66788335	"<p>I'd recommend you look at Weasyprint.  I use it to render PDFs with watermarks (via simple css).  No built in Latex/javascript support, though, so you'd need a way to convert your equations into svg files.</p>"			2021-03-24 19:50:04.34 UTC
66840097	javascript|python|html|web-scraping|beautifulsoup	Scraping a messy javascript-heavy website with python	"<p>I was trying to scrape the household links from this page :</p> <p><a href=""https://www.sreality.cz/en/search/to-rent/apartments?page=2"" rel=""nofollow noreferrer"">https://www.sreality.cz/en/search/to-rent/apartments?page=2</a></p> <p>For instance, for the first apartment I would like to obtain the link with:</p> <p><a href=""https://www.sreality.cz/en/detail/lease/flat/1+kt/plzen-jizni-predmesti-technicka/25873756#img=0&amp;fullscreen=false"" rel=""nofollow noreferrer"">https://www.sreality.cz/en/detail/lease/flat/1+kt/plzen-jizni-predmesti-technicka/25873756#img=0&amp;fullscreen=false</a></p> <p>However the website is quite heavy on javascript. By using requests.get() I only obtain an uninformative chunk of html code:</p> <pre><code> from requests import get  i = 2 url = f&quot;https://www.sreality.cz/en/search/to-rent/apartments?page={i}&quot; response = get(url)  print(response.text)  -----------------------------  &lt;!doctype html&gt; &lt;html lang=&quot;{{ html.lang }}&quot; ng-app=&quot;sreality&quot; ng-controller=&quot;MainCtrl&quot;&gt; &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,maximum-scale=1.0,minimal-ui&quot;&gt;      &lt;!--- Nastaveni meta pres JS a ne pres Angular, aby byla nastavena default hodnota pro agenty co nezvladaji PhantomJS ---&gt;     &lt;title ng:bind-template=&quot;{{metaSeo.title}}&quot;&gt;Sreality.cz Ã¢Â¢ reality a nemovitosti z celÃƒÂ© Ã„R&lt;/title&gt;     &lt;meta name=&quot;description&quot; content=&quot;NejvÃ„tÃ…Â¡ÃƒÂ­ nabÃƒÂ­dka nemovitostÃƒÂ­ v Ã„R. NabÃƒÂ­zÃƒÂ­me byty, domy, novostavby, nebytovÃƒÂ© prostory, pozemky a dalÃ…Â¡ÃƒÂ­ reality k prodeji i pronÃƒÂ¡jmu. Sreality.cz&quot;&gt;     &lt;meta property=&quot;og:title&quot;       content=&quot;Sreality.cz Ã¢Â¢ reality a nemovitosti z celÃƒÂ© Ã„R&quot;&gt;     &lt;meta property=&quot;og:type&quot;        content=&quot;website&quot;&gt;     &lt;meta property=&quot;og:image&quot;       content=&quot;https://www.sreality.cz/img/sreality-logo-og.png&quot;&gt;  -----------------------------  ETC ...  </code></pre> <p>The question is therefore, how to proceed with some simple scraping activity for websites of this kind ?</p> <p>Thanks in advance for the help.</p>"	2021-03-28 09:44:08 UTC	66840182	"<p>First ask website, if they provide any API to get the desired information.</p> <p>To deal with javascript during the <strong>scraping</strong> only request will not work. You should go Selenium only or for scrapy in combination of scrapy-selenium. These two allow loading of javascript during scraping.</p> <p>Feel free to ask if you have any other question.</p>"			2021-03-28 09:55:03.563 UTC
66840097	javascript|python|html|web-scraping|beautifulsoup	Scraping a messy javascript-heavy website with python	"<p>I was trying to scrape the household links from this page :</p> <p><a href=""https://www.sreality.cz/en/search/to-rent/apartments?page=2"" rel=""nofollow noreferrer"">https://www.sreality.cz/en/search/to-rent/apartments?page=2</a></p> <p>For instance, for the first apartment I would like to obtain the link with:</p> <p><a href=""https://www.sreality.cz/en/detail/lease/flat/1+kt/plzen-jizni-predmesti-technicka/25873756#img=0&amp;fullscreen=false"" rel=""nofollow noreferrer"">https://www.sreality.cz/en/detail/lease/flat/1+kt/plzen-jizni-predmesti-technicka/25873756#img=0&amp;fullscreen=false</a></p> <p>However the website is quite heavy on javascript. By using requests.get() I only obtain an uninformative chunk of html code:</p> <pre><code> from requests import get  i = 2 url = f&quot;https://www.sreality.cz/en/search/to-rent/apartments?page={i}&quot; response = get(url)  print(response.text)  -----------------------------  &lt;!doctype html&gt; &lt;html lang=&quot;{{ html.lang }}&quot; ng-app=&quot;sreality&quot; ng-controller=&quot;MainCtrl&quot;&gt; &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,maximum-scale=1.0,minimal-ui&quot;&gt;      &lt;!--- Nastaveni meta pres JS a ne pres Angular, aby byla nastavena default hodnota pro agenty co nezvladaji PhantomJS ---&gt;     &lt;title ng:bind-template=&quot;{{metaSeo.title}}&quot;&gt;Sreality.cz Ã¢Â¢ reality a nemovitosti z celÃƒÂ© Ã„R&lt;/title&gt;     &lt;meta name=&quot;description&quot; content=&quot;NejvÃ„tÃ…Â¡ÃƒÂ­ nabÃƒÂ­dka nemovitostÃƒÂ­ v Ã„R. NabÃƒÂ­zÃƒÂ­me byty, domy, novostavby, nebytovÃƒÂ© prostory, pozemky a dalÃ…Â¡ÃƒÂ­ reality k prodeji i pronÃƒÂ¡jmu. Sreality.cz&quot;&gt;     &lt;meta property=&quot;og:title&quot;       content=&quot;Sreality.cz Ã¢Â¢ reality a nemovitosti z celÃƒÂ© Ã„R&quot;&gt;     &lt;meta property=&quot;og:type&quot;        content=&quot;website&quot;&gt;     &lt;meta property=&quot;og:image&quot;       content=&quot;https://www.sreality.cz/img/sreality-logo-og.png&quot;&gt;  -----------------------------  ETC ...  </code></pre> <p>The question is therefore, how to proceed with some simple scraping activity for websites of this kind ?</p> <p>Thanks in advance for the help.</p>"	2021-03-28 09:44:08 UTC	66841098	"<p>I don't think that website has a public API but looking at the API calls from the network tab I could fetch the details for your need and make it as link have a look at theÂ below code.</p> <p>Let me know if you haveÂ any questions :)</p> <pre><code>import time import requests page=2 numberofresults=20 epochmiliseconds=round(time.time() * 1000) paramsdict={     &quot;category_main_cb&quot;:1,     &quot;category_type_cb&quot;:2,     &quot;page&quot;:page,     &quot;per_page&quot;:numberofresults,     &quot;tms&quot;:epochmiliseconds  } data=requests.get(&quot;https://www.sreality.cz/api/en/v2/estates&quot;,params=paramsdict).json() for lead in data[&quot;_embedded&quot;][&quot;estates&quot;]:     locality=lead[&quot;seo&quot;][&quot;locality&quot;]     name=lead[&quot;name&quot;]     hash_id=lead[&quot;hash_id&quot;]     typedata=[s for s in name.split(&quot; &quot;) if &quot;+&quot; in s][0].replace(&quot;\u00a0&quot;,&quot; &quot;).split(&quot; &quot;)[0]     print(f'https://www.sreality.cz/en/detail/lease/flat/{typedata}/{locality}/{hash_id}')) </code></pre> <p>Output: <a href=""https://i.stack.imgur.com/Lip90.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Lip90.png"" alt=""Output"" /></a></p>"			2021-03-28 11:49:57.79 UTC
66907890	javascript|python|ruby	Mutable Types: Why are arrays with same contents considered equal in Python & Ruby but not Javascript?	"<p>I have been learning about mutability in Python, Ruby and Javascript. My assumption was that Ruby and Python would behave similarly to Javascript when using the comparison operator between two arrays or two objects of the same value. Why are Python and Ruby returning true when comparing arrays of same values but Javascript does not?</p> <p>For example:</p> <p>Python:</p> <pre><code>&gt;&gt;&gt; x = [1,2,3,4,5] &gt;&gt;&gt; y = [1,2,3,4,5] &gt;&gt;&gt; x == y True </code></pre> <p>Ruby:</p> <pre><code>&gt; x = [1,2,3] &gt; y = [1,2,3] &gt; x == y =&gt; true </code></pre> <p>Javascript:</p> <pre><code>&gt; x = [1,2,3] &gt; y = [1,2,3] &gt; x === y false </code></pre>"	2021-04-01 15:59:04.903 UTC	66911591	"<blockquote> <p>Why are Python and Ruby returning true when comparing arrays of same values but Javascript does not?</p> </blockquote> <p>Because they are three completely different programming languages, and there is no reason to expect that they behave the same.</p> <p>ECMAScript does what the ECMAScript Language Specification says it should do. Ruby does what the Ruby Language Specification says it should do. Python does what the Python Language Specification says it should do.</p>"			2021-04-01 21:10:03.477 UTC
66936221	javascript|python|html|selenium|automation	How to find and click a JavaScript button by aria-label with Python Selenium?	"<p>I am trying to use Python Selenium to find a certain javascript button on a page and click it. Before, you click away or link to another page, the other solutions on the forums don't apply to my situation. First, I'll show an image of the page full of buttons. <strong>I am trying to click on the button called &quot;Schoology&quot;.</strong></p> <p><a href=""https://i.stack.imgur.com/jdS6d.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jdS6d.png"" alt=""This is the array of buttons on the site, I am trying to click the button called &quot;Schoology&quot;"" /></a></p> <p>Next, I'll go ahead and show the outer HTML code of the certain button I am trying to click -</p> <p><code>&lt;application _ngcontent-bxy-c60 tabindex=&quot;0&quot; role=&quot;link&quot; class=&quot;cl-app app-margin ng-star-inserted&quot; _nghost-bxy-c57 aria-label=&quot;Schoology&quot;&gt;</code></p> <p>Here's a screenshot if its easier to read.</p> <p><a href=""https://i.stack.imgur.com/t5xyX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/t5xyX.png"" alt=""enter image description here"" /></a></p> <p>The Schoology button I want to click is in JavaScript. After using the Web Driver Wait function with <code>EC.presence_of_all_elements_located</code> to ensure I'm on the correct page, I went ahead to try to click the button. There are a few things I tried, but they failed</p> <p><strong>1. Finding the element using XPATH</strong></p> <p><code>driver.execute_script(&quot;document.getElementsByXpath('/html/body/app-root/secure/div/app-apps-container/application[8]').click()&quot;)</code>.</p> <p>This resulted in a <code>document.getElementByXpath is not a function</code> error.</p> <p><strong>2. Finding the element using class name</strong></p> <p><code>driver.execute_script(&quot;document.getElementsByClassName('cl-app app-margin ng-star-inserted')[0].click()&quot;)</code></p> <p>The issue here is that each one of the JavaScript buttons has the same exact class. When I used this line of code, the script executed and clicked the first button (AP Human Geography) instead of the Schoology button I wanted.</p> <p><strong>Is there a way to do this using the Aria-Label?</strong></p> <p>I noticed that the Aria-Label does distinguish and identify each JavaScript button. In my case, where it says <code>&quot;aria-label = &quot;Schoology&quot;</code>. However, I'm not sure how this would be implemented. How can I use something such as the Aria-Label to make sure the script clicks on the correct JavaScript button. Please keep in mind that I need to do this in a way such that the script doesn't choose the wrong button (i.e Clicking the first button because all of them have the same class name)</p> <p>Here is a screenshot of the inner HTML code in case that would be a better way to approach the issue. <a href=""https://i.stack.imgur.com/jMCgP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jMCgP.png"" alt=""enter image description here"" /></a></p>"	2021-04-03 21:57:11.733 UTC	66936342	<pre><code>driver.find_element_by_xpath(&quot;//application[@aria-label='Schoology']//button&quot;) </code></pre> <p>You can use it's xpath and data attribute. I am assuming you need to click on its button tag. If not remove the //button.</p>			2021-04-03 22:15:14.03 UTC
66936221	javascript|python|html|selenium|automation	How to find and click a JavaScript button by aria-label with Python Selenium?	"<p>I am trying to use Python Selenium to find a certain javascript button on a page and click it. Before, you click away or link to another page, the other solutions on the forums don't apply to my situation. First, I'll show an image of the page full of buttons. <strong>I am trying to click on the button called &quot;Schoology&quot;.</strong></p> <p><a href=""https://i.stack.imgur.com/jdS6d.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jdS6d.png"" alt=""This is the array of buttons on the site, I am trying to click the button called &quot;Schoology&quot;"" /></a></p> <p>Next, I'll go ahead and show the outer HTML code of the certain button I am trying to click -</p> <p><code>&lt;application _ngcontent-bxy-c60 tabindex=&quot;0&quot; role=&quot;link&quot; class=&quot;cl-app app-margin ng-star-inserted&quot; _nghost-bxy-c57 aria-label=&quot;Schoology&quot;&gt;</code></p> <p>Here's a screenshot if its easier to read.</p> <p><a href=""https://i.stack.imgur.com/t5xyX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/t5xyX.png"" alt=""enter image description here"" /></a></p> <p>The Schoology button I want to click is in JavaScript. After using the Web Driver Wait function with <code>EC.presence_of_all_elements_located</code> to ensure I'm on the correct page, I went ahead to try to click the button. There are a few things I tried, but they failed</p> <p><strong>1. Finding the element using XPATH</strong></p> <p><code>driver.execute_script(&quot;document.getElementsByXpath('/html/body/app-root/secure/div/app-apps-container/application[8]').click()&quot;)</code>.</p> <p>This resulted in a <code>document.getElementByXpath is not a function</code> error.</p> <p><strong>2. Finding the element using class name</strong></p> <p><code>driver.execute_script(&quot;document.getElementsByClassName('cl-app app-margin ng-star-inserted')[0].click()&quot;)</code></p> <p>The issue here is that each one of the JavaScript buttons has the same exact class. When I used this line of code, the script executed and clicked the first button (AP Human Geography) instead of the Schoology button I wanted.</p> <p><strong>Is there a way to do this using the Aria-Label?</strong></p> <p>I noticed that the Aria-Label does distinguish and identify each JavaScript button. In my case, where it says <code>&quot;aria-label = &quot;Schoology&quot;</code>. However, I'm not sure how this would be implemented. How can I use something such as the Aria-Label to make sure the script clicks on the correct JavaScript button. Please keep in mind that I need to do this in a way such that the script doesn't choose the wrong button (i.e Clicking the first button because all of them have the same class name)</p> <p>Here is a screenshot of the inner HTML code in case that would be a better way to approach the issue. <a href=""https://i.stack.imgur.com/jMCgP.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jMCgP.png"" alt=""enter image description here"" /></a></p>"	2021-04-03 21:57:11.733 UTC	66936625	<p>The way of doing this using selectors would be to enter the following query:</p> <pre><code>application[aria-label$=&quot;Schoology&quot;] </code></pre> <p>Or you can use XPath:</p> <pre><code>//application[@aria-label=&quot;Schoology&quot;] </code></pre>			2021-04-03 23:07:09.743 UTC
66940979	javascript|python|promise	What is the Python equivalent of a Promise in JavaScript?	"<p>I am trying to understand what would be the best code structure or a design pattern that would do the following:</p> <p>Have a function named <code>get_data</code> that would start up a socket connection and will start waiting for a specific socket event that would return some data. Once it gets the data, only then the <code>get_data</code> function should be returned.</p> <p>So in JS it would be very simple like this:</p> <p><em>(Keep in mind that this code snippet is an example, it's not meant to be a working code)</em></p> <pre class=""lang-js prettyprint-override""><code>const getData = async ()=&gt;{   return new Promise((resolve, reject)=&gt;{     const socket = socket()     socket.on(&quot;message&quot;, (data)=&gt;{       resolve(data)     })     socket.connect(&quot;localhost&quot;)   }); }  const parseData = async () =&gt; {   const data = await getData()   // do something with the data } </code></pre> <p>With python however, I have absolutely no idea how to achieve the same result.</p> <p>How would I translate it to python? What strategy would be used here?</p> <p>The only way I could think of right now is like this:</p> <pre class=""lang-py prettyprint-override""><code>def get_data():   socket = socket()   my_data = None    @socket.event   def message(data):     nonlocal my_data     my_data = data    socket.connect(&quot;localhost&quot;)      while not my_data     time.sleep(0.3)      socket.disconnect()   return my_data  def parse_data():   data = get_data()   # do something with the data </code></pre>"	2021-04-04 11:50:19.937 UTC	67091829	"<p>If you want to convert a callback-based API into an <code>async</code> API, youâ€™re probably looking for <a href=""https://docs.python.org/3/library/asyncio-future.html"" rel=""nofollow noreferrer""><code>asyncio.Future</code></a>.</p> <p>Modifying your strawman code a bit:</p> <pre class=""lang-python prettyprint-override""><code>import asyncio  def get_data():     # create a future     future = asyncio.Future()      # create a socket     socket = socket()      # connect callbacks     @socket.on(&quot;message&quot;)     def on_message(data):         future.set_result(data)      @socket.on(&quot;error&quot;)     def on_error(error):         future.set_exception(error)      # create a background task that will communicate with the socket     # and invoke the callbacks     @asyncio.create_task     async def communicate():         socket.connect('localhost')         socket.communicate()      # return the future     return future </code></pre> <p>Calling <code>get_data</code> will return an object you can <code>await</code> on just like <code>async</code> function calls:</p> <pre class=""lang-python prettyprint-override""><code>async def parse_data():     data = await get_data()     # process further </code></pre>"			2021-04-14 12:31:39.387 UTC
66961565	javascript|python|syntax-error	Running Javascript code inside a Python function	"<p>I am trying to run javascript code inside python function in Colab.This is my code(The main block to look up is this <code>startStreamUpload</code> function). Btw, I am relly new to Javascript but just at some point forced to make use of it.</p> <pre><code>def sendConnOffer(port):   '''   Make POST req from JS to the connected VM (server). Sends the WebRTC stream offer in POST req   '''   js = Javascript('''     // START JS code     /**       * prints the logs to cell output inside notebook      */     function printLog (text) {       document.querySelector(&quot;#output-area&quot;).appendChild(document.createTextNode(text));     }      // peer connection     let pc = null;     /**      * creates a peer connection, opens the device streams then calls negotiate() to connect with server      * @param serverUrl: url of other peer. Server in this case      */    // HERE // async function startStreamUpload(serverUrl) {       const connectionConfig = { sdpSemantics: 'unified-plan' };       pc = new RTCPeerConnection(connectionConfig);              const streamConfig = {         audio: false,         video: { width: 640, height: 480 }       };       let stream = await navigator.mediaDevices.getUserMedia(streamConfig); // access the webcam stream       stream.getTracks().forEach((track) =&gt; {         pc.addTrack(track, stream); // tracks can be video/audio. Video in our case       });        // negotiate the deal with server       await negotiate(serverUrl);     }     .......    .......    .......      &quot;&quot;&quot;)         display(js) # make the provided HTML, part of the cell   # the server running in Colab VM   serverUrl = f&quot;https://localhost:{port}/&quot;   print(&quot;ServerURL: &quot;, serverUrl)   # call the startStreamUpload() JavaScript function   jsFuncToCall = eval_js('startStreamUpload({})'.format(serverUrl))   print(&quot;jsFuncToCall: &quot;, jsFuncToCall)   return    sendConnOffer(1234) </code></pre> <p>This is the full error message:</p> <pre><code>     89   print(&quot;ServerURL: &quot;, serverUrl)      90   # call the startStreamUpload() JavaScript function ---&gt; 91   jsFuncToCall = eval_js('startStreamUpload({})'.format(serverUrl))      92   print(&quot;jsFuncToCall: &quot;, jsFuncToCall)      93   return  /usr/local/lib/python3.7/dist-packages/google/colab/output/_js.py in eval_js(script, ignore_result, timeout_sec)      38   if ignore_result:      39     return ---&gt; 40   return _message.read_reply_from_input(request_id, timeout_sec)      41       42   /usr/local/lib/python3.7/dist-packages/google/colab/_message.py in read_reply_from_input(message_id, timeout_sec)     104         reply.get('colab_msg_id') == message_id):     105       if 'error' in reply: --&gt; 106         raise MessageError(reply['error'])     107       return reply.get('data', None)     108   MessageError: SyntaxError: missing ) after argument list </code></pre> <p>Any suggestion...</p>"	2021-04-06 01:13:33.827 UTC	66961704	"<p>You need to put quotes around the around the argument to <code>startStreamUpload</code>, since it's a string.</p> <pre><code>jsFuncToCall = eval_js('startStreamUpload(&quot;{}&quot;)'.format(serverUrl)) </code></pre>"			2021-04-06 01:38:18.707 UTC
67017766	javascript|python|ajax|flask|post	Post Javascript variable via AJAX to Python controller	"<p>I am new to programming and I am out of my depth right now...</p> <p>I am attempting to make an app that uses information based on the clicks of a button and can then give data analysis based on these button clicks. This works in pure Javascript, but I need to be able to save this data in a database so that I can log in at another time and pick up where I left off, not start all over again.</p> <p>I need to be able to pass information stored in variables to the server to be saved in a database on one click of a button and also send information back to the javascript from the database on clicking a different button.</p> <p>So far I have made a Flask app but I am struggling to connect the python controller with the javascript using AJAX.</p> <p>There are a lot of questions on here already about this topic, but having read and tried all the solutions I can find, I am still struggling.</p> <p>This is one solution I have found on here (<a href=""https://stackoverflow.com/questions/9713058/send-post-data-using-xmlhttprequest"">Send POST data using XMLHttpRequest</a>) but it is giving me a 400 error:</p> <pre><code>var xhr = new XMLHttpRequest();             xhr.open('POST', '/postmethod', true); // '/postmethod' is where I am hoping to deal with this data on the python controller             xhr.onload = function () {                 console.log(this.responseText);             };             xhr.send(data); //data is a map which contains about 20 key value pairs. </code></pre> <p>I expect that this would log the data onto the console, but it is not doing that. I may be completely wrong about the purpose of &quot;console.log(this.responseText);&quot;.</p> <p>This is as far as I can get with the python side of things:</p> <pre><code>@app.route('/postmethod', methods = ['POST']) def postmethod():     if request.method == &quot;POST&quot;:         //I want to execute database commands here using the data passed from the javascript. But I do not know how to get the data as a variable in Python from Javascript. </code></pre> <p>I would really appreciate an example of how to POST data using a button. I need to see code examples for both the python controller and the javascript.</p> <p>I have found it very difficult to understand how the explanations I have read elsewhere work as it is assumed the syntax is understood, I would be so grateful if the syntax was obviously spelled out to me.</p>"	2021-04-09 08:37:08.83 UTC	67017912	"<p>the second parameter of <code>xhr.open</code> is the URL. I think you need to define the complete URL your backend is accessible on. e.g.</p> <pre><code>new XMLHttpRequest();             xhr.open('POST', 'http://localhost:8080/postmethod', true); // '/postmethod' is where I am hoping to deal with this data on the python controller             xhr.onload = function () {                 console.log(this.responseText);             };             xhr.send(data);   </code></pre>"			2021-04-09 08:46:44.043 UTC
67031747	javascript|python|string|find	How would I replicate python rfind and string multiplication in javascript?	"<p>I have this python code that I want to replicate in Javascript but I have no clue how I would do the Python's rfind or find methods. As well as the python string multiplication. For example:</p> <pre class=""lang-py prettyprint-override""><code>' ' * 5 + '^' * 7 </code></pre> <p>Anything helps, thank you!</p>"	2021-04-10 07:15:22.84 UTC	67032018	"<p>rfind</p> <pre><code>txt = &quot;Mi casa, su casa.&quot; // both languages  x = txt.rfind(&quot;casa&quot;) //python  x = txt.lastIndexOf(&quot;casa&quot;) //js </code></pre> <p>find</p> <pre><code>txt = &quot;Hello, welcome to my world.&quot; // both  x = txt.find(&quot;welcome&quot;) // pyhton  x = txt.indexOf(&quot;welcome&quot;) // js  </code></pre> <p>replicate</p> <pre><code>' ' * 5 + '^' * 7 // python &quot; &quot;.repeat(5) + &quot;^&quot;.repeat(7) // js </code></pre>"			2021-04-10 07:52:42.23 UTC
67031855	javascript|python|python-3.x|rpc|frida	How to get all functions from frida javascript rpc.exports to python?	"<p>I have a js file with some rpc.exports</p> <pre class=""lang-js prettyprint-override""><code>rpc.exports = {     callfunctionsecret: callSecretFun,     callfunctionsomethingelse: callSomethingElse, } </code></pre> <p>I want to list ALL these functions in python, but I couldn't find a way to do it</p> <pre class=""lang-py prettyprint-override""><code>device = frida.get_usb_device() pid = device.spawn([package_name]) device.resume(pid) time.sleep(1) session = device.attach(pid) with open(sys.argv[1]) as jsfile:         script = session.create_script(jsfile.read()) print(dir(script.exports)) # output ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattr__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_script'] # output doesn't contain &quot;callfunctionsecret&quot; and &quot;callfunctionsomethingelse&quot; </code></pre> <p>Is there a way to get the function names in some kind of list?</p> <pre class=""lang-py prettyprint-override""><code># e.g. ['callfunctionsecret','callfunctionsomethingelse'] </code></pre> <p>So far I've only gotten to the point where I can access the function object with</p> <pre class=""lang-py prettyprint-override""><code>print(script.exports.__getattrs__(callfunctionsecret)) </code></pre> <p>but that requires us to know the function name first which defeats the purpose of listing all the function names</p>"	2021-04-10 07:31:02.047 UTC	67257687	"<p>From what I've seen, this is not documented and there isn't an explicit method for this. <code>ScriptExports</code> as class does not contain any useful information or methods for this purpose. However, if you search <a href=""https://github.com/frida/frida-gum/blob/56dd9ba3ee9a5511b4b0c629394bf122775f1ab7/bindings/gumjs/runtime/message-dispatcher.js#L64"" rel=""nofollow noreferrer"">frida-gum's code</a> there is such an operation serving this purpose, <code>list</code>. One could trigger this operation and get all rpc exports like this:</p> <p><em>agent.js</em></p> <pre class=""lang-js prettyprint-override""><code>function callSecretFun(n) {         return n*100 }  rpc.exports = {         callfunctionsecret: callSecretFun,         fun1: function() {send(&quot;fun1&quot;); return 1000},         fun2: function() {send(&quot;fun2&quot;)} } </code></pre> <p><em>agent.py</em></p> <pre class=""lang-py prettyprint-override""><code>import sys import frida  session = frida.attach(&quot;hello&quot;) with open(&quot;agent.js&quot;, &quot;r&quot;) as f:     script = session.create_script(f.read()) script.load() rpc_exports = script._rpc_request('list') # send an rpc request to list rpc exports print(rpc_exports) sys.stdin.read() </code></pre> <p>Output:</p> <pre><code>$ python3 agent.py ['callfunctionsecret', 'fun1', 'fun2'] </code></pre>"			2021-04-25 19:55:24.443 UTC
67033523	javascript|python	Is there a Javascript equivalent to Pythons getattr() function?	"<p>Is there a equivalent getattr() function for Javascript? Or can I like code my own function? I don't really know where to go. Python Code:</p> <pre class=""lang-py prettyprint-override""><code>method = getattr(self, method_name) method() </code></pre>"	2021-04-10 10:52:55.4 UTC	67033832	"<p>Unlike Python, in Javascript there's no difference between object properties (accessed with a dot) and &quot;items&quot; (accessed with square brackets).</p> <p>Therefore, in Javascript, you can use square brackets to access properties indirectly, that is</p> <pre><code>someObj.propName </code></pre> <p>and</p> <pre><code>someObj[expression that returns 'propName'] </code></pre> <p>do the same thing, particularly,</p> <pre><code>someObj.foo === someObj['foo'] </code></pre> <p>This is similar to what <code>getattr</code> does, but there are a few caveats to keep in mind:</p> <p>First, unlike <code>getattr</code>,  <code>[]</code> won't throw if the property doesn't exist. It just silently returns <code>undefined</code></p> <p>Second, there's no option to provide a default value, so you have to use a conditional if you want it</p> <pre><code>value = propName in someObj ? someObj[propName] : defaultValue </code></pre> <p>The third, and most important, applies when the property in question is a <em>method</em>. In python, <code>myObject.someMethod</code> or <code>getattr(someObj, methodName)</code> will return a <em>bound</em> function, which is aware of its own host object, or <code>self</code>. Therefore, you can call the returned value directly:</p> <pre><code>class MyClass:     def __init__(self):         self.thing = 'hey'      def test(self):         print(self.thing)  myObject = MyClass() methodName = 'test'  method = getattr(myObject, methodName)  method()  # ok </code></pre> <p>In javascript, <code>myObject.someMethod</code> or <code>someObj[methodName]</code> will return an <em>unbound</em> function, which &quot;has no idea&quot; to which object it belongs. So if you store it in a variable and call it later on, that won't work:</p> <pre><code>class MyClass {     constructor() {         this.thing = 'hey'     }     test() {         console.log(this.thing);     } }  myObject = new MyClass() methodName = 'test'  method = myObject[methodName]  method() // NOT OK </code></pre> <p>You have to &quot;rebind&quot; the method explicitly to be able to call it:</p> <pre><code>boundMethod = method.bind(myObject) boundMethod() // ok </code></pre> <p>Note that this only applies when you <em>store</em> the method in a variable (or pass as a parameter). When you <em>call</em> it right away, everything works as expected:</p> <pre><code>myObject[methodName]()  // ok </code></pre> <p>To put it all together, a vague analog of python's <code>getattr</code> might look like this in Javascript:</p> <pre><code>function getattr(obj, prop, defaultValue = null) {      if (prop in obj) {         let val = obj[prop];         if (typeof val === 'function')             return val.bind(obj);         return val;     }      if (arguments.length &gt; 2) {         return defaultValue;     }      throw new TypeError(`&quot;${obj}&quot; object has no attribute &quot;${prop}&quot;`) } </code></pre>"			2021-04-10 11:27:12.5 UTC
67033523	javascript|python	Is there a Javascript equivalent to Pythons getattr() function?	"<p>Is there a equivalent getattr() function for Javascript? Or can I like code my own function? I don't really know where to go. Python Code:</p> <pre class=""lang-py prettyprint-override""><code>method = getattr(self, method_name) method() </code></pre>"	2021-04-10 10:52:55.4 UTC	67033590	"<p>JS don't need a function but you can code on your own to simulate the similar behaviour.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const obj = {   name: ""XYZ"",   experience: 10,   organization: ""GOOGLE"" }  function getattr( obj, prop, def ){   return prop in obj ? obj[prop] : def; }  const value = getattr( obj, ""name"" ); console.log( value );</code></pre> </div> </div> </p>"			2021-04-10 11:00:36.447 UTC
67044050	python|json|web-scraping	Scraped Javascript JSON convert to Python JSON	"<p>I have two scraped strings I need convert to python JSON. edges and nodes.</p> <pre><code>edges = &quot;[{from: '0000000097', to: '0458923133', title: 'out' },{from: '0000000097', to: '0422391349', title: 'out' },{from: '0000000097', to: '0546879961', title: 'out' },{from: '0000000097', to: '0437118919', title: 'out' },{from: '0000000097', to: '0471835219', title: 'out' },{from: '0000000097', to: '0480049733', title: 'out' },{from: '0000000097', to: '0567887488', title: 'out' },{from: '0000000097', to: '0888866824', title: 'out' },{from: '0000000097', to: '0444466470', title: 'out' },{from: '0000000097', to: '0448792769', title: 'out' },{from: '0000000097', to: '0449758613', title: 'out' },{from: '0000000097', to: '0816961219', title: 'out' },{from: '0000000097', to: '0461147797', title: 'out' },{from: '0000000097', to: '0420238939', title: 'out' },{from: '0000000097', to: '0472619434', title: 'out' },{from: '0000000097', to: '0448126736', title: 'out' },{from: '0000000097', to: '0466829326', title: 'out' },{from: '0000000097', to: '0456272657', title: 'out' },{from: '0000000097', to: '0477675114', title: 'out' },{from: '0000000097', to: '0443725609', title: 'out' },{from: '0000000097', to: '0480737938', title: 'out' },{from: '0000000097', to: '0880217293', title: 'out' },{from: '0000000097', to: '0810322657', title: 'out' },{from: '0000000097', to: '0432965537', title: 'out' },{from: '0000000097', to: '0473258347', title: 'out' },{from: '0000000097', to: '0836191765', title: 'out' },{from: '0000000097', to: '0431385922', title: 'out' },{from: '0000000097', to: '0440358719', title: 'out' },{from: '0000000097', to: '0451797492', title: 'out' },{from: '0000000097', to: '0668597541', title: 'out' },{from: '0000000097', to: '0457288682', title: 'out' },{from: '0000000097', to: '0560813814', title: 'out' }]&quot; nodes = &quot;[{id: '0000000097' , shape: 'star', color: {background:'#F03967', border:'#713E7F',highlight:{background:'red',border:'black'}} , value: 15, label: 'M-DES' },{id: '0458923133' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'SPEED INVEST' },{id: '0422391349' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ELECTRICITEITSWERKEN DECAIGNY FREDDY, AFGEKORT : E.D.F.' },{id: '0546879961' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OSTERIA AGRICOLA TOSCANA BELGIO' },{id: '0437118919' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'IMMOBILIERE DU BOIS D ARPES' },{id: '0471835219' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'EXCELLENCE CONSULTING' },{id: '0480049733' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'JOVEGI' },{id: '0567887488' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'CONINGS ROUMANS DAKWERKEN' },{id: '0888866824' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ONDERNEMERSCENTRUM RONSE' },{id: '0444466470' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'TRANSFOTEC' },{id: '0448792769' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DECAB' },{id: '0449758613' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COMAN' },{id: '0816961219' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ARJULO' },{id: '0461147797' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COUNTRYWIDE TRADING AND MANAGEMENT SERVICES' },{id: '0420238939' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GODEFROOT' },{id: '0472619434' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'PRO USED COMPUTERS, AFGEKORT : PUC' },{id: '0448126736' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'VERCAM INVEST' },{id: '0466829326' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'FINANCE en MANAGEMENT INTERNATIONAL' },{id: '0456272657' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COLORS PRODUCTIONS' },{id: '0477675114' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OXYA CONSULTING BENELUX' },{id: '0443725609' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'KNOOPS COOLING' },{id: '0480737938' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OFFICINALL' },{id: '0880217293' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DIENSTENFIRMA BALDEMO' },{id: '0810322657' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'B INVEST' },{id: '0432965537' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'INGENIEURSBUREAU NORBERT PROVOOST' },{id: '0473258347' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'VON GESSENECK GROUP' },{id: '0836191765' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'BOLCKMANS VASTGOED GROEP' },{id: '0431385922' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GENERAL MANAGEMENT OFFICE, EN ABREGE : G.M.O.' },{id: '0440358719' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GROEP DILLEN' },{id: '0451797492' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DEBOFIN' },{id: '0668597541' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'FRAG INVEST' },{id: '0457288682' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ECKERT en ZIEGLER BEBIG' }] &quot; </code></pre>"	2021-04-11 10:47:59.767 UTC	67044138	"<p>It's javascript object, so calling directly <code>json.loads</code> will not work. One <em>&quot;hacky&quot;</em> way is to convert all <code>'</code> to <code>&quot;</code> and quote dict keys:</p> <pre><code>import re import json  edges = &quot;[{from: '0000000097', to: '0458923133', title: 'out' },{from: '0000000097', to: '0422391349', title: 'out' },{from: '0000000097', to: '0546879961', title: 'out' },{from: '0000000097', to: '0437118919', title: 'out' },{from: '0000000097', to: '0471835219', title: 'out' },{from: '0000000097', to: '0480049733', title: 'out' },{from: '0000000097', to: '0567887488', title: 'out' },{from: '0000000097', to: '0888866824', title: 'out' },{from: '0000000097', to: '0444466470', title: 'out' },{from: '0000000097', to: '0448792769', title: 'out' },{from: '0000000097', to: '0449758613', title: 'out' },{from: '0000000097', to: '0816961219', title: 'out' },{from: '0000000097', to: '0461147797', title: 'out' },{from: '0000000097', to: '0420238939', title: 'out' },{from: '0000000097', to: '0472619434', title: 'out' },{from: '0000000097', to: '0448126736', title: 'out' },{from: '0000000097', to: '0466829326', title: 'out' },{from: '0000000097', to: '0456272657', title: 'out' },{from: '0000000097', to: '0477675114', title: 'out' },{from: '0000000097', to: '0443725609', title: 'out' },{from: '0000000097', to: '0480737938', title: 'out' },{from: '0000000097', to: '0880217293', title: 'out' },{from: '0000000097', to: '0810322657', title: 'out' },{from: '0000000097', to: '0432965537', title: 'out' },{from: '0000000097', to: '0473258347', title: 'out' },{from: '0000000097', to: '0836191765', title: 'out' },{from: '0000000097', to: '0431385922', title: 'out' },{from: '0000000097', to: '0440358719', title: 'out' },{from: '0000000097', to: '0451797492', title: 'out' },{from: '0000000097', to: '0668597541', title: 'out' },{from: '0000000097', to: '0457288682', title: 'out' },{from: '0000000097', to: '0560813814', title: 'out' }]&quot; nodes = &quot;[{id: '0000000097' , shape: 'star', color: {background:'#F03967', border:'#713E7F',highlight:{background:'red',border:'black'}} , value: 15, label: 'M-DES' },{id: '0458923133' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'SPEED INVEST' },{id: '0422391349' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ELECTRICITEITSWERKEN DECAIGNY FREDDY, AFGEKORT : E.D.F.' },{id: '0546879961' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OSTERIA AGRICOLA TOSCANA BELGIO' },{id: '0437118919' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'IMMOBILIERE DU BOIS D ARPES' },{id: '0471835219' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'EXCELLENCE CONSULTING' },{id: '0480049733' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'JOVEGI' },{id: '0567887488' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'CONINGS ROUMANS DAKWERKEN' },{id: '0888866824' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ONDERNEMERSCENTRUM RONSE' },{id: '0444466470' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'TRANSFOTEC' },{id: '0448792769' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DECAB' },{id: '0449758613' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COMAN' },{id: '0816961219' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ARJULO' },{id: '0461147797' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COUNTRYWIDE TRADING AND MANAGEMENT SERVICES' },{id: '0420238939' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GODEFROOT' },{id: '0472619434' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'PRO USED COMPUTERS, AFGEKORT : PUC' },{id: '0448126736' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'VERCAM INVEST' },{id: '0466829326' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'FINANCE en MANAGEMENT INTERNATIONAL' },{id: '0456272657' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'COLORS PRODUCTIONS' },{id: '0477675114' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OXYA CONSULTING BENELUX' },{id: '0443725609' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'KNOOPS COOLING' },{id: '0480737938' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'OFFICINALL' },{id: '0880217293' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DIENSTENFIRMA BALDEMO' },{id: '0810322657' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'B INVEST' },{id: '0432965537' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'INGENIEURSBUREAU NORBERT PROVOOST' },{id: '0473258347' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'VON GESSENECK GROUP' },{id: '0836191765' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'BOLCKMANS VASTGOED GROEP' },{id: '0431385922' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GENERAL MANAGEMENT OFFICE, EN ABREGE : G.M.O.' },{id: '0440358719' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'GROEP DILLEN' },{id: '0451797492' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'DEBOFIN' },{id: '0668597541' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'FRAG INVEST' },{id: '0457288682' , shape: 'diamond', color: '#d6a4f5' , value: 10, label: 'ECKERT en ZIEGLER BEBIG' }] &quot;  edges = re.sub(r&quot;([a-z]+):&quot;, r'&quot;\1&quot;:', edges.replace(&quot;'&quot;, '&quot;')) nodes = re.sub(r&quot;([a-z]+):&quot;, r'&quot;\1&quot;:', nodes.replace(&quot;'&quot;, '&quot;'))  edges = json.loads(edges) nodes = json.loads(nodes)  # pretty print     print(json.dumps(edges, indent=4)) print(json.dumps(nodes, indent=4)) </code></pre> <p>Prints:</p> <pre class=""lang-json prettyprint-override""><code>[     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0458923133&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0422391349&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0546879961&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0437118919&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0471835219&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0480049733&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0567887488&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0888866824&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0444466470&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0448792769&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0449758613&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0816961219&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0461147797&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0420238939&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0472619434&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0448126736&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0466829326&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0456272657&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0477675114&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0443725609&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0480737938&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0880217293&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0810322657&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0432965537&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0473258347&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0836191765&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0431385922&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0440358719&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0451797492&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0668597541&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0457288682&quot;,         &quot;title&quot;: &quot;out&quot;     },     {         &quot;from&quot;: &quot;0000000097&quot;,         &quot;to&quot;: &quot;0560813814&quot;,         &quot;title&quot;: &quot;out&quot;     } ] [     {         &quot;id&quot;: &quot;0000000097&quot;,         &quot;shape&quot;: &quot;star&quot;,         &quot;color&quot;: {             &quot;background&quot;: &quot;#F03967&quot;,             &quot;border&quot;: &quot;#713E7F&quot;,             &quot;highlight&quot;: {                 &quot;background&quot;: &quot;red&quot;,                 &quot;border&quot;: &quot;black&quot;             }         },         &quot;value&quot;: 15,         &quot;label&quot;: &quot;M-DES&quot;     },     {         &quot;id&quot;: &quot;0458923133&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;SPEED INVEST&quot;     },     {         &quot;id&quot;: &quot;0422391349&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;ELECTRICITEITSWERKEN DECAIGNY FREDDY, AFGEKORT : E.D.F.&quot;     },     {         &quot;id&quot;: &quot;0546879961&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;OSTERIA AGRICOLA TOSCANA BELGIO&quot;     },     {         &quot;id&quot;: &quot;0437118919&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;IMMOBILIERE DU BOIS D ARPES&quot;     },     {         &quot;id&quot;: &quot;0471835219&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;EXCELLENCE CONSULTING&quot;     },     {         &quot;id&quot;: &quot;0480049733&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;JOVEGI&quot;     },     {         &quot;id&quot;: &quot;0567887488&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;CONINGS ROUMANS DAKWERKEN&quot;     },     {         &quot;id&quot;: &quot;0888866824&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;ONDERNEMERSCENTRUM RONSE&quot;     },     {         &quot;id&quot;: &quot;0444466470&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;TRANSFOTEC&quot;     },     {         &quot;id&quot;: &quot;0448792769&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;DECAB&quot;     },     {         &quot;id&quot;: &quot;0449758613&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;COMAN&quot;     },     {         &quot;id&quot;: &quot;0816961219&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;ARJULO&quot;     },     {         &quot;id&quot;: &quot;0461147797&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;COUNTRYWIDE TRADING AND MANAGEMENT SERVICES&quot;     },     {         &quot;id&quot;: &quot;0420238939&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;GODEFROOT&quot;     },     {         &quot;id&quot;: &quot;0472619434&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;PRO USED COMPUTERS, AFGEKORT : PUC&quot;     },     {         &quot;id&quot;: &quot;0448126736&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;VERCAM INVEST&quot;     },     {         &quot;id&quot;: &quot;0466829326&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;FINANCE en MANAGEMENT INTERNATIONAL&quot;     },     {         &quot;id&quot;: &quot;0456272657&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;COLORS PRODUCTIONS&quot;     },     {         &quot;id&quot;: &quot;0477675114&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;OXYA CONSULTING BENELUX&quot;     },     {         &quot;id&quot;: &quot;0443725609&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;KNOOPS COOLING&quot;     },     {         &quot;id&quot;: &quot;0480737938&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;OFFICINALL&quot;     },     {         &quot;id&quot;: &quot;0880217293&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;DIENSTENFIRMA BALDEMO&quot;     },     {         &quot;id&quot;: &quot;0810322657&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;B INVEST&quot;     },     {         &quot;id&quot;: &quot;0432965537&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;INGENIEURSBUREAU NORBERT PROVOOST&quot;     },     {         &quot;id&quot;: &quot;0473258347&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;VON GESSENECK GROUP&quot;     },     {         &quot;id&quot;: &quot;0836191765&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;BOLCKMANS VASTGOED GROEP&quot;     },     {         &quot;id&quot;: &quot;0431385922&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;GENERAL MANAGEMENT OFFICE, EN ABREGE : G.M.O.&quot;     },     {         &quot;id&quot;: &quot;0440358719&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;GROEP DILLEN&quot;     },     {         &quot;id&quot;: &quot;0451797492&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;DEBOFIN&quot;     },     {         &quot;id&quot;: &quot;0668597541&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;FRAG INVEST&quot;     },     {         &quot;id&quot;: &quot;0457288682&quot;,         &quot;shape&quot;: &quot;diamond&quot;,         &quot;color&quot;: &quot;#d6a4f5&quot;,         &quot;value&quot;: 10,         &quot;label&quot;: &quot;ECKERT en ZIEGLER BEBIG&quot;     } ] </code></pre>"			2021-04-11 10:58:19.14 UTC
67061570	javascript|python|selenium|web-scraping|selenium-chromedriver	Python Selenium to download HTML with Javascript components	"<p>I am trying to create code that can scrape the reviews (Javascript generated component) on Urban Outfitters. Below I created the <strong>scraping</strong> code for a specific shoe on the website. However, the downloaded page source HTML does not contain the reviews. Does anyone know how to make Selenium download the HTML with the reviews included.</p> <pre><code>from selenium import webdriver from selenium.webdriver.common.action_chains import ActionChains from selenium.webdriver.common.keys import Keys import codecs import os from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By from selenium.common.exceptions import TimeoutException  br = webdriver.Safari() br.maximize_window() br.get('https://www.urbanoutfitters.com/shop/converse-chuck-taylor-all-star-canvas-platform-high-top-sneaker?category=SEARCHRESULTS&amp;color=015&amp;searchparams=q%3Dsneaker&amp;type=REGULAR&amp;quantity=1') try:     myElem = WebDriverWait(br, 10).until(EC.presence_of_element_located((By.CLASS_NAME, 'c-pwa-product-reviews__items-outer')))     print(&quot;Page is ready!&quot;) except TimeoutException:     print(&quot;Loading took too much time!&quot;) n=os.path.join(os.path.sep, &quot;Users&quot;, &quot;jenniferzhou&quot;, &quot;Downloads&quot;,&quot;Page.html&quot;) #open file in write mode with encoding f = codecs.open(n, &quot;w&quot;, &quot;utfâˆ’8&quot;) h = br.page_source f.write(h) br.quit() </code></pre>"	2021-04-12 15:52:02.76 UTC	67077039	"<p><strong>Disclaimer</strong>: respect the website, don't bombard the site with requests ;)</p> <p>As the link provided by Swaroop Humane indicates, selenium is mainly useful for testing the mechanics of a website and not very effective for gathering data.</p> <p>However, most of the time you don't have to run javascript, the engine of the websites does it itself very well. But you, as a user, have to make the right requests.</p> <p>Without going into details, you must explore the data that passes between the client (you) and the server (F12 -&gt; Network tab -&gt; (Html, Xhr, etc ...)</p> <p>So here is the code (commented) :</p> <pre><code>## import usefull libraries import requests as rq  from bs4 import BeautifulSoup as bs from urllib.parse import unquote import json  ## set up initial header and initial request headers = { &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0&quot;} url_base = &quot;https://www.urbanoutfitters.com/shop/converse-chuck-taylor-all-star-canvas-platform-high-top-sneaker?category=SEARCHRESULTS&amp;color=015&amp;searchparams=q%3Dsneaker&amp;type=REGULAR&amp;quantity=1&amp;reviewPage=13&quot; s = rq.session() q_base = s.get(url_base, headers=headers)  ## get the cookies from last request ;  ## since no request cookies was set, website does and return a bunch of interesting elements d = q_base.cookies.get_dict() d2 = d['urbn_auth_payload'] # this element (a stringed dictionnary) contains the element of interest =&gt; &quot;authToken&quot; d3 = unquote(d2) d4 = json.loads(d3)  # We rebuild here a second header, like the one observed in F12 Network tab headers_2 = {     &quot;Host&quot;: &quot;www.urbanoutfitters.com&quot;,     &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0&quot;,     &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;,     &quot;Accept-Language&quot;: &quot;en-US,en;q=0.5&quot;,     &quot;Accept-Encoding&quot;: &quot;gzip, deflate, br&quot;,     &quot;x-urbn-site-id&quot;: &quot;uo-us&quot;,     &quot;x-urbn-channel&quot;: &quot;web&quot;,     &quot;x-urbn-country&quot;: &quot;FR&quot;,     &quot;x-urbn-currency&quot;: &quot;USD&quot;,     &quot;x-urbn-language&quot;: &quot;en-US&quot;,     &quot;x-urbn-experience&quot;: &quot;ss&quot;,     &quot;x-urbn-primary-data-center-id&quot;: &quot;US-PA&quot;,     &quot;x-urbn-geo-region&quot;: &quot;EU-LN&quot;,     &quot;Connection&quot;: &quot;keep-alive&quot;,     &quot;authorization&quot;: &quot;Bearer &quot; + d4[&quot;authToken&quot;], }  ## the &quot;url_target&quot; returns data you want (again finded in F12 -&gt; Network) ONLY when we  ## pass correct set of header arguments (=&gt; &quot;headers_2&quot;) ## Note that I set offset=3 &amp; limit=100 and the end of url string. I a greater limit ## but the server return to me :  ## #b'{&quot;code&quot;: &quot;ERROR_PARAM_INVALID_LIMIT&quot;, &quot;message&quot;: &quot;Invalid limit value: 300, limit cannot be greater than 100&quot;}' url_target = &quot;https://www.urbanoutfitters.com/api/catalog/v0/uo-us/product/converse-chuck-taylor-all-star-canvas-platform-high-top-sneaker/reviews?projection-slug=reviews&amp;offset=3&amp;limit=100&quot; q_target = s.get(url_target, headers=headers_2) # return json data data = q_target.json() # parse json  count_review = data[&quot;product&quot;][&quot;reviewStatistics&quot;][&quot;totalReviewCount&quot;] # number of reviews data_reviews = data[&quot;results&quot;] # reviews list   def extract_data(data_reviews):     # choisir ici quels sont les Ã©lÃ©ments Ã  extraire     res = []     for el in data_reviews:         res.append([el['submissionTime'], el['userNickname'], el['title'], el['reviewText']    ])     return res   resultat = extract_data(data_reviews) # data u want </code></pre> <p>&quot;resultat&quot; contains :</p> <pre><code>[['2021-04-11T14:13:18.000+00:00',   'Ainsleyb',   'Definitely recommend',   'I love these shoes so much, you should definitely order these in your normal size. They go with everything and they make you outfit look even better. Iâ€™m also short so they definitely make me look taller.'],  ['2021-04-10T22:27:00.000+00:00',   'Marisol B',   'Love them',   'I love these shoes I just donâ€™t know what to wear with them lol.'], ...... ...... </code></pre> <p>Note 1: I have not taken into account the case where there are more than 100 reviews on a product.</p> <p>Note 2:  the central part of the &quot;url_target&quot; must be adapted to extract reviews of other products</p>"			2021-04-13 14:41:20.833 UTC
67137035	javascript|python|selenium|selenium-webdriver|web-scraping	Python Selenium Webdriver - Javascript .click() integration in python script	"<h2>I'm struggling to a run Javascript code inside my python selenium script. The way javascript &quot;.click()&quot; is far more efficient than selenium. I need to convert this javascript into python, and i'm not familiar with JS :</h2> <p>const MyVariable= $(&quot;.modal-test&quot;).prev();</p> <pre><code>     } else {         await MyVariable.each(function (i, el) {            r = Math.random();            if (i &gt;= 20 &amp;&amp; r &gt; 0.2) {               $(el).click();            } </code></pre> <p>Someone could help me ??</p> <p>Thanks !</p> <p>EDIT :</p> <p>Thank you PDHide for your answer ! i'm trying to adapt your advices to my script but no luck for the moment.</p> <p>Here's a piece of my code :</p> <pre><code>            try:                  modal = &quot;modal-vote__greeting&quot;                 element = WebDriverWait(driver, 3).until(                     EC.presence_of_element_located((By.CLASS_NAME, (modal)))                 )                 element.click()                 print(&quot;&lt;&quot;, end='\r')                 driver.execute_script(&quot;&quot;&quot;                     const picForVote = $(&quot;.modal-vote__photo__voted&quot;).prev();                         if (picForVote.length === 0) {                             $('div[ng-click=&quot;$ctrl.submit()&quot;]').click();                             await new Promise(resolve =&gt; setTimeout(resolve, 4000));                             $('div[ng-click=&quot;$ctrl.close()&quot;]').click();                             await new Promise(resolve =&gt; setTimeout(resolve, 4000));                             continue;                          } else {                             await picForVote.each(function (i, el) {                             r = Math.random();                             if (i &gt;= 20 &amp;&amp; r &gt; 0.2) {                                 $(el).click();                             }                             });                             await new Promise(resolve =&gt; setTimeout(resolve, 4000));                             $('div[ng-click=&quot;$ctrl.submit()&quot;]').click();                             await new Promise(resolve =&gt; setTimeout(resolve, 4000));                             $('div[ng-click=&quot;$ctrl.close()&quot;]').click();                             await new Promise(resolve =&gt; setTimeout(resolve, 4000));                         }&quot;&quot;&quot;) </code></pre>"	2021-04-17 10:16:57.13 UTC	67137267	"<p>you can execute script in selenium as :</p> <pre><code>driver.execute_script(&quot;&quot;&quot;   const MyVariable= $(&quot;.modal-test&quot;).prev();   } else {     await MyVariable.each(function (i, el) {        r = Math.random();        if (i &gt;= 20 &amp;&amp; r &gt; 0.2) {           $(el).click();        }&quot;&quot;&quot;) </code></pre> <p>if you get $ not defined error then use:</p> <pre><code>driver.execute_script(&quot;&quot;&quot;var jquery_script = document.createElement('script');  jquery_script.src = 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'; document.getElementsByTagName('head')[0].appendChild(jquery_script);        const MyVariable= $(&quot;.modal-test&quot;).prev();       } else {         await MyVariable.each(function (i, el) {            r = Math.random();            if (i &gt;= 20 &amp;&amp; r &gt; 0.2) {               $(el).click();            }&quot;&quot;&quot;) </code></pre> <p>here we are enabling jquery by adding a script tag</p>"			2021-04-17 10:44:18.093 UTC
67139041	python|arrays|string|list|web-scraping	How to scrape JavaScript page with Python	"<p>I'm trying to scrape <code>patentsview.org</code> but I'm having an issue. When I try to scrape this page, it doesn't work well. Site using JavaScript to get data from their database. I tried to get the data using <code>requests-html</code> package but I didn't quite understand.</p> <p>Here's what I tried:</p> <pre><code># Import import re from bs4 import BeautifulSoup from requests_html import HTMLSession session = HTMLSession()  # Set requests r = session.get('https://datatool.patentsview.org/#search/assignee&amp;asn=1|Samsung') r.html.render()  # Set BS and print soup = BeautifulSoup(r.html.html, &quot;lxml&quot;) tags = soup.find_all(&quot;div&quot;, class_='summary') print(tags) </code></pre> <p>This code gives me this result:</p> <pre><code># Result [&lt;div class=&quot;summary&quot;&gt;&lt;/div&gt;] </code></pre> <p>But I want this:</p> <p><a href=""https://i.stack.imgur.com/CnEzW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CnEzW.png"" alt=""enter image description here"" /></a></p> <p>This is the right <code>div</code>. But I can't see content of <code>div</code> with my code. How can I get the div's content? Hope you understand what I meant.</p>"	2021-04-17 14:07:00.683 UTC	67139321	"<p>Use the browser dev tools. (Chrome. F12 - Network - XHR) and see the HTTP GET thst return the data (as JSON) you are looking for.</p> <p><code>HTTP GET https://webapi.patentsview.org/api/assignees/query?q={%22_and%22:[{%22_or%22:[{%22_and%22:[{%22_contains%22:{%22assignee_first_name%22:%22Samsung%22}}]},{%22_and%22:[{%22_contains%22:{%22assignee_last_name%22:%22Samsung%22}}]},{%22_and%22:[{%22_contains%22:{%22assignee_organization%22:%22Samsung%22}}]}]}]}&amp;f=[%22assignee_id%22,%22assignee_first_name%22,%22assignee_last_name%22,%22assignee_organization%22,%22assignee_lastknown_country%22,%22assignee_lastknown_state%22,%22assignee_lastknown_city%22,%22assignee_lastknown_location_id%22,%22assignee_total_num_patents%22,%22assignee_first_seen_date%22,%22assignee_last_seen_date%22,%22patent_id%22]&amp;o={%22per_page%22:50,%22matched_subentities_only%22:true,%22sort_by_subentity_counts%22:%22patent_id%22,%22page%22:1}&amp;s=[{%22patent_id%22:%22desc%22},{%22assignee_total_num_patents%22:%22desc%22},{%22assignee_organization%22:%22asc%22},{%22assignee_last_name%22:%22asc%22},{%22assignee_first_name%22:%22asc%22}]</code></p>"			2021-04-17 14:35:25.157 UTC
67172001	javascript|python|c|rounding-error	"Rounding differences with Python, C, and JavaScript"	"<p>I'm trying to multiply numbers and different languages are producing different results. Here is the math problem:</p> <pre><code>x = 3.0524116 y = 57325 z = x * y </code></pre> <p>With Python (and also JavaScript), <code>z</code> is <code>174979.49123897057</code>. Demonstration code is shown below.</p> <pre><code>import numpy as np x = np.float32(3.0524116) y = np.uint32(57325) z = x * y print(z) </code></pre> <p>With C, <code>z</code> is <code>174979.500000</code>. Demonstration code is shown below.</p> <pre><code>#include &lt;stdio.h&gt; int main() {     float x = 3.0524116f;     unsigned int y = 57325;     float z = x * y;     printf(&quot;%f\n&quot;, z);     return 0;  } </code></pre> <p>Now, when <code>z</code> is rounded to an integer in C, buffers that had been initialized in Python overflow and the whole thing goes over the cliff... Anyway, what is going on here? Why aren't the results the same?</p>"	2021-04-20 03:18:20.643 UTC	67172189	"<p>I can reproduce your results if I use <code>float</code> in C, rather than <code>double</code>. Python's <code>float</code> type and JavaScript's <code>Number</code> are actually implemented with C <code>double</code>s, so if you want C to behave the same, use <code>double</code>, not <code>float</code>.</p>"			2021-04-20 03:50:10.46 UTC
67172001	javascript|python|c|rounding-error	"Rounding differences with Python, C, and JavaScript"	"<p>I'm trying to multiply numbers and different languages are producing different results. Here is the math problem:</p> <pre><code>x = 3.0524116 y = 57325 z = x * y </code></pre> <p>With Python (and also JavaScript), <code>z</code> is <code>174979.49123897057</code>. Demonstration code is shown below.</p> <pre><code>import numpy as np x = np.float32(3.0524116) y = np.uint32(57325) z = x * y print(z) </code></pre> <p>With C, <code>z</code> is <code>174979.500000</code>. Demonstration code is shown below.</p> <pre><code>#include &lt;stdio.h&gt; int main() {     float x = 3.0524116f;     unsigned int y = 57325;     float z = x * y;     printf(&quot;%f\n&quot;, z);     return 0;  } </code></pre> <p>Now, when <code>z</code> is rounded to an integer in C, buffers that had been initialized in Python overflow and the whole thing goes over the cliff... Anyway, what is going on here? Why aren't the results the same?</p>"	2021-04-20 03:18:20.643 UTC	67172337	"<p>You're using the wrong type.</p> <p>As others have pointed out, Python and JavaScript both used <code>double</code>s as opposed to <code>float</code>s. So for an accurate comparison with Python and Javascript, I tried this program:</p> <pre><code>#include &lt;stdio.h&gt;  int main() {     double x = 3.0524115349144454, y = 57325;     printf(&quot;%.12lf\n&quot;, x * y);     return 0; } </code></pre> <p>When I run this, the output is <code>174979.491238970571</code>. That's <em>exactly</em> the same as <code>174979.49123897057</code> (except with 1 extra digit in C). So as you can see, it is the same, you were just using the wrong type (most probably, it would be good if you could clarify this in an edit).</p> <p>I also ran the equivalent programs in Python and Javascript just to make sure, and the output was the same. I <em>also</em> ran the same C program except I replaced the <code>double</code> with <code>float</code>, and I got the output of <code>174979.500000000000</code>. So again, this is making me think you used <code>float</code>, though it would be good if you could clarify.</p> <p><strong>EDIT:</strong> I just noticed the edit you've made. However, the C tests and the Python tests are still not equivalent. In your python example:</p> <pre><code>import numpy as np x = np.float32(3.0524116) y = np.uint32(57325) z = x * y print(z) </code></pre> <p><code>x * y</code>  still returns a double-precision result which is then stored in a double precision <code>float</code> <code>z</code>. For an accurate test, you would have to replace <code>z = x * y</code> with <code>z = np.float32(x * y)</code>. When I try the Python program with the required change, I get <code>174979.5</code>, the same result as with C using <code>float</code>s. As for Javascript, I don't know how you've tested that or how you could use single-precision <code>float</code>s in it. I hardly know anything about the language, so I can't say really.</p>"			2021-04-20 04:11:06.84 UTC
67182129	javascript|python|google-earth-engine	Translation of Google Earth Engine javascript functions to python functions	"<p>I am struggling to convert a javascript earth engine routine to python which is taken from this material <a href=""https://docs.google.com/presentation/d/1D7rezUHPElCfYWHMRNBChHjbEv6nXDD8xnh7_YgyK6A/edit#slide=id.g22bb639feb_1_27"" rel=""nofollow noreferrer"">here</a></p> <p>The javascript is as follows  I have included the input collections for context.</p> <pre><code>var l8 = ee.ImageCollection('LANDSAT/LC08/C01/T1_SR')     .filterBounds(roi)     .filterDate('2016-01-01', '2016-12-31');  // Load an Earth Engine table. var blocks = ee.FeatureCollection('TIGER/2010/Blocks'); var subset = blocks.filterBounds(roi); print('Size of Census blocks subset', subset.size()); // 409   var triplets = l8.map(function(image) {   return image.select('B1').reduceRegions({     collection: subset.select(['blockid10']),      reducer: ee.Reducer.mean(),      scale: 30   }).filter(ee.Filter.neq('mean', null))     .map(function(f) {        return f.set('imageId', image.id());     }); }).flatten(); </code></pre> <p>The part I am a bit stuck on is the conversion of the variable <code>triplets</code>, which includes various nested routines. My python version returns the error:</p> <pre><code>Unrecognized argument type to convert to a FeatureCollection: {'collection': &lt;ee.featurecollection.FeatureCollection object at 0x7f29fb0e2b80&gt;, 'reducer': &lt;ee.Reducer object at 0x7f29fb10e670&gt;, 'scale': 30} </code></pre> <p>The issue seems to be map(imfunc), which I assume is down to me getting the python function wrong.</p> <pre><code>def imfunc(image):   return image.select('B1').reduceRegions({     'collection': subset.select(['blockid10']),     'reducer': ee.Reducer.mean(),     'scale': 30})  def wrapf(f):     return f.set('imageId', image.id())  triplets = l8.map(imfunc).filter(ee.Filter.neq('mean', {})).map(wrapf).flatten() </code></pre> <p>Can anyone shed light on where I am going wrong with the python conversion?</p>"	2021-04-20 15:41:47.533 UTC	67183283	"<p>In the original code, <code>.filter(...).map(wrapf)</code> is applied to the result of <code>reduceRegions</code>. In your translated code, you have instead applied it to the result of <code>l8.map()</code>, the outer collection instead of the inner, because you didn't keep it inside the outer <code>map</code> function.</p> <p>This is a corrected translation:</p> <pre class=""lang-py prettyprint-override""><code>def imfunc(image):   return (image.select('B1')     .reduceRegions(       collection=subset.select(['blockid10']),       reducer=ee.Reducer.mean(),       scale=30     )     .filter(ee.Filter.neq('mean', None))     .map(wrapf))  def wrapf(f):     return f.set('imageId', image.id())  triplets = l8.map(imfunc).flatten() </code></pre> <p>I also fixed the arguments to <code>reduceRegions</code> to use Python-style named arguments instead of a dictionary (this is necessary). There may be other errors I didn't fix â€”Â I haven't tested this code â€” but I hope it helps with learning how to translate.</p> <p>Note that you don't need to change <em>every</em> function to a named function. Instead of <code>.map(wrapf) </code> you can use <code>.map(lambda f: f.set('imageId', image.id()))</code>)</p>"			2021-04-20 17:01:21.553 UTC
67194063	python|beautifulsoup|python-requests|urllib|python-requests-html	Python script to extract a javascript variable from html on a page	"<p>I have the following javascript in the header of pages on my site:</p> <pre><code>&lt;script type='text/javascript'&gt; var gaProperty = 'UA-00000000-1'; var disableStr = 'ga-disable-' + gaProperty; if ( document.cookie.indexOf( disableStr + '=true' ) &gt; -1 ) { window[disableStr] = true; } function gaOptout() { document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/'; window[disableStr] = true; } &lt;/script&gt; </code></pre> <p>Im trying to extract the <strong>var gaProperty</strong> from each page (i.e <strong>UA-00000000-1</strong>) in a list of url's in a csv file using python. Im new to python and put together a script from bits of scripts ive seen around but it doesnt work:</p> <pre><code>from requests_html import HTMLSession from urllib.request import urlopen from bs4 import BeautifulSoup import csv import re  list = [] with open('list.csv','r') as csvf: # Open file in read mode     urls = csv.reader(csvf)     for url in urls:         list.append(url) # Add each url to list contents       for url in list:      page = urlopen(url[0]).read()     path = &quot; &quot;.join(url)     soup = BeautifulSoup(page, &quot;lxml&quot;)     data = soup.find_all('script', type='text/javascript')     gaid = re.search(r'UA-[0-9]+-[0-9]+', data[0].text)     print(path, gaid) </code></pre> <p>The incorrect result i get is:</p> <pre><code>https:www.example.com/contact-us/ None </code></pre> <p>I need to achieve this desired output for each url:</p> <pre><code>https:www.example.com/contact-us/ UA-00000000-1 </code></pre> <p>Any idea how to get this working in Python?</p>"	2021-04-21 10:31:19.05 UTC	67218617	"<p>I would include the var gaProperty in the pattern, to be more specific, then ensure the capture group is lazily capturing everything between the <code>'</code> that follow i.e. wrap the gaid value.</p> <pre><code>import re  html =''' &lt;script type='text/javascript'&gt; var gaProperty = 'UA-00000000-1'; var disableStr = 'ga-disable-' + gaProperty; if ( document.cookie.indexOf( disableStr + '=true' ) &gt; -1 ) { window[disableStr] = true; } function gaOptout() { document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/'; window[disableStr] = true; } &lt;/script&gt;'''  gaid = re.search(r&quot;var gaProperty = '(.*?)'&quot;, html).group(1) print(f'https:www.example.com/contact-us/{gaid}') </code></pre>"			2021-04-22 18:05:11.717 UTC
67205350	python|python-3.x|object-literal	Use python to rewrite if-else statements like javascript object literals	"<p>Here is an example of if-else statement in javascript.</p> <pre><code>function getTranslation(rhyme) {   if (rhyme.toLowerCase() === &quot;apples and pears&quot;) {     return &quot;Stairs&quot;;   } else if (rhyme.toLowerCase() === &quot;hampstead heath&quot;) {     return &quot;Teeth&quot;;   } else if (rhyme.toLowerCase() === &quot;loaf of bread&quot;) {     return &quot;Head&quot;;   } else if (rhyme.toLowerCase() === &quot;pork pies&quot;) {     return &quot;Lies&quot;;   } else if (rhyme.toLowerCase() === &quot;whistle and flute&quot;) {     return &quot;Suit&quot;;   }    return &quot;Rhyme not found&quot;; } </code></pre> <p>A more elegant way is to rewrite the if-else implementation using object.</p> <pre><code>function getTranslationMap(rhyme) {   const rhymes = {     &quot;apples and pears&quot;: &quot;Stairs&quot;,     &quot;hampstead heath&quot;: &quot;Teeth&quot;,     &quot;loaf of bread&quot;: &quot;Head&quot;,     &quot;pork pies&quot;: &quot;Lies&quot;,     &quot;whistle and flute&quot;: &quot;Suit&quot;,   };      return rhymes[rhyme.toLowerCase()] ?? &quot;Rhyme not found&quot;; } </code></pre> <p>Can python be used to write similar elegant code like javascript object literals?</p> <p>I am using python 3.8</p> <p>Javascript code segment is from link below;</p> <p><a href=""https://betterprogramming.pub/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0"" rel=""nofollow noreferrer"">https://betterprogramming.pub/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0</a></p>"	2021-04-22 00:57:01.877 UTC	67205376	"<p>Python equivalent:</p> <pre class=""lang-py prettyprint-override""><code>def get_translation_map(rhyme):      rhymes = {        &quot;apples and pears&quot;: &quot;Stairs&quot;,        &quot;hampstead heath&quot;: &quot;Teeth&quot;,        &quot;loaf of bread&quot;: &quot;Head&quot;,        &quot;pork pies&quot;: &quot;Lies&quot;,        &quot;whistle and flute&quot;: &quot;Suit&quot;     }     return rhymes.get(rhyme.lower(), &quot;Rhyme not found&quot;) </code></pre> <p>Another useful variation if you don't know the content of the <code>dict</code> and want to ensure a value is always returned:</p> <pre class=""lang-py prettyprint-override""><code>  v = adict.get('whatever') or 'default' </code></pre> <p>Would get a default value even if a there was a key with a None value in the <code>dict</code></p>"			2021-04-22 01:00:47.553 UTC
67215067	javascript|python	Please convert this code from python javascript	"<pre class=""lang-py prettyprint-override""><code>def sumOdd(n): if n &lt;= 0:     return -1 else:     sum = 0     for i in range(1, n+1):         sum = sum+2*i-1     return sum </code></pre> <p>Please convert this code to javascript since what I was trying before was not working as expected. This function is supposed to print the sum of the first N odd numbers more than 0. This is what I was doing before but it wasn't working:</p> <pre class=""lang-js prettyprint-override""><code>function sumOdd(n) {   if (n&lt;=0){     return -1; }   else {     var sum = 0;     for (let i=1; i&lt;=n; i++){         console.log(i);         sum = sum + 2 * i - 1;     return sum;     } } </code></pre> <p>Please give me the correct translation.</p>"	2021-04-22 14:16:57.953 UTC	67215108	"<p>You're close. The <code>return</code> needs to be outside the loop.</p> <pre class=""lang-js prettyprint-override""><code>function sumOdd(n) {   if (n&lt;=0){     return -1;   }    var sum = 0;   for (let i=1; i&lt;=n; i++) {       sum = sum + 2 * i - 1;   }   return sum; } </code></pre> <p>I've also removed the <code>else</code> because due to the <code>return</code> this has the same effect and I think this is more readable (fewer nesting levels with a very idiomatic return-on-invalid-input at the top).</p>"			2021-04-22 14:19:40.79 UTC
67242927	python|selenium|selenium-chromedriver	Python Selenium Login Form javascript	"<p>I try to login via python CLI using selenium and chromedriver on this site &quot;<a href=""http://katalog.iz-region-bern.ch/WebOPAC-Koeniz/account/login"" rel=""nofollow noreferrer"">http://katalog.iz-region-bern.ch/WebOPAC-Koeniz/account/login</a>&quot;</p> <p>The Connect/Login is not working. neither with driver.find_element_by_xpath('//*[@id=&quot;btn-login&quot;]').click() nor  driver.execute_script(&quot;arguments[0].click();&quot;, element)</p> <p>Inspecting login/password according to dev tools, there seems to be some javascript action on connect button click the POST command looks like this</p> <p><a href=""https://i.stack.imgur.com/uiDSW.png"" rel=""nofollow noreferrer"">screenshot of POST request</a></p> <p>I tried the code below</p> <pre><code>from selenium import webdriver from selenium.webdriver.chrome.options import Options  import os os.system(&quot;pkill chromium-browse&quot;) os.system(&quot;pkill chromedriver&quot;)  USERNAME1 = &quot;myID&quot; PASSWORD1 = &quot;myPW&quot; LOGIN_URL = &quot;http://katalog.iz-region-bern.ch/WebOPAC-Koeniz/account/login&quot;    options = Options() options.headless = True options.add_argument(&quot;disable-dev-shm-usage&quot;) # overcome limited resource problems options.add_argument(&quot;no-sandbox&quot;) # Bypass OS security model driver = webdriver.Chrome(executable_path='/usr/bin/chromedriver', options=options) driver.implicitly_wait(15)  #TARGET THE FIRST PAGE  #Give the driver the starting URL and check you've landed where you should by running an assertion on the text in the title of the pag driver.get(LOGIN_URL)  assert &quot;User account &quot; in driver.title  #COMPLETE THE USERNAME AND PASSWORD FIELDS username = driver.find_element_by_id(&quot;Username&quot;) username.clear() username.send_keys(USERNAME1)   password = driver.find_element_by_id(&quot;Password&quot;) password.clear() password.send_keys(PASSWORD1)    #CLICK THE LOGIN BUTTON  #driver.find_element_by_name(&quot;Connect&quot;).click() #-&gt; Does not work (Element not found)  #driver.find_element_by_xpath('//*[@id=&quot;btn-login&quot;]').click() #-&gt; Does not work (Element not found)    element = driver.find_element_by_xpath('//*[@id=&quot;btn-login&quot;]') driver.execute_script(&quot;arguments[0].click();&quot;, element)    </code></pre> <p>Does not work either : (&quot;Authentification is invalid&quot;) returned on the resulting page</p> <p>any ideas?</p>"	2021-04-24 12:45:23.447 UTC	67246906	<pre><code>(//*[@id=&quot;btn-login&quot;])[2] </code></pre> <p>Your button is actually not unique so use the second xpath.</p>			2021-04-24 19:56:11.09 UTC
67243435	javascript|python|algorithm|data-structures|depth-first-search	Recursive Depth First Search in Javascript vs Python	"<p>So I am doing algorithm problems on AlgoExpert, and I came across a recursive DFS algorithm. Originally I tried solving it in JavaScript but was having issues. When I watched the code walk-through I saw that the way it was solved is super easy.</p> <p>Here is the Python solution:</p> <pre class=""lang-py prettyprint-override""><code>def depthFirstSearch(self, array):     array.append(self.name);     for child in self.children:         child.depthFirstSearch(array);     return array </code></pre> <p>My question is, how would you achieve the same thing in JavaScript? I tried doing:</p> <pre class=""lang-js prettyprint-override""><code>function depthFirstSearch(array) {     array.push(this.name);     for(let i=0; i &lt; array.length; i++) {         depthFirstSearch(array[i]);     };     return array; } </code></pre> <p>I keep getting an error:</p> <blockquote> <p>depthFirstSearch is not defined</p> </blockquote> <p>I'm confused about why I'm getting the error in JavaScript, when I'm trying to recursively call the function within itself?</p> <p>Here is the whole code snippet:</p> <pre class=""lang-js prettyprint-override""><code>class Node {     constructor(name) {         this.name = name;         this.children = [];     }      addChild(name) {         this.children.push(new Node(name));         return this;     }      depthFirstSearch(array) {        /*         * Step 1: Add the root node to the array         *                   this.name is the root at the start         * Step 2: Check that the left child node isn't null         * Step 3: If the left child node isn't null, Add the left child node to the array         * Step 4: If the left child node is null check the right child node         * Step 5: If the right child node isn't null, add the right child node to the array         * Step 6: Repeat steps 1-5 until there are no nodes left to check         */         array.push(this.name);         const children = this.children;         for(let i=0; i &lt; array.length; i++) {             depthFirstSearch(array[i]);         };         return array;     } } </code></pre>"	2021-04-24 13:42:23.373 UTC	67250464	"<p>Several issues:</p> <ul> <li><p><code>depthFirstSearch</code> is a method of the <code>Node</code> class, not a global function, so it should be called on a node instance. So for instance, if you have a node named <code>child</code> it should be called like <code>child.depthFirstSearch</code></p> </li> <li><p>As it is a method, you should not use the <code>function</code> keyword (in a <code>class</code> construct). This was correctly removed in the last code block you have in your question.</p> </li> <li><p>The argument passed to <code>depthFirstSearch</code> should be an array, but you pass it <code>array[i]</code> which is a <em>node</em>. It should be just <code>array</code>, as in the Python code.</p> </li> <li><p>The loop should not be over <code>array</code>, but over the <em>children</em> of the current node, i.e. over <code>this.children</code>. So you would have <code>i &lt; this.children.length</code> in your <code>for</code> loop.</p> </li> </ul> <p>Some other remarks:</p> <ul> <li>No semi-colon is needed after a <code>for</code> loop. Adding it actually introduces a (harmless) empty statement.</li> <li>Using a <code>for..of</code> instead of a plain old <code>for</code> loop makes the code a bit shorter and also better mimics what the Python code does.</li> </ul> <p>Corrected version:</p> <pre class=""lang-js prettyprint-override""><code>class Node {      /* ... the other code ... */      depthFirstSearch(array) {         array.push(this.name);         for (let child of this.children) {             child.depthFirstSearch(array);         }         return array;     } } </code></pre>"			2021-04-25 06:36:26.007 UTC
67246620	javascript|python|web-scraping|selenium-chromedriver	Navigating to next page of a javascript table using python selenium chrome webdriver	"<p>My goal is to loop through each of the pages and scrape the contents into a DataFrame. So far, I can get the first 20 no problem. I cannot seem to figure out how to navigate to the next page on a javascript table using python selenium chrome webdriver. Have tried a few of the solutions (below seems like the closest) but cannot replicate the result. I would post the website but it is one where you need log in credentials to access. Provided a page source screenshot for the relevant ul and li elements</p> <p>stackoverflow solution tried: <a href=""https://stackoverflow.com/questions/40097838/how-to-click-on-the-list-of-the-li-elements-in-an-ul-elements-with-selenium"">How to click on the list of the &lt;li&gt; elements in an &lt;ul&gt; elements with selenium in python?</a></p> <p>Am able to get the first 20 rows using: driver.find_element_by_xpath('//*[@id=&quot;allPicksId&quot;]/div/div<a href=""https://i.stack.imgur.com/IWizR.png"" rel=""nofollow noreferrer"">2</a>').text</p> <p>Then, when trying to get the next rows on next table page using the code below I get an exception: next_table_page = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.CSS_SELECTOR, &quot;.ant-pagination-next&quot;))).click()</p> <p>Yields this exception: ElementClickInterceptedException: Message: element click intercepted: Element is not clickable at point (546, 996)</p> <p>Any guidance would be appreciated!</p> <p><a href=""https://i.stack.imgur.com/tOqrR.png"" rel=""nofollow noreferrer"">Page Source Photo</a></p> <p><a href=""https://i.stack.imgur.com/IWizR.png"" rel=""nofollow noreferrer"">Table Page Navigation Bar Photo</a></p>"	2021-04-24 19:22:29.807 UTC	67247464	"<p>I think I figured it out by using the code below:</p> <p>element = driver.find_element_by_class_name('ant-pagination-next') driver.execute_script(&quot;arguments[0].click();&quot;, element)</p>"			2021-04-24 21:12:22.81 UTC
67246620	javascript|python|web-scraping|selenium-chromedriver	Navigating to next page of a javascript table using python selenium chrome webdriver	"<p>My goal is to loop through each of the pages and scrape the contents into a DataFrame. So far, I can get the first 20 no problem. I cannot seem to figure out how to navigate to the next page on a javascript table using python selenium chrome webdriver. Have tried a few of the solutions (below seems like the closest) but cannot replicate the result. I would post the website but it is one where you need log in credentials to access. Provided a page source screenshot for the relevant ul and li elements</p> <p>stackoverflow solution tried: <a href=""https://stackoverflow.com/questions/40097838/how-to-click-on-the-list-of-the-li-elements-in-an-ul-elements-with-selenium"">How to click on the list of the &lt;li&gt; elements in an &lt;ul&gt; elements with selenium in python?</a></p> <p>Am able to get the first 20 rows using: driver.find_element_by_xpath('//*[@id=&quot;allPicksId&quot;]/div/div<a href=""https://i.stack.imgur.com/IWizR.png"" rel=""nofollow noreferrer"">2</a>').text</p> <p>Then, when trying to get the next rows on next table page using the code below I get an exception: next_table_page = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.CSS_SELECTOR, &quot;.ant-pagination-next&quot;))).click()</p> <p>Yields this exception: ElementClickInterceptedException: Message: element click intercepted: Element is not clickable at point (546, 996)</p> <p>Any guidance would be appreciated!</p> <p><a href=""https://i.stack.imgur.com/tOqrR.png"" rel=""nofollow noreferrer"">Page Source Photo</a></p> <p><a href=""https://i.stack.imgur.com/IWizR.png"" rel=""nofollow noreferrer"">Table Page Navigation Bar Photo</a></p>"	2021-04-24 19:22:29.807 UTC	67246791	"<p>you can use for loop to handle this</p> <p>example:</p> <pre><code>for I in range(1, 23):       driver.find_element_by_xpath().click() </code></pre> <p>Or</p> <p>you can use the site URL to go next page</p> <p><a href=""https://ibb.co/4NW54Jq"" rel=""nofollow noreferrer"">see this url</a></p> <p><a href=""https://ibb.co/FVXGPfR"" rel=""nofollow noreferrer"">and second url</a></p> <p>now you must change the number of pages to go next page</p>"			2021-04-24 19:42:43.92 UTC
67254081	python|selenium	Python Script to enter data into javascript frame	"<p>I am trying to write a python script using selenium to enter data into a javascript form.</p> <p>I continue to get an error that the element can not be found. This is what I tried so far:</p> <pre><code>from time import sleep from selenium import webdriver from datetime import datetime  eGBS = &quot;xxxxx&quot; #removed web address b/c of company info rpt = '' #removed web address b/c of company info wb = webdriver.Chrome(r'C:\TEMP\chromedriver.exe') wb.maximize_window() wb.get(eGBS) sleep(2) loginClick = wb.find_element_by_link_text(&quot;Click here to login&quot;) loginClick.click() sleep(2) ele1 = wb.find_element_by_id(&quot;desktop_dropdown&quot;) ele1.click() sleep(2) ele2 = wb.find_element_by_id(&quot;WindowsAccountSelectId&quot;) ele2.click() glosub = wb.find_element_by_id(&quot;windowsSubmit&quot;) glosub.click() glosuccess = wb.find_element_by_id(&quot;successButtonId&quot;) glosuccess.click() sleep(2) wb.get(rpt) sleep(5) #code works to this point  # These next lines are what I have tried #cf = wb.find_element_by_name('ff5') #cf.click #t = wb.find_element_by_xpath(&quot;//input[@name='ff5']&quot;) #t.click #ss = wb.find_element_by_xpath(&quot;//option[@value='40']&quot;)  #ss.select rr = wb.find_element_by_xpath(&quot;//input[@value='Run Report']&quot;) rr.click </code></pre> <p>This is the last error I received:</p> <pre><code>Traceback (most recent call last):   File &quot;c:\temp\GitHub\etl\NI\eGBS_DownloadRpt.py&quot;, line 33, in &lt;module&gt;     cf = wb.find_element_by_name('ff5')   File &quot;C:\Users\cg1262\AppData\Local\Programs\Python\Python39\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 496, in find_element_by_name     return self.find_element(by=By.NAME, value=name)   File &quot;C:\Users\cg1262\AppData\Local\Programs\Python\Python39\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 976, in find_element     return self.execute(Command.FIND_ELEMENT, {   File &quot;C:\Users\cg1262\AppData\Local\Programs\Python\Python39\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 321, in execute     self.error_handler.check_response(response)   File &quot;C:\Users\cg1262\AppData\Local\Programs\Python\Python39\lib\site-packages\selenium\webdriver\remote\errorhandler.py&quot;, line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;[name=&quot;ff5&quot;]&quot;}   (Session info: chrome=90.0.4430.85) </code></pre> <p>This is the element I'm trying to access: <a href=""https://i.stack.imgur.com/T5cUd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/T5cUd.png"" alt=""enter image description here"" /></a></p>"	2021-04-25 13:45:39.083 UTC	67254112	"<p>Your <code>xpath</code> locator is wrong in <code>wb.find_element_by_xpath(&quot;//input[@value='Run Report']&quot;)</code> line. We are not able to see the correct locator since you did not provide the link to the page<br /> In case that element is inside <code>iframe</code> you need to switch to that <code>iframe</code> first.<br /> See <a href=""https://stackoverflow.com/questions/44834358/switch-to-an-iframe-through-selenium-and-python"">this</a> post for example</p>"			2021-04-25 13:50:40.53 UTC
67275310	javascript|python	Javascript Communicating with Python	"<p>I am attempting to send data from a Javascript program to a python program using python -m http.server as a means to run it locally. When I run it, the error message I get is: [HTTP/1.1 501 Unsupported method ('POST') Here is the useful portion of my javascript:</p> <pre><code>document.addEventListener(&quot;DOMContentLoaded&quot;,() =&gt; {    document.querySelector(&quot;#search_button&quot;).addEventListener(&quot;click&quot;, (e) =&gt; {     document.getElementById(&quot;company&quot;).innerHTML = document.getElementById(&quot;search&quot;).value;   });    document.querySelector(&quot;#week&quot;).addEventListener(&quot;click&quot;, (e) =&gt; {     var time = 1;     fetch(&quot;/yahooFinanceAPI.py&quot;, {       method: 'POST',       headers:{'Content': 'application/JSON'},       body: JSON.stringify({         'Company' : document.getElementById(&quot;search&quot;).value,         'Time' : time       })     }).then(function(response)     {       console.log(document.getElementById(&quot;search&quot;).value);     })   }); </code></pre> <p>Here is the useful python:</p> <pre><code>@bp.route('/SecurityBenefit.js', methods = ['POST']) def get_post_javascript_data():     if request.method == 'POST':         data = request.get_json()         ticker = data['Company']         timespan = data['Time']         print (ticker)         print (timespan)     return getPlot(ticker, timespan) </code></pre> <p>Does the python program need to run in the background for the program to register? Do I need to implement a do_POST function in my python?</p>"	2021-04-27 00:15:54.637 UTC	67275414	"<p>I'm under the impression that I think you may have misunderstood how HttpRequests work. You don't reference the file, you just reference the route, here is a fix:</p> <p>JavaScript Code:</p> <pre><code>    fetch(&quot;/javascriptPost&quot;, {       method: 'POST',       headers:{'Content': 'application/JSON'},       body: JSON.stringify({         'Company' : document.getElementById(&quot;search&quot;).value,         'Time' : time       })     }).then(function(response)     {       console.log(document.getElementById(&quot;search&quot;).value);     }) </code></pre> <p>Python Code:</p> <pre><code>@bp.route('/javascriptPost', methods = ['POST']) def get_post_javascript_data():     if request.method == 'POST':         data = request.get_json()         ticker = data['Company']         timespan = data['Time']         print (ticker)         print (timespan)     return getPlot(ticker, timespan) </code></pre>"			2021-04-27 00:33:46.583 UTC
67280351	python|json|beautifulsoup	python beautifulsoup get key from javascript into JSON object	"<p>I'm trying to get a set of images array into JSON from javascript using python and beautifulsoup. But I tried many ways but getting errors.</p> <p><strong>My JS Code on webpage :</strong></p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt; P.when('A').register(&quot;ImageBlockATF&quot;, function(A){ var data = { 'colorImages': { 'initial': [{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SL1003_.jpg&quot;, &quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_US40_.jpg&quot;, &quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_.jpg&quot;, &quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY355_.jpg&quot;:[355,355], &quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY450_.jpg&quot;:[450,450], &quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX425_.jpg&quot;:[425,425], &quot;variant&quot;:&quot;MAIN&quot;,&quot;lowRes&quot;:null},{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SL1005_.jpg&quot;,&quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_US40_.jpg&quot;,&quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_.jpg&quot;,&quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY355_.jpg&quot;:[355,355],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY450_.jpg&quot;:[450,450],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX425_.jpg&quot;:[425,425],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX466_.jpg&quot;:[466,466],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX522_.jpg&quot;:[522,522],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX569_.jpg&quot;:[569,569],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX679_.jpg&quot;:[679,679]},&quot;variant&quot;:&quot;PT01&quot;,&quot;lowRes&quot;:null},{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SL1005_.jpg&quot;,&quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_US40_.jpg&quot;,&quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_.jpg&quot;,&quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY355_.jpg&quot;:[355,355],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY450_.jpg&quot;:[450,450],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX425_.jpg&quot;:[425,425],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX466_.jpg&quot;:[466,466],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX522_.jpg&quot;:[522,522],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX569_.jpg&quot;:[569,569],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX679_.jpg&quot;:[679,679]},&quot;variant&quot;:&quot;PT02&quot;,&quot;lowRes&quot;:null}]}, 'colorToAsin': {'initial': {}},  'airyConfig' :A.$.parseJSON('{&quot;jsUrl&quot;:&quot;https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/2.0.1460.0/js/airy.skin._CB485981857_.js&quot;,&quot;cssUrl&quot;:&quot;https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/2.0.1460.0/css/beacon._CB485971591_.css&quot;,&quot;swfUrl&quot;:&quot;https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/prod/2.0.1460.0/flash/AiryBasicRenderer._CB485925577_.swf&quot;,&quot;foresterMetadataParams&quot;:{&quot;marketplaceId&quot;:&quot;A2VIGQ35RCS4UG&quot;,&quot;method&quot;:&quot;Kitchen.ImageBlock&quot;,&quot;requestId&quot;:&quot;4MGH16D6R7WCR018779W&quot;,&quot;session&quot;:&quot;259-8488476-1037262&quot;,&quot;client&quot;:&quot;Dpx&quot;}}')  }; A.trigger('P.AboveTheFold'); // trigger ATF event. return data; }); &lt;/script&gt;  </code></pre> <p>I want to get the data from the key 'colorImages': { into JSON object. My aim is to get all images into JSON object and i can use it on my way.</p> <p><strong>My code (What i tried) :</strong></p> <pre><code> url = &quot;https://www.amazon.ae/DubayVintage-Astronaut-Figurine-Spaceman-Sculpture/dp/B08373YYCM/ref=sr_1_1?dchild=1&amp;keywords=B08373YYCM&amp;qid=1619498604&amp;sr=8-1&quot; soup_main = getResponse(url, UserAgent())  pattern = re.compile(r&quot;var data = { 'colorImages':(\{.*?\})&quot;) script = soup_main.find(&quot;script&quot;, text=pattern)  data = pattern.search(script.text).group(1) data = json.loads(data) print(data)  </code></pre> <p><strong>Error (What I'm getting) :</strong></p> <pre><code>Traceback (most recent call last):   File &quot;/home/dobuyme/Desktop/Sharaf DG/scrap.py&quot;, line 51, in &lt;module&gt;     data = pattern.search(script.text).group(1) AttributeError: 'NoneType' object has no attribute 'text'  </code></pre> <p><strong>I need to get the images to link from the key &quot;colorImages&quot; like this :</strong></p> <pre><code>[{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SL1003_.jpg&quot;, &quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_US40_.jpg&quot;, &quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_.jpg&quot;, &quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY355_.jpg&quot;:[355,355], &quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY450_.jpg&quot;:[450,450], &quot;https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX425_.jpg&quot;:[425,425], &quot;variant&quot;:&quot;MAIN&quot;,&quot;lowRes&quot;:null},{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SL1005_.jpg&quot;,&quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_US40_.jpg&quot;,&quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_.jpg&quot;,&quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY355_.jpg&quot;:[355,355],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY450_.jpg&quot;:[450,450],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX425_.jpg&quot;:[425,425],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX466_.jpg&quot;:[466,466],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX522_.jpg&quot;:[522,522],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX569_.jpg&quot;:[569,569],&quot;https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX679_.jpg&quot;:[679,679]},&quot;variant&quot;:&quot;PT01&quot;,&quot;lowRes&quot;:null},{&quot;hiRes&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SL1005_.jpg&quot;,&quot;thumb&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_US40_.jpg&quot;,&quot;large&quot;:&quot;https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_.jpg&quot;,&quot;main&quot;:{&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY355_.jpg&quot;:[355,355],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY450_.jpg&quot;:[450,450],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX425_.jpg&quot;:[425,425],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX466_.jpg&quot;:[466,466],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX522_.jpg&quot;:[522,522],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX569_.jpg&quot;:[569,569],&quot;https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX679_.jpg&quot;:[679,679]},&quot;variant&quot;:&quot;PT02&quot;,&quot;lowRes&quot;:null}]}, </code></pre>"	2021-04-27 09:24:13.297 UTC	67281198	"<p>First of all, your regex is not really working. Second of all, you might be getting an empty response, so be sure to add <code>user-agent</code> to request headers.</p> <p>Finally, the string from the script requires some work before it can be safely dumped to <code>json.loads</code>.</p> <p>Here's my take on this:</p> <pre><code>import json import re  import requests from bs4 import BeautifulSoup  headers = {     &quot;user-agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64) &quot;                   &quot;AppleWebKit/537.36 (KHTML, like Gecko) &quot;                   &quot;Chrome/90.0.4430.85 Safari/537.36&quot;, }  url = &quot;https://www.amazon.ae/DubayVintage-Astronaut-Figurine-Spaceman-Sculpture/dp/B08373YYCM/ref=sr_1_1?dchild=1&amp;keywords=B08373YYCM&amp;qid=1619498604&amp;sr=8-1&quot;  scripts = BeautifulSoup(requests.get(url, headers=headers).text, &quot;lxml&quot;).find_all(&quot;script&quot;, {&quot;type&quot;: &quot;text/javascript&quot;}) filtered_scripts = [s.string for s in scripts if &quot;colorImages&quot; in s.string] for script in filtered_scripts:     search = re.search(r&quot;data = (.*),\s'color&quot;, script, re.S)     if search:         sanitise = (                 search.group(1)                 .replace(&quot;'&quot;, '&quot;')                 .replace(&quot; &quot;, &quot;&quot;)                 .replace(&quot;\n&quot;, &quot;&quot;) + &quot;}&quot;         )         data = json.loads(sanitise)         print(data[&quot;colorImages&quot;][&quot;initial&quot;]) </code></pre> <p>Output:</p> <pre><code>[{'hiRes': 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SL1003_.jpg', 'thumb': 'https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_US40_.jpg', 'large': 'https://images-na.ssl-images-amazon.com/images/I/41lv4ReBL4L._AC_.jpg', 'main': {'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY355_.jpg': [355, 355], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SY450_.jpg': [450, 450], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX425_.jpg': [425, 425], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX466_.jpg': [466, 466], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX522_.jpg': [522, 522], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX569_.jpg': [569, 569], 'https://images-na.ssl-images-amazon.com/images/I/61mw5BDEYoL._AC_SX679_.jpg': [679, 679]}, 'variant': 'MAIN', 'lowRes': None}, {'hiRes': 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SL1005_.jpg', 'thumb': 'https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_US40_.jpg', 'large': 'https://images-na.ssl-images-amazon.com/images/I/41shdN1aAoL._AC_.jpg', 'main': {'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY355_.jpg': [355, 355], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SY450_.jpg': [450, 450], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX425_.jpg': [425, 425], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX466_.jpg': [466, 466], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX522_.jpg': [522, 522], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX569_.jpg': [569, 569], 'https://images-na.ssl-images-amazon.com/images/I/61kOw5lC%2B%2BL._AC_SX679_.jpg': [679, 679]}, 'variant': 'PT01', 'lowRes': None}, {'hiRes': 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SL1005_.jpg', 'thumb': 'https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_US40_.jpg', 'large': 'https://images-na.ssl-images-amazon.com/images/I/41pt8OOHsaL._AC_.jpg', 'main': {'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY355_.jpg': [355, 355], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SY450_.jpg': [450, 450], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX425_.jpg': [425, 425], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX466_.jpg': [466, 466], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX522_.jpg': [522, 522], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX569_.jpg': [569, 569], 'https://images-na.ssl-images-amazon.com/images/I/511019WE7xL._AC_SX679_.jpg': [679, 679]}, 'variant': 'PT02', 'lowRes': None}] </code></pre>"			2021-04-27 10:22:19.74 UTC
67288179	javascript|python|arrays|random|shuffle	"LOGIC ERROR: Converting Python to JavaScript. Code runs, but gives wrong answer"	"<p>I started learning JavaScript 4 days ago and I am trying to convert my python project to JavaScript for practice.</p> <p>Here is my working python code:</p> <pre><code>def shuffle(l):     for shuffles in range(numPerformed):         heads = 0         #tails = 0          toss = []         for card in range(numCards):             x = np.random.randint(2)             toss.append(x)             if x == 0:                 heads += 1             #else:                 #tails += 1                  left = l[:heads] #left hand         right = l[heads:] #right hand         shuffled = []   #shuffled deck                  for card in range(numCards):             if toss[card] == 0:                 shuffled.append(left.pop(0))             if toss[card] == 1:                 shuffled.append(right.pop(0))         l = shuffled     return l  numCards = int(input(&quot;Enter number of cards in deck: &quot;)) l = list(range(numCards)) numPerformed = int(input(&quot;Enter number of shuffles to perform on deck: &quot;)) print(shuffle(l)) </code></pre> <p>I am using the coin-toss method to do riffle shuffle. Here is my JS code, but something is causing it to give the wrong answer:</p> <pre><code>const list = (numCards) =&gt; {     var newList = []     var i = 0;     while (i &lt; numCards){         newList.push(i);         i++;     }     return newList }  function shuffle(l, numPerformed){     for (var shuffles = 0; shuffles &lt; numPerformed; shuffles++){         var heads = 0;         var tails = 0;         var toss = [];         for (var card = 0; card &lt; l.length; card++){             var x = Math.floor(Math.random() * 2);             toss.push(x);             if (x == 0){                 heads++;             }else{                 tails++;             }         }         var left = []; //l[:heads]         var right = []; //l[heads:]         for (var i = 0; i &lt; l.length; i++){             i &lt; heads ? left.push(i) : right.push(i);         }          var shuffled = [];         for (var card = 0; card &lt; numCards; card++){             if (toss[card] == 0){                 shuffled.push(left.shift());             }else if (toss[card] == 1){                 shuffled.push(right.shift());             }         }         l = shuffled;     }     return l }  var numCards = parseInt(prompt(&quot;Enter number of cards in deck: &quot;)) var l = list(numCards) var numPerformed = parseInt(prompt(&quot;Enter number of shuffles to perform on deck: &quot;)); console.log(shuffle(l)) </code></pre> <p>What am I doing wrong? I think this error is caused due to my inexperience with JavaScript syntax.</p>"	2021-04-27 17:47:20.963 UTC	67288772	"<p>I think, your code should be equivalent to this</p> <pre><code>const numCards = 52; const l = new Array(numCards).fill().map((_, idx) =&gt; idx); const numPerformed = 10;  const shuffle = (l, numPerformed) =&gt; {     new Array(numPerformed)     .fill()     .map((_, idx) =&gt; idx)     .forEach(_ =&gt; {       const toss =         new Array(numCards)             .fill()           .map(el =&gt; Math.random() &gt; 0.5 ? 1 : 0);       const heads = numCards - toss.reduce((acc, el) =&gt; acc + el, 0);       const left = l.slice(0, heads);       const right = l.slice(heads);       const shuffled = [];              new Array(numCards)         .fill()         .map((_, idx) =&gt; idx)         .forEach(card =&gt; {             if (toss[card] == 0) {             shuffled.push(left.shift());           }           if (toss[card] == 1) {             shuffled.push(right.shift());           }         })         l = shuffled;     });     return l; }  console.log(shuffle(l, numPerformed)) </code></pre>"			2021-04-27 18:31:28.4 UTC
67299713	javascript|python|html|python-requests	How to execute onload function javascript from a python file?	"<p>I want to get data from html page, but the page has onload functions which aren't executed when I use the get method of requests.Session().</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>with Session() as s:   s.get('https://o2.amdm.pro/amdm/S/S/S/insure/Portfolio#/entityHandle=01%7CPD%7C00000000000001384776%7C0001%7C0001', stream=True)   </code></pre> </div> </div> </p> <p>My question is, how to execute those functions as if I was in a browser to get the missing data in order to fill the main div ? Or at least, load the page in a browser and get the html from this page fully loaded ?</p>"	2021-04-28 11:52:05.053 UTC	67299859	"<p><em>My question is, how to execute those functions as if I was in a browser to get the missing data in order to fill the main div ?</em></p> <p>You need tool with JavaScript support for that, if you want one similar in usage to <code>python-requests</code> I suggest giving a try <a href=""https://docs.python-requests.org/projects/requests-html/en/latest/"" rel=""nofollow noreferrer"">Requests-HTML</a>.</p> <p><em>load the page in a browser and get the html from this page fully loaded</em></p> <p>For that you need web automation tool, here I suggest trying <em>Selenium</em>.</p>"			2021-04-28 12:01:17.087 UTC
67318857	javascript|html|django|svg|dom	"Circles not showing up in webpage when created via JavaScript (Django, Python)"	"<p>I have made a page in my Django webapp that displays an image and allows the user to click on the image and should place a circle on top of the image where the user clicked. The following code is able to get the location of the mouse click on the image, and adds a  tag to the html in the right place, but it won't actually show up on the page. If I hard code a circle into the html, it shows up just fine. It also seems like the mouse is on a different coordinate system than the SVG element... I have tried event.x, event.pageX, and event.clientX but noticed no difference. Even if I hard code the position of the circle, it won't show up on the click</p> <p>html:</p> <pre><code>{% extends 'main/base.html' %}  {% block head_content %} {% load static %} &lt;script type=&quot;text/javascript&quot; src=&quot;{% static 'js/click.js' %}&quot;&gt;&lt;/script&gt; {% endblock %}  {% block content %}  &lt;div class=&quot;my-div&quot;&gt;      &lt;div&gt;         &lt;h1&gt;The Page!&lt;/h1&gt;     &lt;/div&gt;     &lt;form enctype=&quot;multipart/form-data&quot; method=&quot;POST&quot; action=&quot;/mysite/nextpage/&quot;&gt;         {% csrf_token %}          &lt;svg id=&quot;svg&quot;&gt;             &lt;image href=&quot;data:image/png;base64,{{ my_img }}&quot;/&gt;             &lt;!-- Placing a circle manually works just fine! --&gt;             &lt;circle cx='50' cy='150' r='50' fill='red'/&gt;                      &lt;/svg&gt;          &lt;input type=&quot;submit&quot; name=&quot;submit&quot; class=&quot;submit-btn&quot;&gt;&lt;/input&gt;     &lt;/form&gt;  &lt;/div&gt;  {% endblock %} </code></pre> <p>Javascript:</p> <pre><code>this.window.addEventListener('DOMContentLoaded', (event) =&gt; {     const svgElem = this.document.getElementsByTagName(&quot;svg&quot;)      if (svgElem != undefined &amp;&amp; svgElem.length != 0) {         const svg = svgElem[0]         const image = svg.firstChild         svg.onclick = function(event) {                          var newCircle = document.createElement('circle')             newCircle.setAttribute('cx', event.clientX)             newCircle.setAttribute('cy', event.clientY)             newCircle.setAttribute('r', '50')             newCircle.setAttribute('fill', 'red')             svg.append(newCircle)         }     } }); </code></pre>"	2021-04-29 13:56:39.42 UTC	67319423	"<p>Thanks to @enxaneta in the comments for suggesting createElementNS, and thanks to <a href=""https://stackoverflow.com/questions/54799299/click-event-coordinates-in-svg/54804984#54804984"">this post</a> (also credit @enxaneta) for helping translate the coordinates, I got the code to work.</p> <pre><code>this.window.addEventListener('DOMContentLoaded', (event) =&gt; {     const svgElem = this.document.getElementsByTagName(&quot;svg&quot;)      if (svgElem != undefined &amp;&amp; svgElem.length != 0) {         const svg = svgElem[0]         const image = svg.firstChild         svg.onclick = function(event) {                          var newCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle')             let m = mousePositionSVG(event)             newCircle.setAttribute('cx', m.x)             newCircle.setAttribute('cy', m.y)             newCircle.setAttribute('r', '50')             newCircle.setAttribute('fill', 'red')             svg.append(newCircle)         }     } });  function mousePositionSVG(e) {     let svg = document.querySelector('svg')     var p = svg.createSVGPoint()     p.x = e.clientX     p.y = e.clientY     var ctm = svg.getScreenCTM().inverse();     var p =  p.matrixTransform(ctm);     return p; } </code></pre>"			2021-04-29 14:30:01.643 UTC
67320939	javascript|python|node.js|machine-learning	"How to use my python random forest classifier in web app that is coded in HTML, Javascript and nodejs"	"<p>Hi I am developing a machine learning web application for which I need to use a random forest classifier, and I don't have any idea how to integrate the python code with it.</p>"	2021-04-29 15:54:27.01 UTC	67321018	<p>It's pretty simple !</p> <ol> <li><p>create small web server with flask. Host you model on the machine where your server lies.</p> </li> <li><p>Create route for receiving HTTP requests.</p> </li> <li><p>Trigger the &quot;execute_model()&quot; function in the specific API</p> </li> <li><p>Send response after getting return value</p> </li> </ol>			2021-04-29 15:59:32.263 UTC
67347132	python|django|django-models|django-views|django-templates	"How do I reorder a list of objects manually using Django, Python, (and possibly Javascript)?"	"<p>Here is my code. models.py</p> <pre><code>from django.db import models   class Photo(models.Model):     file = models.ImageField(upload_to='media/images')  class Album(models.Model):     title = models.CharField(max_length=100)     photos = models.ManyToManyField(Photo,related_name=&quot;photos&quot;,blank=True) </code></pre> <p>admin.py</p> <pre><code>from django.contrib import admin from .models import Photo, Album # Register your models here.  class AlbumAdmin(admin.ModelAdmin):     list_display = (&quot;title&quot;,&quot;published&quot;)     filter_horizontal = (&quot;photos&quot;,)     def formfield_for_manytomany(self, db_field, request, **kwargs):         if db_field.name == &quot;photos&quot;:             kwargs[&quot;queryset&quot;] = Photo.objects.order_by(&quot;-id&quot;)         return super(AlbumAdmin, self).formfield_for_manytomany(db_field, request, **kwargs)          admin.site.register(Photo) admin.site.register(Album, AlbumAdmin) </code></pre> <p>views.py</p> <pre><code>from django.shortcuts import render from django.conf import settings  from .models import Photo, Album  # Create your views here.  def album(request, album_title):     album = Album.objects.get(title=album_title)     context = {         &quot;album&quot;:album,     }     return render(request, &quot;photos/album.html&quot;, context) </code></pre> <p>I am trying to achieve a page that shows the photos in each album and has a drag-and-drop function that allows a manual re-ordering of the photos in each album. Then I wish to save the order of the album. The only problem is, I have no clue to how to do this.</p>"	2021-05-01 14:03:46.413 UTC	67348962	"<p>It's not a trivial task, so you can't just expect a one line answer, but I guess it's a good use case to have a look at some packages that try to solve this.</p> <p>Here is a good overview of all packages that try to solve ordering, maybe one of them fits you well: <a href=""https://djangopackages.org/grids/g/model-ordering/"" rel=""nofollow noreferrer"">https://djangopackages.org/grids/g/model-ordering/</a></p>"			2021-05-01 17:18:08.157 UTC
67351591	python|web-scraping|beautifulsoup	Website scraping javascript element with python	"<p>I <strong>scrape</strong> the page with bs4 and requests python. I want to get all the values â€‹â€‹given below <code>span</code>. My code returns an empty output.</p> <h2>That is my code:</h2> <pre><code>import requests from bs4 import BeautifulSoup  url = 'https://finance.yahoo.com/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAAL27GM7owB-wouEznTgEc042sYEQEVDVrvFu5gPk62z1oKnTUhzN297s6vD5rzOVWHpoex7Zc8frVJe0saldAedZOe49BauM9YtLDhHtx6PMlH4ENmihvT2fgmlnqsAPFFqfC9aW1dF_NgBYi6lfREpk6uUwP7DnDhikzgEkYIUd' headers = {'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Mobile Safari/537.36', &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;,&quot;DNT&quot;: &quot;1&quot;,&quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;,&quot;Accept-Language&quot;: &quot;en-US,en;q=0.5&quot;,&quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;}  response = requests.get(url, headers=headers) soup = BeautifulSoup(response.content, 'html.parser')  for i in soup.find_all('span', class_='Trsdu(0.3s) Fz(s) Mt(4px) Mb(0px) Fw(b) D(ib)'):   print(i.text) </code></pre>"	2021-05-01 23:03:56.39 UTC	67351617	"<p>Change the <code>User-Agent</code> to obtain the correct values:</p> <pre><code>import requests from bs4 import BeautifulSoup  url = &quot;https://finance.yahoo.com/?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAAL27GM7owB-wouEznTgEc042sYEQEVDVrvFu5gPk62z1oKnTUhzN297s6vD5rzOVWHpoex7Zc8frVJe0saldAedZOe49BauM9YtLDhHtx6PMlH4ENmihvT2fgmlnqsAPFFqfC9aW1dF_NgBYi6lfREpk6uUwP7DnDhikzgEkYIUd&quot; headers = {     &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:88.0) Gecko/20100101 Firefox/88.0&quot;, }  response = requests.get(url, headers=headers) soup = BeautifulSoup(response.content, &quot;html.parser&quot;)  for i in soup.find_all(     &quot;span&quot;, class_=&quot;Trsdu(0.3s) Fz(s) Mt(4px) Mb(0px) Fw(b) D(ib)&quot; ):     print(i.text) </code></pre> <p>Prints:</p> <pre class=""lang-none prettyprint-override""><code>4,181.17 33,874.85 13,962.68 </code></pre>"			2021-05-01 23:08:51.687 UTC
67353238	javascript|python|selenium|python-requests|browser-automation	How to bypass JavaScript detection when using requests in Python?	"<p>So there is a problem with JavaScript and requests (in Python) and that is, it does not use JavaScript when requesting a webpage.</p> <p>The website I'm working with (<a href=""https://access.paylocity.com/"" rel=""nofollow noreferrer"">https://access.paylocity.com/</a>) requires JavaScript and without it, it changes the content of the page to just a text at the top saying, &quot;Please enable JavaScript to view the page content.&quot;</p> <p>(I could be wrong here but) I think one solution is the use of Selenium, but that would replace requests which I'm fine with as long as there are no other ways of fixing/bypassing this JavaScript detection.</p> <p>(For those wondering, this python project of mine is supposed to automatically fetch the events on the Paylocity calendar, then port those events to another calendar that I frequently use everyday. It's also just intended for myself.)</p> <p>Edit: Here is the code I have if that will help <a href=""https://pastecode.io/s/GXTUO1BgtR"" rel=""nofollow noreferrer"">https://pastecode.io/s/GXTUO1BgtR</a> (I didn't know where to paste my code, so I decided on that website. If I should change it, please comment or say something about it.)</p>"	2021-05-02 05:23:44.19 UTC	67357999	"<p>Since the website you're working with is dynamically loading the JS as far I can tell, I think you have no other choice as to making use of Selenium. I had a project on my own a couple weeks ago and run into a similar problem which I could also solve using Selenium. But, I'm no expert, I'm just giving away my thoughts on this.</p>"			2021-05-02 15:19:10.487 UTC
67373516	python|python-requests	find comments in javascript and css in python requests module	"<p>I am trying to find all the comments in the JavaScript and CSS pages. This code finds the HTML comments in HTML pages.</p> <pre><code>import requests from bs4 import BeautifulSoup as BS from bs4 import Comment  with requests.session() as r:     headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0'}     r = requests.get('https://example.com/page.js', verify=False, headers=headers)     response = r.text     soup = BS(response, 'html.parser')     comments = soup.find_all(string=lambda text: isinstance(text, Comment))      for c in comments:         print(c) </code></pre> <p>But for JavaScript and CSS, the comments are between /* and */. Is there any way I can modify that code to retrieve JavaScript or CSS comments.</p>"	2021-05-03 17:49:18.08 UTC	67373835	"<p>I am not familiar enough with BeautifulSoup , but you can find where comments are, using <code>response.find('/*')</code>, <code>response.find('*/')</code> in a loop, using <code>find</code>'s second parameter, to start looking for the next comment, only after the end of the previous one.</p> <p>disclaimer: you can still have /* or */ as text rather than a comment, this one is trickier to cope.</p>"			2021-05-03 18:12:40.973 UTC
67407715	python-3.x|selenium-webdriver|selenium-chromedriver	How to get IDs from DIV without Javascript in Python Selenium?	"<p>I'm trying to store in an arrays the IDs that have the same class name. When I try using pure python/selenium it fails and only works if I use javascript code.</p> <p>This is my current code</p> <pre><code>html_content = &quot;&quot;&quot; &lt;html&gt; &lt;body&gt; &lt;style&gt; .col-x-z.ab.def { border: 4px outset orange; background-color: lightblue; text-align: center; height:200px; width:400px;  } .portlet.box.blue { border: 2px outset blue; background-color: lightblue; text-align: center; } &lt;/style&gt; &lt;div class=&quot;col-x-z ab def&quot; id=&quot;sortable_portlets&quot;&gt;         &lt;div class=&quot;col-x-z ab def&quot; id=&quot;col_1&quot; col=&quot;1&quot;&gt;             &lt;div id=&quot;353&quot; class=&quot; portlet box blue&quot;&gt;x&lt;/div&gt;             &lt;div id=&quot;355&quot; class=&quot; portlet box blue&quot;&gt;x&lt;/div&gt;             &lt;div class=&quot; wqp&quot;&gt;&lt;/div&gt;                     &lt;/div&gt;       &lt;div class=&quot;col-x-z ab def&quot; id=&quot;col_2&quot; col=&quot;2&quot;&gt;             &lt;div id=&quot;473&quot; class=&quot; portlet box blue&quot;&gt;y&lt;/div&gt;             &lt;div id=&quot;475&quot; class=&quot; portlet box blue&quot;&gt;y&lt;/div&gt;             &lt;div class=&quot; wqp&quot;&gt;&lt;/div&gt;         &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;html&gt; &quot;&quot;&quot;  from selenium import webdriver  driver_path=&quot;/my/path/chromedriver.exe&quot; driver = webdriver.Chrome(driver_path)  driver.get(&quot;data:text/html;charset=utf-8,{html_content}&quot;.format(html_content=html_content))  ids_arr = driver.execute_script('var coll = document.getElementsByClassName(&quot; portlet box blue&quot;), ids = [], i = 0; while( coll[ i ] ) { ids.push( coll[ i++ ].id ) };return ids;')  &gt;&gt;&gt; ids_arr ['353', '355', '473', '475'] </code></pre> <p>As you can see, with javascript I get the 4 IDs stored within <code>ids_arr</code>.</p> <p>But if I try like this I get error:</p> <pre><code>&gt;&gt;&gt; driver.find_element_by_class_name(&quot; portlet box blue&quot;) Traceback (most recent call last): File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; File &quot;/home/myUser/.local/lib/python3.8/site-packages/selenium/webdriver/remote/webdriver.py&quot;, line 564, in find_element_by_class_name     return self.find_element(by=By.CLASS_NAME, value=name) File &quot;/home/myUser/.local/lib/python3.8/site-packages/selenium/webdriver/remote/webdriver.py&quot;, line 976, in find_element     return self.execute(Command.FIND_ELEMENT, { File &quot;/home/myUser/.local/lib/python3.8/site-packages/selenium/webdriver/remote/webdriver.py&quot;, line 321, in execute     self.error_handler.check_response(response) File &quot;/home/myUser/.local/lib/python3.8/site-packages/selenium/webdriver/remote/errorhandler.py&quot;, line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.InvalidSelectorException: Message: invalid selector: An invalid or illegal selector was specified (Session info: chrome=90.0.4430.93) </code></pre> <p>What is wrong and how to make it work without javascript? Thanks.</p>"	2021-05-05 19:36:14.877 UTC	67408262	"<p>The issue is that your code is</p> <pre><code>document.getElementsByClassName(&quot; portlet box blue&quot;) </code></pre> <p>which is searching for elements by class name but you have provided 3 class names: &quot;portlet&quot;, &quot;box&quot;, and &quot;blue&quot; to the method. That's why you are getting the message, <code>invalid selector</code>. You would have to choose only one for the method to succeed... or you could use a CSS selector, <code>.portlet.box.blue</code>, to get all three. NOTE: <code>.</code> in the CSS selector indicates classname.</p> <p>I'm not sure why you are using JS at all... you don't need to.</p> <pre><code>elements = driver.find_elements_by_css_selector(&quot;.portlet.box.blue&quot;) for element in elements:     print(element.get_attribute(&quot;id&quot;)) </code></pre> <p>or if you want the element IDs in an array, you can do</p> <pre><code>elements = driver.find_elements_by_css_selector(&quot;.portlet.box.blue&quot;) ids = [] for element in elements:     ids.append(element.get_attribute(&quot;id&quot;)) print(ids) </code></pre>"			2021-05-05 20:21:20.217 UTC
67413696	javascript|python|html|ajax|flask	Javascript data send to python flask with ajax nad message 400 - Bad request	"<p>Javascript data send to python flask with ajax and message 400 - Bad request</p> <p>I use ajax and I send a data from js to flask. I send a name &quot;john&quot; to url &quot;/name&quot; and I want flask request it. Actually I can request it and print &quot;John&quot;. But there return 400 - Bad Request. Hope help!!!</p> <p>Here is my code:</p> <p>HTML + JS:</p> <pre><code>&lt;html&gt;     &lt;head&gt;         &lt;title&gt;HOME ||&lt;/title&gt;         &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js&quot;&gt;&lt;/script&gt;         &lt;script&gt;             function send(){                 var data={&quot;name&quot;:&quot;John&quot;};                 alert(data[&quot;name&quot;]);                 $.ajax({                     type: 'POST',                     url:&quot;/name&quot;,                     data:JSON.stringify(data),                     contentType: 'application/json; charset=UTF-8',                 });                 document.location.href=&quot;/name&quot;;             };         &lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;script&gt;             send()         &lt;/script&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre> <p>Python flask:</p> <pre><code>from flask import Flask, render_template from flask import request import json  app = Flask(__name__, template_folder=&quot;html&quot;)  @app.route('/') def home():     return render_template(&quot;index.html&quot;)  @app.route('/name', methods = [&quot;GET&quot;, &quot;POST&quot;]) def name():     print(request.get_json(force=True)[&quot;name&quot;])     return &quot;ok&quot;  app.run() </code></pre> <p>Terminal:</p> <pre><code>PS C:\Python\flask\test2&gt; python app.py  * Serving Flask app &quot;app&quot; (lazy loading)  * Environment: production    WARNING: This is a development server. Do not use it in a production deployment.    Use a production WSGI server instead.  * Debug mode: off  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit) 127.0.0.1 - - [06/May/2021 15:31:13] &quot;GET / HTTP/1.1&quot; 200 - John 127.0.0.1 - - [06/May/2021 15:31:15] &quot;POST /name HTTP/1.1&quot; 200 - 127.0.0.1 - - [06/May/2021 15:31:15] &quot;GET /name HTTP/1.1&quot; 400 - </code></pre>"	2021-05-06 07:34:42.863 UTC	67415528	"<p>Your problem is here <code>&gt;&gt; **document.location.href=&quot;/name&quot;;**</code> This line of code is calling a get request to /name in Flask.</p> <p>Inside /name you are trying to obtain <code>**request.get_json(force=True)[&quot;name&quot;]**</code>, but this isn't in the get request.</p> <p>One option would be to delete <strong>document.location.href=&quot;/name&quot;;</strong> so you are not sending a get request</p> <p>Or you can check if this argument was passed in Flask by writing:</p> <p><strong>if 'name' in request.get_json(force=True): print(request.get_json(force=True)[&quot;name&quot;]) return &quot;ok&quot; else: return &quot;ok&quot;</strong></p> <p>This should hopefully handle the bad request error as we are checking if the key exists before accessing it.</p>"			2021-05-06 09:35:48.99 UTC
67448419	javascript|html|python-3.x|flask|web-development-server	how to connect javascript code to python flask	"<p>Iam working on a front end project. my requirement is I need to create a flask API.</p> <p>In front end one java script file will be there from there <strong>signal/message should go to python flask api</strong> and <strong>flask API should also return signal/message to JavaScript</strong></p> <p>Ex: in front end one button will be there, if i click that button message should go to flask api like &quot;local_filename.txt&quot; then python flask should read that message and should reply/responded with the content in that &quot;local_filename.txt&quot;</p> <p>Iam not very much in to Web development, please help me guys please post any sample code in both python and JavaScript</p>"	2021-05-08 14:06:04.06 UTC	67452241	"<p>An attempt on your part to solve the task would have been desirable and useful. This platform is not a service where you can let others program it for you, but rather an aid should you run into problems in your attempts.<br /> Nevertheless and exceptionally in the following my example.</p> <p>The requested file is identified on the server using a <a href=""https://flask.palletsprojects.com/en/1.1.x/quickstart/#variable-rules"" rel=""nofollow noreferrer"">variable rule</a> and sent via <a href=""https://flask.palletsprojects.com/en/1.1.x/api/#flask.send_from_directory"" rel=""nofollow noreferrer"">send_from_directory</a>.<br /> The respective text document should be in the &quot;files&quot; folder of your project. In the example, according to your specifications, a document with the name &quot;local_filename.txt&quot; is expected.</p> <pre><code>from flask import Flask, render_template, send_from_directory  app = Flask(__name__)  @app.route('/') def index():     return render_template('index.html')  @app.route('/download/&lt;path:filename&gt;') def download(filename):     return send_from_directory(         'files',         filename,         as_attachment=True     ) </code></pre> <p>In order to react to clicks on the button, all necessary buttons are requested and an <a href=""https://developer.mozilla.org/en-US/docs/Web/API/EventListener"" rel=""nofollow noreferrer"">event listener</a> is registered for them. With a click, the <a href=""https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes"" rel=""nofollow noreferrer"">data attribute</a> of the button is requested and the required url is generated. In doing so, it is taken into account that this is a valid form.<br /> The request of the method type GET is made by asynchronous Javascript (AJAX) using the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch</a> command. The transmitted data is received as a <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Blob"" rel=""nofollow noreferrer"">Blob</a>. The content is extracted and displayed. There is no consideration of HTML specific characters.</p> <p>The template called &quot;index.html&quot; should be in the &quot;templates&quot; folder of your project.</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;title&gt;&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;button data-source=&quot;local_filename.txt&quot;&gt;Retrieve&lt;/button&gt;     &lt;output id=&quot;result&quot;&gt;&lt;/output&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       (function(){         let elems = document.querySelectorAll(&quot;button[data-source]&quot;)         elems.forEach(elem =&gt; {           elem.addEventListener('click', event =&gt; {             const url = `/download/${encodeURIComponent(elem.dataset.source)}`;             fetch(url)               .then(resp =&gt; resp.blob())               .then(blob =&gt; {                 blob.text().then(text =&gt; {                   document.getElementById(&quot;result&quot;).innerHTML = text;                 });               })               .catch(err =&gt; console.error(&quot;Error&quot;, err));           });         });       })();     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre> <p>I would be pleased if your requirements are met by this example and would ask you to follow the rules and procedures of this service in the future.</p> <p>Have fun and success in implementing your project.</p>"			2021-05-08 21:17:51.723 UTC
67458423	javascript|python|selenium|webdriver	The exact way to execute javascript console.log useing selenium in python	<p>What I've tried:</p> <pre><code>driver.execute_script(&quot;console.log('help me to see console print')&quot;) </code></pre> <p>But No any result.</p>	2021-05-09 13:44:51.46 UTC	67458725	"<p>After execution javascript, need sometime to load it into browser dom.<Br/> So I added some time sleep under that code line.<Br/></p> <pre><code>driver.execute_script(&quot;console.log('help me to see console print')&quot;) time.sleep(10) </code></pre> <p>Now it was printed:</p> <blockquote> <p>help me to see console print</p> </blockquote>"			2021-05-09 14:17:51.207 UTC
67458423	javascript|python|selenium|webdriver	The exact way to execute javascript console.log useing selenium in python	<p>What I've tried:</p> <pre><code>driver.execute_script(&quot;console.log('help me to see console print')&quot;) </code></pre> <p>But No any result.</p>	2021-05-09 13:44:51.46 UTC	67458541	"<p>You have got it!</p> <pre><code>driver.get(&quot;https://www.google.com&quot;) driver.execute_script(f&quot;console.log('{driver.current_url}');&quot;) </code></pre> <p><a href=""https://i.stack.imgur.com/iKRr1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iKRr1.png"" alt=""enter image description here"" /></a></p>"			2021-05-09 13:58:06.927 UTC
67482043	javascript|python|selenium	Returning javascript data from Python Selenium Web Driver	"<p>I'm trying to run a javascript file inside a Python file using Selenium WebDriver and get the return value from the javascript function. The following attempts below should work from what I've looked up online. I've worked on this for a few hours to no avail. Any help would be appreciated.</p> <p>Python Code:</p> <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait import os   driver = webdriver.Chrome(executable_path='chromedriver') driver.get('example.com')  # Clean up the text inside the &lt;p&gt; tags js_file = 'clean_text.js' with open(js_file, 'r') as f:     script = f.read()  # Attempt 1 text = driver.execute_script(script)  # Attempt 2 text = driver.execute_script(f'return {script}')  # Attempt 3 text = WebDriverWait(driver, 20).until(lambda driver: driver.execute_script(script))  # Attempt 4 text = WebDriverWait(driver, 20).until(lambda driver: driver.execute_script(f'return {script}')) </code></pre> <p>The attempts either return None or a selenium.common.exceptions.TimeoutException</p> <p>Javascript Code:</p> <pre><code>$(document).ready(function() {   // Collect the text within the nested &lt;p&gt; tags   var text = [];    // get all nested &lt;p&gt; tags   let paragraphs = $(`div#id div[data-test-id=value] p`);    // Replace all whitespaces with a single white space   paragraphs.each(function(index) {     let original_text = $(this).text();     let cleaned_text = original_text.trim().replace(/\s\s+/g, ' ');     $(this).text(cleaned_text);     text.push(cleaned_text);   });    return text; }); </code></pre> <p>Given furas' answer below this JS code worked for Attempt 1 &amp; 4. I needed to add &quot;return&quot; at the start, &quot;();&quot; at the end &amp; remove the jQuery.</p> <pre><code>return function cleanText() {   // Collect the text within the nested &lt;p&gt; tags   var text = [];    // get all nested &lt;p&gt; tags   let paragraphs = $(`div#id div[data-test-id=value] p`);    // Replace all whitespaces with a single white space   paragraphs.each(function(index) {     let original_text = $(this).text();     let cleaned_text = original_text.trim().replace(/\s\s+/g, ' ');     $(this).text(cleaned_text);     text.push(cleaned_text);   });    return text; }(); </code></pre>"	2021-05-11 07:08:14.327 UTC	67484366	"<p>All problem can be because you run <code>function()</code> inside <code>ready()</code> and it <code>return</code> sends <code>text</code> to <code>ready()</code>, not to you. You have to directly run <code>function</code> to get its result.</p> <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait import os import time  driver = webdriver.Chrome()# executable_path='chromedriver') driver.get('http://quotes.toscrape.com/js/')  #script = '$(document).ready(function() { return &quot;Hello World&quot;; })'; script = 'function test() { return &quot;Hello World&quot;; })()';  time.sleep(3)  # Attempt 1 text = driver.execute_script(script) print(text)  # None  # Attempt 2 text = driver.execute_script(f'return {script}') print(text)  # Hello World  # Attempt 3 #text = WebDriverWait(driver, 20).until(lambda driver: driver.execute_script(script)) #print(text)  # error  # Attempt 4 text = WebDriverWait(driver, 20).until(lambda driver: driver.execute_script(f'return {script}')) print(text)  # Hello World </code></pre> <hr /> <p><strong>EDIT:</strong></p> <p>if you really need to check if document is ready then you should do it inside your function. You could try to use <code>while</code>-loop with variable <code>$.isReady</code></p> <p><a href=""https://stackoverflow.com/a/8373928/1832058"">In JQuery, how do I check if the DOM is ready?</a></p>"			2021-05-11 09:50:32.803 UTC
67485980	javascript|python|selenium	My javascript code can't recognise my array element defined in Python	"<p>So I'm trying to open a new window by executing a script in Selenium using <code>driver.execute_script(&quot;window.open('');&quot;)</code></p> <p>But I want to open a link given by the user.</p> <p>So I got the link input from my array and put it to my javascript code just like this:</p> <pre><code>driver.execute_script(&quot;window.open(data[0]);&quot;) </code></pre> <p>Now It's giving an error like this:</p> <pre><code>selenium.common.exceptions.JavascriptException: Message: javascript error: data is not defined </code></pre> <p>How to fix this? Thanks for your time.</p> <p>EDIT: A part of my code is something like that:</p> <pre><code>from selenium import webdriver import PySimpleGUI as sg import time  global data  data = []  layouts = [[[sg.Text(&quot;Enter the Wordpress New Post link: &quot;), sg.InputText(key=0)]],           [sg.Button('Start The Process'), [sg.Button('Exit')]]]  window = sg.Window(&quot;Title&quot;, layouts)   def selenium_process():     # Getting the driver path     driver = webdriver.Chrome(r'Driver\path')     driver.get('https://google.com')     driver.execute_script(f&quot;window.open({data[0]});&quot;)     time.sleep(10000)   while True:     event, values = window.read()     if event in (sg.WIN_CLOSED, 'Exit'):         break     data.append(values[0])     selenium_process() </code></pre>"	2021-05-11 11:38:12.257 UTC	67486055	"<p>did you try string interpolation ?</p> <p>Try this:</p> <pre class=""lang-py prettyprint-override""><code>driver.execute_script(f&quot;window.open({data[0]});&quot;) </code></pre> <p>Your solution does not work since <code>data[0]</code> is a string, not a variable. You instead need to substitute <code>data[0]</code> with its value (must be a value that JS can understand).</p> <p>Please read the description of Javascript <code>window.open</code> : <a href=""https://developer.mozilla.org/fr/docs/Web/API/Window/open"" rel=""nofollow noreferrer"">https://developer.mozilla.org/fr/docs/Web/API/Window/open</a></p> <p><strong>If you just need to get to an URL:</strong></p> <pre class=""lang-py prettyprint-override""><code>driver.get(data[0]) </code></pre>"			2021-05-11 11:43:28.097 UTC
67514289	javascript|python|html|google-chrome-extension	"Send a variable from a python file, to javascript, and then to a separate HTML file?"	"<p>I'm trying to create a chrome extension, with the main code being in python but I'm struggling. I've succeeded in sending information from the user inputted from the HTML side to the python script, but not the other way around. Here's what I have so far (or the code that seems to be the problem):</p> <p>Python:</p> <pre><code>@app.route('/get_data', methods = ['POST']) def get_data():     taken = request.get_data()     taken2 = taken.decode()     print(taken2)     strength = int(taken2)   #this works, I use this later in the code     my_variable = 5                    #just for example      return jsonify(my_variable), 200 </code></pre> <p>background.js (javascript)</p> <pre><code>function myAction(input) {      console.log(&quot;input value is : &quot; + input.value);          newish = input.value          var xxhttp = new XMLHttpRequest();         xxhttp.onreadystatechange = function () {             if (this.readyState == 4 &amp;&amp; this.status == 200) {                 console.log(this.responseText);             }         };         xxhttp.open(&quot;POST&quot;, &quot;http://127.0.0.1:5000/get_data&quot;);         xxhttp.send(newish);          //so sending newish here works, this shows up on my python console (strength becomes this)  </code></pre> <p>HTML</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;link rel=&quot;stylesheet&quot; href=&quot;button.css&quot;&gt;     &lt;script src=&quot;background.js&quot; type=&quot;text/javascript&quot;&gt;       &lt;/script&gt;                 &lt;/head&gt;   &lt;body&gt;     &lt;h1&gt;A Thing!&lt;/h1&gt;      &lt;div style=&quot;padding: 20px 20px 20px 20px;&quot;&gt;                    &lt;h3&gt;Hello,&lt;/h3&gt;         &lt;p&gt;User input please? : &lt;/p&gt;                  &lt;input id=&quot;name_textbox&quot; /&gt;                            &lt;button id=&quot;ok_btn&quot; type=&quot;button&quot;&gt;OK&lt;/button&gt;     &lt;/div&gt;       &lt;/body&gt;   &lt;/html&gt; stuff    </code></pre> <p>What I'm aiming for is for the my_variable to be accepted into the javascript file somehow, and then the html being able to access and display the contents of my_variable. I've tried looking around, but nowhere seems to have the exact thing I'm looking for (send python variable to separate html file for chrome extension). I'm at a bit of a loss, any help would be greatly appreciated, thanks!</p>"	2021-05-13 05:27:07.713 UTC	67514473	"<h1><b>Better way of doing it</b></h1> Since you want to send the variable from python to html by reading the file, this is better than using the FS module in javascript. <p>example index.html code:</p> <pre class=""lang-html prettyprint-override""><code>&lt;body&gt;     &lt;h1&gt;Hello, {first_header:}!&lt;/h1&gt;     &lt;p&gt;{p2:}, {p1:}&lt;/p&gt; &lt;/body&gt; </code></pre> <p>python code for the above:</p> <pre class=""lang-py prettyprint-override""><code>newFileCode = open(&quot;index.html&quot;, &quot;r&quot;).read().format(first_header='goodbye',                                           p1='World',                                           p2='Hello') open(&quot;index.html&quot;, &quot;w&quot;).write(newFileCode) </code></pre> <p>output in the HTML file:</p> <pre class=""lang-html prettyprint-override""><code>&lt;body&gt;     &lt;h1&gt;Hello, goodbye!&lt;/h1&gt;     &lt;p&gt;Hello, World&lt;/p&gt; &lt;/body&gt; </code></pre> <p>read more about file handling in python <a href=""https://www.w3schools.com/python/python_file_handling.asp"" rel=""nofollow noreferrer"">here</a></p> <h1><b>PREVIOUS ANSWER</b></h1> You can parse the data using JSON. Although, you'll need a new Node.js module fs https://nodejs.org/api/fs.html.    Once you've installed that module, you have to maintain two JSONs, one being a JS variable and the other being an external .json file.  <p>Use this code to write in external JSON files in javascript:</p> <pre class=""lang-js prettyprint-override""><code>fs = require('fs'); var name = 'fileName.json'; var m = {&quot;example&quot;: &quot;HELLO&quot;} fs.writeFileSync(name, JSON.stringify(m)); </code></pre> <p>Use this code to read an external JSON file in javascript:</p> <pre class=""lang-js prettyprint-override""><code>JSON.parse(fs.readFileSync(name).toString()) </code></pre> <hr> <hr> <p>To get/read the data from the external JSON file in python use this code:</p> <pre class=""lang-py prettyprint-override""><code>import json    # Opening JSON file f = open('fileName.json',)    # returns JSON object as  # a dictionary data = json.load(f)    # Iterating through the json # list for i in data['emp_details']:     print(i)    # Closing file f.close() </code></pre> <p>You can edit the file from javascript and can read it in python using a while loop</p>"			2021-05-13 05:51:43.227 UTC
67531525	python|beautifulsoup	JavaScript Disabled error while web scraping twitter in Python in BeautifulSoup	"<p>I am new to this world of web <strong>scraping</strong>. I was trying to scrape twitter with BeautifulSoup in Python.</p> <p>Here's my code :</p> <pre><code>from bs4 import BeautifulSoup import requests  request = requests.get(&quot;https://twitter.com/mybmc&quot;).text  soup = BeautifulSoup(request, 'html.parser')  print(soup.prettify())  </code></pre> <p>But I am getting a large output which is not the twitter page which I am looking for but there is a error container : <a href=""https://i.stack.imgur.com/SG29q.png"" rel=""nofollow noreferrer"">Output Image</a></p> <p>which says JavaScript is disabled in this browser. I tried changing my default browsers to Chrome, Firefox and Microsoft Edge but the out was same .</p> <p>What should I do in this case?</p>"	2021-05-14 08:47:54.667 UTC	67531570	"<p>Twitter here seem to be specifically trying to prevent scrapers of the front end, probably with the view that you should use their REST API to fetch that same data. It is not to do with your default browsers, but that <code>requests.get</code> will be providing a python requests user agent, which specifically doesn't support Javascript.</p> <p>I'd suggest using a different page to practice on, or if it must be the twitter front page, consider using selenium perhaps with a standalone container to scrape.</p>"			2021-05-14 08:51:05.8 UTC
67541997	javascript|python|http|browser|websocket	Is it possible to connect to a Python socket server with Javascript?	"<p>I'm creating a Python <code>socketserver</code> using the module <code>socketserver</code>:</p> <pre class=""lang-py prettyprint-override""><code>import socketserver  class MyTCPHandler(socketserver.BaseRequestHandler):     def setup(self):         pass     def handle(self):         pass with socketserver.TCPServer((&quot;localhost&quot;, 4000), MyTCPHandler) as server:     server.serve_forever() </code></pre> <p>I've used the Python module <code>websockets</code> and I could access the websocket in Javascript using the WebSocket API. Without fully understanding what the Python module <code>socketserver</code> really does, I attempted to connect to the <code>TCP socketserver</code> using a websocket:</p> <pre class=""lang-js prettyprint-override""><code>var socket = new WebSocket('ws://localhost:4000'); // ERROR: Firefox canâ€™t establish a connection to the server at ws://localhost:4000/. </code></pre> <p>Everytime, Firefox threw the error <code>Firefox canâ€™t establish a connection to the server at ws://localhost:4000/.</code> Then, I tried connecting to the server using the Python <code>http</code> module:</p> <pre class=""lang-py prettyprint-override""><code>import http.client httpConnection = http.client.HTTPSConnection(&quot;localhost:4000&quot;, timeout=10) print(httpConnection) # HTTP Connection Object </code></pre> <p>Sadly, this worked. Now, I understand that Python's built-in <code>socketserver</code> module creates can only be accessed through HTTP. Now, I want to know if it is possible to connect to a Python <code>TCP socketserver</code> with Javascript in the browser. If not, I'll just use <code>websockets</code> or figure out how to create my own websocket.</p>"	2021-05-14 23:26:26.3 UTC	67570510	"<p>While the link to the blog from @scenox was very helpful, it was outdated. I did a bit more searching and fixed it to better reflect today's standards for a websocket:</p> <pre class=""lang-py prettyprint-override""><code>def setup(self):     print(type(self))     data = str(self.request.recv(1024))     if &quot;Upgrade: websocket&quot; in data: # Connection: Upgrade might be Connection: keep-alive, Upgrade         key = base64.b64encode(hashlib.sha1((data.split(&quot;Sec-WebSocket-Key: &quot;)[1].split(&quot;\\r\\n&quot;)[0] + &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;).encode('ascii')).digest()).decode('ascii') # Encode as ascii and then decode it         self.request.sendall(f&quot;HTTP/1.1 101 Switching Protocols\r\nSec-WebSocket-Accept: {key}\r\nConnection: Upgrade\r\nUpgrade: websocket\r\n\r\n&quot;.encode()) # Encode it so that it gets sent as a bytes-like object         while True:             # I haven't figured out how to decode frames yet.     else:         self.request.sendall(&quot;HTTP/1.1 400 Bad Request\r\n&quot; + \                              &quot;Content-Type: text/plain\r\n&quot; + \                              &quot;Connection: close\r\n&quot; + \                              &quot;\r\n&quot; + \                              &quot;Incorrect request&quot;) </code></pre> <p>I still have yet to decode frames, but I at least established the connection.</p>"			2021-05-17 13:19:56.823 UTC
67541997	javascript|python|http|browser|websocket	Is it possible to connect to a Python socket server with Javascript?	"<p>I'm creating a Python <code>socketserver</code> using the module <code>socketserver</code>:</p> <pre class=""lang-py prettyprint-override""><code>import socketserver  class MyTCPHandler(socketserver.BaseRequestHandler):     def setup(self):         pass     def handle(self):         pass with socketserver.TCPServer((&quot;localhost&quot;, 4000), MyTCPHandler) as server:     server.serve_forever() </code></pre> <p>I've used the Python module <code>websockets</code> and I could access the websocket in Javascript using the WebSocket API. Without fully understanding what the Python module <code>socketserver</code> really does, I attempted to connect to the <code>TCP socketserver</code> using a websocket:</p> <pre class=""lang-js prettyprint-override""><code>var socket = new WebSocket('ws://localhost:4000'); // ERROR: Firefox canâ€™t establish a connection to the server at ws://localhost:4000/. </code></pre> <p>Everytime, Firefox threw the error <code>Firefox canâ€™t establish a connection to the server at ws://localhost:4000/.</code> Then, I tried connecting to the server using the Python <code>http</code> module:</p> <pre class=""lang-py prettyprint-override""><code>import http.client httpConnection = http.client.HTTPSConnection(&quot;localhost:4000&quot;, timeout=10) print(httpConnection) # HTTP Connection Object </code></pre> <p>Sadly, this worked. Now, I understand that Python's built-in <code>socketserver</code> module creates can only be accessed through HTTP. Now, I want to know if it is possible to connect to a Python <code>TCP socketserver</code> with Javascript in the browser. If not, I'll just use <code>websockets</code> or figure out how to create my own websocket.</p>"	2021-05-14 23:26:26.3 UTC	67542160	"<p>With <code>socketserver</code>, you would have to implement the websocket protocol in your code. There are several tutorials on the web, e.g. <a href=""https://superuser.blog/websocket-server-python/"" rel=""nofollow noreferrer"">here</a>.</p>"			2021-05-15 00:00:53.09 UTC
67550636	javascript|python|flask|get|fetch	How can I transfer a variable from Python Flask to JavaScript?	"<p>I am developing a simple website with Python Flask and JavaScript for my machine learning project. It has a form which gets data from the user, then predict a target and send it back to the user. I set the action of form as &quot;index&quot;, and When the form is submitted the page &quot;index.html&quot; should be loaded. I tried using POST method to get data from JavaScript and it works, but on the other hand, I cannot transfer the answer from Python to JavaScript. My code for POST method is something like this:</p> <pre><code>@app.route('/',methods = ['POST', 'GET']) def myFunction(): if request.method == &quot;POST&quot;:     myVariable = request.form[&quot;example&quot;]     answer = myModel.predition(myVariable)      return redirect(url_for(&quot;index&quot;))  else:     return render_template(&quot;myWeb.html&quot;) </code></pre> <p>I tried using GET method in Flask and fetch in JS to transfer the answer but as my answer variable is in myFunction(), I cannot use GET outside of it. Furthermore, when I tried to show a simple string as answer it didn't work. My code was something like this:</p> <pre><code>@app.route('/index',methods = ['POST', 'GET']) def answer(): if request.method == 'GET':     message = {&quot;prediction&quot;}     return jsonify(message) </code></pre> <p>and my JS was:</p> <pre><code>fetch('/index')     .then(function (response) {           return response.json();   }).then(function (text) {       console.log('GET response:');       console.log(text);    }); </code></pre> <p>I really don't know how should I fix this and show my answer on index.html successfully. I take Internal Server Error on index page.</p>"	2021-05-15 19:43:42.427 UTC	67550736	"<p><code>message = {&quot;prediction&quot;}</code> is a Set that contains your string. As usually sets are not JSON serializable. You have to use a list here <code>message = [&quot;prediction&quot;]</code> (or remove the brackets to return as simply string)</p> <p>Btw: You're indentation looks broken... Maybe it's a copy&amp;paste issue, but please check if your code is correct indented.</p>"			2021-05-15 19:57:22.103 UTC
67554804	python|selenium	selenium set attribute using python and javascript executor	"<pre><code>&lt;div class=&quot;g-recaptcha&quot; data-callback=&quot;checkoutAfterCaptcha&quot; data-sitekey=&quot;6LeWwRkUAAAAAOBsau7KpuC9AV-6J8mhw4AjC3Xz&quot; data-size=&quot;invisible&quot;&gt;&lt;div class=&quot;grecaptcha-badge&quot; data-style=&quot;bottomright&quot;&lt;/div&gt; </code></pre> <p>Im trying to set the attribute of this HTML element to something else im using selenium but its not working can anyone take quick look and see what im doing wrong? Im using javascript executor. Im trying to change the data-sitekey</p> <pre><code>key = Driver.find_element_by_css_selector('.g-recaptcha') Driver.execute_script(&quot;arguments[0].setAttribute('data-sitekey');&quot;,key) </code></pre>"	2021-05-16 09:06:10.367 UTC	67554884	"<p>you need to set data-sitekey attribute to some value not class.</p> <pre><code>key = Driver.find_element_by_css_selector('.g-recaptcha') Driver.execute_script(&quot;arguments[0].setAttribute('data-sitekey', 'somevalue');&quot;,key) </code></pre>"			2021-05-16 09:15:35.753 UTC
67557395	javascript|python	Declaring multiple cariables in JavaScript in comparison to Python	"<p>In python you can declare variables like this</p> <pre><code>a, b = 1, 2 </code></pre> <p>Can you do the same think in JS, where you have two variable names seperated by a komma and then two values seperated by a komma? Just like this:</p> <pre><code>let a, b = 1, 2 </code></pre>"	2021-05-16 13:44:10.353 UTC	67557416	"<p>You need to assign directly</p> <pre><code>let a = 1, b = 2; </code></pre> <p>or use a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"" rel=""nofollow noreferrer"">destructuring</a> with an array.</p> <pre><code>let [a, b] = [1, 2]; </code></pre>"			2021-05-16 13:46:46.217 UTC
67577354	javascript|python|selenium	JavaScript Syntaxâ€‹Error: missing ) After Argument List in Selenium Python	"<p>I'm trying to execute JavaScript code in Python using selenium. But I'm getting the error down below:</p> <pre><code>selenium.common.exceptions.JavascriptException: Message: javascript error: missing ) after argument list </code></pre> <p>Here's my code:</p> <pre class=""lang-py prettyprint-override""><code>def selenium_process(): driver = webdriver.Chrome(data[3]) x = 0 driver.get(data[0]) while x &lt;= postCount:     driver.execute_script(f&quot;window.open({data[0]});&quot;)     x = x + 1     if(x&gt;postCount):         time.sleep(10000000) </code></pre> <p>Note: I'm getting array elements as an input from a GUI and then append them into <code>data[]</code> array.</p> <p>How can I fix this?</p>"	2021-05-17 21:41:14.613 UTC	67577404	<p>Add quotes around the data when the data is a string and not a variable (or int or float - but this wouldn't be a valid argument for <code>window.open</code> anyway):</p> <pre><code>driver.execute_script(f&quot;window.open('{data[0]}');&quot;) </code></pre>			2021-05-17 21:45:37.43 UTC
67578454	javascript|python|websocket|whatsapp	Get websocket connection to WhatsApp using Python or JavaScript?	<p>I copy the websocket request from the chrome network tab and try to use it as fetch and clearly is not working because fetch only support <code>HTTP(S)</code>.</p> <p>Is there a way I can connect to WhatsApp websocket connection by either <code>Python</code> or <code>JavaScript</code>?</p>	2021-05-18 00:21:39.06 UTC	68102122	"<p>I don't know If this will help, you can always use WebSocket in node.js . Similarly, <em><strong>socketio</strong></em> module is available in python.</p> <p>I tried this in my local machine but the socket server throwed an unexpected Forbiden 403 error.</p> <p>Anyway, this is the example:</p> <pre><code>const WebSocket = require('ws') var socket = new WebSocket(&quot;wss://web.whatsapp.com/ws&quot;)  socket.onopen = (e)=&gt;console.log(&quot;connected&quot;)  socket.onmessage = (e)=&gt;console.log(&quot;msg&quot;,e)  socket.onerror = (e)=&gt;console.log(&quot;error&quot;,e) </code></pre> <p><a href=""https://github.com/websockets/ws"" rel=""nofollow noreferrer"">WebSocket</a> Github repo link</p>"			2021-06-23 14:47:29.44 UTC
67578454	javascript|python|websocket|whatsapp	Get websocket connection to WhatsApp using Python or JavaScript?	<p>I copy the websocket request from the chrome network tab and try to use it as fetch and clearly is not working because fetch only support <code>HTTP(S)</code>.</p> <p>Is there a way I can connect to WhatsApp websocket connection by either <code>Python</code> or <code>JavaScript</code>?</p>	2021-05-18 00:21:39.06 UTC	68148919	"<p>You can get connect to socket in chrome using</p> <pre><code>let socket = new WebSocket(&quot;wss://web.whatsapp.com/ws&quot;);   socket.onopen = (e)=&gt;console.log(&quot;connected&quot;)  socket.onmessage = (e)=&gt;console.log(&quot;msg&quot;,e)  socket.onerror = (e)=&gt;console.log(&quot;error&quot;,e) </code></pre> <p>but you can't listern messages.</p>"			2021-06-27 07:25:06.443 UTC
67578454	javascript|python|websocket|whatsapp	Get websocket connection to WhatsApp using Python or JavaScript?	<p>I copy the websocket request from the chrome network tab and try to use it as fetch and clearly is not working because fetch only support <code>HTTP(S)</code>.</p> <p>Is there a way I can connect to WhatsApp websocket connection by either <code>Python</code> or <code>JavaScript</code>?</p>	2021-05-18 00:21:39.06 UTC	68143084	<p>You need to use the flask-socketio and for javascript socket library. The steps are to connect and then send data to the function mentioned. You need to read the documentation as it is pretty simple.</p>			2021-06-26 14:05:13.03 UTC
67582295	javascript|python|python-3.x|encryption|cryptography	AES - Convert Javascript decryption algorithm to Python	"<p>I'm trying to convert a Javascript decryption algorithm to Python, but getting <code>ValueError: Incorrect AES key length (64 bytes)</code>.</p> <p><strong>The Javascript version:</strong></p> <pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; //------------------------------------------------------------------------------------------------------------ //JS compatible decryption algo //------------------------------------------------------------------------------------------------------------ function decrypt(cypher_text, keyIn, IVIn){ var iv = CryptoJS.enc.Hex.parse(IVIn);  var key = CryptoJS.enc.Hex.parse(keyIn);  var ct = CryptoJS.enc.Base64.parse(cypher_text);  var decrypted = CryptoJS.AES.decrypt({ciphertext: ct, salt: &quot;&quot;}, key, {iv: iv}).toString(CryptoJS.enc.Utf8); return decrypted; }  var key = &quot;3166626465356135633961303634353662393166363430306633656365366162&quot;; var ciphertext = &quot;WCJcIFWu+3gC3nesXiiVcvXsVB104J10ZBVky2KIg1pXO9AWoI45ClkWg5EkW/3aBHGPcE5F7bXf8W0dtn8UcrJv7reR1dETQX9cgO7qYPonmNNrbdJprxR/2Z/e3AJGUGrhsjZC8IaiL3mM7+sHSAIm1lsusk9ZjJchpxm00CHQh698ILdG9+8/FCSNTJ3QTm9vy8BDmt8XmGl95ORcryUleBLfI2VpY9cNKzXLIYBBBD8OoDH8ASqh5LSb/PQTr96cYJJQG+3P+xvg623pJxuzMXgoqZuDXaoY082fzWGuaU6Pr8zKI6DxMjBX4j6sCo2Csilma6MG6zJWMQ6QWdG+ulilvLluolwiCECLqd4qbEeCBBJ7oagjr5sdCz2lNX/E&quot;; var IV = &quot;111d8a663094d022a548d5e79670be37&quot;; var decrypted = decrypt(ciphertext, key, IV); &lt;/script&gt;  &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt;  &lt;script&gt; document.write(decrypted); &lt;/script&gt;  &lt;/body&gt; &lt;/html&gt; </code></pre> <p><strong>Output (Javascript version):</strong></p> <pre><code>&quot;[{\&quot;record_index\&quot;:15145877,\&quot;unit_id\&quot;:\&quot;AWTIRDMVAPU397\&quot;,\&quot;tag_id\&quot;:3461 </code></pre> <p><strong>The Python version:</strong></p> <pre><code># decrypting the data  # decryption key = &quot;3166626465356135633961303634353662393166363430306633656365366162&quot; iv = &quot;111d8a663094d022a548d5e79670be37&quot; ciphertext = &quot;WCJcIFWu+3gC3nesXiiVcvXsVB104J10ZBVky2KIg1pXO9AWoI45ClkWg5EkW/3aBHGPcE5F7bXf8W0dtn8UcrJv7reR1dETQX9cgO7qYPonmNNrbdJprxR/2Z/e3AJGUGrhsjZC8IaiL3mM7+sHSAIm1lsusk9ZjJchpxm00CHQh698ILdG9+8/FCSNTJ3QTm9vy8BDmt8XmGl95ORcryUleBLfI2VpY9cNKzXLIYBBBD8OoDH8ASqh5LSb/PQTr96cYJJQG+3P+xvg623pJxuzMXgoqZuDXaoY082fzWGuaU6Pr8zKI6DxMjBX4j6sCo2Csilma6MG6zJWMQ6QWdG+ulilvLluolwiCECLqd4qbEeCBBJ7oagjr5sdCz2lNX/E&quot; #print(ciphertext)  cipher = AES.new(key, AES.MODE_CBC, iv) decrypted = cipher.decrypt(ciphertext) decryptedUnpad = unpad(decrypted, AES.block_size) # print(decryptedUnpad) content = decryptedUnpad  print(str(content)) </code></pre> <p><strong>Output (Python - <code>ValueError: Incorrect AES key length (64 bytes)</code>):</strong></p> <pre><code>Traceback (most recent call last):   File &quot;C:/Users/Admin/Desktop/TestProp/main.py&quot;, line 192, in &lt;module&gt;     cipher = AES.new(key, AES.MODE_CBC, iv)   File &quot;C:\Users\Admin\Desktop\TestProp\venv\lib\site-packages\Crypto\Cipher\AES.py&quot;, line 232, in new     return _create_cipher(sys.modules[__name__], key, mode, *args, **kwargs)   File &quot;C:\Users\Admin\Desktop\TestProp\venv\lib\site-packages\Crypto\Cipher\__init__.py&quot;, line 79, in _create_cipher     return modes[mode](factory, **kwargs)   File &quot;C:\Users\Admin\Desktop\TestProp\venv\lib\site-packages\Crypto\Cipher\_mode_cbc.py&quot;, line 274, in _create_cbc_cipher     cipher_state = factory._create_base_cipher(kwargs)   File &quot;C:\Users\Admin\Desktop\TestProp\venv\lib\site-packages\Crypto\Cipher\AES.py&quot;, line 93, in _create_base_cipher     raise ValueError(&quot;Incorrect AES key length (%d bytes)&quot; % len(key)) ValueError: Incorrect AES key length (64 bytes) </code></pre> <p>What am I missing here?</p>"	2021-05-18 08:10:08.187 UTC	67582544	"<p>You're missing the corresponding python steps to prepare the data, from <code>hex</code> and <code>b64</code></p> <pre class=""lang-js prettyprint-override""><code>var iv = CryptoJS.enc.Hex.parse(IVIn);     var key = CryptoJS.enc.Hex.parse(keyIn);     var ct = CryptoJS.enc.Base64.parse(cypher_text); </code></pre> <pre class=""lang-py prettyprint-override""><code>key = bytearray.fromhex(key) iv = bytearray.fromhex(iv) ciphertext = b64decode(ciphertext) </code></pre> <hr /> <p>It seems your data is truncated so I remove the last 4 b64 chars, to be able to decrypt it properly</p> <pre class=""lang-py prettyprint-override""><code>from base64 import b64decode  from Crypto.Cipher import AES from Crypto.Util.Padding import pad, unpad  key = &quot;3166626465356135633961303634353662393166363430306633656365366162&quot; iv = &quot;111d8a663094d022a548d5e79670be37&quot; ciphertext = &quot;WCJcIFWu+3gC3nesXiiVcvXsVB104J10ZBVky2KIg1pXO9AWoI45ClkWg5EkW/3aBHGPcE5F7bXf8W0dtn8UcrJv7reR1dETQX9cgO7qYPonmNNrbdJprxR/2Z/e3AJGUGrhsjZC8IaiL3mM7+sHSAIm1lsusk9ZjJchpxm00CHQh698ILdG9+8/FCSNTJ3QTm9vy8BDmt8XmGl95ORcryUleBLfI2VpY9cNKzXLIYBBBD8OoDH8ASqh5LSb/PQTr96cYJJQG+3P+xvg623pJxuzMXgoqZuDXaoY082fzWGuaU6Pr8zKI6DxMjBX4j6sCo2Csilma6MG6zJWMQ6QWdG+ulilvLluolwiCECLqd4qbEeCBBJ7oagjr5sdCz2l&quot;  key = bytearray.fromhex(key) iv = bytearray.fromhex(iv) ciphertext = b64decode(ciphertext)  cipher = AES.new(key, AES.MODE_CBC, iv) decrypted = cipher.decrypt(ciphertext) print(decrypted)  # b'&quot;[{\\&quot;record_index\\&quot;:15145877,\\&quot;unit_id\\&quot;:\\&quot;AWTIRDMVAPU397\\&quot;,\\&quot;tag_id\\&quot;:3461,\\&quot;alarms\\&quot;:{\\&quot;Track Mode\\&quot;:false,\\&quot;Battery\\&quot;:false,\\&quot;Geofence\\&quot;:false,\\&quot;Coverage\\&quot;:true,\\&quot;Memory\\&quot;:false,\\&quot;CBit\\&quot;:false,\\&quot;Moveme # nt\\&quot;:\\&quot;Unknown\\&quot;,\\&quot;Tamperfoil\\&quot;:false},\\&quot;batt\\&quot;:3.6800000000000002,\\&quot;temperature\\&quot;:2' </code></pre> <p>That code would only be useful if the data was padded before being encrypted</p> <pre class=""lang-py prettyprint-override""><code>decryptedUnpad = unpad(decrypted, AES.block_size)  print(decryptedUnpad) </code></pre>"			2021-05-18 08:26:24.343 UTC
67592041	javascript|python|json|flask	Create .json in python and pass it to Javascript	"<p>I'm trying to pass a python dict as a JSON to JavaScript function. Here is the dict:</p> <pre><code>dataset = { 'labels': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 'datasets': [{ 'label': &quot;test1&quot;, 'backgroundColor': &quot;#54FFD820&quot;, 'borderColor': &quot;#54FFD820&quot;, 'borderWidth': 2, 'hoverBackgroundColor': &quot;#54FFD820&quot;, 'hoverBorderColor': &quot;#54FFD820&quot;, 'data': [49, 47, 51, 48, 45, 44, 40, 42, 47, 45], }, { 'label': &quot;test2&quot;, 'backgroundColor': &quot;#54FFD840&quot;, 'borderColor': &quot;#54FFD840&quot;, 'borderWidth': 2, 'hoverBackgroundColor': &quot;#54FFD840&quot;, 'hoverBorderColor': &quot;#54FFD840&quot;, 'data': [11, 9, 7, 10, 9, 12, 16, 15, 18, 22], }, { 'label': &quot;test3&quot;, 'backgroundColor': &quot;#54FFD860&quot;, 'borderColor': &quot;#54FFD860&quot;, 'borderWidth': 2, 'hoverBackgroundColor': &quot;#54FFD860&quot;, 'hoverBorderColor': &quot;#54FFD860&quot;, 'data': [32, 35, 33, 31, 29, 34, 35, 37, 36, 34], }]} </code></pre> <p>That's the python dict, I pass it with the use of simple flask function:</p> <pre><code>@app.route('/', methods=['GET']) def main():     data ={'pools': pools, 'intervals': time_intervals, 'dataset': json.dumps(dataset)}     return render_template('index.html', data=data) </code></pre> <p>I call the JS function from html:</p> <pre><code>... &lt;body onload=&quot;plot_it({ data : 'dataset' })&quot;&gt; ... </code></pre> <p>plot_it() is chart.js function:</p> <pre><code>function plot_it(chart_data) {  Chart.Line('test_chart', {  options: options,  data: chart_data }); } </code></pre> <p>The <code>plot_it()</code> is working, the chary is rendered (empty). I'm struggling to debug this properly but I suspect it may be the issue with different python/JS JSON construction as I get no errors. Any tips appreciated!</p>"	2021-05-18 18:27:19.437 UTC	67592374	"<p>I think you are using the wrong syntax to access the <code>dataset</code> from the <code>data</code> variable.</p> <p>Try using dot notation, and make sure your variable is between two curly braces <code>{{ variable }}</code>.</p> <pre><code>&lt;body onload=&quot;plot_it({{ data.dataset }})&quot;&gt; ... </code></pre> <p>Alternatively, you can also use the subscript syntax(<code>[]</code>).</p> <pre><code>&lt;body onload=&quot;plot_it({{ data['dataset'] }})&quot;&gt; ... </code></pre>"			2021-05-18 18:55:56.11 UTC
67612064	python|python-3.x|regex	How do I write this javascript regex for isogram detection In Python?	"<p>I found something using Javascript on another SO post, but I am wondering if there is a Python equivalent.</p> <pre><code>function isIsogram (str) {     return !/(\w).*\1/i.test(str); } </code></pre> <p>For my problem, I can allow spaces and hyphens, but no other repeating characters. I thought it would be something like this, but obviously I'm way off.</p> <pre><code>def is_isogram(string: str):     comp_re = re.compile(r'!/(\w).*\1/i')     return comp_re.match(string) </code></pre>"	2021-05-19 23:12:49.077 UTC	67612140	"<p>In Python, perhaps this is an option.</p> <p>Note that you don't need the case insensitive flag, as <code>\w</code> and the <code>.</code> match both upper and lowercase chars a-z</p> <pre><code>import re  def isIsogram(s):     return not re.search(r&quot;(\w).*\1&quot;, s)  strings = [     &quot;dialogue&quot;,     &quot;a&quot;,     &quot;testing&quot;,     &quot;abcdb&quot;  ] for s in strings:     print(f&quot;{s} --&gt; {isIsogram(s)}&quot;) </code></pre> <p>Output</p> <pre><code>dialogue --&gt; True a --&gt; True testing --&gt; False abcdb --&gt; False </code></pre> <p><a href=""https://ideone.com/veMjcH"" rel=""nofollow noreferrer"">Python demo</a></p> <hr> <p>To match any char except a whitspace char or hyphen, you can use a <a href=""https://www.regular-expressions.info/charclass.html#negated"" rel=""nofollow noreferrer"">negated character class</a>:</p> <pre><code>([^-\s]).*\1 </code></pre>"			2021-05-19 23:27:13.16 UTC
67613901	python|selenium|selenium-webdriver|http-headers	How to fetch status of javascript and css requests from network in selenium python	"<p>I want to fetch the status of specific javascript and css network requests of my website <a href=""https://lifesciences.cactusglobal.com/"" rel=""nofollow noreferrer"">https://lifesciences.cactusglobal.com/</a>. These network requests can be seen in chrome network. I want to print the request url and its response code.Screenshot attached below for reference, check the underlined requests: <br><br> <a href=""https://i.stack.imgur.com/lfiyb.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lfiyb.jpg"" alt=""enter image description here"" /></a></p> <p>I tried using the package <code>selenium-wire</code> <br></p> <pre><code>driver.get('https://www.google.com')  for request in driver.requests:     if request.response:         print(             request.url,             request.response.status_code,             request.response.headers['Content-Type']         ) </code></pre> <p>But it returns only responses and headers of the url entered and not the network requests. Is there any other way to do traverse through the network requests in selenium python?<br><br></p> <p>Thanks</p>"	2021-05-20 04:15:36.23 UTC	67631718	"<p>Many thanks for your support. I found a solution which suits my requirement well.<br> Referred to these links:<br> <a href=""https://gist.github.com/rengler33/f8b9d3f26a518c08a414f6f86109863c"" rel=""nofollow noreferrer"">https://gist.github.com/rengler33/f8b9d3f26a518c08a414f6f86109863c</a> <a href=""https://www.rkengler.com/how-to-capture-network-traffic-when-scraping-with-selenium-and-python/"" rel=""nofollow noreferrer"">https://www.rkengler.com/how-to-capture-network-traffic-when-scraping-with-selenium-and-python/</a> <br> Also found a package as an easy way out (not sticking to it though) - <code>pip install selenium-wire</code></p>"			2021-05-21 06:19:44.09 UTC
67613901	python|selenium|selenium-webdriver|http-headers	How to fetch status of javascript and css requests from network in selenium python	"<p>I want to fetch the status of specific javascript and css network requests of my website <a href=""https://lifesciences.cactusglobal.com/"" rel=""nofollow noreferrer"">https://lifesciences.cactusglobal.com/</a>. These network requests can be seen in chrome network. I want to print the request url and its response code.Screenshot attached below for reference, check the underlined requests: <br><br> <a href=""https://i.stack.imgur.com/lfiyb.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lfiyb.jpg"" alt=""enter image description here"" /></a></p> <p>I tried using the package <code>selenium-wire</code> <br></p> <pre><code>driver.get('https://www.google.com')  for request in driver.requests:     if request.response:         print(             request.url,             request.response.status_code,             request.response.headers['Content-Type']         ) </code></pre> <p>But it returns only responses and headers of the url entered and not the network requests. Is there any other way to do traverse through the network requests in selenium python?<br><br></p> <p>Thanks</p>"	2021-05-20 04:15:36.23 UTC	67614119	"<p>The output is a mess, but try getting the network requests like this, it seemed to work for me:</p> <pre><code>driver.get('https://lifesciences.cactusglobal.com/') time.sleep(3) test = driver.execute_script(&quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;)  for item in test:   print(item) </code></pre>"			2021-05-20 04:44:21.59 UTC
67628650	python|web-scraping	Parsing data scraped from Javascript rendered webpage with python	"<p>I am trying to use .find off of a soup variable but when I go to the webpage and try to find the right class it returns none.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>from bs4 import * import time import pandas as pd import pickle import html5lib from requests_html import HTMLSession  s = HTMLSession() url = ""https://cryptoli.st/lists/fixed-supply""   def get_data(url):     r = s.get(url)     global soup     soup = BeautifulSoup(r.text, 'html.parser')     return soup  def get_next_page(soup):     page = soup.find('div', {'class': 'dataTables_paginate paging_simple_numbers'})     return page      get_data(url) print(get_next_page(soup))</code></pre> </div> </div> </p> <p>The &quot;page&quot; variable returns &quot;None&quot; even though I pulled it from the website element inspector. I suspect it has something to do with the fact that the website is rendered with javascript but can't figure out why. If I take away the {'class' : ''datatables_paginate paging_simple_numbers'} and just try to find 'div' then it works and returns the first div tag so I don't know what else to do.</p>"	2021-05-20 22:17:44.527 UTC	67629434	"<p>So you want to <strong>scrape</strong> dynamic page content , You can use beautiful soup with selenium webdriver. This answer is based on explanation here <em><a href=""https://www.geeksforgeeks.org/scrape-content-from-dynamic-websites/"" rel=""nofollow noreferrer"">https://www.geeksforgeeks.org/scrape-content-from-dynamic-websites/</a></em></p> <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys  url = &quot;https://cryptoli.st/lists/fixed-supply&quot;    driver = webdriver.Chrome('./chromedriver')  driver.get(url)     # this is just to ensure that the page is loaded time.sleep(5)     html = driver.page_source    # this renders the JS code and stores all # of the information in static HTML code.    # Now, we could simply apply bs4 to html variable soup = BeautifulSoup(html, &quot;html.parser&quot;) </code></pre>"			2021-05-21 00:20:45.847 UTC
67633255	javascript|node.js|vue.js|formatting|vuetify.js	Is there an equivalent to Python's Format Specification Mini-Language in JavaScript/Vue?	"<p>I'm working on a Django project that ships data via vector tiles to a Vue(tify) frontend. Because of this architecture it is not practical to run Python on Django model instances. Vector tiles are generated inside the database and querysets are not materialized in the Django backend.</p> <p>Besides, we'd rather ship the data in its raw type and handle formatting in the frontend. <strong>From Python I know the <a href=""https://docs.python.org/3/library/string.html#formatspec"" rel=""nofollow noreferrer"">Format Specification Mini-Language</a>. Is there an equivalent in JavaScript/Vue/Vuetify?</strong></p> <hr /> <p>Example: In Python <code>f&quot;{1/9:.4f}&quot;</code> would result in <code>'0.1111'</code>.</p> <hr /> <p>Related: This answer to <a href=""https://stackoverflow.com/a/7041351/9778755"">JavaScript equivalent to printf/String.Format</a>. I'm looking for something more flexible, just like the Format Specification Mini-Language</p>"	2021-05-21 08:25:00.037 UTC	67633499	"<p>The best and most flexible way should be the <strong>Inlt</strong>, a js namespace with <strong>lots of formatters</strong> for various data types.</p> <p>Some examples:</p> <pre class=""lang-js prettyprint-override""><code>new Intl.NumberFormat().format(12345) // 12,345  new Intl.NumberFormat('en-US', { maximumSignificantDigits: 4}).format(1.2345678) // 1.235 (Notice the rounding)  new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP' }).format(9002.20) // Â£9,002.20  new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(9002.20) // 9.002,20 â‚¬  new Intl.NumberFormat().formatToParts(12345.678) /* [    { &quot;type&quot;:&quot;integer&quot;, &quot;value&quot;:&quot;12&quot; },    { &quot;type&quot;:&quot;group&quot;, &quot;value&quot;:&quot;,&quot; },    { &quot;type&quot;:&quot;integer&quot;, &quot;value&quot;:&quot;345&quot; },    { &quot;type&quot;:&quot;decimal&quot;, &quot;value&quot;:&quot;.&quot; },    { &quot;type&quot;:&quot;fraction&quot;, &quot;value&quot;:&quot;678&quot; } ] </code></pre> <p><a href=""https://davidwalsh.name/intl-numberformat"" rel=""nofollow noreferrer"">(ref)</a></p> <pre class=""lang-js prettyprint-override""><code>new Intl.DateTimeFormat('default', {   hour: 'numeric',   minute: 'numeric',   second: 'numeric' }).format(date) // â†’ '2:00:00 pm  new Intl.DateTimeFormat('en-US', {   year: 'numeric',   month: 'numeric',   day: 'numeric' }).format(date) // â†’ '12/19/2012'  </code></pre> <p><a href=""https://devhints.io/wip/intl-datetime"" rel=""nofollow noreferrer"">(ref)</a></p> <ul> <li><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat"" rel=""nofollow noreferrer"">datetime format spec</a></li> <li><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat"" rel=""nofollow noreferrer"">number format spec</a></li> </ul>"			2021-05-21 08:42:01.987 UTC
67639960	javascript|python|selenium|web-scraping|recaptcha	Syntax executing Javascript in python	"<p>I am executing javascript code in python and I have some troubles with the syntax. I suspect that the problem is with (&quot;) and (') symbols.</p> <p>More explained:</p> <p>In order to solve a &quot;I'm Human&quot; captcha, I have to insert a value in an html document. 1Âº I get a value:</p> <pre><code>value = get_value() </code></pre> <p>Now I have to insert that value (a string) into the html code of the webpage:</p> <pre><code>insert_solver = 'document.getElementByXpath(&quot;//textarea[@name=&quot;h-captcha-response&quot;]&quot;).innerHTML=&quot;' + value + '&quot;;'   driver.execute_script(insert_solver) </code></pre> <p>When I execute the script I get this error:</p> <pre><code>selenium.common.exceptions.JavascriptException: Message: javascript error: missing ) after argument list </code></pre> <p>executing the script like in this example doesn't give any errors:</p> <pre><code>insertar_solucion = 'document.getElementById(&quot;g-recaptcha-response&quot;).innerHTML=&quot;' + respuesta_solver + '&quot;;' </code></pre> <p>So I suspect it's a problem with added (&quot;) and (') symbols</p> <p>This is the result I want, from this <a href=""https://i.stack.imgur.com/5QiGC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5QiGC.png"" alt=""enter image description here"" /></a></p> <p>To this: <a href=""https://i.stack.imgur.com/512Gx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/512Gx.png"" alt=""enter image description here"" /></a></p>"	2021-05-21 15:37:50.273 UTC	67641007	<p>I think this works just fine. It's tricky to pass on a string containing quotes.</p> <pre><code>pre = 'document.getElementByXpath(' x_path = '//textarea[@name=&quot;h-captcha-response&quot;]' post = f').innerHTML=&quot;{value}&quot;;' # alternative: post = ').innerHTML=&quot;' + value + '&quot;;' insert_solver = pre + x_path + post driver.execute_script(insert_solver) </code></pre>			2021-05-21 16:55:58.037 UTC
67639960	javascript|python|selenium|web-scraping|recaptcha	Syntax executing Javascript in python	"<p>I am executing javascript code in python and I have some troubles with the syntax. I suspect that the problem is with (&quot;) and (') symbols.</p> <p>More explained:</p> <p>In order to solve a &quot;I'm Human&quot; captcha, I have to insert a value in an html document. 1Âº I get a value:</p> <pre><code>value = get_value() </code></pre> <p>Now I have to insert that value (a string) into the html code of the webpage:</p> <pre><code>insert_solver = 'document.getElementByXpath(&quot;//textarea[@name=&quot;h-captcha-response&quot;]&quot;).innerHTML=&quot;' + value + '&quot;;'   driver.execute_script(insert_solver) </code></pre> <p>When I execute the script I get this error:</p> <pre><code>selenium.common.exceptions.JavascriptException: Message: javascript error: missing ) after argument list </code></pre> <p>executing the script like in this example doesn't give any errors:</p> <pre><code>insertar_solucion = 'document.getElementById(&quot;g-recaptcha-response&quot;).innerHTML=&quot;' + respuesta_solver + '&quot;;' </code></pre> <p>So I suspect it's a problem with added (&quot;) and (') symbols</p> <p>This is the result I want, from this <a href=""https://i.stack.imgur.com/5QiGC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5QiGC.png"" alt=""enter image description here"" /></a></p> <p>To this: <a href=""https://i.stack.imgur.com/512Gx.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/512Gx.png"" alt=""enter image description here"" /></a></p>"	2021-05-21 15:37:50.273 UTC	67640238	"<p>There is no method <code>execute</code> it is <code>execute_script</code> instead.</p> <p>You could do probably something like this :</p> <pre><code>element = driver.find_element_by_id(&quot;g-recaptcha-response&quot;) driver.execute_script(&quot;yout JS stuff here with element[0]&quot;, element) </code></pre> <p><strong>Udpate 1:</strong></p> <p>You can probably break down the strings like this :</p> <pre><code>element = driver.find_element_by_id(&quot;g-recaptcha-response&quot;) inner_html = element.get_attribute('innerHTML') final_str = inner_html + value; </code></pre>"			2021-05-21 15:55:04.093 UTC
67640775	python|django|parsing|django-templates|templatetags	How to use array from python to javascript? Django	"<p>Before you say its duplicate !! I know how to parse by using dump() in views, but right now I want to receive an array of dictionaries from a custom template tag to JavaScript.</p> <p>This is in my custom_template.py</p> <pre><code>@register.simple_tag(takes_context = True) def messageRequest(context):     request = context['request']     messageData = Message.objects.all()     jsMessageData = []     if 'user' in request.COOKIES:         currentUser = request.COOKIES.get('user')     i = 0     for i in range(messageData):         if messageData[i].receiver == currentUser:             jsMessageData.append(messageData[i])         if messageData[i].sender == currentUser:             jsMessageData.append(messageData[i])         i += 1      print(jsMessageData)     return dumps(jsMessageData) </code></pre> <p>For my template index.html I want to use it in JavaScript to display the messages- I tried this</p> <pre><code>messageData = Json.parse(&quot;{% messageRequest %}&quot;);  // i want to store it as array // throws error &quot;'QuerySet' object cannot be interpreted as an integer&quot; when looping through it </code></pre> <p>also,</p> <pre><code>messageData = Json.parse(&quot;{% messageRequest|escapejs %}&quot;); // i read this somewhere and it works fine when array is passed through render request but here it gives error as it considers escapejs as part of block tag. </code></pre> <p>Any help is appreciated, I am sort of beginner so please try to give comprehensive explanation an example will be really helpful.</p> <p>Edit: This is my model-</p> <pre><code>class Message(models.Model):     sender = models.CharField(max_length=100)     receiver = models.CharField(max_length=100)     message = models.CharField(max_length=100)     time = models.CharField(max_length=100, null=True)     def __str__(self):         return (self.sender + '-' + self.receiver) </code></pre> <p>I have progressed in a few things you can check the question <a href=""https://stackoverflow.com/questions/67656267/how-to-convert-a-array-of-dictionaries-in-form-of-string-into-an-array-javascrip?noredirect=1#comment119585311_67656267"">here</a></p>"	2021-05-21 16:37:00.753 UTC	67642119	"<pre class=""lang-py prettyprint-override""><code>@register.simple_tag(takes_context = True) def messageRequest(context):     request = context['request']     if 'user' in request.COOKIES:         currentUser = request.COOKIES.get('user')     messageData = [Message.objects.filter(sender=currentUser).values()]     return messageData </code></pre> <p>Also you can use <code>@login_required</code> decorator to allow only logged in users to access the view, and then you can access the <code>current_user = request.user</code></p> <p>In you template you should add</p> <pre><code>message_data = {{ message_data | safe }} </code></pre> <p>You have to pass <code>message_data</code> in the context of your view os that it can be accessed in the template.</p> <p>You can perform operations like filter etc. using vanilla javascript or using Jquery.</p>"			2021-05-21 18:20:31.033 UTC
67646269	javascript|python	Javascript dot and bracket vs python bracket notations for accessing elements in nested arrays?	"<p>I was wondering on why Python syntax for accessing elements within a list nested in a dictionary doesn't work in JavaScript.</p> <p>For example if we have the <code>myStorage</code> dictionary/object. And I want to access the element <code>&quot;maps&quot;</code>.</p> <pre><code>var myStorage = {   &quot;car&quot;: {     &quot;inside&quot;: {       &quot;glove box&quot;: &quot;maps&quot;,       &quot;passenger seat&quot;: &quot;crumbs&quot;      },     &quot;outside&quot;: {       &quot;trunk&quot;: &quot;jack&quot;     }   } }; </code></pre> <p>Why does the Python style command below not work in JavaScript even though it works in Python?</p> <pre><code>myStorage[&quot;car&quot;[&quot;inside&quot;[&quot;glove box&quot;]]]; </code></pre> <p>But the dot and bracket notation in javascript works.</p> <pre><code>myStorage.car.inside[&quot;glove box&quot;]; </code></pre>"	2021-05-22 05:00:41.037 UTC	67654684	"<p>As mentioned in the comments, these are two different languages. The syntax for C vs C++ is also from some part similar as well but it can and will behave differently if you don't know what it does in the background. Same for other languages. Syntax is just set of rules for a programmer to follow so the &quot;machine&quot; be it VM (byte or different), compiler or directly CPU can make use of it somehow.</p> <p>If you start abstracting from the lowest part i.e. CPU instructions you get to the low-level languages up to high/higher/scripting and through the various abstractions even though the syntax might be similar or even the same (Python / Ruby / Haskell) the engine that makes use of the code will behave differently. Learning the syntax is only one of the steps if you want to code in Python and in JS at the &quot;same&quot; time.</p> <p>The dot-access in Python is used for <code>getattr()</code> in the background and if such attribute is missing, you'll get an <code>AttributeError</code> raised. There's no pre-defined value to be returned because Python forces a programmer to be explicit in cases when it matters.</p> <p>For JavaScript, on the other hand, there is a default value if the attribute is missing i.e. you don't get an error, but the default <code>undefined</code>.</p> <p>The indexing/key-access however can be utilized when using Python's <code>__dict__</code> attribute (<code>thing.__dict__[key]</code>) or <code>vars(object)[key]</code>. By that you can get closer to JS rules such as: <code>vars(object).get(key, None)</code>, however some objects don't have <code>__dict__</code> (such as C/C++/Cython extensions when written so), therefore in that case you'd need to check also for <code>__slots__</code> attribute:</p> <pre><code>def js_access(obj, key, default=None):     if hasattr(obj, &quot;__dict__&quot;):         return getattr(obj, key, default)     elif hasattr(obj, &quot;__slots__&quot;):         ...     elif &lt;other cases&gt;:         ... </code></pre> <p>Same/similar syntax, different rules for execution.</p>"			2021-05-22 22:28:02.327 UTC
67649311	javascript|python|bots|recaptcha|2captcha	How to find a varible html element executing javascript in python	"<p>I'm trying to use 2Captcha service to solve an h captcha V2.</p> <p>Works like this:</p> <ol> <li>you get a value to solve the captcha</li> <li>Then you find a textarea element in the HTML code to insert that value (here's my problem)</li> <li>you insert the value in that element</li> <li>You press submit button and the captcha is solved</li> </ol> <p>First I'm going to present a working example, then I'll present where I have the problem.</p> <p>This is the HTML code to find and insert the obtained value:</p> <pre><code>textarea id=&quot;h-captcha-response&quot; name=&quot;h-captcha-response&quot; style=&quot;display: none;&quot;&gt;&lt;/textarea&gt; </code></pre> <p>This is the python code used to insert the value:</p> <pre><code>value = get_value() insert_solution = 'document.getElementById(&quot;h-captcha-response&quot;).innerHTML=&quot;' + value + '&quot;;' driver.execute_script(insert_solution) </code></pre> <p>What this exactly does is taking you from this: <a href=""https://i.stack.imgur.com/AD3YZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AD3YZ.png"" alt=""enter image description here"" /></a></p> <p>and this is the result: <a href=""https://i.stack.imgur.com/Ni2rk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ni2rk.png"" alt=""enter image description here"" /></a></p> <p>Finally you press the submit button and it's done. This example works</p> <p>This is my problem: In my case the HTML document has a variable ID, like this one:</p> <pre><code>&lt;textarea id=&quot;h-captcha-response-0tesbrpxsk8&quot; name=&quot;h-captcha-response&quot; style=&quot;display: none;&quot;&gt;&lt;/textarea&gt; </code></pre> <p>Notice that the id has an alphanumerical part (0tesbrpxsk8) that always changes making it more difficult to select.</p> <p>I tried to find some regular expression to use inside of <code>document.getElementById()</code> With no success</p> <p>I also tried to use:</p> <pre><code>document.getElementByTagName(&quot;textarea&quot;).innerHTML=&quot;..... </code></pre> <p>I'm stucked here and tried other approaches with no success because I probably because I don't implement well those solutions or they just don't work.</p> <p>I'll appreciate some insights, thanks</p>"	2021-05-22 12:11:20.017 UTC	67665640	"<p>This will fill out all of those (recaptcha / hcaptcha):</p> <pre><code>driver.execute_script('''   let [captcha] = arguments   [...document.querySelectorAll('[name=&quot;h-captcha-response&quot;],[name=&quot;g-recaptcha-response&quot;]')].map(el =&gt; {     el.innerHTML = captcha   }) ''', value) </code></pre>"			2021-05-24 01:07:22.653 UTC
67649311	javascript|python|bots|recaptcha|2captcha	How to find a varible html element executing javascript in python	"<p>I'm trying to use 2Captcha service to solve an h captcha V2.</p> <p>Works like this:</p> <ol> <li>you get a value to solve the captcha</li> <li>Then you find a textarea element in the HTML code to insert that value (here's my problem)</li> <li>you insert the value in that element</li> <li>You press submit button and the captcha is solved</li> </ol> <p>First I'm going to present a working example, then I'll present where I have the problem.</p> <p>This is the HTML code to find and insert the obtained value:</p> <pre><code>textarea id=&quot;h-captcha-response&quot; name=&quot;h-captcha-response&quot; style=&quot;display: none;&quot;&gt;&lt;/textarea&gt; </code></pre> <p>This is the python code used to insert the value:</p> <pre><code>value = get_value() insert_solution = 'document.getElementById(&quot;h-captcha-response&quot;).innerHTML=&quot;' + value + '&quot;;' driver.execute_script(insert_solution) </code></pre> <p>What this exactly does is taking you from this: <a href=""https://i.stack.imgur.com/AD3YZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AD3YZ.png"" alt=""enter image description here"" /></a></p> <p>and this is the result: <a href=""https://i.stack.imgur.com/Ni2rk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ni2rk.png"" alt=""enter image description here"" /></a></p> <p>Finally you press the submit button and it's done. This example works</p> <p>This is my problem: In my case the HTML document has a variable ID, like this one:</p> <pre><code>&lt;textarea id=&quot;h-captcha-response-0tesbrpxsk8&quot; name=&quot;h-captcha-response&quot; style=&quot;display: none;&quot;&gt;&lt;/textarea&gt; </code></pre> <p>Notice that the id has an alphanumerical part (0tesbrpxsk8) that always changes making it more difficult to select.</p> <p>I tried to find some regular expression to use inside of <code>document.getElementById()</code> With no success</p> <p>I also tried to use:</p> <pre><code>document.getElementByTagName(&quot;textarea&quot;).innerHTML=&quot;..... </code></pre> <p>I'm stucked here and tried other approaches with no success because I probably because I don't implement well those solutions or they just don't work.</p> <p>I'll appreciate some insights, thanks</p>"	2021-05-22 12:11:20.017 UTC	67650230	"<p>Try this:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const textarea = document.querySelector('[id^=""h-captcha-response-""]') textarea.value = ""This is inside the textarea!""</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;textarea id=""h-captcha-response-0tesbrpxsk8"" name=""h-captcha-response""&gt;&lt;/textarea&gt;</code></pre> </div> </div> </p> <ul> <li>First of all: You set the value of an textarea with <code>textarea.value = &quot;some value&quot;</code></li> <li>You should use <code>document.querySelector()</code> to select elements. (You have much more abilities there)</li> <li>You can select id starting with, with this query: <code>[id^=&quot;start&quot;]</code></li> </ul>"			2021-05-22 13:48:47.9 UTC
67657350	javascript|python	How to import python's loop data into javascript	"<p>I've a python file reads serial data from arduino which is generated in loop.</p> <pre><code>#!/usr/bin/python import serial ser = serial.Serial('/dev/ttyACM0', 9600) while True:   print(ser.readline()) ser.close() </code></pre> <p>How to import these data by Javascript?</p> <p>I used xmlhttprequest to open the python file in a loop but it's re-opening the python file rather than streaming the serial data.. Can I loop the xmlhttprequest response to retrieve the data?</p> <p>Is there anyway to retrieve the python's data in javascript?</p>"	2021-05-23 07:41:12.637 UTC	67657449	"<p>Try this then.</p> <p>This will write a file in python</p> <pre><code>f = open(&quot;sensor.txt&quot;, &quot;a&quot;) while True:   f.write(ser.readline()) ser.close() f.close() </code></pre> <p>I am guessing you are using some HTML with JS, so try this to read it in JS.</p> <pre><code>&lt;body&gt;     &lt;input type=&quot;file&quot; name=&quot;inputfile&quot;             id=&quot;inputfile&quot;&gt;          &lt;script&gt;         document.getElementById('inputfile')             .addEventListener('change', function() {                            var fr=new FileReader();             fr.onload=function(){                 document.getElementById('output')                         .textContent=fr.result;             }                            fr.readAsText(this.files[0]);         })     &lt;/script&gt; &lt;/body&gt; </code></pre>"			2021-05-23 07:53:34.11 UTC
67710829	javascript|arrays|string|join|formatting	Is there a elegant javascript equivalent of this python code using formatting?	"<p>Is there a javascript equivalent of this python code? I know you can use ``, but how can you combine it with ... spread operator?</p> <pre class=""lang-py prettyprint-override""><code>'{}{}{} {}{}{}-{}{}{}{}'.format(*array) </code></pre> <p>array is list of length 10 of numbers, the result expected is something like</p> <pre class=""lang-py prettyprint-override""><code>'123 456-7890' </code></pre>"	2021-05-26 18:33:07.657 UTC	67710913	"<p>You could replace by shifting the array values.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const     format = (pattern, [...array]) =&gt;         pattern.replace(/\{\}/g, Array.prototype.shift.bind(array));  console.log(format('{}{}{} {}{}{}-{}{}{}{}', [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]));</code></pre> </div> </div> </p>"			2021-05-26 18:39:00.39 UTC
67712286	python	Python datetime.fromisoformat() rejects JavaScript Date/Time string: ValueError: Invalid isoformat string	<p>Why does the following JS date string fail? It's passed from a JS Date object to a Python backend.</p> <pre><code>2021-12-31T05:00:00.000Z   mydate = datetime.fromisoformat(form['expirationDate']) </code></pre> <p>Error:</p> <pre><code>ValueError: Invalid isoformat string: '2021-12-31T05:00:00.000Z' </code></pre>	2021-05-26 20:28:10.637 UTC	67712346	"<p>As per <a href=""https://docs.python.org/3/library/datetime.html#datetime.date.fromisoformat"" rel=""nofollow noreferrer"">documentation</a> for <code>fromisoformat()</code>,  it seems that 'Z' <em>(which stands for UTC)</em> is not recognised as a valid offset. Replacing it with <code>+00:00</code> seems to work.</p> <p>Other time zones would not be an issue as they are already automatically represented with a numerical offset. eg: <code>+05:30</code> for IST.</p>"			2021-05-26 20:33:30.127 UTC
67712286	python	Python datetime.fromisoformat() rejects JavaScript Date/Time string: ValueError: Invalid isoformat string	<p>Why does the following JS date string fail? It's passed from a JS Date object to a Python backend.</p> <pre><code>2021-12-31T05:00:00.000Z   mydate = datetime.fromisoformat(form['expirationDate']) </code></pre> <p>Error:</p> <pre><code>ValueError: Invalid isoformat string: '2021-12-31T05:00:00.000Z' </code></pre>	2021-05-26 20:28:10.637 UTC	67712502	<p>The problem is the <code>z</code> at the end of your string.</p> <pre><code>from datetime import datetime  date = '2021-12-31T05:00:00.000'  t = datetime.fromisoformat(date) print(t) </code></pre>			2021-05-26 20:46:26.71 UTC
67712286	python	Python datetime.fromisoformat() rejects JavaScript Date/Time string: ValueError: Invalid isoformat string	<p>Why does the following JS date string fail? It's passed from a JS Date object to a Python backend.</p> <pre><code>2021-12-31T05:00:00.000Z   mydate = datetime.fromisoformat(form['expirationDate']) </code></pre> <p>Error:</p> <pre><code>ValueError: Invalid isoformat string: '2021-12-31T05:00:00.000Z' </code></pre>	2021-05-26 20:28:10.637 UTC	67712506	"<p>It fails because of the &quot;Z&quot; suffix at the end. If you replace it with &quot;+00:00&quot;, you'll be in business.</p> <pre><code>Python 3.9.5 (default, May 24 2021, 12:50:35)  [GCC 11.1.0] on linux Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt; from datetime import datetime &gt;&gt;&gt; def fromisoformat(s): ...   return datetime.fromisoformat(s.rstrip(&quot;Z&quot;) + &quot;+00:00&quot;) ...  &gt;&gt;&gt; fromisoformat(&quot;2021-12-31T05:00:00.000Z&quot;) datetime.datetime(2021, 12, 31, 5, 0, tzinfo=datetime.timezone.utc) &gt;&gt;&gt;  </code></pre>"			2021-05-26 20:47:06.747 UTC
67712286	python	Python datetime.fromisoformat() rejects JavaScript Date/Time string: ValueError: Invalid isoformat string	<p>Why does the following JS date string fail? It's passed from a JS Date object to a Python backend.</p> <pre><code>2021-12-31T05:00:00.000Z   mydate = datetime.fromisoformat(form['expirationDate']) </code></pre> <p>Error:</p> <pre><code>ValueError: Invalid isoformat string: '2021-12-31T05:00:00.000Z' </code></pre>	2021-05-26 20:28:10.637 UTC	67712482	"<p>As per <a href=""https://docs.python.org/3/library/datetime.html#datetime.date.fromisoformat"" rel=""nofollow noreferrer"">documentation</a>, <code>date.fromisoformat()</code> only supports the <code>YYYY-MM-DD</code> format .</p> <p>I believe the easiest way to solve the problem would be to use <code>dateutil.parser.isoparse()</code>.</p> <p>For example:</p> <pre><code>import dateutil.parser mydate = dateutil.parser.isoparse('2021-12-31T05:00:00.000Z') print(mydate)  </code></pre> <p>will correctly print <code>2021-12-31 05:00:00+00:00</code></p> <p>If you are bound to using <code>datetime</code>, take a look at <a href=""https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime"" rel=""nofollow noreferrer"">strptime</a> and/or <a href=""https://stackoverflow.com/questions/969285/how-do-i-translate-an-iso-8601-datetime-string-into-a-python-datetime-object"">this question</a></p> <p>EDIT: my bad, I confused datetime with date, sooo.. as others pointed out you could remove the trailing <code>Z</code> and call it a day</p>"			2021-05-26 20:45:05.077 UTC
67731617	javascript|python|ajax|flask|server	How to communicate between python server and javascript client using AJAX and Flask?	"<p>I am following <a href=""https://www.makeuseof.com/tag/python-javascript-communicate-json/"" rel=""nofollow noreferrer"">this</a> tutorial to communicate between python and javascript. I am a beginner to this so I dont understand what exactly I am doing wrong.</p> <p>Following is my code in index.html which sends a POST request to the python server side when the button is clicked:</p> <pre><code>&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; // setup some JSON to use var cars = [     { &quot;make&quot;:&quot;Porsche&quot;, &quot;model&quot;:&quot;911S&quot; },     { &quot;make&quot;:&quot;Mercedes-Benz&quot;, &quot;model&quot;:&quot;220SE&quot; },     { &quot;make&quot;:&quot;Jaguar&quot;,&quot;model&quot;: &quot;Mark VII&quot; } ]; window.onload = function() {     // setup the button click     document.getElementById(&quot;theButton&quot;).onclick = function() {         doWork()     }; } function doWork() {     console.log(&quot;posting data&quot;)     // ajax the JSON to the server     $.post(&quot;receiver&quot;, cars, function(){     });     // stop link reloading the page     event.preventDefault(); } &lt;/script&gt; This will send data using AJAX to Python:&lt;br /&gt;&lt;br /&gt; &lt;button type=&quot;button&quot; id=&quot;theButton&quot;&gt;Click Me!&lt;/button&gt; </code></pre> <p>And this is my code on the python side:</p> <pre><code>import sys from flask import Flask, render_template, request, redirect, Response import random, json  app = Flask(__name__)  @app.route('/') def output():     # serve index template     return render_template('index.html', name='Joe')  @app.route('/receiver', methods = ['GET', 'POST']) def worker():     print(&quot;got some data&quot;)     # read json + reply     data = request.get_json()     result = ''     for item in data:         # loop over every row         result += str(item['make']) + ''     return result  if __name__ == '__main__':     app.run() </code></pre> <p>So, when I press the button in the index.html file, the <a href=""https://www.makeuseof.com/tag/python-javascript-communicate-json/"" rel=""nofollow noreferrer"">tutorial</a> says that I will be able to see a server response in the web browser. But even though my server is running, this is what I see in the network tab of developer tools for index.html in the Firefox web browser:</p> <p><a href=""https://i.stack.imgur.com/iWQed.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iWQed.png"" alt=""enter image description here"" /></a></p> <p>I don't understand what I am doing wrong and how I am supposed to see the communication between the client and server. Any help would be appreciated</p>"	2021-05-28 01:02:04.293 UTC	67732220	"<p>Your request is not sending JSON, you have to stringify the cars object to send it as JSON.</p> <pre><code>function doWork() {     console.log(&quot;posting data&quot;)     // ajax the JSON to the server     $.post(&quot;receiver&quot;, JSON.stringify(cars), function(){     }, 'application/json');     // stop link reloading the page     event.preventDefault(); } </code></pre> <p>I also set the content type to <code>application/json</code> as this is required by <code>request.get_json()</code>.</p> <p>For your network tab issue, you have <code>JS</code> selected so you would not see ajax requests only javascript files. You have to have <code>XHR</code> selected or <code>All</code>.</p>"			2021-05-28 02:46:23.873 UTC
67760409	javascript|python|selenium|webautomation	"Click on JavaScript Type Button ""Like"" Using Selenium and Python"	"<p>I'm trying to click on like button. I have tried &quot;find_element_by_xpath()&quot; but it didn't worked for me. Little confused how to do so</p> <p>Here is the Inspects Complete Class Code:</p> <pre><code>    &lt;div class=&quot;grid&quot;&gt;                &lt;div class=&quot;user_hover_panel&quot; style=&quot;width:100%;&quot;&gt;                   &lt;ul class=&quot;list--horizontal float--left post-icons-list ng-isolate-scope&quot; wt-on-outside-click=&quot;$ctrl.emojiOutSideClick($ctrl.postData.id)&quot; wt-on-outside-click-enabled=&quot;$ctrl.toggleEmoji&quot;&gt;                      &lt;li ng-class=&quot;{'selected': $ctrl.postData.is_liked, 'liked-desk' : true ,                         'like-border-right' : ($ctrl.postData.privacyType == 'Personal' || $ctrl.postData.privacyType == 'Pro' || $ctrl.postData.privacyType == 'All' || $ctrl.postData.privacyType == 'Public'),                         'like-border-none' : ($ctrl.postData.privacyType == 'Groups' || $ctrl.postData.privacyType == 'Staff' || $ctrl.postData.privacyType == 'Private')}&quot; class=&quot;liked-desk like-border-right&quot;&gt;                         &lt;a ng-mouseover=&quot;$ctrl.userContext.id != undefined &amp;amp;&amp;amp; !$ctrl.isMobile &amp;amp;&amp;amp; $ctrl.showLikeEmoji($ctrl.postData.id)&quot; ng-mouseleave=&quot;$ctrl.hideLikeEmoji()&quot; ng-click=&quot;!$ctrl.isMobile ? $ctrl.likeMedia($ctrl.postData.id, $root.context.id, $ctrl.postData.mediaTypeTagging, $ctrl.postData, true):$ctrl.toggleReaction($ctrl.postData.id)&quot; class=&quot;cursor--pointer &quot; data-own-entry=&quot;false&quot;&gt;             &lt;!-- ngIf: !$ctrl.postData.is_liked --&gt;    &lt;i ng-if=&quot;!$ctrl.postData.is_liked&quot; class=&quot;icon icon-post-like private-link ng-scope&quot;&gt;Like&lt;/i&gt;            &lt;!-- end ngIf: !$ctrl.postData.is_liked --&gt;                             &lt;!-- ngIf: $ctrl.postData.is_liked --&gt;                         &lt;/a&gt;                      &lt;/li&gt;                      &lt;li class=&quot;comment-desk&quot; ng-click=&quot;$ctrl.togglePostCommentBox()&quot;&gt;                         &lt;a href=&quot;javascript:&quot; data-own-entry=&quot;false&quot;&gt;                            &lt;i class=&quot;icon icon-post-cmt private-link&quot;&gt;Comment&lt;/i&gt;                         &lt;/a&gt;                      &lt;/li&gt;                      &lt;!-- ngIf: !$ctrl.isModalView &amp;&amp; !$ctrl.isPostAsComment --&gt;&lt;li ng-if=&quot;!$ctrl.isModalView &amp;amp;&amp;amp; !$ctrl.isPostAsComment&quot; ng-class=&quot;{                      'shared-desk' : true}&quot; ng-hide=&quot;$ctrl.postData.privacyType != 'Public'&quot; class=&quot;ng-scope shared-desk&quot;&gt;                         &lt;!-- ngIf: $ctrl.postData.mediaTypeTagging != 'photos' &amp;&amp; $ctrl.checkBannerOrProfile(false) --&gt;&lt;a data-ng-if=&quot;$ctrl.postData.mediaTypeTagging != 'photos' &amp;amp;&amp;amp; $ctrl.checkBannerOrProfile(false)&quot; href=&quot;javascript:&quot; ng-click=&quot;$ctrl.shareMedia('news', $ctrl.postData.post_share_id ? $ctrl.postData.post_share_id : $ctrl.postData.post_id, $ctrl.postData.privacyType)&quot; class=&quot;&quot; data-own-entry=&quot;false&quot;&gt;                         &lt;i class=&quot;icon icon-post-share private-link&quot;&gt;Share&lt;/i&gt;                         &lt;/a&gt;&lt;!-- end ngIf: $ctrl.postData.mediaTypeTagging != 'photos' &amp;&amp; $ctrl.checkBannerOrProfile(false) --&gt;                         &lt;!-- ngIf: $ctrl.postData.mediaTypeTagging !='news' &amp;&amp; $ctrl.postData.mediaTypeTagging == 'photos' &amp;&amp; $ctrl.postData.id != undefined &amp;&amp; $ctrl.checkBannerOrProfile(false) --&gt;                      &lt;/li&gt;&lt;!-- end ngIf: !$ctrl.isModalView &amp;&amp; !$ctrl.isPostAsComment --&gt;                   &lt;/ul&gt;                   &lt;!-- ngIf: $ctrl.userContext.id != undefined  &amp;&amp; $ctrl.toggleEmoji &amp;&amp; $ctrl.postEmojiId == $ctrl.postData.id --&gt;                &lt;/div&gt;             &lt;/div&gt; </code></pre> <p>I want to Click on :</p> <pre><code>         &lt;!-- ngIf: !$ctrl.postData.is_liked --&gt; &lt;i ng-if=&quot;!$ctrl.postData.is_liked&quot; class=&quot;icon icon-post-like private-link ng-scope&quot;&gt;Like&lt;/i&gt;&lt;!-- end ngIf: !$ctrl.postData.is_liked --&gt;            &lt;!-- ngIf: $ctrl.postData.is_liked --&gt;  </code></pre> <p>Also I'm not sure if I'm clicking on right element! I just want to click on like button. I'm new with python and selenium and do not know how to do this.</p> <p>Here is my code what I'm doing !</p> <pre><code>from selenium import webdriver import pyautogui as py  import time  PATH = &quot;C:\Program Files (x86)\chromedriver_win32\chromedriver.exe&quot; driver = webdriver.Chrome(PATH)  driver.get(&quot;https://www.webtalk.co/&quot;) time.sleep(3) driver.maximize_window()  like_button = driver.find_element_by_xpath(&quot;//*[@id=&quot;30247788&quot;]/div[5]/div/div/ul/li[1]/a/i&quot;) like_button.click() </code></pre> <p>I got this error !</p> <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id='30247788']/div[5]/div/div/ul/li[1]/a/i&quot;}   (Session info: chrome=90.0.4430.212) </code></pre>"	2021-05-30 11:04:20.037 UTC	67761017	"<p>The most sustainable XPath for the element would be something like this:</p> <pre><code>//i[contains(text(),'Like')] </code></pre> <p>This XPath selects all the <code>i</code> tags containing the word <code>Like</code>. You could also complicate it a bit (for e.g. add class selectors) if you are not sure this XPath would return only one element</p> <p><strong>Tip</strong>: try to select elements on the website using your browser first, rather than directly through selenium. See <a href=""https://stackoverflow.com/questions/5665307/how-to-search-dom-elements-using-xpath-or-css-selectors-in-chrome-developer-tool"">this</a></p>"			2021-05-30 12:14:10.777 UTC
67761641	python	"dict spread in python 3 (ES6 javascript like , ... notation)"	"<p>How do you spread a dict in python?</p> <p>The ES6 JS code I need to replicate is:</p> <pre class=""lang-js prettyprint-override""><code>const geo = {'lat': 123, 'lon': 456}; const time = &quot;2021-05-30T13:18:03+00:00&quot;  const spreadedObject = {...geo, time: time}  console.log(spreadedObject); </code></pre> <p><code>{ lat: 123, lon: 456, time: '2021-05-30T13:18:03+00:00' }</code></p> <p>There must be something like spread in python, right?</p>"	2021-05-30 13:21:16.08 UTC	67761689	"<p>... of course I found the answer right after posting the question, so I share it for all of you</p> <pre class=""lang-py prettyprint-override""><code>geo = {&quot;lat&quot;:123,&quot;lon&quot;:456} time = &quot;2021-05-30T13:18:03+00:00&quot; b = {**geo, &quot;time&quot;: time}  print(b) </code></pre> <p><code>{'lat': 123, 'lon': 456, 'time': '2021-05-30T13:18:03+00:00'}</code></p>"			2021-05-30 13:25:32.87 UTC
67782297	javascript|python	How to pass Python Output to Javascript	<p>I'm relatively familiar with Python but I am new to JavaScript and Web Development.</p> <p>I am trying to pass data received from Python which uses an API (more specifically SpotifyAPI) to my JavaScript file.</p> <p>The Python file will retrieve the data from the API and assign the data to the variable as an integer. I would then like to use the integer value in my Javascript code to change a Javascript canvas I am working on.</p> <p>I have already tried using JSON but with no success. Any advice would be appreciated.</p>	2021-06-01 03:17:14.627 UTC	67782498	"<p>Best thing to do here would be to learn how http calls, Ajax works in JS and then use javascript to call the API and parse the response.</p> <p>But, if you have to use python, the most clean and simple way to do that would be by wrapping Spotify API with API written in python and then calling that API from your javascript program.</p> <p>Example:</p> <p>Python program calling Spotify API (pyspotify.py)</p> <pre><code>import requests def callSpotify(api_url, *params):     response = requests.get() / requests.post()          return response.text </code></pre> <p>Python flask API to pass the response value to javascript function</p> <pre><code>from flask import Flask, jsonify import pyspotify  app = Flask(__name__)  api_url = &quot;&quot; # Spotify api url here  @app.route(&quot;/getspotifydata) def py_spotify():     # prep and pass all params req     int_val = pyspotify.callSpotify(api_url, token, *params)     return jsonify({'int_value': int_val}  </code></pre> <p>Now a javascript fetch to fetch the Python API to get the integer</p> <pre><code>fetch('http://localhost:port/getspotifydata') .then(response =&gt; response.json()) .then(data =&gt; console.log(data)); </code></pre> <p>Refer - <a href=""https://pythonise.com/series/learning-flask/flask-and-fetch-api"" rel=""nofollow noreferrer"">https://pythonise.com/series/learning-flask/flask-and-fetch-api</a></p>"			2021-06-01 03:52:14.973 UTC
67799058	javascript|python|cookies|third-party-cookies	How to allow all third party in chrome using javascript or python?	<p>Is it possible to do following operation using javascript or python?</p> <p>Enter this in url box. <code>chrome://settings/cookies</code></p> <p>In cookies and other site data -&gt; General settings -&gt; Allow all cookies</p>	2021-06-02 04:46:54.66 UTC	67800486	<pre><code>Ypu can do something like this. Just need to find out exact xapth element. from selenium import webdriver import time driver = webdriver.Chrome(executable_path='C:\\temp\\chromedriver.exe') driver.get('chrome://settings/cookies') time.sleep(3) driver.find_element_by_xpath(&quot;&lt;xpath locator&gt;&quot;).click() </code></pre>			2021-06-02 07:11:53.55 UTC
67814222	javascript|python|html|json	How would I parse JavaScript to JSON in python?	"<p>I have a html page which contains the entire product list for a set of items. Due to the size of the page I cannot upload it. Unfortunately, the products are located within the script section, more specifically into one variable.</p> <p>At first I thought this was plain JSON, however, after multiple attempts to decode the response with json.loads and pyjson5.loads I figured it was more or less the syntax of the language.</p> <p>Here is a snippet of the code:</p> <pre><code>window.INIT_STATE = 'configuration': {'navigationData': {'catalog': {'id': 1, 'active': 1, 'tenant': 'pyStore', 'type': 'catalog', 'name': 'Initial catalog', 'version': '2021-06-02T16:26:56.446Z', 'nav':  </code></pre> <p>I'm still not completely sure if this JavaScript or JSON but I have no clue on how to parse this data as there always seems to be an issue with either the delimiter or quotation marks.</p> <p>Are there any valid functions that could at least help me identify this code/parse it?</p>"	2021-06-03 01:11:49.527 UTC	67814324	"<p>What you have there is an object that can be serialized into JSON data, but it's not JSON itself. Let me explain the difference.</p> <p>The following snippets are in Javascript.</p> <p>This is an example of a Javascript object that can be serialized into JSON</p> <pre class=""lang-js prettyprint-override""><code>{ x: 2 } </code></pre> <p>The following string is an example of JSON-formatted data. (Note that the JSON data itself is just a string that's formatted in a very specific way. JSON is always just a string, just like XML)</p> <pre class=""lang-js prettyprint-override""><code>'{&quot;x&quot;:2}' </code></pre> <p>The following is an example of serializing a Javascript object into JSON format (i.e. we're turning an object into a JSON string).</p> <pre class=""lang-js prettyprint-override""><code>&gt; JSON.stringify({ x: 2 }) '{&quot;x&quot;:2}' </code></pre> <p>See the difference? You'll find many people online calling JSON-serializable data &quot;JSON&quot; (which is fine, sometimes people get lazy with their speech, or don't fully understand), but it's technically not JSON, it's just data that can be turned into JSON if wanted (an object with functions, for example, is not JSON serializable - you really can't encode functions into a string).</p> <p>With that said, what you've got there is just a snippet of Javascript, which, if executed will put a JSON-serializable object into a variable. <em>however</em>, this source code itself does not contain properly formatted JSON data (for example, the quotes would have to be double quotes - single quotes aren't allowed in JSON). Therefore, no JSON parsing utility will be able to operate on that.</p> <p>Unfortunately, You're going to have to parse this data by hand, which can take a bit of work to do. How much work depends on your needs. If all you're trying to do is extract one specific property from that data, then it may be possible to just do a regex search for the appropriate key, and extract the value (though, you have to <em>know</em> that the key you're looking for doesn't appear anywhere else in the object).</p> <p><strong>Update:</strong></p> <p>If all you're wanting to do is extract the JSON data and save it off somewhere else, then maybe it would be better to do it in Javascript instead of python, as what you're dealing with is Javascript source code. Here's what you can do.</p> <p>Edit the HTML file and take out everything but this JSON-serializable structure, change <code>window.INIT_STATE</code> to just <code>const INIT_STATE</code>, and at the end of the file, add this:</p> <pre class=""lang-js prettyprint-override""><code>const INIT_STATE = ...your giant JSON-serializable structure...  require('fs').writeFileSync('./output.json', JSON.stringify(INIT_STATE), 'utf-8') </code></pre> <p>Rename your html file to have a &quot;.js&quot; file extension instead.</p> <p>You'll need node installed to run this. Once you've installed node, run your file using <code>node yourFile.js</code>. It should create a file called &quot;output.json&quot; in your same directory.</p>"			2021-06-03 01:28:37.353 UTC
67823496	javascript|python|child-process|stderr|spawn	I'm getting an error when using spawn to run python in my javascript code	"<p>I am running the pyhyon script in javascipt, but I am getting an error.</p> <p>Javascript code:</p> <pre><code>  const { spawn } = require(&quot;child_process&quot;);    const python = spawn(     &quot;C:/Users/Murat/AppData/Local/Programs/Python/Python39/python.exe&quot;,     [&quot;../pythonScript/main.py&quot;]   );    python.stdout.on(&quot;data&quot;, function (data) {     console.log(&quot;It worked&quot;);           });    python.stderr.on(&quot;data&quot;, (data) =&gt; {             console.error(&quot;stderr: &quot;, data.toString());          });    </code></pre> <p>Python code:</p> <pre><code>import pandas as pd  dataset = pd.read_csv(&quot;Breast.csv&quot;) print(dataset.shape) </code></pre> <p>Error: <a href=""https://i.stack.imgur.com/WPbqu.png"" rel=""nofollow noreferrer"">enter image description here</a></p>"	2021-06-03 14:37:06.497 UTC	67844053	<p>The csv file you're trying to access either doesn't exist or your current working  directory is not set correctly. Try putting a <code>chdir(&quot;Path to folder with Breast.csv&quot;);</code></p>			2021-06-04 21:15:11.68 UTC
67854173	javascript|python	Using a python script by calling it through javascript	"<p>so I got this python script that removes duplicated files and sort them into folders corresponding to their extension . what I want to do is when someone uploads a folder to the website than clicks a button the python script is called and starts , it creates a folder to store the sorted files for users to later download those files.</p>"	2021-06-05 21:50:07.197 UTC	67854236	"<p>Since javascript is client side, you'd need to set up some sort of backend that can handle the data sent by the user and then sorts it. moustafa linked a very good explanation, I reccomend reading that and you should be sorted.</p>"			2021-06-05 22:00:20.45 UTC
67854543	python|web-scraping|beautifulsoup	Get json inside a javascript var and inside jscript tag Python BS4	"<p>I need to get the json that its inside of a java script var, and that var it inside a script tag like this</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt; </code></pre> <p>But its not the only <strong>type=&quot;text/javascript&quot;</strong> in the HTML, the tag its the netx:</p> <pre><code>    &lt;script type=&quot;text/javascript&quot;&gt;         var products = '{&quot;id&quot;:&quot;000000000000193758&quot;,&quot;name&quot;:&quot;FZ1292&quot;,&quot;estilo&quot;:&quot;FZ1292&quot;,&quot;date&quot;:&quot;44348&quot;,&quot;month&quot;:&quot;JUNIO&quot;,&quot;day&quot;:&quot;1&quot;,&quot;regster&quot;:&quot;&quot;,&quot;price&quot;:&quot;3499&quot;,&quot;name2&quot;:&quot;McDonalds x Harden Vol. 5 &quot;,&quot;description&quot;:&quot;DetÃ©n tu hambre por jugar bÃ¡squetbol &quot;,&quot;image&quot;:&quot;www.somesite.com&quot;:&quot;ADIDAS&quot;,&quot;realdate&quot;:&quot;06-01-2021&quot;}   &lt;/script&gt; </code></pre> <p>I have tried the following:</p> <pre><code>script = soup.find_all('script', {'type': 'text/javascript'}) </code></pre> <p>But it brings all the matching tags, I don't know how to identify the specific tag, because it has no id</p>"	2021-06-05 22:59:27.68 UTC	67854572	"<p><code>beautifulsoup</code> cannot parse javascript, but you can use <code>re</code>/<code>json</code> module to parse the data. For example:</p> <pre class=""lang-py prettyprint-override""><code>import re import json  html_doc = &quot;&quot;&quot;     &lt;script type=&quot;text/javascript&quot;&gt;         var products = '{&quot;id&quot;:&quot;000000000000193758&quot;,&quot;name&quot;:&quot;FZ1292&quot;,&quot;estilo&quot;:&quot;FZ1292&quot;,&quot;date&quot;:&quot;44348&quot;,&quot;month&quot;:&quot;JUNIO&quot;,&quot;day&quot;:&quot;1&quot;,&quot;regster&quot;:&quot;&quot;,&quot;price&quot;:&quot;3499&quot;,&quot;name2&quot;:&quot;McDonalds x Harden Vol. 5 &quot;,&quot;description&quot;:&quot;DetÃ©n tu hambre por jugar bÃ¡squetbol &quot;,&quot;image&quot;:&quot;www.somesite.com/ADIDAS&quot;,&quot;realdate&quot;:&quot;06-01-2021&quot;}' &lt;/script&gt; &quot;&quot;&quot;  products = re.search(r&quot;products = '(.*)'&quot;, html_doc).group(1) products = json.loads(products)  # pretty print the data: print(json.dumps(products, indent=4)) </code></pre> <p>Prints:</p> <pre class=""lang-json prettyprint-override""><code>{     &quot;id&quot;: &quot;000000000000193758&quot;,     &quot;name&quot;: &quot;FZ1292&quot;,     &quot;estilo&quot;: &quot;FZ1292&quot;,     &quot;date&quot;: &quot;44348&quot;,     &quot;month&quot;: &quot;JUNIO&quot;,     &quot;day&quot;: &quot;1&quot;,     &quot;regster&quot;: &quot;&quot;,     &quot;price&quot;: &quot;3499&quot;,     &quot;name2&quot;: &quot;McDonalds x Harden Vol. 5 &quot;,     &quot;description&quot;: &quot;Det\u00e9n tu hambre por jugar b\u00e1squetbol &quot;,     &quot;image&quot;: &quot;www.somesite.com/ADIDAS&quot;,     &quot;realdate&quot;: &quot;06-01-2021&quot; } </code></pre>"			2021-06-05 23:06:15.957 UTC
67866536	python|html|python-3.x|selenium|iframe	Python selenium get contents of a webpage added by javascript	"<p>I use an online music player called &quot;Netease Cloud Music&quot;, and I have multiple playlists in my account, they hold thousands of tracks and are very poorly organized and categorized and held duplicate entries, so I want to export them into an SQL table to organize them.</p> <p>I have found a way to view the playlists without using the client software, that is, clicking the share button on top of the playlist page and then click &quot;copy link&quot;.</p> <p>But opening the link in any browser other than the client, the playlist will be limited to 1000 tracks.</p> <p>But I have found a way to overcome it, I installed <a href=""https://www.tampermonkey.net/"" rel=""nofollow noreferrer"">Tampermonkey</a> and then installed <a href=""https://greasyfork.org/en/scripts/406054-%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%98%BE%E7%A4%BA%E5%AE%8C%E6%95%B4%E6%AD%8C%E5%8D%95"" rel=""nofollow noreferrer"">this script</a>.</p> <p>Now I can view full playlists in a browser.</p> <p>This is a <a href=""https://music.163.com/#/playlist?id=158624364&amp;userid=126762751"" rel=""nofollow noreferrer"">sample playlist</a>.</p> <p>The playlists look like this:</p> <p><a href=""https://i.stack.imgur.com/YivUN.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YivUN.jpg"" alt=""enter image description here"" /></a></p> <p>The first column holds the songtitle, the second column holds the duration, the third column holds the artist, and the last column holds the album.</p> <p>The text in the first, third and fourth columns are hyperlinks to the song, artist and album pages respectively.</p> <p>I don't know a thing about html but I managed to get its data structure.</p> <p>The thing we need is the table located at xpath <code>//table/tbody</code>, each row is a childnode of the table named tr(xpath <code>//table/tbody/tr</code>).</p> <p>this is a sample row:</p> <pre><code>&lt;td class=&quot;left&quot;&gt;     &lt;div class=&quot;hd &quot;&gt;&lt;span data-res-id=&quot;5221710&quot; data-res-type=&quot;18&quot; data-res-action=&quot;play&quot; data-res-from=&quot;13&quot; data-res-data=&quot;158624364&quot; class=&quot;ply &quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;1&lt;/span&gt;&lt;/div&gt; &lt;/td&gt; &lt;td&gt;     &lt;div class=&quot;f-cb&quot;&gt;         &lt;div class=&quot;tt&quot;&gt;             &lt;div class=&quot;ttc&quot;&gt;                 &lt;span class=&quot;txt&quot;&gt;                     &lt;a href=&quot;#/song?id=5221710&quot;&gt;&lt;b title=&quot;Axel F&quot;&gt;Axel F&lt;/b&gt;&lt;/a&gt;                                                           &lt;/span&gt;             &lt;/div&gt;         &lt;/div&gt;     &lt;/div&gt; &lt;/td&gt; &lt;td class=&quot; s-fc3&quot;&gt;     &lt;span class=&quot;u-dur candel&quot;&gt;03:00&lt;/span&gt;     &lt;div class=&quot;opt hshow&quot;&gt;         &lt;a class=&quot;u-icn u-icn-81 icn-add&quot; href=&quot;javascript:;&quot; title=&quot;æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨&quot; hidefocus=&quot;true&quot; data-res-type=&quot;18&quot; data-res-id=&quot;5221710&quot; data-res-action=&quot;addto&quot; data-res-from=&quot;13&quot; data-res-data=&quot;158624364&quot;&gt;&lt;/a&gt;         &lt;span data-res-id=&quot;5221710&quot; data-res-type=&quot;18&quot; data-res-action=&quot;fav&quot; class=&quot;icn icn-fav&quot; title=&quot;æ”¶è—&quot;&gt;&lt;/span&gt;         &lt;span data-res-id=&quot;5221710&quot; data-res-type=&quot;18&quot; data-res-action=&quot;share&quot; data-res-name=&quot;Greatest Hits Of The Millennium 80's Vol.2&quot; data-res-author=&quot;Harold Faltermeyer&quot; data-res-pic=&quot;https://p2.music.126.net/tOa6Tizqy755OZE7ITsw_g==/775155697626111.jpg&quot; class=&quot;icn icn-share&quot; title=&quot;åˆ†äº«&quot;&gt;åˆ†äº«&lt;/span&gt;         &lt;span data-res-id=&quot;5221710&quot; data-res-type=&quot;18&quot; data-res-action=&quot;download&quot; class=&quot;icn icn-dl&quot; title=&quot;ä¸‹è½½&quot;&gt;&lt;/span&gt;         &lt;span data-res-id=&quot;5221710&quot; data-res-type=&quot;18&quot; data-res-from=&quot;13&quot; data-res-data=&quot;158624364&quot; data-res-action=&quot;delete&quot; class=&quot;icn icn-del&quot; title=&quot;åˆ é™¤&quot;&gt;åˆ é™¤&lt;/span&gt;     &lt;/div&gt; &lt;/td&gt; &lt;td&gt;     &lt;div class=&quot;text&quot; title=&quot;Harold Faltermeyer&quot;&gt;         &lt;span title=&quot;Harold Faltermeyer&quot;&gt;             &lt;a href=&quot;#/artist?id=34854&quot; hidefocus=&quot;true&quot;&gt;Harold Faltermeyer&lt;/a&gt;         &lt;/span&gt;     &lt;/div&gt; &lt;/td&gt; &lt;td&gt;     &lt;div class=&quot;text&quot;&gt;         &lt;a href=&quot;#/album?id=509819&quot; title=&quot;Greatest Hits Of The Millennium 80's Vol.2&quot;&gt;Greatest Hits Of The Millennium 80's Vol.2&lt;/a&gt;     &lt;/div&gt; &lt;/td&gt; </code></pre> <p>The columns are childnodes of the element.</p> <p>I have managed to get the xpaths corresponding to the columns:</p> <pre><code>/td[2]/div/div/div/span/a/b --&gt;  title /td[2]/div/div/div/span/a --&gt;  song link /td[3]/span --&gt;  duration /td[4]/div/span/a --&gt;  artist /td[4]/div/span/a['href'] --&gt;  artist link /td[5]/div/a --&gt;  album /td[5]/div/a['href'] --&gt;  album link </code></pre> <p>We should add the address <code>music.163.com/</code> in front of the links to get full addresses.</p> <p>I was thinking about using selenium to get the elements, more specifically find the rows by xpath, then loop through the rows and get the columns by their xpaths inside the rows, then add the values to a list of namedtuples.</p> <p>From here it is trivial to add the elements to an SQL table.</p> <p>But I just can't get it to work.</p> <p>I have managed to open a Firefox selenium window, install tampermonkey and the script to access the full playlist(these two installations are done manually), then get to the playlist page and tried to get the elements:</p> <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver Firefox = webdriver.Firefox() Firefox.get('https://music.163.com/#/playlist?id=158624364&amp;userid=126762751') Firefox.find_elements_by_xpath('//table/tbody/tr') </code></pre> <p>The result is an empty list.</p> <p>I don't know what went wrong, I can view the table element in developer tools just fine, then I have viewed its source code and realized that the table isn't in its source code.</p> <p>I have even managed to obtain the full table with developer tools, and I uploaded it <a href=""https://drive.google.com/file/d/1JOHa13rCRsR8GINjCF0YNyZsoGTim9tG/view?usp=sharing"" rel=""nofollow noreferrer"">here</a>.</p> <p>But it is invisible to selenium. Apparently browsers have a way to display contents not in the original html source code and selenium can't. That's when I realized browsers can execute javascript and the additional contents not in the original source code are probably added by a javascript somewhere, and the code I used didn't involve javascript and can only get the original source code without the additional contents.</p> <p>I tried Googling <a href=""https://www.google.com/search?q=python+selenium+get+contents+of+a+webpage+added+by+javascript&amp;sxsrf=ALeKk02SYcP0cgzTK-yYlBDuG3eRI6xyww%3A1623044607633&amp;ei=_7G9YIaOJqGGjLsPr9yHmAg&amp;oq=python+selenium+get+contents+of+a+webpage+added+by+javascript&amp;gs_lcp=Cgdnd3Mtd2l6EAM6BwgAEEcQsAM6BwgjEOoCECc6BAgjECc6BQgAEJECOgsILhCxAxDHARCjAjoECAAQQzoFCAAQsQM6CAgAELEDEIMBOgQILhBDOgIIADoCCC46BwgAELEDEEM6CAgAELEDEJECOgUILhCxAzoHCAAQhwIQFDoGCAAQFhAeOgUIIRCgAToFCCEQqwI6CAghEBYQHRAeOgcIIRAKEKABOgUIABDNAlDt3wZY18YIYJjMCGgHcAJ4AIAB3wKIAfaFAZIBBjItNjQuMpgBAKABAaoBB2d3cy13aXqwAQrIAQjAAQE&amp;sclient=gws-wiz&amp;ved=0ahUKEwjGiauq6ITxAhUhA2MBHS_uAYMQ4dUDCA0&amp;uact=5"" rel=""nofollow noreferrer"">python selenium get contents of a webpage added by javascript</a>, but it isn't helping.</p> <p>So I have two questions, first, in the short term, how can I use some html parsing library to parse a piece of html code locally stored in a txt file?</p> <p>And second, in the long term, how can I use selenium or any other Python html library to get complete source code of a webpage with additional contents added by javascript instead of only the original source code without the additional contents, so that I don't need to export the elements manually every time?</p>"	2021-06-07 05:56:59.853 UTC	67866769	"<p>The simplest answer is that you have to add some delay after opening the page with <code>Firefox.get('https://music.163.com/#/playlist?id=158624364&amp;userid=126762751')</code> before getting the elements with <code>Firefox.find_elements_by_xpath('//table/tbody/tr')</code> to let the elements on the page loaded. It takes few moments.<br /> So, you can simply add a kind of <code>time.sleep(5)</code> there.<br /> The better approach is to use expected conditions instead.<br /> Something like this:</p> <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC Firefox = webdriver.Firefox()  # Wait for initialize, in seconds wait = WebDriverWait(Firefox, 20)  Firefox.get('https://music.163.com/#/playlist?id=158624364&amp;userid=126762751')  wait.until(EC.visibility_of_element_located((By.XPATH, '//table/tbody/tr')))  Firefox.find_elements_by_xpath('//table/tbody/tr') </code></pre> <p><strong>UPD</strong><br /> There is an iframe there, so you need to switch to that iframe as following:</p> <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC Firefox = webdriver.Firefox()  # Wait for initialize, in seconds wait = WebDriverWait(Firefox, 20)  Firefox.get('https://music.163.com/#/playlist?id=158624364&amp;userid=126762751')  iframe = driver.find_element_by_xpath('//iframe[@id=&quot;g_iframe&quot;]') driver.switch_to.frame(iframe)  wait.until(EC.visibility_of_element_located((By.XPATH, '//table/tbody/tr')))  Firefox.find_elements_by_xpath('//table/tbody/tr') </code></pre>"			2021-06-07 06:19:27.873 UTC
67874663	python|global-variables	Is there a javascript's window like object in python?	"<p>I mean in javascript it is possible to create a variable accessible by everywhere in everyfile by assigning property to window object:</p> <pre><code>window.myVar = 'hello' </code></pre> <p>And use it like:</p> <pre><code>console.log(myVar) </code></pre> <p><a href=""https://stackoverflow.com/q/59656102/13449712"">browser 'window' object equivalent in Python? [closed]</a> doesn't answer my question because assigning to <code>globals()</code> doesn't make it accessible from other files.</p> <p>(I know global variables are <em>bad</em>)</p>"	2021-06-07 15:40:26.317 UTC	67875725	<p>You can assign them to <code>__builtins__</code>:</p> <p><code>main.py</code></p> <pre><code>__builtins__.my_var = 'Hello!' import other </code></pre> <p><code>other.py</code></p> <pre><code>print(my_var) </code></pre> <p>Outputs: <code>my_var</code></p>			2021-06-07 16:51:41.993 UTC
67940245	javascript|python-3.x|flask|jinja2	Issue with accessing jinja python list in javascript	"<p>I have a python list called &quot;devices&quot; that looks something like this:</p> <pre class=""lang-js prettyprint-override""><code>[{   'Version': 'V14E',   'DeviceID': 'e00fce68281671574f416a8c',   'TerminationDate': '2050-12-31',   'Latitude': 31.322139613573903,   'ActivationDate': '2021-01-04',   'Longitude': -101.93960164357534,   'DeviceName': 'Hans_Gruber-1' }, {   'Version': 'V14E',   'DeviceID': 'e00fce68e1265e12e12fa02a',   'TerminationDate': '2050-12-31',   'Latitude': 31.32151602493975,   'ActivationDate': '2021-01-04',   'Longitude': -101.93948944894449,   'DeviceName': 'Hans_Gruber-2' }] </code></pre>  <p>In my flask app, I pass this list to my html file by the name &quot;devices_test&quot; using json.dumps() to correctly format the data to be used in java script.</p> <pre class=""lang-js prettyprint-override""><code>return render_template(&quot;json_form.html&quot;,    devices = devices, components = components, operator = operator, name = site_name,    devices_test = json.dumps(devices)) </code></pre>  <p>Here is me trying to test out an answer I have seen on another post here via the &quot;data&quot; variable:</p> <pre class=""lang-js prettyprint-override""><code>function update_device_form(strDevice) {    var data = {     {       devices_test | safe     }   };    var device_index = document.getElementById(&quot;devices&quot;).selectedIndex;    if (device_index == 0) { //IOW if no device is selected     document.getElementById(&quot;device_id&quot;).value = &quot;&quot;;   } else {     document.getElementById(&quot;device_id&quot;).value = '';   } </code></pre>  <p>But I get errors such as &quot;Declaration or statement expected&quot; and &quot;Property assignment expected&quot; and &quot;',' expected&quot;. What am I doing wrong here?</p>"	2021-06-11 16:08:22.327 UTC	67940810	"<p>You can use string to remove the error <code>var data = &quot;{{devices_test|safe}}&quot;</code></p> <p>Now data is not javascript object, it is a string, you need to use <code>JSON.parse</code> and also <code>replaceAll</code>.</p> <pre><code>var data = &quot;{{devices_test|safe}}&quot; var data = data.replaceAll(&quot;'&quot;,'&quot;') // replace single quote to double var data = JSON.parse(data) </code></pre> <p>one line</p> <pre><code>var data = JSON.parse(&quot;{{devices_test|safe}}&quot;.replaceAll(&quot;'&quot;,'&quot;')) </code></pre>"			2021-06-11 16:53:46.14 UTC
67959354	python|scrapy	Python Scrapy Response 200 but Javascript content not loading	"<p>I can send a GET request to the main page (in start_urls) with the correct header, my __RequestVerificationToken is working and I can see the response content of the main page. But I do not see any content data of the subpages, the response is 200 but the content is just the plain HTML page source not containing the dynamically loaded content. Seems like that a subpage is detecting Scrapy as a bot.</p> <p>My Code:</p> <pre><code>import scrapy from scrapy.crawler import CrawlerProcess import json import time  class eva_db_spider(scrapy.Spider):      name = 'eva'     custom_settings = {         #'DEPTH_PRIORITY': 0,         #'SCHEDULER_DISK_QUEUE': 'scrapy.squeues.PickleFifoDiskQueue',         #'SCHEDULER_MEMORY_QUEUE': 'scrapy.squeues.FifoMemoryQueue',         'CONCURRENT_REQUESTS': 1,         'DOWNLOAD_DELAY': 3,         'COOKIES_ENABLED': True     }      start_urls = ['https://bieterportal.noncd.db.de/evergabe.bieter/eva/supplierportal/portal/tabs/vergaben']      def parse(self, response):         mainpage_100items = 'https://bieterportal.noncd.db.de/evergabe.bieter/api/supplier/project/publicProjects?cultureName=de-DE&amp;pageIndex=0&amp;pageSize=100&amp;sortExpression=publicationDate%20desc'          # extract token from page source         token = response.xpath('/html/head/script[1]').get()         if 'auth_token' in token:             token = token[26:211]             # print('__RequestVerificationToken = ' + token)         else:             print('Token not found')             # logic for informing user + quit script          self.headers = {             'Host': 'bieterportal.noncd.db.de',             'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0',             'Accept': 'application/json, text/plain, */*',             'Accept-Language': 'en-US,en;q=0.5',             'Accept-Encoding': 'gzip, deflate, br',             'Content-Type': 'application/json',             'Connection': 'keep-alive',             'Referer': 'https://bieterportal.noncd.db.de/evergabe.bieter/eva/supplierportal/portal/tabs/vergaben',             'Pragma': 'no-cache',             'Cache-Control': 'no-cache',             '__RequestVerificationToken': token         }          yield scrapy.Request(mainpage_100items, callback=self.parse_identifier_for_subpage, headers=self.headers)       def parse_identifier_for_subpage(self, response):             raw_data = response.text         data = json.loads(raw_data)         for item in data['projects']:             identifier_in_url = item['identifier']             subpage = f'https://bieterportal.noncd.db.de/evergabe.bieter/eva/supplierportal/portal/subproject/{identifier_in_url}/details'             request = scrapy.Request(subpage, callback=self.parse_subpage, headers=self.headers)             time.sleep(0.05)              yield request      def parse_subpage(self, response):         raw_data = response.text # Output plain page source, no content         print('+++ Subpage Content Start +++')         print(raw_data)         test = input('+++ Subpage Content End +++ \nPress ENTER to see the next subpage...')          process = CrawlerProcess(settings = {     'FEED_URI': 'output.csv',     'FEED_FORMAT': 'csv' })  process.crawl(eva_db_spider) process.start() </code></pre> <p>Output:</p> <pre><code>b'&lt;!DOCTYPE html&gt;&lt;html lang=&quot;de-DE&quot;&gt;&lt;head&gt;&lt;base href=&quot;/evergabe.bieter/ClientUI.2/dist/&quot;/&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;&lt;title&gt;eVa 4.9 Healy Hudson - Supplier&lt;/title&gt;&lt;meta name=&quot;description&quot; content=&quot;eVa 4.9 Healy Hudson - Supplier&quot;&gt;&lt;script&gt;var auth_token = \'&lt;A...token...will...be...visible...here...as...soon...as...you...visit...the...page&gt;\';\r\n        var baseAppPath = \'/evergabe.bieter\';\r\n        var copyright = \'&amp;copy; 2021 Healy Hudson GmbH\';\r\n        var version = \'4.9.21.120\';&lt;/script&gt;&lt;!-- Configured Head Tags  --&gt;&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; sizes=&quot;32x32&quot; href=&quot;assets/icon/favicon.ico&quot;&gt;&lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;assets/icon/favicon.ico&quot;&gt;&lt;meta name=&quot;theme-color&quot; content=&quot;#00bcd4&quot;&gt;&lt;!-- CSS will be injected by webpack here --&gt;&lt;!-- Preload link tags will be injected by webpack here --&gt;&lt;link href=&quot;vendor-main-b56c880e29d6fe6f0b60.css&quot; rel=&quot;stylesheet&quot;/&gt;&lt;link href=&quot;main-73909145cca1a58643f2.css&quot; rel=&quot;stylesheet&quot;/&gt;&lt;link rel=&quot;preload&quot; href=&quot;vendor-main-polyfills.4be5abd490d0ad562c3e.chunk.js&quot; as=&quot;script&quot;/&gt;&lt;link rel=&quot;preload&quot; href=&quot;vendor-main.b56c880e29d6fe6f0b60.chunk.js&quot; as=&quot;script&quot;/&gt;&lt;link rel=&quot;preload&quot; href=&quot;vendor-polyfills.ee836bc0219a916f40d3.chunk.js&quot; as=&quot;script&quot;/&gt;&lt;link rel=&quot;preload&quot; href=&quot;polyfills.86ff653bff363d3ebeee.chunk.js&quot; as=&quot;script&quot;/&gt;&lt;link rel=&quot;preload&quot; href=&quot;main.73909145cca1a58643f2.chunk.js&quot; as=&quot;script&quot;/&gt;&lt;/head&gt;&lt;body&gt;&lt;app&gt;&lt;!-- loading spinner layout replaced by app after startup --&gt;&lt;div class=&quot;app-loading&quot;&gt;&lt;svg class=&quot;spinner&quot; viewBox=&quot;25 25 50 50&quot;&gt;&lt;circle class=&quot;path&quot; cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;20&quot; fill=&quot;none&quot; stroke-width=&quot;2&quot; stroke-miterlimit=&quot;10&quot;&gt;&lt;/circle&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/app&gt;&lt;!-- Scripts will be injected by webpack here --&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;runtime.cc477948046220dba513.bundle.js&quot; async&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;vendor-main-polyfills.4be5abd490d0ad562c3e.chunk.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;vendor-main.b56c880e29d6fe6f0b60.chunk.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;vendor-polyfills.ee836bc0219a916f40d3.chunk.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;polyfills.86ff653bff363d3ebeee.chunk.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;main.73909145cca1a58643f2.chunk.js&quot; async&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;' </code></pre> <p>Any idea what could be the issue?</p>"	2021-06-13 14:32:28.277 UTC	67960054	"<p>Scrapy does not include a javascript engine, if you need to access dynamically loaded content the scrapy documentation offers some tips. I would recommend using scrapy-splash but if performance is a priority requirement I would try to replicate the request that loads the dynamic content.</p> <p><a href=""https://docs.scrapy.org/en/latest/topics/dynamic-content.html"" rel=""nofollow noreferrer"">https://docs.scrapy.org/en/latest/topics/dynamic-content.html</a> <a href=""https://docs.scrapy.org/en/latest/topics/dynamic-content.html"" rel=""nofollow noreferrer"">https://docs.scrapy.org/en/latest/topics/dynamic-content.html</a></p>"			2021-06-13 15:42:31.297 UTC
67991155	javascript|python	"How to write Javascript recipe.components.sort((a, b) => (a.components ? 1 : 0) - (b.components ? 1 : 0)) in Python?"	"<p>I have translated a program from javascript to python 3.9 and I am only missing sorting the result, but I just can't get any further.</p> <p>The list consists of dicts that has an id &quot;components&quot;, which is itself a list.</p> <pre><code>recipe.components.sort((a, b) =&gt; (a.components ? 1 : 0) - (b.components ? 1 : 0)) </code></pre> <p>If i understood the java code correctly, then all elements (a.components) that are an empty list should be at the beginning and all that have elements in their list should be at the end, but that's the small problem, because you can reverse it with <code>.reverse()</code> anyway.</p> <pre><code>recipe.components = [{     &quot;id&quot;: 123,     &quot;components&quot;: [{&quot;id&quot;: 1, &quot;components&quot;: []}] }, {     &quot;id&quot;: 124,     &quot;components&quot;: [{&quot;id&quot;: 2, &quot;components&quot;: []}, {&quot;id&quot;: 3, &quot;components&quot;: []}] }, {     &quot;id&quot;: 125,     &quot;components&quot;: [] }, {     &quot;id&quot;: 126,     &quot;components&quot;: [{&quot;id&quot;: 1, &quot;components&quot;: []}] }] </code></pre> <p>Does anyone know how to write this most elegantly in Python?</p> <p>--- Edit ---</p> <p>I solved it like this:</p> <pre><code>recipe[&quot;components&quot;].sort(key=lambda a: 1 if a.get(&quot;components&quot;) else 0) </code></pre>"	2021-06-15 17:44:32.367 UTC	67991222	"<p>For your original code:</p> <pre class=""lang-js prettyprint-override""><code>components.sort((a, b) =&gt; (a ? 1 : 0) - (b ? 1 : 0)) </code></pre> <p>...it could be:</p> <pre class=""lang-py prettyprint-override""><code>components.sort(key=bool) </code></pre> <p>After your edit to:</p> <pre class=""lang-js prettyprint-override""><code>components.sort((a, b) =&gt; (a.components ? 1 : 0) - (b.components ? 1 : 0)) </code></pre> <p>... I will assume that the corresponding Python list has objects with an attribute <code>components</code>:</p> <pre class=""lang-py prettyprint-override""><code>components.sort(key=lambda a: bool(a.components)) </code></pre>"			2021-06-15 17:49:47.1 UTC
67998488	javascript|python|regex|ajax|youtube	Regex YouTube shorts url javascript python	"<p>I am making a board where users can post text, photo, and YouTube video link I am trying to generate embed url from different types of YouTube urls that user copy and paste. thanks Stackoverflow gods, I almost got it but not 100%</p> <p>my js regex for ajax call to api</p> <pre><code>const ytRegex = /^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/ ... let video = $('#post-video').val(); if (ytRegex.test(video)) {     video = $('#post-video').val(); } else {     video = 0; } ... </code></pre> <p>my python regex</p> <pre><code>video_receive = request.form['video_give'] video_id1 = re.findall(&quot;(https?\:\/\/)?(www\.)?(youtube\.com)\/.+$&quot;, video_receive) video_id2 = re.findall(&quot;(https?\:\/\/)?(www\.)?(youtu\.?be)\/.+$&quot;, video_receive) video_id3 = re.findall(&quot;(https?\:\/\/)?(www\.)?(youtube\.com)\/(shorts).+$&quot;, video_receive)     if video_id1 :       link = video_receive.split(&quot;=&quot;)[1]       embed = &quot;https://www.youtube.com/embed/&quot;       video = embed + link     elif video_id2:       link = video_receive.split(&quot;/&quot;)[3]       embed = &quot;https://www.youtube.com/embed/&quot;       video = embed + link     elif video_id3:       link = video_receive.split(&quot;/&quot;)[4]       embed = &quot;https://www.youtube.com/embed/&quot;       video = embed + link     else:       video = 1 </code></pre> <p>I am targetting 3 example types of yt urls with variables video_id#</p> <ol> <li><p><a href=""https://www.youtube.com/watch?v=bjkVUaFhwno"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=bjkVUaFhwno</a></p> </li> <li><p><a href=""https://youtu.be/BEkxOupf9Zc"" rel=""nofollow noreferrer"">https://youtu.be/BEkxOupf9Zc</a></p> </li> <li><p><a href=""https://youtube.com/shorts/UZsysDAUHAY?feature=share"" rel=""nofollow noreferrer"">https://youtube.com/shorts/UZsysDAUHAY?feature=share</a></p> </li> </ol> <p>1 is for desktop share url for yt video and yt shorts 2 is mobile share url for yt video 3 is mobile share url for yt shorts</p> <p>In my python code, <code>if video_id1</code> &amp; <code>elif video_id2</code> works fine but problem arise after I added <code>elif video_id3</code> when I test with <code>https://youtube.com/shorts/UZsysDAUHAY?feature=share</code> my code stores <code>https://www.youtube.com/embed/share</code> into db It seems like <code>if video_id1</code> is working on <code>video_id3</code> format. I assume this because the testing url has <code>=</code> before <code>share</code> and <code>if video_id1</code> has <code>.split(&quot;=&quot;)</code> condition.</p> <p>when I delete <code>?feature=share</code> from the testing url, my web page give me error(POST...500 (INTERNAL SERVER ERROR)) not even submitting to db due to ajax call error. but works with original testing url.</p> <p>Please advise me where I am getting wrong with yt shorts url.</p>"	2021-06-16 07:48:41.25 UTC	67998738	"<p>The regex you use for the first pattern will also match your shorts urls, simply just check for pattern 3 first.</p>"			2021-06-16 08:07:18.41 UTC
68008572	javascript|python|object|destruction	Python Deep Destruction Like JavaScript and assingment to new Object	"<pre class=""lang-js prettyprint-override""><code>let newJson = {};  ({     &quot;foo&quot;: {         &quot;name&quot;: newJson.FirstName,         &quot;height&quot;: newJson.RealHeight     } } =  {     &quot;foo&quot;: {         &quot;name&quot;: &quot;Felipe&quot;,         &quot;height&quot;: &quot;55&quot;     } }); console.log({newJson}) </code></pre> <p>As we Know the above code will return in JS the follow output:</p> <pre class=""lang-js prettyprint-override""><code>{newJson :{FirstName: &quot;Felipe&quot;, RealHeight: &quot;55&quot;}} </code></pre> <p>I Would like to kwnow if there is a Lib or a way to do it in PYTHON</p>"	2021-06-16 18:57:50.21 UTC	68019992	"<p>Searching for &quot;desctructured assignment in Python&quot; yields results.</p> <p>You can use the native &quot;tuple unpacking&quot; as defined in <a href=""https://www.python.org/dev/peps/pep-0448/"" rel=""nofollow noreferrer"">PEP 448</a> :</p> <pre class=""lang-py prettyprint-override""><code>json_data = {     &quot;foo&quot;: {         &quot;name&quot;: &quot;Felipe&quot;,         &quot;height&quot;: &quot;55&quot;     } }  first_name, real_height = json_data[&quot;foo&quot;][&quot;name&quot;], json_data[&quot;foo&quot;][&quot;height&quot;]  print(first_name, real_height) # Felipe 55 </code></pre> <p>Or you can use something a bit closer which is based on the <a href=""https://docs.python.org/3/reference/datamodel.html"" rel=""nofollow noreferrer"">Python Data Model</a> (inspired from <a href=""https://stackoverflow.com/a/52083390/11384184"">this answer</a>) :</p> <pre class=""lang-py prettyprint-override""><code>from operator import itemgetter  json_data = {     &quot;foo&quot;: {         &quot;name&quot;: &quot;Felipe&quot;,         &quot;height&quot;: &quot;55&quot;     } }  first_name, real_height = itemgetter(&quot;name&quot;, &quot;height&quot;)(json_data[&quot;foo&quot;])  print(first_name, real_height) # Felipe 55 </code></pre>"			2021-06-17 13:05:31.393 UTC
68026637	python|python-3.x	What would be equivalent to javascript's promise.all in python?	"<p>in javascript we can run functions in parallel using promise.all but it doesn't exist in python, how can I run two functions in parallel in python?</p> <pre><code>import discord import asyncio                           from discord.ext import tasks, commands  client = discord.Client() client = commands.Bot(command_prefix='!')  @client.event async def on_ready():  print(&quot;Monitor Ativo!&quot;)  promise.start() async def bar():                                                                         print(&quot;sjj&quot;)                                                                                                                                     async def ba():                                                                        print(&quot;dhhdh&quot;)                                                                                                             @tasks.loop(seconds=5) async def promise():                               await asyncio.wait([bar(), ba()]) </code></pre> <p>But I noticed that when I run the function it always runs the last function first, so it can't be running in parallel right?  Since it's always running the last function before the first one, so it has a pattern, and so it can't be running in parallel, how can I run two functions in parallel in python, equivalent to promise.all in javascript.</p>"	2021-06-17 21:16:17.403 UTC	68027271	"<p><a href=""https://stackoverflow.com/a/68027026/12101554"">The answer</a> by <a href=""https://stackoverflow.com/users/13710015/ketzoomer"">@KetZoomer</a> works good, but here's how to scale easier with a syntax closer to what you wanted:</p> <pre class=""lang-py prettyprint-override""><code>import asyncio import time  start_time = time.time()   async def bar():     await asyncio.sleep(10)     print(f&quot;bar\ttotal time elapsed: {time.time() - start_time}s&quot;)   async def ba():     await asyncio.sleep(3)     print(f&quot;ba\ttotal time elapsed: {time.time() - start_time}s&quot;)  async def b(num):     await asyncio.sleep(10)     print(f&quot;b\ttotal time elapsed: {time.time() - start_time}s\tyour number was {num}&quot;)   async def promise_all(funcs):     tasks = [asyncio.create_task(func()) for func in funcs]     for task in tasks:         await task  asyncio.run(promise_all([bar, ba, lambda: b(5)])) </code></pre> <p>If you run this script, you'll see the output is (specific decimals might change, <code>bar</code> vs <code>b</code> might change):</p> <pre class=""lang-sh prettyprint-override""><code>$ py -3 banana.py ba      total time elapsed: 3.0152556896209717s bar     total time elapsed: 10.00325894355774s b       total time elapsed: 10.00325894355774s  your number was 5 </code></pre> <p>Note: as you can see by the last function (the <code>b</code> function), if you want to pass in a variable, use a lambda.</p>"			2021-06-17 22:35:46.427 UTC
68026637	python|python-3.x	What would be equivalent to javascript's promise.all in python?	"<p>in javascript we can run functions in parallel using promise.all but it doesn't exist in python, how can I run two functions in parallel in python?</p> <pre><code>import discord import asyncio                           from discord.ext import tasks, commands  client = discord.Client() client = commands.Bot(command_prefix='!')  @client.event async def on_ready():  print(&quot;Monitor Ativo!&quot;)  promise.start() async def bar():                                                                         print(&quot;sjj&quot;)                                                                                                                                     async def ba():                                                                        print(&quot;dhhdh&quot;)                                                                                                             @tasks.loop(seconds=5) async def promise():                               await asyncio.wait([bar(), ba()]) </code></pre> <p>But I noticed that when I run the function it always runs the last function first, so it can't be running in parallel right?  Since it's always running the last function before the first one, so it has a pattern, and so it can't be running in parallel, how can I run two functions in parallel in python, equivalent to promise.all in javascript.</p>"	2021-06-17 21:16:17.403 UTC	68027026	"<p>You can use <code>asyncio.create_task</code>.</p> <p>Code:</p> <pre class=""lang-py prettyprint-override""><code>import asyncio import time   async def bar():     await asyncio.sleep(5)     print(&quot;sjj&quot;)   async def ba():     await asyncio.sleep(3)     print(&quot;dhhdh&quot;)   async def promise():     tasks = [asyncio.create_task(bar()), asyncio.create_task(ba())]     for task in tasks:         await task  asyncio.run(promise()) </code></pre>"			2021-06-17 22:03:29.683 UTC
68040078	javascript|regex	RegEx in JavaScript: parse Python imports	"<p>I have a list of possible Python import statements and I need to parse them in JavaScript. I found this post <a href=""https://stackoverflow.com/questions/44988487/regex-to-parse-import-statements-in-python"">regex to parse import statements in python</a> and adopted it for JavaScript but for some reason, not all the statements are parsed.</p> <p>Here is the test:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const re = /^(?:from[ ]+(\S+)[ ]+)?import[ ]+(\S+)(?:[ ]+as[ ]+\S+)?[ ]*$/g;  const lines = ['import numpy as np', 'import pandas as pd', 'import pkg.mod1, pkg.mod2', 'from pkg.mod2 import Bar as Qux', 'from abc.lmn import pqr', 'from abc.lmn import pqr as xyz', 'import mod', 'from mod import s, foo', 'from mod import *', 'from pkg.mod3 import *', 'from mod import s as string, a as alist', 'import re, json'];  for (var i = 0; i &lt; lines.length; i++){ const res = re.exec(lines[i]); console.log(res); }</code></pre> </div> </div> </p> <p>Ideally, the code would extract the names of packages that need to be loaded (not modules) but it's okay if it would work at least on all the examples.</p> <p>Ideal expected result:</p> <ul> <li>'numpy',</li> <li>'pandas',</li> <li>'pkg',</li> <li>'pkg',</li> <li>'abc',</li> <li>'abc',</li> <li>'mod',</li> <li>'mod',</li> <li>'mod',</li> <li>'pkg',</li> <li>'mod'</li> <li>['re', 'json']</li> </ul>"	2021-06-18 18:40:40.693 UTC	68040994	"<p>You can try , but don't match your last line since you edited aferward (updated at the end)</p> <pre><code>const re = /(import|from)\s+([^\s\.]+)/;  const lines = [ 'import numpy as np', 'import pandas as pd', 'import pkg.mod1, pkg.mod2', 'from pkg.mod2 import Bar as Qux', 'from abc.lmn import pqr', 'from abc.lmn import pqr as xyz', 'import mod', 'from mod import s, foo', 'from mod import *', 'from pkg.mod3 import *', 'from mod import s as string, a as alist' ];  for (var i = 0; i &lt; lines.length; i++){     // console.log(lines[i]);     const res = re.exec(lines[i]);     console.log(res[2]); } </code></pre> <p>More easy to explain that yours that did not work.</p> <p>(import|from) : begin by import or from</p> <p>\s+           : one or more space</p> <p>[^\s.]+      : every characters not space and not dot</p> <p>and beware of /g in a loop</p> <p><a href=""https://stackoverflow.com/questions/1520800/why-does-a-regexp-with-global-flag-give-wrong-results"">Why does a RegExp with global flag give wrong results?</a></p> <p>Update to match your last line</p> <pre><code>const re = /(import|from)\s+([^\.]+?[^,])(\s|\.|$)/; </code></pre> <p>Just the regex, I did not put the last in an array since you should know and you have already the other answer.</p>"			2021-06-18 20:16:26.967 UTC
68040078	javascript|regex	RegEx in JavaScript: parse Python imports	"<p>I have a list of possible Python import statements and I need to parse them in JavaScript. I found this post <a href=""https://stackoverflow.com/questions/44988487/regex-to-parse-import-statements-in-python"">regex to parse import statements in python</a> and adopted it for JavaScript but for some reason, not all the statements are parsed.</p> <p>Here is the test:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const re = /^(?:from[ ]+(\S+)[ ]+)?import[ ]+(\S+)(?:[ ]+as[ ]+\S+)?[ ]*$/g;  const lines = ['import numpy as np', 'import pandas as pd', 'import pkg.mod1, pkg.mod2', 'from pkg.mod2 import Bar as Qux', 'from abc.lmn import pqr', 'from abc.lmn import pqr as xyz', 'import mod', 'from mod import s, foo', 'from mod import *', 'from pkg.mod3 import *', 'from mod import s as string, a as alist', 'import re, json'];  for (var i = 0; i &lt; lines.length; i++){ const res = re.exec(lines[i]); console.log(res); }</code></pre> </div> </div> </p> <p>Ideally, the code would extract the names of packages that need to be loaded (not modules) but it's okay if it would work at least on all the examples.</p> <p>Ideal expected result:</p> <ul> <li>'numpy',</li> <li>'pandas',</li> <li>'pkg',</li> <li>'pkg',</li> <li>'abc',</li> <li>'abc',</li> <li>'mod',</li> <li>'mod',</li> <li>'mod',</li> <li>'pkg',</li> <li>'mod'</li> <li>['re', 'json']</li> </ul>"	2021-06-18 18:40:40.693 UTC	68040770	<p>Would this be enough? <code>/(?:import|from)\s+(\w+)/</code></p>			2021-06-18 19:53:52 UTC
68040078	javascript|regex	RegEx in JavaScript: parse Python imports	"<p>I have a list of possible Python import statements and I need to parse them in JavaScript. I found this post <a href=""https://stackoverflow.com/questions/44988487/regex-to-parse-import-statements-in-python"">regex to parse import statements in python</a> and adopted it for JavaScript but for some reason, not all the statements are parsed.</p> <p>Here is the test:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const re = /^(?:from[ ]+(\S+)[ ]+)?import[ ]+(\S+)(?:[ ]+as[ ]+\S+)?[ ]*$/g;  const lines = ['import numpy as np', 'import pandas as pd', 'import pkg.mod1, pkg.mod2', 'from pkg.mod2 import Bar as Qux', 'from abc.lmn import pqr', 'from abc.lmn import pqr as xyz', 'import mod', 'from mod import s, foo', 'from mod import *', 'from pkg.mod3 import *', 'from mod import s as string, a as alist', 'import re, json'];  for (var i = 0; i &lt; lines.length; i++){ const res = re.exec(lines[i]); console.log(res); }</code></pre> </div> </div> </p> <p>Ideally, the code would extract the names of packages that need to be loaded (not modules) but it's okay if it would work at least on all the examples.</p> <p>Ideal expected result:</p> <ul> <li>'numpy',</li> <li>'pandas',</li> <li>'pkg',</li> <li>'pkg',</li> <li>'abc',</li> <li>'abc',</li> <li>'mod',</li> <li>'mod',</li> <li>'mod',</li> <li>'pkg',</li> <li>'mod'</li> <li>['re', 'json']</li> </ul>"	2021-06-18 18:40:40.693 UTC	68040817	"<p>You can use this regex:</p> <pre class=""lang-sh prettyprint-override""><code>/^(?:from\s+(\w+)(?:\.\w+)?\s+)?import\s+([^\s,.]+)(?:\.\w+)?/ </code></pre> <p><a href=""https://regex101.com/r/GGiplF/1"" rel=""nofollow noreferrer"">RegEx Demo</a></p> <p><strong>Code:</strong></p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const lines = ['import numpy as np', 'import pandas as pd', 'import pkg.mod1, pkg.mod2', 'from pkg.mod2 import Bar as Qux', 'from abc.lmn import pqr', 'from abc.lmn import pqr as xyz', 'import mod', 'from mod import s, foo', 'from mod import *', 'from pkg.mod3 import *', 'from mod import s as string, a as alist', 'import re, json'];  const re = /^(?:from\s+(\w+)(?:\.\w+)?\s+)?import\s+([^\s,.]+)(?:\.\w+)?((\s*,\s*\w+)*$)?/;  var results = [] lines.forEach(el =&gt; {   var m = el.match(re);   if (m)     results.push(m[1] === undefined ? m[2] + (m[3] === undefined ? """" : m[3]) : m[1]); });  console.log(results);</code></pre> </div> </div> </p>"			2021-06-18 19:58:36.753 UTC
68055386	javascript|python	how to invoke python code from javascript code	"<p>I wrote the below code to invoke python code from Javascript code, i.e on press of some button, But when I run this, I get the full python file as output instead of execution of that file. Can someone guide me how to fix that.</p> <p>Got a similar question here, but could not understand the solution : <a href=""https://stackoverflow.com/questions/54348270/triggering-python-script-using-ajax-javascript-request-on-local-server-using-van/54348587"">Triggering Python script using AJAX Javascript request on local server using vanilla JS</a></p> <p>My code :</p> <pre><code>const xhttp = new XMLHttpRequest();                       xhttp.onreadystatechange = function() {                         if (this.readyState == 4 &amp;&amp; this.status == 200) {                           alert(this.responseText);                                                          alert(&quot;hello from js&quot;);                         }                       };                       xhttp.open(&quot;GET&quot;, &quot;uploadFile.py&quot;);                                                    xhttp.send(); </code></pre> <p>Can someone please help me ?</p> <p>Regards</p>"	2021-06-20 11:30:34.777 UTC	68055491	"<p>It seems that the thread that you were referencing did not name the question properly, and thus you mistook that the NodeJS process can run python scripts.</p> <p>This is also assuming that you want to run the python script on your nodeJS process and <em>not</em> on the browser, as the browser's javascript engine would not know what to do with a <code>.py</code> file.</p> <p>The NodeJS process <em>cannot</em> execute python scripts, however the <code>python3</code> (assuming it is installed on your server/environment) can. So the only way to do  is to get NodeJS to tell the shell environment to get <code>python3</code> to run the python script.</p> <p>Referencing <a href=""https://stackoverflow.com/a/52575123/4036876"">https://stackoverflow.com/a/52575123/4036876</a>, one of the ways you can achieve it is by using <code>execSync</code> or <code>exec</code> to run a <code>main.py</code> via <code>python3</code>:</p> <pre class=""lang-js prettyprint-override""><code>const execSync = require('child_process').execSync; // import { execSync } from 'child_process';  // replace ^ if using ES modules const output = execSync('python3 main.py', { encoding: 'utf-8' });  // the default is 'buffer' console.log('Output was:\n', output); </code></pre>"			2021-06-20 11:43:00.817 UTC
68127966	javascript|python|reactjs|django	Django ReactJS: Pass array from JavaScript frontend to Django Python backend	"<p>I've made a website with Django and React JS. I'm trying to pass an array <code>pict</code> from my JavaScript frontend to Django, the Python backend.</p> <pre><code>let pict = [];  pictureEl.addEventListener(`click`, function () {   console.log(`Take Pic`);   pict += webcam.snap();   console.log(pict); }); </code></pre> <p><code>pict</code> is an array of images taken by the camera. How would I pass it to the backend?</p>"	2021-06-25 08:36:46.45 UTC	68213595	"<pre><code>    import React from 'react'     import axios from 'axios'          postPict = (pict) =&gt; {          //data is a json object which will have your pict array set to 'data' keyword                  const data= {'data': pict}          //the next line would return a promise to 'http://localhost:8000' with the data object defined above          return axios.post('http://localhost:8000', data)     }          pictureEl.addEventListener(`click`, function () {         console.log(`Take Pic`);         pict += webcam.snap();         console.log(pict);  //here you call the function defined as postPic to access the promise and add the necessary code in the respective blocks of then(will contain success condition codes) and catch(will contain error condition codes)          postPic(pict)             .then(res =&gt; {                 console.log(res)                 //Do whatever you want             })             .catch(err =&gt; {                 console.log(err)                 //Do whatever you want             })          }); </code></pre> <p>You can access this data like you access json data in Django along with 'data' keyword</p>"			2021-07-01 16:10:29.13 UTC
68127966	javascript|python|reactjs|django	Django ReactJS: Pass array from JavaScript frontend to Django Python backend	"<p>I've made a website with Django and React JS. I'm trying to pass an array <code>pict</code> from my JavaScript frontend to Django, the Python backend.</p> <pre><code>let pict = [];  pictureEl.addEventListener(`click`, function () {   console.log(`Take Pic`);   pict += webcam.snap();   console.log(pict); }); </code></pre> <p><code>pict</code> is an array of images taken by the camera. How would I pass it to the backend?</p>"	2021-06-25 08:36:46.45 UTC	68157345	"<p>You can communicate with your backend using an HTTP request library (e.g axios, fetch, ajax requests, etc)</p> <p>Communication over HTTP is done through several different verbs (i.e GET, POST, PUT, PATCH, DELETE, etc) I'm agnostic of how your endpoint is handling the request so I'll assume your endpoint expects a <code>POST</code>. NOTES:</p> <ul> <li>The example below use <a href=""https://github.com/axios/axios"" rel=""nofollow noreferrer"">axios</a> as HTTP request library for JS</li> <li>I'm suggesting a change to your original code to use picts</li> </ul> <pre class=""lang-py prettyprint-override""><code># urls.py from django.urls import path  from . import views  url_patterns = [   path('path/to/my_endpoint', views.my_endpoint), ] </code></pre> <pre class=""lang-py prettyprint-override""><code># views.py from django.http import HttpResponse  def my_endpoint(request):     pict = request.POST.getlist('pict[]')     process_pict(pict)     return HttpResponse('Success') </code></pre> <p>In this case you can send the request to your server as follows:</p> <pre class=""lang-js prettyprint-override""><code>// api.js import axios from 'axios'  export function sendPict(pict) {   const payload = {'pict[]': pict}   return axios.post('path/to/my_endpoint', payload) } </code></pre> <p>Then you can send your pict anywhere from your app:</p> <pre class=""lang-js prettyprint-override""><code>import sendPict from './api' const pict = []; pictureEl.addEventListener(`click`, function () {   console.log(`Take Pic`);   pict.push(webcam.snap());   console.log(pict);   console.log('sending pict to server')   sendPict(pict)     .then(response =&gt; console.log(`The success server response is: ${response}`))     .catch(error =&gt; alert(`Oh noes: ${error}`)) }); </code></pre>"			2021-06-28 03:50:42.187 UTC
68139555	javascript|python|asynchronous|async-await	Difference between async await in python vs JavaScript	"<p>Note: this is not about multi threading or multi processing. This question is regarding a single process and single thread.</p> <p>Python async.io and JavaScript async both are single thread concepts.</p> <p>In python, async.io, we can use async await keywords to create a function so that when this function is invoked multiple times (via gather) they get executed concurrently. The way it works is that when an await keyword is encountered, other tasks can execute. As explained here we apply the async await keywords to function that we would like to execute concurrently. However while these tasks are running concurrently, the main thread is blocked.</p> <p>In JavaScript async has evolved from callbacks, promise, async/await. In the main program, when async is encountered, then the function is sent to the event loop (where the function execution begins) and the main thread can continue working. Any subsequent async function also gets added to the event loop. Inside the event loop when the function execution encountered an await then other function is given a chance to execute untill await in encountered.</p> <p>To get this behaviour in python, that is - allow main thread to continue while executing child tasks the only option is multithreading/multiprocessing. Because once we start the child thread/process, and untill we call <code>.join</code> the main thread is not blocked.</p> <p>Is there anyway by which the python's async.io can make the main thread non blocking? If not, then is this the fundamental difference between async concept in JavaScript and python?</p>"	2021-06-26 05:33:05.077 UTC	73720732	"<p>javascript</p> <pre><code>const wait = async (s) =&gt; {     setTimeout(() =&gt; {         console.log(&quot;wating &quot; + s + &quot;s&quot;)     }, s * 1000) } async function read_file() {     console.log(&quot;initial read_file sleep(2.1)&quot;)     await wait(2)     console.log(&quot;read_file 1/2 wait(2)&quot;)     await wait(0.1)     console.log(&quot;read_file 2/2 wait(0.1)&quot;) } async function read_api() {     console.log(&quot;initial read_api wait(2)&quot;)     await wait(2)     console.log(&quot;read_api whole wait(2)&quot;) } read_file() console.log(&quot;does not block&quot;) read_api() console.log(&quot;the second time, won't block&quot;) // initial read_file sleep(2.1) // does not block // initial read_api wait(2) // the second time, won't block // read_file 1/2 wait(2) // read_api whole wait(2) // read_file 2/2 wait(0.1) // !!! Wait a moment // wating 0.1s // wating 2s  // wating 2s </code></pre> <p>python</p> <pre><code>import asyncio  async def read_file():     print(&quot;initial read_file asyncio.sleep(2 + 0.1)&quot;)     await asyncio.sleep(2)     print(&quot;read_file 1/2 asyncio.sleep(2)&quot;)     await asyncio.sleep(0.1)     print(&quot;read_file 2/2 asyncio.sleep(0.1)&quot;)  async def read_api():     print(&quot;initial read_api asyncio.sleep(2)&quot;)     await asyncio.sleep(2)     print(&quot;read_api whole asyncio.sleep(2)&quot;)  async def gather():     await asyncio.gather(         asyncio.create_task(read_file()),         asyncio.create_task(read_api()))          asyncio.run(gather()) &quot;&quot;&quot; initial read_file asyncio.sleep(2.1) initial read_api asyncio.sleep(2) !!! Wait a moment read_file 1/2 asyncio.sleep(2) read_api whole asyncio.sleep(2) read_file 2/2 asyncio.sleep(0.1) &quot;&quot;&quot; </code></pre> <p><code>await</code> scope:</p> <ul> <li>javascript: After the method is executed, wait for the Promise to resolve <ul> <li><code>await wait(2)</code> Just <code>wait(2)</code> inside is guaranteed to be synchronous (or wait)</li> </ul> </li> <li>python: Suspend method for other methods to execute <ul> <li><code>await asyncio.sleep(2)</code> Method <code>read_file</code> will release resources and suspend</li> </ul> </li> </ul> <blockquote> <p>btw, javascript's <code>await/async</code> is just <code>Promise</code> syntactic sugar</p> </blockquote>"			2022-09-14 17:06:53.383 UTC
68139555	javascript|python|asynchronous|async-await	Difference between async await in python vs JavaScript	"<p>Note: this is not about multi threading or multi processing. This question is regarding a single process and single thread.</p> <p>Python async.io and JavaScript async both are single thread concepts.</p> <p>In python, async.io, we can use async await keywords to create a function so that when this function is invoked multiple times (via gather) they get executed concurrently. The way it works is that when an await keyword is encountered, other tasks can execute. As explained here we apply the async await keywords to function that we would like to execute concurrently. However while these tasks are running concurrently, the main thread is blocked.</p> <p>In JavaScript async has evolved from callbacks, promise, async/await. In the main program, when async is encountered, then the function is sent to the event loop (where the function execution begins) and the main thread can continue working. Any subsequent async function also gets added to the event loop. Inside the event loop when the function execution encountered an await then other function is given a chance to execute untill await in encountered.</p> <p>To get this behaviour in python, that is - allow main thread to continue while executing child tasks the only option is multithreading/multiprocessing. Because once we start the child thread/process, and untill we call <code>.join</code> the main thread is not blocked.</p> <p>Is there anyway by which the python's async.io can make the main thread non blocking? If not, then is this the fundamental difference between async concept in JavaScript and python?</p>"	2021-06-26 05:33:05.077 UTC	68139719	"<blockquote> <p>when async is encountered, then the function is sent to the event loop and the main thread can continue working.</p> </blockquote> <p>This is <em>close</em>, but not quite right. In Javascript, execution won't stop until the callstack has been emptied - the await keyword will suspend the execution of a particular function until an event triggers, and in the mean time, control returns to its caller. This means the first part of any async function will execute as soon as it is called (it's not immediately put into the event loop), and will only pause as soon as an <code>await</code> is hit.</p> <blockquote> <p>To get this behaviour in python, that is - allow main thread to continue while executing child tasks the only option is multithreading/multiprocessing.</p> </blockquote> <p>The difference here is that by default, Javascript always has an event loop and python does not. In other words, python has an on/off switch for asynchronous programming while Javascript does not. When you run something such as <code>loop.run_forever()</code>, you're basically flipping the event loop on, and execution won't continue where you left off until the event loop gets turned back off. (calling it a &quot;thread&quot; isn't quite the right word here, as it's all single-threaded, as you already acknowledged. Instead, we generally call each task that we queue up, well, a &quot;task&quot;)</p> <p>You're asking if there's a way to let your code continue execution after starting up the event loop. I'm pretty sure the answer is no, nor should it be needed. Whatever you want to execute after the event loop has started can just be executed within the event loop.</p> <p>If you want your python program to act more like Javascript, then the first thing you do can be to start up an event loop, and then any further logic can be placed within the first task that the event loop executes. In Javascript, this boiler plate essentially happens for you, and your source code is effectively that first task that's queued up in the event loop.</p> <p><strong>Update:</strong></p> <p>Because there seems to be some confusion with how the Javascript event loop works, I'll try to explain it a little further.</p> <p>Remember that an event loop is simply a system where, when certain events happen, a block of synchronous code can be queued up to run as soon as the thread is not busy.</p> <p>So let's see what the event loop does for a simple program like this:</p> <pre class=""lang-js prettyprint-override""><code>// This async function will resolve // after the number of ms provided has passed const wait = ms =&gt; { ... }  async function main() {   console.log(2)   await wait(100)   console.log(4) }  console.log(1) main() console.log(3) </code></pre> <p>When Javascript begins executing the above program, it'll begin with a single task queued up in it's &quot;run these things when you're not busy&quot; queue. This item is the whole program.</p> <p>So, it'll start at the top, defining whatever needs to be defined, executes <code>console.log(1)</code>, call the main function, enters into it and runs <code>console.log(2)</code>, calls wait() which will conceptually cause a background timer to start, wait() will return a promise which we then <code>await</code>, at which point we immediately go back to the caller of main, main wasn't awaited so execution continues to <code>console.log(3)</code>, until we finally finish at the end of the file. That whole path (from defining functions to <code>console.log(3)</code>) is a single, non-interruptible task. Even if another task got queued up, Javascript wouldn't stop to handle that task until it finished this chunk of synchronous logic.</p> <p>Later on, our countdown timer will finish, and another task will go into our queue, which will cause our main() function to continue execution. The same logic as before applies here - our execution path could enter and exit other async functions, and will only stop when it reaches the end of, in this case, the main function (even hitting an await keywords doesn't actually make this line of syncrounous logic stop, it just makes it jump back to the caller). The execution of a single task doesn't stop until the callstack has been emptied, and when execution is continuing from an async function, the first entry of the callstack starts at that particular async function.</p> <p>Python's async/await follows these same rules, except for the fact that in Python, the event loop isn't running by default.</p>"			2021-06-26 06:03:45.987 UTC
68142165	javascript|python|cryptography|md5|digital-signature	"This is a Python code to get a md5 digest of a signature, Need help to implement this thing in JavaScript"	"<p>Python Code that works fine and I checked this Python code for message &quot;a&quot; it gives me the result &quot;52F17E7031982DE1744A57F6EE9BD3A3&quot;</p> <pre><code>from Crypto.Hash import SHA256, MD5 from Crypto.PublicKey import RSA from Crypto.Signature import PKCS1_v1_5 from OpenSSL import crypto   message = &quot;a&quot;.encode('utf-8') p12 = crypto.load_pkcs12(company_p12_certificate, certificate_password) key_bytes = crypto.dump_privatekey(crypto.FILETYPE_PEM, p12.get_privatekey())  key = RSA.import_key(key_bytes)   h = SHA256.new(message) signer = PKCS1_v1_5.new(key)  signature = signer.sign(h) md5_digest = MD5.new(signature)  result = str(md5_digest.digest().hex()).upper() </code></pre> <p>I implemented this using JavaScript but not getting same result. It gives me &quot;4EB5DB7F5459E832DE3E0638A8F4C4A0&quot; for message &quot;a&quot; My JavaScript code is:</p> <pre><code>$(document).ready(function () { function _privateKeyToPkcs8(privateKey) {     var rsaPrivateKey = forge.pki.privateKeyToAsn1(privateKey);     var privateKeyInfo = forge.pki.wrapRsaPrivateKey(rsaPrivateKey);     var privateKeyInfoDer = forge.asn1.toDer(privateKeyInfo).getBytes();     var privateKeyInfoDerBuff = stringToArrayBuffer(privateKeyInfoDer);     return privateKeyInfoDerBuff; } function stringToArrayBuffer(data) {     var arrBuff = new ArrayBuffer(data.length);     var writer = new Uint8Array(arrBuff);     for (var i = 0, len = data.length; i &lt; len; i++) {         writer[i] = data.charCodeAt(i);     }     return arrBuff; }  function arrayBufferToString(buffer) {     var binary = '';     var bytes = new Uint8Array(buffer);     var len = bytes.byteLength;     for (var i = 0; i &lt; len; i++) {         binary += String.fromCharCode(bytes[i]);     }     return binary; }   $(&quot;#file&quot;).change(function () {     var file = this.files[0];     var reader = new FileReader();     reader.readAsArrayBuffer(file);     reader.onload = function (e) {         var contents = e.target.result;         var pkcs12Der = arrayBufferToString(contents)         var pkcs12B64 = forge.util.encode64(pkcs12Der);         var pkcs12Der = forge.util.decode64(pkcs12B64);         var pkcs12Asn1 = forge.asn1.fromDer(pkcs12Der);         var pkcs12 = forge.pkcs12.pkcs12FromAsn1(pkcs12Asn1, false, '123456');         var privateKey         for (var sci = 0; sci &lt; pkcs12.safeContents.length; ++sci) {             var safeContents = pkcs12.safeContents[sci];              for (var sbi = 0; sbi &lt; safeContents.safeBags.length; ++sbi) {                 var safeBag = safeContents.safeBags[sbi];                 // this bag has a private key                 if (safeBag.type === forge.pki.oids.keyBag) {                     //Found plain private key                     privateKey = safeBag.key;                 } else if (safeBag.type === forge.pki.oids.pkcs8ShroudedKeyBag) {                     // found encrypted private key                     privateKey = safeBag.key;                 } else if (safeBag.type === forge.pki.oids.certBag) {                     // this bag has a certificate...                         }             }         }          var privateKeyInfoDerBuff = _privateKeyToPkcs8(privateKey);          //Import the webcrypto key         crypto.subtle.importKey(             'pkcs8',             privateKeyInfoDerBuff,             { name: &quot;RSASSA-PKCS1-v1_5&quot;, hash: { name: &quot;SHA-256&quot; } },             true,             [&quot;sign&quot;]).             then(function (cryptoKey) {                 var sha256 = forge.md.sha256.create();                 sha256.update('a');  // Message will come here                  var digestToSignBuf = stringToArrayBuffer(sha256.digest().toHex());                  crypto.subtle.sign({ name: &quot;RSASSA-PKCS1-v1_5&quot; }, cryptoKey, digestToSignBuf)                     .then(function (signature) {                         var signatureB64 = forge.util.encode64(arrayBufferToString(signature))                         var md5 = forge.md.md5.create();                         md5.update(signatureB64);                         console.log(&quot;final result&quot;, md5.digest().toHex().toUpperCase());                     });             })     } }) }); </code></pre> <p>I also checked <a href=""https://github.com/digitalbazaar/forge"" rel=""nofollow noreferrer"">https://github.com/digitalbazaar/forge</a></p>"	2021-06-26 12:03:46.62 UTC	68143904	"<p><em>WebCrypto</em> implicitly generates the hash of the data during signing using the digest SHA-256 specified in the key, so explicit hashing with SHA-256 is not necessary.<br> Also, the generated signature is directly hashed with MD5, i.e. without prior Base64 encoding.</p> <p>With these changes, the JavaScript code is (using a test key):</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>// Import private test key var pkcs8pem = `-----BEGIN PRIVATE KEY-----                 MIIBVQIBADANBgkqhkiG9w0BAQEFAASCAT8wggE7AgEAAkEA2gdsVIRmg5IH0rG3                 u3w+gHCZq5o4OMQIeomC1NTeHgxbkrfznv7TgWVzrHpr3HHK8IpLlG04/aBo6U5W                 2umHQQIDAQABAkEAu7wulGvZFat1Xv+19BMcgl3yhCdsB70Mi+7CH98XTwjACk4T                 +IYv4N53j16gce7U5fJxmGkdq83+xAyeyw8U0QIhAPIMhbtXlRS7XpkB66l5DvN1                 XrKRWeB3RtvcUSf30RyFAiEA5ph7eWXbXWpIhdWMoe50yffF7pW+C5z07tzAIH6D                 Ko0CIQCyveSTr917bdIxk2V/xNHxnx7LJuMEC5DcExorNanKMQIgUxHRQU1hNgjI                 sXXZoKgfaHaa1jUZbmOPlNDvYYVRyS0CIB9ZZee2zubyRla4qN8PQxCJb7DiICmH                 7nWP7CIvcQwB                 -----END PRIVATE KEY-----`;  var pkcs8 = convertDER(pkcs8pem);  crypto.subtle.importKey(     'pkcs8',     pkcs8,     { name: ""RSASSA-PKCS1-v1_5"", hash: { name: ""SHA-256"" } },     true,     [""sign""]) .then(function (cryptoKey) {            // Sign message     var message = 'The quick brown fox jumps over the lazy dog';     crypto.subtle.sign(         { name: ""RSASSA-PKCS1-v1_5"" },          cryptoKey,          stringToArrayBuffer(message))     .then(function (signature) {                  // Create MD5 hash         var md5 = forge.md.md5.create();         md5.update(arrayBufferToString(signature));         console.log(""Final result"", md5.digest().toHex().toUpperCase()); // Final result 30FD001CFD12D0A3DF000D216C82C47E     }); });   // Helper function stringToArrayBuffer(data) {     var arrBuff = new ArrayBuffer(data.length);     var writer = new Uint8Array(arrBuff);     for (var i = 0, len = data.length; i &lt; len; i++) {         writer[i] = data.charCodeAt(i);     }     return arrBuff; }     function arrayBufferToString(buffer) {     var binary = '';     var bytes = new Uint8Array(buffer);     var len = bytes.byteLength;     for (var i = 0; i &lt; len; i++) {         binary += String.fromCharCode(bytes[i]);     }     return binary; }     function convertDER(pem){     var pemHeader = ""-----BEGIN PRIVATE KEY-----"";     var pemFooter = ""-----END PRIVATE KEY-----"";     var pemContents = pkcs8pem.substring(pemHeader.length, pkcs8pem.length - pemFooter.length);     var binaryDerString = window.atob(pemContents);     var pkcs8 = stringToArrayBuffer(binaryDerString);     return pkcs8; }</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/forge/0.10.0/forge.min.js""&gt;&lt;/script&gt;</code></pre> </div> </div> </p> <p>with the output:</p> <pre class=""lang-none prettyprint-override""><code>Final result 30FD001CFD12D0A3DF000D216C82C47E </code></pre> <p>The Python code returns the same result for the same key and plaintext.</p> <pre class=""lang-py prettyprint-override""><code>from Crypto.Hash import SHA256, MD5 from Crypto.PublicKey import RSA from Crypto.Signature import PKCS1_v1_5  key_bytes = '''-----BEGIN PRIVATE KEY----- MIIBVQI... -----END PRIVATE KEY-----'''  message = &quot;The quick brown fox jumps over the lazy dog&quot;.encode('utf-8') key = RSA.import_key(key_bytes)  h = SHA256.new(message) signer = PKCS1_v1_5.new(key)  signature = signer.sign(h) md5_digest = MD5.new(signature)  result = str(md5_digest.digest().hex()).upper() print(result) # 30FD001CFD12D0A3DF000D216C82C47E </code></pre> <hr /> <p>As already noted in the comments, due to the MD5 hash, verification using the public key is not possible (but apparently not intended).</p> <p>Also, <em>WebCrypto</em> provides the <code>SubtleCrypto.digest()</code> function to determine a hash, so the <em>forge</em> library is actually not really necessary (at least for hashing).</p> <p>I've not analyzed the key import in more detail, so there may be problems here as well.</p>"			2021-06-26 15:37:26.27 UTC
68153975	javascript|node.js|lodash	How to return a similar Python list of tuple of list and string in JavaScript	"<p>I am writing a program in JavaScript , that will traverse a nested <code>JSON schema</code> and I want it to return a list of tuple of <code>Paths</code> and <code>Values</code> for a given <code>schema key</code></p> <p>This is my sample data</p> <pre><code>var data = {&quot;a&quot;:&quot;hello&quot;,             &quot;b&quot;:{&quot;a&quot;:&quot;world&quot;},             &quot;c&quot;:[{&quot;a&quot;:&quot;Good&quot;},{&quot;d&quot;:&quot;Morning&quot;}]} </code></pre> <p>And I want my program to return for given key <code>a</code></p> <pre><code> [(['a'],'hello'),(['b','a'],'world'),(['c',0,'a'],'Good')] </code></pre> <p>Below is my script , currently it returns <code>values</code> of <code>key 'a'</code> <code>[ 'hello', 'world', 'Good' ]</code>.And I am able to console the <code>Paths</code> too , but unable to return both <code>Paths</code> and <code>values</code> in above mentioned format.</p> <pre><code>var _ = require('lodash');  function _generate_values(data, key,path){     if (Array.isArray(data)) {          return _.map(data,function(x, idx){             return _generate_values(x, key,path.concat([idx]))           }         )     }else if(typeof data===&quot;object&quot;){         return _.map(             _.keys(data),             function(x){                  if(x===key){                     console.log(path.concat(x)) // consoles paths ['a'],['b','a'],['c',0,'a']                     return _.get(data,x) // returns [ 'hello', 'world', 'Good' ]                 }else{                     return _generate_values(_.get(data, x), key,path.concat([x]))                 }                              }         )     }else{         return null     } }       function find_values_(data, key, paths =false)     {            return( _.chain(_generate_values(data, key,[]))             .flattenDeep()             .compact()             .value()        )     }    console.log(find_values_(data,'a')) </code></pre>"	2021-06-27 18:04:28.243 UTC	68154031	"<p>JavaScript don't have tuples, but you can return a 2-element array.</p> <p><code>return [path, _.get(data,x)]</code></p>"			2021-06-27 18:10:27.84 UTC
68154390	python	Finding url from base64 formatted text inside JavaScript using Python	"<p>How I can find the base64 based contents between document.write(Base64.decode(&quot; and &quot;)); using either regular expression using Python from given webpage and then find the URL which is inside base64 in following fashion</p> <pre><code>&lt;div class=&quot;content_swf&quot; style=&quot;position: relative;&quot;&gt;     &lt;div class=&quot;player&quot;&gt;         &lt;div class=&quot;mediaplayer&quot; id=&quot;mediaplayer&quot;&gt; &lt;script type=&quot;text/javascript&quot;&gt;document.write(Base64.decode(&quot;PGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBhbGxvd2Z1bGxzY3JlZW4gd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBmcmFtZWJvcmRlcj0iMCIgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PU9jajBzVkI5eWtZIiBzY3JvbGxpbmc9Im5vIj48L2lmcmFtZT4==&quot;));&lt;/script&gt;         &lt;/div&gt;     &lt;/div&gt; &lt;/div&gt; </code></pre> <p>So the final URL I want to extract is - <a href=""https://www.youtube.com/watch?v=Ocj0sVB9ykY"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=Ocj0sVB9ykY</a></p> <p>I was able to decode  using following code but was not able to extract base64 string from URL webpage using regular expression or Beautifulsoup</p> <pre><code>import requests, re, base64 v = &quot;PGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBhbGxvd2Z1bGxzY3JlZW4gd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBmcmFtZWJvcmRlcj0iMCIgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PU9jajBzVkI5eWtZIiBzY3JvbGxpbmc9Im5vIj48L2lmcmFtZT4==&quot; b64 = base64.b64decode(v).decode('utf-8') print(&quot;Decoding: &quot; + b64) #this works but following not working html = base64.b64decode(url).decode('utf8') url = re.findall(r'''&lt;iframe\s*src=[&quot;']([^&quot;']+)''', html)[0]  </code></pre> <p>not working.</p>"	2021-06-27 18:56:21.463 UTC	68159859	"<pre class=""lang-py prettyprint-override""><code>import base64 import re  html = &quot;&quot;&quot; &lt;div class=&quot;content_swf&quot; style=&quot;position: relative;&quot;&gt;     &lt;div class=&quot;player&quot;&gt;         &lt;div class=&quot;mediaplayer&quot; id=&quot;mediaplayer&quot;&gt; &lt;script type=&quot;text/javascript&quot;&gt;document.write(Base64.decode(&quot;PGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBhbGxvd2Z1bGxzY3JlZW4gd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBmcmFtZWJvcmRlcj0iMCIgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PU9jajBzVkI5eWtZIiBzY3JvbGxpbmc9Im5vIj48L2lmcmFtZT4==&quot;));&lt;/script&gt;         &lt;/div&gt;     &lt;/div&gt; &lt;/div&gt; &quot;&quot;&quot;  b64_regex = re.compile(r'Base64.decode\(&quot;([a-zA-Z0-9+/=]*)&quot;\)') b64_match = b64_regex.search(html) assert b64_match is not None b64_value = b64_match.group(1) iframe = base64.b64decode(b64_value, validate=True).decode(&quot;utf-8&quot;)  src_regex = re.compile(r'src=&quot;([^&quot;]*)&quot;') src_match = src_regex.search(iframe) assert src_match is not None url_value = src_match.group(1)  print(url_value)  # prints: https://www.youtube.com/watch?v=Ocj0sVB9ykY </code></pre>"			2021-06-28 08:16:58.623 UTC
68176598	javascript|python|selenium	"Python Selenium: input textbox, send_keys not working (angular javascript??)"	"<p>Python Selenium: input textbox, send_keys not working.</p> <p>I am new to python.</p> <p>I am using Selenium to input a new text in the textbox. However, the existing data cannot be cleared, and a new text cannot be entered either.</p> <h2 id=""my-code-is-below"">My code is below.</h2> <pre><code>element = driver.find_element_by_xpath(&quot;//li//mini-quote//div//mini-quote-symbol-info//div//quote-symbol-input//div[@class='container']&quot;)  element.click() # &lt;== OK, clicked  element.clear() # &lt;== error message &quot;ElementNotInteractableException: Message: element not interactable&quot; </code></pre> <h2 id=""element.send_keystkk-error-message-elementnotinteractableexception-message-element-not-interactable"">element.send_keys(&quot;TKK&quot;) # &lt;== error message &quot;ElementNotInteractableException: Message: element not interactable&quot;</h2> <p>I think the element is found (because it was clicked), but anyway, the clear(), send_keys() functions do not work on this website. What is the problem?</p> <p>The source code in the inspection is below.</p> <p>(Pic) <a href=""https://i.stack.imgur.com/vdrto.png"" rel=""nofollow noreferrer"">enter image description here</a></p> <p>As in the above web-source code,</p> <p>Thanks.</p>"	2021-06-29 10:05:54.16 UTC	68176704	<p>try to interact with ActionChains :</p> <pre><code>element = driver.find_element_by_xpath(&quot;//li//mini-quote//div//mini-quote-symbol-info//div//quote-symbol-input//div[@class='container']&quot;) ActionChains(driver).move_to_element(element).click().perform() </code></pre> <p>and make sure to launch the browser in full screen mode :</p> <pre><code>driver.maximize_window() </code></pre>			2021-06-29 10:12:33.817 UTC
68179744	javascript|python|html|django|view	How to access array of python in JavaScript from Views in Django?	"<p>I am writing this array in Views in Django:</p> <pre><code>address=[&quot;Main Address&quot;] </code></pre> <p>and passing in dic. and accessing in Java Script in HTML page:</p> <pre><code>address={{context.lat_long.address}} addMarker(address,{lat: property_lat, lng: property_long}, &quot;red&quot;); </code></pre> <p>But it is not working at all</p>"	2021-06-29 13:32:36.723 UTC	68179819	"<p>You need to understand how Django templating works. The template data (Jinja) are generated in the backend, before sending the page. The JS code is runing in the front.</p>"			2021-06-29 13:36:46.357 UTC
68179744	javascript|python|html|django|view	How to access array of python in JavaScript from Views in Django?	"<p>I am writing this array in Views in Django:</p> <pre><code>address=[&quot;Main Address&quot;] </code></pre> <p>and passing in dic. and accessing in Java Script in HTML page:</p> <pre><code>address={{context.lat_long.address}} addMarker(address,{lat: property_lat, lng: property_long}, &quot;red&quot;); </code></pre> <p>But it is not working at all</p>"	2021-06-29 13:32:36.723 UTC	68180088	"<p>You can do it in the following way, In django views,</p> <pre><code>address=[&quot;Main Address&quot;] return render_template('page.html', address=address) </code></pre> <p>In the page.html and the attached javascript, you can access the variable as,</p> <pre><code>var a = {{ address }}; </code></pre>"			2021-06-29 13:52:27.12 UTC
68189916	javascript|python|ruby	"Ruby and other languages(Python, JavaScript) different hmac sha256 result"	"<p>I have Ruby 2.5.3 code that create hmac with sha256</p> <pre class=""lang-rb prettyprint-override""><code>require 'openssl'  key = '4629de5def93d6a2abea6afa9bd5476d9c6cbc04223f9a2f7e517b535dde3e25' message = 'lucas' hash = OpenSSL::HMAC.hexdigest('sha256', key, message)  hash =&gt; ba2e2505c6f302fb3c40bea4491d95bacd96c3d12e8fbe50197ca431165fcee2 </code></pre> <p>But the result is different from Python &amp; JavaScript code. What should I do in Ruby code to have the same result as from the others?</p> <p>Python</p> <pre class=""lang-py prettyprint-override""><code>import hmac import hashlib import binascii  message = &quot;lucas&quot; key = &quot;4629de5def93d6a2abea6afa9bd5476d9c6cbc04223f9a2f7e517b535dde3e25&quot; hash = hmac.new(     binascii.unhexlify(bytearray(key, &quot;utf-8&quot;)),     msg=message.encode('utf-8'),     digestmod=hashlib.sha256 ).hexdigest()  hash =&gt; 99427c7bba36a6902c5fd6383f2fb0214d19b81023296b4bd6b9e024836afea2 </code></pre> <p>JavaScript</p> <pre class=""lang-js prettyprint-override""><code>const crypto = require('crypto');  const message = 'lucas'; const key = '4629de5def93d6a2abea6afa9bd5476d9c6cbc04223f9a2f7e517b535dde3e25';  const hash = crypto.createHmac('sha256', Buffer.from(key, 'hex'))                 .update(message)                 .digest('hex');  hash =&gt; 99427c7bba36a6902c5fd6383f2fb0214d19b81023296b4bd6b9e024836afea2 </code></pre>"	2021-06-30 07:05:23.833 UTC	68192790	"<blockquote> <p>In Python and JS you are using the &quot;key&quot; as hexstring, means that the hexstring is converted to a binary format. In Ruby the key is used without conversion. â€“ Michael Fehr</p> </blockquote> <p>This gave me the solution.</p> <pre class=""lang-rb prettyprint-override""><code>key = '4629de5def93d6a2abea6afa9bd5476d9c6cbc04223f9a2f7e517b535dde3e25' message = 'lucas' puts OpenSSL::HMAC.hexdigest('sha256', [key].pack('H*') , message)  hash =&gt; 99427c7bba36a6902c5fd6383f2fb0214d19b81023296b4bd6b9e024836afea2 </code></pre> <p>thank you!</p>"			2021-06-30 10:11:52.033 UTC
68235846	javascript|flask|fetch-api	Fetching json data - javascript to python server	"<p>I'm having problems with fetching data from javascript function</p> <p>This is the code I'm using to fetch:<br></p> <pre><code>async function postSearchString(searchString) {     let data = {'searchString': searchString};     const response = await fetch('http://127.0.0.1:5000/search', {         method: 'POST',         mode: &quot;no-cors&quot;,         body: JSON.stringify(data),         headers: new Headers({           'content-type': 'application/json'         })     });     if (response.ok) {         return await response.json();     } }  </code></pre> <p>for the server side i use python flask</p> <pre><code>@app.route('/search', methods=['POST']) def select_by_country():     req = request.data.decode('utf8')     search_string = json.loads(req).get('searchString')     result = []     con = sqlite3.connect(&quot;example.db&quot;)     cur = con.cursor()     for row in cur.execute(&quot;SELECT destinationCountry FROM roaming_data WHERE destinationCountry LIKE ?&quot;, (search_string,)):         result.append(row)     return Response(json.dumps({         &quot;results&quot;: result,     }), mimetype=&quot;application/json&quot;, status=http.HTTPStatus.OK) </code></pre> <p>Now when i use postman to test the api it works but when use the frontend function, response.ok is false &amp; the body is empty</p> <p>any idea why?</p>"	2021-07-03 11:28:31.84 UTC	68236280	<p>I've Added CORS to my flask server removed the mode parameter from the fetch request &amp; it worked</p> <pre><code>pip install flask-cors </code></pre> <p>then</p> <pre><code>from flask_cors import CORS  app = flask.Flask(__name__) CORS(app) </code></pre>			2021-07-03 12:29:00.823 UTC
68235846	javascript|flask|fetch-api	Fetching json data - javascript to python server	"<p>I'm having problems with fetching data from javascript function</p> <p>This is the code I'm using to fetch:<br></p> <pre><code>async function postSearchString(searchString) {     let data = {'searchString': searchString};     const response = await fetch('http://127.0.0.1:5000/search', {         method: 'POST',         mode: &quot;no-cors&quot;,         body: JSON.stringify(data),         headers: new Headers({           'content-type': 'application/json'         })     });     if (response.ok) {         return await response.json();     } }  </code></pre> <p>for the server side i use python flask</p> <pre><code>@app.route('/search', methods=['POST']) def select_by_country():     req = request.data.decode('utf8')     search_string = json.loads(req).get('searchString')     result = []     con = sqlite3.connect(&quot;example.db&quot;)     cur = con.cursor()     for row in cur.execute(&quot;SELECT destinationCountry FROM roaming_data WHERE destinationCountry LIKE ?&quot;, (search_string,)):         result.append(row)     return Response(json.dumps({         &quot;results&quot;: result,     }), mimetype=&quot;application/json&quot;, status=http.HTTPStatus.OK) </code></pre> <p>Now when i use postman to test the api it works but when use the frontend function, response.ok is false &amp; the body is empty</p> <p>any idea why?</p>"	2021-07-03 11:28:31.84 UTC	68235928	"<p>The Problem is you return an json string but need to return json from your api.</p> <p>Try:</p> <pre class=""lang-py prettyprint-override""><code>from flask import jsonify, make_response  @app.route('/search', methods=['POST']) def select_by_country():     req = request.data.decode('utf8')     search_string = json.loads(req).get('searchString')     result = []     con = sqlite3.connect(&quot;example.db&quot;)     cur = con.cursor()     for row in cur.execute(&quot;SELECT destinationCountry FROM roaming_data WHERE destinationCountry LIKE ?&quot;, (search_string,)):         result.append(row)     return make_response(jsonify({         &quot;results&quot;: result,     }), 200) </code></pre>"			2021-07-03 11:40:27.17 UTC
68237758	javascript|python-3.x	javascript Number('.1') is not equal to python Decimal('.1')	"<p>I am sending an js object to Django backend:</p> <pre class=""lang-json prettyprint-override""><code>  {     name: &quot;somename&quot;,      mynumber:Number('.1')   } </code></pre> <p>In Django backend i have an array:</p> <pre class=""lang-py prettyprint-override""><code>  arr = [Decimal(&quot;.1&quot;),Decimal(&quot;1&quot;),Decimal('2'),.....] </code></pre> <p>When i get an integer type number from mynumber front end, python recognizes the number. But when i send an float type number such as <strong>Number('.1')</strong> or <strong>Number('.2')</strong>, this number i cannot compare with python <strong>Decimal('.1')</strong> or <strong>Decimal('.2')</strong>.</p> <p>How can i send the front end number so that i can compare the number with <strong>Decimal('.1')</strong> or <strong>Decimal('.2')</strong>?</p>"	2021-07-03 15:46:49.427 UTC	68256005	<p>after doing some investigation on my project i decided that i will change in the backend file as Decimal(object.mynumber) rather changing in the frontend. In this case i have to make changes  in multiple places. But as i think it is better to send backend data as string.</p>			2021-07-05 12:17:14.87 UTC
68255805	javascript|python|user-interface|electron|eel	How to pass dropdown value from JavaScript to Python using Eel correctly?	"<p>I am creating a GUI using Python Eel.</p> <p>In this UI I have a drop down. user will select the value of dropdown and submit and that dropdown value will reflect in Python console.</p> <p>But I am unable to receive value from JavaScript.</p> <p>This is my Python code:</p> <pre><code>from random import randint import eel    eel.init(&quot;web&quot;)      # Exposing the random_python function to javascript @eel.expose     def random_python():     print(&quot;Random function running&quot;)     return randint(1,100)   @eel.expose def getList():     lst = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]     return lst    eel.spawn(eel.js_myval()())       eel.start(&quot;index.html&quot;) </code></pre> <p>This is my JavaScript:</p> <pre><code>let lst =document.getElementById(&quot;cate&quot;)  document.getElementById(&quot;submit&quot;).addEventListener(&quot;click&quot;,()=&gt;{         eel.expose(js_myval)// here i am using eel expose         function js_myval(){             return lst.value;     }                  }) </code></pre> <p>This is my html:</p> <pre><code>    &lt;select name=&quot;meesho_category&quot; id=&quot;cate&quot;&gt;         &lt;option value=&quot;x&quot;&gt;x&lt;/option&gt;         &lt;option value=&quot;x&quot;&gt;a&lt;/option&gt;         &lt;option value=&quot;x&quot;&gt;b&lt;/option&gt;      &lt;/select&gt; </code></pre> <h2>Read these</h2> <p><a href=""https://stackoverflow.com/questions/63364441/pass-javascript-variable-value-to-python-with-eel"">Pass JavaScript Variable Value to Python with Eel</a></p> <p><a href=""https://github.com/ChrisKnott/Eel"" rel=""nofollow noreferrer"">https://github.com/ChrisKnott/Eel</a></p>"	2021-07-05 12:00:28.153 UTC	68537742	"<p>I'm going to answer your narrow question about passing the dropdown value from JavaScript to Python, and ignore code that isn't related to that question.</p> <hr /> <p>First, let's rewrite your JavaScript like this so it focuses on your question:</p> <pre class=""lang-js prettyprint-override""><code>document.getElementById(&quot;btn-submit&quot;).addEventListener(&quot;click&quot;,()=&gt;{submit()}, false);  function submit() {     eel.on_submit(document.getElementById(&quot;cate&quot;).value) } </code></pre> <p>That JavaScript code defines a click handler for the <code>btn-submit</code> button, which will read the value of <code>cate</code> dropdown and send it to Python code.</p> <hr /> <p>Next, let's do the same trim down of the Python file:</p> <pre class=""lang-py prettyprint-override""><code>import eel    eel.init(&quot;web&quot;)  @eel.expose def on_submit(cate_dropdown_val):     print(f&quot;cate val submitted: {cate_dropdown_val}&quot;)  eel.start(&quot;index.html&quot;) </code></pre> <p>This code exposes the <code>on_submit</code> function from Python to JavaScript. You'll notice it's being called in the JavaScript block listed above inside of the <code>submit</code> function.</p> <hr /> <p>Lastly, let's look at the HTML:</p> <pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script type=&quot;text/javascript&quot; src=&quot;eel.js&quot;&gt;&lt;/script&gt;             &lt;/head&gt;     &lt;body&gt;         &lt;select name=&quot;meesho_category&quot; id=&quot;cate&quot;&gt;             &lt;option value=&quot;x&quot;&gt;x&lt;/option&gt;             &lt;option value=&quot;a&quot;&gt;a&lt;/option&gt;             &lt;option value=&quot;b&quot;&gt;b&lt;/option&gt;             &lt;/select&gt;         &lt;button id=&quot;btn-submit&quot;&gt;Submit&lt;/button&gt;     &lt;/body&gt;     &lt;script type=&quot;text/javascript&quot; src=&quot;js/app.js&quot;&gt;&lt;/script&gt; &lt;/html&gt; </code></pre> <p>This HTML defines the <code>cate</code> dropdown element, a Submit button, and imports the <code>eel.js</code> and custom <code>app.js</code> shown above.</p> <hr /> <p>When the application is run, and a user clicks the submit button, the Python console will print out the value of the <code>cate</code> dropdown to the console.</p> <p>From the other code in your example, it looks like you want to build more stuff. Please open a new question with the additional help you might need.</p>"			2021-07-27 00:45:24.457 UTC
68262836	javascript|reactjs|plotly-dash|custom-component	How to get array of objects in javascript from an array of dictionaries in python?	"<p>I'm trying to use an array of dictionaries in python as arguement to a custom dash component and use it as array of objects</p> <p>in python :</p> <pre><code>audioList_py = [     {         &quot;name&quot;: &quot;random&quot;,         &quot;singer&quot;: 'waveGAN\'s music',         &quot;cover&quot;:           'link_1.jpg',         &quot;musicSrc&quot;:           'link_1.mp3',     },     {         &quot;name&quot;: &quot;random&quot;,         &quot;singer&quot;: 'waveGAN\'s music',         &quot;cover&quot;:           'link_2.jpg',         &quot;musicSrc&quot;:           'link_2.mp3',     },   ... etc ] </code></pre> <p>in Javascript:</p> <pre><code>audioList1_js = [         {             name: &quot;random&quot;,             singer: 'waveGAN\'s music',             cover:'link_1.jpg',             musicSrc: 'link_1.mp3',         },         {             name: &quot;random&quot;,             singer: 'waveGAN\'s music',             cover: 'link_2.jpg',             musicSrc: 'link_2.mp3',         },       ... etc     ] </code></pre> <p>Here is snippet of javascript code of the dash custom component:</p> <pre><code>export default class MusicComponent extends Component {     render() {       const {id, audioLists} = this.props;         return (             &lt;div&gt;                 &lt;h1&gt;{id}&lt;/h1&gt;                 &lt;ReactJkMusicPlayer audioLists={audio_list}/&gt;,             &lt;/div&gt;         );     } }  MusicComponent.defaultProps = {};  MusicComponent.propTypes = {     /**      * The ID used to identify this component in Dash callbacks.      */     audios: PropTypes.array,     id: PropTypes.string,  }; </code></pre> <p>And using the generated component in python:</p> <pre><code>app = dash.Dash(__name__) app.layout = html.Div([     music_component.MusicComponent(audios=audioList_py),     html.Div(id='output'),     ... etc ]) </code></pre> <p>But I got :</p> <pre><code>TypeError: The `music_component.MusicComponent` component (version 0.0.1) received an unexpected keyword argument: `audios`Allowed arguments: id </code></pre> <p>What I am doing wrong ?</p> <p>Any help or advice will be appreciated, Thanks a lot.</p>"	2021-07-05 22:59:35.777 UTC	68267220	"<p>Make sure you run <code>npm run build</code> after you make a change to your custom React component. With those proptypes you shouldn't get that error. If I remove the <code>audios</code> proptype I can reproduce that error.</p> <p>Besides that you pass a value to the <code>audios</code> property:</p> <pre><code>music_component.MusicComponent(audios=audioList_py) </code></pre> <p>but you try to retrieve <code>audioLists</code> from props:</p> <pre><code>const {id, audioLists} = this.props; </code></pre> <p>Change this to:</p> <pre><code>const {id, audios} = this.props; </code></pre> <p>Demo</p> <pre><code>export default class MusicComponent extends Component {     render() {         const {id, audios} = this.props;         return (             &lt;div&gt;                 &lt;h1&gt;{id}&lt;/h1&gt;                 &lt;ReactJkMusicPlayer audioLists={audios} /&gt;             &lt;/div&gt;         );     } }  MusicComponent.defaultProps = {};  MusicComponent.propTypes = {     /**      * The ID used to identify this component in Dash callbacks.      */     id: PropTypes.string,      audios: PropTypes.array, }; </code></pre>"			2021-07-06 08:38:33.397 UTC
68262836	javascript|reactjs|plotly-dash|custom-component	How to get array of objects in javascript from an array of dictionaries in python?	"<p>I'm trying to use an array of dictionaries in python as arguement to a custom dash component and use it as array of objects</p> <p>in python :</p> <pre><code>audioList_py = [     {         &quot;name&quot;: &quot;random&quot;,         &quot;singer&quot;: 'waveGAN\'s music',         &quot;cover&quot;:           'link_1.jpg',         &quot;musicSrc&quot;:           'link_1.mp3',     },     {         &quot;name&quot;: &quot;random&quot;,         &quot;singer&quot;: 'waveGAN\'s music',         &quot;cover&quot;:           'link_2.jpg',         &quot;musicSrc&quot;:           'link_2.mp3',     },   ... etc ] </code></pre> <p>in Javascript:</p> <pre><code>audioList1_js = [         {             name: &quot;random&quot;,             singer: 'waveGAN\'s music',             cover:'link_1.jpg',             musicSrc: 'link_1.mp3',         },         {             name: &quot;random&quot;,             singer: 'waveGAN\'s music',             cover: 'link_2.jpg',             musicSrc: 'link_2.mp3',         },       ... etc     ] </code></pre> <p>Here is snippet of javascript code of the dash custom component:</p> <pre><code>export default class MusicComponent extends Component {     render() {       const {id, audioLists} = this.props;         return (             &lt;div&gt;                 &lt;h1&gt;{id}&lt;/h1&gt;                 &lt;ReactJkMusicPlayer audioLists={audio_list}/&gt;,             &lt;/div&gt;         );     } }  MusicComponent.defaultProps = {};  MusicComponent.propTypes = {     /**      * The ID used to identify this component in Dash callbacks.      */     audios: PropTypes.array,     id: PropTypes.string,  }; </code></pre> <p>And using the generated component in python:</p> <pre><code>app = dash.Dash(__name__) app.layout = html.Div([     music_component.MusicComponent(audios=audioList_py),     html.Div(id='output'),     ... etc ]) </code></pre> <p>But I got :</p> <pre><code>TypeError: The `music_component.MusicComponent` component (version 0.0.1) received an unexpected keyword argument: `audios`Allowed arguments: id </code></pre> <p>What I am doing wrong ?</p> <p>Any help or advice will be appreciated, Thanks a lot.</p>"	2021-07-05 22:59:35.777 UTC	68272294	"<p>Issue fixed, I should run : <code>npm run build:backends</code> to generate the Python, R and Julia class files for the components, but instead I was executing <code>npm run build:js</code> and this command just generate the JavaScript bundle (which didn't know about the new props).</p> <p>And set the audios property in the component to be like so:</p> <pre><code>MusicComponent.defaultProps = {audios: audioList1};  MusicComponent.propTypes = {     id: PropTypes.string,     audios: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired }; </code></pre>"			2021-07-06 14:20:40.023 UTC
68275810	javascript|python|datetime|timezone	Javascript timezone offset not compatible with python datetime	<p>I want to parse a string generated by javascript that looks like: <strong>2021-03-10 03:15 -180</strong> I'm using the parser from datetime in python and it doesn't recognize the timezone offset generated by javascript. Any ideas?</p> <pre><code>dateutil.parser._parser.ParserError: Unknown string format: 2021-03-10 03:15 -180 </code></pre>	2021-07-06 18:34:56.683 UTC	68276030	"<p>Parse the date and timezone offset differently. You can do something like:</p> <pre><code>from datetime import datetime, timedelta, timezone my_date = '2021-03-10 03:15 -180' date_string, tz_offset = my_date.rsplit(' ', 1) dt = datetime.strptime(date_string, '%Y-%m-%d %H:%M') + timedelta(minutes=int(tz_offset)) dt = dt.replace(tzinfo=timezone.utc) </code></pre> <p>which will give you the correct time in UTC. If you need to work with a different timezone, you can convert the time to another timezone using <code>dt.astimezone(my_new_timezone)</code></p>"			2021-07-06 18:52:34.093 UTC
68284943	javascript|python|language-binding	Use Python to call a JavaScript function that is on a webpage	"<p>I created a webpage that has one JavaScript function called <code>foo(z)</code>. For the sake of this question, let's assume that all <code>foo(z)</code> does is call <code>console.log(z)</code>.</p> <p>Is it possible to run a Python script that can trigger the JavaScript <code>foo(z)</code> function that exists on the webpage?</p> <p>In other words, I load up the webpage in my browser that contains <code>foo(z)</code>. Then I execute the Python script on my local machine and it reaches into the browser and calls the JavaScript <code>foo(z)</code> function and you thus see <code>z</code> output to the browser console (because all <code>foo(z)</code> does is call <code>console.log(z)</code>).</p> <p>It seems like there is a lot of info on executing JavaScript with Python, but I don't think any of those resources deal with executing a JavaScript function that is inside a webpage.</p> <p>Edit: I built a game on a webpage that humans can play. Now I want to create a Python bot that can call the JavaScript functions on the webpage so that it too can play the game.</p>"	2021-07-07 11:14:01.43 UTC	68484397	"<p>Hi so one possible solution would be to use ajax with flask to comunicate between javascript and python. You would run a server with flask and then open the website in a browser. This way you could run javascript functions when the website is created via pythoncode or with a button how it is done in this example.</p> <p>in getJSON the function argument receives the result of the python function. here you could run js code depending on the output and run your function foo(z) as an if condition</p> <p>also with flask you determine which js code you want to show to your client.</p> <p>HTML code:</p> <pre class=""lang-html prettyprint-override""><code>  &lt;html&gt; &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;   &lt;script&gt;     function pycall() {       $.getJSON('/pycall', {content: &quot;content from js&quot;},function(data) {           //run here your function on if(data.result==0) for example           alert(data.result);       });     } &lt;/script&gt;   &lt;button type=&quot;button&quot; onclick=&quot;pycall()&quot;&gt;click me&lt;/button&gt;    &lt;/html&gt; </code></pre> <p>Python Code:</p> <pre class=""lang-py prettyprint-override""><code>from flask import Flask, jsonify, render_template, request  app = Flask(__name__)   def load_file(file_name):     data = None     with open(file_name, 'r') as file:         data = file.read()     return data  @app.route('/pycall') def pycall():     content = request.args.get('content', 0, type=str)          print(&quot;call_received&quot;,content)     return jsonify(result=&quot;data from python&quot;)  @app.route('/') def index():     return load_file(&quot;basic.html&quot;)    import webbrowser print(&quot;opening localhost&quot;) url = &quot;http://127.0.0.1:5000/&quot; webbrowser.open(url) app.run() </code></pre> <p>output in python:</p> <p><code>call_received content from js</code></p> <p>alert in browser:</p> <p><code>data from python</code></p>"			2021-07-22 11:54:57.457 UTC
68284943	javascript|python|language-binding	Use Python to call a JavaScript function that is on a webpage	"<p>I created a webpage that has one JavaScript function called <code>foo(z)</code>. For the sake of this question, let's assume that all <code>foo(z)</code> does is call <code>console.log(z)</code>.</p> <p>Is it possible to run a Python script that can trigger the JavaScript <code>foo(z)</code> function that exists on the webpage?</p> <p>In other words, I load up the webpage in my browser that contains <code>foo(z)</code>. Then I execute the Python script on my local machine and it reaches into the browser and calls the JavaScript <code>foo(z)</code> function and you thus see <code>z</code> output to the browser console (because all <code>foo(z)</code> does is call <code>console.log(z)</code>).</p> <p>It seems like there is a lot of info on executing JavaScript with Python, but I don't think any of those resources deal with executing a JavaScript function that is inside a webpage.</p> <p>Edit: I built a game on a webpage that humans can play. Now I want to create a Python bot that can call the JavaScript functions on the webpage so that it too can play the game.</p>"	2021-07-07 11:14:01.43 UTC	68284987	"<p>You cannot directly execute the javascript from python.</p> <p>If you are running a local server, you can communicate with the page using a websocket and make it execute the JS function when the python page emits a signal to do so. The <a href=""https://flask.palletsprojects.com/en/2.0.x/"" rel=""nofollow noreferrer"">Flask</a> framework can be useful.</p> <p>You can also see this question : <a href=""https://stackoverflow.com/questions/8284765/how-do-i-call-a-javascript-function-from-python"">How do I call a Javascript function from Python?</a>.</p>"			2021-07-07 11:17:29.983 UTC
68286188	javascript|python|flask	Fetch file in Python. flask code coming from javascript	"<p>This is my javascript function which is routing a csv file to /uploader.</p> <pre><code>function getData() { var csv=document.getElementById('myFile').files[0]; var formData=new FormData(); formData.append(&quot;uploadCsv&quot;,csv); var request = new XMLHttpRequest(); //Open first, before setting the request headers. request.open(&quot;POST&quot;, &quot;/uploader&quot;, true); //here you can set the request header to set the content type, this can be avoided. //The browser sets the setRequestHeader and other headers by default based on the formData that is being passed in the request. request.setRequestHeader(&quot;Content-type&quot;, &quot;multipart/form-data&quot;); //----(*) request.onreadystatechange = function (){     if(request.readyState === XMLHttpRequest.DONE &amp;&amp; request.status === 200) {     console.log(request.response);     } }  request.send(formData); </code></pre> <p>}</p> <p>My python function does get invoked to the app routing part seems to correct. However the <code>request.files</code> length is 0. This is the python code -</p> <pre><code>@app.route(&quot;/uploader&quot;, methods=[&quot;POST&quot;]) def post_javascript_data():   f = request.files[&quot;uploadCsv&quot;]   print(f)   return &quot;OK&quot; </code></pre> <p>In the picture below you can see the request.files length remains 0. What am I doing wrong here?</p> <p><a href=""https://i.stack.imgur.com/GJ4l7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GJ4l7.png"" alt=""enter image description here"" /></a></p>"	2021-07-07 12:35:43.253 UTC	68292281	"<p>The solution is to not manually set the header for the content type. This is set automatically.</p> <p>The following is an example with XMLHttpRequest and alternatively with <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch</a>.</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;title&gt;&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;!-- Using XMLHttpRequest --&gt;     &lt;form name=&quot;upload-form-1&quot;&gt;       &lt;input type=&quot;file&quot; name=&quot;upload-csv&quot; accept=&quot;text/csv&quot; /&gt;       &lt;input type=&quot;submit&quot; /&gt;     &lt;/form&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       (function() {         let form = document.querySelector(&quot;form[name='upload-form-1']&quot;);         form.addEventListener(           &quot;submit&quot;,           (event) =&gt; {             event.preventDefault();             let xhr = new XMLHttpRequest();             xhr.open(&quot;POST&quot;, &quot;/uploader&quot;);             xhr.onload = function() {               if(this.status === 200) {                 console.log(this.response);               } else {                 console.error(`Error ${this.status} occurred.`)               }             }             xhr.send(new FormData(event.target));           },           false);       })();     &lt;/script&gt;      &lt;!-- Using Fetch --&gt;     &lt;form name=&quot;upload-form-2&quot;&gt;       &lt;input type=&quot;file&quot; name=&quot;upload-csv&quot; accept=&quot;text/csv&quot; /&gt;       &lt;input type=&quot;submit&quot; /&gt;     &lt;/form&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       (function() {         let form = document.querySelector(&quot;form[name='upload-form-2']&quot;);         form.addEventListener(           &quot;submit&quot;,           (event) =&gt; {             event.preventDefault();             fetch(&quot;/uploader&quot;, {               method: &quot;POST&quot;,               body: new FormData(event.target)             }).then(resp =&gt; {               console.log(resp);             }).catch(err =&gt; {               console.error(err);             });           },           false);       })();     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre> <pre><code>from flask import abort, make_response, request  @app.route('/uploader', methods=['POST']) def uploader():     if 'upload-csv' in request.files:         f = request.files['upload-csv']         # Use the object of the type werkzeug.FileStorage here.         return make_response('')     abort(400) </code></pre> <p>Have fun implementing your project.</p>"			2021-07-07 19:53:40.68 UTC
68315294	python-3.x|selenium|web-scraping|automation|selenium-chromedriver	"Sendkeys and javascript executor aren't working, how do I get text into this textbox with Selenium Python?"	"<p>I am trying to enter text into the min price and max price textboxes under the price option for Airbnb.com, for example:</p> <p><a href=""https://www.airbnb.com/s/Miami--Florida--United-States/homes?tab_id=home_tab&amp;refinement_paths%5B%5D=%2Fhomes&amp;flexible_trip_dates%5B%5D=august&amp;flexible_trip_dates%5B%5D=july&amp;flexible_trip_lengths%5B%5D=weekend_trip&amp;date_picker_type=calendar&amp;adults=4&amp;source=structured_search_input_header&amp;search_type=filter_change&amp;place_id=ChIJEcHIDqKw2YgRZU-t3XHylv8"" rel=""nofollow noreferrer"">https://www.airbnb.com/s/Miami--Florida--United-States/homes?tab_id=home_tab&amp;refinement_paths%5B%5D=%2Fhomes&amp;flexible_trip_dates%5B%5D=august&amp;flexible_trip_dates%5B%5D=july&amp;flexible_trip_lengths%5B%5D=weekend_trip&amp;date_picker_type=calendar&amp;adults=4&amp;source=structured_search_input_header&amp;search_type=filter_change&amp;place_id=ChIJEcHIDqKw2YgRZU-t3XHylv8</a></p> <p>But I cannot get any of my input to send over the default entries of min price 10 and max price 1000. I've tried send keys and the best I could do was get the entries to 0 by sending ctrl + all + del keys and after that the default values just came back. I saw that when send keys doesn't work, javascript executor can be a good alternative so I also tried that even with waiting for the elements to be clickable, but nothing is working. Here is my code and commented out is my failed attempt with send keys:</p> <pre><code>        # price_min = self.driver.find_element_by_id(&quot;price_filter_min&quot;)          element = WebDriverWait(self.driver, 5).until(             EC.presence_of_element_located((By.ID, &quot;price_filter_min&quot;))         )         # price_min.clear()         # price_min.click()         # price_min.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)         # price_min.send_keys(min_price)          self.driver.execute_script(&quot;arguments[0].click();&quot;, element)         self.driver.execute_script(&quot;arguments[0].setAttribute('value',arguments[1]);&quot;, element, 354)          # price_max = self.driver.find_element_by_id(&quot;price_filter_max&quot;)          element2 = WebDriverWait(self.driver, 5).until(             EC.presence_of_element_located((By.ID, &quot;price_filter_max&quot;))         )          # price_max.clear()         # price_max.click()         # price_max.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)         # price_max.send_keys(max_price)          self.driver.execute_script(&quot;arguments[0].click();&quot;, element2)         self.driver.execute_script(&quot;arguments[0].setAttribute('value',arguments[1]);&quot;, element2, 800) </code></pre> <p>What am I doing wrong?</p>"	2021-07-09 10:29:59.963 UTC	68316106	"<p>These inputs are not really inputs to set the mix and max values.<br /> They only reflecting limits set by horizontal slide bars.<br /> Try swiping them as described <a href=""https://stackoverflow.com/questions/58012330/how-to-swipe-to-right-or-left-with-selenium"">here</a> or <a href=""https://stackoverflow.com/questions/24198898/selenium-webdriver-drag-and-drop-to-scrollbar"">here</a><br /> Alternatively you can try setting the scroll bar attributes directly. See if that will work.</p>"			2021-07-09 11:37:21.027 UTC
68315294	python-3.x|selenium|web-scraping|automation|selenium-chromedriver	"Sendkeys and javascript executor aren't working, how do I get text into this textbox with Selenium Python?"	"<p>I am trying to enter text into the min price and max price textboxes under the price option for Airbnb.com, for example:</p> <p><a href=""https://www.airbnb.com/s/Miami--Florida--United-States/homes?tab_id=home_tab&amp;refinement_paths%5B%5D=%2Fhomes&amp;flexible_trip_dates%5B%5D=august&amp;flexible_trip_dates%5B%5D=july&amp;flexible_trip_lengths%5B%5D=weekend_trip&amp;date_picker_type=calendar&amp;adults=4&amp;source=structured_search_input_header&amp;search_type=filter_change&amp;place_id=ChIJEcHIDqKw2YgRZU-t3XHylv8"" rel=""nofollow noreferrer"">https://www.airbnb.com/s/Miami--Florida--United-States/homes?tab_id=home_tab&amp;refinement_paths%5B%5D=%2Fhomes&amp;flexible_trip_dates%5B%5D=august&amp;flexible_trip_dates%5B%5D=july&amp;flexible_trip_lengths%5B%5D=weekend_trip&amp;date_picker_type=calendar&amp;adults=4&amp;source=structured_search_input_header&amp;search_type=filter_change&amp;place_id=ChIJEcHIDqKw2YgRZU-t3XHylv8</a></p> <p>But I cannot get any of my input to send over the default entries of min price 10 and max price 1000. I've tried send keys and the best I could do was get the entries to 0 by sending ctrl + all + del keys and after that the default values just came back. I saw that when send keys doesn't work, javascript executor can be a good alternative so I also tried that even with waiting for the elements to be clickable, but nothing is working. Here is my code and commented out is my failed attempt with send keys:</p> <pre><code>        # price_min = self.driver.find_element_by_id(&quot;price_filter_min&quot;)          element = WebDriverWait(self.driver, 5).until(             EC.presence_of_element_located((By.ID, &quot;price_filter_min&quot;))         )         # price_min.clear()         # price_min.click()         # price_min.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)         # price_min.send_keys(min_price)          self.driver.execute_script(&quot;arguments[0].click();&quot;, element)         self.driver.execute_script(&quot;arguments[0].setAttribute('value',arguments[1]);&quot;, element, 354)          # price_max = self.driver.find_element_by_id(&quot;price_filter_max&quot;)          element2 = WebDriverWait(self.driver, 5).until(             EC.presence_of_element_located((By.ID, &quot;price_filter_max&quot;))         )          # price_max.clear()         # price_max.click()         # price_max.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)         # price_max.send_keys(max_price)          self.driver.execute_script(&quot;arguments[0].click();&quot;, element2)         self.driver.execute_script(&quot;arguments[0].setAttribute('value',arguments[1]);&quot;, element2, 800) </code></pre> <p>What am I doing wrong?</p>"	2021-07-09 10:29:59.963 UTC	68322808	"<p>I have written a code to replicate your scenario. Please take a look into it and let me know if you don't understand anything.</p> <pre><code>from selenium import webdriver from selenium.webdriver import ActionChains from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  options = webdriver.ChromeOptions() options.add_argument(&quot;start-maximized&quot;)  driver = webdriver.Chrome(options=options) driver.get(     'https://www.airbnb.co.in/s/Miami--Florida--United-States/homes?tab_id=home_tab&amp;refinement_paths%5B%5D=%2Fhomes&amp;'     'flexible_trip_dates%5B%5D=august&amp;flexible_trip_dates%5B%5D=july&amp;flexible_trip_lengths%5B%5D=weekend_trip&amp;date_'     'picker_type=calendar&amp;adults=4&amp;source=structured_search_input_header&amp;search_type=filter_change&amp;place_id=ChIJEcHID'     'qKw2YgRZU-t3XHylv8&amp;locale=en&amp;_set_bev_on_new_domain=1625828364_YTljYWI4OTA5ZjZh') wait = WebDriverWait(driver, 30) action = ActionChains(driver)  # Press OK for Cookie Preference try:     wait.until(EC.visibility_of_element_located((By.XPATH, &quot;(//button[text()='OK'])[2]&quot;))).click() except:     pass  # Click on Price Button wait.until(EC.visibility_of_element_located((By.XPATH, '//span[text()=&quot;Price&quot;]/ancestor::button'))).click()  # The minimum value present for the slider is 750. So you should not change it to 0.  minimum_Scroll = wait.until(EC.visibility_of_element_located((By.XPATH, '//button[@aria-label=&quot;Minimum Price&quot;]')))  # Here for the maximum price you can use the action class with drag_and_drop_by_offset method. maximum_Scroll = wait.until(EC.visibility_of_element_located((By.XPATH, '//button[@aria-label=&quot;Maximum Price&quot;]')))  # This action will drag the slider to near 10,000Rs [Currency Coming in Rs because I am in India, But you can adjust the Xoffset as per your requirement]. action.drag_and_drop_by_offset(maximum_Scroll, -202, 0).perform()  # Clicking save button SaveBtn = wait.until(EC.visibility_of_element_located((By.ID, 'filter-panel-save-button'))).click() </code></pre> <p>Hope this is what you are looking for.</p>"			2021-07-09 21:21:35.7 UTC
68326960	python|regex|web-scraping|beautifulsoup	how to extract javascript variables by using python bs4	"<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;var csrfMagicToken = &quot;sid:bf8be784734837a64a47fcc30b9df99,162591180&quot;;var csrfMagicName = &quot;__csrf_magic&quot;;&lt;/script&gt; </code></pre> <p>The above script tag is from a webpage.</p> <pre><code>script = soup.find_all('script')[5] </code></pre> <p>By using the above line of code I was able to extract the script tag which I want but I need to extract the value of variables in a python script,I am using BeautifulSoup in my python script to extract the data.</p>"	2021-07-10 10:43:48.023 UTC	68326980	"<p>You <em>could</em> use</p> <pre><code>(?:var|let)\s+(\w+)\s*=\s*&quot;([^&quot;]+)&quot; </code></pre> <p>See <a href=""https://regex101.com/r/RJBmP0/1/"" rel=""nofollow noreferrer""><strong>a demo on regex101.com</strong></a>.</p> <hr> <p><strong>Note:</strong> However, there are a couple of drawbacks in general to using regular expressions on code. E.g. with the above, sth. like <code>let x = -10;</code> would not be matched but would be totally valid <code>JavaScript</code> code. Also, single quotes are not supported (yet) - it totally depends on your actual input.</p> <hr> <p>That being said, you could go for:</p> <pre><code>(?:var|let)\s+ (?P&lt;key&gt;\w+)\s*=\s* (['&quot;])?(?(2)(?P&lt;value1&gt;.+?)\2|(?P&lt;value2&gt;[^;]+)) </code></pre> <p>See <a href=""https://regex101.com/r/T80F3E/1/"" rel=""nofollow noreferrer""><strong>another demo on regex101.com</strong></a>.</p> <hr> <p>This still leaves you helpless against escaped quotes like <code>let x = &quot;some \&quot; string&quot;;</code> or against variable declarations in comments. In general, favour a parser solution.</p>"			2021-07-10 10:47:55.413 UTC
68337654	javascript|python|css|plotly|plotly-dash	Adding JavaScript to my Plotly Dash app (Python)	"<p>I'm building a dashboard using Dash in Python. I have configured all the graphs nicely (it's running on the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">server here</a>) and the next step is to create a responsive navbar and a footer. Currently looks like this:</p> <p><a href=""https://i.stack.imgur.com/AISWe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AISWe.png"" alt=""enter image description here"" /></a></p> <p>And when I shrink the width, it looks like this:</p> <p><a href=""https://i.stack.imgur.com/V9vvt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/V9vvt.png"" alt=""enter image description here"" /></a></p> <p>I want to add functionality to this button so it would hide the three links on click. I'm trying to toggle the CSS 'active' attribute using JavaScript with this piece of code:</p> <pre><code> var toggleButton = document.getElementsByClassName('toggle-button')[0]  var navBarLinks = document.getElementsByClassName('navbar-links')[0]   function toggleFunction() {      navBarLinks.classList.toggle('active')  }   toggleButton.addEventListener('click', toggleFunction) </code></pre> <p>Basically, when the <code>navbar-links</code> class is active, I want it to be set as <code>display: flex</code>, and when it's not active I want it to be <code>display: none</code></p> <p>The HTML elements defined in Python screen are here:</p> <pre><code>    html.Nav([      html.Div('Covid-19 global data Dashboard', className='dashboard-title'),      html.A([html.Span(className='bar'),             html.Span(className='bar'),             html.Span(className='bar')],            href='#', className='toggle-button'),      html.Div(         html.Ul([             html.Li(html.A('Linked-In', href='#')),             html.Li(html.A('Source Code', href='#')),             html.Li(html.A('CSV Data', href='#'))         ]),         className='navbar-links'),  ], className='navbar') </code></pre> <p>I didn't expect that there would be issues with accessing elements through JavaScript. After doing some research I found out that JavaScript when executes <code>getElementsByClassName</code> function the returned value is null. That is because the function is run before the page is rendered (as far as I understand). It gives me this error:</p> <p><a href=""https://i.stack.imgur.com/zVi4n.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zVi4n.png"" alt=""enter image description here"" /></a></p> <p>This project is getting quite big, so I don't know which parts should I include in this post, but I will share the <a href=""https://github.com/sebastian-meckovski/Covid19-visualisation"" rel=""nofollow noreferrer"">git repository</a> and the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">preview of the page</a>. Is there an easy solution to it?</p>"	2021-07-11 15:36:48.477 UTC	68338904	"<p>Dash callback solution (no Javascript):</p> <pre><code>import dash import dash_html_components as html from dash.dependencies import Output, Input, State  navbar_base_class = &quot;navbar-links&quot;  app = dash.Dash(__name__)  app.layout = html.Nav(     [         html.Div(&quot;Covid-19 global data Dashboard&quot;, className=&quot;dashboard-title&quot;),         html.A(             id=&quot;toggle-button&quot;,             children=[                 html.Span(className=&quot;bar&quot;),                 html.Span(className=&quot;bar&quot;),                 html.Span(className=&quot;bar&quot;),             ],             href=&quot;#&quot;,             className=&quot;toggle-button&quot;,         ),         html.Div(             id=&quot;navbar-links&quot;,             children=html.Ul(                 children=[                     html.Li(html.A(&quot;Linked-In&quot;, href=&quot;#&quot;)),                     html.Li(html.A(&quot;Source Code&quot;, href=&quot;#&quot;)),                     html.Li(html.A(&quot;CSV Data&quot;, href=&quot;#&quot;)),                 ],             ),             className=navbar_base_class,         ),     ],     className=&quot;navbar&quot;, )   @app.callback(     Output(&quot;navbar-links&quot;, &quot;className&quot;),     Input(&quot;toggle-button&quot;, &quot;n_clicks&quot;),     State(&quot;navbar-links&quot;, &quot;className&quot;),     prevent_initial_call=True, ) def callback(n_clicks, current_classes):     if &quot;active&quot; in current_classes:         return navbar_base_class     return navbar_base_class + &quot; active&quot;   if __name__ == &quot;__main__&quot;:     app.run_server(debug=True) </code></pre> <p>The idea of the code above is to take the <code>toggle-button</code> click as <code>Input</code> and the current value of <code>navbar-links</code> as <code>State</code>. We can use this state to determine if we should add the <code>active</code> class or remove it. The new <code>className</code> value is returned in the callback.</p> <hr /> <p>Javascript solution:</p> <pre><code>window.addEventListener(&quot;load&quot;, function () {   var toggleButton = document.getElementsByClassName(&quot;toggle-button&quot;)[0];   var navBarLinks = document.getElementsByClassName(&quot;navbar-links&quot;)[0];    function toggleFunction() {     navBarLinks.classList.toggle(&quot;active&quot;);   }    toggleButton.addEventListener(&quot;click&quot;, toggleFunction); }); </code></pre> <blockquote> <p>The load event is fired when the whole page has loaded, including all dependent resources such as stylesheets and images. This is in contrast to DOMContentLoaded, which is fired as soon as the page DOM has been loaded, without waiting for resources to finish loading.</p> </blockquote> <p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event</a></p> <p><code>DOMContentLoaded</code> would be preferable to use, but it only works for me with <code>load</code>.</p>"			2021-07-11 18:13:35.21 UTC
68337654	javascript|python|css|plotly|plotly-dash	Adding JavaScript to my Plotly Dash app (Python)	"<p>I'm building a dashboard using Dash in Python. I have configured all the graphs nicely (it's running on the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">server here</a>) and the next step is to create a responsive navbar and a footer. Currently looks like this:</p> <p><a href=""https://i.stack.imgur.com/AISWe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AISWe.png"" alt=""enter image description here"" /></a></p> <p>And when I shrink the width, it looks like this:</p> <p><a href=""https://i.stack.imgur.com/V9vvt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/V9vvt.png"" alt=""enter image description here"" /></a></p> <p>I want to add functionality to this button so it would hide the three links on click. I'm trying to toggle the CSS 'active' attribute using JavaScript with this piece of code:</p> <pre><code> var toggleButton = document.getElementsByClassName('toggle-button')[0]  var navBarLinks = document.getElementsByClassName('navbar-links')[0]   function toggleFunction() {      navBarLinks.classList.toggle('active')  }   toggleButton.addEventListener('click', toggleFunction) </code></pre> <p>Basically, when the <code>navbar-links</code> class is active, I want it to be set as <code>display: flex</code>, and when it's not active I want it to be <code>display: none</code></p> <p>The HTML elements defined in Python screen are here:</p> <pre><code>    html.Nav([      html.Div('Covid-19 global data Dashboard', className='dashboard-title'),      html.A([html.Span(className='bar'),             html.Span(className='bar'),             html.Span(className='bar')],            href='#', className='toggle-button'),      html.Div(         html.Ul([             html.Li(html.A('Linked-In', href='#')),             html.Li(html.A('Source Code', href='#')),             html.Li(html.A('CSV Data', href='#'))         ]),         className='navbar-links'),  ], className='navbar') </code></pre> <p>I didn't expect that there would be issues with accessing elements through JavaScript. After doing some research I found out that JavaScript when executes <code>getElementsByClassName</code> function the returned value is null. That is because the function is run before the page is rendered (as far as I understand). It gives me this error:</p> <p><a href=""https://i.stack.imgur.com/zVi4n.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zVi4n.png"" alt=""enter image description here"" /></a></p> <p>This project is getting quite big, so I don't know which parts should I include in this post, but I will share the <a href=""https://github.com/sebastian-meckovski/Covid19-visualisation"" rel=""nofollow noreferrer"">git repository</a> and the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">preview of the page</a>. Is there an easy solution to it?</p>"	2021-07-11 15:36:48.477 UTC	68339038	"<p>You can defer the execution of JavaScript code until after React has loaded via the <code>DeferScript</code> component from <a href=""https://github.com/thedirtyfew/dash-extensions#deferscript"" rel=""nofollow noreferrer"">dash-extensions</a>. Here is a small example,</p> <pre><code>import dash import dash_html_components as html from html import unescape from dash_extensions import DeferScript   mxgraph = r'{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;nav&amp;quot;:true,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom layers lightbox&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile host=\&amp;quot;app.diagrams.net\&amp;quot; modified=\&amp;quot;2021-06-07T06:06:13.695Z\&amp;quot; agent=\&amp;quot;5.0 (Windows)\&amp;quot; etag=\&amp;quot;4lPJKNab0_B4ArwMh0-7\&amp;quot; version=\&amp;quot;14.7.6\&amp;quot;&amp;gt;&amp;lt;diagram id=\&amp;quot;YgMnHLNxFGq_Sfquzsd6\&amp;quot; name=\&amp;quot;Page-1\&amp;quot;&amp;gt;jZJNT4QwEIZ/DUcToOriVVw1JruJcjDxYho60iaFIaUs4K+3yJSPbDbZSzN95qPTdyZgadm/GF7LAwrQQRyKPmBPQRzvktidIxgmwB4IFEaJCUULyNQvEAyJtkpAswm0iNqqegtzrCrI7YZxY7Dbhv2g3r5a8wLOQJZzfU4/lbByoslduPBXUIX0L0cheUrugwk0kgvsVojtA5YaRDtZZZ+CHrXzukx5zxe8c2MGKntNgknk8bs8fsj3+KtuDhxP+HZDVU5ct/RhatYOXgGDbSVgLBIG7LGTykJW83z0dm7kjklbaneLnEnlwFjoL/YZzb93WwNYgjWDC6EEdkuC0cZEO7p3i/6RF1WutL8nxmnkxVx6UcUZJIy/LgP49622mO3/AA==&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}' app = dash.Dash(__name__) app.layout = html.Div([     html.Div(className='mxgraph', style={&quot;maxWidth&quot;: &quot;100%&quot;}, **{'data-mxgraph': unescape(mxgraph)}),     DeferScript(src='https://viewer.diagrams.net/js/viewer-static.min.js') ])  if __name__ == '__main__':     app.run_server() </code></pre>"			2021-07-11 18:35:38.047 UTC
68337654	javascript|python|css|plotly|plotly-dash	Adding JavaScript to my Plotly Dash app (Python)	"<p>I'm building a dashboard using Dash in Python. I have configured all the graphs nicely (it's running on the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">server here</a>) and the next step is to create a responsive navbar and a footer. Currently looks like this:</p> <p><a href=""https://i.stack.imgur.com/AISWe.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AISWe.png"" alt=""enter image description here"" /></a></p> <p>And when I shrink the width, it looks like this:</p> <p><a href=""https://i.stack.imgur.com/V9vvt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/V9vvt.png"" alt=""enter image description here"" /></a></p> <p>I want to add functionality to this button so it would hide the three links on click. I'm trying to toggle the CSS 'active' attribute using JavaScript with this piece of code:</p> <pre><code> var toggleButton = document.getElementsByClassName('toggle-button')[0]  var navBarLinks = document.getElementsByClassName('navbar-links')[0]   function toggleFunction() {      navBarLinks.classList.toggle('active')  }   toggleButton.addEventListener('click', toggleFunction) </code></pre> <p>Basically, when the <code>navbar-links</code> class is active, I want it to be set as <code>display: flex</code>, and when it's not active I want it to be <code>display: none</code></p> <p>The HTML elements defined in Python screen are here:</p> <pre><code>    html.Nav([      html.Div('Covid-19 global data Dashboard', className='dashboard-title'),      html.A([html.Span(className='bar'),             html.Span(className='bar'),             html.Span(className='bar')],            href='#', className='toggle-button'),      html.Div(         html.Ul([             html.Li(html.A('Linked-In', href='#')),             html.Li(html.A('Source Code', href='#')),             html.Li(html.A('CSV Data', href='#'))         ]),         className='navbar-links'),  ], className='navbar') </code></pre> <p>I didn't expect that there would be issues with accessing elements through JavaScript. After doing some research I found out that JavaScript when executes <code>getElementsByClassName</code> function the returned value is null. That is because the function is run before the page is rendered (as far as I understand). It gives me this error:</p> <p><a href=""https://i.stack.imgur.com/zVi4n.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zVi4n.png"" alt=""enter image description here"" /></a></p> <p>This project is getting quite big, so I don't know which parts should I include in this post, but I will share the <a href=""https://github.com/sebastian-meckovski/Covid19-visualisation"" rel=""nofollow noreferrer"">git repository</a> and the <a href=""https://covid19-visualisation-seb.herokuapp.com/"" rel=""nofollow noreferrer"">preview of the page</a>. Is there an easy solution to it?</p>"	2021-07-11 15:36:48.477 UTC	72139850	"<p>If you need a pure JS solution you need to use MutationObserver. I've wrote a little helper function we are currently using that did the trick. Another suggestion would be to change the mutation to an element on screen then fire an event to handle the rest</p> <pre><code>/**  *  * @param {string} id  * @param {*} event  * @param {(this: HTMLElement, ev: any) =&gt; any} callback  * @param {boolean | AddEventListenerOptions} options  */ function attachEventToDash(id, event, callback, options) {     debugger;     var observer = new MutationObserver(function (_mutations, obs) {         var ele = document.getElementById(id);         if (ele) {             debugger;             ele.addEventListener(event, callback, options)             obs.disconnect();         }     });     window.addEventListener('DOMContentLoaded', function () {         observer.observe(document, {             childList: true,             subtree: true         });     }) } </code></pre>"			2022-05-06 10:15:42.75 UTC
68353681	python-3.x|selenium	Selenium (Python) not finding dynamically loaded JavaScript table after automated login occurs	"<p>Im using Selenium with Python3 on a Service Now Website.</p> <p>So the process is as follows: selenium loads up the ServiceNow URL and then I use sendKeys to automate typing in of username and password, then the page is loaded which has a table of incidents I need to extract. Unfortunately I have to login in every single time because of the group policy I have.</p> <p>This works up until I have to find the dynamically rendered Javascript table with data and I can't for the life of me seem to find it. I even tried to put a sleep in there for 15 seconds to allow it to load.</p> <p>I also double checked the XPaths and Id / Class names and they match up. When I print query.page_source I don't see anything rendered by JS.</p> <p>I've used beautiful soup too but that also doesn't work.</p> <p>Any ideas?</p> <pre><code>from time import sleep from collections import deque from selenium import webdriver from selenium.webdriver.support.ui import Select # for &lt;SELECT&gt; HTML form from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.ui import WebDriverWait  query = webdriver.Firefox()  get_query = query.get(&quot;SERVICENOW URL&quot;)  query.implicitly_wait(10)  login_username = query.find_element_by_id('username')  login_password = query.find_element_by_id('password')  login_button = query.find_element_by_id('signOnButton')  username = &quot;myUsername&quot; password = &quot;myPassword&quot;  login_username.send_keys(username) login_password.send_keys(password) login_button.click()  sleep(10)  incidentTableData = []  print(query.page_source)  // *** THESE ALL FAIL AND RETURN NONE *** print(query.find_elements()) tableById = query.find_element_by_id('service-now-table-id') tableByXPath = query.find_element_by_xpath('service-now-xpath') tableByClass = query.find_element_by_id('service-now-table-class') </code></pre>"	2021-07-12 20:44:54.223 UTC	68356274	"<p>Since it's a <code>dynamically rendered Javascript table</code>, I would suggest you to implement explicit wait in your code.</p> <p>so instead of this  :</p> <pre><code>tableById = query.find_element_by_id('service-now-table-id') tableByXPath = query.find_element_by_xpath('service-now-xpath') tableByClass = query.find_element_by_id('service-now-table-class') </code></pre> <p>re-write these lines like this :</p> <pre><code>wait = WebDriverWait(query, 10) service_now_with_id = wait.until(EC.element_to_be_clickable((By.ID, &quot;service-now-table-id&quot;))) service_now_with_xpath = wait.until(EC.element_to_be_clickable((By.XPATH, &quot;service-now-xpath&quot;))) service_now_with_class = wait.until(EC.element_to_be_clickable((By.ID, &quot;service-now-table-class&quot;))) </code></pre> <p>You are gonna need to use the below <strong>imports</strong>  :</p> <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as E </code></pre> <p>PS :- <code>service_now_with_id</code>, <code>service_now_with_xpath</code>, <code>service_now_with_class</code>, these are web elements returned by explicit waits. you may wanna have to interact with them as per your requirement meaning, clicking on it or sending keys or whatever.</p>"			2021-07-13 03:52:39.85 UTC
68380814	javascript|node.js|object|contains	Is there a .contains method in javascript that works similar to Python's implimentation .__contains__()? - node.js	"<p>I'm wondering if there is any implimentation of a <code>object.contains</code> method in javascript that works similar to how the Python version <code>object.__contains__()</code> works, as in I want to be able to scan the whole object with nested objects to see if there is either a key or a value that does contain what the method is comparing it against. I know there are other ways in Javascript to do this such as using <code>filter</code> and <code>some</code>, but they don't work for me.</p> <pre><code>person: {   name: 'Bob',   age: 40,   items: {     cars: 4,     house: 1,     computer: 2   } } </code></pre> <p>I need something that scans the WHOLE object rather than just the first level of it (which would be <code>name</code>, <code>age</code>, and <code>items</code>, and if you searched for <code>cars</code> you wouldn't get any response).</p>"	2021-07-14 15:19:34.033 UTC	68381116	"<p>Do not have a standard function for this i guess but you can for sure write a custom <strong>recursive</strong> function using some <code>typeof</code> and <code>Object.entries()</code>.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let person =  {   name: 'Bob',   age: 40,   items: {     cars: 4,     house: 1,     computer: 2   } };  function searchForTerm(obj,item){      for(let [key,val] of Object.entries(obj)){     if(key == item){       return true;     }     else if(typeof val === 'object')        {        if(searchForTerm(val,item)){          return true;        }      }     else if(val == item){       return true;     }   }   return false; }  console.log(searchForTerm(person,40)); console.log(searchForTerm(person,43)); console.log(searchForTerm(person,'Bob')); console.log(searchForTerm(person,'cars')); console.log(searchForTerm(person,'truck'));</code></pre> </div> </div> </p> <p>I am using <code>==</code> in first case, so type checking is not done.</p> <p>Obviously, this is a starter and you can modify based on your needs. But this should get you going.</p>"			2021-07-14 15:38:14.07 UTC
68380814	javascript|node.js|object|contains	Is there a .contains method in javascript that works similar to Python's implimentation .__contains__()? - node.js	"<p>I'm wondering if there is any implimentation of a <code>object.contains</code> method in javascript that works similar to how the Python version <code>object.__contains__()</code> works, as in I want to be able to scan the whole object with nested objects to see if there is either a key or a value that does contain what the method is comparing it against. I know there are other ways in Javascript to do this such as using <code>filter</code> and <code>some</code>, but they don't work for me.</p> <pre><code>person: {   name: 'Bob',   age: 40,   items: {     cars: 4,     house: 1,     computer: 2   } } </code></pre> <p>I need something that scans the WHOLE object rather than just the first level of it (which would be <code>name</code>, <code>age</code>, and <code>items</code>, and if you searched for <code>cars</code> you wouldn't get any response).</p>"	2021-07-14 15:19:34.033 UTC	68380938	"<p>I don't think so. A naive take would be</p> <pre><code>JSON.stringify(target).includes( JSON.stringify( search ) ) </code></pre> <p>It doesn't work well if <code>search</code> is not a string though, as that will also match also inside strings. A non naive approach would be something like this:</p> <pre><code>const contains = (obj, search) =&gt;   Object.keys(obj).includes(search) ||  Object.values(obj).includes(search) ||  Object.values(obj)    .filter(it =&gt; typeof it === &quot;object&quot; &amp;&amp; it !== null)    .some(it =&gt; contains(it, search)); </code></pre>"			2021-07-14 15:27:12.84 UTC
68398353	python|flask|flask-sqlalchemy	"Javascript store in session, get from session in python/flask"	"<p>I am working with a flask app, and am trying to store a Json object using javascript, and retrieve it in python as i would like to store a sort of &quot;shopping list&quot; information that the user is generating, into my database. The object appears in my browsers session storage</p> <p><a href=""https://i.stack.imgur.com/dXQEA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dXQEA.png"" alt=""enter image description here"" /></a></p> <p>but it seems my syntax is off as im getting &quot;KeyError: 'routine'&quot;</p> <pre><code> @app.route(&quot;/workoutroutines&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;]) def showWorkoutRoutines():     &quot;&quot;&quot;Show all workout routines, allow user to create new routine&quot;&quot;&quot;          if session['routine'] is not None: // &lt;---error here        try:          obj = json.loads(session['routine'])         print(obj.name)               except:             print(&quot;something went wrong&quot;)                 all_routines = WorkoutRoutines.query.all()     createRoutineButton = url_for(&quot;createARoutine&quot;)     return render_template(&quot;allRoutines.html&quot;, all_routines=all_routines, createRoutineButton=createRoutineButton) </code></pre> <p>error log:</p> <pre><code>Traceback (most recent call last):   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 2088, in __call__     return self.wsgi_app(environ, start_response)   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 2073, in wsgi_app     response = self.handle_exception(e)   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 2070, in wsgi_app     response = self.full_dispatch_request()   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 1515, in full_dispatch_request     rv = self.handle_user_exception(e)   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 1513, in full_dispatch_request     rv = self.dispatch_request()   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\app.py&quot;, line 1499, in dispatch_request     return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\app.py&quot;, line 171, in showWorkoutRoutines     if session['routine'] is not None:   File &quot;C:\Users\user\Desktop\Springboard\workoutApp\venv\Lib\site-packages\flask\sessions.py&quot;, line 79, in __getitem__     return super().__getitem__(key) KeyError: 'routine' </code></pre>"	2021-07-15 17:30:22.08 UTC	68399288	"<p>You're getting a key error because when you write</p> <pre><code>session['routine'] </code></pre> <p>Your code is trying to access the key 'routine' in the session object but it's not there, so it's throwing a key error.</p> <p>You could modify it to:</p> <pre><code>if 'routine' in session:     obj = json.loads(session['routine'])     print(obj)  else:     print('your error message') </code></pre> <p>Within flask you can also see what keys are in the session object by doing:</p> <pre><code>app.logger.info('Session keys: {}'.format(session.keys())) </code></pre> <p>I don't think flask logs stuff at info level by default, so for this to work you need to set logging to info level when you start your app. If that's too fiddly just replace 'app.logger.info' with print.</p>"			2021-07-15 18:46:50.173 UTC
68417042	javascript|python|date|google-chrome|webkit	Convert current time to WebKit/Chrome 17-digit timestamp in Javascript (I have the answer in Python)	"<p>I need to convert JS current time into WebKit/Chrome 17-digit timestamp, here is the code to do it in Python (I need it in Javascript)</p> <pre><code>def date_to_webkit(date_string):     epoch_start = datetime(1601, 1, 1)     date_ = datetime.strptime(date_string, '%Y-%m-%d %H:%M:%S')     diff = date_ - epoch_start     seconds_in_day = 60 * 60 * 24     return '{:&lt;017d}'.format(         diff.days * seconds_in_day + diff.seconds + diff.microseconds)  # Date string to Webkit timestamp date_to_webkit('2016-08-24 10:35:47')  # 13116508547000000 </code></pre> <p>This is from this response <a href=""https://stackoverflow.com/a/39121470/5546742"">https://stackoverflow.com/a/39121470/5546742</a></p>"	2021-07-17 02:54:23.75 UTC	68419022	"<p>A literal conversion of the PHP code also means manually parsing the string. The OP timestamp format is not supported by ECMA-262, so parsing with the builtâ€”in parser is implementation dependent and at least one common browser will treat it as invalid. So it should be manually parsed per the PHP code.</p> <p>Parsing '2016-08-24 10:35:47' will not return the same time value for all systems as the absence of an offset means it will be parsed as local, so parsed values will differ by the local timezone offset.</p> <p>According to the linked answer, the epoch is Jan 1, 1601 00:00 UTC which will be a constant (-11644473600000), so there is no need to calculate it every time.</p> <p>An optimised version of the code is:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function date_to_webkit(date_string) {   // Parse input timestamp   let [Y, M, D, H, m, s] = date_string.split(/\W/);   // Treat timestamp values as local   // 11644421940000 is the epoch offset constant   return (new Date(Y, M-1, D, H, m, s).getTime() + 11644421940000) * 1e3; }  // Convert webkit/Chrome time value to Date function webkit_to_date(tv) {   return new Date((tv / 1000) - 11644421940000); }  let date = '2016-08-24 10:35:47'; let tv = date_to_webkit(date);  console.log('Start date string : ' + date +           '\nDate as time value: ' + tv +           '\nTime value as Date: ' + webkit_to_date(tv).toLocaleString('en-CA')); </code></pre> </div> </div> </p>"			2021-07-17 09:01:19.01 UTC
68417042	javascript|python|date|google-chrome|webkit	Convert current time to WebKit/Chrome 17-digit timestamp in Javascript (I have the answer in Python)	"<p>I need to convert JS current time into WebKit/Chrome 17-digit timestamp, here is the code to do it in Python (I need it in Javascript)</p> <pre><code>def date_to_webkit(date_string):     epoch_start = datetime(1601, 1, 1)     date_ = datetime.strptime(date_string, '%Y-%m-%d %H:%M:%S')     diff = date_ - epoch_start     seconds_in_day = 60 * 60 * 24     return '{:&lt;017d}'.format(         diff.days * seconds_in_day + diff.seconds + diff.microseconds)  # Date string to Webkit timestamp date_to_webkit('2016-08-24 10:35:47')  # 13116508547000000 </code></pre> <p>This is from this response <a href=""https://stackoverflow.com/a/39121470/5546742"">https://stackoverflow.com/a/39121470/5546742</a></p>"	2021-07-17 02:54:23.75 UTC	68417137	"<p>I have converted the given Python code to JS.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function date_to_webkit(date_string) {   epoch_start = new Date(1601, 0, 1);   date_ = new Date(date_string);   diff = Math.abs(date_ - epoch_start) * 1000;   return diff; } date_string = ""2016-08-24 10:35:47""; webkit_string = date_to_webkit(date_string); console.log(webkit_string);</code></pre> </div> </div> </p> <p>Output:</p> <pre><code>13116508547000000 </code></pre> <p>Disclaimer: it passes the given test case. Should be checked for different timezones and different dates.</p>"			2021-07-17 03:22:41.093 UTC
68459844	javascript|flask	Flask: How to send a dictionary job from JavaScript to python	"<p>I want to send a object called <code>accounts</code> which contains various details like name, email, type etc. Which can be accessed by <code>account.name</code> and so on.</p> <p>I want to transfer this object from javascript to flask route. My app.py is</p> <pre><code>@app.route('/completed') def completed(variable):     return &quot;&lt;h1&gt;done {}&lt;/h1&gt;&quot;.format(variable) </code></pre> <p>My javascript</p> <pre><code>function(accounts) { window.location = ('{{ url_for('completed', variable='accounts') }}') }  </code></pre> <p>It is giving me an error</p> <pre><code>TypeError: completed() missing 1 required positional argument: 'variable' </code></pre>"	2021-07-20 18:37:36.773 UTC	68463125	"<p>This jinja code</p> <pre><code>url_for('completed', var='foo') </code></pre> <p>would require this flask route</p> <pre><code>@app.route('/completed/&lt;var&gt;') def completed(var): </code></pre> <p>But in this case, <code>foo</code> is just a simple string. If you want to pass a whole js object, I would use javascript to convert it to json, then use <code>fetch()</code> to POST it to the route with a json mime type, then read it in flask like so</p> <pre><code>from flask import request @app.route('/completed', methods=['POST']) def completed():   data = request.get_json()   return 'result is ok' </code></pre> <p>Edit: how to post json with fetch()</p> <pre><code>fetch('/completed', {   method: 'post',   headers: {'Content-Type': 'application/json'},   body: JSON.stringify(your_js_object) }) .then(response =&gt; response.text()) .then(result =&gt; console.log(result)); </code></pre> <p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch</a></p>"			2021-07-21 01:52:42.913 UTC
68468302	javascript|python|flask|xmlhttprequest|flask-sqlalchemy	Send dictionary via http post request from Javascript to python	"<p>I'm using flask and sqlalchemy inside sublime text to create a simple web application. In 'studentscreen.html', there are multiple html elements (post-it notes/sticky notes) made up of a title and some text. These are created using a for loop. Like so:</p> <pre><code>&lt;ul id='postlist'&gt;          {% for post in posts %}              {% if loggedIn == True: %}                   {% if post[3] == True: %}                    &lt;li&gt;                     &lt;a&gt;                         &lt;h2 onkeypress=&quot;return (this.innerText.length &lt;= 15)&quot; contenteditable=&quot;true&quot; onblur=&quot;saveText()&quot;&gt;{{post[1]}}&lt;/h2&gt;                         &lt;p onkeypress=&quot;return (this.innerText.length &lt;= 60)&quot; contenteditable=&quot;true&quot; onblur=&quot;saveText()&quot;&gt;{{post[2]}}&lt;/p&gt;                     &lt;/a&gt;                   &lt;/li&gt;      &lt;!-- etc... --&gt; </code></pre> <p>Using 'onblur', the Javascript function named <code>saveText()</code> is called.</p> <p>This function is supposed to retrieve the &quot;h2&quot; text as well as the &quot;p&quot; text for any notes that have been created and send it to my 'routes.py' document using an http post request. (I'm unsure about how to do an ajax request.)</p> <p>Now, I retrieve the contents for each post like so:</p> <pre><code>function saveText(){                  let postsRef  = document.getElementById('postlist').getElementsByTagName('li');                  var text = [];             var title = [];                  for (let i = 0; i &lt; postsRef.length; i++) {                 text.push([postsRef.item(i).getElementsByTagName('p')[0].innerHTML]);             }                  for (let i = 0; i &lt; postsRef.length; i++) {                 title.push([postsRef.item(i).getElementsByTagName('h2').[0].innerHTML]);             }          /* etc... */ </code></pre> <p>This creates two arrays; text and title holding all texts' and titles'. I'm trying to send this information to 'routes.py' like so:</p> <pre><code>var http = new XMLHttpRequest(); var url = &quot;/newtext&quot;; http.open (&quot;POST&quot;, url, true); http.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;); http.send(/* something! */); </code></pre> <p>I don't know what to pass in to <code>.send()</code>. Furthermore I don't know how to receive the information to be sent. Now I have the following:</p> <pre><code>@app.route(&quot;/newtext&quot;, methods = [&quot;POST&quot;, &quot;GET&quot;])     def newText():          if request.method == &quot;POST&quot;:             data = request.form       # etc... # </code></pre> <p>I have tried different alternatives like <code>request.form.get()</code>, <code>request.value</code> and <code>request.form.get('name')</code> (creating a dictionary with a key named 'name' in 'studentscreen.html').</p> <p>Sometimes it returns stuff like this:</p> <pre><code>'None',  {},  ImmutableMultiDict([]),  CombinedMultiDict([ImmutableMultiDict([]),  ImmutableMultiDict([('object Object', '')])]) </code></pre> <p><strong>Please let me know how to format the content and perform the post request and receive it in python.</strong></p> <p>Thank you! /William</p>"	2021-07-21 10:58:39.727 UTC	68468532	"<p>In the send function you need to send xml form.</p> <pre><code>http.send(`title=${title}&amp;text=${text}`);  </code></pre> <p>The one inside ${} are the lists.</p> <p>In flask you can access it using</p> <pre><code>request.form.get(&quot;title&quot;) request.form.get(&quot;text&quot;) </code></pre> <p>Edit : ajax version</p> <p>Include jquery in your html</p> <pre><code>&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;   $.ajax({     type: &quot;POST&quot;,     url: url,     data: JSON.stringify({titles: title, contents: text}),     contentType: &quot;application/json; charset=utf-8&quot;     success: function(response){           }   }); </code></pre> <p>When accessing this in python you need to use getlist</p> <pre><code>request.get_json()['titles'] request.get_json()[&quot;text&quot;] </code></pre>"			2021-07-21 11:16:54.33 UTC
68479472	python-3.x|web-scraping|string-parsing	How to remove javascript from string using python and then parse remaining string to table?	"<p>I have this string that i scraped from an unversity website. I want to parse it into a table where each row would consist of strings before and after a colon,&quot;:&quot;.</p> <p>This is the string.</p> <blockquote> <p>'èª²ç¨‹ä¸­æ–‡åç¨± Title of Course in Chineseï¼šè«–æ–‡ èª²ç¨‹è‹±æ–‡åç¨± Title of Course in Englishï¼šThesis (Projects) æ‡‰ä¿®ç³»ç´š Majorï¼šæ³•å¾‹å­¸ç³»åšå£«ç­2 , æŽˆèª²æ•™å¸« Instructorï¼š****** é¸ä¿®é¡žåˆ¥ Required/Electiveï¼šå¿… å…¨åŠå­¸å¹´ Whole or Half of the Academic Yearï¼šåŠå­¸å¹´ å­¸ åˆ† Credit(s)ï¼š0 å­¸åˆ† æ™‚ æ•¸ Hour(s)ï¼š0 å°æ™‚  (function(window, $) { var sheetID = &quot;1qkUIt6x8ry7F-etZJLMNKmEtDr0mwYdV3RNWw8fmOko&quot;, // è©¦ç®—è¡¨ä»£è™Ÿ gid = &quot;0&quot;, // å·¥ä½œè¡¨ä»£è™Ÿ sql = &quot;select%20B,%20C,%20D,%20E,%20F%20where%20G%20=%20'M6106'&quot;, // SQL èªžæ³• callback = &quot;callback&quot;; // å›žå‘¼å‡½æ•¸åç¨± $.getScript(&quot;https://spreadsheets.google.com/tq?tqx=responseHandler:&quot; + callback + &quot;&amp;tq=&quot; + sql + &quot;&amp;key=&quot; + sheetID + &quot;&amp;gid=&quot; + gid); window[callback] = function(json) { var rowArray = json.table.rows, colArray = json.table.cols, rowLength = rowArray.length, colLength = colArray.length, html = &quot;&quot;, i, j, dataGroup, dataLength, colName = new Array(); for (i = 0; i &lt; colLength; i++) { colName[i] = colArray[i].label.replace(/å½ˆæ€§æŽˆèª²æ–¹å¼\W/g,''); } for (i = 0; i &lt; rowLength; i++) { dataGroup = rowArray[i].c; dataLength = dataGroup.length; for (j = 0; j &lt; dataLength; j++) { if (!dataGroup[j]) { continue; } if(dataGroup[j].v == &quot;Y&quot;) html += colName[j] + &quot;,&quot;; else if(j == (dataLength - 2) &amp;&amp; dataGroup[j].v !== null) html += colName[j] + &quot;-&quot; + dataGroup[j].v + &quot;,&quot;; } //if (dataGroup[dataLength - 2].v !== null) { //html += colName[dataLength - 2] + &quot;-&quot; + dataGroup[dataLength - 2].v + &quot;,&quot;; //} html = html.substring(0,html.length - 1); html += &quot;<br/>&quot;; } $(&quot;#test&quot;).html(html); if(html != &quot;&quot;) $(&quot;#highlight&quot;).show(); }; })(window, jQuery);  ã€Œè«‹éµå®ˆæ™ºæ…§è²¡ç”¢æ¬Šã€åŠã€Œä¸å¾—éžæ³•è¤‡è£½åŠå½±å°ã€ã€‚æŽˆèª²è€å¸«å°šæœªå»ºç½®èª²ç¨‹å¤§ç¶±ï¼Œè‹¥æœ‰éœ€è¦è«‹ç›´æŽ¥æ´½è©²ä»»èª²æ•™å¸«ï¼'</p> </blockquote> <p>I tried to remove the javascript from this  <a href=""https://stackoverflow.com/questions/8554035/remove-all-javascript-tags-and-style-tags-from-html-with-python-and-the-lxml-mod"">stack overflow page</a></p> <p>An adhoc algorithm that i tried was just iteratively pairing the splitted string by every 2 element. This is the code.</p> <pre><code>spl = &quot;the string&quot; spl = [spl[i:i + 2] for i in range(0, len(spl), 2)] </code></pre> <p>I do know that i can access alot of data if i execute the javascript from the browser doms. My question is how can i first parse out the javascript then parse the remaining string into a table?</p>"	2021-07-22 05:09:54.49 UTC	68494835	"<p>Try:</p> <pre class=""lang-py prettyprint-override""><code>import requests from bs4 import BeautifulSoup  url = &quot;https://sea.cc.ntpu.edu.tw/pls/dev_stud/course_query.queryGuide?g_serial=U1382&amp;g_year=109&amp;g_term=2&amp;show_info=part&quot; soup = BeautifulSoup(requests.get(url).content, &quot;html.parser&quot;)  for tr in soup.body.table.select(&quot;tr&quot;):     print(tr.get_text(strip=True))     print(&quot;-&quot; * 80) </code></pre> <p>Prints:</p> <pre class=""lang-none prettyprint-override""><code>... -------------------------------------------------------------------------------- èª²ç¨‹ä¸­æ–‡åç¨± Title of Course in Chineseï¼šå¤§å­¸è‹±æ–‡1Bèª²ç¨‹è‹±æ–‡åç¨± Title of Course in Englishï¼šCollege Englishæ‡‰ä¿®ç³»ç´š Majorï¼šèªžæ–‡é€šè­˜1 Â ,ä¸­åœ‹æ–‡å­¸ç³»1 Â ,æ­·å²å­¸ç³»1 Â ,ä¼‘é–’é‹å‹•ç®¡ç†å­¸ç³»1 Â ,æ³•å¾‹å­¸ç³»è²¡ç¶“æ³•çµ„1 Â ,æ³•å¾‹å­¸ç³»æ³•å­¸çµ„1 Â ,æ³•å¾‹å­¸ç³»å¸æ³•çµ„1 Â ,æŽˆèª²æ•™å¸« Instructorï¼šæ®·é›…çŽ²é¸ä¿®é¡žåˆ¥ Required/Electiveï¼šå¿…å‘åº¦é¡žåˆ¥ Classificationï¼šå…¨åŠå­¸å¹´ Whole or Half of the Academic Yearï¼šå…¨å­¸å¹´å­¸ã€€ã€€åˆ† Credit(s)ï¼š2å­¸åˆ†æ™‚ã€€ã€€æ•¸ Hour(s)ï¼š2å°æ™‚ -------------------------------------------------------------------------------- å½ˆæ€§æŽˆèª²æ–¹å¼ï¼š -------------------------------------------------------------------------------- æ•™å¸«ç¶²å€ Instructor's Website ï¼š -------------------------------------------------------------------------------- æ•™å¸«å°ˆé•· Instructor's Specialty ï¼šè‹±èªžæ•™å­¸ -------------------------------------------------------------------------------- èª²ç¶±é™„æª” Attachments ï¼š -------------------------------------------------------------------------------- å…ˆä¿®ç§‘ç›® Prerequisitesï¼šHigh school English --------------------------------------------------------------------------------  ...and so on. </code></pre>"			2021-07-23 06:19:30.55 UTC
68509976	javascript|python|fs	JavaScript wait for child_process spawned python script to run	"<p>What I want is for my <code>write_questions.py</code> file to finish running before continuing with the rest of this code. (this is written in TypeScript, technically)</p> <pre><code>            //imports used in this question             const fs = require('fs');              const { spawn } = require('child_process');              const write_questions = spawn('python', ['src/write_questions.py']);             //Listens to output from write_questions.py             write_questions.stdout.on('data', function (data) {                 console.log(&quot;&quot; + data);             });             write_questions.stderr.on('data', function (data) {                 console.log(&quot;&quot; + data);             });              const embedArray = [];                           let dir = fs.readdirSync('./src/answers/Mathematics/')             function readFiles(dirname, onFileContent, onError) {                 fs.readdir(dirname, function (err, filenames) {                     if (err) {                         onError(err);                         return;                     }                     filenames.forEach(function (filename) {                         fs.readFile(dirname + filename, 'utf-8', function (err, content) {                             if (err) {                                 onError(err);                                 return;                             }                             onFileContent(filename, content);                         });                     });                 });             }             var data = {};             readFiles('./src/answers/Mathematics/', function(filename, content) {                 data[filename] = content;                 console.log(filename, content);             }, function(err) {                 throw err;             });             console.log(data); </code></pre>"	2021-07-24 12:30:01.987 UTC	68537761	"<p>You can use <a href=""https://nodejs.org/api/child_process.html#child_process_child_process_spawnsync_command_args_options"" rel=""nofollow noreferrer"">spawnSync</a> or <a href=""https://nodejs.org/api/child_process.html#child_process_child_process_execsync_command_options"" rel=""nofollow noreferrer"">execSync</a> to delay the process when creating a new child process.</p> <pre class=""lang-js prettyprint-override""><code>const cp = require('child_process') const write_questions = spawnSync('python', ['src/write_questions.py'], { stdio: 'inherit' }) </code></pre> <p>By setting <code>stdio</code> to inherit, all the standard input and error will be automatically sent to your terminal.</p>"			2021-07-27 00:48:00.647 UTC
68510783	javascript|python|python-3.x|dynamic-programming|memoization	Why does howSum solution work in Javascript but not in Python? (Dynamic programming)	"<p>This is a follow-up to <a href=""https://stackoverflow.com/questions/65428535/why-does-this-solution-work-in-javascript-but-not-in-python-dynamic-programmin"">this question</a> asked on Stack Overflow.</p> <p><em>Write a function 'howSum(targetSum, numbers)' that takes in a targetSum and an array of numbers as arguments.</em></p> <p><em>The function should return an array containing any combination of elements that add up to exactly the targetSum.</em></p> <p><em>If there is no combination that adds up to the targetSum, then return None. If there are multiple combinations possible, you may return any single one.</em></p> <p>My memoized python code for the solution is as follows:</p> <pre><code>def howSum(targetSum, nums, memo = None):      if memo is None:         memo = {}              if targetSum in memo: return memo[targetSum]     if targetSum &lt; 0: return None     if targetSum == 0: return []          for num in nums:         remainder = targetSum - num         remainderResult = howSum(remainder, nums)                  if remainderResult is not None:             remainderResult.append(num)             memo[targetSum] = remainderResult             return memo[targetSum]              memo[targetSum] = None     return None  print(howSum(7, [2, 3])) # [3,2,2] print(howSum(7, [5, 3, 4, 7])) # [4,3] print(howSum(7, [2, 4])) # None print(howSum(8, [2, 3, 5])) # [2,2,2,2] print(howSum(300, [7,14]) # None </code></pre> <p>The algorithm works but not as efficiently for the final test case. In fact, the runtime efficiency is no different than the brute force solution. What's the problem?</p>"	2021-07-24 14:09:17.887 UTC	68510864	"<p>You don't seem to pass the <code>memo</code> value to the recursive <code>howSum(remainder, nums)</code> call, so you're losing the benefit of memoizing there.</p>"			2021-07-24 14:19:57.84 UTC
68510783	javascript|python|python-3.x|dynamic-programming|memoization	Why does howSum solution work in Javascript but not in Python? (Dynamic programming)	"<p>This is a follow-up to <a href=""https://stackoverflow.com/questions/65428535/why-does-this-solution-work-in-javascript-but-not-in-python-dynamic-programmin"">this question</a> asked on Stack Overflow.</p> <p><em>Write a function 'howSum(targetSum, numbers)' that takes in a targetSum and an array of numbers as arguments.</em></p> <p><em>The function should return an array containing any combination of elements that add up to exactly the targetSum.</em></p> <p><em>If there is no combination that adds up to the targetSum, then return None. If there are multiple combinations possible, you may return any single one.</em></p> <p>My memoized python code for the solution is as follows:</p> <pre><code>def howSum(targetSum, nums, memo = None):      if memo is None:         memo = {}              if targetSum in memo: return memo[targetSum]     if targetSum &lt; 0: return None     if targetSum == 0: return []          for num in nums:         remainder = targetSum - num         remainderResult = howSum(remainder, nums)                  if remainderResult is not None:             remainderResult.append(num)             memo[targetSum] = remainderResult             return memo[targetSum]              memo[targetSum] = None     return None  print(howSum(7, [2, 3])) # [3,2,2] print(howSum(7, [5, 3, 4, 7])) # [4,3] print(howSum(7, [2, 4])) # None print(howSum(8, [2, 3, 5])) # [2,2,2,2] print(howSum(300, [7,14]) # None </code></pre> <p>The algorithm works but not as efficiently for the final test case. In fact, the runtime efficiency is no different than the brute force solution. What's the problem?</p>"	2021-07-24 14:09:17.887 UTC	68510894	"<p>Just pass memo when you call it recursively</p> <pre><code>def howSum(targetSum, nums, memo = None):   if memo is None:     memo = {}      if targetSum in memo: return memo[targetSum] if targetSum &lt; 0: return None if targetSum == 0: return []  for num in nums:     remainder = targetSum - num     remainderResult = howSum(remainder, nums , memo ) #pass memo as well          if remainderResult is not None:         remainderResult.append(num)         memo[targetSum] = remainderResult         return memo[targetSum]      memo[targetSum] = None return None </code></pre>"			2021-07-24 14:23:19.673 UTC
68510783	javascript|python|python-3.x|dynamic-programming|memoization	Why does howSum solution work in Javascript but not in Python? (Dynamic programming)	"<p>This is a follow-up to <a href=""https://stackoverflow.com/questions/65428535/why-does-this-solution-work-in-javascript-but-not-in-python-dynamic-programmin"">this question</a> asked on Stack Overflow.</p> <p><em>Write a function 'howSum(targetSum, numbers)' that takes in a targetSum and an array of numbers as arguments.</em></p> <p><em>The function should return an array containing any combination of elements that add up to exactly the targetSum.</em></p> <p><em>If there is no combination that adds up to the targetSum, then return None. If there are multiple combinations possible, you may return any single one.</em></p> <p>My memoized python code for the solution is as follows:</p> <pre><code>def howSum(targetSum, nums, memo = None):      if memo is None:         memo = {}              if targetSum in memo: return memo[targetSum]     if targetSum &lt; 0: return None     if targetSum == 0: return []          for num in nums:         remainder = targetSum - num         remainderResult = howSum(remainder, nums)                  if remainderResult is not None:             remainderResult.append(num)             memo[targetSum] = remainderResult             return memo[targetSum]              memo[targetSum] = None     return None  print(howSum(7, [2, 3])) # [3,2,2] print(howSum(7, [5, 3, 4, 7])) # [4,3] print(howSum(7, [2, 4])) # None print(howSum(8, [2, 3, 5])) # [2,2,2,2] print(howSum(300, [7,14]) # None </code></pre> <p>The algorithm works but not as efficiently for the final test case. In fact, the runtime efficiency is no different than the brute force solution. What's the problem?</p>"	2021-07-24 14:09:17.887 UTC	71854965	"<p>I think you are not passing your answer array, that's why It is not working. Try this code:</p> <pre><code>hmap = {} def howSum(targetSum, numbers,ans=[]):     if targetSum == 0:         return ans     if targetSum &lt;0:         return None     if targetSum in hmap:         return hmap[targetSum]     for len in numbers:         remainder = targetSum-len         remainder_result = howSum(remainder,numbers,ans)         if remainder_result != None:             hmap[remainder]  = remainder_result             ans.append(len)             return ans     return None </code></pre>"			2022-04-13 09:19:14.433 UTC
68516909	javascript|python	is there an equivalent of Python self-documenting expressions in JavaScript?	<p>in Python 3.8 it is possible to use self-documenting expressions in f-strings like this:</p> <pre><code>&gt;&gt;&gt; variable=5 &gt;&gt;&gt; print(f'{variable=}') variable=5 </code></pre> <p>is there an equivalent feature in JavaScript?</p>	2021-07-25 08:39:28.693 UTC	68516974	"<p>You can self-assign a variable into an object and stringify it:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let variable = 5; console.log(JSON.stringify({variable}));</code></pre> </div> </div> </p>"			2021-07-25 08:49:13.223 UTC
68516909	javascript|python	is there an equivalent of Python self-documenting expressions in JavaScript?	<p>in Python 3.8 it is possible to use self-documenting expressions in f-strings like this:</p> <pre><code>&gt;&gt;&gt; variable=5 &gt;&gt;&gt; print(f'{variable=}') variable=5 </code></pre> <p>is there an equivalent feature in JavaScript?</p>	2021-07-25 08:39:28.693 UTC	68516937	"<p>The only reasonable way to do something like this would be for properties of objects:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const logObj = (obj) =&gt; {   for (const [key, val] of Object.entries(obj)) {     console.log(key, val);   } }; const obj = {   foo: 'fooval',   bar: 'barval', }; logObj(obj);</code></pre> </div> </div> </p> <p>There's no good way to do this for standalone variables. But the execution logic of a script should not (and, indeed, almost always does not) depend on the names of the variables used in the script - that would break <a href=""https://developer.mozilla.org/en-US/docs/Glossary/minification#:%7E:text=Minification%20is%20the%20process%20of,of%20variable%20and%20function%20names"" rel=""nofollow noreferrer"">minification</a> and would be confusing to other readers of the script. Even if it might be theoretically possible to do something like</p> <pre><code>logVar(someVar) </code></pre> <p>and have the string <code>someVar</code> be logged (such as by throwing an error and examining the source text), that would be an extraordinary strange thing to do.</p>"			2021-07-25 08:44:01.777 UTC
68522512	javascript|python|django|game-development	Should I use Python or Javascript to build a text-based adventure using Django?	"<p>I hope this doesn't come off like too strange a question, but I'm relatively new to Django specifically. I currently have a website going using Heroku and Django and I would like to post a bunch of mini-projects and such I make there. One of the ones I want to do is a text-based adventure. I'm relatively proficient in Python and Javascript individually and have built similar things in both, however I'm having trouble thinking how best to translate this into the Django framework.</p> <p>Currently on my website I have a bunch of pages just for things like articles and written pieces. All of that is working fine and I've even added a mini CMS to the backend and that all works alright. However most of that was either building stuff entirely in backend, or entirely in frontend and then just doing a data linkage. There's no real python code going on in the backend outside of constructing the views and models etc. If I was to build this in Javascript I would likely just hardcode a lot of the writing for a text-based game, likewise with Python, however I feel with Django and a linked Postgres DB there's potential to make it more dynamic and less hard coded using this, but I can't quite figure out which is best.</p> <p>My question based on this is: should I construct the game entirely in javascript which is just served to the webpage and then update the view using POST requests and a data table, or is there a way to create a python script which integrates with the web page a bit more effectively. I suppose the question is really more is it better to build the game in front-end or back-end, as I can't see a particularly effective way of dividing it across both?</p>"	2021-07-25 21:04:32.843 UTC	68522721	"<p>You have to ask yourself about what data does the game needs from the backend (Django and Postgres)? Be clear and specific about what data and when that data need to be in the game frontend (Javascript)?</p> <p>With that said, one way to approach this is to have the game written in a pure frontend and will be cleaner to be written in javascript. It should focus on the game logic and gameplay.</p> <h1 id=""seeding-initial-game-data-nvdf"">Seeding Initial Game Data</h1> <p>If you're very clear with what you need on the game (i.e. frontend) during the initial loading, then you can consider feeding all those data during the initial page load. (more detail: <a href=""https://stackoverflow.com/a/298793/764592"">https://stackoverflow.com/a/298793/764592</a>)</p> <h1 id=""subsequent-data-iotn"">Subsequent Data</h1> <p>The other data from the backend which cannot be determined after the initial load will have to be requested via XMLHttpRequest to a separate Django views which returns the data only (either in JSON/XML/etc).</p> <p>In those requests, you need to make sure if the backend logic does the necessary validation as well as the frontend logic. If you find that there is a duplication in the frontend and backend logic, do consider move that logic in the backend, and have the frontend call the backend instead.</p> <p>Make sure you are clear with the responsibility of each backend and frontend. The game runs on Javascript, and the backend stored data is validated in the Django.</p> <p>Note: The above is just one way you can deal with it in a clear separation of responsibility. But if your game is extremely simple, you can even consider do everything in Django level without Javascript. Or Everything in Javascript without Django at all if no database/server logic required.</p>"			2021-07-25 21:41:02.573 UTC
68532018	javascript|python|flask	"Using AJAX, JavaScript to call python flask function with return to JavaScript"	"<p>I know that you can have javascript to call a python flask function and be able to return data to a designated  id. Like this:</p> <p><strong>HTML</strong></p> <pre><code>&lt;div id = &quot;update&quot;&gt; &lt;/div&gt;  &lt;script type=&quot;text/javascript&quot;&gt;    var counter = 0;    window.setInterval(function(){       $(&quot;#update&quot;).load(&quot;/game?counter=&quot; + counter);       counter++;    }, 5000) </code></pre> <p><strong>views.py</strong></p> <pre><code>from flask import request  @app.route(&quot;/game&quot;) def live_game():     textlist = ['a','b','c','d']     counter = request.args.get('counter')     return &quot;&lt;p&gt; &quot; + textlist[counter] + &quot; &lt;/p&gt;&quot; </code></pre> <p>I found this in a previous post. What I would like to do is update utilize this method in updating some cool justgage that I found online to show the most up to date temperature and humidity readings from my database. Here is the script that I was wanting to use:</p> <p><strong>HTML</strong></p> <pre><code>&lt;div class=&quot;container&quot;&gt;   &lt;div class=&quot;jumbotron&quot;&gt;     &lt;h1&gt;Historical Environmental Readings&lt;/h1&gt;           &lt;div class=&quot;container-fluid&quot; id=&quot;dht-container&quot;&gt;       &lt;div id=&quot;g1&quot; style=&quot;width: 200px; height: 150px;&quot;&gt;&lt;/div&gt;       &lt;div id=&quot;g2&quot; style=&quot;width: 200px; height: 150px;&quot;&gt;&lt;/div&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/div&gt; </code></pre> <p>.....</p> <pre><code>&lt;script&gt;         function ajaxd(NodeID) {          //reload result into element with id &quot;dht-container&quot;         $(??????).load(&quot;/tempnodeDHT&quot;, function() {  alert( &quot;Temp Load was performed.&quot; ); });                   document.addEventListener(&quot;DOMContentLoaded&quot;, function (event) {             var g1 = new JustGage({                 id: &quot;g1&quot;,                 value: 50,                 min: -20,                 max: 150,                 title: &quot;DHT Temp&quot;,                 label: &quot;temperature&quot;,                 pointer: true,                 textRenderer: function (val) {                     if (val &lt; NODE_EnvCP.low_temp) {                         return 'Cold';                     } else if (val &gt; NODE_EnvCP.hot) {                         return 'Hot';                     } else if (val === NODE_EnvCP.optimum_temp) {                         return 'OK';                     }                 },             });             var g2 = new JustGage({                 id: &quot;g2&quot;,                 value: 50,                 min: 0,                 max: 100,                 title: &quot;Target&quot;,                 label: &quot;Humidity&quot;,                 pointer: true,                 textRenderer: function (val) {                     if (val &lt; NODE_EnvCP.low_hum) {                         return 'LOW';                     } else if (val &gt; NODE_EnvCP.high_hum) {                         return 'HIGH';                     } else if (val === NODE_EnvCP.optimum_hum) {                         return 'OK';                     }                 },             });              setInterval(function () {              (currentTemp, currentHumidity)=ajaxd();             g1.refresh(currentTemp);             g2.refresh(currentHumidity);                 return false;             }, 2500);         });     &lt;/script&gt; </code></pre> <p>This is my python flask function: <strong>run.py</strong></p> <pre><code>@app.route('/nodeDHT') def getLatestDHT():     NodeID = request.args.get('NodeID')     df = DAO.Pull_CURRENT_DHT_Node_Data(self, NodeID)     currentTemp = df.Temperature[0]     currentHumidity = df.Humidity[0]     return (currentTemp, currentHumidity) </code></pre> <p>I was hoping that I could change the ?????? inside</p> <pre><code>$(??????).load(&quot;/nodeDHT&quot;, function() {  alert( &quot;Temp Load was performed.&quot; ); }); </code></pre> <p>so that the two variables <code>(currentTemp, currentHumidity)</code> would end up back into the javascript portion so that the gages would update every 2.5 seconds. Also, am I passing the variable back to the python flask? there is a variable already pushed to the html when it was rendered.</p> <p>EDIT:</p> <p>could I do something like this:</p> <pre><code>@app.route('/nodeDHT') def getLatestDHT():     NodeID = request.args.get('NodeID')     df = DAO.Pull_CURRENT_DHT_Node_Data(self, NodeID)     currentTemp = df.Temperature[0]     currentHumidity = df.Humidity[0]     return json.dumps(currentTemp, currentHumidity) </code></pre> <p>and in the javascript side do something like this?</p> <pre><code>    function ajaxd(NodeID) {      //reload result into javascript     $.get(&quot;/nodeDHT&quot;,function( currentTemp, currentHumidity ){ console.log($.parseJSON(currentTemp, currentHumidity)}); </code></pre> <p>What I'm really asking is. How can I pass single/multiple variables to the python flask function from the javascript function and then get back a dataframe where I can use column values to update a chart or multiple variables back to the javascript function to be used in a setinterval to be used for multiple functions such as updating justgage</p> <pre><code>    setInterval(function () {      (currentTemp, currentHumidity)=ajaxd();     g1.refresh(currentTemp);     g2.refresh(currentHumidity);         return false;     }, 2500); </code></pre> <p>---------------------DOUBLE EDIT -----------------------</p> <p>COULD I DO SOMETHING LIKE THIS:</p> <pre><code>function UPDATEGAGES(NodeID) {  $.get('/nodeDHT?NodeID='+NodeID+'&amp;startdatetime='+startdatetime,      function(data){ const parsed = JSON.parse(data)};         g1.refresh(currentTemp);         g2.refresh(currentHumidity); });  setInterval(function () {         UPDATEGAGES(NodeID);         return false;     }, 2500); </code></pre>"	2021-07-26 14:50:10.6 UTC	68602339	"<p>If you want to send variables to server in get method, use variables in url</p> <pre><code>'/tempnodeDHT?NodeID='+your_nod_id+'&amp;anotherVar='+value+'&amp;anotherVar2='+value2 </code></pre> <p>You can access them in your flask server as below</p> <pre><code>NodeID = request.args['NodeID'] anotherVar = request.args['anotherVar'] anotherVar2 = request.args['anotherVar2'] </code></pre> <p>If you want to send multiple variables from flask server to your front end, send it as JSON</p> <pre><code>return jsonify({'currentTemp': currentTemp, 'currentHumidity': currentHumidity }) </code></pre> <p>When you handle it the response from the server, again parses it to JSON.</p> <pre><code>$.get( '/nodeDHT/tempnodeDHT?NodeID='+your_nod_id+'&amp;anotherVar='+value+'&amp;anotherVar2='+value2, function( data ) {   const parsed = JSON.parse(data)   // here you can access your 'currentTemp' variable from parsed.currentTemp  }); </code></pre> <p><strong>EDIT</strong></p> <p>For your final desired output</p> <pre><code>function UPDATEGAGES(NodeID, startdatetime) {      $.get('/nodeDHT?NodeID='+NodeID+'&amp;startdatetime='+startdatetime,          function(data){             const parsed = JSON.parse(data)             g1.refresh(parsed.currentTemp);             g2.refresh(parsed.currentHumidity);         };     ) };  setInterval(function () {         UPDATEGAGES(NodeID, startdatetime);         return false; }, 2500); </code></pre>"			2021-07-31 12:56:49.033 UTC
68534238	javascript|python|html|flask	Flask - Dynamically update JavaScript with Python variable	"<p>I'm looking to dynamically update JavaScript to increment a progress bar on my Flask html page. How would I go about this?</p> <p>Snippet of my app.py</p> <pre><code>counter = 0  @app.route('/checking') def checking():     global counter     --code here to run whilst incrementing--     counter += 1     pagename = 'Check Stat'     return render_template('CheckStat.html', pagename=pagename, counter=counter) </code></pre> <p>JS contained within a custom.js which is called into the html page (via a layout)</p> <pre><code> $(function() {     var current_progress = {{counter}};     var interval = setInterval(function() {         current_progress += 10;         $(&quot;#dynamic&quot;)         .css(&quot;width&quot;, current_progress + &quot;%&quot;)         .attr(&quot;aria-valuenow&quot;, current_progress)         .text(current_progress + &quot;% Complete&quot;);         if (current_progress &gt;= 100)             clearInterval(interval);     }, 1000);   }); </code></pre> <p>Progress bar is then displayed on the HTML page:</p> <pre><code>&lt;div class=&quot;progress&quot;&gt;         &lt;div id=&quot;dynamic&quot; class=&quot;progress-bar progress-bar-success progress-bar-striped active&quot; role=&quot;progressbar&quot; aria-valuenow=&quot;0&quot; aria-valuemin=&quot;0&quot; aria-valuemax=&quot;100&quot; style=&quot;width: 0%&quot;&gt;           &lt;span id=&quot;current-progress&quot;&gt;&lt;/span&gt;         &lt;/div&gt;       &lt;/div&gt; </code></pre>"	2021-07-26 17:35:28.97 UTC	68534340	"<p>You would need to use either SSE, Websockets, or an ajax call to get the progress value.</p> <p>A another way is simpy to refresh the progress bar in an iframe. See <a href=""https://stackoverflow.com/questions/86428/what-s-the-best-way-to-reload-refresh-an-iframe"">Whatâ€™s the best way to reload / refresh an iframe?</a></p>"			2021-07-26 17:43:32.953 UTC
68534530	javascript|python	how can I have read().decode()(python) functionality in javascript?	"<p>So here, in the song variable, a title of the song is given and then concatenating that string into the youtube results link.Now read().decode() is converting that html_content into that song ID.So how can I have this functionality in JavaScript?</p> <p>Python code:</p> <pre><code>        query_string = urllib.parse.urlencode({&quot;search_query&quot;: song})         html_content = urllib.request.urlopen(&quot;http://www.youtube.com/results?&quot; + query_string)          # retrieve all videos that met the song name criteria         search_results = re.findall(r'href=\&quot;\/watch\?v=(.{11})', html_content.read().decode()) </code></pre>"	2021-07-26 17:59:48.07 UTC	68535917	"<p>You can use my script below to search for specific keywords and return list of ids.</p> <p>Live demo: <a href=""https://replit.com/@kallefrombosnia/js-yt-search#index.js"" rel=""nofollow noreferrer"">https://replit.com/@kallefrombosnia/js-yt-search#index.js</a></p> <pre><code>const https = require('https');   /**  * Define our function  */ const ytSearchResult = (song) =&gt;{    // return promised result   return new Promise((resolve, reject) =&gt;{      // Send get request to the youtube     https.get(`https://www.youtube.com/results?q=${encodeURIComponent(song)}&amp;hl=en`, (res) =&gt; {        // Init data string       let data = '';        // Append data       res.on('data', (chunk) =&gt; {           data += chunk;       });        // Event fired on stream finish       res.on('end', () =&gt; {          // Our exporting id list          let idlist = [];          // Match all results         const ids = data.match(/{&quot;url&quot;:&quot;\/watch\?v=(.{11})&quot;/g);          // Parse trough them and get id         ids.forEach((string, index) =&gt;{            // Data is not well formated so we need to split returned string           idlist.push(string.split('=')[1]);                      // Check if we have reached end of array           if((index + 1) === ids.length){                          // If yes resolve with id array list             resolve(idlist);           }          });        });      }).on(&quot;error&quot;, (err) =&gt; {         reject(err);     });    }); }  // Call function ytSearchResult('best song').then(data =&gt; {    // Log array id   console.log(data)  }).catch(err =&gt; console.log(err.toString()))  /**   * Example  *   * [   'NSRobDsUb54&quot;', 'o_v9MY_FMcw&quot;',   'k_on7zgBPUA&quot;', 'qclWIFxq2F4&quot;',   'lyIhRNPCNiw&quot;', 'HPkydJOXXNs&quot;',   'cW9EdTbkWfc&quot;', '-ObdvMkCKws&quot;',   'jRS6cGbr3Og&quot;', 'LwOQdoYKQ5k&quot;',   'HigTewy3OTM&quot;', '5D8KR6_wPU0&quot;',   'LpfMVFY1TOM&quot;', 'AOMU6qcOFW0&quot;',   'P51_8HMI150&quot;', 'DQ2Ru2obvQE&quot;',   'UgfsbL-uHOA&quot;', '4HD_pJpQ4SQ&quot;',   'X3e2oPpX5ek&quot;', 'cWm8OXGUHZQ&quot;',   '5mFTXbZzOAE&quot;', 'nntmY825J64&quot;',   'OlRKpevb-Gs&quot;', 'GKSRyLdjsPA&quot;',   'o_cikTgwMXY&quot;', 'lbPhbuO4wc4&quot;',   'Zf94v3vTGQc&quot;', '7zT8omdej4c&quot;' ]  */ </code></pre>"			2021-07-26 20:19:06.5 UTC
68538434	javascript|python|node.js|python-3.x|profiling	Missing javascript dependency for python-pyinstrument	"<p>I am trying to profile a python program with pyinstrument but it keeps throwing this error when trying to render the profile in html.</p> <pre><code>Traceback (most recent call last):   File &quot;/home/ananda/projects/product_pred/025200812_cpall_ai_ordering_model_v2/.venv/bin/pyinstrument&quot;, line 8, in &lt;module&gt;     sys.exit(main())   File &quot;/home/ananda/projects/.venv/lib/python3.8/site-packages/pyinstrument/__main__.py&quot;, line 304, in main     output_filename = renderer.open_in_browser(session)   File &quot;/home/ananda/projects.venv/lib/python3.8/site-packages/pyinstrument/renderers/html.py&quot;, line 70, in open_in_browser     f.write(self.render(session))   File &quot;/home/ananda/projects/.venv/lib/python3.8/site-packages/pyinstrument/renderers/html.py&quot;, line 25, in render     raise RuntimeError( RuntimeError: Could not find app.js. If you are running pyinstrument from a git checkout, run 'python setup.py build' to compile the Javascript (requires nodejs). </code></pre> <p>It seems that I don't have nodejs so I tried installing that by <code>sudo apt install nodejs</code> but I am getting the same error.</p> <p>I know the error is asking me to run <code>python setup.py build</code> but I don't even have a setup.py file for my repo so I am not sure what that is supposed to do. Am I to run it from the installation folder of pyinstrument or something? I tried going in there but I can't find a setup.py file there as well (under <code>.venv/lib/python3.8/site-packages/pyinstrument</code>)</p> <p>The file that I am trying to run is a simple script so I don't think that matters.</p> <pre><code>import time  time.sleep(2) print(&quot;hello, world&quot;) </code></pre> <p>The way I am running the program is like so -</p> <p><code>pyinstrument -r html src/jobs/evaluator.py</code></p> <p>If I try running pyinstrument without using html rendering, <code>pyinstrument src/jobs/evaluator.py</code>, it works but the output is in the terminal and I would really like the html output.</p> <p>I think I am just missing some javascript dependency here but I am not sure what or how to install it.</p> <p>I am using the following versions -</p> <pre><code>python 3.8.10 pyinstrument 4.0.0 node v8.10.0 OS - Pop!_OS 18.04 LTS </code></pre> <p>Thanks for the help!</p>"	2021-07-27 03:03:31.647 UTC	68630175	"<p>After doing a bit of searching, I found a <a href=""https://github.com/joerick/pyinstrument/issues/137"" rel=""nofollow noreferrer"">github issue</a> for <code>pyinstrument</code> with the exact same error, and it seems like they fixed it in an update (<code>4.0.2</code>). Try updating your pyinstrument version and let me know if it works!</p> <p>Note: If you do end up getting an error after upgrading to <code>4.0.2</code>, in another <a href=""https://github.com/joerick/pyinstrument/issues/139"" rel=""nofollow noreferrer"">github issue</a>, the maintainer is working on a fix at the moment, so unfortunately either you'll have to find an earlier version that does work, or you'll have to wait for the developer to fix it.</p>"			2021-08-03 03:54:45.177 UTC
68565938	javascript|python|html|web-scraping|html-table	Web scraping dynamic content with Python (dynamic HTML/Javascript table)	"<p>I would like to scrape data from a dynamic HTML table where some data require a button to be clicked in order to be loaded (with Javascript). The data I am interested in are on <a href=""https://www.investing.com/indices/stoxx-600-components"" rel=""nofollow noreferrer"">this webpage</a> and so far, I have only managed to scrape the data loaded by default.</p> <p>On the webpage linked previously, I am trying to extract the data contained in the table named &quot;Fundamental&quot; (<a href=""https://i.stack.imgur.com/fKj3R.png"" rel=""nofollow noreferrer"">picture showing what I am trying to scrape</a>).</p> <p>So far, I coded this:</p> <pre><code>import pandas as pd import requests as rq from bs4 import BeautifulSoup  headers = {&quot;user-agent&quot;: &quot;chrome&quot;} url = &quot;https://www.investing.com/indices/stoxx-600-components&quot; htmlcontent = rq.get(url, headers=headers).text soup = BeautifulSoup(htmlcontent, &quot;lxml&quot;)  table_price = soup.find(&quot;table&quot;, {&quot;id&quot;: &quot;cr1&quot;})  indexcomponents = []  rows = table_price.find_all(&quot;tr&quot;)  for row in rows[1:]:     columns = row.find_all(&quot;td&quot;)     indexcomponents.append([         columns[1].text,         columns[2].text,         columns[6].text,         columns[7].text,         columns[8].text])  for n in range(len(indexcomponents)):     print(indexcomponents[n]) </code></pre> <p>I am very well aware that similar questions have already been asked, but I am quite a beginner in Python and know absolutely nothing about Javascript and as a consequence, I haven't succeed in implementing the proposed solutions. Thanks in advance for the help!</p>"	2021-07-28 18:51:06.91 UTC	68570270	"<p>Selenium with Scrapy for your desired working solution:</p> <pre><code>import scrapy from scrapy.selector import Selector from selenium import webdriver from selenium.webdriver.chrome.options import Options from shutil import which from time import sleep   class TableSpider(scrapy.Spider):     name = 'table'           allowed_domains = ['www.investing.com']      start_urls = [         'https://www.investing.com/indices/stoxx-600-components'     ]      def __init__(self):         chrome_options = Options()         #chrome_options.add_argument(&quot;--headless&quot;)          chrome_path = which(&quot;chromedriver&quot;)          self.driver = webdriver.Chrome(executable_path=chrome_path)#, options=chrome_options)         self.driver.set_window_size(1920, 1080)         self.driver.get(&quot;https://www.investing.com/indices/stoxx-600-components&quot;)         sleep(5)         rur_tab = self.driver.find_element_by_id(&quot;filter_fundamental&quot;)         rur_tab.click()         sleep(5)          self.html = self.driver.page_source         self.driver.close()              def parse(self, response):             resp = Selector(text=self.html)             for tr in resp.xpath('(//tbody)[2]/tr'):                 yield {                     'Average Vol': tr.xpath(&quot;.//td[3]/text()&quot;).get(),                     'Market Cap': tr.xpath(&quot;.//td[4]/text()&quot;).get()                                      } </code></pre> <p>OUTPUT: A portion of total output:</p> <pre><code>    {'Average Vol': '1.31M', 'Market Cap': '7.19B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '950.47K', 'Market Cap': '18.44B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '921.90K', 'Market Cap': '5.82B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '375.59K', 'Market Cap': '5.39B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '191.61K', 'Market Cap': '5.76B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '62.44K', 'Market Cap': '10.52B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '1.31M', 'Market Cap': '15.13B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '163.85K', 'Market Cap': '29.76B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '2.79M', 'Market Cap': '233.86B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '146.01K', 'Market Cap': '2.30B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '201.49K', 'Market Cap': '8.18B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '911.90K', 'Market Cap': '50.36B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '1.92M', 'Market Cap': '2.91B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '2.28M', 'Market Cap': '28.28B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '81.20M', 'Market Cap': '32.06B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '313.25K', 'Market Cap': '6.59B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '1.04M', 'Market Cap': '102.35B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '4.09M', 'Market Cap': '414.52B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '6.21K', 'Market Cap': '32.33B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '303.02K', 'Market Cap': '4.57B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '190.13K', 'Market Cap': '6.61B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '1.40M', 'Market Cap': '7.49B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '495.52K', 'Market Cap': '4.93B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '40.93K', 'Market Cap': '4.94B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '665.41K', 'Market Cap': '9.98B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '459.73K', 'Market Cap': '2.18B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '522.84K', 'Market Cap': '6.19B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '237.73K', 'Market Cap': '3.80B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '465.56K', 'Market Cap': '24.44B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '495.88K', 'Market Cap': '22.04B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '2.13M', 'Market Cap': '11.15B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '478.85K', 'Market Cap': '119.16B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '825.97K', 'Market Cap': '25.40B'} 2021-07-29 11:23:02 [scrapy.core.scraper] DEBUG: Scraped from &lt;200 https://www.investing.com/indices/stoxx-600-components&gt; {'Average Vol': '371.43K', 'Market Cap': '54.56B'} 2021-07-29 11:23:02 [scrapy.core.engine] INFO: Closing spider (finished) 2021-07-29 11:23:02 [scrapy.statscollectors] INFO: Dumping Scrapy stats: {'downloader/request_bytes': 326,  'downloader/request_count': 1,  'downloader/request_method_count/GET': 1,  'downloader/response_bytes': 134730,  'downloader/response_count': 1,  'downloader/response_status_count/200': 1,  'elapsed_time_seconds': 5.182406,  'finish_reason': 'finished',  'finish_time': datetime.datetime(2021, 7, 29, 5, 23, 2, 200527),  'httpcompression/response_bytes': 911212,  'httpcompression/response_count': 1,  'item_scraped_count': 589 </code></pre>"			2021-07-29 04:57:20.983 UTC
68588708	python	"I was trying to convert my code from Python to JS, because I want to use HTML with my JavaScript c. My question is, how do I convert this code to java"	"<pre><code>import random import os import collections from collections import OrderedDict from matplotlib import pyplot as plt from matplotlib import cm import pylab import math import numpy as np import pandas as pd  h1 = input(&quot;Enter subsequent: &quot;)  Test = [] for n in range(1):      # Function to convert      def listToString(s):          # initialize an empty string         str1 = &quot;&quot;         # traverse in the string         for ele in s:             str1 += ele         # return string         return str1      # Driver code     S = listToString(h2)      def count_kmers(sequence, k):         d = collections.defaultdict(int)         for i in range(len(S) - (k - 1)):             d[sequence[i : i + k]] += 1          return d      def probabilities(kmer_count, k):         probabilities = collections.defaultdict(float)         N = len(S)         for key, value in kmer_count.items():             probabilities[key] = float(value) / (N - k + 1)         return probabilities      def chaos_game_representation(probabilities, k):         array_size = int(math.sqrt(4 ** k))         chaos = []         for i in range(array_size):             chaos.append([0] * array_size)         maxx = array_size         maxy = array_size         posx = 1         posy = 1         for key, value in probabilities.items():             for char in key:                 if char == &quot;T&quot;:                     posx += maxx // 2                 elif char == &quot;C&quot;:                     posy += maxy // 2                 elif char == &quot;G&quot;:                     posx += maxx // 2                     posy += maxy // 2                 maxx = maxx // 2                 maxy //= 2             chaos[posy - 1][posx - 1] = value             maxx = array_size             maxy = array_size             posx = 1             posy = 1          return chaos      p = count_kmers(S, 5)      F = probabilities(p, 5)      chaos_k3 = chaos_game_representation(F, 5)      pylab.title(&quot;Chaos game representation for 3-mers&quot;)     pylab.imshow(chaos_k3, interpolation=&quot;nearest&quot;, cmap=cm.gray_r)      def flatten_list(_2d_list):         flat_list = []         # Iterate through the outer list         for element in _2d_list:             if type(element) is list:                 # If the element is of type list, iterate through the sublist                 for item in element:                     flat_list.append(item)             else:                 flat_list.append(element)         return flat_list      Test.append(flatten_list(chaos_k3)) print(Test)   import csv import cv2  file = open(&quot;test.csv&quot;, &quot;w+&quot;, newline=&quot;&quot;)   # writing the data into the file  with file:      write = csv.writer(file)      write.writerows(Test) test_u = pd.read_csv(&quot;test.csv&quot;, header=None) test_u  X_train = (test_u.iloc[:1, :].values).astype(&quot;float32&quot;)  F11 = X_train.reshape(test_u.shape[0], 32, 32, 1) F11.shape </code></pre>"	2021-07-30 09:35:45.9 UTC	68589038	"<p>Why do you need to convert this whole to JS (!= java)? there are some interesting web framework to use python to interact with HTML elements and import your function in python native language.</p> <p>I'd suggest digging into Flask. This simple snippet allows you to render an html page (main.html) where you can <em>return</em> Python functions or even variables to use in the code. This is also more efficient since allows you to segregate BE and FE functions. You can even add further interaction with JS scripts if you need. Then you can also easily hosts it online with PythonAnywhere or Heroku.</p> <pre><code>from flask import Flask, request, render_template  app = Flask(__name__) app.config[&quot;DEBUG&quot;] = True  @app.route('/', methods = [&quot;GET&quot;]) def input_page():     return render_template(&quot;main.html&quot;)      if __name__ == '__main__':     app.run(use_reloader=False) </code></pre> <p>(I am sorry, this should be more appropriate as a comment, but I have not enough reputation. However I didn't want to miss a chance to help :))</p>"			2021-07-30 09:58:05.53 UTC
68600333	javascript|python|json	Pass Python object as json to JavaScript	"<p>I'm using Python/Flask and I've troubles converting my python object in a valid json object.</p> <pre><code>@app.route('/') @app.route('/index') @login_required def index():     sites = Site.query.filter(Site.id==2).all()      site_list = []     for site in sites:         site_element = {}         site_element['long'] = site.longitude         site_element['lat'] = site.latitude         site_element['id'] = site.id         site_element['name'] = 'test'         site_list.append(site_element)      site_json = json.dumps(site_list, separators=(',', ':'))     return render_template('index.html', title='Home', site_json=site_json) </code></pre> <p>I'm consuming the json in the js like this:</p> <pre><code>var markers = JSON.parse('{{ site_json | tojson | safe }}'); </code></pre> <p>It results in following error:</p> <p><em>Uncaught SyntaxError: JSON.parse: unexpected non-whitespace character after JSON data at line 1 column 5 of the JSON data</em></p> <p>What seems strange to me: If I construct the json manually, it just works fine!</p> <pre><code>@app.route('/') @app.route('/index') @login_required def index():     sites = Site.query.filter(Site.id==2).all()      # site_list = []     # for site in sites:     #     site_element = {}     #     site_element['long'] = site.longitude     #     site_element['lat'] = site.latitude     #     site_element['id'] = site.id     #     site_element['name'] = 'test'     #     site_list.append(site_element)     # site_json = json.dumps(site_list, separators=(',', ':'))      site_json = [{'long':36.02, 'lat':37.04, 'id':2, 'name':'test'}]      return render_template('index.html', title='Home', site_json=site_json) </code></pre>"	2021-07-31 08:13:24.143 UTC	68600364	"<p>You should pass the object rather than string. With <code>json.dumps</code> you are dumping the <code>json</code> as <code>string</code>.</p> <pre><code>@app.route('/') @app.route('/index') @login_required def index():     sites = Site.query.filter(Site.id==2).all()      site_list = []     for site in sites:         site_element = {}         site_element['long'] = site.longitude         site_element['lat'] = site.latitude         site_element['id'] = site.id         site_element['name'] = 'test'         site_list.append(site_element)          # site_json = json.dumps(site_list, separators=(',', ':')) &lt;-- this is causing problem      return render_template('index.html', title='Home', site_json=site_list) </code></pre>"			2021-07-31 08:17:27.253 UTC
68602996	javascript|python-3.x|selenium	Using javascript in python selenium	<p>How can i change the 0 to be a variable that i can increase the value of when i loop the code</p> <pre><code>javaScript = &quot;document.getElementsByTagName('cite')[0].click();&quot; browser.execute_script(javaScript) </code></pre>	2021-07-31 14:29:20.757 UTC	68603854	"<p>in python you could do this :</p> <pre><code>i = 0 javaScript = f&quot;document.getElementsByTagName('cite')[{i}].click();&quot; browser.execute_script(javaScript) </code></pre> <p>I'm not sure how you want to <code>iterate</code>, but a standard way would be something like this :</p> <pre><code>i = 0 for x in range(5):     javaScript = f&quot;document.getElementsByTagName('cite')[{i}].click();&quot;     driver.execute_script(javaScript)     i = i + 1 </code></pre>"			2021-07-31 16:19:11.287 UTC
68624755	javascript|python|opencv	opencvjs - convert python to javascript	"<p>I am trying to convert the following <code>python</code> code using <code>opencv</code> for image processing into <code>javascript</code> using <code>opencvjs</code>, but seem to be missing something as the output is not quite the same.</p> <p>Would be great if someone could help me out here as the docs for <code>opencvjs</code> are few and far between.</p> <p><code>python</code> code:</p> <pre><code>img = cv.imread(inPath) frame_HSV = cv.cvtColor(img, cv.COLOR_BGR2HSV) frame_mask = cv.inRange(frame_HSV, (30, 50, 0), (80, 255, 255))  frame_mask = cv.bitwise_not(frame_mask) frame_result = cv.bitwise_and(img, img, mask = frame_mask) cv.imwrite(outPath, frame_result) </code></pre> <p>My <code>javascript</code> code:</p> <pre><code>const src = cv.imread('canvasInput'); const dst = new cv.Mat(); const hsv = new cv.Mat(); const hsvMask = new cv.Mat(); const hsvMaskInv = new cv.Mat();  cv.cvtColor(src, hsv, cv.COLOR_BGR2HSV, 0);   const low = new cv.Mat(hsv.rows, hsv.cols, hsv.type(), [30, 50, 0, 0]); const high = new cv.Mat(hsv.rows, hsv.cols, hsv.type(), [80, 255, 255, 255]);  cv.inRange(hsv, low, high, hsvMask);  cv.bitwise_not(hsvMask, hsvMaskInv); cv.bitwise_and(src, src, dst, hsvMaskInv);  cv.imshow('canvasOutput', dst); src.delete(); dst.delete(); low.delete(); high.delete(); hsv.delete(); hsvMask.delete(); hsvMaskInv.delete(); </code></pre> <p>The original image:</p> <p><a href=""https://i.stack.imgur.com/v1rhP.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/v1rhP.jpg"" alt=""enter image description here"" /></a></p> <p>What python outputs:</p> <p><a href=""https://i.stack.imgur.com/K5HW5.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/K5HW5.jpg"" alt=""enter image description here"" /></a></p> <p>What my javascript outputs:</p> <p><a href=""https://i.stack.imgur.com/EdDSz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EdDSz.png"" alt=""enter image description here"" /></a></p>"	2021-08-02 16:06:45.67 UTC	68628302	"<h2><strong>TL;DR</strong></h2> <p>Try replacing <code>COLOR_BGR2HSV</code> with <code>cv.COLOR_RGB2HSV</code>.</p> <h2><strong>Implementation</strong></h2> <p>Comparing <code>opencv-python 4.5.3.56</code> with <code>opencv.js 3.4.0</code>, the image being read had the green and red channels swapped.</p> <p>A direct translation of your python code would look like this:</p> <pre><code>// img = cv.imread(inPath) let img = cv.imread(imgElement);  // frame_HSV = cv.cvtColor(img, cv.COLOR_BGR2HSV) let frameHSV = new cv.Mat(); cv.cvtColor(img, frameHSV, cv.COLOR_RGB2HSV, 0);  // frame_mask = cv.inRange(frame_HSV, (30, 50, 0), (80, 255, 255)) let frameMask = new cv.Mat(); let low = new cv.Mat(frameHSV.rows, frameHSV.cols, frameHSV.type(), [30, 50, 0, 0]); let high = new cv.Mat(frameHSV.rows, frameHSV.cols, frameHSV.type(), [80, 255, 255, 255]); cv.inRange(frameHSV, low, high, frameMask);  // frame_mask = cv.bitwise_not(frame_mask) cv.bitwise_not(frameMask, frameMask);  // frame_result = cv.bitwise_and(img, img, mask = frame_mask) let frameResult = new cv.Mat(); cv.bitwise_and(img, img, frameResult, frameMask);  // cv.imwrite(outPath, frame_result) cv.imshow('canvasOutput', frameResult);  img.delete(); frameHSV.delete(); frameMask.delete(); low.delete(); high.delete(); frameResult.delete(); </code></pre> <h2><strong>Debug Method</strong></h2> <p>You could try logging the images as matrices, so the swapped channels would be easily spotted, but I resorted to furas' suggestion above: display the results after every modification. Here are the results of your Python code and your JavaScript code, respectively:</p> <p><a href=""https://i.stack.imgur.com/jwQfs.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jwQfs.jpg"" alt=""comparison"" /></a></p>"			2021-08-02 21:53:06.61 UTC
68702513	javascript|python|selenium|jestjs|puppeteer	"What is the Equivalent of ""in"" in Python on Javascript?"	"<p>I am scripting automation in Javascript, using jest and puppeteer right now, and I want to verify a name, for example;</p> <p>I have a name of <code>const name = Watson, James R.</code> and wanted to compare the name <code>const info_name = Watson James</code> , which we can hypothetically say that they are the same person. When I was using python and selenium I usually use, <code>in</code> just to check the presence of a letter or word inside a string or list, so my question is, what is the best function I can use?</p> <p>I saw the use of <code>.includes</code> but it is too <strong>&quot;case sensitive&quot;</strong> one different character and it gives off <strong>&quot;False&quot;</strong> result. Also I saw <code>.some</code> but I get an error of <code>&quot;.some is not a function&quot;</code>.</p> <p>What can I use for alternatives? I would gladly appreciate your replies, Thank you in advance!</p>"	2021-08-08 16:07:24.38 UTC	68702620	<p>The equivalent of <code>in</code> with JavaScript is <code>.includes</code>.<br /> In order to ignore case sensitivity you can convert both strings to lower case with <code>.toLowerCase()</code> and then apply <code>.includes</code>.</p> <pre><code>console.log(string.toLowerCase().includes(substring.toLowerCase())); </code></pre>			2021-08-08 16:19:52.577 UTC
68769692	javascript	Javascript equivalent for Pythons (input())	<p>Python:</p> <pre><code>num = int(input('Please enter a number between 0 to 6'))  def someFunction(num):   # code here </code></pre> <p>How can I do this in JavaScript?</p>	2021-08-13 09:13:36.857 UTC	68769877	"<p>If you are going to run the code on browser, you can use window's <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt"" rel=""nofollow noreferrer""><code>prompt</code></a> method, to take input from user.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let num = parseInt(prompt(""Please enter a number between 0 to 6""))  function someFunction(num){   //code here }</code></pre> </div> </div> </p>"			2021-08-13 09:26:39.317 UTC
68779322	javascript|python|html|http|web	How do I run a Python function in Javascript file?	"<p>I am using Python for backend and web scraping, and JavaScript for frontend to write a website. My python file is as below.</p> <pre><code>def fn1(param1, param2, param3):   .......  def fn2(param1, param2, param3):   .......  </code></pre> <p>I want to call fn2() specifically within my js file's function and get a returned value. How do I do that?</p>"	2021-08-13 23:44:15.1 UTC	68779613	"<p>In NodeJS, you can spawn a <code>subprocess</code>. You can write Python code to a file with <code>fs</code> and then run it with commands, eg <code>py foo.py</code>.</p> <p>In regular JavaScript, you can't run Python unless you somehow manage to write a Python parser/interpreter in JavaScript. Otherwise, you just rely on a backend to run Python code.</p>"			2021-08-14 01:02:22.287 UTC
68779322	javascript|python|html|http|web	How do I run a Python function in Javascript file?	"<p>I am using Python for backend and web scraping, and JavaScript for frontend to write a website. My python file is as below.</p> <pre><code>def fn1(param1, param2, param3):   .......  def fn2(param1, param2, param3):   .......  </code></pre> <p>I want to call fn2() specifically within my js file's function and get a returned value. How do I do that?</p>"	2021-08-13 23:44:15.1 UTC	68779335	"<p>As far as I know, you can't really mix languages (css and html don't count as languages for this one). You'd have to re-write parts of your code :/</p>"			2021-08-13 23:47:15.97 UTC
68779322	javascript|python|html|http|web	How do I run a Python function in Javascript file?	"<p>I am using Python for backend and web scraping, and JavaScript for frontend to write a website. My python file is as below.</p> <pre><code>def fn1(param1, param2, param3):   .......  def fn2(param1, param2, param3):   .......  </code></pre> <p>I want to call fn2() specifically within my js file's function and get a returned value. How do I do that?</p>"	2021-08-13 23:44:15.1 UTC	68779371	"<p>I think you're missing a few key concepts here.</p> <p>What you're asking at the moment isn't really possible (To call your backend  Python function within your <code>JavaScript</code> file).</p> <p>What is possible is using REST apis to interact with your <code>Python</code> backend from <code>JavaScript</code>.</p> <p>You can use python frameworks like <a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">Django</a> or <a href=""https://flask.palletsprojects.com/en/2.0.x/"" rel=""nofollow noreferrer"">Flask</a> to create backend <code>Python</code> APIS.</p> <p>I suggest you do a bit of reading on REST, as it's the bread and butter for interacting with backends via front end web applications. <a href=""https://medium.com/analytics-vidhya/understanding-restful-api-with-flask-59421f01f648"" rel=""nofollow noreferrer"">Here</a> is a good introduction to REST while using the <code>Flask</code> framework.</p> <p>I think if you work your way through the above, then read about how to interact with API's via <code>JavaScript</code>. <a href=""https://stackoverflow.com/questions/36975619/how-to-call-a-rest-web-service-api-from-javascript"">This</a> stackoverflow answer here is a great resource on it.</p>"			2021-08-13 23:57:49.597 UTC
68787369	javascript|typescript	How to port Python slicing assignment syntax to JavaScript/TypeScript?	"<p>I am trying to rewrite a Python library to TypeScript.</p> <p>I am having trouble porting this line from <a href=""https://github.com/mCodingLLC/prime_sieve/blob/93e0769e4a6468d41ebf85a3a716fefcf8791ded/prime_sieve/list.py#L34"" rel=""nofollow noreferrer"">this repository</a>.:</p> <pre class=""lang-py prettyprint-override""><code>is_prime[start - segment_min::pk] = repeat(False, len(range(start - segment_min, segment_len, pk))) </code></pre> <p>I know it's Python slicing assignment, but don't know how to port it to JS/TS.</p> <p>How do I do this in JavaScript/Typescript?</p>"	2021-08-14 22:08:06.7 UTC	68787837	"<p>A simple slicing assignment <code>target[t_start:t_end] = source[s_start:s_end]</code> can be achieved in JS using a combination of the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"" rel=""nofollow noreferrer""><code>splice</code></a> and <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"" rel=""nofollow noreferrer""><code>slice</code></a> Array methods:</p> <pre><code>target.splice(tStart, tEnd-tStart, ...source.slice(sStart, sEnd)); </code></pre> <p>However, JavaScript does not support a <code>step</code> slicing, for that you'll have to write a loop yourself.</p>"			2021-08-15 00:02:27.217 UTC
68852469	python|node.js|sockets|websocket	Converting websocket code from Python to Javascript	"<p>I have a problem implementing the client Python code to Javascript as the <code>open</code> listener seems never called</p> <p>Python Code</p> <pre><code>HEADER_LENGTH = 10 IP = &quot;SERVER_IP&quot; PORT = 8080  my_username = &quot;user&quot; # input(&quot;Username: &quot;) client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client_socket.connect((IP, PORT)) client_socket.setblocking(False)  username = my_username.encode(&quot;utf-8&quot;) username_header = f&quot;{len(username):&lt;{HEADER_LENGTH}}&quot;.encode('utf-8') client_socket.send(username_header + username) </code></pre> <p>The server log will show</p> <pre><code>Waiting for next event &lt;socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('SERVER_INTERNAL_IP', 8080)&gt; is notified_socket &lt;socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('SERVER_INTERNAL_IP', 8080), raddr=('CLIENT_IP', 3237)&gt; ('CLIENT_IP', 3237) receive_message Accepted new connection from CLIENT_IP:3237 username:user   Waiting for next event &lt;socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('SERVER_INTERNAL_IP', 8080), raddr=('CLIENT_IP', 3237)&gt; Closed connection from user </code></pre> <p>Javascript code</p> <pre><code>const HEADER_LENGTH = 10;  function addSpace(str, length) {     var adding = length - str.length;     var copy = str;     if (adding &gt; 0)         for (var i = 0; i &lt; adding; i++)             copy += &quot; &quot;;     return copy }  (function(){     ws = new WebSocket(&quot;ws://&quot; + SERVER_IP + &quot;:8080&quot;);     ws.addEventListener('open', function(e){         console.log('open', e);         var username = encodeURI(&quot;user&quot;);         var username_header = encodeURI(addSpace(username, HEADER_LENGTH));         ws.send(username_header + username);     });     ws.addEventListener('message', function(e){console.log('msg', e)});  })(); </code></pre> <p>The server log will show</p> <pre><code>Waiting for next event &lt;socket.socket fd=3, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('SERVER_INTERNAL_IP', 8080)&gt; is notified_socket &lt;socket.socket fd=4, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('SERVER_INTERNAL_IP', 8080), raddr=('CLIENT_IP', 3409)&gt; ('CLIENT_IP', 3409)   Waiting for next event </code></pre> <p>Seems the open listener seems never called and console will return an error of <code>WebSocket connection to 'ws://SERVER_IP:8080/' failed</code></p> <p>Any suggestion to check out the difference between Python code and Javascript code</p>"	2021-08-19 17:45:54.77 UTC	68852735	"<p>I use gevent for async situations like these.  I love that it combines the normal html socket and upgrades if it sees a websocket attempt, makes the entire app very elegant and simple.</p> <p>Below is an example of <code>bottle.py</code> and <code>gevent-websocket</code>:</p> <pre><code>import gevent from gevent import monkey, signal, Timeout, sleep  monkey.patch_all() import signal from gevent import signal_handler as sig from gevent.pywsgi import WSGIServer from geventwebsocket.handler import WebSocketHandler from geventwebsocket import WebSocketError import bottle from bottle import get, post, template, request, response, route, abort   @get('/') def _index():     return template('index.html')  #websocket @route('/ws/app') def handle_websocket():     ws = request.environ.get('wsgi.websocket')     if not ws:         abort(400, 'Expected WebSocket request.')     ws.send('CONNECTED')     while 1:         message = None         try:             # The Timeout continues the polling after 2 seconds             # as to not block on a recieve call. Allows for data update.               with Timeout(2, False) as timeout:                 message = ws.receive()             if message:                 #do something with the message                 print(message)         except WebSocketError:             break         except Exception as exc:             sleep(1)   if __name__ == '__main__':     botapp = bottle.app()     server = WSGIServer((&quot;0.0.0.0&quot;, 80), botapp, handler_class=WebSocketHandler)     def shutdown():         print('Shutting down ...')         server.stop(timeout=60)         exit(signal.SIGTERM)     sig(signal.SIGTERM, shutdown)     sig(signal.SIGINT, shutdown)  # CTRL C     server.serve_forever() </code></pre> <p>Javascript would look a little like this:</p> <pre><code>var ws = new ReconnectingWebSocket('ws://localhost'); ws.reconnectInterval = 3000; ws.maxReconnectAttempts = 100;  ws.onmessage = function (evt) {     var wsmsg = JSON.parse(evt.data);     // Do something with the wsmsg     } </code></pre>"			2021-08-19 18:07:52.99 UTC
68855216	javascript|callback|null|eel	Array not passing from Python Eel to Javascript	"<p>Hi I'm currently working on a desktop app using Python Eel, JS and HTML, but cannot seem to get a Python List to pass into JS for a new function. The Python side is working fine as it prints out the list of expected file names for me. If I insert an let array = ['a','b','c'] into the JS script then I get 3 buttons labelled as so, however when trying to pass the list from Python to JS it doesn't work and I am getting a callback=null error. I've tried multiple ways of fixing this but can't seem to find the answer! (PS: I have tried with the json lines both commented and uncommented and neither of these worked).</p> <p>Python Script:</p> <pre><code>@eel.expose def OverView_Data():     Acc_Files = os.listdir(&quot;C:\\Users\\Bex\\Records\\Accessioning&quot;)     Acc_Files = [x[:-4] for x in Acc_Files]     #Acc_Files = json.dumps(Acc_Files)     #Acc_Files = json.loads(Acc_Files)     print(Acc_Files)     return (Acc_Files) </code></pre> <p>JS Script:</p> <pre><code>eel.expose(OverView); async function OverView(){     let Array = await eel.OverView_Data()     console.log(Array)     for (var i=0; i&lt;Array.length; i++) {     var btn = document.createElement(&quot;button&quot;);     var t = document.createTextNode(Array[i]);     btn.appendChild(t);     document.body.appendChild(btn);     } } </code></pre>"	2021-08-19 22:46:49.587 UTC	68913084	"<p>Try using this line instead:</p> <pre class=""lang-py prettyprint-override""><code>let Array = await eel.OverView_Data()(); </code></pre> <p>The difference is that <code>()</code> on the end of your existing line. You can read more about why this approach is needed on the <a href=""https://github.com/ChrisKnott/Eel"" rel=""nofollow noreferrer"">Eel documentation</a> page (just search page for <code>await</code> for the relevant section).</p> <p>Lastly, an unrelated suggestion... you should consider avoiding the use of a JavaScript variable named <code>Array</code> since <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"" rel=""nofollow noreferrer"">Array</a> is a Global object in JavaScript and it could cause some problems.</p>"			2021-08-24 19:28:57.47 UTC
68956815	javascript|python|python-requests|fetch	Translate python request to javascript fetch	"<p>I'm trying to translate some python code into javascript code, however I can't get it to work. For some reason my javascript code isn't sending the same request as the python code (see my code below).</p> <p>My javascript implementation:</p> <pre><code>const fetchData = async () =&gt; {   const response = await fetch(&quot;URL&quot;, {     method: &quot;POST&quot;,     headers: {       &quot;X-Scope&quot;: &quot;SOME NUMBERS&quot;,       &quot;Content-Type&quot;: &quot;application/json&quot;,     },     body: JSON.stringify({signature: studentId}),   }); }; </code></pre> <p>Here is the javascript request:</p> <pre><code>{    &quot;headers&quot;:{       &quot;host&quot;:URL,       &quot;x-amzn-trace-id&quot;:&quot;Root=1-61291bf7-72b84b7d2e9f7f4554960116&quot;,       &quot;content-length&quot;:&quot;27&quot;,       &quot;x-scope&quot;:X_SCOPE_CODE,       &quot;accept&quot;:&quot;*/*&quot;,       &quot;content-type&quot;:&quot;application/json&quot;,       &quot;user-agent&quot;:&quot;Expo/2.21.3.10300 CFNetwork/975.0.3 Darwin/17.7.0&quot;,       &quot;accept-language&quot;:&quot;en-us&quot;,       &quot;accept-encoding&quot;:&quot;br, gzip, deflate&quot;    },    &quot;body&quot;:{       &quot;signature&quot;:STUDENT_ID_HERE    },    &quot;inferred_body_type&quot;:&quot;JSON&quot;,    &quot;method&quot;:&quot;POST&quot;,    &quot;url&quot;:URL,    &quot;client_ip&quot;:MY_IP,    &quot;query&quot;:{           } } </code></pre> <p>Original python implementation:</p> <pre><code>headers = {&quot;X-Scope&quot;: &quot;SOME NUMBERS&quot;, &quot;Content-Type&quot;:&quot;application/json&quot;} data={&quot;signature&quot;:studentId} response = requests.post(&quot;URL&quot;, headers=headers, json=data) </code></pre> <p>Here is what the python request looks like:</p> <pre><code>{    &quot;headers&quot;:{       &quot;host&quot;:URL,       &quot;x-amzn-trace-id&quot;:&quot;Root=1-61291d14-232a885c5c568ea9439203cc&quot;,       &quot;content-length&quot;:&quot;28&quot;,       &quot;user-agent&quot;:&quot;python-requests/2.26.0&quot;,       &quot;accept-encoding&quot;:&quot;gzip, deflate&quot;,       &quot;accept&quot;:&quot;*/*&quot;,       &quot;x-scope&quot;:X_SCOPE,       &quot;content-type&quot;:&quot;application/json&quot;    },    &quot;body&quot;:{       &quot;signature&quot;:STUDENT_ID    },    &quot;inferred_body_type&quot;:&quot;JSON&quot;,    &quot;method&quot;:&quot;POST&quot;,    &quot;url&quot;:URL,    &quot;client_ip&quot;:MY_IP,    &quot;query&quot;:{           } }  </code></pre>"	2021-08-27 16:39:49.227 UTC	68957007	"<p>In JavaScript, the 'data' parameter is called 'body'. Your request looks like it should work after changing this.</p> <pre><code>const fetchData = async () =&gt; {   const response = await fetch(&quot;URL&quot;, {     method: &quot;POST&quot;,     headers: {       &quot;X-Scope&quot;: &quot;SOME NUMBERS&quot;,       &quot;Content-Type&quot;: &quot;application/json&quot;,     },     body: JSON.stringify({signature: studentId}),   }); }; </code></pre>"			2021-08-27 16:59:06.133 UTC
68959859	javascript|python|arrays	Python equivalent for JavaScript Linear duplicate function	"<p>I am new to programming and I am trying to follow along to a data structure and algorithms tutorial, but the author of the book is using JavaScript in the code example below. I'm not looking for ways to improve the code below, and I can conceptually understand what's going on, but I am struggling with how exactly would I implement this line for line in Python.</p> <pre><code>function hasDuplicateValue(array) { var existingNumbers = []; for(var i = 0; i &lt; array.length; i++) {     if(existingNumbers[array[i]] === undefined) {         existingNumbers[array[i]] = 1;     } else {        return true;     }  }  return false; } </code></pre> <p>particularly this code block here:</p> <pre><code>for(var i = 0; i &lt; array.length; i++) { if(existingNumbers[array[i]] === undefined) { existingNumbers[array[i]] = 1; </code></pre>"	2021-08-27 22:20:18.447 UTC	68959944	<p>We can't say it's Pythonic but to stay really close to what Javascript does with the list :</p> <pre><code>def has_duplicates(array):   # define a list with a number of values equal to    # the maximum value inside the array; every value equal to None first.   # if we have 44 in the list we should be able to set the element at position 44 to 1.    existing = [None] * (max(array) + 1)   # iterate on all the elements e in the array   for e in array:     # if e has never been seen     if existing[e] == None:       existing[e] = 1     else:       # e was already seen once       return True   # No duplicated value in the array   return False </code></pre> <p>A shorter version could be :</p> <pre><code>def has_duplicates(array):     return any(array.count(e) &gt; 1 for e in array) </code></pre>			2021-08-27 22:32:40.83 UTC
69001417	javascript|python|pandas	Export Dataframe from python / pandas to javascript	"<p>I am trying to export data from python to javascript.</p> <p>I have a python pandas dataframe df that I export to a file &quot;formatted.json&quot; using the following code</p> <pre><code>with open('../data/formatted.json', 'w') as outfile:     df.to_json(outfile) </code></pre> <p>Here's an excerpt of the ../data/formatted.json file:</p> <pre><code>{&quot;game_id&quot;:{&quot;0&quot;:&quot;bda33adca828c09dc3cac3a856aef176&quot;,&quot;1&quot;:&quot;03f67404824aee9be3cba7bc3a2a3499&quot;,&quot;2&quot;:&quot;658843f757b400ecbc5587e8ed3e5521&quot;,&quot;3&quot;:&quot;51e4e3d8fe4d2ecf7f926b5049696f0e&quot;,&quot;4&quot;:&quot;d2f82f3973ced311faac8c6bd90b16b9&quot;,&quot;5&quot;:&quot;c1e42fa78b9a527487211c2dfccad8fb&quot;,&quot;6&quot;:&quot;ee25ac1aa64a6b33cfd7d42881e4f7b9&quot;}} </code></pre> <p>I then try to import this data in javascript to read into my react component using</p> <pre><code>import oddsdata from '../data/formatted.json'  //returns error Module not found: Can't resolve '../data/formatted.json' </code></pre> <p>I think the problem is because i dont have an export in my formatted.json file? How can I configure either the python export or the js import to overcome this issue?</p> <p>the js file is saved in src/betting/betinterface/betinterface.js and the data is saved in src/data/formatted.json</p>"	2021-08-31 15:26:32.4 UTC	69008929	<p>The link to the data file <code>formatted.json</code> is not correct as per our discussion in the comment.</p> <p>You should change it to</p> <pre><code>import oddsdata from '../../data/formatted.json' </code></pre>			2021-09-01 06:43:45.02 UTC
69016190	javascript|node.js	javascript equivalent to a python print?	"<p>Beginner question here for someone on day 1 starting out on learning tutorials for javascript. Does javascript have something similar to a <code>print</code> in Python?</p> <p>I am not using a web browser to learn .js (but maybe I should?) but just a text editor for a file <code>test.js</code> with the code:</p> <pre><code>function test(){     var a = &quot;3&quot;;     var b = &quot;8&quot;;           console.log(&quot;a is &quot;, + a);     console.log(&quot;b is &quot;, + b);      } </code></pre> <p>And then in Windows terminal just running the file from node, <code>node test.js</code></p> <p>But nothing prints, I assume console.log is for browser only... Thanks for any tips</p>"	2021-09-01 14:56:16.64 UTC	69016231	"<p>You need to call your function</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function test(){     var a = ""3"";     var b = ""8"";           console.log(""a is "", + a);     console.log(""b is "", + b);      } test()</code></pre> </div> </div> </p>"			2021-09-01 14:58:52.54 UTC
69052097	javascript|python	Convert Following Python Code to Google Apps Script Code Based on JavaScript	"<p>Can anyone help me please convert this following Python code to Javascript, because I'm lack of JavaScript coding, sorry for my bad English. Thanks!</p> <pre><code>nameVar = input(&quot;Please enter Variation name: &quot;) nameEach = input(&quot;Please enter suffix name: &quot;) itr = 0 varArray = []  while True:     each = input(&quot;Item no. &quot; + str(itr + 1) + &quot;: &quot;)     itr += 1     if (each == &quot;0&quot;):         break     elif (each.isnumeric()) and (each.isnumeric() != 0):         varArray.append(each + &quot; &quot; + nameEach)     elif (each.isnumeric() == False):         varArray.append(each)  text = &quot;&quot;&quot; [{&quot;name&quot;:&quot;%s&quot;,&quot;visible&quot;:true,&quot;variation&quot;:true,&quot;options&quot;:%s}] &quot;&quot;&quot; % (nameVar, varArray)  output = text.replace(&quot;'&quot;, '&quot;')  print(output) </code></pre>"	2021-09-04 03:02:12.773 UTC	69052131	"<pre><code>const nameVar = prompt(&quot;Please enter Variation name: &quot;); const nameEach = prompt(&quot;Please enter suffix name: &quot;); var itr = 0; const varArray = [];  while (true) {     const each = prompt(`Item no. ${itr + 1}: `);     itr++;     if (each == 0) break;     else if (!isNaN(each) &amp;&amp; each != 0) {         varArray.push(each + &quot; &quot; + nameEach);     }     else if (isNaN(each)) {         varArray.push(each);     } }      var text = `[{&quot;name&quot;: ${nameVar},&quot;visible&quot;:true,&quot;variation&quot;:true,&quot;options&quot;: ${varArray}}]`;  var output = text.replace(&quot;'&quot;, '&quot;');  console.log(output); </code></pre>"			2021-09-04 03:12:20.01 UTC
69081934	javascript|python|selenium|web-crawler	Python web scraper of javascript Div table	"<p>I have a wholesale website (behind login) that I am trying to scrape inventory levels. I've created my python script and it is giving a 200 response for login.</p> <p>I'm trying to figure out how to scrape the inventory. I'm 99% sure that it is javascript but even if it is I don't know how to return the data since it is in divs and not a table (and I don't want to return every div).</p> <p>This is the html page source <a href=""https://jsfiddle.net/3t6vjyLx/1/"" rel=""nofollow noreferrer"">https://jsfiddle.net/3t6vjyLx/1/</a> <code> the code is in the jsfiddle---too large to post here</code> When I inspect the element it is giving me  and then </p> <p>What do I need to do to load the page fully in my Python script so that I am able to pull that product-count?</p> <p>There will be 64 seperate product-counts (8 locations and 5 sizes each)... is there a way to have it saved in a table in a specific way so that it is sorted by size? Since this wasn't created with a table that makes it more difficult, but I want to learn how to do it.</p> <p>Thanks!</p> <p><code>https://i.stack.imgur.com/L2MZV.png</code> This is the inspect of the element</p>"	2021-09-07 02:57:43.467 UTC	69082137	"<p>One solution is to use a library like <code>requests_html</code> to create an <code>HTMLSession()</code> that loads the javascript elements which you can then parse.</p> <p>The code could look something like this:</p> <pre><code>from requests_html import HTMLSession  def get_html(url):     session = HTMLSession()     r = session.get(url)     r.html.render()  # renders javascript html and stores it in {obj}.html.html     return r.html.html </code></pre> <p>While this solution may not be the most elegant (web scraping rarely is), I believe it should be sufficient if you're only scraping a small amount of data.</p>"			2021-09-07 03:36:49.7 UTC
69088247	javascript|python|selenium	How to pass returned value from javascript async function to python variable	"<pre><code>var = driver.execute_script(&quot;setTimeout(function(){ return [1,2,3]; }, 1000);&quot;) </code></pre> <p>Using <code>Selenium</code>'s function <code>execute_script</code>, I'm trying to get data out of a website using <code>javascript</code> and pass it to a <code>python</code> variable <code>var</code>, the problem is that the <code>javascript</code> code that collects the data takes around 1 second to complete collecting the data (because of some animations), so when the line of code above is executed, the right value at that time is <code>None</code> (because the <code>javascript</code> code didn't return anything), but, 1 second later the right value will be changed to the data needed, still <code>var</code> will be <code>None</code> because that's the value assigned to it.<br><br> Note that this line of code works well, but that's not exactly what needed.</p> <pre><code>var = driver.execute_script(&quot;return [1,2,3];&quot;) </code></pre> <p>I have solutions to the problem but I'm looking for better ones:<br></p> <ol> <li>let the javascript code download the data to a file, and after <code>time.sleep</code> for the python code, let var get the data from that file</li> <li>similar to 1, let the javascript code push the data to somewhere in the website, and after <code>time.sleep</code> for the python code, let var get the data from the website.</li> <li>just use raw <code>Selenium</code> code, which I don't prefer because I don't know other than the basics of <code>Selenium</code></li> </ol>"	2021-09-07 12:27:47.987 UTC	69088882	"<p>There is a python library asyncio that lets you use async await in python.</p> <pre class=""lang-py prettyprint-override""><code>import asyncio import request  async def do_task():     response = await request(&quot;https://example.com&quot;)     return response.text </code></pre> <p>as you can see above, we can use await to tell python to wait for the value before continuing.</p>"			2021-09-07 13:12:56.947 UTC
69129079	javascript|json	How to open a json file in javascript in a python flask enviroment	"<p>I'm creating a simple webapp. I have a json file, with some datas I need to be processed using javascript ( using javascript and not python to avoid the post request and the page reloading). I have both the js file and the json file in the &quot;/static&quot; directory of the Flask enviroment. Now, I would like to know how to import the json file. I tried using fetch this way:</p> <pre><code>fetch(&quot;test.json&quot;)   .then(response =&gt; response.json())   .then(json =&gt; console.log(json)); </code></pre> <p>But it failed. I tried to read the file via python and the pass it in javascript with the following code:</p> <pre><code>with open(&quot;file.json&quot;, &quot;r&quot;) as data:     print(data) </code></pre> <p>But it said me that that file wasn't found. I also read some other sackoverflow answer, and read Json documentation, without finding anything. Some ideas? Thanks</p>"	2021-09-10 08:02:27.013 UTC	69129458	"<p>Itâ€™s easy if you know what separation of front-end and backend and http protocol.</p> <p>Your JavaScript code maybe need some change ... ,like this <code>fetch(&quot;/static/test.json&quot;) .then(response =&gt; response.json()) .then(json =&gt; console.log(json)); </code></p> <p>Import json on the server is not appropriate</p>"			2021-09-10 08:33:01.773 UTC
69150419	javascript|python|selenium	Is there a way to get a list of items from a Javascript call in Python using selenium?	"<p>So I have recently found out that you can execute JavaScript in browsers using Selenium in Python. I have a function that returns a list of items that looks like this:</p> <pre class=""lang-js prettyprint-override""><code>var elements = document.getElementsByClassName('example'); elements = [...elements].map(el =&gt; el.children[0].children[0].getAttribute('href').toString()); </code></pre> <p>Executing this in the Browser console gets you a list of all <code>href</code>-s of the grandchildren of every element which has a <code>class</code> of example.</p> <p>Is it possible to do something like this using either direct Javascript-calls or built-in Selenium functions?</p>"	2021-09-12 10:08:49.013 UTC	69151437	"<p>to get the <code>children's</code> <code>href</code> in native Selenium, <code>equivalent</code> to your code, it'd be something like this :</p> <pre><code>elems = driver.find_elements_by_xpath(&quot;example xpath&quot;) for ele in elems:     link = ele.find_element_by_xpath(&quot;.//child::*&quot;).get_attribute('href')     print(link)      </code></pre>"			2021-09-12 12:30:43.187 UTC
69150419	javascript|python|selenium	Is there a way to get a list of items from a Javascript call in Python using selenium?	"<p>So I have recently found out that you can execute JavaScript in browsers using Selenium in Python. I have a function that returns a list of items that looks like this:</p> <pre class=""lang-js prettyprint-override""><code>var elements = document.getElementsByClassName('example'); elements = [...elements].map(el =&gt; el.children[0].children[0].getAttribute('href').toString()); </code></pre> <p>Executing this in the Browser console gets you a list of all <code>href</code>-s of the grandchildren of every element which has a <code>class</code> of example.</p> <p>Is it possible to do something like this using either direct Javascript-calls or built-in Selenium functions?</p>"	2021-09-12 10:08:49.013 UTC	69150870	"<p>To extract all the href values to python you could try the following:</p> <pre><code>elems = driver.find_elements_by_css_selector(&quot;.example &gt; *:first-of-type &gt; *:first-of-type[href]&quot;) links = [elem.get_attribute('href') for elem in elems] </code></pre> <p>Or, if you just want to call a js code on the browser in a single-line call:</p> <pre><code>from selenium import webdriver driver = webdriver.Firefox() driver.get(&quot;&lt;your_website&gt;&quot;)   driver.execute_script(&quot;console.log('myElements', Array.from(document.getElementsByClassName('example')).map(elm =&gt; elm.firstElementChild.firstElementChild.getAttribute('href').toString()))&quot;) </code></pre>"			2021-09-12 11:11:53.117 UTC
69183893	javascript|plotly-dash|client-side	DASH Javascript client-side call back precedes Python triggered call_back	"<p>I have a dash app, where a Print button executes a window print in Javascript using a client-side callback. I would like the Print button to trigger a python call-back BEFORE it triggers the Javascipt window-print so that I can hide a layout feature and prevent it from being displayed. No matter what I try, the javascript print window opens first and only on closing that window does the other python call-back get triggered. Is there a work around? Thx</p> <pre><code>dbc.Button('Print Record', id='printing', outline=True, className=&quot;d-print-none&quot;,                                    n_clicks=0,)  @app.callback(     [,         Output(&quot;printing&quot;, &quot;n_clicks&quot;),     ],      [Input(&quot;printing&quot;, &quot;n_clicks&quot;)], ) def toggle_sidebarnclick(n):     &quot;code toggles a layout feature so it doesn't appear on the screen&quot;      return n  app.clientside_callback(     &quot;&quot;&quot;     function(clicks) {         if (clicks &gt; 0) {           try {   document.execCommand('print', false, null); } catch(e) {   window.print(); }         }         return      }     &quot;&quot;&quot;,     Output('hidden-content', 'children'),     Input('printing', 'n_clicks') )    </code></pre>"	2021-09-14 20:00:18.43 UTC	69184352	"<p>The solution is simple:</p> <pre><code>{ setTimeout(window.print, 1000) } </code></pre>"			2021-09-14 20:49:01.83 UTC
69197820	javascript|python|flask|jinja2|linechart	"I use Python Flask and javascript to build a line chart, but it is not working although I can see the values are present in chrome inspect elements"	"<p>I am trying to build a line chart by using python Flask and HTML. Here is my HTML scripts</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html lang=""en""&gt;  &lt;head&gt;     &lt;meta charset=""UTF-8""&gt;     &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;     &lt;script src=""https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;           &lt;canvas id=""lineChart"" width=""900"" height=""400""&gt;&lt;/canvas&gt;     &lt;script&gt;         var ctx = document.getElementById(""lineChart"").getContext(""2d"");         var lineChart = new Chart (ctx, {             type: ""line"",             data: {                 labels: {{ labels | safe }}                 datasets: [                     {                         label: ""Room 1 Temperature"",                         data: {{ values | safe }},                         fill: false,                         borderColor: ""rgb(75, 192, 192)"",                         lineTension: 0.1                     }                 ]             },             options: {                 responsive: false             }         });     &lt;/script&gt;      &lt;/body&gt;  &lt;/html&gt;</code></pre> </div> </div> </p> <p>And here is the python scripts:</p> <pre><code>from flask import Flask, render_template app = Flask(__name__)  @app.route('/test') def test():   data = [     (&quot;a&quot;, 70),     (&quot;b&quot;, 50),     (&quot;c&quot;, 10),     (&quot;d&quot;, 60),     (&quot;e&quot;, 50),     (&quot;a&quot;, 90),   ]  labels = [row[0] for row in data] values = [row[1] for row in data]  return render_template('test.html', labels=labels, values=values) </code></pre> <p>the problem is it displays nothing when I run it, but <a href=""https://www.youtube.com/watch?v=E2hytuQvLlE"" rel=""nofollow noreferrer"">this</a> use case is working fine.</p> <p>What makes me even more confuse is, I can see the <em>labels</em> and <em>values</em> variables are already present in html when I troubleshoot in chrome.</p> <p>Can anyone tell me what I did it wrongly? Thank you in advance</p> <p><a href=""https://i.stack.imgur.com/w4Epv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/w4Epv.png"" alt=""enter image description here"" /></a></p>"	2021-09-15 17:54:04.373 UTC	69198153	"<p>You just forgot to add comma after labels.</p> <p><a href=""https://i.stack.imgur.com/WabhE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WabhE.png"" alt=""enter image description here"" /></a></p>"			2021-09-15 18:24:21.227 UTC
69212543	python|django	How to transform JavaScript filter function to Django Python?	"<p>I have the following filter function on JavaScript and I need to do the same on Django.</p> <p>This is my JavaScript function:</p> <pre><code>absentAttendees() {            return this.meeting.attendees.filter((element) =&gt; this.timeAttendees(element.user.id) &lt;= 0 || (element.absent &amp;&amp; this.timeAttendees(element.user.id) &lt;= 0));     }  timeAttendees(user) {       let timeUser = 0       this.meeting.meeting_times.forEach((time) =&gt; {         if (time.user.id === user) {           timeUser = timeUser + time.time         }       })        return timeUser     } </code></pre> <p>Here is what I have so far on Django, but it tells me that the object I'm passing doesn't have the attribute 'user'</p> <pre><code>timeList = filter(timeAttendees, meeting.attendees.all()) def timeAttendees(item):             timeUser = 0                          for time in time_list:                 if(time.user.id == item.user.id):                     timeUser = timeUser + time.time                              return timeUser </code></pre> <p>meeting.attendees refers to the following model:</p> <pre><code>meeting = models.ForeignKey( Meeting, related_name=&quot;attendees&quot;, on_delete=models.CASCADE ) user = models.ForeignKey(     User, related_name=&quot;attendee&quot;, on_delete=models.CASCADE, null=True, blank=True ) idd = models.CharField(max_length=255) organizer = models.BooleanField(default=False) absent = models.BooleanField(default=True) verified = models.BooleanField(default=False) </code></pre>"	2021-09-16 17:09:39.077 UTC	69213091	"<p>Assuming <code>meeting</code> is some Meeting object, and item is valid object here is how you can replicate <code>timeAttendees</code> function:</p> <pre><code>meeting = &lt;Meeting_object&gt; def get_time_attendees(item):     global meeting     return sum([interval.time for interval in meeting.meeting_times                 if interval.user.id == item.user.id]) </code></pre> <p>Above function returns total time that user appeared in <code>meeting_times</code>. To get absent attendees, <a href=""https://docs.python.org/3/library/functions.html#filter"" rel=""nofollow noreferrer""><strong><code>filter()</code></strong></a> and <a href=""https://docs.python.org/3/library/functions.html#map"" rel=""nofollow noreferrer""><strong><code>map()</code></strong></a> could do the job:</p> <pre><code>def get_absent_attendees(meeting):     attendees = meeting.attendees.all()     return list(filter(lambda x: x &lt;= 0, list(map(get_time_attendees, attendees)))) </code></pre> <p><code>list(map(get_time_attendees, attendees))</code> calls <code>get_time_attendees</code> function in every attendees object and converts the result into a list. Then with <code>filter</code>, you grab the ones with attendance time less than zero.</p>"			2021-09-16 17:55:13.617 UTC
69223232	javascript|python-2.7|selenium-webdriver|automation|webdriver	how can i send ENTER/RETURN key with javascript executor code in selenium python?	"<p>Hi all i am new to python selenium, i am in the process of automating a website but unfortunately the search text box of the website does not have any buttons to click once you enter the text</p> <p>things i tried</p> <p>1)driver.sendkeys-not working</p> <p>2)JavaScript executor - just sends the data but no clue how to send the Enter/return key</p> <pre><code> driver.execute_script(&quot;document.getElementsByClassName('tau-search__input')[0].value ='&quot; + var+&quot;'&quot;); </code></pre> <p>3}Action chains class- tried to send keys but yet no result</p> <p>also the search icon highlighted here is unable to send data and we can only send data by entering values and clicking on enter at the end <a href=""https://i.stack.imgur.com/sTSMN.png"" rel=""nofollow noreferrer"">enter image description here</a></p> <p>there are no frames there too please help</p>"	2021-09-17 12:11:40.15 UTC	69223478	<p>Try this:</p> <pre><code>input_element = driver.find_elements_by_class_name(&quot;tau-search__input&quot;)[0] input_element.send_keys(&quot;your_text_string_input&quot; + Keys.ENTER) </code></pre>			2021-09-17 12:31:02.93 UTC
69223232	javascript|python-2.7|selenium-webdriver|automation|webdriver	how can i send ENTER/RETURN key with javascript executor code in selenium python?	"<p>Hi all i am new to python selenium, i am in the process of automating a website but unfortunately the search text box of the website does not have any buttons to click once you enter the text</p> <p>things i tried</p> <p>1)driver.sendkeys-not working</p> <p>2)JavaScript executor - just sends the data but no clue how to send the Enter/return key</p> <pre><code> driver.execute_script(&quot;document.getElementsByClassName('tau-search__input')[0].value ='&quot; + var+&quot;'&quot;); </code></pre> <p>3}Action chains class- tried to send keys but yet no result</p> <p>also the search icon highlighted here is unable to send data and we can only send data by entering values and clicking on enter at the end <a href=""https://i.stack.imgur.com/sTSMN.png"" rel=""nofollow noreferrer"">enter image description here</a></p> <p>there are no frames there too please help</p>"	2021-09-17 12:11:40.15 UTC	69490829	"<p>I hope your xpath is wrong, you are pointing to the search icon not the search box. please share us the element screenshot if possible. your url is not working for us.</p>"			2021-10-08 05:19:05.837 UTC
69240438	python|encryption|pynacl|tweet-nacl	Encrypt in tweet-nacl (javascript) and decrypt in python	"<p>This question is the inverse of the existing one here: <a href=""https://stackoverflow.com/questions/63477982/encrypt-in-python-3-7-and-decode-in-nodejs-12"">Encrypt in python 3.7 and decode in NODEJS 12</a> .</p> <p>I would prefer to use the exact equivalent of <em>tweet-nacl</em> on python but that project says it is old and not recommended <a href=""https://github.com/warner/python-tweetnacl"" rel=""nofollow noreferrer"">https://github.com/warner/python-tweetnacl</a> . Their recommended replacement is <a href=""https://github.com/pyca/pynacl"" rel=""nofollow noreferrer"">https://github.com/pyca/pynacl</a> : but that one is an interface to <em>libsodium</em> not <em>tweet-nacl</em> and there is no clear documentation on how to achieve the decryption.</p> <p>Here is the JS encryption:</p> <pre class=""lang-js prettyprint-override""><code>    let msgArr = naclutil.decodeUTF8(jprint(msg))     let nonce = nacl.randomBytes(nacl.box.nonceLength)     let keyPair = this.genKeyPair()     let encrypted = nacl.box(       msgArr,       nonce,       naclutil.decodeBase64(pubKey),       naclutil.decodeBase64(keyPair.privkey)     )     let nonce64 = naclutil.encodeBase64(nonce)     let encrypted64 = naclutil.encodeBase64(encrypted) </code></pre> <p>The (working)  <em>tweet-nacl</em> javascript decryption code  is:</p> <pre class=""lang-js prettyprint-override""><code>  const decryptedMessage = nacl.box.open(     naclutil.decodeBase64(payload.encrypted.encrypted),     naclutil.decodeBase64(payload.encrypted.nonce),     naclutil.decodeBase64(payload.encrypted.ephemPubKey),     naclutil.decodeBase64(privKey)   )   const decodedMessage = naclutil.encodeUTF8(decryptedMessage) </code></pre> <p>My problem is that for <code>pynacl</code> they do not show any examples of using the <em>ephemPubKey</em> for decryption.  The examples I could find were like the following:</p> <pre><code>        import binascii         from nacl.encoding import HexEncoder         from nacl.exceptions import CryptoError         from nacl.secret import Aead, SecretBox         benc=       binascii.unhexlify(encrypted)         bnonce =    binascii.unhexlify(nonce)         box = SecretBox(privKey, encoder=HexEncoder)         decrypted = box.decrypt(benc, bnonce, encoder=HexEncoder), </code></pre> <p>Has anyone been able to get the tweet-nacl Javascript generated encryption successfully decrypted into python?</p>"	2021-09-19 05:01:31.563 UTC	69241349	"<p><code>SecretBox</code> and thus the PyNaCl example you posted is for <em>symmetric</em> encryption, s. <a href=""https://pynacl.readthedocs.io/en/latest/secret/#secret-key-encryption"" rel=""nofollow noreferrer"">here</a>. You can find the documentation for <em>public key</em> encryption with PyNaCl <a href=""https://pynacl.readthedocs.io/en/latest/public/#public-key-encryption"" rel=""nofollow noreferrer"">here</a> and for PyNaCl in general <a href=""https://pynacl.readthedocs.io/en/latest/#"" rel=""nofollow noreferrer"">here</a>.</p> <p>In the following example, a plaintext is encrypted with TweetNaCl.js and decrypted with PyNaCl.</p> <h6>JavaScript side - Encryption with TweetNaCl.js:</h6> <pre class=""lang-js prettyprint-override""><code>var secretKey_js  = nacl.util.decodeBase64(&quot;FJGsHP0dMkDNkpAkT4hZrcbv27L8XNO8ymhLxpPpDkE=&quot;); var publicKey_py = nacl.util.decodeBase64(&quot;0EyrzGW6qn0EGEV0Cx2Z7tQeln6FdwZVINz0FezlvTM=&quot;); var nonce = nacl.randomBytes(24) var msgStr = &quot;The quick brown fox jumps over the lazy dog&quot;; var message = nacl.util.decodeUTF8(msgStr); var box_js = nacl.box(message, nonce, publicKey_py, secretKey_js) console.log(nacl.util.encodeBase64(nonce))  // 2e8WuEr0+5nc14VBxQrOl4ob6guOTySr console.log(nacl.util.encodeBase64(box_js)) // eJ8sO0mFNaaWLeXVcNNpw0PurwfINp/BlnErSzOnxXJ5zqu3wLrW4fHIa4kIAxFkuMVJaf0AR4pYon0= </code></pre> <p>The code is basically the same as your code with the difference that the keys are not generated but imported.</p> <h6>Python side - Decryption with PyNaCl:</h6> <pre class=""lang-py prettyprint-override""><code>import base64 from nacl.public import PrivateKey, PublicKey, Box from nacl.encoding import Base64Encoder  secretKeyB64_py  = &quot;XVdFnozXd+7xm6MVazPemgSq6un+fGpDvwgxo9UbsdM=&quot;; publicKeyB64_js = &quot;ixxgLis2RzqMWys76HuoH7TwrwBbXoDrwl3jGsRysRI=&quot;;  secretKey_py = PrivateKey(secretKeyB64_py, encoder=Base64Encoder) publicKey_js = PublicKey(publicKeyB64_js, encoder=Base64Encoder)  nonce = base64.b64decode(&quot;2e8WuEr0+5nc14VBxQrOl4ob6guOTySr&quot;); box_js = base64.b64decode(&quot;eJ8sO0mFNaaWLeXVcNNpw0PurwfINp/BlnErSzOnxXJ5zqu3wLrW4fHIa4kIAxFkuMVJaf0AR4pYon0=&quot;);  box_py = Box(secretKey_py, publicKey_js) data = box_py.decrypt(nonce + box_js)  print(data) # b'The quick brown fox jumps over the lazy dog' </code></pre> <hr /> <p>In the example above, the keys have been imported. If a key pair needs to be generated, this is done with PyNaCl as follows:</p> <pre class=""lang-py prettyprint-override""><code>from nacl.public import PrivateKey  secretKeyNew = PrivateKey.generate() publicKeyNew = secretKeyNew.public_key </code></pre> <hr /> <p>About compatibility:<br> TweetNaCl.js and PyNaCl are compatible. As you described, although PyNaCl is a wrapper of Libsodium for Python (s. <a href=""https://pynacl.readthedocs.io/en/latest/#pynacl-python-binding-to-the-libsodium-library"" rel=""nofollow noreferrer"">here</a> and <a href=""https://libsodium.gitbook.io/doc/bindings_for_other_languages"" rel=""nofollow noreferrer"">here</a>), but Libsodium itself is a port of NaCl (s. <a href=""https://libsodium.gitbook.io/doc/"" rel=""nofollow noreferrer"">here</a>), as is TweetNacl.js for JavaScript (<a href=""https://tweetnacl.js.org/#/"" rel=""nofollow noreferrer"">here</a>).<br> So ultimately, both TweetNaCl and PyNaCl are based on NaCl, the original library implemented by Bernstein <em>et al.</em>, s. <a href=""https://en.wikipedia.org/wiki/NaCl_(software)"" rel=""nofollow noreferrer"">here</a>, and are therefore compatible (except perhaps for a few minor syntactical differences).</p>"			2021-09-19 07:51:20.223 UTC
69273336	javascript|python|sorting|quicksort	Quick Sort. Why does the similar implementation in Python and Javascript differs so sagnificantly?	"<p>Following implementation of Quick sort in javascript with 10 000 000 random elements:</p> <pre class=""lang-js prettyprint-override""><code>function swap(arr, i1, i2) {     const temp = arr[i1];     arr[i1] = arr[i2]     arr[i2] = temp; }  function pivot(arr, l, r) {     let pvt = arr[r];     let i = l - 1;          for (let j = l; j &lt;= r - 1; j++) {         if (arr[j] &lt; pvt) {             i++;             swap(arr, i, j);         }     }     swap(arr, i+1, r);     return i+1; }  function quick_sort(arr, l, r) {     if (l &lt; r) {         let pvt = pivot(arr, l, r);         quick_sort(arr, l, pvt - 1);         quick_sort(arr, pvt + 1, r);     }      } let arr = Array.from(Array(10000000)).map((_) =&gt; Math.random()); console.time(&quot;quick_sort&quot;); quick_sort(arr, 0, arr.length - 1); console.timeEnd(&quot;quick_sort&quot;); </code></pre> <p>It takes â‰ˆ <strong>1.5s</strong> to sort an array.<br/><br/> When I'm testing the same one in python:</p> <pre class=""lang-py prettyprint-override""><code>import time import random from numpy import random  def quicksort(arr):     qs(arr, 0, len(arr) - 1)  def qs(arr, l, r):     if l &gt;= r:         return     p = partition(arr, l, r)      qs(arr, l, p - 1)     qs(arr, p + 1, r)  def partition(arr, l, r):     pivot = arr[r]     i = l - 1     for j in range(l, r):         if arr[j] &lt; pivot:             i += 1             arr[i], arr[j] = arr[j], arr[i]     arr[i + 1], arr[r] = arr[r], arr[i + 1]     return i + 1  array = random.rand(10000000) start = time.time() quicksort(array)  print(&quot;Seconds: &quot;, time.time() - start)  </code></pre> <p>It takes â‰ˆ 131s to sort an array, if using <strong>random.rand(10000000)</strong><br/> And â‰ˆ 60s, if using <strong>array = [random.random() for _ in range(10000000)]</strong> instead <br/><br/> Where does this difference come from?</p>"	2021-09-21 17:43:53.053 UTC	69274913	"<p>It depends on which python interpreter you're using.</p> <p>I assume you're using cpython 3 which, I believe, has no <a href=""https://en.wikipedia.org/wiki/Just-in-time_compilation"" rel=""nofollow noreferrer"">JIT</a>. You have all the overhead of an interpreted language and no tricks to speed things up.</p> <p>Most modern JS engines have JIT, so the hot code paths get optimized.</p> <p>Somewhat relatedly, numpy is faster because the <a href=""https://numpy.org/doc/stable/reference/internals.html"" rel=""nofollow noreferrer"">internal code is either C or Fortran</a>, which gets called via bindings.</p> <p>Here's a longer post on <a href=""https://softwareengineering.stackexchange.com/questions/347908/why-hasnt-python-been-optimized-like-modern-javascript-implementations"">software engineering stackexchange</a> that goes more into they why of native python not being as fast as JS.</p>"			2021-09-21 20:02:15.67 UTC
69276786	javascript|python|for-loop|for-in-loop	"Is there "" if .. not in .."" in Javascript? I use it in Python but not sure if Javascript has the similar syntax"	"<p>This function should remove the vowels in string and return string without vowels</p> <pre><code>function removeVowels(string) {     var newstring = '';     var vowels = ['a','e','i','o','u'];     for ( i in string) {         if ( i.toLowerCase() not in vowels) { // I know this is wrong but is anything I can use instead of &quot;not in&quot; in JS?             continue         } else {             newstring += i         }     }     return newstring; } </code></pre>"	2021-09-22 00:04:43.033 UTC	69338885	"<p>JavaScript does not have a <code>not</code> keyword. Instead, it has a <code>!</code> for whenever you want to use not. JS's <code>in</code> is NOT the same as python's <code>in</code>. JS uses it for indexes, and if you want the character at the index, you should use <code>of</code>.</p> <p>I have also made some minor tweaks here and there like not using var and removing the continue statements.</p> <pre class=""lang-js prettyprint-override""><code>function removeVowels(string) {     // Instead of using var here, use let and const.     let newString = '';     const vowels = ['a','e','i','o','u'];     // Loop through every character of string     for (const char of string) {         // Instead of the continue that you used, you can just simply check if the vowels array includes the specific character.         if (!vowels.includes(char.toLowerCase())) {             // This just appends the character to the new string variable             newString += char;         }     }     return newString; } console.log(removeVowels('This string will not have any vowels in it.')); </code></pre>"			2021-09-26 20:54:23.097 UTC
69289275	javascript|python|html-parsing	Web parser in Javascript like BeautifulSoup in Python	"<p>I came from <code>Python</code>, where with <code>beautiful soup</code> you can parse the entire <code>html tree</code> without creating <code>get</code> requests in <strong>external web pages</strong>. I'm looking for the same in <code>javascript</code>, but I've only found <code>jsdom</code> and <code>jssoup</code> (which seems unused) and if I'm correct, they only allow you to make requests. I want a library in <code>js</code> which allows me to parse the entire <code>html tree</code> without getting <code>CORS</code> policy errors, that is, without making request, just parsing it.</p> <p>How can I do this?</p>"	2021-09-22 18:08:31.27 UTC	69289421	"<p>In a browser context, you can use <a href=""https://developer.mozilla.org/en-US/docs/Web/API/DOMParser"" rel=""nofollow noreferrer"">DOMParser</a>:</p> <pre class=""lang-js prettyprint-override""><code>const html = &quot;&lt;h1&gt;title&lt;/h1&gt;&quot;; const parser = new DOMParser(); const parsed = parser.parseFromString(html, &quot;text/html&quot;); console.log(parsed.firstChild.innerText); // &quot;title&quot; </code></pre> <p>and in node you can use <a href=""https://www.npmjs.com/package/node-html-parser"" rel=""nofollow noreferrer"">node-html-parser</a>:</p> <pre class=""lang-js prettyprint-override""><code>import { parse } from 'node-html-parser';  const html = &quot;&lt;h1&gt;title&lt;/h1&gt;&quot;; const parsed = parse(html); console.log(parsed.firstChild.innerText); // &quot;title&quot; </code></pre>"			2021-09-22 18:19:50.75 UTC
69301347	javascript|python|http|request	Request in javascript (from python)	"<p>I have attempted to create a request in javascript, that has previously worked using python just fine.</p> <p>the following is an accurate representation of the code I used to post the request with <strong>python</strong>:</p> <pre class=""lang-py prettyprint-override""><code> url = 'https://website.com/api/e1'      header = {    'authorization': 'abcd1234' } payload = {     'content': &quot;text&quot;, } r = requests.post(url, data=payload,headers=header ) </code></pre> <p><strong>This (above) works just fine in python.</strong></p> <p>now what I did in <strong>javascript</strong> is the following:</p> <pre class=""lang-js prettyprint-override""><code>payload = {     &quot;content&quot;: &quot;this is text&quot;,   };   fetch(&quot;https://website.com/api/e1&quot;, {     method: &quot;POST&quot;,     headers: {       &quot;authorization&quot;:         &quot;abcd1234&quot;,     },     body: JSON.stringify(payload),   }); </code></pre> <p>but this is returning the <strong>error</strong> <code>400- Bad request</code></p>"	2021-09-23 13:50:16.497 UTC	69301462	"<p>You don't need to do this <code>body: JSON.stringify(payload),</code> rather you can simply pass payload in body like this <code>body:payload</code></p>"			2021-09-23 13:56:04.36 UTC
69301347	javascript|python|http|request	Request in javascript (from python)	"<p>I have attempted to create a request in javascript, that has previously worked using python just fine.</p> <p>the following is an accurate representation of the code I used to post the request with <strong>python</strong>:</p> <pre class=""lang-py prettyprint-override""><code> url = 'https://website.com/api/e1'      header = {    'authorization': 'abcd1234' } payload = {     'content': &quot;text&quot;, } r = requests.post(url, data=payload,headers=header ) </code></pre> <p><strong>This (above) works just fine in python.</strong></p> <p>now what I did in <strong>javascript</strong> is the following:</p> <pre class=""lang-js prettyprint-override""><code>payload = {     &quot;content&quot;: &quot;this is text&quot;,   };   fetch(&quot;https://website.com/api/e1&quot;, {     method: &quot;POST&quot;,     headers: {       &quot;authorization&quot;:         &quot;abcd1234&quot;,     },     body: JSON.stringify(payload),   }); </code></pre> <p>but this is returning the <strong>error</strong> <code>400- Bad request</code></p>"	2021-09-23 13:50:16.497 UTC	69302197	"<p>When using data parameters on python requests.post, the default <code>Content-Type</code> is <code>application/x-www-form-urlencoded</code>(I couldn't find it on the document, but I checked the request. If you know, please leave a comment).</p> <p>To achieve the same result with <code>fetch</code>, you must do as follows.</p> <pre class=""lang-js prettyprint-override""><code>const payload = {   'content': 'this is text', }; fetch('https://website.com/api/e1', {   method: 'POST',   headers: {     'authorization': 'abcd1234',   },   body: new URLSearchParams(payload), }); </code></pre>"			2021-09-23 14:43:57.61 UTC
69349356	python|python-3.x|regex	Python regex catastrophic backtracking in large strings (JavaScript parser)	"<p>I am trying to parse a beautified JavaScript file with huge functions. What I am trying to do is to separate each function into a match object to then process them individually to do other things.</p> <p>An example could be:</p> <pre><code>__d(function(e, t, n, r, i, l, a) {  //AnyCharacters  }, 93, [27, 38, 40, 37, 94, 98, 99, 32]); </code></pre> <p>I am trying the following regex:</p> <p><code>(?s)__d\(function\((\w+,\s)+\w+\)\s\{(.*?)\},\s\d+(.*?)\d\]\)\;</code></p> <p>For more context I am trying to write each function to a file after some more proccessing:</p> <pre><code>functions_sep_regex = re.compile(r'(?s)__d\(function\((\w+,\s)+\w+\)\s\{(.*?)\},\s\d+(.*?)\d\]\)\;')  functions_sep = functions_sep_regex.finditer(res)  for functions in functions_sep:         # Do something with functions.group(0)) </code></pre> <p>The problem with the backtracking is the first <code>(.*?)</code> as I am trying to get any character between the start and the end of the function.</p> <p>The regular expression must backtrack, it is the expected, as it is trying to match any character (even new line characters) but due to this error the engine crashes.</p> <p>Is there a way to avoid this &quot;crash&quot;?</p> <p>EDIT:</p> <p>Reproducible example: pastebin.com/PcdSWnWG</p>"	2021-09-27 15:34:18.737 UTC	69349969	"<p>The problem is not the <code>(.*?)</code> but the nested quantifiers:</p> <pre><code>functions_sep_regex = re.compile(r'(?s)__d\(function\((\w+,\s)+\w+\)\s\{(.*?)\},\s\d+(.*?)\d\]\)\;') #                                                           ^^^ </code></pre> <p>This group is likely to explode as the regex engine wants to report a match.<br /> Either use <code>++</code> (possessive) or rephrase this part of your expression.</p>"			2021-09-27 16:16:30.293 UTC
69391369	javascript|python	"How can I multiple Strings with Integers in Javascript as in python, if we cant what's the reason and is there any other way to do so?"	<pre><code>#Python Code characters = &quot;Hello World!&quot; print(characters * 4)  #it Will Print Hello World! 4 times  // Javascript Code characters = &quot;Hello World!&quot; console.log(characters * 4) </code></pre>	2021-09-30 11:23:27.317 UTC	69391446	"<p>In javascript you can use the inbuilt property 'repeat' of a string</p> <pre class=""lang-js prettyprint-override""><code>characters = &quot;Hello World!&quot;; console.log(characters.repeat(4)); </code></pre>"			2021-09-30 11:30:04.523 UTC
69391369	javascript|python	"How can I multiple Strings with Integers in Javascript as in python, if we cant what's the reason and is there any other way to do so?"	<pre><code>#Python Code characters = &quot;Hello World!&quot; print(characters * 4)  #it Will Print Hello World! 4 times  // Javascript Code characters = &quot;Hello World!&quot; console.log(characters * 4) </code></pre>	2021-09-30 11:23:27.317 UTC	69391546	"<p>You can use <code>repeat()</code>.</p> <pre><code>const chorus = 'Hello World! '; console.log(`${chorus.repeat(4)}`); </code></pre> <p>Edit: Use the other person's reply instead of mine, it's way simpler</p>"			2021-09-30 11:36:29.117 UTC
69413935	javascript|python|for-loop	simple for loop in python and javascript	"<p>I have a stupid bug in my code and I could not figure out for hours. My brain is about to stop.</p> <p>I am solving sudoku solver. solved in javascript but I have a bug in python for loop. simple for loop producing different result. i need help please.</p> <p>in javascript</p> <pre><code>const getBoxId = function (row, col) {   const rowVal = Math.floor(row / 3) * 3;   const colVal = Math.floor(col / 3);   return rowVal + colVal; };  var solveSudoku = function (board) {   const n = board.length;   const boxes = new Array(n),     rows = new Array(n),     cols = new Array(n);   for (let i = 0; i &lt; n; i++) {     boxes[i] = {};     rows[i] = {};     cols[i] = {};     console.log(boxes);   }   for (let r = 0; r &lt; n; r++) {     for (let c = 0; c &lt; n; c++) {       // if a cell does not equal to &quot;.&quot;       if (board[r][c] !== &quot;.&quot;) {         const boxId = getBoxId(r, c);         const val = board[r][c];         boxes[boxId][val] = true;         rows[r][val] = true;         cols[c][val] = true;         console.log(rows);       }     }   } };  board = [   [&quot;5&quot;, &quot;3&quot;, &quot;.&quot;, &quot;.&quot;, &quot;7&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;],   [&quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;1&quot;, &quot;9&quot;, &quot;5&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;],   [&quot;.&quot;, &quot;9&quot;, &quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;, &quot;.&quot;],   [&quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;3&quot;],   [&quot;4&quot;, &quot;.&quot;, &quot;.&quot;, &quot;8&quot;, &quot;.&quot;, &quot;3&quot;, &quot;.&quot;, &quot;.&quot;, &quot;1&quot;],   [&quot;7&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;2&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;],   [&quot;.&quot;, &quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;2&quot;, &quot;8&quot;, &quot;.&quot;],   [&quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;4&quot;, &quot;1&quot;, &quot;9&quot;, &quot;.&quot;, &quot;.&quot;, &quot;5&quot;],   [&quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;7&quot;, &quot;9&quot;], ];  console.log(solveSudoku(board)); </code></pre> <p>this is the &quot;rows&quot; in javascript</p> <pre><code>[   { '3': true, '5': true, '7': true },   { '1': true, '5': true, '6': true, '9': true },   { '6': true, '8': true, '9': true },   { '3': true, '6': true, '8': true },   { '1': true, '3': true, '4': true, '8': true },   { '2': true, '6': true, '7': true },   { '2': true, '6': true, '8': true },   { '1': true, '4': true, '5': true, '9': true },   { '7': true, '8': true, '9': true } ] </code></pre> <p>Here is the headache part. Implementing same code in python;</p> <pre><code>import math def get_box_id(r,c):     row=int(math.floor(r/3)*3)     col=int(math.floor(c/3))     return row+col def solve_sudoku(board):     n=len(board)     rows=[{}]*n     cols=[{}]*n     boxes=[{}]*n     for r in range(n):         for c in range(n):               if board[r][c]!='.':                 box_id=get_box_id(r,c)                      val=board[r][c]                 boxes[box_id][val]=True                 rows[r][val]=True                 cols[c][val]=True                 print(rows) solve_sudoku(board) # same board as above </code></pre> <p>after 81 iteration, I am getting this:</p> <pre><code>    [{'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True}, {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True}] </code></pre>"	2021-10-02 04:20:32.017 UTC	69414270	"<p>You just need to replace <code>[{}]*n</code> with <code>[{} for i in range(n)]</code></p> <p>Because both of them work differently:</p> <pre><code>list_a = [{}] * 9  # creating copy with reference to the same object {}  print(list_a)  # [{}, {}, {}, {}, {}, {}, {}, {}, {}]  #changing first object in the list list_a[0]['hello'] = 'bye'  print(list_a)   # output of above print statement # [{'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}, {'hello': 'bye'}]     # now try this  list_b = [{} for i in range(9)]  print(list_b) # [{}, {}, {}, {}, {}, {}, {}, {}, {}]   list_b[0]['hello'] = 'bye'  print(list_b)  # output of above print statement  # [{'hello': 'bye'}, {}, {}, {}, {}, {}, {}, {}, {}] </code></pre>"			2021-10-02 05:32:07.24 UTC
69413935	javascript|python|for-loop	simple for loop in python and javascript	"<p>I have a stupid bug in my code and I could not figure out for hours. My brain is about to stop.</p> <p>I am solving sudoku solver. solved in javascript but I have a bug in python for loop. simple for loop producing different result. i need help please.</p> <p>in javascript</p> <pre><code>const getBoxId = function (row, col) {   const rowVal = Math.floor(row / 3) * 3;   const colVal = Math.floor(col / 3);   return rowVal + colVal; };  var solveSudoku = function (board) {   const n = board.length;   const boxes = new Array(n),     rows = new Array(n),     cols = new Array(n);   for (let i = 0; i &lt; n; i++) {     boxes[i] = {};     rows[i] = {};     cols[i] = {};     console.log(boxes);   }   for (let r = 0; r &lt; n; r++) {     for (let c = 0; c &lt; n; c++) {       // if a cell does not equal to &quot;.&quot;       if (board[r][c] !== &quot;.&quot;) {         const boxId = getBoxId(r, c);         const val = board[r][c];         boxes[boxId][val] = true;         rows[r][val] = true;         cols[c][val] = true;         console.log(rows);       }     }   } };  board = [   [&quot;5&quot;, &quot;3&quot;, &quot;.&quot;, &quot;.&quot;, &quot;7&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;],   [&quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;1&quot;, &quot;9&quot;, &quot;5&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;],   [&quot;.&quot;, &quot;9&quot;, &quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;, &quot;.&quot;],   [&quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;3&quot;],   [&quot;4&quot;, &quot;.&quot;, &quot;.&quot;, &quot;8&quot;, &quot;.&quot;, &quot;3&quot;, &quot;.&quot;, &quot;.&quot;, &quot;1&quot;],   [&quot;7&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;2&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;6&quot;],   [&quot;.&quot;, &quot;6&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;2&quot;, &quot;8&quot;, &quot;.&quot;],   [&quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;4&quot;, &quot;1&quot;, &quot;9&quot;, &quot;.&quot;, &quot;.&quot;, &quot;5&quot;],   [&quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;8&quot;, &quot;.&quot;, &quot;.&quot;, &quot;7&quot;, &quot;9&quot;], ];  console.log(solveSudoku(board)); </code></pre> <p>this is the &quot;rows&quot; in javascript</p> <pre><code>[   { '3': true, '5': true, '7': true },   { '1': true, '5': true, '6': true, '9': true },   { '6': true, '8': true, '9': true },   { '3': true, '6': true, '8': true },   { '1': true, '3': true, '4': true, '8': true },   { '2': true, '6': true, '7': true },   { '2': true, '6': true, '8': true },   { '1': true, '4': true, '5': true, '9': true },   { '7': true, '8': true, '9': true } ] </code></pre> <p>Here is the headache part. Implementing same code in python;</p> <pre><code>import math def get_box_id(r,c):     row=int(math.floor(r/3)*3)     col=int(math.floor(c/3))     return row+col def solve_sudoku(board):     n=len(board)     rows=[{}]*n     cols=[{}]*n     boxes=[{}]*n     for r in range(n):         for c in range(n):               if board[r][c]!='.':                 box_id=get_box_id(r,c)                      val=board[r][c]                 boxes[box_id][val]=True                 rows[r][val]=True                 cols[c][val]=True                 print(rows) solve_sudoku(board) # same board as above </code></pre> <p>after 81 iteration, I am getting this:</p> <pre><code>    [{'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True}, {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True},  {'5': True, '3': True, '7': True, '6': True, '1': True, '9': True, '8': True, '4': True, '2': True}] </code></pre>"	2021-10-02 04:20:32.017 UTC	69414108	"<p>Please try the following code and check if it helps.</p> <pre><code>import math def get_box_id(r,c):     row=int(math.floor(r/3)*3)     col=int(math.floor(c/3))     return row+col def solve_sudoku(board):     n=len(board)     rows=[{} for i in range (n)]     cols=[{} for i in range (n)]     boxes=[{} for i in range (n)]     for r in range(n):         for c in range(n):               if board[r][c]!='.':                 box_id=get_box_id(r,c)                 val=board[r][c]                 boxes[box_id][val]=True                 rows[r][val]=True                 cols[c][val]=True          print(rows)      solve_sudoku(board) # same board as above </code></pre> <p>Update:</p> <p>More info on the changes.</p> <p>Change #1</p> <p>changed <code>[{}] * n</code> to <code>[{} for i in range (n)]</code> because <code>[{}] * n</code> makes a list with n references to the same <code>{}</code> <a href=""https://stackoverflow.com/a/240205/7919787"">source</a>.</p> <p>Change #2</p> <p>printing the rows when all the processing completed (this is only done to see all the rows after processing).</p>"			2021-10-02 05:00:11.93 UTC
69416669	javascript|python|modulo	Different result of modulo operation in JavaScript and Python	"<p>In javascript the modulo operation result is like this:</p> <pre class=""lang-js prettyprint-override""><code>-9 % 19 = -9 </code></pre> <p>while in python the same modulo operation yields this:</p> <pre class=""lang-py prettyprint-override""><code>-9 % 19 = 10 </code></pre> <p>now according to Finite Field python's answer is correct. can anyone please explain why JavaScript doesn't return result same as python?</p>"	2021-10-02 11:55:48.563 UTC	69418101	"<p>It is a matter of conventions (see <a href=""https://torstencurdt.com/tech/posts/modulo-of-negative-numbers/"" rel=""nofollow noreferrer"">here</a>) and, for Python it is related to the result of integer divisions.  Python works on the basis that you can reverse the division and get back to the original numerator by multiplying the quotient by the denominator and adding the modulo:</p> <p>So, if N divided by D gives a quotient of Q and remainder or R (N mod D), then Q x D + R = N</p> <p>Applying the numbers (Python):</p> <pre><code>-9 / 19 --&gt; Q = -1, R = 10  --&gt; -1 x 19 + 10 = -9 </code></pre> <p>this also means that 9 % -19 --&gt; -10</p> <pre><code>9 / -19 --&gt; Q = -1, R = -10 --&gt; -1 x -19 + -10 = 9 </code></pre> <p>Javascript uses a different approach for modulo of negative numbers (applying the sign of the numerator to the remainder of the division between absolute values) that does not reverse correctly when applying the mathematical definition to numerator and denominator that have different signs:</p> <pre><code>Math.floor(-9/19)) --&gt; -1 -9 % 19            --&gt; -9                    --&gt; -1 x 19 + -9 --&gt; -28   Math.floor(9/-19)) --&gt; -1 9 % -19            --&gt; 9                    --&gt; -1 x -19 + 9 --&gt; 28  </code></pre>"			2021-10-02 15:03:17.053 UTC
69508546	javascript|python|html	How to pass the variable in python to the JavaScript	"<blockquote> <p>How to get python variable to the JavaScript?</p> </blockquote> <p>First, I make the random variable in python then pass it to the index.html</p> <pre><code>@app.route('/index', methods=['GET','POST']) def index():     value = random.randrange(8)     return render_template('index.html', value = value) </code></pre> <p>Then, I get the value in html and get the value by input</p> <pre><code>&lt;div class=&quot;print&quot;&gt;{{value}} is passed.&lt;/div&gt;  &lt;input value=value type=&quot;number&quot; id=&quot;myVariable&quot;/&gt; </code></pre> <p>Next, I get the variable in html to the JavaScript</p> <pre><code> &lt;script type='text/javascript'&gt;   alert(document.getElementById('myVariable').value) </code></pre> <p>I really want to get the variable from the python to show the random pictures in html using JavaScript</p> <pre><code> document.write(&quot;&lt;img src='&quot; + images[myVariable] + &quot;'/&gt;&lt;/a&gt;&lt;p&gt;&lt;span&gt;&quot;                  + caption[myVariable] + &quot;&lt;/span&gt;&lt;/p&gt;&quot;); </code></pre> <p>This is the final one what I want to do using this source code. But it doesn't work and index is always 0. How should I solve it?</p>"	2021-10-09 16:16:05.247 UTC	69508757	"<p>You're using a random number generator and 0 (zero) may be a valid output of your generator sometimes so it can difficult to debug the problem. Also, apparently you're missing a couple of <code>{{}}</code> in your <code>&lt;input&gt;</code>.</p> <pre><code>&lt;input value={{value}} type=&quot;number&quot; id=&quot;myVariable&quot;/&gt; </code></pre>"			2021-10-09 16:44:07.397 UTC
69510962	javascript|python|web	Replacing Javascript with Python	<p>Is it possible to make a website using HTML/CSS with <em>Python</em> instead of <em>JavaScript</em>?</p>	2021-10-09 22:26:49.45 UTC	69511019	"<p>Python in any way could be a replacement of javascript and and vice versa.</p> <p>If your web don't need a visual effects, don't need data from Rest Apis, is just and html with css, the answer is: <strong>You could create the html in the server using python</strong></p> <p>If you web need a lot the classic effects, open/close popups, left hamburger menu and more complex features in the client side (browser), the answer is: <strong>No, you can't develop it without javascript</strong></p> <p>There attempts to create a web effects with pure css, but is not common.</p> <h2>Server Rendering vs Client side Rendering</h2> <p>In web development there are two approaches to deliver content to end users: <a href=""https://medium.com/@benjburkholder/javascript-seo-server-side-rendering-vs-client-side-rendering-bc06b8ca2383"" rel=""nofollow noreferrer"">Server rendering and client side rendering</a></p> <p><strong>Server side rendering (SSR)</strong> â€” the traditional rendering method, basically all of your pageâ€™s resources are housed on the server. Then, when the page is requested (commonly from web browsers), the Html, JS and CSS are downloaded. Also frameworks can dynamically can create the html based on backend logic and finally download it. At this point, a lot of frameworks offer wonders for creating apps in no time with &quot;amazing&quot; functionalities.</p> <p>Technologies : java, c#, python, nodejs, etc</p> <p><strong>Client side rendering (CSR)</strong> â€” Which is sometimes called &quot;Frontend rendering&quot; is a more recent kind of rendering method, this relies on JS executed on the client side (browser) via a JavaScript framework. So, when page is requested, a minimal , little or empty index.html, css and js were downloaded. Here <strong>javascript</strong> is responsible to send or receive data and update a minimal section of the page <strong>without an entire page refresh.</strong>. Finally when user click or trigger some event, javascript will send or receive the <strong>data</strong> commonly to an api rest (json) using an async call (<a href=""https://medium.com/letsboot/basics-using-ajax-with-fetch-api-b2218b0b9691"" rel=""nofollow noreferrer"">ajax</a>).</p> <p>This is the most used currently in companies around the world and a required skill in any web developer.</p> <p>Technologies : react, angular, vue, aurelia, jquery, pure javascript, etc</p>"			2021-10-09 22:40:04.947 UTC
69510962	javascript|python|web	Replacing Javascript with Python	<p>Is it possible to make a website using HTML/CSS with <em>Python</em> instead of <em>JavaScript</em>?</p>	2021-10-09 22:26:49.45 UTC	69517816	<p>yes. js can be useful for ajax calls back to your python server. But you can hide that nowadays with things like htmx.</p>			2021-10-10 18:18:06.503 UTC
69510962	javascript|python|web	Replacing Javascript with Python	<p>Is it possible to make a website using HTML/CSS with <em>Python</em> instead of <em>JavaScript</em>?</p>	2021-10-09 22:26:49.45 UTC	69510990	"<p>If you mean on the backend, yes, of course. see <a href=""https://flask.palletsprojects.com/en/2.0.x/"" rel=""nofollow noreferrer"">flask</a> and <a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">django</a> projects.</p>"			2021-10-09 22:32:34.427 UTC
69522395	javascript|python|web-scraping	Web scraping with python in javascript dynamic website	"<p>I need to scrape all article, title of article and paragraf in this web: <a href=""https://portaljuridic.gencat.cat/eli/es-ct/l/2014/12/29/19"" rel=""nofollow noreferrer"">https://portaljuridic.gencat.cat/eli/es-ct/l/2014/12/29/19</a></p> <p>The problem is than I tried some of div, h3 or p nothing happen <a href=""https://i.stack.imgur.com/n7Njc.png"" rel=""nofollow noreferrer"">add image</a>.</p> <pre><code>from bs4 import BeautifulSoup import lxml import pandas as pd from tqdm import tqdm_notebook   def parse_url(url):     response = requests.get(url)     content = response.content     parsed_response = BeautifulSoup(content, &quot;lxml&quot;)     return parsed_response   url = &quot;https://portaljuridic.gencat.cat/eli/es-ct/l/2014/12/29/19&quot;  soup = parse_url(url)   article = soup.find(&quot;div&quot;, {&quot;class&quot;:&quot;article-document&quot;})  article </code></pre> <blockquote> </blockquote> <p>It seems to be a website with javascript, but I don't know how to get it.</p>"	2021-10-11 07:19:25.733 UTC	69522589	"<p>The website does 3 API calls in order to get the data.<br /> The code below does the same and get the data.</p> <p>(In the browser do F12 -&gt; Network -&gt; XHR and see the API calls)</p> <pre><code>import requests  payload1 = {'language':'ca','documentId':680124} r1 = requests.post('https://portaldogc.gencat.cat/eadop-rest/api/pjc/getListTraceabilityStandard',data = payload1) if r1.status_code == 200:   print(r1.json())  print('------------------') payload2 = {'documentId':680124,'orderBy':'DESC','language':'ca','traceability':'02'} r2 = requests.post('https://portaldogc.gencat.cat/eadop-rest/api/pjc/getListValidityByDocument',data = payload2) if r2.status_code == 200:   print(r2.json())  print('------------------')  payload3 = {'documentId': 680124,'traceabilityStandard': '02','language': 'ca'} r3 = requests.post('https://portaldogc.gencat.cat/eadop-rest/api/pjc/documentPJC',data=payload3) if r3.status_code == 200:   print(r3.json()) </code></pre>"			2021-10-11 07:38:37.493 UTC
69527542	javascript|web-component	Javascript create custom attribute getter (like in python)	"<p>Say I have a class in JavaScript (yes bad bad class, bad class in JS, but its for web components, one has to use classes).</p> <p>I would like to create a cached attribute getter for elements on a class, in python it would be this:</p> <pre class=""lang-py prettyprint-override""><code>class Foo(object):     _elements = {}     def __getattr__(self, name):         if name in ['widget1', 'widget2', 'widget3']:  # A long list of items, don't want to create getters for each one individiually             if not _elements.get(name):                 self._elements[name] = self.getElementById(name)                  return self._elements[name]         else:             # Default behaviour             return object.__getattr__(self, name) </code></pre> <p>This is the closest I got, but its ugly to use:</p> <ul> <li>One must call it as <code>this.el['widget1']</code></li> <li>Instead of <code>this.widget1</code></li> </ul> <pre class=""lang-js prettyprint-override""><code>class Foo extends HTMLElement {     el(id) {         // Cached get element by id         this._els = this._els || {};         if (!this._els[id]) {             this._els[id] = this.getElementById(id)         }         return this._els[id]     } </code></pre>"	2021-10-11 14:05:53.67 UTC	69539125	"<p>For anyone else who has the same issue, this is what I went with, quite a lot of code upfront, but at least its easy to use, e.g. <code>this.PROGRESS</code></p> <pre class=""lang-js prettyprint-override""><code>class Foo extends HTMLElement {     el(id, docEl=false) {         // Cached get element by name         // Parameter: docEl         //  Set to true to search the document instead of the shadowRoot         this._els = this._els || {};         if (!this._els[id]) {             const searchNode = docEl ? document : this.shadowRoot;             this._els[id] = searchNode.getElementById(id)         }         return this._els[id]     }      // Document Elements     get TEMPLATE()          { return this.el('TEMPLATE_wc-uploader', true) }     get TEMPLATE_WC_UPLOAD(){ return this.el('TEMPLATE_wc-upload', true) }     // Shadow Root Elements     get PROGRESS()          { return this.el('PROGRESS') }     get PROGRESS_HEADING()  { return this.el('PROGRESS_HEADING') }     get DRAG_OVERLAY()      { return this.el('DRAG_OVERLAY') }     get UPLOAD_LIST()       { return this.el('UPLOAD_LIST') } </code></pre>"			2021-10-12 10:41:38.833 UTC
69527542	javascript|web-component	Javascript create custom attribute getter (like in python)	"<p>Say I have a class in JavaScript (yes bad bad class, bad class in JS, but its for web components, one has to use classes).</p> <p>I would like to create a cached attribute getter for elements on a class, in python it would be this:</p> <pre class=""lang-py prettyprint-override""><code>class Foo(object):     _elements = {}     def __getattr__(self, name):         if name in ['widget1', 'widget2', 'widget3']:  # A long list of items, don't want to create getters for each one individiually             if not _elements.get(name):                 self._elements[name] = self.getElementById(name)                  return self._elements[name]         else:             # Default behaviour             return object.__getattr__(self, name) </code></pre> <p>This is the closest I got, but its ugly to use:</p> <ul> <li>One must call it as <code>this.el['widget1']</code></li> <li>Instead of <code>this.widget1</code></li> </ul> <pre class=""lang-js prettyprint-override""><code>class Foo extends HTMLElement {     el(id) {         // Cached get element by id         this._els = this._els || {};         if (!this._els[id]) {             this._els[id] = this.getElementById(id)         }         return this._els[id]     } </code></pre>"	2021-10-11 14:05:53.67 UTC	69582594	"<p><code>getElementById</code> <em><strong>is</strong></em> slower</p> <p>But does your cached performance gain outway extra code, code complexity and time coding?</p> <p>1 PICO second <strong>equals</strong> 0.00000001 Milliseconds</p> <p><img src=""https://i.imgur.com/pcfrp0v.png"" alt="""" /></p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div style=""display:grid;grid-template-columns:1fr 1fr""&gt;   &lt;test-component id=""CACHED""&gt;&lt;/test-component&gt;   &lt;test-component id=""BYID""&gt;&lt;/test-component&gt; &lt;/div&gt; &lt;div id=""DIFF""&gt;&lt;b&gt;100.000 calls per run:&lt;/b&gt;&lt;/div&gt; &lt;script&gt;   customElements.define(""test-component"", class extends HTMLElement {     el(id) {       this._els = this._els || {};       if (!this._els[id]) this._els[id] = document.getElementById(id);       return this._els[id]     }     get CACHED() {       return this.el(""CACHED"");     }     get BYID() {       return document.getElementById(""BYID"");     }     connectedCallback() {       let count = 100000;       for (let run = 1; run &lt; 9; run++) {         let log = [];         for (let cnt = 0; cnt &lt; count; cnt++) {           const t0 = performance.now();           this == CACHED ? this.CACHED : this.BYID;// test performance           log.push(performance.now() - t0);         }         this.average = (log.reduce((a, b) =&gt; a + b) / log.length)*1e9;         let diff = (BYID.average - CACHED.average).toPrecision(2);         if (this == BYID) DIFF.innerHTML += `&lt;div&gt;Run #${run} = &lt;b&gt;${diff/count}&lt;/b&gt; PICO seconds slower per call&lt;div&gt;`;       }     }   }) &lt;/script&gt;</code></pre> </div> </div> </p>"			2021-10-15 09:27:26.84 UTC
69530504	javascript|python|multithreading|async-await|python-asyncio	Why does Javascript have much fewer blocking functions than Python	"<p>Moving from Javascript to Python, and looking at <code>asyncio</code> has me a little confused.</p> <p>As someone who is new to the fundamental concepts of concurrency, I just assumed a superficial understanding of Javascript concurrency.</p> <p>A basic understanding from using <code>async / await</code> in Javascript:</p> <p>If we run any processes inside an <code>async</code> function, and <code>await</code> the response of the function, we are essentially waiting for the function to set a value on the <code>Promise</code>.</p> <p>Makes total sense - when the <code>Promise</code> is given a value, we can also use callbacks such as <code>.then()</code> to handle the response. Alternatively, just <code>await</code>.</p> <p>Whatever the underlying implementation of asynchronicity here is (for example all processes running on a single thread with an event loop), should it matter how we interface with it?</p> <p>Now, I move to Python and start playing with <code>asyncio</code>. We have <code>Futures</code>, just like <code>Promises</code>. All of a sudden, I can't use my standard libraries, such as <code>request.get(...)</code>, but I need to use non blocking network requests in libraries such as <code>aiohttp</code>.</p> <p>What does blocking / non-blocking mean here? I assume it means the single thread that the event loop is on is blocked, so we cant process other functions in parallel.</p> <p>So my 2 questions then are:</p> <ul> <li>What causes the single thread to be blocked? For example in <code>requests.get(...)</code></li> <li>Why are most functions non-blocking in Javascript, but not in Python (i.e we don't need specific libraries such as <code>aiohttp</code>).</li> </ul> <p>And what about languages like <code>Go</code> with their <code>goroutines</code>? Is it just a case because its a new language with concurrency built in from the beginning, that the concept of blocking functions don't exist. Or in Go it's not a single thread, so everything can inherently be parallelised?</p> <p>Thanks :)</p>"	2021-10-11 17:51:28.08 UTC	69532577	"<h3>Event loop</h3> <p>Javascript, and python's async io make use of a concurrency model based on <a href=""https://en.wikipedia.org/wiki/Event_loop"" rel=""nofollow noreferrer"">event loops</a>.</p> <p><em>(Note the plural because you could have multiple event loops which handle different kinds of tasks e.g. disk io, network io, ipc, parallel computations etc)</em></p> <p>The general concept of an event loop is that, you have a number of things to do, so you put those things in a queue, and once in a while (like every nanosecond), the event loop picks an event from the queue, and runs it for a short while (maybe a millisecond or so), and either shoves it back in the queue if it hasn't completed, or waits until it yields control back to the event loop.</p> <hr /> <p>Now to answer some of your questions:</p> <blockquote> <p>What does blocking / non-blocking mean here? I assume it means the single thread that the event loop is on is blocked, so we cant process other functions in parallel.</p> </blockquote> <h2>Blocking event loop</h2> <p>Blocking the event loop occurs when the event loop is running a task, and the task has either not finished or given back control to the event-loop, for a period of time longer than the event loop has scheduled it to run.</p> <p>In the case of python's requests library, they make use of a synchronous http library, which doesn't respect the event loop; Therefore, running such a task in the loop will starve other tasks which are patiently waiting their turn to run, until the request is finished.</p> <blockquote> <p>Why are most functions non-blocking in Javascript, but not in Python (i.e we don't need specific libraries such as <code>aiohttp</code>).</p> </blockquote> <h3>JS</h3> <p>Everything in Javascript can block the event loop. The only way not to block the event loop is to make heavy use of callbacks via <a href=""https://developer.mozilla.org/en-US/docs/Web/API/setTimeout"" rel=""nofollow noreferrer"">setTimeout</a>. However, if care is not taken, even those callbacks can block the event loop if they run too long without yielding control back to the event loop via another <code>setTimeout</code> call.</p> <p><em>(If you've never had to use <code>setTimeout</code>, but have used promises and async network requests in JS, then you are probably making use of a library that does. Most of the popular networking libraries used in browsers (ajax, axios, fetch, etc), are based on the popular <a href=""https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"" rel=""nofollow noreferrer""><code>XMLHttpRequest</code></a> API, which provides async network IO.)</em></p> <h3>Python</h3> <p>In python, the story is slightly different: Before asyncio, there was no such thing as as &quot;event loop&quot;. Everything must run to completion before python interpreter moves on to the next thing. This is part of what makes python very easy to learn (and dare I say, to create...). The reason for this, comes in the form of the python <a href=""https://realpython.com/python-gil/"" rel=""nofollow noreferrer"">GIL</a>, which in simple terms enforces a single order of execution for any python program. I encourage you to click that link, and read why the GIL exists.</p> <blockquote> <p>And what about languages like <code>Go</code> with their <code>goroutines</code>?</p> </blockquote> <p><em>Note</em>: I am not a go programmer, but I read <a href=""https://medium.com/@ankur_anand/illustrated-tales-of-go-runtime-scheduler-74809ef6d19b"" rel=""nofollow noreferrer"">something</a></p> <h3>How is Go different?</h3> <p>The only difference between the way go handles goroutines and how python asyncio/js do their event loops, is that go makes more use of os threads to ensure that threads are scheduled fairly and make full use of the machine they run in.</p> <p>While js callbacks/asyncio tasks will often run in the same thread as the event loop, goroutines are able to run in seperate OS threads and over multiple cores, thus giving them higher availability and higher parallelism. <em>(In that case, we could almost consider goroutines to be closer to OS threads in terms of how much time they actually get to run, as compared to green threads which are bound by the amount of time the event loop's thread runs.)</em></p>"			2021-10-11 21:16:45.613 UTC
69534937	javascript|python|socket.io|python-socketio	Convert socket.io Javascript code to python-socketio	"<p>I have a javascript using socket.io.<br> I would like to convert this javascript file to python:</p> <pre><code>io.on('connection',(socket)=&gt;{          let nsData = namespaces.map((ns)=&gt;{         return {             img: ns.image,             endpoint: ns.endpoint         }     })     // console.log(nsData)     socket.emit('nsList',nsData); }) </code></pre> <p>This is what I have in python:</p> <pre><code>@sio.event def connect(socket_id, environ):     # ??? </code></pre>"	2021-10-12 04:03:09.267 UTC	69579570	"<p>On the documentation, it is stated that you just need to either use a return statement or use the .emit() function. <a href=""https://python-socketio.readthedocs.io/en/latest/server.html#emitting-events"" rel=""nofollow noreferrer"">https://python-socketio.readthedocs.io/en/latest/server.html#emitting-events</a> As the docs say, you simply need to</p> <pre class=""lang-py prettyprint-override""><code>sio.emit('nsList', nsData, room=socket_id) </code></pre> <p>That will emit the <code>nsList</code> event with the content nsData. However, I do not know what nsData is. It seems to simply be a map statement, which can be done with the <code>map()</code> function. As GFG states, you simply need to map out the namespaces. <a href=""https://www.geeksforgeeks.org/python-map-function/"" rel=""nofollow noreferrer"">https://www.geeksforgeeks.org/python-map-function/</a> Assuming namespaces is a list, you can do something similar to this:</p> <pre class=""lang-py prettyprint-override""><code>def mapNsData(ns):     return { 'img': ns.image, 'endpoint': ns.endpoint } </code></pre> <p>Then, use the map function:</p> <pre class=""lang-py prettyprint-override""><code>nsData = list(map(mapNsData, namespaces)) </code></pre> <p>Tada! Now, you have a list to send to the client!</p>"			2021-10-15 03:08:10.063 UTC
69562405	javascript|python|html|frontend|backend	"How to use datas from a python file inside my website (HTML, CSS and JavaScript)?"	"<p>I want to use on my website an information / value that will be calculated in the python file. So the user will give some information, this data will be sent to my python file, where the result will be calculated and returned, then forwarded to my website. How can I do this?</p>"	2021-10-13 21:14:29.917 UTC	69579596	"<p>Ideally, you would have a backend that is made in python. This backend can then use a library like <a href=""https://flask.palletsprojects.com/en/2.0.x/"" rel=""nofollow noreferrer"">flask</a> to handle the requests. Once you have that up, from the frontend, you will use the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch</a> function to communicate with that server you made previously. Fetch lets you both send data and return data, which looks like what you are heading towards.</p>"			2021-10-15 03:12:43.43 UTC
69563525	javascript	Making javascript iteration similar to python	"<p>I would like to be able to call <code>keys()</code>, <code>values()</code>, and <code>items()</code> directly on the object, as a sort of shortform of <code>Object.keys|values|entries(...)</code>. Here is what I have thus far:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let o = {     a: 1,     b: 2,     keys()   {return Object.keys(this)},     values() {return Object.values(this)},     items()  {return Object.entries(this)} }; for (let k of o.keys()) console.log(k); for (let v of o.values()) console.log(v); for (let [k,v] of o.items()) console.log(k,v);</code></pre> </div> </div> </p> <p>It seems to get what what I want with the exception of I don't want that property to be enumerable. Two things related to this:</p> <ol> <li><p>What would be the proper way to make the item non-enumerable (so only <code>a</code> and <code>b</code> show up as the keys)? Would the following be good enough?</p> <pre><code>for (let prop of ['keys', 'values', 'items'])     Object.defineProperty(o, prop, {enumerable: false}) // or ['keys','values','items'].forEach((prop,idx) =&gt; Object.defineProperty(o, prop, {enumerable: false})); </code></pre> </li> <li><p>Would the above (what I think is a convenience method) be considered a bad idea, and if so why?</p> </li> </ol>"	2021-10-13 23:40:19.72 UTC	69563661	"<p>You could add the helper methods to the Object.prototype object (basically the parent of all javascript objects) so that all objects have <code>.keys()</code>, <code>.values()</code>, and <code>.entries()</code> methods.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const obj = {   a: 1,   b: 2 };  for (let prop of ['keys', 'values', 'entries']) {   Object.defineProperty(Object.prototype, prop, {     enumerable: false,     value: function() {       return Object[prop](this);     }   }); }  console.log(obj); console.log(obj.keys()); console.log(obj.values()); console.log(obj.entries());</code></pre> </div> </div> </p>"			2021-10-14 00:05:46.74 UTC
69563525	javascript	Making javascript iteration similar to python	"<p>I would like to be able to call <code>keys()</code>, <code>values()</code>, and <code>items()</code> directly on the object, as a sort of shortform of <code>Object.keys|values|entries(...)</code>. Here is what I have thus far:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let o = {     a: 1,     b: 2,     keys()   {return Object.keys(this)},     values() {return Object.values(this)},     items()  {return Object.entries(this)} }; for (let k of o.keys()) console.log(k); for (let v of o.values()) console.log(v); for (let [k,v] of o.items()) console.log(k,v);</code></pre> </div> </div> </p> <p>It seems to get what what I want with the exception of I don't want that property to be enumerable. Two things related to this:</p> <ol> <li><p>What would be the proper way to make the item non-enumerable (so only <code>a</code> and <code>b</code> show up as the keys)? Would the following be good enough?</p> <pre><code>for (let prop of ['keys', 'values', 'items'])     Object.defineProperty(o, prop, {enumerable: false}) // or ['keys','values','items'].forEach((prop,idx) =&gt; Object.defineProperty(o, prop, {enumerable: false})); </code></pre> </li> <li><p>Would the above (what I think is a convenience method) be considered a bad idea, and if so why?</p> </li> </ol>"	2021-10-13 23:40:19.72 UTC	69563758	"<p>You can edit the prototype methods, so that the change will be global.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>Object.prototype.keys = function(){    return Object.keys(this); }  Object.prototype.entries = function(){    return Object.entries(this); }  Object.prototype.values = function(){    return Object.values(this); }  const test = {   name: ""bob"" };  console.log({   keys: test.keys(),    values: test.values(),    entries: test.entries(), });</code></pre> </div> </div> </p>"			2021-10-14 00:27:06.667 UTC
69584227	javascript|python|python-3.x|emoji	JavaScript vs Python emoji length	"<p>I have a complex algorithm, one module is written in Python and another in JavaScript.</p> <p>At some point these modules calculate string length.</p> <p>The problem is when the text contains emojis, Python and JS give different results.</p> <p>Example:</p> <ul> <li>'' Python len: 1 ; JS len: 2</li> <li>'' Python len: 2 ; JS len: 4</li> </ul> <p>The JS's length is more convenient in my case. Is there a way to make Python3 calculate the emoji's length as JS does?</p>"	2021-10-15 11:45:01.247 UTC	69616400	<p>Here's the Python function to calculate string length that can contain emoji. It returns the same result as JS:</p> <pre><code>def jslen(string):     return int(len(string.encode(encoding='utf_16_le'))/2) </code></pre> <p>Thank you @snakecharmerb for your hint!</p>			2021-10-18 12:50:39.767 UTC
69605596	python	How to scrape a dynamically loaded JavaScript page in Python?	"<p>Bottom line up front: I want to scrape the jobs from this website: <a href=""https://www.gdit.com/careers/search/?q=bossier%20city"" rel=""nofollow noreferrer"">https://www.gdit.com/careers/search/?q=bossier%20city</a>, but I keep getting the javascript base page. If you inspect the page, you can see the jobs are listed in h3 tags but no matter what I do, the jobs don't pull up.</p> <ol> <li>I tried the following beautiful soup code:</li> </ol> <pre class=""lang-py prettyprint-override""><code>url = &quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot; html_text = requests.get(url).text soup = BeautifulSoup(html_text, &quot;html.parser&quot;) print(soup) #  for testing purposes for job in soup.find_all('h3'):      print(job) </code></pre> <ol start=""2""> <li>I tried ScraperAPI which I thought was supposed to load javascript for you:</li> </ol> <pre class=""lang-py prettyprint-override""><code>url = &quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot; params = {'api_key': &quot;MY-API-KEY&quot;, 'url': url} response = requests.get('http://api.scraperapi.com/', params=params) print(response.text) #  No H3 tags of any kind </code></pre> <ol start=""3""> <li>I tried html-requests:</li> </ol> <pre class=""lang-py prettyprint-override""><code>session = HTMLSession() r = session.get(&quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot;) data = r.html.render() print(data) </code></pre> <ol start=""4""> <li>I tried Selenium first and then parsing it to beautifulsoup:</li> </ol> <pre class=""lang-py prettyprint-override""><code>global driver options = webdriver.ChromeOptions() options.add_argument(&quot;start-maximized&quot;) options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;]) options.add_experimental_option(&quot;detach&quot;, True) options.add_experimental_option('useAutomationExtension', False) try:     driver = webdriver.Chrome(chrome_options=options, executable_path=r'C:\Users\Notebook\Documents\chromedriver.exe')     driver.get(url)     page_source = driver.page_source     soup = BeautifulSoup(page_source, &quot;html.parser&quot;)     time.sleep(2)     print(soup) except exceptions.WebDriverException:     print(&quot;You need to download a new version of the Chromedriver.&quot;) </code></pre> <p>Nothing works. Do I have to mimic a user entering Bossier City first and then retrieve the return? Anyways, any help would be appreciated.</p>"	2021-10-17 15:02:48.863 UTC	69605769	"<p>I think your problem is simple. As you said this page is loading elements dynamically using JS.</p> <p><code>Selenium</code> simply waits for the <code>html</code> to load. And does not wait for any scripts to finish running.</p> <p>In order to wait for a specific element all you have to do is add this functionality to your code (<code>Selenium</code> supports this). Here's a great <a href=""https://stackoverflow.com/questions/59130200/selenium-wait-until-element-is-present-visible-and-interactable"">post</a> explaining this. This post explains how you can wait for a specific element to become intractable which is one step further than -what I'm guessing- you require.</p>"			2021-10-17 15:20:50.327 UTC
69605596	python	How to scrape a dynamically loaded JavaScript page in Python?	"<p>Bottom line up front: I want to scrape the jobs from this website: <a href=""https://www.gdit.com/careers/search/?q=bossier%20city"" rel=""nofollow noreferrer"">https://www.gdit.com/careers/search/?q=bossier%20city</a>, but I keep getting the javascript base page. If you inspect the page, you can see the jobs are listed in h3 tags but no matter what I do, the jobs don't pull up.</p> <ol> <li>I tried the following beautiful soup code:</li> </ol> <pre class=""lang-py prettyprint-override""><code>url = &quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot; html_text = requests.get(url).text soup = BeautifulSoup(html_text, &quot;html.parser&quot;) print(soup) #  for testing purposes for job in soup.find_all('h3'):      print(job) </code></pre> <ol start=""2""> <li>I tried ScraperAPI which I thought was supposed to load javascript for you:</li> </ol> <pre class=""lang-py prettyprint-override""><code>url = &quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot; params = {'api_key': &quot;MY-API-KEY&quot;, 'url': url} response = requests.get('http://api.scraperapi.com/', params=params) print(response.text) #  No H3 tags of any kind </code></pre> <ol start=""3""> <li>I tried html-requests:</li> </ol> <pre class=""lang-py prettyprint-override""><code>session = HTMLSession() r = session.get(&quot;https://www.gdit.com/careers/search/?q=bossier%20city&quot;) data = r.html.render() print(data) </code></pre> <ol start=""4""> <li>I tried Selenium first and then parsing it to beautifulsoup:</li> </ol> <pre class=""lang-py prettyprint-override""><code>global driver options = webdriver.ChromeOptions() options.add_argument(&quot;start-maximized&quot;) options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;]) options.add_experimental_option(&quot;detach&quot;, True) options.add_experimental_option('useAutomationExtension', False) try:     driver = webdriver.Chrome(chrome_options=options, executable_path=r'C:\Users\Notebook\Documents\chromedriver.exe')     driver.get(url)     page_source = driver.page_source     soup = BeautifulSoup(page_source, &quot;html.parser&quot;)     time.sleep(2)     print(soup) except exceptions.WebDriverException:     print(&quot;You need to download a new version of the Chromedriver.&quot;) </code></pre> <p>Nothing works. Do I have to mimic a user entering Bossier City first and then retrieve the return? Anyways, any help would be appreciated.</p>"	2021-10-17 15:02:48.863 UTC	69605654	"<p>I would suggest switching from BeautifulSoup (static loader, purely python based) to Selenium (dynamic loader, integrates into multiple webbrowsers like: chrome, firefox, etc, etc).</p> <p><a href=""https://www.browserstack.com/guide/python-selenium-to-run-web-automation-test"" rel=""nofollow noreferrer"">Learn More Here</a></p> <p>Selenium is used for Automation testing on websites, however it can be used to <strong>scrape</strong> advanced dynamic websites.</p> <p>it provides many features, from reading DOM values, to adding/remove or editing DOM elements, also you can wait for an element to come into existance by waiting for that element to appear or render.</p> <p>driver.page_source only loads the base html and not the dynamic javascript. if you just print(driver.page_source) you will see what data is avaliable, adding <code>time.sleep(10)</code></p>"			2021-10-17 15:08:50.887 UTC
69655148	javascript|html|flask	Javascript to execute after python function in Flask	"<p>Am new to coding and learning Python. Currently working on Flask to make some webapp. For one of the project I am trying to achieve the below</p> <p>(1) On a webpage , I have a button when clicked, I pass the values inside the textbox to Python  function. Which does some operation of getting the data from the database and it create an html which stores that database query output into a table. (2) When this HTML file is generated with the table inside, I want to display the same in my webpage in an iframe (the page generates iframe automatically)</p> <p>The way I have achieved this is  having 2 buttons, One button to pass the values to Python function and second button to display the generated HTML into an iframe.</p> <pre><code>&lt;br /&gt; &lt;input type='submit' value='Process Query' class=&quot;savebtn&quot; name='Submit' /&gt; &lt;br /&gt;  &lt;input type='button' value='Submit Query' class=&quot;savebtn&quot; name='Submit' onclick=&quot;myFunction()&quot; /&gt;  . . .  &lt;script&gt;  function myFunction() {     var iframe = document.createElement('iframe');    $('iframe').not(this).remove();    var html = '     &lt;body&gt;Foo&lt;/body&gt;';    iframe.src = 'http://192.xx.xx.xx:10000/Table.html';    iframe.height = &quot;500&quot;;    document.body.appendChild(iframe);    console.log('iframe.contentWindow =', iframe.contentWindow);  } &lt;/script&gt; </code></pre> <p>I think the second button is unnecessary but am not sure how can I do this?</p> <p>Apologies if this is found too basic for many but as i said , am starting to learn coding.</p>"	2021-10-21 02:33:34.357 UTC	69666142	"<p>If I understand your problem correctly, what you want is to first process the text and generate some html, and then display this same html to a user. If that is the case, what you need is an <a href=""https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests"" rel=""nofollow noreferrer"">asynchronous request</a>.</p> <p>With an asynchronous request, you send data off to the server (without reloading the web page) and when you receive a response, you do something with it. A very crude code would be something like</p> <pre><code>    function clickButton(){         fetch(&quot;/&lt;path_to_server&gt;/&quot;)          .then(function(result) { // This is the response from the server            return result.json(); // convert it to json          })           .then(function(data) {            // process your returned data             // e.g. data.generated_table could be your html output            // which you can now display in your iframe          })     } </code></pre>"			2021-10-21 17:10:40.293 UTC
69669778	python|selenium|beautifulsoup	Is there a way to make a dynamic web page automatically run its JavaScript when webscraping with Python?	"<p>I have been getting a lot of issues when trying to do some Python webscraping using BeautifulSoup. Since this particular web page is dynamic, I have been trying to use Selenium first in order to &quot;open&quot; the web page before trying to work with the dynamic content with BeautifulSoup.</p> <p>The issue I am getting is that the <strong>dynamic content is only showing up in my HTML output when I manually scroll through the website upon running the program</strong>, <em>otherwise</em> those parts of the HTML remain empty as if I was just using BeautifulSoup by itself without Selenium.</p> <p>Here is my code:</p> <pre><code>import time from bs4 import BeautifulSoup from selenium import webdriver  if __name__ == &quot;__main__&quot;:      options = webdriver.ChromeOptions()     options.add_argument('--ignore-certificate-errors')     options.add_argument('--incognito')     # options.add_argument('--headless')      driver = webdriver.Chrome(&quot;C:\Program Files (x86)\chromedriver.exe&quot;, chrome_options=options)     driver.get('https://coinmarketcap.com/')     time.sleep(5)      html = driver.page_source      soup = BeautifulSoup(html, &quot;html.parser&quot;)     tbody = soup.tbody     trs = tbody.contents      for tr in trs:         print(tr)      driver.close() </code></pre> <p>Now if I have Selenium open Chrome with the headless option turned on, I get the same output I would normally get without having pre-loaded the page. The same thing happens if I'm not in headless mode and I simply let the page load by itself, without scrolling through the content manually. Does anyone know why this is? Is there a way to get the dynamic content to load without manually scrolling through each time I run the code?</p>"	2021-10-21 23:19:21.813 UTC	69670010	"<p>Actually, data is loaded dynamically by javascipt. So you can grab data easily from api calls json response:</p> <p>Here is the working example:</p> <p>Code:</p> <pre><code>import requests import json  url= 'https://api.coinmarketcap.com/data-api/v3/cryptocurrency/listing?start=1&amp;limit=100&amp;sortBy=market_cap&amp;sortType=desc&amp;convert=USD,BTC,ETH&amp;cryptoType=all&amp;tagType=all&amp;audited=false&amp;aux=ath,atl,high24h,low24h,num_market_pairs,cmc_rank,date_added,max_supply,circulating_supply,total_supply,volume_7d,volume_30d' r = requests.get(url)  for item in r.json()['data']['cryptoCurrencyList']:     name = item['name']          print('crypto_name:'  + str(name))  </code></pre> <p>Output:</p> <pre><code>crypto_name:Bitcoin crypto_name:Ethereum crypto_name:Binance Coin      crypto_name:Cardano crypto_name:Tether crypto_name:Solana crypto_name:XRP crypto_name:Polkadot crypto_name:USD Coin crypto_name:Dogecoin crypto_name:Terra crypto_name:Uniswap crypto_name:Wrapped Bitcoin   crypto_name:Litecoin crypto_name:Avalanche         crypto_name:Binance USD       crypto_name:Chainlink         crypto_name:Bitcoin Cash      crypto_name:Algorand crypto_name:SHIBA INU         crypto_name:Polygon crypto_name:Stellar crypto_name:VeChain crypto_name:Internet Computer crypto_name:Cosmos crypto_name:FTX Token crypto_name:Filecoin crypto_name:Axie Infinity crypto_name:Ethereum Classic crypto_name:TRON crypto_name:Bitcoin BEP2 crypto_name:Dai crypto_name:THETA crypto_name:Tezos crypto_name:Fantom crypto_name:Hedera crypto_name:NEAR Protocol crypto_name:Elrond crypto_name:Monero crypto_name:Crypto.com Coin crypto_name:PancakeSwap crypto_name:EOS crypto_name:The Graph crypto_name:Flow crypto_name:Aave crypto_name:Klaytn crypto_name:IOTA crypto_name:eCash crypto_name:Quant crypto_name:Bitcoin SV crypto_name:Neo crypto_name:Kusama crypto_name:UNUS SED LEO crypto_name:Waves crypto_name:Stacks crypto_name:TerraUSD crypto_name:Harmony crypto_name:Maker crypto_name:BitTorrent crypto_name:Celo crypto_name:Helium crypto_name:OMG Network crypto_name:THORChain crypto_name:Dash crypto_name:Amp crypto_name:Zcash crypto_name:Compound crypto_name:Chiliz crypto_name:Arweave crypto_name:Holo crypto_name:Decred crypto_name:NEM crypto_name:Theta Fuel crypto_name:Enjin Coin crypto_name:Revain crypto_name:Huobi Token crypto_name:OKB crypto_name:Decentraland crypto_name:SushiSwap crypto_name:ICON crypto_name:XDC Network crypto_name:Qtum crypto_name:TrueUSD crypto_name:yearn.finance crypto_name:Nexo crypto_name:Celsius crypto_name:Bitcoin Gold crypto_name:Curve DAO Token crypto_name:Mina crypto_name:KuCoin Token crypto_name:Zilliqa crypto_name:Perpetual Protocol crypto_name:Ren crypto_name:dYdX crypto_name:Ravencoin crypto_name:Synthetix crypto_name:renBTC crypto_name:Telcoin crypto_name:Basic Attention Token crypto_name:Horizenput: </code></pre>"			2021-10-21 23:58:48.613 UTC
69684242	javascript|python|ajax|variables|flask	Pass variables from Flask (Python) to Javascript in a Separate JS file via AJAX	"<p>I'm in the learning stages so please bear with me. I've been trying to get answers but often its type=&quot;POST&quot; from JS to Flask via AJAX.</p> <p>This is my app.py.</p> <pre class=""lang-py prettyprint-override""><code>@app.route(&quot;/dashboard&quot;, methods=[&quot;GET&quot;,&quot;POST&quot;]); def dashboard():     yearCount = #Sample list of dict data     return render_template(&quot;dashboard.html&quot;, yearCount=yearCount) </code></pre> <p>(edit) How do I get yearCount from above and pass it to a javascript via AJAX? yearCount will be loaded when dashboard.html renders.</p> <p>This is my js</p> <pre class=""lang-js prettyprint-override""><code>$.ajax({   url: '/dashboard',   type: &quot;GET&quot;,   // data: &quot;How do I get the data yearCount from /dashboard?&quot;,   success: function() {     alert(this.url);   } }); </code></pre> <p>I really appreciate the help! Been tearing my hair out figuratively the whole week trying to look for answers.</p>"	2021-10-23 00:30:08.47 UTC	69684325	"<p>Transfer of variables during the rendering process from the template:<br /> You can pass the variable on as json with the jinja filter <a href=""https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.tojson"" rel=""nofollow noreferrer""><code>tojson</code></a>. If you need the variable outside of your template, you have to pass it as a parameter.</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;title&gt;&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       const yearCount = {{ yearCount | tojson }};       console.log(yearCount);     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre> <hr /> <p>Loading data while the page is already shown in the browser:<br /> If you want to receive the variable again after the template has been rendered, ajax is the right choice.</p> <pre><code>from flask import jsonify  @app.route('/count') def count():     yearCount = # your dict data here.     return jsonify(yearCount) </code></pre> <p>In your example code you are using the <a href=""https://api.jquery.com/jquery.ajax/"" rel=""nofollow noreferrer"">jQuery</a> library. However, implementation with the help of the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch api</a> is also possible. The following is an example of each.</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot;&gt;     &lt;title&gt;&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;      &lt;!-- Load the jQuery library. --&gt;     &lt;script        src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;        integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot;        crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;     &lt;!-- Use the jQuery library to load data with ajax. --&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       // jQuery ajax       $.ajax({         url: '/count'       }).done((data) =&gt; {         console.log(data);       });     &lt;/script&gt;       &lt;!-- The fetch api does not require any additional library. --&gt;     &lt;script type=&quot;text/javascript&quot;&gt;       // fetch api       fetch('/count')         .then(resp =&gt; resp.json())         .then(data =&gt; console.log(data));     &lt;/script&gt;    &lt;/body&gt; &lt;/html&gt; </code></pre>"			2021-10-23 00:52:47.04 UTC
69685464	python|string|rust|iterator|substring	"How can I find all common sub strings using Rust , Python, javascript?"	"<h1>Problem Background</h1> <p>Git is an awesome version control system, I want learn git by writing my own version control system. The first step I have to do is implement a string diff tool. I've read this <a href=""https://blog.jcoglan.com/2017/03/22/myers-diff-in-linear-space-theory/"" rel=""nofollow noreferrer"">blog</a> and this <a href=""http://www.xmailserver.org/diff2.pdf"" rel=""nofollow noreferrer"">paper</a>. In order to get the diff of two strings, I need to locate the common part. Hence, I came into the problem: <strong>How can I find all common sub strings of two strings?</strong></p> <p>This is first part of my problemï¼šThe algorithm problem.</p> <p>This is the algorithm I am using:</p> <h1>Algorithm Problem</h1> <p>ã€Problemã€‘Find all common sub strings of string1 and string2.</p> <p>ã€Solutionã€‘</p> <ol> <li>compare all sub string of string1 with string2 then gather matches into answer.</li> <li>compare all sub string of string2 with string1 then gather matches into answer.</li> </ol> <p>This algorithm is O(N^2) time complex.</p> <h1>The language Problem</h1> <p>To proof my thought, I can easily implement it with Python:</p> <pre class=""lang-py prettyprint-override""><code>def commonSubstringFinder(string1, string2):     answer=[]     len1, len2 = len(string1), len(string2)     match = &quot;&quot;     x,y = 0,0     for i in range(len2):         for j in range(len1):             if ( i+j &lt; len2) and (string1[j] == string2[i+j]):                 if len(match)==0:                     x,y=i+j,j                 match += string1[j]             else:                 if len(match)&gt;0:                     answer.append(((x,y), match))                     match=&quot;&quot;          for i in range(1,len1):         for j in range(len2):             if (i+j&lt;len1 and string1[i+j] == string2[j] ):                 if len(match)==0:                     x,y=j,i+j                 match += string2[j]             else:                 if len(match)&gt;0:                     answer.append(((x,y), match))                     match=&quot;&quot;                      return answer  print(commonSubstringFinder(&quot;apkleses&quot;, &quot;appleses&quot;)) print(commonSubstringFinder(&quot;cappleses&quot;, &quot;caplekses&quot;))  # [((0, 0), 'ap'), ((3, 3), 'leses'), ((2, 1), 'p'), ((6, 4), 'es'), ((4, 6), 'es')] # [((0, 0), 'cap'), ((6, 6), 'ses'), ((7, 5), 'es'), ((2, 3), 'ple'), ((6, 8), 's'), ((4, 7), 'e')]  </code></pre> <p>However, It's really hard for me to migrate this algrithom by using Rust Programming language. The problem is Rust programming language always uses iter(say <code>string1.chars()</code>) to get chars instead of index.</p> <p>Any  can help meï¼Ÿ</p> <h1>Conclusion</h1> <p>I found an interesting thing when I solve this problem: How Do biologists find the common part of two DNA or RNA?</p>"	2021-10-23 05:43:34.457 UTC	69685880	"<h1>Update on 2021-10-27</h1> <p>I find Google's awesome repo:</p> <p> <a href=""https://github.com/google/diff-match-patch"" rel=""nofollow noreferrer"">https://github.com/google/diff-match-patch</a></p> <p>But there is no rust language .</p> <h1>Old answer</h1> <p>Thanks for your reply. I've found a simple solution here.</p> <p><strong>Welcome</strong> to upgrade it :</p> <pre class=""lang-rust prettyprint-override""><code>#![allow(unused)]  #[derive(Debug)] struct Common(u32, String);  pub fn common(old_content: &amp;str, new_content: &amp;str) {     let mut commons: Vec&lt;Common&gt; = vec![];      let mut sub = String::new();     // cdx is the start index of common substring in old content.     let mut cdx = 0u32;     let mut idx = 0u32; // inner loop counter     let mut odx = 0u32; // outer loop counter     let mut new_iter = new_content.chars().peekable();     while (!new_iter.peek().is_none()) {         for (old_ch, new_ch) in old_content.chars().zip(new_iter.clone()) {             if old_ch == new_ch {                 if sub.is_empty() {                     cdx = idx;                 }                 sub.push(old_ch);             } else {                 if sub.len() &gt; 0 {                     commons.push(Common(cdx, sub.clone()));                     sub.clear();                 }             }             idx += 1;         }         new_iter.next();         odx += 1;         idx = 0;     }      odx = 1;     idx = 0;     let mut old_iter = old_content.chars().skip(1).peekable();     while (!old_iter.peek().is_none()) {         for (new_ch, old_ch) in new_content.chars().zip(old_iter.clone()) {             if old_ch == new_ch {                 if sub.is_empty() {                     cdx = odx + idx;                 }                 sub.push(old_ch);             } else {                 if sub.len() &gt; 0 {                     commons.push(Common(cdx, sub.clone()));                     sub.clear();                 }             }             idx += 1;         }         old_iter.next();         odx += 1;         idx = 0;     }     println!(&quot;{:?}&quot;, commons); }  #[cfg(test)] mod tests {     use self::super::*;     #[test]     fn test_common() {         // test with print output: cargo test -- --nocapture         common(&quot;apkleses&quot;, &quot;appleses&quot;);         common(&quot;cappleses&quot;, &quot;caplekses&quot;);     } }  </code></pre> <p>The solution may not be rusty, but it worked.</p> <h1>update on 2021-11-3</h1> <p>I find a non iterator solutionï¼šcollect elements into a Vec.</p>"			2021-10-23 07:02:49.337 UTC
69686305	javascript|python|json|encoding|utf-8	is there any way to open the json file in javascript which was created by python?	"<p>I saved the json file in python like this</p> <pre><code>    with io.open('tokenizer.json', 'w', encoding='UTF-8') as f:         f.write(json.dumps(tokenizer_json, ensure_ascii=False)) </code></pre> <p>Then when I try to open the file in javascript, the json is read as a raw file</p> <pre><code>const js = JSON.parse(mytokenizer); //this does not work properly //result = {&quot;\uc544\ub2c8\ub2e4&quot;: 1, &quot;\uc788\ub2e4&quot;: 2, &quot;\uac00\ub2a5\ud558\ub2e4&quot;: 3, &quot;\uc5c6\ub2e4&quot;: 4, &quot;\ub9c8\uc2a4\ud06c&quot;: 5, &quot;\ud55c\ub2e4&quot;: 6, &quot;\uc815\ubd80\uac00&quot;: 7, &quot;\ub3c5\uac10&quot;: 8, &quot;\ubc31\uc2e0\uc758&quot;: 9, &quot;\uc54a\ub2e4&quot;: 10, &quot;\uad00\uacc4\uac00&quot;: 11,  </code></pre> <p>However it works fine when I open this file in python</p> <pre><code>with open('tokenizer.json') as f:     data = json.load(f)     loaded_tokenizer = tokenizer_from_json(data) //works fine //result = {'ì•„ë‹ˆë‹¤': 1, 'ìžˆë‹¤': 2, 'ê°€ëŠ¥í•˜ë‹¤': 3, 'ì—†ë‹¤': 4, 'ë§ˆìŠ¤í¬': 5, 'í•œë‹¤': 6, 'ì •ë¶€ê°€': 7, 'ë…ê°': 8, 'ë°±ì‹ ì˜': 9, 'ì•Šë‹¤': 10, 'ê´€ê³„ê°€': 11, 'ë§ˆìŠ¤í¬ë¥¼': 12, </code></pre> <p>what is the matter?</p>"	2021-10-23 08:16:41.173 UTC	69686430	"<p>you need to set encoding when you open the file:</p> <p>reader.readAsText(file, 'CP936');</p>"			2021-10-23 08:34:10.973 UTC
69688464	javascript|python|selenium	How to click an element with Javascript in Selenium Python	"<p>Using selenium, I would like to have a result of an click action on an element in html (HTML4).</p> <p>The dom in the html is like this</p> <pre><code>&lt;A HREF=&quot;javascript:open_login_page();&quot;&gt; &lt;IMG NAME=&quot;login_button&quot; SRC=&quot;hoge.jpg&quot; alt=&quot;login&quot;&gt;&lt;/A&gt; </code></pre> <p>It seems my Python script successfully obtains the element.</p> <p>Using the obtained element <code>a_element</code>,</p> <pre><code>a_element.get_attribute('href') </code></pre> <p>returns</p> <pre><code>javascript:open_login_page(); </code></pre> <p>However, <code>a_element.click()</code> raises an error.</p> <p>How can I have the result?</p> <p>The expected result is to have another window popup.</p>"	2021-10-23 13:09:11.287 UTC	69689444	"<p>There are basically 4 ways to click in Selenium.</p> <p>I will use this xpath</p> <pre><code>//IMG[@NAME='login_button']//parent::A </code></pre> <p><strong>Code trial 1 :</strong></p> <pre><code>time.sleep(5) driver.find_element_by_xpath(&quot;//IMG[@NAME='login_button']//parent::A&quot;).click() </code></pre> <p><strong>Code trial 2 :</strong></p> <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//IMG[@NAME='login_button']//parent::A&quot;))).click() </code></pre> <p><strong>Code trial 3 :</strong></p> <pre><code>time.sleep(5) button = driver.find_element_by_xpath(&quot;//IMG[@NAME='login_button']//parent::A&quot;) driver.execute_script(&quot;arguments[0].click();&quot;, button) </code></pre> <p><strong>Code trial 4 :</strong></p> <pre><code>time.sleep(5) button = driver.find_element_by_xpath(&quot;//IMG[@NAME='login_button']//parent::A&quot;) ActionChains(driver).move_to_element(button).click().perform() </code></pre> <p><strong>Imports :</strong></p> <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.action_chains import ActionChains </code></pre> <p><strong>PS :</strong> Please check in the <code>dev tools</code> (Google chrome) if we have <strong>unique</strong> entry in <code>HTML DOM</code> or not.</p> <p><strong>Steps to check:</strong></p> <p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>"			2021-10-23 15:16:31.997 UTC
69703112	javascript|python|node.js|child-process	Cannot return json object from a JavaScript function in a nodejs project that deals with a python script?	"<p>I think that some asynchronous stuff is happening that I cannot figure out Please tell how can I solve this with <code>async-await</code> if possible.</p> <p>my code:</p> <pre><code>const {spawn} = require('child_process')   const getWeatherReport = (location) =&gt; {     let dataToSend, result     const python = spawn('python', [__dirname+'\\weathergetter.py', location.toString()])      python.stdout.on('data', (data) =&gt; {         console.log('Pipe data from python script ...');         dataToSend = JSON.parse(data.toString().replace(/\'/g, '\&quot;'));         // console.log(dataToSend)     })          python.stderr.on('data', data =&gt; {         console.error(`stderr: ${data}`)     })        python.on('close', (code) =&gt; {         console.log(`child process close all stdio with code ${code}`);         // console.log(dataToSend)     })     return dataToSend      }  var wea = getWeatherReport(&quot;kolkata&quot;) console.log(wea) </code></pre> <blockquote> <p><strong>Output</strong>: <br> undefined<br> Pipe data from python script ...<br> child process close all stdio with code 0<br></p> </blockquote> <p>I want the function to return a <code>json object</code> which is assigned to <code>dataToSend</code>. Here I am actually working with a python script.</p> <p>the python script has no problem. When I <code>console.log(dataToSend)</code> inside <code>python.stdout.on()</code> and <code>python.on()</code> as <strong>commented out in the code</strong>, the json objects gets printed to the console. But I cannot <strong>make the function return the json object</strong>.</p> <h2>Please refer to these for what I was following:</h2> <ul> <li><strong>mainly this one</strong> -- <a href=""https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f"" rel=""nofollow noreferrer"">https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f</a></li> <li><a href=""https://www.sohamkamani.com/blog/2015/08/21/python-nodejs-comm/"" rel=""nofollow noreferrer"">https://www.sohamkamani.com/blog/2015/08/21/python-nodejs-comm/</a></li> <li><a href=""https://towardsdatascience.com/python-pandas-in-node-js-application-47a76ae42a2a"" rel=""nofollow noreferrer"">https://towardsdatascience.com/python-pandas-in-node-js-application-47a76ae42a2a</a></li> </ul> <p><em><strong>NOTE: Please don't mark this question as duplicate as it was done to my last question. I can understand that there are many posts on this topic in stack overflow already. But it is not helping in my case.</strong></em></p> <h2>What I tried after my previous post was closed:</h2> <pre><code>const {spawn} = require('child_process')   const getWeatherReport = async (location) =&gt; {     let dataToSend     const python = spawn('python', [__dirname+'\\weathergetter.py', location.toString()])      python.stdout.on('data', async (data) =&gt; {         console.log('Pipe data from python script ...');         dataToSend = JSON.parse(data.toString().replace(/\'/g, '\&quot;'));         // console.log(dataToSend)     })          python.stderr.on('data', data =&gt; {         console.error(`stderr: ${data}`)     })        python.on('close', (code) =&gt; {         console.log(`child process close all stdio with code ${code}`);         // console.log(dataToSend)     })     return  await dataToSend      }  var wea = await getWeatherReport(&quot;kolkata&quot;) console.log(`data: ${ await wea}`) </code></pre>"	2021-10-25 05:11:33.58 UTC	69703213	"<p>Since you're not using async/await or a callback, you're returning <code>dataToSend</code> before it has had the time to be populated by the <code>data</code> callback.</p> <p>If you want to use async/await, you'll need to wrap things in a <code>new Promise</code> here. It's also a good idea to gather all the output from the subprocess before decoding only at the end, since there's no guarantee all of the JSON will be delivered in a single event.</p> <pre><code>const { spawn } = require(&quot;child_process&quot;);  const getWeatherReport = (location) =&gt; {   return new Promise((resolve, reject) =&gt; {     let buf = &quot;&quot;;     const python = spawn(&quot;python&quot;, [       __dirname + &quot;\\weathergetter.py&quot;,       location.toString(),     ]);      python.stdout.on(&quot;data&quot;, (data) =&gt; {       buf += data;     });      python.stderr.on(&quot;data&quot;, (data) =&gt; {       console.error(`stderr: ${data}`);     });      python.on(&quot;close&quot;, (code) =&gt; {       if (code !== 0) {         return reject(`child process died with ${code}`);       }       const dataToSend = JSON.parse(buf.toString().replace(/\'/g, '&quot;'));       return resolve(dataToSend);     });   }); };  async function main() {   var wea = await getWeatherReport(&quot;kolkata&quot;);   console.log(wea); } main(); </code></pre>"			2021-10-25 05:25:54.193 UTC
69707864	javascript|python|eel	How to click a Button automatically with Javascript from Python using Js2py	"<p>I am using <strong>eel</strong> in order to connect the frontent(HTML,CSS and JS) and backend with <strong>Python</strong>.</p> <p><strong>I want to click the button element automatically when a if condition states to true in python.</strong></p> <p><em>As far as I've searched I came across Js2py to be the easiest yet it doesn't seem to work with button clicking event.</em></p> <p>The code that I tried</p> <pre><code>js='function $fine(){document.getElementById(&quot;spl&quot;).live(&quot;click&quot;);}' ok=js2py.eval_js(js) ok() </code></pre> <p>Error that I got:</p> <blockquote> <p>raise MakeError('ReferenceError', '%s is not defined' % prop) js2py.internals.simplex.JsException: ReferenceError: document is not defined</p> </blockquote> <p>Note: The if condition that I am checking for is</p> <pre><code>if not mixer.music.get_busy() </code></pre> <p>Basically a Music player project using Pygame, the need to click the play button in order to start the next song once the current song has completed playing. I have used eel in order to get functions from python to Javascript but now I want to get Javascript functions to python without using Flask. Any suggestions would be really helpful.</p>"	2021-10-25 12:13:18.187 UTC	69735318	"<p><strong>UPDATE</strong> Js2Py Not working hence I tried to solve the same using Eel and faced another error as stated <a href=""https://stackoverflow.com/q/69732918/12785103"">here</a> but managed to solve it by doing as stated <a href=""https://stackoverflow.com/a/69735271/12785103"">here</a></p>"			2021-10-27 08:33:09.27 UTC
69715290	javascript|python|html|xml|flask	How can I send a XML from HTML in string to Python (using Flask) using Fetch API in Javascript	"<p>I'm designing an app that receives an XML file from an HTML page and send it to Python using Flask <strong>This is my HTML (frontend) code</strong></p> <pre class=""lang-html prettyprint-override""><code>&lt;input type=&quot;file&quot; id=&quot;files&quot;  class=&quot;form-control&quot; accept=&quot;.xml&quot; required /&gt; &lt;button onclick=&quot;send()&quot; style=&quot;width: 150px;&quot; class=&quot;btn btn-primary&quot;&gt;Send&lt;/button&gt; </code></pre> <p>And I am using Flask with Python to run my backend, I am using POSTMAN (i show it below) and I send an XML on it and return what is supposed to return <strong>This is my Python code</strong></p> <pre><code>@app.route('/Students', methods=['POST']) def loaddata():     # this is a list      global dataArray      entry= request.data.decode('utf-8')      xmlentry= ET.fromstring(entry)      for student in xmlentry.findall('STUDENT'):         name= dte.find('NAME').text         address = dte.find('ADDRESS').text         new = DataObject(name,adress)          # DataObject its a class, i am using OOP         dataArray.append(new)       return jsonify({'Mensaje':'Students added to the database',}) </code></pre> <p>but I don't know how to send the XML data from the HTML file and make it work with my Python Backend, I have used Fetch before but no for this particular case <strong>This is my JavaScript code where I have confusion</strong></p> <pre class=""lang-js prettyprint-override""><code>var file1 = document.getElementById(&quot;file&quot;);  function send() {  fetch('localhost:3000/Students', {             method: 'POST',             body: file1,             headers:{               'Content-Type': 'text/plain',               'Access-Control-Allow-Origin': '*',}})         .then(res =&gt; res.json())         .catch(err =&gt; {                 console.error('Error:', err)                 alert(&quot;Ocurrio un error, ver la consola&quot;)         })         .then(response =&gt;{           console.log(response);           alert(response.Mensaje)         })     } </code></pre> <p>What I can do? <a href=""https://i.stack.imgur.com/BegZJ.png"" rel=""nofollow noreferrer"">This is my program tested with POSTMAN</a></p>"	2021-10-25 22:06:00.633 UTC	69715694	"<p>Consider the following HTML / JavaScript.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function send(file) {   var formData = new FormData();   formData.append('xmlFile', file);   fetch('localhost:3000/Students', {       method: 'POST',       body: formData,       headers: {         'Content-Type': 'text/plain',         'Access-Control-Allow-Origin': '*',       }     })     .then(res =&gt; res.json())     .catch(err =&gt; {       console.error('Error:', err)       alert(""Ocurrio un error, ver la consola"")     })     .then(response =&gt; {       console.log(response);       alert(response.Mensaje)     }) }  var fileInp = document.getElementById(""files""); var sendBtn = document.getElementById(""filesBtn""); sendBtn.addEventListener('click', (event) =&gt; {   if (fileInp.files[0] !== undefined) {     send(fileInp.files[0]);   } else {     alert(""Please select a XML File."");   } });</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""file"" id=""files"" class=""form-control"" accept="".xml"" required /&gt; &lt;button id=""filesBtn"" style=""width: 150px;"" class=""btn btn-primary""&gt;Send&lt;/button&gt;</code></pre> </div> </div> </p> <p>This is based on the following Example: <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#uploading_a_file"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#uploading_a_file</a></p> <p>When the User clicks Send, the <code>file</code> is sent to the function. New Form Data is created and POST to the server.</p> <p>You may need to adjust your Python. See here: <a href=""https://stackoverflow.com/questions/10434599/get-the-data-received-in-a-flask-request"">Get the data received in a Flask request</a></p>"			2021-10-25 23:06:27.66 UTC
69723065	javascript|python	Python dictionary to a javascript object?	"<p>I have a python aws lambda passing a json.dumps(pythonDict) to the frontend. Then to operate with js and html i need to convert:</p> <pre><code># from py_dict = [{'x':&quot;hi&quot;, 'y':1, 'z':2}]  # to js_obj = [{x:&quot;hi&quot;, y:1, z:2}] </code></pre> <p>Any way to do it? Anyone here with the same problem?</p>"	2021-10-26 12:24:24.99 UTC	69723131	"<p>As far as I understand, you're looking for the JavaScript function <code>JSON.parse</code> that can parse a String to a JavaScript object. You're probably getting a String from the backend.</p>"			2021-10-26 12:29:07.713 UTC
69732918	javascript|python|websocket|pygame|eel	Using Eel calling JavaScript function in python only when a condition is True	"<p><strong>Describe the problem</strong> I am trying to call a JavaScript function but only when a if condition evaluates  to True in Python. I'm working on a Music player project with Pygame and Eel, I want to call the JS function to change Song cover image automatically without a button click as the previous song ends, which am finding using pygame.mixer.music.get_busy() in python, during when I want to call the 'eel.fine()' but I'm sure why it's not working or how to get this done as am new to Eel</p> <p>Expected When if condition becomes True function find should be called from python code i.e just want to change cover image when one song ends <strong>Code snippet(s)</strong> Here is some code that can be easily used to reproduce the problem or understand what I need help with. Note: I have removed most part of the code just to make to understand and have only added the portions that relate to the flow of the code what I need help with.</p> <pre class=""lang-py prettyprint-override""><code>import eel from pygame import mixer  eel.init('web')   js='function $fine(){document.getElementById(&quot;spl&quot;).live(&quot;click&quot;);}' def my_update():     if pausev and not fine:         if not start and not mixer.music.get_busy():             #ok=js2py.eval_js(js)             # ok()             print(&quot;booom&quot;)             eel.fine()  # This is the part I need help with             play()             print('new song up')         else:             print('old playing still')     else:         print('strictly paused')   </code></pre> <pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;     &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;     &lt;title&gt;Aishu's Magic-Music&lt;/title&gt;     &lt;link href=&quot;style.css&quot; rel=&quot;stylesheet&quot;&gt;     &lt;script type=&quot;text/javascript&quot; src=&quot;/eel.js&quot;&gt;&lt;/script&gt;     &lt;script type=&quot;text/javascript&quot; src=&quot;main.js&quot;&gt;&lt;/script&gt;     &lt;script type=&quot;text/javascript&quot;&gt;         eel.expose(fine);       function fine(){       document.getElementById(&quot;spl&quot;).live(&quot;click&quot;);        }     &lt;/script&gt;     &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&gt;&lt;/script&gt;     &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.2/css/all.css&quot; integrity=&quot;sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr&quot; crossorigin=&quot;anonymous&quot;&gt; &lt;/head&gt;  &lt;body&gt;     &lt;section class=&quot;wellcome_area clearfix&quot; id=&quot;home&quot;&gt;       &lt;div class=&quot;container h-100&quot;&gt;             &lt;div class=&quot;row h-100 align-items-center&quot;&gt;                 &lt;div class=&quot;col-12 col-md&quot;&gt;                     &lt;div class=&quot;get-start-area&quot;&gt;                         &lt;form class=&quot;form-inline&quot;&gt;                             &lt;input type=&quot;button&quot; id=&quot;repeat&quot; class=&quot;submit&quot; value=&quot;â–¶ Shower&quot; onclick=&quot;generateQRCode(7)&quot;&gt;                             &lt;input type=&quot;button&quot; id=&quot;spl&quot; class=&quot;submit&quot; value=&quot;â–¶ Play&quot; onclick=&quot;generateQRCode(2)&quot;&gt;                             &lt;input type=&quot;button&quot; class=&quot;submit&quot; value=&quot;&gt;&gt; Skip&quot; onclick=&quot;generateQRCode(3)&quot;&gt;                         &lt;/form&gt;                     &lt;/div&gt;                 &lt;/div&gt;             &lt;/div&gt;         &lt;/div&gt;         &lt;div class=&quot;welcome-thumb &quot;&gt;             &lt;img id=&quot;qr&quot; class=&quot;headshot headshot-1&quot; src=&quot;img/bg-img/play.jpg&quot; width=&quot;50%&quot;&gt;         &lt;/div&gt;     &lt;/section&gt;  &lt;/body&gt; &lt;/html&gt;  </code></pre> <pre><code>// main.js var whatever=1; var loop_check=1; function generateQRCode(data) {     if(data==2){     change()      if(whatever==1){         eel.generate_qr(1)(setImage);         whatever=0;     }     else     {         eel.generate_qr(data)(setImage)      }     }     else if(data==7){     change_loop()     eel.generate_qr(data)(setImage)     }     else{     eel.generate_qr(data)(setImage)     } } function change()  {     var elem = document.getElementById(&quot;spl&quot;);     if (elem.value==&quot;|| Pause&quot;) elem.value = &quot;â–¶ Play&quot;;     else elem.value = &quot;|| Pause&quot;;  } function setImage(base64) {     document.getElementById(&quot;qr&quot;).src = base64 } </code></pre> <p><strong>UPDATE</strong> It partially works and does not work as expected <img src=""https://user-images.githubusercontent.com/56349099/139001083-839967ea-5b0b-4b5e-bb28-f4977ac19436.png"" alt=""image"" /> is the Error that I get during running normally</p> <p>Whereas the Output when I open inspect - console <img src=""https://user-images.githubusercontent.com/56349099/139001211-33575a5d-f423-4897-b7ca-8a9e1972eefc.png"" alt=""image"" /></p> <p><strong>Desktop :</strong></p> <ul> <li>OS: Windows</li> <li>Browser chrome</li> <li>Version 94</li> </ul>"	2021-10-27 04:48:44.583 UTC	69735271	"<p>I've solved it after lots of trail and error, since I'm new to JavaScript, Eel and connecting both with Python, I only later realised that in my code, I have tried using</p> <pre><code>document.getElementById(&quot;spl&quot;).live(&quot;click&quot;); </code></pre> <p>and</p> <pre><code>document.getElementById(&quot;spl&quot;).trigger(&quot;click&quot;); </code></pre> <p>and while I used</p> <pre><code>document.getElementById(&quot;spl&quot;).click(); </code></pre> <p>earlier had missed to expose the JavaScript function, hence when I tried using <strong>.click()</strong> again after exposing I realise this is what I've been missing the whole time. Although in JavaScript without Eel, as stated <a href=""https://stackoverflow.com/questions/9122078/difference-between-onclick-vs-click"">here</a> and <a href=""https://stackoverflow.com/questions/9666471/jquery-advantages-differences-in-trigger-vs-click"">here</a> works more or less the same, but for some reason when used with Eel creates this weird pausing thing to cause in debugger only and create a websocket error if not.</p> <p><em>Glad that I was finally able to find a way that actually works.</em></p>"			2021-10-27 08:29:56.743 UTC
69734810	javascript|python|html|flask	How would I transfer information like a variable from javascript to python using AJAX and Flask	"<p>I am messing around with Flask and Ajax to see what I can do with it for a bigger project I'm working on. I am trying to get some data in a variable into my python program to be able to use and manipulate. I have a script in an html file that returns the current URL. How can I get the url into my python program with AJAX?</p> <p>I will attach my relevant code below:</p> <p>index.html</p> <pre><code>&lt;html lang=&quot;en&quot;&gt; &lt;head&gt;     &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;title&gt;HELP&lt;/title&gt; &lt;/head&gt; &lt;body&gt;          &lt;p&gt;I am {{person}} and i am {{age}} years old, I am a {{ql}}&lt;/p&gt;      &lt;form name=&quot;passdata&quot; action=&quot;.&quot; method=&quot;post&quot;&gt;         &lt;label&gt;Name:&lt;/label&gt;         &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;         &lt;label&gt;Age:&lt;/label&gt;         &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;         &lt;label&gt;Date of Birth:&lt;/label&gt;         &lt;input type=&quot;text&quot; name=&quot;dateofbirth&quot;&gt;         &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt;     &lt;/form&gt;      &lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;      &lt;script&gt;         let geturl = window.         document.getElementById(&quot;demo&quot;).innerHTML =          &quot;The full URL of this page is:&lt;br&gt;&quot; + geturl;     &lt;/script&gt; //getting the current url  &lt;/body&gt; &lt;/html&gt; </code></pre> <p>main.py</p> <pre><code>from flask import Flask, render_template, request   app = Flask(__name__) name = &quot;random&quot; age = &quot;21&quot; qualification = &quot;software engineer&quot;   @app.route('/') def index():     return render_template('index.html', person=name, age=age, ql=qualification)   @app.route('/', methods=['POST']) def getvalue():     name2 = request.form['name']     age = request.form['age']     db = request.form['dateofbirth']     return name2   if __name__ == '__main__':     app.run(debug=True) </code></pre> <p>let me know if you need any clarification. Thanks in advance.</p>"	2021-10-27 07:55:27.173 UTC	69735043	"<p>Usually when you are sending variables to routes in flask you will have the route designed as:</p> <pre class=""lang-py prettyprint-override""><code> @app.route('/route_to_send_to/&lt;variable&gt;', methods=['GET']) def route_to_send_to(variable):     variable_sent = variable          return jsonify({'variable':variable}) </code></pre> <p>Another hint usually when working with ajax calls the response may be a json response which you can send back with jsonify.</p> <p>All you need to do is call it to the route replacing  with the variable you want to send.</p> <p>You can also send with Ajax a post request to have the data hidden, but then you will need to change the route to handle post requests.</p> <p>The Ajax call may be something like:</p> <pre><code>        var url = '/route_to_send_to/ + name;         return $.ajax({             type: &quot;GET&quot;,             url: url,             }).then(function(data) {// Do something with the responce})         });  </code></pre> <p>Considering the comments below I might suggest you read this <a href=""https://towardsdatascience.com/using-python-flask-and-ajax-to-pass-information-between-the-client-and-server-90670c64d688"" rel=""nofollow noreferrer"">article</a> to get a better understanding of how flask and ajax work together.</p> <p>Also This amazing <a href=""https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world"" rel=""nofollow noreferrer"">Flask tutorial by Miguel Grinberg</a> is probably one of the best resources I have ever come across for learning flask, the framework and good conducts with it. It goes through everything from the absolute basic to extremely advanced topics and is well worth the time.</p>"			2021-10-27 08:13:56.47 UTC
69755472	javascript|python|hmac	Reproducing an hmac operation in python from the javascript reference case	"<p>I have a fragment of javascript that operates properly:</p> <pre><code>let seed = '319aa8124bbcddac2bae8438cfd5e658aeca56d524736739622dfb0a09942b22'; let salt = '0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526'; // 1. HMAC_SHA256(message=seed, key=salt)   const hmac = CryptoJS.HmacSHA256(CryptoJS.enc.Hex.parse(seed), salt); let foo = hmac.toString(CryptoJS.enc.Hex); console.log(&quot;foo&quot;, hmac.toString(CryptoJS.enc.Hex));  //foo fe6a57f08b9970b7cd497e627afac956203a8ef829d2d97c7967775c1c0b6f6a </code></pre> <p>I try to reproduce it in python:</p> <pre><code>seed = &quot;319aa8124bbcddac2bae8438cfd5e658aeca56d524736739622dfb0a09942b22&quot; salt = &quot;0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526&quot; hm = hmac.new(str.encode(seed), b'', hashlib.sha256) hm.update(salt.encode(&quot;utf-8&quot;)) h = hm.hexdigest() print(h)   # returns 01703d8db07432ca416151099533b60baea7a6450fc5b88788c7ca9af921b4a1 </code></pre> <p>but the result is incorrect.</p> <p>I think the step I'm missing is the <code>CryptoJS.enc.Hex.parse(seed)</code> operation that occurs in the javascript. I don't understand what that is doing to the seed value.  I try to <code>console.log()</code> that value but it returns a complicated object that I don't comprehend.</p> <p>So my questions are:</p> <ol> <li>what is that function doing to the the <code>seed</code></li> <li>how to do the equivalent in python.</li> </ol>"	2021-10-28 13:58:24.383 UTC	69755641	"<p>These algorithms work on raw bytes. Your seed is representing those bytes in hexadecimal, i.e. <code>31</code> is one byte, <code>9a</code> is another. <code>CryptoJS.enc.Hex.parse</code> parses the hexadecimal to bytes. The equivalent in Python is with <code>codecs.decode(&quot;...&quot;, &quot;hex&quot;)</code>.</p> <p>The salt also looks like hexadecimal but your JS doesn't parse it as such, so I've just treated it as UTF8 in the python as well.</p> <pre><code>import hmac import hashlib import codecs  seed = codecs.decode(b&quot;319aa8124bbcddac2bae8438cfd5e658aeca56d524736739622dfb0a09942b22&quot;, &quot;hex&quot;) salt = u&quot;0000000000000000004d6ec16dafe9d8370958664c1dc422f452892264c59526&quot;.encode(&quot;utf8&quot;) hm = hmac.new(salt, seed, hashlib.sha256) h = hm.hexdigest() print(h)   # returns fe6a57f08b9970b7cd497e627afac956203a8ef829d2d97c7967775c1c0b6f6a </code></pre>"			2021-10-28 14:09:32.423 UTC
69798041	python|web-scraping|beautifulsoup|lxml|screen-scraping	Get the image url inside Javascript with Python and BeautifulSoup	"<p>I am trying the get the product image from the page below, using Python and BeautifulSoup. The image is inside javascript. I am using lxml. I have created a simplified version of my code to focus on the image only.</p> <p>The image url I am after is <a href=""https://lapa.co.za/pub/media/catalog/product/cache/image/700x700/e9c3970ab036de70892d86c6d221abfe/l/e/learn_to_read_l3_b05_tippie_fish_cover.jpg"" rel=""nofollow noreferrer"">https://lapa.co.za/pub/media/catalog/product/cache/image/700x700/e9c3970ab036de70892d86c6d221abfe/l/e/learn_to_read_l3_b05_tippie_fish_cover.jpg</a></p> <pre><code>import json from bs4 import BeautifulSoup import requests  headers = {     'User-Agent': 'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148' } testlink = 'https://lapa.co.za/kinder-en-tienerboeke/leer-my-lees-vlak-1-grootboek-9-tippie-en-die-vis'  r = requests.get(testlink, headers=headers) soup = BeautifulSoup(r.content, 'lxml')  title = soup.find('h1', class_='page-title').text.strip() images = soup.find('div', class_='product-img-column')  # html_data = requests.get(testlink).text # data = json.loads(re.search(r'window.INITIAL_REDUX_STATE=(\{.*?\});', html_data))  print(images) </code></pre>"	2021-11-01 14:03:55.183 UTC	69799186	"<p>The json is in the <code>&lt;script&gt;</code> tags. Just need to pull that out.</p> <pre><code>import json from bs4 import BeautifulSoup import requests import re  headers = {     'User-Agent': 'Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148' } testlink = 'https://lapa.co.za/kinder-en-tienerboeke/leer-my-lees-vlak-1-grootboek-9-tippie-en-die-vis'  r = requests.get(testlink, headers=headers) soup = BeautifulSoup(r.content, 'lxml')  title = soup.find('h1', class_='page-title').text.strip() images = soup.find('div', class_='product-img-column')  script = images.find('script', {'type':'text/x-magento-init'})  jsonStr = re.search(r'&lt;script type=\&quot;text/x-magento-init\&quot;&gt;(.*)&lt;/script&gt;', str(script), re.IGNORECASE | re.DOTALL).group(1) data = json.loads(jsonStr)  image_data = data['[data-gallery-role=gallery-placeholder]']['mage/gallery/gallery']['data'][0] image_url = image_data['full']  # OR  #image_url = image_data['img']  print(image_url) </code></pre> <p><strong>Output:</strong></p> <pre><code>print(image_url) https://lapa.co.za/pub/media/catalog/product/cache/image/e9c3970ab036de70892d86c6d221abfe/9/7/9780799377347_1.jpg </code></pre>"			2021-11-01 15:36:12.67 UTC
69805464	javascript|python|child-process	How to create a generalized JavaScript function that can run python scripts and return data in json format if any?	"<h2>What I am currently able to do</h2> <pre><code>const { spawn } = require(&quot;child_process&quot;);  exports.fetchWeatherdata = (location) =&gt; {   console.log(&quot;DIR NAME DB&quot; + __dirname)   return new Promise((resolve, reject) =&gt; {     let buf = &quot;&quot;;     const python = spawn(&quot;python&quot;, [       __dirname + &quot;/weathergetter.py&quot;,       location.toString(),     ]);      python.stdout.on(&quot;data&quot;, (data) =&gt; {       buf += data;     });      python.stderr.on(&quot;data&quot;, (data) =&gt; {       console.error(`stderr: ${data}`);     });      python.on(&quot;close&quot;, (code) =&gt; {       if (code !== 0) {         return reject(`child process died with ${code}`);       }       const dataToSend = JSON.parse(buf.toString().replace(/\'/g, '&quot;'));       return resolve(dataToSend);     });   }); };   //in another file const { fetchWeatherdata } = require('../python/weather') exports.sendData = (req, res) =&gt; {     console.log(req.query)     console.log(req.params)      async function main() {         var wea = await fetchWeatherdata(req.params.loc);         // console.log(wea);         res.send(wea)     }     main() } </code></pre> <h2><br><br> What I want to achieve</h2> <pre><code>const { spawn } = require(&quot;child_process&quot;);  exports.pythonFileRunner = (pathToFile, arguments) =&gt; {    // some code goes here. This is where I need help    return &quot;output of the python file &quot; }  //in another file const { pythonFileRunner } = require('../python/weather')  exports.fetchWeatherdata = (location) =&gt; {    //something like this â†“â†“â†“    data = pythonFileRunner(&quot;path/to/file/main.py&quot;, location)    return data } </code></pre> <p>Basically, I want to create a function that can run any given python file with or without arguments and return its output.<br> <strong>Please Note</strong>: I want to finish all the <code>async-await</code> stuff inside the <code>pythonFileRunner()</code> function. This function must return only the output, which I can modify according to my usecase</p> <p>If I am taking the wrong approach, please let me know in the comments.</p>"	2021-11-02 04:40:24.103 UTC	69806955	"<p>I have modified the fetchweatherdata function little to get what I wanted.</p> <pre><code>const { spawn } = require(&quot;child_process&quot;);  function pythonRunner(path, arguments) {     return new Promise((resolve, reject) =&gt; {         let buf = &quot;&quot;;         arguments.unshift(path)         const python = spawn(&quot;python&quot;, arguments);              python.stdout.on(&quot;data&quot;, (data) =&gt; {           buf += data;         });              python.stderr.on(&quot;data&quot;, (data) =&gt; {           console.error(`stderr: ${data}`);         });              python.on(&quot;close&quot;, (code) =&gt; {           if (code !== 0) {             return reject(`child process died with ${code}`);           }           const dataToSend = buf           return resolve(dataToSend);         });       }); }    //in any other file //first import the function  //how to use the function (async () =&gt; {   data = await pythonRunner(&quot;path/to/python/file&quot;, [&quot;arg1&quot;, &quot;arg2&quot;])   console.log(data) })() </code></pre>"			2021-11-02 07:54:41.123 UTC
69805464	javascript|python|child-process	How to create a generalized JavaScript function that can run python scripts and return data in json format if any?	"<h2>What I am currently able to do</h2> <pre><code>const { spawn } = require(&quot;child_process&quot;);  exports.fetchWeatherdata = (location) =&gt; {   console.log(&quot;DIR NAME DB&quot; + __dirname)   return new Promise((resolve, reject) =&gt; {     let buf = &quot;&quot;;     const python = spawn(&quot;python&quot;, [       __dirname + &quot;/weathergetter.py&quot;,       location.toString(),     ]);      python.stdout.on(&quot;data&quot;, (data) =&gt; {       buf += data;     });      python.stderr.on(&quot;data&quot;, (data) =&gt; {       console.error(`stderr: ${data}`);     });      python.on(&quot;close&quot;, (code) =&gt; {       if (code !== 0) {         return reject(`child process died with ${code}`);       }       const dataToSend = JSON.parse(buf.toString().replace(/\'/g, '&quot;'));       return resolve(dataToSend);     });   }); };   //in another file const { fetchWeatherdata } = require('../python/weather') exports.sendData = (req, res) =&gt; {     console.log(req.query)     console.log(req.params)      async function main() {         var wea = await fetchWeatherdata(req.params.loc);         // console.log(wea);         res.send(wea)     }     main() } </code></pre> <h2><br><br> What I want to achieve</h2> <pre><code>const { spawn } = require(&quot;child_process&quot;);  exports.pythonFileRunner = (pathToFile, arguments) =&gt; {    // some code goes here. This is where I need help    return &quot;output of the python file &quot; }  //in another file const { pythonFileRunner } = require('../python/weather')  exports.fetchWeatherdata = (location) =&gt; {    //something like this â†“â†“â†“    data = pythonFileRunner(&quot;path/to/file/main.py&quot;, location)    return data } </code></pre> <p>Basically, I want to create a function that can run any given python file with or without arguments and return its output.<br> <strong>Please Note</strong>: I want to finish all the <code>async-await</code> stuff inside the <code>pythonFileRunner()</code> function. This function must return only the output, which I can modify according to my usecase</p> <p>If I am taking the wrong approach, please let me know in the comments.</p>"	2021-11-02 04:40:24.103 UTC	69805548	"<p>It should be basically the same. Just replace</p> <pre><code>    const python = spawn(&quot;python&quot;, [       __dirname + &quot;/weathergetter.py&quot;,       location.toString(),     ]); </code></pre> <p>with</p> <pre><code>    const python = spawn(&quot;python&quot;, [       pathToFile,       ...arguments     ]); </code></pre>"			2021-11-02 04:56:11.447 UTC
69816819	javascript|python|pyqt|pyqt5|plotly	How to read value from Javascript in Python	"<p>I have a potly graph in a PyQt5 QWebEngine and I would like to be able to import the click points on python.</p> <p>This is not the complete code but the important pieces. I can already intercept the coordinates of the points through javascript code and insert in an alert on click, but I would like to be able to use them in Python.</p> <pre><code>     self.browser = QtWebEngineWidgets.QWebEngineView(self)     vbox.addWidget(self.browser)     vbox.setSpacing(0)     vbox.setContentsMargins(0, 0, 0, 0)           self.show_graph(input_dict)      def show_graph(self, input_dict):     # Initialize figure with 3 3D subplots     ...     #details of graph     ...     fig = go.FigureWidget(fig.to_dict())      self.browser.setHtml(fig.to_html(include_plotlyjs='cdn', post_script=&quot;document.getElementsByClassName('plotly-graph-div')[0].on('plotly_click', function(data){alert(data.points[0].x + '-' + data.points[0].y)});&quot;)) </code></pre> <p>So the javascript part of code works, but I would like the data available in python instead of the alert. How could I do?</p>"	2021-11-02 20:54:20.65 UTC	69817225	"<p>One possible solution is to use QWebChannel. The logic is to export a QObject that serves as a bridge.</p> <pre class=""lang-py prettyprint-override""><code>import json  import plotly.graph_objects as go  from PyQt5.QtCore import pyqtSlot, QFile, QIODevice, QObject from PyQt5.QtWidgets import QApplication, QVBoxLayout, QWidget from PyQt5.QtWebEngineWidgets import QWebEngineScript, QWebEngineView from PyQt5.QtWebChannel import QWebChannel   def get_webchannel_source():     file = QFile(&quot;:/qtwebchannel/qwebchannel.js&quot;)     if not file.open(QIODevice.ReadOnly):         return &quot;&quot;     content = file.readAll()     file.close()     return content.data().decode()   class Backend(QObject):     @pyqtSlot(str, name=&quot;handleClicked&quot;)     def handle_clicked(self, o):         py_obj = json.loads(o)         print(py_obj)   class Widget(QWidget):     def __init__(self, parent=None):         super().__init__(parent)          self.backend = Backend()          self.browser = QWebEngineView()          script = QWebEngineScript()         script.setName(&quot;create_connection&quot;)         script.setSourceCode(get_webchannel_source())         script.setInjectionPoint(QWebEngineScript.DocumentReady)         script.setWorldId(QWebEngineScript.MainWorld)         script.setRunsOnSubFrames(False)         self.browser.page().profile().scripts().insert(script)          channel = QWebChannel(self)         channel.registerObject(&quot;backend&quot;, self.backend)         self.browser.page().setWebChannel(channel)          vbox = QVBoxLayout(self)         vbox.addWidget(self.browser)         vbox.setSpacing(0)         vbox.setContentsMargins(0, 0, 0, 0)          self.browser.loadFinished.connect(print)          self.build_plot()      def build_plot(self):         trace = go.Heatmap(             z=[[1, 20, 30, 50, 1], [20, 1, 60, 80, 30], [30, 60, 1, -10, 20]],             x=[&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;],             y=[&quot;Morning&quot;, &quot;Afternoon&quot;, &quot;Evening&quot;],         )         data = [trace]         layout = go.Layout(title=&quot;Activity Heatmap&quot;)         fig = go.Figure(data=data, layout=layout)         fig = go.FigureWidget(fig.to_dict())          script = &quot;&quot;&quot;         window.backend = null;         window.onload = function(){             new QWebChannel(qt.webChannelTransport, function(channel) {                 window.backend = channel.objects.backend;             });         }         var elements = document.getElementsByClassName('plotly-graph-div');         if(elements.length &gt; 0){             var element = elements[0];             element.on(&quot;plotly_click&quot;, function(data){                 var point = data.points[0];                 if(window.backend != null){                     var json_str = JSON.stringify({x: point.x, y: point.y})                     window.backend.handleClicked(json_str);                 }             })         }         &quot;&quot;&quot;         html = fig.to_html(include_plotlyjs=&quot;cdn&quot;, post_script=script)         self.browser.setHtml(html)   def main():     app = QApplication([])      w = Widget()     w.resize(640, 480)     w.show()      app.exec_()   if __name__ == &quot;__main__&quot;:     main() </code></pre>"			2021-11-02 21:39:03.01 UTC
69827975	javascript|python|beautifulsoup	python scraping for javascript not working and specific data	"<p>to begin, i wanted to <strong>scrape</strong> this table that load from java script and i only want to <strong>scrape</strong> specific row of data such as base on Fund abbreviation or search base on that, but my basic script here is not working well. please help</p> <pre><code>from bs4 import BeautifulSoup from requests_html import HTMLSession session = HTMLSession() url = 'https://www.publicmutual.com.my/Our-Products/UT-Fund-Prices' r = session.get(url) r.html.render() soup=BeautifulSoup(r.html.html,'html.parser') table = soup.find('table', attrs={'class':'fundtable col-sm-12'}) print(table)  </code></pre> <p>how do i make this work and <strong>scrape</strong> information only certain rows that i wanted based on the fund name or fund abbreviation column?</p>"	2021-11-03 15:56:03.313 UTC	69848052	"<p>If you go in chromedevtools and check for the url that render the table you will see the html of the table as follow: <a href=""https://i.stack.imgur.com/NjxEu.png"" rel=""nofollow noreferrer"">HTML</a></p> <p>The website perform a post request to get the <a href=""https://i.stack.imgur.com/JIDhS.png"" rel=""nofollow noreferrer"">data</a></p> <p>If you need that your <strong>scraping</strong> application been fast you have to map the payload and scrapy with python-requests and bs4. If speed is not a problem you can use python-Selenium</p>"			2021-11-05 02:26:58.353 UTC
69833190	python|amazon-web-services|aws-lambda|aws-cdk	How to deploy Python AWS Lambda with its dependencies using Javascript AWS CDK?	"<p>I have an AWS CDK stack built using javascript. The Stack has multiple lambdas. Most of them are in javascript. I want to add one lambda in python. The python lambda works fine when I don't import external dependencies, but doesn't understand when I install them. I've tried installing the packages in a <code>package</code> folder or a <code>python</code> folder and zipping them as these articles suggested but didn't work:</p> <p><a href=""https://docs.aws.amazon.com/lambda/latest/dg/python-package.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/lambda/latest/dg/python-package.html</a> <a href=""https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/"" rel=""nofollow noreferrer"">https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/</a></p> <p>The error I'm getting is <code>&quot;Unable to import module 'py1': No module named 'x'&quot;</code> (x refer to any package name I'm trying to import)</p> <p>My javascript CDK library code is like this:</p> <pre class=""lang-js prettyprint-override""><code>// javascript lambda new lambda.Function(this, 'lambda-js1', {   functionName: `js1`,   code: lambda.Code.fromAsset('assets/lambdajs'),   handler: 'js1.handler',   runtime: lambda.Runtime.NODEJS_14_X, })  // python lambda new lambda.Function(this, 'lambda-py1', {   functionName: `py1`,   code: lambda.Code.fromAsset('assets/lambdapy'),   handler: 'py1.handler',   runtime: lambda.Runtime.PYTHON_3_8, }) </code></pre> <p>I installed the dependency in <code>assets/lambdapy</code> using</p> <pre><code>pip install x pip install --target ./package x pip install -t python/ x </code></pre> <p>I zipped them after</p> <p>My python code is in <code>assets/lambdapy/py1.py</code></p> <pre class=""lang-py prettyprint-override""><code># not sure how to import. none of the below worked import x import package.x import python.x  def handler(event, context):     return {          'statusCode': 200     } </code></pre> <p>Upon invocation of the python lambda, I get</p> <pre><code>{   &quot;errorMessage&quot;: &quot;Unable to import module 'py1': No module named 'x'&quot;,   &quot;errorType&quot;: &quot;Runtime.ImportModuleError&quot;,   &quot;stackTrace&quot;: [] } </code></pre>"	2021-11-04 00:21:10.633 UTC	70043527	"<p>My solution</p> <p>First, I installed the dependency twice (one to work on local machine and one to work on lambda) in <code>assets/lambdapylibs</code> using</p> <pre><code># to work on local machine pip install x  # to work on lambda. it has to be under python folder (assets/lambdapylibs/python) pip install --target ./python x </code></pre> <p>Second, I coded <code>assets/lambdapy/py1.py</code> and imported x normally</p> <pre class=""lang-py prettyprint-override""><code>import x  def handler(event, context):     return {          'statusCode': 200     } </code></pre> <p>Third, I added a layer in my javascript CDK library. The layer has the python dependencies</p> <pre class=""lang-js prettyprint-override""><code>// javascript lambda new lambda.Function(this, 'lambda-js1', {   functionName: `js1`,   code: lambda.Code.fromAsset('assets/lambdajs'),   handler: 'js1.handler',   runtime: lambda.Runtime.NODEJS_14_X, })  // python libs layer const layerPythonLibs = new lambda.LayerVersion(this, 'layer-python-libs', {   code: lambda.Code.fromAsset('assets/lambdapylibs'),   compatibleRuntimes: [lambda.Runtime.PYTHON_3_8], })  // python lambda new lambda.Function(this, 'lambda-py1', {   functionName: `py1`,   code: lambda.Code.fromAsset('assets/lambdapy'),   handler: 'py1.handler',   runtime: lambda.Runtime.PYTHON_3_8,   layers: [layerPythonLibs], }) </code></pre>"			2021-11-20 05:42:38.273 UTC
69833190	python|amazon-web-services|aws-lambda|aws-cdk	How to deploy Python AWS Lambda with its dependencies using Javascript AWS CDK?	"<p>I have an AWS CDK stack built using javascript. The Stack has multiple lambdas. Most of them are in javascript. I want to add one lambda in python. The python lambda works fine when I don't import external dependencies, but doesn't understand when I install them. I've tried installing the packages in a <code>package</code> folder or a <code>python</code> folder and zipping them as these articles suggested but didn't work:</p> <p><a href=""https://docs.aws.amazon.com/lambda/latest/dg/python-package.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/lambda/latest/dg/python-package.html</a> <a href=""https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/"" rel=""nofollow noreferrer"">https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/</a></p> <p>The error I'm getting is <code>&quot;Unable to import module 'py1': No module named 'x'&quot;</code> (x refer to any package name I'm trying to import)</p> <p>My javascript CDK library code is like this:</p> <pre class=""lang-js prettyprint-override""><code>// javascript lambda new lambda.Function(this, 'lambda-js1', {   functionName: `js1`,   code: lambda.Code.fromAsset('assets/lambdajs'),   handler: 'js1.handler',   runtime: lambda.Runtime.NODEJS_14_X, })  // python lambda new lambda.Function(this, 'lambda-py1', {   functionName: `py1`,   code: lambda.Code.fromAsset('assets/lambdapy'),   handler: 'py1.handler',   runtime: lambda.Runtime.PYTHON_3_8, }) </code></pre> <p>I installed the dependency in <code>assets/lambdapy</code> using</p> <pre><code>pip install x pip install --target ./package x pip install -t python/ x </code></pre> <p>I zipped them after</p> <p>My python code is in <code>assets/lambdapy/py1.py</code></p> <pre class=""lang-py prettyprint-override""><code># not sure how to import. none of the below worked import x import package.x import python.x  def handler(event, context):     return {          'statusCode': 200     } </code></pre> <p>Upon invocation of the python lambda, I get</p> <pre><code>{   &quot;errorMessage&quot;: &quot;Unable to import module 'py1': No module named 'x'&quot;,   &quot;errorType&quot;: &quot;Runtime.ImportModuleError&quot;,   &quot;stackTrace&quot;: [] } </code></pre>"	2021-11-04 00:21:10.633 UTC	69837300	"<p>Use the <code>aws-cdk.aws-lambda-python</code> L2 construct, it installs the dependencies automatically.</p> <p>Here's the documentation:</p> <p><a href=""https://docs.aws.amazon.com/cdk/api/latest/docs/aws-lambda-python-readme.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/cdk/api/latest/docs/aws-lambda-python-readme.html</a></p> <p>Typescript example form the docs above:</p> <pre class=""lang-js prettyprint-override""><code>import * as lambda from &quot;@aws-cdk/aws-lambda&quot;; import { PythonFunction } from &quot;@aws-cdk/aws-lambda-python&quot;;  new PythonFunction(this, 'MyFunction', {   entry: '/path/to/my/function', // required   index: 'my_index.py', // optional, defaults to 'index.py'   handler: 'my_exported_func', // optional, defaults to 'handler'   runtime: lambda.Runtime.PYTHON_3_6, // optional, defaults to lambda.Runtime.PYTHON_3_7 }); </code></pre> <p>It will install dependencies from a poetry file, a pipfile, or requiremenets.txt</p>"			2021-11-04 09:52:47.903 UTC
69833190	python|amazon-web-services|aws-lambda|aws-cdk	How to deploy Python AWS Lambda with its dependencies using Javascript AWS CDK?	"<p>I have an AWS CDK stack built using javascript. The Stack has multiple lambdas. Most of them are in javascript. I want to add one lambda in python. The python lambda works fine when I don't import external dependencies, but doesn't understand when I install them. I've tried installing the packages in a <code>package</code> folder or a <code>python</code> folder and zipping them as these articles suggested but didn't work:</p> <p><a href=""https://docs.aws.amazon.com/lambda/latest/dg/python-package.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/lambda/latest/dg/python-package.html</a> <a href=""https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/"" rel=""nofollow noreferrer"">https://aws.amazon.com/premiumsupport/knowledge-center/lambda-import-module-error-python/</a></p> <p>The error I'm getting is <code>&quot;Unable to import module 'py1': No module named 'x'&quot;</code> (x refer to any package name I'm trying to import)</p> <p>My javascript CDK library code is like this:</p> <pre class=""lang-js prettyprint-override""><code>// javascript lambda new lambda.Function(this, 'lambda-js1', {   functionName: `js1`,   code: lambda.Code.fromAsset('assets/lambdajs'),   handler: 'js1.handler',   runtime: lambda.Runtime.NODEJS_14_X, })  // python lambda new lambda.Function(this, 'lambda-py1', {   functionName: `py1`,   code: lambda.Code.fromAsset('assets/lambdapy'),   handler: 'py1.handler',   runtime: lambda.Runtime.PYTHON_3_8, }) </code></pre> <p>I installed the dependency in <code>assets/lambdapy</code> using</p> <pre><code>pip install x pip install --target ./package x pip install -t python/ x </code></pre> <p>I zipped them after</p> <p>My python code is in <code>assets/lambdapy/py1.py</code></p> <pre class=""lang-py prettyprint-override""><code># not sure how to import. none of the below worked import x import package.x import python.x  def handler(event, context):     return {          'statusCode': 200     } </code></pre> <p>Upon invocation of the python lambda, I get</p> <pre><code>{   &quot;errorMessage&quot;: &quot;Unable to import module 'py1': No module named 'x'&quot;,   &quot;errorType&quot;: &quot;Runtime.ImportModuleError&quot;,   &quot;stackTrace&quot;: [] } </code></pre>"	2021-11-04 00:21:10.633 UTC	69833259	"<p>Create a Lambda layers for Python. Package all your dependencies in zip file and upload it to the layer created. Please refer the link for the same <a href=""https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html</a></p>"			2021-11-04 00:31:33.64 UTC
69850507	javascript|python|html|beautifulsoup|python-requests	"How do I extract link from website if after parsing in Python, the download link is not extracted. And also the href attribute is javascript:void(0)"	"<p>I am trying to code a sort of YouTube downloader that takes a YouTube video url, uses requests and BeautifulSoup to scrape the download link of that video from an online video downloader.</p> <p><strong>Website used</strong> - <a href=""https://www.y2mate.com/"" rel=""nofollow noreferrer"">https://www.y2mate.com/</a></p> <p><strong>Approach:</strong> nifty feature of above website that allows the following: Use <code>https://www.youtubepp.com/</code> followed by the video link, say <code>https://www.youtube.com/watch?v=dQw4w9WgXcQ</code>.<br /> Doing so takes you to the website, with the YouTube video already entered in the search bar.<br /> This thus allows using this kind of special link in the <code>requests</code> module to extract the required links.</p> <p><strong>Issues:</strong></p> <ol> <li><p>Inspecting the download link shows href like so (for 480p download): <code>&lt;a href=&quot;javascript:void(0)&quot; rel=&quot;nofollow&quot; type=&quot;button&quot; class=&quot;btn btn-success&quot; data-toggle=&quot;modal&quot; data-target=&quot;#progress&quot; data-ftype=&quot;mp4&quot; data-fquality=&quot;480&quot;&gt; &lt;i class=&quot;glyphicon glyphicon-download-alt&quot;&gt;&lt;/i&gt;&amp;nbsp; Download &lt;/a&gt;</code></p> <p>How do I extract the link from this <code>href=&quot;javascript:void(0)</code>?<br /> I looked into <a href=""https://stackoverflow.com/questions/41771745/use-python-to-click-href-of-type-javascriptvoid0-to-retrieve-tar-file"">this</a> SO question but it doesnt help me because I cant find the onClick attribute</p> </li> <li><p>Apart from this issue, i ran the following code to extract the html of the page:</p> <pre class=""lang-py prettyprint-override""><code>from bs4 import BeautifulSoup import requests  DOMAIN = &quot;https://www.youtubepp.com/&quot; URL = &quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;  download_url = DOMAIN + URL  params = {   &quot;hl&quot;: &quot;en&quot;    # I needed this because by default I was not getting English }  res = requests.get(download_url, params=params) soup = BeautifulSoup(res.text, &quot;html.parser&quot;)  print(soup.prettify()) </code></pre> </li> </ol> <p>On inspecting the output, I find that the part which has the links I need is not even displayed. How do I then succesfully extract the download link if it does not even come after parsing with beautifulsoup.</p> <p><strong>Alternate attempt:</strong></p> <p>Due to the first issue, I tried using a different website from which to extract the download link.<br /> In this website, we can use <code>https://www.ssyoutube.com/</code> followed by the <code>watch?v=dQw4w9WgXcQ</code> part of the video link(<a href=""http://youtube.com/watch?v=dQw4w9WgXcQ"" rel=""nofollow noreferrer"">http://youtube.com/watch?v=dQw4w9WgXcQ</a>)</p> <p>This does solve the first issue, but the second issue is also found by using this website</p> <hr /> <p><strong>EDIT 3</strong> (After @Lima's response)</p> <p>I tried the without regex approach but it gives the same error, the reason was apparent by your debug messages</p> <pre><code>Jim Yosef - Link [NCS Release] DEBUG: DEBUG:  (&lt;- need to bee the value of var k__id) 1: {'quality': '1080p HFR', 'type': 'mp4'} 2: {'quality': '720p HFR', 'type': 'mp4'} 3: {'quality': '480', 'type': 'mp4'} 4: {'quality': '360', 'type': 'mp4'} 5: {'quality': '240p', 'type': 'mp4'} 6: {'quality': '144p', 'type': 'mp4'} 7: {'quality': '144p', 'type': '3gp'} 8: {'quality': '128', 'type': 'mp3'} 9: {'quality': '128', 'type': 'mp3'} Select stream [1-9]: 3 Traceback (most recent call last):   File &quot;c:\Users\rayya\Other\Web_Scraping\Youtube Download\sol2.py&quot;, line 71, in &lt;module&gt;     toDownload = download.attrs[&quot;href&quot;] AttributeError: 'NoneType' object has no attribute 'attrs' </code></pre> <p>So for some reason the <code>.getText()</code> method returns <code>None</code> (I believe it return None cuz of that output). Which tells me it was the same problem last time, <code>.getText()</code> would return <code>None</code> and then <code>regex</code> would not find any matches.</p> <p>However, because you said we're looking for the <code>var k_id</code> value. I tried using my 'fix' to get the <code>&lt;script&gt;</code> tag and then used regex on that to get the value of <code>var k_id</code>.</p> <pre><code>myScript = soup.findAll(&quot;script&quot;, {&quot;type&quot;: &quot;text/javascript&quot;})[0]   # instead of using the .find().getText() method print(&quot;DEBUG:&quot;, myScript)    # this worked, I skipped it in the output cuz of clutter  getId = re.compile(r'(?&lt;=var k__id = &quot;)\w*(?=&quot;;)') tmpID = getId.findall(myScript)[0] print(&quot;DEBUG:&quot;, tmpID, &quot;(&lt;- need to bee the value of var k__id)&quot;) </code></pre> <p>Unfortunately gave the following error:</p> <pre><code>Traceback (most recent call last):   File &quot;c:\Users\rayya\Other\Web_Scraping\Youtube Download\main.py&quot;, line 62, in &lt;module&gt;     tmpID = getId.findall(myScript)[0]   File &quot;C:\Users\rayya\AppData\Local\Programs\Python\Python39\lib\re.py&quot;, line 241, in findall     return _compile(pattern, flags).findall(string) TypeError: expected string or bytes-like object </code></pre> <p><strong>BUT BUT BUT...</strong><br /> I printed <code>type(myScript)</code> and got <code>&lt;class 'bs4.element.Tag'&gt;</code><br /> All I had to do now was <code>myScript = str(myScript)</code> and then everything worked like a charm. It was like music to my ears, but to my eyes. (Dont ask :) lol)</p> <hr /> <p><strong>EDIT</strong> (After attempting @Lima 's solution)</p> <p>I am getting the following error (I used the video id that you commented:</p> <pre><code>Youtube video id: 9iHM6X6uUH8 Jim Yosef - Link [NCS Release] Traceback (most recent call last):   File &quot;c:\Users\rayya\Other\Web_Scraping\Youtube Download\main.py&quot;, line 58, in &lt;module&gt;     tmpID = re.findall(getId, soup.find(&quot;script&quot;, {&quot;type&quot;: &quot;text/javascript&quot;}).getText())[0] IndexError: list index out of range </code></pre> <p><strong>EDIT 2</strong> (examining the error)</p> <p>I noticed that in the line <code>tmpID = re.findall(getId, soup.find(&quot;script&quot;,(&quot;type&quot;: &quot;text/javascript&quot;}).getText())[0]</code> we are looking for something to do with <code>&quot;script&quot;</code> and <code>&quot;type text/javascript&quot;</code></p> <p>So after the declaration of <code>soup</code>, I printed <code>soup.prettify()</code>. <a href=""https://pastebin.com/THcs98ni"" rel=""nofollow noreferrer"">Here</a> is the output of that and you notice in line 273 is the thing we are looking for, but it was not being found for some reason</p> <p>I tried changing the line to <code>tmpID = soup.findAll(&quot;script&quot;, {&quot;type&quot;: &quot;text/javascript&quot;})[0]</code> by pretty much copying the syntax of the <code>links</code> variable declaration just below. <strong>And it worked</strong></p> <p><strong>BUT...</strong><br /> It now gives a whole new error</p> <pre><code>Traceback (most recent call last):   File &quot;c:\Users\rayya\Other\Web_Scraping\Youtube Download\main.py&quot;, line 91, in &lt;module&gt;     toDownload = download.attrs[&quot;href&quot;] AttributeError: 'NoneType' object has no attribute 'attrs' </code></pre> <p>So again, I printed <code>soup.prettify()</code> but this time after the second declaration of <code>soup</code>. <a href=""https://pastebin.com/KP3D5q5F"" rel=""nofollow noreferrer"">This</a> is the output. And I have no idea how to proceed any further</p>"	2021-11-05 08:41:58.603 UTC	69855429	"<p><strong>EDIT</strong>: I avoided regex:</p> <pre><code>#!/usr/bin/python3 from bs4 import BeautifulSoup from urllib import parse import requests, json#, re  Id = parse.quote(input(&quot;Youtube video id: &quot;)) # Like: 9iHM6X6uUH8  res = requests.post(&quot;https://www.y2mate.com/mates/en115/analyze/ajax&quot;,                   headers={                       &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,                       &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;,                       &quot;Alt-Used&quot;: &quot;www.y2mate.com&quot;,                       &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;,                       &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;,                       &quot;Sec-Fetch-Site&quot;: &quot;same-origin&quot;                       },                   data=&quot;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D{}&amp;q_auto=0&amp;ajax=1&quot;.format(Id)                   ) data = json.loads(res.content) if not data['status'] == 'success':     raise RuntimeError(f&quot;data['status'] == {data['status']}&quot;) soup = BeautifulSoup(data['result'], &quot;html.parser&quot;) if not soup.findChild().attrs['class'] == ['tabs', 'row']:     raise FileNotFoundError(&quot;Video does not exist&quot;) name = soup.find('div', {'class': ['caption', 'text-left']}).findChild('b').getText() print(name) myScript = soup.find('script', {'type':'text/javascript'}).getText() print('DEBUG:', myScript) #getId = re.compile(r'(?&lt;=var k__id = &quot;)\w*(?=&quot;;)') tmpID = myScript[70+len(name):70+24+len(name)] #re.findall(getId, myScript)[0] print('DEBUG:', tmpID, '(&lt;- need to bee the value of var k__id)') links = soup.findAll('a', {'class': [&quot;btn&quot;, &quot;btn-success&quot;]}) streams = [] for i, link in enumerate(links):     stream = {         'quality': link.attrs['data-fquality'],         'type': link.attrs['data-ftype']         }     streams.append(stream)     print(f'{i+1}: {stream}')  myStream = streams[int(input(f&quot;Select stream [1-{len(streams)}]: &quot;))-1]  res = requests.post(&quot;https://www.y2mate.com/mates/convert&quot;,                     headers={                         &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,                         &quot;X-Requested-With&quot;: &quot;XMLHttpRequest&quot;,                         &quot;Alt-Used&quot;: &quot;www.y2mate.com&quot;,                         &quot;Sec-Fetch-Dest&quot;: &quot;empty&quot;,                         &quot;Sec-Fetch-Mode&quot;: &quot;cors&quot;,                         &quot;Sec-Fetch-Site&quot;: &quot;same-origin&quot;                         },                     data=&quot;type=youtube&amp;_id={verify}&amp;v_id={vid}&amp;ajax=1&amp;token=&amp;ftype={type}&amp;fquality={quality}&quot; \                         .format(**myStream, verify=tmpID, vid=Id)                     )  data = json.loads(res.content) if not data['status'] == 'success':     raise RuntimeError(f&quot;data['status'] == {data['status']}&quot;) soup = BeautifulSoup(data['result'], &quot;html.parser&quot;) download = soup.find('a', {'class': ['btn', 'btn-success', 'btn-file']}) toDownload = download.attrs['href']  print('Here is the download link:') print(toDownload) </code></pre> <p>I finded out this with chrome devtools:</p> <ul> <li>I opened the network tab</li> <li>Pasted a yt url</li> <li>Clicked a download button</li> <li>And I saw 2 POST requests (to what url, with headers, date, and respons)</li> </ul>"			2021-11-05 15:11:59.163 UTC
69873856	python|python-3.x|web-scraping|python-requests	How to parse Google custom search javascript output in python?	"<p>I am trying to fetch some articles from <a href=""https://aclanthology.org/"" rel=""nofollow noreferrer"">ACL website</a> based on the keywords as input. The website is using google custom search API and the output of the API is a javascript object.</p> <p>How I can parse the returned object in python and fetch the article name, URL, and abstract of the research paper from the object.</p> <p>The script I am using to fetch articles :</p> <pre><code>import requests   params = (     ('rsz', 'filtered_cse'),     ('num', '10'),     ('hl', 'en'),     ('source', 'gcsc'),     ('gss', '.com'),     ('cselibv', 'cc267ab8871224bd'),     ('cx', '000299513257099441687:fkkgoogvtaw'),     ('q', 'multi-label text classification'),     ('safe', 'off'),     ('cse_tok', 'AJvRUv1dd6NHqw5GKAoRSg3lLILE:1636278007905'),     ('sort', ''),     ('exp', 'csqr,cc,4618906'),     ('callback', 'google.search.cse.api12760'), )  response = requests.get('https://cse.google.com/cse/element/v1', params=params)  print(response.headers['Content-Type']) # 'application/javascript; charset=utf-8' </code></pre> <p>output looks like this:</p> <pre><code>'/*O_o*/\ngoogle.search.cse.api12760({\n  &quot;cursor&quot;: {\n    &quot;currentPageIndex&quot;: 0,\n    &quot;estimatedResultCount&quot;: &quot;21600&quot;,\n    &quot;moreResultsUrl&quot;: &quot;http://www.google.com/cse?oe=utf8&amp;ie=utf8&amp;source=uds&amp;q=multi-label+text+classification&amp;safe=off&amp;sort=&amp;cx=000299513257099441687:fkkgoogvtaw&amp;start=0&quot;,\n    &quot;resultCount&quot;: &quot;21,600&quot;,\n    &quot;searchResultTime&quot;: &quot;0.16&quot;,\n    &quot;pages&quot;: [\n      {\n        &quot;label&quot;: 1,\n        &quot;start&quot;: &quot;0&quot;\n      },\n      {\n        &quot;label&quot;: 2,\n        &quot;start&quot;: &quot;10&quot;\n      },\n      {\n        &quot;label&quot;:  </code></pre> <p>Although the output in the network tab of chrome is JSON while initiating the <a href=""https://aclanthology.org/search/?q=multi-label%20text%20classification"" rel=""nofollow noreferrer"">search command</a>:</p> <p><a href=""https://i.stack.imgur.com/muqso.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/muqso.png"" alt=""enter image description here"" /></a></p> <p>How can I get articles along with their link from the js object in python?</p>"	2021-11-07 15:33:23.51 UTC	69874797	"<p><code>response.text</code> gives you string and if you remove <code>/*O_o*/\ngoogle.search.cse.api12760(</code> at the beginning, and <code>);</code> at the end then you will have normal <code>JSON</code> which you can convert to Python dictionary using <code>json.loads()</code> - and then you can use <code>[key]</code> to get data from dictionary.</p> <hr /> <p>Minimal working example</p> <pre><code>import requests import json  params = (     ('rsz', 'filtered_cse'),     ('num', '10'),     ('hl', 'en'),     ('source', 'gcsc'),     ('gss', '.com'),     ('cselibv', 'cc267ab8871224bd'),     ('cx', '000299513257099441687:fkkgoogvtaw'),     ('q', 'multi-label text classification'),     ('safe', 'off'),     ('cse_tok', 'AJvRUv1dd6NHqw5GKAoRSg3lLILE:1636278007905'),     ('sort', ''),     ('exp', 'csqr,cc,4618906'),     ('callback', 'google.search.cse.api12760'), )  response = requests.get('https://cse.google.com/cse/element/v1', params=params)  start = len('''/*O_o*/ google.search.cse.api12760(''') end = len(');')  text = response.text[start:-end] data = json.loads(text)  #print(data)  for item in data['results']:     #print('keys:', item.keys())     print('title:', item['title'])     print('url:', item['url'])     #print('content:', item['content'])     #print('title:', item['titleNoFormatting'])     #meta = item['richSnippet']['metatags']     #if 'author' in meta:     #    print('author:', meta['author'])     print('---') </code></pre> <p>Result:</p> <pre><code>title: Large-Scale &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;Label Text Classification&lt;/b&gt; on EU Legislation - ACL ... url: https://www.aclweb.org/anthology/P19-1636/ --- title: &lt;b&gt;Label&lt;/b&gt;-Specific Document Representation for &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;Label Text&lt;/b&gt; ... url: https://www.aclweb.org/anthology/D19-1044/ --- title: Initializing neural networks for hierarchical &lt;b&gt;multi&lt;/b&gt;-&lt;b&gt;label text&lt;/b&gt; ... url: https://www.aclweb.org/anthology/W17-2339 --- title: TaxoClass: Hierarchical &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;Label Text Classification&lt;/b&gt; Using Only ... url: https://www.aclweb.org/anthology/2021.naacl-main.335/ --- title: NeuralClassifier: An Open-source Neural Hierarchical &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;label&lt;/b&gt; ... url: https://www.aclweb.org/anthology/P19-3015/ --- title: Extreme &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;Label&lt;/b&gt; Legal &lt;b&gt;Text Classification&lt;/b&gt;: A Case Study in EU ... url: https://www.aclweb.org/anthology/W19-2209 --- title: Hierarchical Transfer Learning for &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;label Text Classification&lt;/b&gt; ... url: https://www.aclweb.org/anthology/P19-1633/ --- title: Global Model for Hierarchical &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;Label Text Classification&lt;/b&gt; - ACL ... url: https://www.aclweb.org/anthology/I13-1006 --- title: Hierarchical &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;label Classification&lt;/b&gt; of &lt;b&gt;Text&lt;/b&gt; with Capsule Networks ... url: https://www.aclweb.org/anthology/P19-2045 --- title: Improving Pretrained Models for Zero-shot &lt;b&gt;Multi&lt;/b&gt;-&lt;b&gt;label Text&lt;/b&gt; ... url: https://www.aclweb.org/anthology/2021.naacl-main.83.pdf --- </code></pre> <hr /> <p><strong>BTW:</strong></p> <p>If you display <code>item.keys()</code> then you should see what else you can get:</p> <pre><code>'cacheUrl', 'clicktrackUrl', 'content', 'contentNoFormatting',  'title', 'titleNoFormatting', 'formattedUrl', 'unescapedUrl', 'url',  'visibleUrl', 'richSnippet', 'breadcrumbUrl' </code></pre> <p>Or you can use for-loop to display all keys and values</p> <pre><code>for item in data['results']:     for key, value in item.items():         print(f'{key}: {value}')         print('---')     print('===================================') </code></pre> <p>Some of them may have sub dictionaries - like <code>item['richSnippet']['metatags']['author']</code></p>"			2021-11-07 17:17:42.363 UTC
69886411	python|python-3.x	is there a way in python to unpack a list similar to spread operator in javascript?	"<p>This might not be the perfect example (i know this is easier to do with list comprehension), but is there a way to unpack the child list created from split() at the time of its creation in lambda function if we were to use map method? Please also don't add a separate function outside map just to flat the list.</p> <pre><code>data = ['oh my god','that is','super duper'] list(map(lambda i: i.split(), data)) &gt;&gt;&gt; [['oh', 'my', 'god'], ['that', 'is'], ['super', 'duper']] </code></pre> <p>expected result is a flattened list like this. ['oh', 'my', 'god', 'that', 'is', 'super', 'duper']</p>"	2021-11-08 15:58:59.717 UTC	69886490	"<p>A bit of a &quot;hacky&quot; solution but this will work</p> <pre><code>sum(list(map(lambda i: i.split(), data)), []) </code></pre>"			2021-11-08 16:05:05.513 UTC
69910264	javascript|python|html|selenium|scrapy	Python scrapy: how to retrive content that javascript dynamically fill into HTML	"<p>In the following web page: <a href=""https://englishteststore.net/test/listening/conversation/hard/test60/index.html"" rel=""nofollow noreferrer"">https://englishteststore.net/test/listening/conversation/hard/test60/index.html</a>, there are ten quizzes, only when you submit your choice by pressing the button 'SUBMIT', you can see the next quiz by pressing the button 'CONTINUE'(After pressing 'SUBMIT' button, the text content on this button will update to 'CONTINUE'). What I want to do is to get all choices (as well as listening scripts) of those 10 quizzes at one time. I have checked with Chrome web develop tool and found that during 'SUBMIT' button pressing, there's no any other request for getting content of next quiz, so I guess all content of those 10 quizzes are retrieved when this page first loaded and stored in javascript. As this page is also dynamically loaded, so I use selenium and scrapy for getting whole HTML content. Is there anyone knows how to get content of all the 10 quizzes at one time?</p>"	2021-11-10 08:54:43.41 UTC	69910504	<p>iSpring tools are not so easy to fool...answer and question are stored (encripted) here:</p> <pre><code>&lt;script&gt;         var data = &quot;eyJkIjp7IlQiOiJFbmdsaXNoI.... </code></pre>			2021-11-10 09:11:31.603 UTC
69914080	javascript|python|arrays|json|type-conversion	How to convert a python list of tuples to an array in JavaScript?	"<p>I am trying to make a website using Flask, where I pass in HTML canvas data to a database and then use that data in another route. When I retrieve the data from the database, it's in the form of a list, here's an example of that list with only one element :</p> <pre><code>[(1, 'circle', '{&quot;pencil&quot;:[{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:346,&quot;endy&quot;:105,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:344,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:341,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:333,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:330,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:109,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;}],&quot;line&quot;:[],&quot;rectangle&quot;:[],&quot;circle&quot;:[],&quot;eraser&quot;:[]}', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAHCCAYAAACwm0waAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3W2SI9lVBuDr/vD8gOgmAsLegNkGrB22Ke4KQjEiAAAECBAgQIEBAcbcHCBAgQIAAAQIECCQQ+D/vr4ThKs0KewAAAABJRU5ErkJggg==', '10', '10', '100', '100')] </code></pre> <p>Following several previous answers given in this type of question, I tried the following approach, first I used <code>json.dumps()</code>:</p> <p><strong>In Flask:</strong></p> <pre><code>files = json.dumps(files) return render_template(&quot;edit.html&quot;, files=files) </code></pre> <p><strong>In <code>edit.html</code></strong>, I pass it into a function simply as:</p> <pre><code>&lt;button id=&quot;show&quot; onclick=&quot;loadImages(`{{ files }}`)&quot;&gt;View&lt;/button&gt; </code></pre> <p><strong>Finally in <code>edit.js</code>,</strong> I try to read it in an array as follows:</p> <pre><code>function loadImages(sources) {     var canvas = document.getElementById(&quot;paint&quot;);         var ctx = canvas.getContext(&quot;2d&quot;);      console.log(sources);          sources = JSON.parse(sources);     console.log(typeof(sources));      for(var i = 0; i &lt; sources.length; i++) {         ctx.drawImage(sources[i][3], sources[i][4], sources[i][5], sources[i][6], sources[i][7]);          }   } </code></pre> <p>But this returns an error:</p> <pre><code>Uncaught SyntaxError: Unexpected token p in JSON at position 18     at JSON.parse (&lt;anonymous&gt;)     at loadImages (edit.js:16)     at HTMLButtonElement.onclick (edit:39) </code></pre> <p>The output of the <code>console.log(sources)</code> in the <code>loadImages</code> function is :</p> <pre><code>[[1, &quot;circle&quot;, &quot;{&quot;pencil&quot;:[{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:346,&quot;endy&quot;:105,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:344,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:341,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:333,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:330,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:326,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:326,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:322,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:319,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:317,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:315,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:314,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:312,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:311,&quot;endy&quot;:105,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:310,&quot;endy&quot;:106,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:308,&quot;endy&quot;:106,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:307,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:306,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:304,&quot;endy&quot;:109,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:302,&quot;endy&quot;:110,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:301,&quot;endy&quot;:111,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},{&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:109,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;}],&quot;line&quot;:[],&quot;rectangle&quot;:[],&quot;circle&quot;:[],&quot;eraser&quot;:[]}&quot;, &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAHCCAYAAACwm0waAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3W2SI9lVBuDr/vD8gOgmAsLegNkGrB22ARuAgAimDT/G022ItCuH7LRUkkpS3vPxTITDMK5Snvu8N1VvZ6eyfjX8Q4AAAQIECBAgQIBAeIFfhZ/QgAQIECBAgAABAgQIDMXdJiBAgAABAgQIECCQQEBxTxCSEQkQIECAAAECBAgo7vYAAQIECBAgQIAAgQQCinuCkIxIgAABAgQIECBAQHG3BwgQIECAAAECBAgkEFDcE4RkRAIECBAgQIAAAQKKuz1AgAABAgQIECBAIIGA4p4gJCMSIECAAAECBAgQUNztAQIECBAgQIAAAQIJBBT3BCEZkQABAgQIECBAgIDibg8QIECAAAECBAgQSCCguCcIyYgECBAgQIAAAQIEFHd7gAABAgQIECBAgEACAcU9QUhGJECAAAECBAgQIKC42wMECBAgQIAAAQIEEggo7glCMiIBAgQIECBAgAABxd0eIECAAAECBAgQIJBAQHFPEJIRCRAgQIAAAQIECCju9gABAgQIECBAgACBBAKKe4KQjEiAAAECBAgQIEBAcbcHCBAgQIAAAQIECCQQUNwThGREAgQIECBAgAABAoq7PUCAAAECBAgQIEAggYDiniAkIxIgQIAAAQIECBBQ3O0BAgQIECBAgAABAgkEFPcEIRmRAAECBAgQIECAgOJuDxAgQIAAAQIECBBIIKC4JwjJiAQIECBAgAABAgQUd3uAAAECBAgQIECAQAIBxT1BSEYkQIAAAQIECBAgoLjbAwQIECBAgAABAgQSCCjuCUIyIgECBAgQIECAAAHF3R4gQIAAAQIECBAgkEBAcU8QkhEJECBAgAABAgQIKO72AAECBAgQIECAAIEEAop7gpCMSIAAAQIECBAgQEBxtwcIECBAgAABAgQIJBBQ3BOEZEQCBAgQIECAAAECirs9QIAAAQIECBAgQCCBgOKeICQjEiBAgAABAgQIEFDc7QECBAgQIECAAAECCQQU9wQhGZEAAQIECBAgQICA4m4PECBAgAABAgQIEEggoLgnCMmIBAgQIECAAAECBBR3e4AAAQIECBAgQIBAAgHFPUFIRiRAgAABAgQIECCguNsDBAgQIECAAAECBBIIKO4JQjIiAQIECBAgQIAAAcXdHiBAgAABAgQIECCQQEBxTxCSEQkQIECAAAECBAgo7vYAAQIECBAgQIAAgQQCinuCkIxIgAABAgQIECBAQHG3BwgQIECAAAECBAgkEFDcE4RkRAIECBAgQIAAAQKKuz1AgAABAgQIECBAIIGA4p4gJCMSIECAAAECBAgQUNztAQIECBAgQIAAAQIJBBT3BCEZkQABAgQIECBAgIDibg8QIECAAAECBAgQSCCguCcIyYgECBAgQIAAAQIEFHd7gAABAgQIECBAgEACAcU9QUhGJECAAAECBAgQIKC42wMECBAgQIAAAQIEEggo7glCMiIBAgQIECBAgAABxd0eIECAAAECBAgQIJBAQHFPEJIRCRAgQIAAAQIECCju9gABAgQIECBAgACBBAKKe4KQjEiAAAECBAgQIEBAcbcHCBAgQIAAAQIECCQQUNwThGREAgQIECBAgAABAoq7PUCAAAECBAgQIEAggYDiniAkIxIgQIAAAQIECBBQ3O0BAgQIECBAgAABAgkEFPcEIRmRAAECBAgQIECAgOJuDxAgQIAAAQIECBBIIKC4JwjJiAQIECBAgAABAgQUd3uAAAECBAgQIECAQAIBxT1BSEYkQIAAAQIECBAgoLjbAwQIECBAgAABAgQSCCjuCUIyIgECBAgQIECAAAHF3R4gQIAAAQIECBAgkEBAcU8QkhEJECBAgAABAgQIKO72AAECBAgQIECAAIEEAop7gpCMSIAAAQIECBAgQEBxtwcIECBAgAABAgQIJBBQ3BOEZEQCBAgQIECAAAECirs9QIAAAQIECBAgQCCBgOKeICQjEiBAgAABAgQIEFDc7QECBAgQIECAAAECCQQU9wQhGZEAAQIECBAgQICA4m4PECBAgAABAgQIEEggoLgnCMmIBAgQIECAAAECBBR3e4AAAQIECBAgQIBAAgHFPUFIRiRAgAABAgQIECCguNsDBAgQIECAAAECBBIIKO4JQjIiAQIECBAgQIAAAcXdHiBAgAABAgQIECCQQEBxTxCSEQkQIECAAAECBAgo7vYAAQIECBAgQIAAgQQCinuCkIxIgAABAgQIECBAQHG3BwgQ6CLwxzHGke95X8cYH7vgWicBAgQIPF/gyB9iz1+NIxAgQODPAj+OMT4FwfjfMca7ILMYgwABAgQSCyjuicMzOgECJwVeK+1HlOifxxgfdpMtV/vfy4sAAQIECNwggg==&quot;, &quot;10&quot;, &quot;10&quot;, &quot;100&quot;, &quot;100&quot;]] </code></pre> <p>I tried multiple approaches to get this done, but this was the closest I could reach to what I want, how do I proceed to correct this?</p>"	2021-11-10 13:24:59.663 UTC	69921343	"<p>I found few problems in this code - all with template:</p> <ol> <li><p>template in flask escapes data (to make it safer) so using <code>{{ file }}</code> it creates HTML with</p> <pre><code>[[1, &amp;#34;circle&amp;#34;, &amp;#34;{\&amp;#34;pencil\&amp;#34;:[ </code></pre> <p>You can see it in browser if you use <code>Show Page Source</code> (<code> Ctrl+U</code>).</p> <p>It needs <code>{{ file|safe }}</code> to create correct HTML</p> <pre><code>[[1, &quot;circle&quot;, &quot;{\&quot;pencil\&quot;:[  </code></pre> </li> <li><p>it doesn't need ticks in <code>loadImages( ``...`` )</code></p> </li> <li><p>because <code>files</code> puts string with <code>&quot; &quot;</code> so <code>loadImage</code> has to be in <code>' '</code></p> <pre><code>onclick='loadImages({{ files|safe }})' </code></pre> </li> <li><p>browser treats textÂ from <code>files</code> as normal code so it parses data at loading and it doesn't need <code>JSON.parse()</code></p> </li> <li><p>to draw image you have to create <code>Image</code> and assign data to <code>.src</code></p> <pre><code>     var img = new Image();      img.src = sources[i][3];       ctx.drawImage(img, ...) </code></pre> </li> </ol> <hr /> <p>Minimal working code</p> <p><strong>EDIT:</strong></p> <p>You don't have to use <code>json.dumps(data)</code> but <code>{{ data|tojson }}</code></p> <p>Eventually you can use <code>{{ data|safe }}</code> but it will need to change some <code>&quot; &quot;</code> into <code>' '</code>.</p> <pre class=""lang-py prettyprint-override""><code>from flask import Flask, request, render_template_string import json  app = Flask(__name__)  data = [(1, 'circle',          '{&quot;pencil&quot;:[\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:346,&quot;endy&quot;:105,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:344,&quot;endy&quot;:104,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:341,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:333,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:330,&quot;endy&quot;:103,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:338,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:107,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;},\              {&quot;startx&quot;:346,&quot;starty&quot;:105,&quot;endx&quot;:336,&quot;endy&quot;:109,&quot;thick&quot;:2,&quot;color&quot;:&quot;#000000&quot;}],\           &quot;line&quot;:[],&quot;rectangle&quot;:[],&quot;circle&quot;:[],&quot;eraser&quot;:[]\          }',          'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAAAAACoWZBhAAAAMklEQVR4nEXNwQkAMBACwfFI/y2bxwXia8FFUwF1pCCNJTIIwaD04ctsKRyaldI/9i8u1iwOE6FA880AAAAASUVORK5CYII=',          '10', '10', '10', '10' )]  @app.route('/', methods=['GET', 'POST']) def index():     text = json.dumps(data)     return render_template_string(''' &lt;script&gt; function loadImages(sources) {     console.log(sources);      var canvas = document.getElementById(&quot;paint&quot;);         var ctx = canvas.getContext(&quot;2d&quot;);          for(var i = 0; i &lt; sources.length; i++) {         var data = sources[i]         console.log(data[3]);         var img = new Image();         img.src = data[3];         ctx.drawImage(img, data[4], data[5]); //, data[6], data[7]);     } } &lt;/script&gt;  &lt;body&gt; &lt;h1&gt;files&lt;/h1&gt; &lt;pre&gt;{{ files }}&lt;/pre&gt; &lt;h1&gt;files|safe&lt;/h1&gt; &lt;pre&gt;{{ files|safe }}&lt;/pre&gt; &lt;h1&gt;files|tojson&lt;/h1&gt; &lt;pre&gt;{{ files|tojson }}&lt;/pre&gt; &lt;hr&gt;  &lt;canvas id=&quot;paint&quot; width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/canvas&gt;&lt;br/&gt;  &lt;button id=&quot;show&quot; onclick='loadImages({{ files|safe &lt;button id=&quot;show&quot; onclick='loadImages({{ files|safe }})'&gt;View files|safe&lt;/button&gt;  &lt;button id=&quot;show&quot; onclick='loadImages({{ data|tojson }})'&gt;View data|tojson&lt;/button&gt;  &lt;button id=&quot;show&quot; onclick=&quot;loadImages({{ data|safe }})&quot;&gt;View data|safe&lt;/button&gt;  &lt;/body&gt; ''', files=text, data=data) if __name__ == '__main__':     #app.debug = True      app.run() </code></pre> <p>For your <code>data:image</code> I get error <code>image broken</code> so I use my small icon 10x10</p> <p><a href=""https://i.stack.imgur.com/ANdPp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ANdPp.png"" alt=""enter image description here"" /></a></p> <p>but I don't know why but sometimes I have to click button two times to see image.</p>"			2021-11-10 23:16:53.103 UTC
69916231	javascript|python|csv|web-scraping|beautifulsoup	Python: Download list of CSVs inside of javascript script in web	"<p>I want to download a list of csv with a python script.</p> <p><a href=""http://meteo.navarra.es/estaciones/descargardatos_estacion.cfm?IDEstacion=251"" rel=""nofollow noreferrer"">http://meteo.navarra.es/estaciones/descargardatos_estacion.cfm?IDEstacion=251</a></p> <p>I've used this code to locate the file urls</p> <pre><code>import urllib.request as urllib2 from bs4 import BeautifulSoup  # Fetch URL url =  'http://meteo.navarra.es/estaciones/descargardatos_estacion.cfm?  IDEstacion=251' request = urllib2.Request(url) request.add_header('Accept-Encoding', 'utf-8')  # Response has UTF-8 charset header, # and HTML body which is UTF-8 encoded response = urllib2.urlopen(request)  # Parse with BeautifulSoup soup = BeautifulSoup(response,&quot;html.parser&quot;) print(soup) </code></pre> <p>Those CSVs urls are inside a javascripts script</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt; &lt;!--  var d = new dTree('d'); d.add(0,-1,'&lt;b&gt;Ficheros de datos&lt;/b&gt;'); d.add(1,0,'AncÃƒÂ­n INTIA','','','','/js/dtree/img/folder.gif');             d.add(10,1,'Datos diarios','','','','/js/dtree/img/folder.gif');                            d.add(1000,10,'AncÃƒÂ­n INTIA_2001.csv','/_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2001.csv');                                    d.add(1001,10,'AncÃƒÂ­n INTIA_2002.csv','/_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2002.csv');                                    d.add(1002,10,'AncÃƒÂ­n INTIA_2003.csv','/_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2003.csv');                                    d.add(1003,10,'AncÃƒÂ­n INTIA_2004.csv','/_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2004.csv');                      --&gt; </code></pre>  <p>I've tried to use request and soup to find the dTree but i cant get to access the tree attributes.</p>"	2021-11-10 15:45:50.91 UTC	69917198	"<p>beautifulsoup will only return the contents of a script element as text, you will need to extract the entries yourself from inside. This could be done using a regular expression to extract the <code>.add</code> lines. Each text line could be converted into a Python list using <code>literal_eval</code> and then you could take the last element.</p> <p>For example:</p> <pre><code>import urllib.request as urllib2 from bs4 import BeautifulSoup import re from ast import literal_eval  # Fetch URL url = 'http://meteo.navarra.es/estaciones/descargardatos_estacion.cfm?IDEstacion=251'  request = urllib2.Request(url) request.add_header('Accept-Encoding', 'utf-8')  # Response has UTF-8 charset header, and HTML body which is UTF-8 encoded response = urllib2.urlopen(request)  # Parse with BeautifulSoup soup = BeautifulSoup(response,&quot;html.parser&quot;)  re_add = re.compile(&quot;add\((.*?\.csv')\);&quot;) csv_files = []  for script in soup.find_all('script', type=&quot;text/javascript&quot;):     if script.string and '.csv' in script.string:         for entry in re_add.findall(script.string):             csv_files.append(literal_eval(f'[{entry}]')[-1])  print('\n'.join(csv_files)) </code></pre> <p>Giving you entries:</p> <pre class=""lang-none prettyprint-override""><code>/_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2001.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2002.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2003.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2004.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2005.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2006.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2007.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2008.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2009.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2010.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2011.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2012.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2013.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2014.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2015.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2016.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2017.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2018.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2019.csv /_data/datos_estaciones/estacion_251/datos diarios/ancÃƒÂ­n intia_2020.csv </code></pre>"			2021-11-10 16:52:10.83 UTC
69922092	javascript|python|selenium	"How to adapt a Selenium Javascript ""sendKeysWithEmojis"" code to Python"	"<p>I just found a possible solution to a sendKeysWithEmojis issue I am having and it is written for Selenium in Javascript and I would like to translate it to python so I can test in in my infrastructure and be able to . The solution is the following:  <a href=""https://stackoverflow.com/a/60478726/12474157"">https://stackoverflow.com/a/60478726/12474157</a></p> <pre><code> async sendKeysWithEmojis(element, text) {         const script = `var elm = arguments[0],         txt = arguments[1];elm.value += txt;         elm.dispatchEvent(new Event('keydown', {bubbles: true}));         elm.dispatchEvent(new Event('keypress', {bubbles: true}));         elm.dispatchEvent(new Event('input', {bubbles: true}));         elm.dispatchEvent(new Event('keyup', {bubbles: true}));`;         await this.driver.executeScript(script, element, text);     } </code></pre> <p>To execute:</p> <pre><code>const element = await this.driver.findElement(selector); await sendKeysWithEmojis(element, ' This one shall pass '); </code></pre>"	2021-11-11 01:07:47.31 UTC	69922751	"<p>Frankly, I don't understand what is the problem.</p> <p>I took first answer from your <a href=""https://stackoverflow.com/a/60478726/12474157"">link</a> and it works for me with <code>Chrome</code> and with text <code>' This one shall pass '</code> on page Google.com</p> <pre><code>from selenium import webdriver  JS_ADD_TEXT_TO_INPUT = &quot;&quot;&quot;   var elm = arguments[0], txt = arguments[1];   elm.value += txt;   elm.dispatchEvent(new Event('change'));   &quot;&quot;&quot;  browser = webdriver.Chrome() browser.get(&quot;https://google.com/&quot;) elem = browser.find_element_by_name('q')  text = ' This one shall pass '  browser.execute_script(JS_ADD_TEXT_TO_INPUT, elem, text) </code></pre> <p>But if you really need version from JavaScript then you have to only change text in <code>JS_ADD_TEXT_TO_INPUT</code></p> <pre><code>from selenium import webdriver  JS_ADD_TEXT_TO_INPUT = &quot;&quot;&quot;         var elm = arguments[0],         txt = arguments[1];elm.value += txt;         elm.dispatchEvent(new Event('keydown', {bubbles: true}));         elm.dispatchEvent(new Event('keypress', {bubbles: true}));         elm.dispatchEvent(new Event('input', {bubbles: true}));         elm.dispatchEvent(new Event('keyup', {bubbles: true})); &quot;&quot;&quot;  browser = webdriver.Chrome() browser.get(&quot;https://google.com/&quot;) elem = browser.find_element_by_name('q')  text = ' This one shall pass '  browser.execute_script(JS_ADD_TEXT_TO_INPUT, elem, text)  </code></pre> <hr /> <p><strong>EDIT:</strong></p> <p>Or maybe your problem is to put it in function</p> <pre><code>from selenium import webdriver  def sendKeysWithEmojis(element, text):     JS_ADD_TEXT_TO_INPUT = &quot;&quot;&quot;             var elm = arguments[0],             txt = arguments[1];elm.value += txt;             elm.dispatchEvent(new Event('keydown', {bubbles: true}));             elm.dispatchEvent(new Event('keypress', {bubbles: true}));             elm.dispatchEvent(new Event('input', {bubbles: true}));             elm.dispatchEvent(new Event('keyup', {bubbles: true}));     &quot;&quot;&quot;      browser.execute_script(JS_ADD_TEXT_TO_INPUT, elem, text)  # --- main ---  browser = webdriver.Chrome() browser.get(&quot;https://google.com/&quot;)  elem = browser.find_element_by_name('q')  text = ' This one shall pass '  sendKeysWithEmojis(elem, text) </code></pre> <hr /> <p>OR maybe problem is only on <code>Windows</code> - I tested on <code>Linux</code>.</p> <p>OR maybe problem is <code>Chrome/ChromeDriver</code> - I tested on <code>Chorme/ChromeDriver 95.0.4638.69</code></p>"			2021-11-11 03:13:38.297 UTC
69937205	javascript|python|django	How to call a Python function with vanilla Javascript in a Django app	"<p>I am working on a Django app and I am trying to call a Python function in <code>views.py</code> on a button click. I am trying to call this function using vanilla JavaScript if possible, because I am very unfamiliar with JavaScript and would like to try to keep things simple. The idea would be to display the text returned by the <code>hello()</code> function by using JavaScript to create a new <code>div</code> after the button is clicked. I believe I can do that part, but I have not been able to find any information on calling the Python function. I have the JavaScript function alerting with the text for now. Here is a sample of my code so far:</p> <p>./views.py</p> <pre><code>def hello():   return &quot;Hello world&quot; </code></pre> <p>./static/js/index.js</p> <pre><code>document.getElementById('button').addEventListener('click', printHello);  function printHello() {   var text = // call Python function   alert(text); }; </code></pre>"	2021-11-12 02:19:22.247 UTC	69937477	"<p>It's as simple as this.</p> <p>views.py</p> <pre class=""lang-py prettyprint-override""><code>def hello():     return &quot;Hello World&quot; </code></pre> <p>urls.py</p> <pre class=""lang-py prettyprint-override""><code>urlpatterns = [     path('Hello/', views.hello, name='hello') ] </code></pre> <p>javascript</p> <pre class=""lang-js prettyprint-override""><code>fetch('http://localhost:3000/Hello')   .then(data =&gt; console.log(data)); //Hello World </code></pre>"			2021-11-12 03:07:13.603 UTC
69943128	javascript|python|timestamp	Why are python and javascript showing different timestamp for the same date	"<p>Below is the javscript code that I am using to get the timestamp of a particular date I got it from <a href=""https://stackoverflow.com/a/9873379/2481350"">here</a></p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var myDate = ""12-11-2021""; myDate = myDate.split(""-""); var newDate = new Date(myDate[2], myDate[1] - 1, myDate[0]); console.log(newDate.getTime());</code></pre> </div> </div> </p> <p>The output is <code>1636655400000</code></p> <p>and below is the python code I am using to get the timestamp I got it from <a href=""https://stackoverflow.com/q/64156493/2481350"">the first comment and the accepted answer </a></p> <pre><code>datetime.strptime('2021-11-12', '%Y-%m-%d').timestamp()*1000 </code></pre> <p>The outout <code>1636675200000.0</code></p> <p>Why are the two timestamps different ?</p>"	2021-11-12 12:42:45.41 UTC	69943523	"<p>You are calling the Date constructor with these parameters:</p> <pre class=""lang-js prettyprint-override""><code>var newDate = new Date('2021', '11', '12'); </code></pre> <p>Which is basically representing the date <code>2021-12-12</code> and NOT <code>2021-11-12</code> as you would expect.</p> <p>The reason is that in JS the month is zero-based, meaning <code>0</code> is January up to <code>11</code> for December.</p>"			2021-11-12 13:16:19.77 UTC
69958822	javascript|python|webassembly	Is there a JavaScript-based Python?	"<p>I have a lot of JavaScript I need to write. I can do that, but I have some Python already which does something similar. I'd much prefer to adapt that and have it run within the browser.</p> <p>There's the C-based reference implementation, and there's Jython in Java. Is there a JavaScript implementation along the same lines?</p> <p>I have looked, but it may be that my google-fu has failed me. And it seems like something that <em>ought</em> to exist. Have I missed it?</p>"	2021-11-13 22:35:14.65 UTC	69958869	"<p>You may be looking for something like<code>WebAssembly</code>, used for running non JavaScript code in the browser. <code>pyodide</code> would be a good starting point</p> <ul> <li><a href=""https://github.com/pyodide/pyodide"" rel=""nofollow noreferrer"">https://github.com/pyodide/pyodide</a></li> <li><a href=""https://medium.com/swlh/python-in-web-easy-5f7de3813055"" rel=""nofollow noreferrer"">https://medium.com/swlh/python-in-web-easy-5f7de3813055</a></li> </ul>"			2021-11-13 22:44:26.737 UTC
69994695	javascript|python|python-3.x	Using Python3 to modify javascript efficiently	"<p>Is there any <em>more</em> efficient method of editing javascript using python like with native function like push to edit the text? I currently do this:</p> <pre class=""lang-py prettyprint-override""><code>output += f&quot;var {newArraySTR()} = ['templateARRAY']&quot; for i in functions:   output.replace(&quot;'templateARRAY'&quot;,f&quot;'{i}','tepmlateARRAY'&quot;) </code></pre> <p>And it's proven much harder to cleanly modify the javascript.</p>"	2021-11-16 18:57:32.367 UTC	69995384	"<p>In this specific example, I would not rebuild the array that way. I would use json.dumps to just give me something more js friendly.</p> <p>I would start with something like:</p> <pre><code>import json  functions = [&quot;one&quot;, &quot;two&quot;] variable_name = &quot;foo&quot; variable_value = json.dumps(functions)  js_output = f''' var {variable_name} = {variable_value}; {variable_name}.forEach(item =&gt; {{     console.log(item); }}); '''  print(js_output) </code></pre> <p>Giving:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var foo = [""one"", ""two""]; foo.forEach(item =&gt; {     console.log(item); });</code></pre> </div> </div> </p> <p>I might also look into a more formal template facility like jinja if this did not work for you.</p>"			2021-11-16 20:00:39.287 UTC
70005246	python|selenium|selenium-webdriver	"Python selenium scrape pages that refresh with javascript, unable to get elements from the new javascript page"	"<p>Hello i'd like to <strong>scrape</strong> a webpage</p> <p><a href=""https://i.stack.imgur.com/dpD2C.png"" rel=""nofollow noreferrer"">enter image description here</a> as you can see, when you go on page 2, the url dosnt change and when i try to find an element from here, it dosnt work and display this error: Message: no such element: Unable to locate element:</p> <p>When i try to select it in page 1, this works but not on page 2 with :</p> <pre><code>restaurant = driver.find_element_by_xpath(&quot;(//div[@class='OhCyu'])[&quot; + numberxd +&quot;]&quot;) </code></pre> <p>same code on page2 dosnt work</p> <p>Would really appreciate your help, Thanks</p>"	2021-11-17 13:26:45.76 UTC	70006241	"<p>You shouldn't use xpath, CSS_Selector might be a better method. Without seeing the HTML, it's hard to see the issue. Maybe the page isn't fully loaded, did you tried to put a <code>time.sleep(10)</code>?</p> <p>You can find every CSS selector <a href=""https://www.w3schools.com/cssref/css_selectors.asp"" rel=""nofollow noreferrer"">here</a></p> <p>With a CSS Selector, it should look like this, but without seeing this part of the HTML, I can't be more precise.</p> <pre><code>restaurant = driver.find_element_by_css_selector('div[@class=&quot;OhCyu&quot;]') </code></pre>"			2021-11-17 14:30:44.223 UTC
70048656	javascript|python|django	"get list of items, which were passed from python file (Django) to html, from html to Javascript, which is on the same page"	"<p>my python code:</p> <pre><code>def index(request):     body=list(Body.objects.all())     loads=list(Load.objects.all().order_by('length'))     badLoads=[]     goodLoads=[]     for load in loads:         if load.length&gt;body[0].length or load.width&gt;body[0].width or load.mass&gt;body[0].mass:             badLoads.append(load)         else:             goodLoads.append(load)      goodLoadsLength=len(goodLoads)     context={         'body':body[0],         'loads':loads,         'badLoads':badLoads,         'goodLoads':goodLoads,         'goodLoadsLength':goodLoadsLength,     }     return render(request,'index.html',context) </code></pre> <p>html code:</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt;     &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;/head&gt; &lt;body&gt;     &lt;div&gt;         {% if body %}             &lt;p&gt;body length: {{ body.length }}, body width: {{ body.width }}, body height: {{ body.height }}, body max mass, which can be taken: {{ body.mass }}&lt;/p&gt;         {% else %}             &lt;p&gt;No parameters found&lt;/p&gt;         {% endif %}     &lt;/div&gt;     &lt;div&gt;         {% if loads %}             &lt;ul&gt;             {% for load in loads %}                 &lt;li&gt;load id: {{ load.id }}, load length:{{ load.length }}, load width: {{load.width}}, load height: {{load.height}}, load mass: {{load.mass}}&lt;/li&gt;             {% endfor %}             &lt;/ul&gt;         {% else %}             &lt;p&gt;No loads are available.&lt;/p&gt;         {% endif %}     &lt;/div&gt;     &lt;div&gt;         {% if goodLoads %}             &lt;ul&gt;             {% for goodLoad in goodLoads %}                 &lt;li&gt;load id: {{ goodLoad.id }}, load length:{{ goodLoad.length }}, load width: {{goodLoad.width}}, load height: {{goodLoad.height}}, load mass: {{goodLoad.mass}}&lt;/li&gt;             {% endfor %}             &lt;/ul&gt;         {% else %}             &lt;p&gt;No loads are available.&lt;/p&gt;         {% endif %}     &lt;/div&gt;     &lt;div&gt;         {% if loads %}         &lt;ul&gt;         {% for badLoad in badLoads %}             &lt;li&gt;load id: {{ badLoad.id }}, load length:{{ badLoad.length }}, load width: {{badLoad.width}}, load height: {{badLoad.height}}, load mass: {{badLoad.mass}}&lt;/li&gt;         {% endfor %}         &lt;/ul&gt;         {% else %}             &lt;p&gt;No loads are available.&lt;/p&gt;         {% endif %}     &lt;/div&gt;     &lt;script&gt;         const loadsLength=&quot;{{goodLoadsLength}}&quot;;         const goodLoads=&quot;{{goodLoads}}&quot;     &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>I would like to do a simple table with the help of javascript on the same page. I know I can do a table through html, but  I would like to do it through Javascript, on the same page. But somehow I can see in script simple variables, like this one:</p> <pre><code>const loadsLength=&quot;{{goodLoadsLength}}&quot;; </code></pre> <p>But I cannot do list of items. The number of items can be different. So it should be going through for or forEach loop, but script does not give me any chance to get the members of a list in case of python(or array in case of javascript) into javascript block. If I try:</p> <pre><code>const goodLoads=&quot;{{goodLoads}}&quot;;  console.log(goodLoads); </code></pre> <p>It gives me:</p> <pre><code>[&amp;lt;Load: Load object (1)&amp;gt;] </code></pre> <p>Which seems like it sees the object in array. But when I try:</p> <pre><code> console.log(goodLoads[0].length); </code></pre> <p>or</p> <pre><code>foodLoads.forEach(item=&gt;{     console.log(item.length) }) </code></pre> <p>It gives me: the object is undefined. I tried couple of more approaches like with for loop with for object in objects, or normal for loops with the step++ way. But the object is undefined.</p> <p>I guess I don't understand how to get the list/array from html to script block. It should be seen as normal array of items. But I cannot get them. Can somebody pinpoint me to the answer? Thank you.</p>"	2021-11-20 18:15:54.533 UTC	70049217	"<p>Use the Django built-in <code>json_script</code> (see documentation <a href=""https://docs.djangoproject.com/en/3.2/ref/templates/builtins/#json-script"" rel=""nofollow noreferrer"">here</a>) template tag to safely output a python object as JSON wrapped in a script tag. Then in your main JS script, you can parse the JSON object and do all standard operations with it.</p> <p>In your template:</p> <pre><code>{{ goodLoads|json_script:&quot;goodLoads&quot;}} </code></pre> <p>In your main JS file:</p> <pre><code> let goodLoads = JSON.parse(document.getElementById('goodLoads').textContent); </code></pre> <p>Another issue is that you're passing QuerySet objects into the context variable goodLoads. It won't be very useful to have those objects in your JS file, because you cannot access the object field values. For that turn the QuerySet object into a dict before passing it to the context.</p> <p>For example using queryset.values(),</p> <pre><code>def index(request):     body=list(Body.objects.all())     loads=list(Load.objects.all().order_by('length'))     badLoads=[]     goodLoads=[]     for load in loads:         if load.length&gt;body[0].length or load.width&gt;body[0].width or load.mass&gt;body[0].mass:             badLoads.append(load.values()) #converting to dict here         else:             goodLoads.append(load.values()) #converting to dict here      goodLoadsLength=len(goodLoads)     context={         'body':body[0],         'loads':loads,         'badLoads':badLoads,         'goodLoads':goodLoads,         'goodLoadsLength':goodLoadsLength,     }     return render(request,'index.html',context)  </code></pre>"			2021-11-20 19:30:49.647 UTC
70050448	python	Chain methods in Python like JavaScript?	<p>Hello I am mainly a JavaScript developer learning some Python and I was doing the isPalindrome algorithm</p> <p>I wrote this in JS</p> <pre><code>function isPalindrome(string) {  const reverseStr = string.split('').reverse().join('');   return string === reverseStr; }  console.log(isPalindrome('abcdcba')) </code></pre> <p>But I had a hard time replicating this logic in python</p> <p>Here is what i have so far</p> <pre><code>def isPalindrome(string):  reverseStr = list(string)  reverseStr.reverse()  print(reverseStr)  # return string == reverseStr </code></pre> <p>print(isPalindrome('abcdcba'))</p> <p>How can I chain methods in Python like JavaScript? Thanks</p>	2021-11-20 22:43:56.977 UTC	70050476	<p>This is very simple to do in python. Try this:</p> <pre><code>string == string[::-1] </code></pre> <p>So for your function you can just use:</p> <pre><code>def isPalindrome(string):     return string == string[::-1] </code></pre>			2021-11-20 22:50:06.967 UTC
70050448	python	Chain methods in Python like JavaScript?	<p>Hello I am mainly a JavaScript developer learning some Python and I was doing the isPalindrome algorithm</p> <p>I wrote this in JS</p> <pre><code>function isPalindrome(string) {  const reverseStr = string.split('').reverse().join('');   return string === reverseStr; }  console.log(isPalindrome('abcdcba')) </code></pre> <p>But I had a hard time replicating this logic in python</p> <p>Here is what i have so far</p> <pre><code>def isPalindrome(string):  reverseStr = list(string)  reverseStr.reverse()  print(reverseStr)  # return string == reverseStr </code></pre> <p>print(isPalindrome('abcdcba'))</p> <p>How can I chain methods in Python like JavaScript? Thanks</p>	2021-11-20 22:43:56.977 UTC	70050489	"<p>After reverse the list of chars you need to rejoin using <code>join</code> method of strings in Python, so</p> <pre><code>def isPalindrome(string):     reverseStr = list(string)     reverseStr.reverse()     return string == ''.join(reverseStr) </code></pre> <p>It works, but the easier way to check for palindromes as highlighted by <a href=""https://stackoverflow.com/a/70050476/3558077"">porrrwal</a> is <code>string == string[::-1]</code></p>"			2021-11-20 22:52:03.843 UTC
70083564	javascript|python|html|django	Django how to turn a python string into a javascript string and render it to the website	"<p>I'm working with Django and in my views I'm sending my page a string of HTML:</p> <pre><code> &lt;p&gt;&lt;code&gt;202&lt;/code&gt; &lt;/p&gt;&lt;p&gt;hello world/p&gt; &lt;ul&gt; &lt;li&gt;Goodbye&lt;strong&gt;&lt;em&gt;next&lt;/em&gt;&lt;/strong&gt; or &lt;strong&gt;&lt;em&gt;happy&lt;/em&gt;&lt;/strong&gt; to go on.&lt;/li&gt; &lt;/ul&gt; byebye &lt;p&gt;&amp;lt;3&lt;/p&gt; </code></pre> <p>However, it gets sent to the page as:</p> <pre><code>    var html_smallest_steps =           &amp;lt;p&amp;gt;&amp;lt;code&amp;gt;202&amp;lt;/code&amp;gt; &amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;hello world/p&amp;gt; &amp;lt;ul&amp;gt; &amp;lt;li&amp;gt;Goodbye&amp;lt;strong&amp;gt;&amp;lt;em&amp;gt;next&amp;lt;/em&amp;gt;&amp;lt;/strong&amp;gt; or &amp;lt;strong&amp;gt;&amp;lt;em&amp;gt;happy&amp;lt;/em&amp;gt;&amp;lt;/strong&amp;gt; to go on.&amp;lt;/li&amp;gt; &amp;lt; </code></pre> <p>and I get a console error on my page: <code>Uncaught SyntaxError: Unexpected token '&amp;'</code></p> <p>My views.py is:</p> <pre><code>def displayDict(request):     html_ss =  &quot;&quot;&quot;      &lt;p&gt;&lt;code&gt;202&lt;/code&gt; &lt;/p&gt;&lt;p&gt;hello world/p&gt;     &lt;ul&gt; &lt;li&gt;Goodbye&lt;strong&gt;&lt;em&gt;next&lt;/em&gt;&lt;/strong&gt; or &lt;strong&gt;&lt;em&gt;happy&lt;/em&gt;&lt;/strong&gt; to go on.      &lt;/li&gt; &lt;/ul&gt; byebye &lt;p&gt;&amp;lt;3&lt;/p&gt;     &quot;&quot;&quot;     return render(request, 'chatStream.html',     {&quot;html_sss&quot;: html_ss}) </code></pre> <p>And chatStream.html is:</p> <pre><code>&lt;p id=&quot;chatLine&quot;&gt;get this working!!&lt;/p&gt;      &lt;script&gt;     var html_smallest_steps = {{html_smallest_steps}}     }   setTimeout(myTimeout2, 2000)   function myTimeout2() {   document.getElementById(&quot;chatLine&quot;).innerHTML = &quot;html_ss  &quot; + html_ss; } &lt;/script&gt; </code></pre>"	2021-11-23 15:30:10.193 UTC	70083639	"<pre><code>from django.utils.safestring import marksafe  def displayDict(request):     ...     return render(request, 'chatStream.html',     {&quot;html_sss&quot;: mark_safe(html_ss)}) </code></pre> <p>Or you can use <code>safe</code> tag in your template. <a href=""https://docs.djangoproject.com/en/3.2/ref/templates/builtins/#std:templatefilter-safe"" rel=""nofollow noreferrer"">https://docs.djangoproject.com/en/3.2/ref/templates/builtins/#std:templatefilter-safe</a></p>"			2021-11-23 15:35:31.5 UTC
70101757	javascript|python	What's the equivalent in python for javascript's every()?	"<p>I have this code i'm translating from js to python and i have this:</p> <pre><code>if( this.risultato.every((v, i) =&gt; v === this.atteso[i]) ){} </code></pre> <p>whats the equivalent in python for the <code>every();</code> function and if it's not builtin how do i create a similar function? For the arrow function part i came onto this solution:</p> <pre><code>lambda v, i: v == self.atteso[i] </code></pre>"	2021-11-24 19:15:55.84 UTC	70101820	"<pre><code>if all(self.risultato[i] == self.atteso[i] for i in len(self.risultato)): </code></pre> <p>seems like a direct translation.  Or,</p> <pre><code>if all( i==j for (i,j) in zip(self.risultato, self.atteso)): </code></pre>"			2021-11-24 19:22:01.97 UTC
70101757	javascript|python	What's the equivalent in python for javascript's every()?	"<p>I have this code i'm translating from js to python and i have this:</p> <pre><code>if( this.risultato.every((v, i) =&gt; v === this.atteso[i]) ){} </code></pre> <p>whats the equivalent in python for the <code>every();</code> function and if it's not builtin how do i create a similar function? For the arrow function part i came onto this solution:</p> <pre><code>lambda v, i: v == self.atteso[i] </code></pre>"	2021-11-24 19:15:55.84 UTC	70101788	"<p>the equivalent  in python is <code>all</code> function:</p> <pre><code>mylist = [True, True, True] x = all(mylist) </code></pre> <p>Or:</p> <pre><code>def all(iterable):     for element in iterable:         if not element:             return False     return True </code></pre>"			2021-11-24 19:18:58.607 UTC
70108040	javascript|python|google-maps|web-scraping|beautifulsoup	Is it possible to trigger Google Maps api's JavaScript click listener then scrape the data via using Python?	"<p><a href=""http://ihe.istanbul/satis-noktalari"" rel=""nofollow noreferrer"">http://ihe.istanbul/satis-noktalari</a></p> <p>I would like to scrape the points(latLng) data of the targeted company's dealerships on maps which uses Google Maps api.</p> <p>I tried to scrape data by using requests_html to render JavaScript on the page of website, then I used to reach the element by using BeautifulSoup.</p> <pre><code>from bs4 import BeautifulSoup from requests_html import HTMLSession  # create an HTML Session object session = HTMLSession()  # Use the object above to connect to needed webpage resp = session.get(&quot;http://ihe.istanbul/satis-noktalari&quot;)  # Run JavaScript code on webpage resp.html.render()  soup = BeautifulSoup(resp.html.html, &quot;lxml&quot;)  html_content = soup.contents[1]  _script = html_content.find_all(&quot;script&quot;)[23] print(_script) </code></pre> <p>Therefore, the print lead me to a way that I can see the desired area where I can find the latLng point values if the click event is triggered.</p> <p>However, the website's url cannot renew itself and put a tag for selected zone of the city.</p> <p>To explain myself in a clear way, I created two pictures that show exactly what I want to do:</p> <p>This output shows the result which there is no selected city:</p> <p><img src=""https://i.stack.imgur.com/wA6dW.png"" alt=""This output shows the result which there is no selected city"" /></p> <p>This is the triggered click event which shows the desired result:</p> <p><img src=""https://i.stack.imgur.com/IAN88.png"" alt=""This is the triggered click event which shows the desired result"" /></p> <p>If url could be updated after trigger JavaScript event via Google Maps api, I could use the url. How can I trigger it via using Python, or how can I scrape the triggered data by using Python? The Python code I provide shows non triggered event.</p>"	2021-11-25 08:37:39.683 UTC	70445406	"<p>Given that the page dynamically issue POST XHR requests using the options <code>value</code> attribute value, within the <code>select</code> dropdown. You can extract those values, mimic the POST requests page does, then use regex to extract the lat, lon from the responses. The following shows the logic for grabbing the centre specified co-ordinates.</p> <pre><code>import requests, re  headers = {     'Content-Type': 'application/x-www-form-urlencoded',     'User-Agent': 'Mozilla/5.0',     'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',     'Referer': 'http://ihe.istanbul/satis-noktalari',     'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8', }  results = {}  with requests.Session() as s:          s.headers = headers     r = s.get('http://ihe.istanbul/satis-noktalari')     soup = bs(r.content, 'lxml')     options = {i.text:i['value'] for i in soup.select('[name=ilceID] option:nth-child(n+2)')}           for k, v in options.items():          data = {'ilceID': v, 'SatisBufe': '1'}          r = s.post('http://ihe.istanbul/satis-noktalari', data=data)                  lat, lon = re.search(r'google.maps.LatLng\(([\d.]+),\s?([\d.]+)\)', r.text).groups()                  print(k, f'lat = {lat}', f'lon = {lon}')                  results[k] = [lat, lon] </code></pre>"			2021-12-22 07:12:48.637 UTC
70136492	javascript|python	How to translate JavaScript ('object') into Python?	"<p>I am working on converting some JavaScript code into Python.</p> <p>There is an if condition in the JavaScript that looks something like: <code>if (typeof f === 'object')</code> and then a series of actions are taken if this condition evaluates to true.</p> <p>In this case <code>f</code> would be something like: <code>f = { 'fields': [&quot;user_id&quot;, &quot;date_started&quot;, &quot;date_ended&quot;] }</code></p> <p>In this case <code>f</code> is a <code>dict</code>, but it might not always be the case.</p> <p>I know that in JavaScript nearly everything is considered an object. What would be the equivalent constraint to <code>object</code> in Python?</p>"	2021-11-27 16:07:46.017 UTC	70136532	"<p>you can use <code>type</code> method for getting type of variables in python:</p> <pre class=""lang-py prettyprint-override""><code>if (type(f) is dict) </code></pre> <p>Actually, js objects in python are dictionaries! you can see more details from this <a href=""https://stackoverflow.com/questions/2225038/determine-the-type-of-an-object"">link</a>.</p>"			2021-11-27 16:13:26.537 UTC
70136492	javascript|python	How to translate JavaScript ('object') into Python?	"<p>I am working on converting some JavaScript code into Python.</p> <p>There is an if condition in the JavaScript that looks something like: <code>if (typeof f === 'object')</code> and then a series of actions are taken if this condition evaluates to true.</p> <p>In this case <code>f</code> would be something like: <code>f = { 'fields': [&quot;user_id&quot;, &quot;date_started&quot;, &quot;date_ended&quot;] }</code></p> <p>In this case <code>f</code> is a <code>dict</code>, but it might not always be the case.</p> <p>I know that in JavaScript nearly everything is considered an object. What would be the equivalent constraint to <code>object</code> in Python?</p>"	2021-11-27 16:07:46.017 UTC	70136615	"<p>In JavaScript <code>typeof f == 'object'</code> is true when all of the following is <strong>not</strong> true:</p> <ul> <li><code>f</code> is <code>undefined</code>: there is no equivalent in Python</li> <li><code>f</code> is a number, bigint or boolean: in Python this is an instance of <code>float</code> or <code>int</code>. As <code>bool</code> is a subclass of <code>int</code>, it is included.</li> <li><code>f</code> is a string: in Python this is an instance of <code>str</code></li> <li><code>f</code> is a symbol: there is no equivalent in Python</li> <li><code>f</code> is a function: in Python you can use <code>callable</code> to detect this</li> </ul> <p>Caveat: <code>typeof null == 'object'</code> is true, so in Python <code>None</code> should pass the equivalent test.</p> <p>So this brings us to the following test in Python:</p> <pre class=""lang-py prettyprint-override""><code>if not (callable(f) or isinstance(f, (int, float, str))):     # it is an &quot;object&quot; </code></pre>"			2021-11-27 16:22:36.477 UTC
70159061	python|web-scraping	Scraping a Javascript enabled web page in Python	"<p>I am looking to scrape the following <a href=""https://cronoschimp.club/market/details/2424?isHonorary=false"" rel=""nofollow noreferrer"">web page</a>, where I wish to scrape all the text on the page, including all the clickable elements.</p> <p>I've attempted to use requests:</p> <pre><code>import requests response = requests.get(&quot;https://cronoschimp.club/market/details/2424?isHonorary=false&quot;) response.text </code></pre> <p>Which scrapes the meta-data but none of the actual data.</p> <p>Is there a way to click through and get the elements in the floating boxes?</p>"	2021-11-29 17:46:00.483 UTC	70159760	"<p>As it's a Javascript enabled web page, you can't get anything as output using requests, bs4 because they can't render javascript. So, you need an automation tool something like selenium. Here I use selenium with bs4 and it's working fine. Please, see the minimal working example as follows:</p> <p>Code:</p> <pre><code>from bs4 import BeautifulSoup import time from selenium import webdriver  driver = webdriver.Chrome('chromedriver.exe') driver.maximize_window() time.sleep(8)  url = 'https://cronoschimp.club/market/details/2424?isHonorary=false' driver.get(url) time.sleep(20)  soup = BeautifulSoup(driver.page_source, 'lxml') name = soup.find('div',class_=&quot;DetailsHeader_title__1NbGC&quot;).get_text(strip=True) p= soup.find('span',class_=&quot;DetailsHeader_value__1wPm8&quot;) price= p.get_text(strip=True) if p else &quot;Not for sale&quot; print([name,price]) </code></pre> <p>Output:</p> <pre><code>['Chimp #2424', 'Not for sale'] </code></pre>"			2021-11-29 18:39:41.14 UTC
70177888	javascript|python|hash	Jenkins one_at_a_time hash - trying to Make Python Code reproduce JavaScript code	"<p>I borrowed this code from <a href=""https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript/70177732?noredirect=1#comment124055886_70177732"">another post recently</a>, and it works great for my needs... But I'm trying to reproduce the same results from Python code so the two language functions agree, and I've been struggling... These two so far do NOT produce the same results like I need... I suspect it's an issue with the unsigned integers in Python vs JavaScript.</p> <p>JavaScript Code:</p> <pre><code>//Credits (modified code): Bob Jenkins (http://www.burtleburtle.net/bob/hash/doobs.html) //See also: https://en.wikipedia.org/wiki/Jenkins_hash_function //Takes a string of any size and returns an avalanching hash string of 8 hex characters. function jenkinsOneAtATimeHash(keyString) {   let hash = 0;   for (charIndex = 0; charIndex &lt; keyString.length; ++charIndex)   {     hash += keyString.charCodeAt(charIndex);     hash += hash &lt;&lt; 10;     hash ^= hash &gt;&gt; 6;   }   hash += hash &lt;&lt; 3;   hash ^= hash &gt;&gt; 11;   //4,294,967,295 is FFFFFFFF, the maximum 32 bit unsigned integer value, used here as a mask.   return (((hash + (hash &lt;&lt; 15)) &amp; 4294967295) &gt;&gt;&gt; 0).toString(16) }; </code></pre> <p>Python code:</p> <pre><code>def calcuulateChecksum(keyString: str):     # Credits(modified code): Bob Jenkins (http://www.burtleburtle.net/bob/hash/doobs.html)     # See also: https://en.wikipedia.org/wiki/Jenkins_hash_function     # Takes a string of any size and returns an avalanching hash string of 8 hex characters.     hash = 0     # for (charIndex = 0; charIndex &lt; keyString.length; ++charIndex):     for char in keyString:         hash += ord(char.encode(&quot;utf-8&quot;))         hash &amp;= 0xFFFFFFFF         hash += hash &lt;&lt; 10         hash &amp;= 0xFFFFFFFF         hash ^= hash &gt;&gt; 6         hash &amp;= 0xFFFFFFFF     hash += hash &lt;&lt; 3     hash &amp;= 0xFFFFFFFF     hash ^= hash &gt;&gt; 11     hash &amp;= 0xFFFFFFFF     hash += hash &lt;&lt; 15     hash &amp;= 0xFFFFFFFF     # # 4,294,967,295 is 0xffffffff, the maximum 32 bit unsigned integer value, used here as a mask.     return hex((hash &amp; 4294967295)) </code></pre> <p>Any help on making the Python code match the JavaScript function would be appreciated... On the other hand, I believe the Python code matches results shown in the Wiki, so why doesn't the JavaScript code?</p>"	2021-12-01 00:51:32.78 UTC	70187739	"<p>MAYBE I just figured this out.... just am not sure why it works.... If I change the JavaScript code to use only unsigned right shifts, it would seem to result in the same output as the Python (and original C code) does.... I'll have to do further testing across a range of keyString values.</p> <pre><code>function jenkinsOneAtATimeHash(keyString) {   let hash = 0;   for (charIndex = 0; charIndex &lt; keyString.length; ++charIndex)   {     hash += keyString.charCodeAt(charIndex);     hash += hash &lt;&lt; 10;     hash ^= hash &gt;&gt;&gt; 6;   }   hash += hash &lt;&lt; 3;   hash ^= hash &gt;&gt;&gt; 11;   //4,294,967,295 is FFFFFFFF, the maximum 32 bit unsigned integer value, used here as a mask.   return (((hash + (hash &lt;&lt; 15)) &amp; 4294967295) &gt;&gt;&gt; 0).toString(16) }; </code></pre>"			2021-12-01 16:22:00.417 UTC
70186343	javascript|python|selenium|selenium-webdriver|bots	Weâ€™re sorry but our site doesnâ€™t work properly without JavaScript enabled. Please enable it to continue error using Selenium and Python	"<p>I want to build a web scraper for a builtin website.</p> <p>I run the following code in jupyter notebook:</p> <pre><code>driver = webdriver.PhantomJS(executable_path=&quot;C:/Users/Downloads/phantomjs-2.1.1-windows/bin/phantomjs.exe&quot;) driver.get(&quot;https://builtin.com/jobs&quot;) html = driver.page_source </code></pre> <p>And I got</p> <pre><code>&lt;noscript&gt;       &amp;lt;strong&amp;gt;         Weâ€™re sorry but our site doesnâ€™t work properly without JavaScript enabled. Please enable it to continue.       &amp;lt;/strong&amp;gt;     &lt;/noscript&gt; </code></pre> <p>instead of job openings.</p> <p>I tried to use <code>webdriver.Chrome()</code> and <code>BeautifulSoup</code>, I always get the same result with this website, but everything works with others.</p> <p>I've run out of ideas on how to fix it. What could be the problem?</p> <p>Javascript is enabled in my web browser.</p> <p><a href=""https://i.stack.imgur.com/pJDoL.png"" rel=""nofollow noreferrer"">I tried the code that was advised to me. It didn't work for me</a></p>"	2021-12-01 14:51:50.493 UTC	70191505	"<p>This error message...</p> <pre><code>&lt;body&gt;   &lt;noscript&gt;     &lt;strong&gt;       Weâ€™re sorry but our site doesnâ€™t work properly without JavaScript enabled. Please enable it to continue.     &lt;/strong&gt;   &lt;/noscript&gt; </code></pre> <p>...implies that possibly the co-operating <a href=""https://stackoverflow.com/questions/49565042/way-to-change-google-chrome-user-agent-in-selenium/49565254#49565254""><em>useragent</em></a> informed the document that it is controlled by WebDriver and subsequently an alternate code paths was be triggered during automation.</p> <hr /> <h2>Solution</h2> <p>To evade the detection of <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> driven <a href=""https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871"">ChromeDriver</a> initiated <a href=""/questions/tagged/google-chrome"" class=""post-tag"" title=""show questions tagged &#39;google-chrome&#39;"" rel=""tag"">google-chrome</a> <em>Browsing Context</em> you can use the following argument:</p> <ul> <li><a href=""https://stackoverflow.com/questions/66199053/evade-detection-of-selenium-automation/66200459#66200459""><em>--disable-blink-features=AutomationControlled</em></a></li> </ul> <blockquote> <p><a href=""/questions/tagged/selenium4"" class=""post-tag"" title=""show questions tagged &#39;selenium4&#39;"" rel=""tag"">selenium4</a> compatible code</p> </blockquote> <p>Your optimum code block will be:</p> <pre><code>from selenium import webdriver from selenium.webdriver.chrome.options import Options from selenium.webdriver.chrome.service import Service  options = Options() options.add_argument(&quot;start-maximized&quot;) options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;]) options.add_experimental_option('useAutomationExtension', False) options.add_argument('--disable-blink-features=AutomationControlled') s = Service('C:\\BrowserDrivers\\chromedriver.exe') driver = webdriver.Chrome(service=s, options=options) driver.get(&quot;https://builtin.com/jobs&quot;) print(driver.page_source) driver.quit() </code></pre> <p>Console Output:</p> <pre><code>... &lt;span data-v-96c85cba=&quot;&quot; class=&quot;sr-only&quot;&gt;Open Search&lt;/span&gt;&lt;/button&gt; &lt;div data-v-96c85cba=&quot;&quot; class=&quot;menu-item&quot;&gt;&lt;div data-v-11f5f671=&quot;&quot; data-v-96c85cba=&quot;&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-11f5f671=&quot;&quot; href=&quot;/premium/membership&quot; class=&quot;employers&quot;&gt;     For Employers   &lt;/a&gt;&lt;/div&gt;&lt;/div&gt; &lt;div data-v-96c85cba=&quot;&quot;&gt;&lt;div data-v-66b1a49a=&quot;&quot; data-v-96c85cba=&quot;&quot; class=&quot;profile-auth&quot;&gt;&lt;button data-v-66b1a49a=&quot;&quot; class=&quot;b-oauth signup&quot;&gt;     Join   &lt;/button&gt; &lt;span data-v-66b1a49a=&quot;&quot; class=&quot;spl national&quot;&gt;&lt;/span&gt; &lt;button data-v-66b1a49a=&quot;&quot; class=&quot;b-oauth login&quot;&gt;     Log In   &lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt; &lt;div data-v-04d4c7c3=&quot;&quot; class=&quot;menu-wrapper&quot;&gt;&lt;div data-v-04d4c7c3=&quot;&quot; class=&quot;menu menu-desktop navigation-secondary&quot;&gt;&lt;ul data-v-04d4c7c3=&quot;&quot; class=&quot;menu-container grid d-flex&quot;&gt;&lt;li data-v-04d4c7c3=&quot;&quot; tabindex=&quot;0&quot; class=&quot;menu-item&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-04d4c7c3=&quot;&quot; href=&quot;/jobs&quot; aria-current=&quot;page&quot; class=&quot;menu-link nuxt-link-exact-active nuxt-link-active&quot;&gt;       Jobs       &lt;svg data-v-04d4c7c3=&quot;&quot; aria-hidden=&quot;true&quot; focusable=&quot;false&quot; data-prefix=&quot;fas&quot; data-icon=&quot;chevron-down&quot; role=&quot;img&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 448 512&quot; class=&quot;fa-icon svg-inline--fa fa-chevron-down fa-w-14&quot;&gt;&lt;path data-v-04d4c7c3=&quot;&quot; fill=&quot;currentColor&quot; d=&quot;M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z&quot; class=&quot;&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/li&gt; &lt;li data-v-04d4c7c3=&quot;&quot; class=&quot;menu-item&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-04d4c7c3=&quot;&quot; href=&quot;/companies&quot; class=&quot;menu-link&quot;&gt;Tech Companies&lt;/a&gt;&lt;/li&gt; &lt;li data-v-04d4c7c3=&quot;&quot; class=&quot;menu-item&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-04d4c7c3=&quot;&quot; href=&quot;/remote&quot; class=&quot;menu-link&quot;&gt;       Remote     &lt;/a&gt;&lt;/li&gt; &lt;li data-v-04d4c7c3=&quot;&quot; tabindex=&quot;0&quot; class=&quot;menu-item&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-04d4c7c3=&quot;&quot; href=&quot;/tech-topics&quot; class=&quot;menu-link&quot;&gt;Tech Topics       &lt;svg data-v-04d4c7c3=&quot;&quot; data-v-fa58c90a=&quot;&quot; aria-hidden=&quot;true&quot; focusable=&quot;false&quot; data-prefix=&quot;fas&quot; data-icon=&quot;chevron-down&quot; role=&quot;img&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 448 512&quot; class=&quot;fa-icon svg-inline--fa fa-chevron-down fa-w-14&quot;&gt;&lt;path data-v-04d4c7c3=&quot;&quot; data-v-fa58c90a=&quot;&quot; fill=&quot;currentColor&quot; d=&quot;M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z&quot; class=&quot;&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/li&gt; &lt;li data-v-04d4c7c3=&quot;&quot; tabindex=&quot;0&quot; class=&quot;menu-item&quot;&gt;&lt;a data-v-fa58c90a=&quot;&quot; data-v-04d4c7c3=&quot;&quot; href=&quot;/salaries&quot; class=&quot;menu-link&quot;&gt;       Salaries       &lt;svg data-v-04d4c7c3=&quot;&quot; data-v-fa58c90a=&quot;&quot; aria-hidden=&quot;true&quot; focusable=&quot;false&quot; data-prefix=&quot;fas&quot; data-icon=&quot;chevron-down&quot; role=&quot;img&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 448 512&quot; class=&quot;fa-icon svg-inline--fa fa-chevron-down fa-w-14&quot;&gt;&lt;path data-v-04d4c7c3=&quot;&quot; data-v-fa58c90a=&quot;&quot; fill=&quot;currentColor&quot; d=&quot;M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z&quot; class=&quot;&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/li&gt; &lt;li data-v-04d4c7c3=&quot;&quot; class=&quot;menu-item push-right&quot;&gt; ... </code></pre> <h2>References</h2> <p>You can find a couple of relevant detailed discussion in:</p> <ul> <li><a href=""https://stackoverflow.com/questions/66199053/evade-detection-of-selenium-automation/66200459#66200459"">Evade detection of selenium automation</a></li> <li><a href=""https://stackoverflow.com/questions/70072537/how-to-evade-blocking-by-walmart-using-selenium-webdriver/70073393#70073393"">How to evade blocking by Walmart using Selenium Webdriver</a></li> <li><a href=""https://stackoverflow.com/questions/65994908/selenium-cant-open-a-second-page/65998533#65998533"">Selenium can't open a second page</a></li> </ul>"			2021-12-01 21:34:26.853 UTC
70186581	javascript|python|selenium|scrape	Get Data from Javascript codes with Python Selenium	"<p>I am trying to get javascript data from website with Selenium. However, I could not achieve what I wanted. Below is a screenshot of the javascript code. I want to extract Barcode numbers and variation values (such as 36 numbers, 37 numbers) among these codes. How can I best do this? Thanks for your help.</p> <p><a href=""https://i.stack.imgur.com/dtLcM.png"" rel=""nofollow noreferrer"">Web page javascript code</a></p> <p>EDIT 1:</p> <p>Javascript Code:</p> <p>window.<strong>PRODUCT_DETAIL_APP_INITIAL_STATE</strong>={&quot;product&quot;:{&quot;attributes&quot;:[],&quot;alternativeVariants&quot;:[],&quot;variants&quot;:[{&quot;attributeId&quot;:338,&quot;attributeName&quot;:&quot;Beden&quot;,&quot;attributeType&quot;:&quot;Size&quot;,&quot;attributeValue&quot;:&quot;36&quot;,&quot;stamps&quot;:[{&quot;type&quot;:1,&quot;text&quot;:&quot;KARGO BEDAVA&quot;},{&quot;type&quot;:3,&quot;text&quot;:&quot;%35&quot;}],&quot;price&quot;:{&quot;profitMargin&quot;:0,&quot;discountedPrice&quot;:{&quot;text&quot;:&quot;143,99 TL&quot;,&quot;value&quot;:143.99},&quot;sellingPrice&quot;:{&quot;text&quot;:&quot;159,99 TL&quot;,&quot;value&quot;:159.99},&quot;originalPrice&quot;:{&quot;text&quot;:&quot;219,99 TL&quot;,&quot;value&quot;:219.99},&quot;currency&quot;:&quot;TRY&quot;},&quot;fulfilmentType&quot;:&quot;mp&quot;,&quot;attributeBeautifiedValue&quot;:&quot;36&quot;,&quot;isWinner&quot;:true,&quot;listingId&quot;:&quot;cb32c614f54395f199628ef7066ab102&quot;,&quot;stock&quot;:null,&quot;sellable&quot;:true,&quot;availableForClaim&quot;:true,&quot;barcode&quot;:&quot;100406115&quot;,&quot;itemNumber&quot;:118134976,&quot;discountedPriceInfo&quot;:&quot;Sepette %10 Ä°ndirim&quot;,&quot;hasCollectable&quot;:false,&quot;unitInfo&quot;:{&quot;unitPrice&quot;:false,&quot;unitPriceText&quot;:false},&quot;rushDeliveryMerchantListingExist&quot;:false}],&quot;otherMerchants&quot;:[],&quot;campaign&quot;:{&quot;id&quot;:591963,&quot;name&quot;:&quot;KadÄ±n Giyimde AvantajlÄ± ÃœrÃ¼nler - Sepette %10 Ä°ndirim&quot;,&quot;startDate&quot;:&quot;2021-11-30T14:30:05&quot;,&quot;endDate&quot;:&quot;2021-12-07T05:00:00&quot;,&quot;isMultipleSupplied&quot;:false,&quot;stockTypeId&quot;:7,&quot;url&quot;:&quot;/kadin-giyimde-avantajli-urunler---sepette--10-indirim/butikdetay/591963&quot;,&quot;showTimer&quot;:false},&quot;category&quot;:{&quot;id&quot;:103718,&quot;name&quot;:&quot;Klasik Topuklu AyakkabÄ±&quot;,&quot;hierarchy&quot;:&quot;AyakkabÄ±/Topuklu AyakkabÄ±/Klasik Topuklu AyakkabÄ±&quot;,&quot;refundable&quot;:true,&quot;beautifiedName&quot;:&quot;klasik-topuklu-ayakkabi&quot;,&quot;isVASEnabled&quot;:false},&quot;brand&quot;:{&quot;isVirtual&quot;:false,&quot;beautifiedName&quot;:&quot;laminta&quot;,&quot;id&quot;:205748,&quot;name&quot;:&quot;LAMÄ°NTA&quot;,&quot;path&quot;:&quot;/laminta-x-b205748&quot;},&quot;color&quot;:&quot;GÃœMÃœÅž ÅžEFFAF&quot;,&quot;metaBrand&quot;:{&quot;id&quot;:205748,&quot;name&quot;:&quot;LAMÄ°NTA&quot;,&quot;beautifiedName&quot;:&quot;&quot;,&quot;isVirtual&quot;:false,&quot;path&quot;:&quot;&quot;},&quot;showVariants&quot;:true,&quot;showSexualContent&quot;:true,&quot;brandCategoryBanners&quot;:[],&quot;allVariants&quot;:[{&quot;itemNumber&quot;:118134976,&quot;value&quot;:&quot;36&quot;,&quot;inStock&quot;:true,&quot;currency&quot;:&quot;TRY&quot;,&quot;barcode&quot;:&quot;100406115&quot;,&quot;price&quot;:143.99},{&quot;itemNumber&quot;:118134979,&quot;value&quot;:&quot;37&quot;,&quot;inStock&quot;:true,&quot;currency&quot;:&quot;TRY&quot;,&quot;barcode&quot;:&quot;100406116&quot;,&quot;price&quot;:143.99},{&quot;itemNumber&quot;:118134975,&quot;value&quot;:&quot;38&quot;,&quot;inStock&quot;:true,&quot;currency&quot;:&quot;TRY&quot;,&quot;barcode&quot;:&quot;100406117&quot;,&quot;price&quot;:143.99},{&quot;itemNumber&quot;:118134983,&quot;value&quot;:&quot;39&quot;,&quot;inStock&quot;:true,&quot;currency&quot;:&quot;TRY&quot;,&quot;barcode&quot;:&quot;100406118&quot;,&quot;price&quot;:143.99},{&quot;itemNumber&quot;:118123516,&quot;value&quot;:&quot;40&quot;,&quot;inStock&quot;:true,&quot;currency&quot;:&quot;TRY&quot;,&quot;barcode&quot;:&quot;100406119&quot;,&quot;price&quot;:143.99}]</p> <p>My simple code is as follows. I am getting a single barcode with the code below. However, I cannot pull barcodes and other information for each variation.</p> <pre><code>def barkodBul():     if ('barcode' in driver.page_source):         p_id = driver.find_elements_by_tag_name(&quot;script&quot;)         for script in p_id:             innerHTML = script.get_property('innerHTML')             task = re.search('barcode', innerHTML)             if (task):                 barkod = [l for l in innerHTML.split(&quot;{&quot;) if &quot;barcode&quot; in l][0]                 barkod = barkod.split(&quot;,&quot;)                 for k in range(0,len(barkod)):                     if('barcode' in barkod[k]):                         barkod = barkod[k].split(&quot;:&quot;)                         print barkod[1]                         barkod = barkod[1].replace('&quot;', '')                         print barkod                         return barkod      return 0 </code></pre> <p>What I want to do: 36 BarcodeFor36 37 BarcodeFor37 etc.</p> <p>EDIT 2 - Solution: Thanks <a href=""https://stackoverflow.com/users/269970/esqew"">esqew</a></p> <pre><code>def barkodBul2():      time.sleep(3)     timeout = 30     WebDriverWait(driver, timeout).until(EC.visibility_of_element_located((By.CLASS_NAME, &quot;pr-new-br&quot;)))     product_detail = driver.execute_script('return window.__PRODUCT_DETAIL_APP_INITIAL_STATE__')     for variant in product_detail['product']['variants']:         print variant['attributeValue'] + &quot; &quot; + variant['barcode']  Output: 36 100406115 37 100406116 38 100406117 39 100406118 40 100406119 </code></pre>"	2021-12-01 15:07:11.903 UTC	70187271	"<p>Why use RegExp for this when the data is nicely structured as an Object? Extract the contents directly with Selenium, then access the data you want from there:</p> <pre><code>def barkodBul():     product_detail = driver.execute_script('return window.PRODUCT_DETAIL_APP_INITIAL_STATE'))     for variant in product_detail['product']['allVariants']:         print variant['value'] + &quot; &quot; + variant['barcode'] </code></pre>"			2021-12-01 15:50:40.873 UTC
70188391	javascript|python|web-scraping	scraping dynamic JavaScript table with python	"<p>I'm trying to scrape this website: <a href=""https://madduxsports.com/college-basketball-lines.php"" rel=""nofollow noreferrer"">https://madduxsports.com/college-basketball-lines.php</a><br/> I'm very new to python and scraping, I believe this website has a table generated with JavaScript.<br/> I'm looking to scrape just the first 7 columns. I've tried <br/></p> <pre><code>from requests_html import HTMLSession from bs4 import BeautifulSoup session = HTMLSession() resp = session.get(&quot;https://madduxsports.com/college-basketball-lines.php&quot;) resp.html.render() soup = BeautifulSoup(resp.html.html, &quot;lxml&quot;) script_tags = soup.find_all(&quot;script&quot;) print(script_tags) </code></pre> <p>This will get everything with the <code>&lt;script&gt;</code> tag which has the table data in it but I don't know how to get the first 7 columns.</p> <p>Thanks for the help</p>"	2021-12-01 17:07:03.58 UTC	70188650	"<p>You could get it through the request directly (but you'll need to do a bit of manipulation of the html escape characters and what not. This gets you the same data as if we pulled it from the <code>&lt;script&gt;</code> tag. I can show you how to get it that way as well if you'd like, but this is a better way in my opinion.</p> <pre><code>import requests import pandas as pd  url = 'https://madduxsports.com/newodds/v2/scheduler-ajax.php' payload = { 'timezone': 'America/New_York', 'is_first_request': '0', 'league_id': '4', 'sport_id': '2', 'period_id': '1'}   jsonData = requests.post(url, data=payload).json()  # Everything above is the to get the data # jsonData is the json you see in the &lt;script&gt; tag   odds = jsonData['odds'] schedulers = jsonData['schedulers']  odds_df = pd.json_normalize(odds) schedulers_df = pd.json_normalize(schedulers)  names_dict = {} for each in odds:     names_dict[each['id']] = each['name']  cols = [] for col in schedulers_df:     for k, v in names_dict.items():         col = col.replace(str(k),v)              cols.append(col)  schedulers_df.columns = cols  cols = ['date','team_ids',   'team_names','score.away_score','score.home_score',         'score.description','opener.1.away','opener.1.home']  odds_cols = [x for x in schedulers_df.columns if ('1.away' in x or '1.home' in x) and ('class' not in x)]  df = schedulers_df[cols + odds_cols] </code></pre> <p><strong>Output:</strong></p> <pre><code>print(df)                     date          team_ids  ... odds.SIA.1.away odds.SIA.1.home 0    2021-12-03 00:00:00  306123&lt;br&gt;306124  ...     143&amp;frac12;      -1&amp;frac12; 1    2021-12-03 00:00:00  306127&lt;br&gt;306128  ...     142&amp;frac12;              11 2    2021-12-03 00:00:00  306129&lt;br&gt;306130  ...  126&amp;frac12;u12      -5&amp;frac12; 3    2021-12-03 00:00:00  306131&lt;br&gt;306132  ...              17     146&amp;frac12; 4    2021-12-03 01:00:00  306133&lt;br&gt;306134  ...      -2&amp;frac12;     135&amp;frac12; ..                   ...               ...  ...             ...             ... 107  2021-12-04 07:50:00  396155&lt;br&gt;396156  ...                                 108  2021-12-04 07:50:00  396157&lt;br&gt;396158  ...                                 109  2021-12-04 07:50:00  396159&lt;br&gt;396160  ...                                 110  2021-12-04 07:50:00      9875&lt;br&gt;9876  ...                                 111  2021-12-04 07:50:00      9877&lt;br&gt;9878  ...                                  [112 rows x 22 columns] </code></pre>"			2021-12-01 17:26:18.133 UTC
70228750	javascript|python|arrays	Rewriting Python Classes to JavaScript	"<p>I have some python classes written and being constructed like this:</p> <pre><code>class Customer: def __init__(self, name, full_name, gender, age, instruments, paid):     self.name = name     self.full_name = full_name     self.gender= gender     self.age= age     self.instruments= instruments     self.paid= paid  list = []  list.append( Customer('Customer1', 'First Customer', 'Male', 26, [&quot;Guitar&quot;, &quot;Bass&quot;], [100, 200])) list.append( Customer('Customer2', 'Second Customer', 'Female', 24, [&quot;Drums&quot;, &quot;Bass&quot;], [150, 230])) </code></pre> <p>I'm trying to rewrite my functions from python to JavaScript, and having some problems/doubts  about this data structure.</p> <p>The instruments and paid values(only example here) can be text values or numbers. When I access it and select &quot;Customer 1&quot; I should be able to choose the instrument to print the paid price</p> <p>How do I write the same structure in JavaScript?</p> <p>All this is that I am trying to change this personal python file to a customer local .html page.</p> <p>Maybe JavaScript is not the best here and, since i am not proficient on that, I can spent some time in other language to handle it.</p> <p>How would I write it in .js or, what would be the better option to go with local .html</p>"	2021-12-04 19:22:13.683 UTC	70228935	"<p>If you glance at <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes</a></p> <p>you could end up with</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>class Customer {   constructor(name, full_name, gender, age, instruments, paid) {     this.name = name     this.full_name = full_name     this.gender = gender     this.age = age     this.instruments = instruments     this.paid = paid   } } list = []  list.push(new Customer('Customer1', 'First Customer', 'Male', 26, [""Guitar"", ""Bass""], [100, 200])) list.push(new Customer('Customer2', 'Second Customer', 'Female', 24, [""Drums"", ""Bass""], [150, 230])) console.log(list)</code></pre> </div> </div> </p>"			2021-12-04 19:45:48.163 UTC
70230296	javascript|python|html|eel	cant run a python script from javascript using eel	"<p>so for a good time i was searching for a way to run a python script directly from JavaScript and that was when I found something called eel which is supposed to do that so I followed what the documentation is saying and everything looks right, I hit a button in that I built with html in which after I click this button the python script runs, but I keep getting and error in my browser console saying that eel is not defined.</p> <p>note that i included this line in html as the documentation suggests: <code>&lt;script type=â€text/javascriptâ€ src=â€/eel.jsâ€&gt;&lt;/script&gt;</code></p> <p>no idea what is wrong hope someone can help. thanks in advance</p>"	2021-12-04 23:24:17.63 UTC	70230496	"<p>To my google search, thats not what eel does. Its job to be used is a Electron-like tool for python, NOT to make web apps have python in them. if you want python in a browser try making a web app in flask or look into <a href=""https://github.com/pyodide/pyodide"" rel=""nofollow noreferrer"">Pyodide</a></p>"			2021-12-05 00:06:07.827 UTC
70234757	javascript|python|html|screen-scraping	Extracting JavaScript object from a <script> tag in Python and parsing the json	"<p>I am scraping a page with product information from a website using requests_html and a fraction of HTML that I need is in a <code>&lt;script&gt;</code> tag.</p> <p>Here is the code that returns the JavaScript:</p> <pre><code>from requests_html import HTMLSession  link = 'https://www.rimi.lv/e-veikals/en/products/vegan-and-vegetarian-/plant-based-beverages/auzu-dzeriens-barista-kafijai-bezglut-uht-1l/p/957905'  s = HTMLSession() r = s.get(link) script_html = r.html.find('div.cart-layout__main', first=True).find('script')[1].html  print(script_html) </code></pre> <p>Is there any way to parse the html part of it to return all text? I mean the one in <strong>['tabs'][0]['html']</strong></p> <pre><code>&lt;script&gt;     Config.product_details_page = {         texts: {             tab_loading_title: 'Loading',             tab_loading_text: 'Loading data',         },         tabs: [             {                 index: 0,                 identifier: 'details',                 name: &quot;About the product&quot;,                 icon: '&amp;lt;svg class=&quot;&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 48 48&quot;&amp;gt;&amp;lt;g fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-miterlimit=&quot;10&quot;&amp;gt;&amp;lt;circle cx=&quot;24&quot; cy=&quot;24&quot; r=&quot;23&quot;/&amp;gt;&amp;lt;path d=&quot;M24 30v-1.6c0-2.1 1.1-4.1 3-5.2 2.9-1.7 3.9-5.3 2.2-8.2-1.7-2.9-5.3-3.9-8.2-2.2-1.8 1.1-3 3-3 5.2&quot;/&amp;gt;&amp;lt;circle cx=&quot;24&quot; cy=&quot;35&quot; r=&quot;2&quot;/&amp;gt;&amp;lt;/g&amp;gt;&amp;lt;/svg&amp;gt;',                 html: &quot;&amp;lt;div class=\u0022product__details\u0022&amp;gt;\n    &amp;lt;div class=\u0022container\u0022&amp;gt;\n        &amp;lt;div class=\u0022product-details\u0022&amp;gt;\n    &amp;lt;div class=\u0022product__list-wrapper\u0022&amp;gt;\n        &amp;lt;ul class=\u0022list\u0022&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                    &amp;lt;span&amp;gt;Country of origin&amp;lt;\/span&amp;gt;\n                                                    &amp;lt;p&amp;gt;Finland&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                    &amp;lt;span&amp;gt;Brand&amp;lt;\/span&amp;gt;\n                                                    &amp;lt;p&amp;gt;Valio&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                    &amp;lt;span&amp;gt;Producer&amp;lt;\/span&amp;gt;\n                                                    &amp;lt;p&amp;gt;VALIO OY&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                    &amp;lt;span&amp;gt;Amount&amp;lt;\/span&amp;gt;\n                                                    &amp;lt;p&amp;gt;1 kg&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n            &amp;lt;\/ul&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;div class=\u0022product__list-wrapper\u0022&amp;gt;\n            &amp;lt;p class=\u0022heading\u0022&amp;gt;Ingredients&amp;lt;\/p&amp;gt;\n        &amp;lt;ul class=\u0022list\u0022&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;AUZU b\u0101ze ( \u016bdens, bezglut\u0113na AUZU milti, kalcijs, s\u0101ls ), \u016bdens, rap\u0161a e\u013c\u013ca, sk\u0101buma regul\u0113t\u0101ji ( k\u0101lija fosf\u0101ti ), jods, vitam\u012bni ( riboflav\u012bns ( B2 ), B12 un D2 ) \n\n&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n            &amp;lt;\/ul&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;div class=\u0022product__list-wrapper -simple\u0022&amp;gt;\n            &amp;lt;p class=\u0022heading\u0022&amp;gt;Additional information&amp;lt;\/p&amp;gt;\n        &amp;lt;ul class=\u0022list\u0022&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;Auzu saturs 10%&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;Min storage temp.: 2\u00b0 C&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;Max storage temp.: 25\u00b0 C&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n            &amp;lt;\/ul&amp;gt;\n&amp;lt;\/div&amp;gt;\n            &amp;lt;div class=\u0022product__list-wrapper\u0022&amp;gt;\n            &amp;lt;p class=\u0022heading\u0022&amp;gt;Nutrition Facts&amp;lt;\/p&amp;gt;\n        &amp;lt;ul class=\u0022list\u0022&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;Amount per 100g&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n            &amp;lt;\/ul&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;div class=\u0022product__table\u0022&amp;gt;\n    &amp;lt;div&amp;gt;\n        &amp;lt;table&amp;gt;\n            &amp;lt;thead&amp;gt;\n            &amp;lt;tr&amp;gt;\n                                    &amp;lt;th&amp;gt;Nutrition&amp;lt;\/th&amp;gt;\n                                    &amp;lt;th&amp;gt;Amount per 100g\/ml&amp;lt;\/th&amp;gt;\n                            &amp;lt;\/tr&amp;gt;\n            &amp;lt;\/thead&amp;gt;\n            &amp;lt;tbody&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td &amp;gt;\n                        energy\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        243 kJ\/ 58 kcal\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td &amp;gt;\n                        fat\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        3 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td  class=\u0022indent\u0022&amp;gt;\n                        of which saturates\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        0.3 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td &amp;gt;\n                        carbohydrate\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        6.6 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td  class=\u0022indent\u0022&amp;gt;\n                        of which sugars\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        3.5 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td &amp;gt;\n                        protein\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        1.2 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                            &amp;lt;tr&amp;gt;\n                    &amp;lt;td &amp;gt;\n                        salt\n                    &amp;lt;\/td&amp;gt;\n                    &amp;lt;td&amp;gt;\n                        0.1 g\n                    &amp;lt;\/td&amp;gt;\n                &amp;lt;\/tr&amp;gt;\n                        &amp;lt;\/tbody&amp;gt;\n        &amp;lt;\/table&amp;gt;\n    &amp;lt;\/div&amp;gt;\n&amp;lt;\/div&amp;gt;                            &amp;lt;div class=\u0022product__list-wrapper\u0022&amp;gt;\n            &amp;lt;p class=\u0022heading\u0022&amp;gt;Allergens&amp;lt;\/p&amp;gt;\n        &amp;lt;ul class=\u0022list\u0022&amp;gt;\n                    &amp;lt;li class=\u0022item\u0022&amp;gt;\n                                                    &amp;lt;p&amp;gt;Cereals&amp;lt;\/p&amp;gt;\n                            &amp;lt;\/li&amp;gt;\n            &amp;lt;\/ul&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;p class=\u0022product__disclaimer\u0022&amp;gt;While every care has been taken to ensure product information is correct, food products are constantly being reformulated, so ingredients, nutrition content, dietary and allergens may change. You should always read the product label and not rely solely on the information provided on the website. Base price and offer may be different in other Rimi stores.&amp;lt;\/p&amp;gt;&amp;lt;\/div&amp;gt;\n\n        &amp;lt;div class=\u0022product__card\u0022&amp;gt;\n            &amp;lt;div data-product-code=\u0022957905\u0022\n     class=\u0022js-product-container card\n                -horizontal-for-mobile\u0022\n     data-gtms-banner-title=\u0022Auzu dz\u0113riens Barista kafijai bezglut. UHT 1l\u0022\n     data-gtms-click-name=\u0022Auzu dz\u0113riens Barista kafijai bezglut. UHT 1l\u0022\n     data-gtms-product-id=\u0022957905\u0022\n     data-gtm-eec-product='{\u0022id\u0022:\u0022957905\u0022,\u0022name\u0022:\u0022Auzu dz\\u0113riens Barista kafijai bezglut. UHT 1l\u0022,\u0022category\u0022:\u0022SH-11-10-2\\\/SH-16\\\/SH\u0022,\u0022brand\u0022:\u0022Valio\u0022,\u0022price\u0022:2.69,\u0022currency\u0022:\u0022EUR\u0022}'\n     &amp;gt;\n    &amp;lt;a class=\u0022card__url js-gtm-eec-product-click\u0022 href=\u0022\/e-veikals\/en\/products\/vegan-and-vegetarian-\/plant-based-beverages\/auzu-dzeriens-barista-kafijai-bezglut-uht-1l\/p\/957905\u0022\n       aria-label=\u0022Go to product page\u0022&amp;gt;&amp;lt;\/a&amp;gt;\n            &amp;lt;div class=\u0022card__image-wrapper\u0022&amp;gt;\n        &amp;lt;div&amp;gt;\n                            &amp;lt;img src=\u0022https:\/\/rimibaltic-res.cloudinary.com\/image\/upload\/b_white,c_fit,f_auto,h_480,q_auto,w_480\/d_ecommerce:backend-fallback.png\/MAT_957905_PCE_LV\u0022 alt=\u0022Auzu dz\u0113riens Barista kafijai bezglut. UHT 1l\u0022&amp;gt;\n                                                                &amp;lt;span class=\u0022type-badge\u0022&amp;gt;\n            &amp;lt;img src=\u0022https:\/\/rimibaltic-web-res.cloudinary.com\/image\/upload\/f_png,h_32,q_auto\/v1\/ecom-cms\/b821da9405a9fe157949ca40850238c81d90542f\u0022  title=\u0022Suitable for Vegans\u0022 &amp;gt;\n            &amp;lt;img src=\u0022https:\/\/rimibaltic-web-res.cloudinary.com\/image\/upload\/f_png,h_32,q_auto\/v1\/ecom-cms\/91c5d4f7982c687e299aaf2e8c985d63f66631dd\u0022  title=\u0022Gluten Free\u0022 &amp;gt;\n            &amp;lt;img src=\u0022https:\/\/rimibaltic-web-res.cloudinary.com\/image\/upload\/f_png,h_32,q_auto\/v1\/ecom-cms\/2e1c205f284be9cb954d044ffcfc33afe873ea08\u0022  title=\u0022Lactose Free\u0022 &amp;gt;\n            &amp;lt;img src=\u0022https:\/\/rimibaltic-web-res.cloudinary.com\/image\/upload\/f_png,h_32,q_auto\/v1\/ecom-cms\/e94c4a7ccc9aabb3b6ce9382a536f514acf72616\u0022  title=\u0022Dairy Free\u0022 &amp;gt;\n    &amp;lt;\/span&amp;gt;        &amp;lt;\/div&amp;gt;\n    &amp;lt;\/div&amp;gt;\n    &amp;lt;div class=\u0022card__details\u0022&amp;gt;\n                                    &amp;lt;p class=\u0022card__name\u0022&amp;gt;Auzu dz\u0113riens Barista kafijai bezglut. UHT 1l&amp;lt;\/p&amp;gt;\n        &amp;lt;div class=\u0022card__details-inner\u0022&amp;gt;\n\n            &amp;lt;div class=\u0022card__price-wrapper\u0022&amp;gt;\n    \n        &amp;lt;div class=\u0022price-tag card__price\u0022&amp;gt;\n    &amp;lt;span&amp;gt;2&amp;lt;\/span&amp;gt;\n    &amp;lt;div&amp;gt;\n        &amp;lt;sup&amp;gt;69&amp;lt;\/sup&amp;gt;\n        &amp;lt;sub&amp;gt;\u20ac\/pcs.&amp;lt;\/sub&amp;gt;\n    &amp;lt;\/div&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;div&amp;gt;\n\n            \n                            &amp;lt;p class=\u0022card__price-per\u0022&amp;gt;\n                    2,69\n                    \u20ac\n                    \/kg\n                &amp;lt;\/p&amp;gt;\n            \n        &amp;lt;\/div&amp;gt;\n    &amp;lt;\/div&amp;gt;\n\n\n            &amp;lt;form class=\u0022favorite  card__favorite  js-login-prompt\u0022\n      action=\u0022\/e-veikals\/account\/login\/prompt\u0022&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_token\u0022 value=\u002267RNG9eJsKaHhthRxGbeoL97AiwFKSkcCd6RUaoR\u0022&amp;gt;    &amp;lt;input type=\u0022checkbox\u0022 name=\u0022favorite\u0022 value=\u0022\u0022 &amp;gt;\n    &amp;lt;button class=\u0022js-tooltip\u0022 type=\u0022submit\u0022\n            aria-label=\u0022Add to favorites\u0022\n            data-title=\u0022Add to favorites\u0022\n            data-add-name=\u0022Add to favorites\u0022\n            data-remove-name=\u0022Add to favorites\u0022\n            data-gtm-click-name=\u0022Add to favorites\u0022&amp;gt;\n        &amp;lt;span&amp;gt;&amp;lt;svg class=\u0022\u0022 xmlns=\u0022http:\/\/www.w3.org\/2000\/svg\u0022 viewBox=\u00220 0 48 48\u0022&amp;gt;&amp;lt;path d=\u0022M24 4l5.05 16L45 19.98l-12.83 8.79L36.98 44 24 34.71 11.02 44l4.81-15.23L3 19.98l15.95.02L24 4z\u0022 fill=\u0022none\u0022 stroke=\u0022currentColor\u0022 stroke-miterlimit=\u002210\u0022 stroke-width=\u00222\u0022\/&amp;gt;&amp;lt;\/svg&amp;gt;&amp;lt;\/span&amp;gt;\n    &amp;lt;\/button&amp;gt;\n&amp;lt;\/form&amp;gt;\n\n                            \n                \n                &amp;lt;form method=\u0022post\u0022 action=\u0022\/e-veikals\/cart\/change\u0022\n      class=\u0022js-add-to-cart card__cart-btn\u0022&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_token\u0022 value=\u002267RNG9eJsKaHhthRxGbeoL97AiwFKSkcCd6RUaoR\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_method\u0022 value=\u0022put\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 name=\u0022product\u0022 value=\u0022957905\u0022&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022amount\u0022 value=\u00221\u0022&amp;gt;\n    &amp;lt;button class=\u0022button -with-right-icon -cart gtm -small\u0022\n            type=\u0022submit\u0022\n            data-gtm-product-id=\u0022957905\u0022\n            data-gtm-event-category=\u0022addToBasket\u0022\n    &amp;gt;\n        Add to cart\n        &amp;lt;svg class=\u0022\u0022 xmlns=\u0022http:\/\/www.w3.org\/2000\/svg\u0022 viewBox=\u00220 0 48 48\u0022&amp;gt;&amp;lt;g fill=\u0022none\u0022 stroke=\u0022currentColor\u0022 stroke-miterlimit=\u002210\u0022 stroke-width=\u00222\u0022&amp;gt;&amp;lt;path d=\u0022M44 36H19.2c-3.9 0-7.2-2.8-7.9-6.6L6.5 1H0\u0022\/&amp;gt;&amp;lt;path d=\u0022M8 9h39l-2.4 11.6c-.9 4.4-4.7 7.6-9.1 7.9l-24 1.5\u0022\/&amp;gt;&amp;lt;circle cx=\u002215.5\u0022 cy=\u002243.5\u0022 r=\u00223.5\u0022\/&amp;gt;&amp;lt;circle cx=\u002239.5\u0022 cy=\u002243.5\u0022 r=\u00223.5\u0022\/&amp;gt;&amp;lt;\/g&amp;gt;&amp;lt;\/svg&amp;gt;    &amp;lt;\/button&amp;gt;\n&amp;lt;\/form&amp;gt;\n\n                &amp;lt;form class=\u0022counter  js-counter\u0022\n      method=\u0022post\u0022\n      action=\u0022\/e-veikals\/cart\/change\u0022\n&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_method\u0022 value=\u0022put\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_token\u0022 value=\u002267RNG9eJsKaHhthRxGbeoL97AiwFKSkcCd6RUaoR\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 name=\u0022amount\u0022\n           value=\u00221\u0022\n           min=\u00221\u0022\n           max=\u002210\u0022\n           data-unit=\u0022Piece\u0022\n    &amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022step\u0022 value=\u00221\u0022&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022product\u0022 value=\u0022957905\u0022&amp;gt;\n    &amp;lt;button name=\u0022decrease\u0022\n            class=\u0022counter__subtract js-subtract\u0022\n            type=\u0022submit\u0022\n            aria-label=\u0022Decrease\u0022\n            data-gtm-ignore&amp;gt;\n        &amp;lt;svg class=\u0022\u0022 xmlns=\u0022http:\/\/www.w3.org\/2000\/svg\u0022 viewBox=\u00220 0 48 48\u0022&amp;gt;&amp;lt;path d=\u0022M8 24h32\u0022 fill=\u0022none\u0022 stroke=\u0022currentColor\u0022 stroke-width=\u00222\u0022 stroke-miterlimit=\u002210\u0022\/&amp;gt;&amp;lt;\/svg&amp;gt;    &amp;lt;\/button&amp;gt;\n    &amp;lt;span class=\u0022counter__number\u0022&amp;gt;\n        1    &amp;lt;\/span&amp;gt;\n    &amp;lt;button name=\u0022increase\u0022\n            class=\u0022counter__add js-add\u0022\n            type=\u0022submit\u0022\n            aria-label=\u0022Increase\u0022\n            data-gtm-ignore\n                &amp;gt;\n        &amp;lt;svg class=\u0022\u0022 xmlns=\u0022http:\/\/www.w3.org\/2000\/svg\u0022 viewBox=\u00220 0 48 48\u0022&amp;gt;&amp;lt;path d=\u0022M6 24h36M24 42V5.9\u0022 fill=\u0022none\u0022 stroke=\u0022currentColor\u0022 stroke-width=\u00222\u0022 stroke-miterlimit=\u002210\u0022\/&amp;gt;&amp;lt;\/svg&amp;gt;    &amp;lt;\/button&amp;gt;\n\n&amp;lt;\/form&amp;gt;\n\n                &amp;lt;form class=\u0022js-delete-from-cart delete-form\u0022 method=\u0022post\u0022 action=\u0022\/e-veikals\/cart\/change\u0022&amp;gt;\n    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_method\u0022 value=\u0022put\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 name=\u0022_token\u0022 value=\u002267RNG9eJsKaHhthRxGbeoL97AiwFKSkcCd6RUaoR\u0022&amp;gt;    &amp;lt;input type=\u0022hidden\u0022 value=\u0022957905\u0022 name=\u0022product\u0022&amp;gt;\n    &amp;lt;button class=\u0022cart-card__delete js-delete js-remove-from-cart \u0022\n            aria-label=\u0022Remove\u0022&amp;gt;\n        &amp;lt;svg class=\u0022\u0022 xmlns=\u0022http:\/\/www.w3.org\/2000\/svg\u0022 viewBox=\u00220 0 48 48\u0022&amp;gt;&amp;lt;path d=\u0022M10 10l28 28m-28 0l28-28\u0022 fill=\u0022none\u0022 stroke=\u0022currentColor\u0022 stroke-width=\u00222\u0022 stroke-miterlimit=\u002210\u0022\/&amp;gt;&amp;lt;\/svg&amp;gt;    &amp;lt;\/button&amp;gt;\n&amp;lt;\/form&amp;gt;\n            \n\n        &amp;lt;\/div&amp;gt;\n\n        &amp;lt;p class=\u0022card__error\u0022&amp;gt;\n            Maximum amount is reached\n        &amp;lt;\/p&amp;gt;\n\n    &amp;lt;\/div&amp;gt;\n&amp;lt;\/div&amp;gt;\n        &amp;lt;\/div&amp;gt;\n    &amp;lt;\/div&amp;gt;\n&amp;lt;\/div&amp;gt;\n&quot;,             },             {                 index: 1,                 identifier: 'recommendations',                 name: &quot;Others have also bought&quot;,                 api_url: &quot;/e-veikals/en/products/957905/recommendations&quot;,                 icon: '&amp;lt;svg class=&quot;&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 48 48&quot;&amp;gt;&amp;lt;path fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-miterlimit=&quot;10&quot; stroke-width=&quot;2&quot; d=&quot;M8 1h32v40c0 3.3-2.7 6-6 6H14c-3.3 0-6-2.7-6-6V1zm0 26h32m-5-3v-6m0 18v-6&quot;/&amp;gt;&amp;lt;/svg&amp;gt;',                 html: null,             },         ]     };         Config.product_details_page.tabs.push({         index: 2,         identifier: 'recipes',         name: &quot;Recipes&quot;,         api_url: &quot;/e-veikals/en/products/957905/recipes&quot;,         icon: '&amp;lt;svg class=&quot;&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 48 48&quot;&amp;gt;&amp;lt;path fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-miterlimit=&quot;10&quot; stroke-width=&quot;2&quot; d=&quot;M38 47c-1.7 0-3-1.3-3-3V25.5l-1.7-1.7c-1.5-1.5-2.3-3.5-2.3-5.6V11c0-5.5 4.5-10 10-10v43c0 1.7-1.3 3-3 3zM24 1l1 13.1c0 1.9-1.2 3.7-2.4 5.1L19 23v21c0 1.7-1.3 3-3 3s-3-1.3-3-3V23l-3.6-3.8C8 17.8 7.2 16 7 14L8 1m5 0v14m6-14v14&quot;/&amp;gt;&amp;lt;/svg&amp;gt;',         html: null,     });     &lt;/script&gt; </code></pre> <p>I tried to load this as text (text[30:-2] to take only the JavaScript object) and then load it through demjson.decode(), but it seems that the string has to be loaded in a specific way (as a literal) which I don't know how to do.</p> <p>Thanks!</p>"	2021-12-05 13:25:24.393 UTC	70236171	"<p>In essence you just want the value associated with the &quot;html&quot; key within the specified block. You can regex that out.</p> <p>You then need to do some string cleaning to get the Unicode code points necessary for HTML you can parse properly (for the code point cleaning I use an answer given by @Mark Tolonen linked below).</p> <pre><code>import requests, re from bs4 import BeautifulSoup as bs  r = requests.get('https://www.rimi.lv/e-veikals/en/products/vegan-and-vegetarian-/plant-based-beverages/auzu-dzeriens-barista-kafijai-bezglut-uht-1l/p/957905')  s = re.search(r'tabs.*html: &quot;(.*?)&quot;', r.text, re.S).group(1)  #https://stackoverflow.com/a/64071813 to clean unicode @Mark Tolonen soup = bs(re.sub(r'\\u([0-9a-fA-F]{4})',lambda m: chr(int(m.group(1),16)),s))  print(soup) </code></pre>"			2021-12-05 16:18:21.7 UTC
70244878	javascript|python|regex|mysql-regexp	"How to do Regular Expressions in JavaScript, Python, and SQL with multiple brackets and generate string from brackets that contains specific character"	"<p>So, I have this data</p> <pre><code>{&quot;ABC&quot;:&quot;Hello&quot;},{&quot;DEF&quot;:&quot;World&quot;},{&quot;GHI&quot;:&quot;!!!&quot;} </code></pre> <hr /> <p>How to make a regex to generate a string inside brackets that contains <code>ABC</code> so it will return <code>Hello</code>?</p> <p>I also want to generate a string inside brackets that contains <code>GHI</code> so it will return <code>!!!</code></p> <p>I will be using this in JavaScript, Python, and REGEXP_EXTRACT function in SQL.</p> <hr /> <p>Currently I am trying to do this</p> <pre><code>{&quot;DEF&quot;:&quot;(.*?)&quot;} </code></pre> <p>But the result is</p> <pre><code>{&quot;ABC&quot;:&quot;Hello&quot;},World,{&quot;GHI&quot;:&quot;!!!&quot;} </code></pre> <hr /> <p>I got the solution</p> <p>I should add <code>.*</code> in before and after my regex</p> <p>so</p> <pre><code>.*{&quot;ABC&quot;:&quot;(.*?)&quot;}.* </code></pre> <p>will result <code>Hello</code></p>"	2021-12-06 11:38:15.563 UTC	70245405	"<p>Made an <a href=""https://regex101.com/r/7SgJhq/1/"" rel=""nofollow noreferrer"">example</a> on your line. Something like this looks like a regular: <code>.*({\&quot;ABC\&quot;:\&quot;.*?\&quot;}).*</code> <a href=""https://i.stack.imgur.com/KtyEp.png"" rel=""nofollow noreferrer"">screen</a></p>"			2021-12-06 12:19:24.727 UTC
70274572	javascript|python	run javascript code after python if statement	<p>I am trying to achieve the following. In my python code I have a if statement that checks for the response from a API server. if the response is 201 I want to run a code snippet inn javascript. The response is determined after a form is submitted in html.</p> <p>I have then declared a variable globally and that variable is set to false. After the response is 201 i set this variable to true. If this variable is true i want to run a code snippet.</p> <pre><code>        submit = False         if response == 201:             submit = True             response_page = redirect(&quot;next_url&quot;)             # redirect to next step             return response_page  </code></pre> <p>Inn my javascript code I check for the variable like so:</p> <pre><code>    function setData(){         if('{{submit}}'==&quot;True&quot;){             #Run code         }     } </code></pre> <p>The setData() function is run when the form is submitted. But it doesnâ€™t work because the function does not wait for the server response. Any one have any ideas on how I can achieve this?</p>	2021-12-08 11:54:05.513 UTC	70275295	"<p>I assume that u don't want to fetch it through js. maybe do setInterval() and clearInterval()</p> <pre><code>let setData; if (!setData) { setData = setInterval(function setData(){     if('{{submit}}'==&quot;True&quot;){         #Run code         clearInterval(setData);     }   }, 1000); } </code></pre> <p>I'm pretty new hope it helps.</p>"			2021-12-08 12:49:55.443 UTC
70281994	javascript|python|console	Would it be possible to open a website and then run JavaScript in it using Python?	"<p>I have been trying to open a website (using python), then run a JavaScript script on it.</p> <p>I did the open the website part, but I haven't managed to get the JavaScript to run after the page loads.</p> <pre><code>import os url='example.com' jscode='alert(\'success\')' os.system('start chrome.exe '+url+' javascript:'+jscode) </code></pre> <p>The code above is the best I can think of.</p> <p>It opens the website but does not run the javascript.</p> <p>I used <code>os.system()</code> because other methods have problems with chrome.</p>"	2021-12-08 21:35:06.25 UTC	70284271	"<p>I figured it out:</p> <p>VBScript and batch together to open the site then enter keystrokes</p> <p>'<a href=""https://www.codegrepper.com/code-examples/whatever/Make+a+batch+file+that+opens+site+in+browser+and+enter+login+information"" rel=""nofollow noreferrer"">https://www.codegrepper.com/code-examples/whatever/Make+a+batch+file+that+opens+site+in+browser+and+enter+login+information</a>' was very useful for developing this answer</p> <pre><code>''' enclosed in '{}' means special characters  '~' or '{ENTER}' = [ENTER] '^' = [CTRL]  multiple characters in the same list item are typed at the same time '''  keyplan = [&quot;^l&quot;,&quot;javascript:alert{(}'success'{)}&quot;,&quot;~&quot;]  with open('temp.cmd','w') as f: pass with open('temp.cmd', 'a') as f:     #batch code section     f.write(      '@if (@CodeSection == @Batch) @then\n'     +'@echo off\n'     +'set SendKeys=CScript //nologo //E:JScript &quot;%~F0&quot;\n')     +'START CHROME &quot;example.com&quot;\n'     +'timeout /t 10\n'     )#the timeout is to give time for the page to load          #log keys in plan     for key in keyplan:         f.write('%SendKeys% &quot;'+key+'&quot;\n')          f.write('goto :EOF\n')     f.write('@end\n')          #VBScript section     f.write('var WshShell = WScript.CreateObject(&quot;WScript.Shell&quot;);\n')          #send keys (runs on every '%SendKeys% &quot;key&quot;)     f.write('WshShell.SendKeys(WScript.Arguments(0));\n') os.system(&quot;temp.cmd&quot;) </code></pre> <p>After writing this I have realized that <code>import pynput</code> is a method that would not involve <code>os.system</code>.</p>"			2021-12-09 03:09:13.36 UTC
70295984	python|tensorflow|tensorflow.js	same model with diferent prediction betwen python and javascript tensorflow	"<p>Hello I am exporting arcface model from python to tensorflow.js in python I got the following prediction:</p> <pre><code>-2.47331879e+02,  2.43775589e+02,  1.48011673e+02,.... </code></pre> <p>But in javascript, I got the following.</p> <pre><code>-247.3305206298828,243.7752685546875,148.0111541748047,.... </code></pre> <p>But the input is the same image, the only different thing is that in TensorFlow, I needed to cast the array to tensor using the following line:</p> <pre><code>  face = tf.tensor(face[0][0]) </code></pre> <p>Why I am getting different results?</p> <p><strong>EDIT</strong></p> <p>I am using this code in order to get the image as array in python and in javascript</p> <p>Python code:</p> <pre><code>img = Image.open('file.jpg') img = img.resize((112, 112), Image.ANTIALIAS) img = np.expand_dims(img, axis=0) img = tf.convert_to_tensor(img, dtype='int32') </code></pre> <p>Image is save in a file with the following code:</p> <pre><code>with open('data.txt', 'w') as outfile:     json.dump(np.array(img).tolist(), outfile) </code></pre> <p>And paste in a variable in javascript code.</p> <p>Javascript code:</p> <pre><code> face = tf.tensor(face[0][0], [1, 112, 112, 3], 'int32')  const display = document.getElementById('display');  modelLayer.then(model =&gt; display.innerHTML =   model.predict(face).dataSync()) </code></pre> <p><strong>EDIT2</strong></p> <p>The euclidean distance between javascript prediction and Python prediction is 0.021145982611487882</p> <p>Thanks</p>"	2021-12-09 19:58:47.953 UTC	70338074	"<p>Like Most likely a number precision thing</p> <p>Which backend are you using in TFJS? WASM had terrible precision, but it has improved in TFJS 3.11 although it's still lower precision than WebGL.</p> <p>What is number types is saved model using (dump <code>model.summary()</code> to check)?<br /> If model itself is using something like <code>float64</code> (not uncommon), of course precision in TFJS will be lower as there is no 64bit support in TFJS (WebGL itself doesn't have 64bit precision, so TFJS cannot even attempt it)</p> <p>And even with WebGL, <code>float32</code> is more like <code>float30</code> due to precision loss in GL itself when its working with shaders.</p>"			2021-12-13 16:47:10.8 UTC
70306855	javascript|python|beautifulsoup|python-requests|selenium-chromedriver	How to get Python to scrape web page generated by JavaScript files	"<p>I have a website I want to automate some actions on but the page is generated by 2 JavaScript files and is defined like this in the html:</p> <pre><code>&lt;script src=&quot;/build/runtime.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/build/app.js&quot;&gt;&lt;/script&gt; </code></pre> <p>runtime.js is about 70 lines and app.js is about 40k lines... I have no idea how to read the code as I don't know any JavaScript and my Pyton knowledge is a mere atom more ;)</p> <p>I'd share the particular site but the page is behind a login.  So I've managed to get to the page using 2 different methods but can't find a way to press buttons within this next page generated by the JS.</p> <p>Method 1 - Requests &amp; BeautifulSoup but got stuck on the JS bit so switched to method2.</p> <pre><code>import requests from bs4 import BeautifulSoup  # Site &amp; creds LOGIN_URL = 'https://website.com/login' USERNAME = 'user' PASSWORD = 'pass'  # Pretend to be browser headers = {     'accept': 'text/html,application/xhtml+xml,application/xml',     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36' } # Start session session = requests.session() # Get login page response = session.get(LOGIN_URL, headers=headers, verify=False) # Get csrf token soup = BeautifulSoup(response.content, 'html.parser') csrf_token = (soup.find(id=&quot;login_form__token&quot;)[&quot;value&quot;]) # Set creds with csfr token payload = {     'login_form[username]': USERNAME,     'login_form[password]': PASSWORD,     'login_form[login]': '',     'login_form[_token]': csrf_token } # Login &amp; do something else with cookies I don't understand response = session.post(LOGIN_URL, data=payload, verify=False) response = session.get('https://website.com/pageIWant', verify=False)  soup = BeautifulSoup(response.content, 'html.parser') print(soup.prettify()) </code></pre> <p>Method 2 - Selenium &amp; ChromeDriver</p> <pre><code>from selenium import webdriver from selenium.webdriver.chrome.options import Options from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By  options = Options() options.headless = True options.add_argument(&quot;--window-size=1920,1200&quot;) options.add_argument('--disable-gpu') options.add_argument('--disable-software-rasterizer')  driver = webdriver.Chrome(options=options, executable_path='chromedriver.exe') driver.get(&quot;https://website.com/login&quot;)  driver.find_element_by_id(&quot;login_form_username&quot;).send_keys('user') driver.find_element_by_id(&quot;login_form_password&quot;).send_keys('pass') driver.find_element_by_id(&quot;login_form_login&quot;).click()  driver.get(&quot;https://website.com/pageIWant&quot;)  html = driver.page_source print(html) </code></pre> <p>So I thought method 2 would make things easier but pretty much stuck at the same point.  The page generated that I want contains buttons I'd need to press in order to access downstream pages.  Read a lot about accessing elements but can't see anything within this 40k worth of JS jibberish.  Where is a good place to start?</p>"	2021-12-10 15:30:33.837 UTC	70307625	"<p>&quot;Where is a good place to start?&quot;</p> <p>Regardless of how the page is generated (HTML or JS), ultimately what you have to address in Selenium is the page's live DOM. So &quot;where to start&quot; is inspecting the page's DOM in browser dev tools, and from the DOM, figure out how to find the button elements in Selenium.</p>"			2021-12-10 16:30:46.557 UTC
70405452	python|python-3.x|conda	Do we have a website to search packages and get conda commands to install python packages like we have for Javascript?	"<p>I am using conda to create environment and install packages to my python app. I am looking for a website where I can find the command to run by searching the package name. Is there a website like that? For example we have for javascript <a href=""https://www.npmjs.com/"" rel=""nofollow noreferrer"">https://www.npmjs.com/</a>. I find one for python <a href=""https://libraries.io/"" rel=""nofollow noreferrer"">https://libraries.io/</a> but it does not mention conda command. Thanks</p>"	2021-12-18 17:13:19.463 UTC	70405466	"<p>Of course, depending on your package manager:</p> <ul> <li>PyPI (<code>pip install</code>):  <a href=""https://pypi.org/"" rel=""nofollow noreferrer"">https://pypi.org/</a></li> <li>Anaconda Cloud (<code>conda install</code>): <a href=""https://anaconda.org"" rel=""nofollow noreferrer"">https://anaconda.org</a></li> </ul>"			2021-12-18 17:15:34.15 UTC
70410953	javascript|python|html|chart.js	Passing data from Python to JavaScript to plot Chart.js	"<p>I want to know what the best practice is for my application project.</p> <p>I want to render a chart using <code>Chart.js</code>. Data is generated in Python, and I know how to pass it to html: <code>render_template(&quot;/index.html&quot;, chart_data=chart_data)</code>. However, after passing <code>chart_data</code> to html, I don't know how to pass it to the javascript, where the chart is generated. Or, is it better to pass it directly from <code>.py</code> to <code>.js</code>, without bypassing <code>.html</code>? If so, what is the way?</p> <p>Here are my codes: app.py</p> <pre><code>import os from flask import Flask, flash, redirect, render_template, request, session from flask_session import Session  # Configure application app = Flask(__name__)  @app.route(&quot;/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;]) def index():     chart_data = {         &quot;labels&quot;: [&quot;Italy&quot;, &quot;France&quot;, &quot;Spain&quot;, &quot;USA&quot;, &quot;Argentina&quot;],         &quot;values&quot;: [55, 49, 44, 24, 15]     }     return render_template(&quot;/index.html&quot;, chart_data=chart_data)   if __name__ == &quot;__main__&quot;:     app.run() </code></pre> <p>index.html</p> <pre><code>&lt;!DOCTYPE html&gt;  &lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;     &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.2/chart.min.js&quot;&gt;&lt;/script&gt;     &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot;&gt; &lt;/head&gt;  &lt;body&gt;     &lt;div class=&quot;container&quot;&gt;         &lt;canvas id=&quot;myChart&quot; style=&quot;width:100%;max-width:700px&quot;&gt;&lt;/canvas&gt;         &lt;script type=&quot;text/javascript&quot; src=&quot;static/app.js&quot;&gt;&lt;/script&gt;     &lt;/div&gt; &lt;/body&gt;  &lt;/html&gt; </code></pre> <p>app.js</p> <pre><code>// For the testing purpose, I generated the same data in js.  // But I want to fetch this from .html, or directly from .py. var xValues = [&quot;Italy&quot;, &quot;France&quot;, &quot;Spain&quot;, &quot;USA&quot;, &quot;Argentina&quot;]; var yValues = [55, 49, 44, 24, 15]; var barColors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;orange&quot;, &quot;brown&quot;];  let myChart = document.getElementById('myChart').getContext('2d');  let barChart = new Chart(myChart, {     type: 'bar',     data: {         labels: xValues,         datasets: [             {                 label: &quot;population&quot;,                 data: yValues             }         ]     },     options: {} }); </code></pre> <p>As a side note, this is a minimal reproducible example from my entire project. In the real project, my <code>app.py</code> gets user inputs from <code>index.html</code> using <code>request.form.get()</code> and dynamically generates <code>chart_data</code>. But I excluded this part from the question because I was able to make it work.</p> <p><strong>EDIT</strong> In the <code>app.js</code>, I modified like below but it seems this syntax is only supported in <code>.html</code>. I don't want to include my js script in html, but instead have it as a separated <code>.js</code> file.</p> <pre><code>data: {         labels: {{ chart_data['labels']| tojson }},     datasets: [         {             label: &quot;population&quot;,             data: {{ chart_data['values']| tojson }}                 }     ] } </code></pre>"	2021-12-19 11:17:50.393 UTC	70633970	"<p>The data should come from HTTP calls; doesn't really matter where that is, but it's not directly from HTML or a &quot;.py file&quot;. Since you're using Flask and the data could be dynamic, you would add a route for it, not render it statically</p> <pre><code># assume this is defined somewhere else, like a database  chart_data = {         &quot;labels&quot;: [&quot;Italy&quot;, &quot;France&quot;, &quot;Spain&quot;, &quot;USA&quot;, &quot;Argentina&quot;],         &quot;values&quot;: [55, 49, 44, 24, 15]     }   @app.route(&quot;/data&quot;, methods=[&quot;GET&quot;]) def data():     global chart_data     return jsonify(chart_data) </code></pre> <p>Then, you need a JS file that is loaded to call <code>fetch</code> API to get the data, and build the chart</p> <pre><code>let myChart = document.getElementById('myChart').getContext('2d');  fetch('http://127.0.0.1/data')   .then(response =&gt; response.json())   .then(data =&gt; {        console.log(data);        let labels = data.labels;         let barChart = new Chart(myChart, {              ...     }); </code></pre> <p>Then you include the JS file in a template</p> <pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;{{ url_for('static', filename='app.js'}}&quot;/&gt; </code></pre> <p><a href=""https://stackoverflow.com/questions/16351826/"">Link to Flask static files with url_for</a></p>"			2022-01-08 15:51:29.34 UTC
70417378	python|arrays|list|github|discord.py	How can I parse a JavaScript array hosted on GitHub into a Python list?	"<p>I have a Discord bot written in Python and I wanted to add a feature that would make it immediately delete any phishing links it finds.</p> <p>I looked for a list of known phishing domains and I found <a href=""https://github.com/nikolaischunk/discord-phishing-links/blob/main/domain-list.js"" rel=""nofollow noreferrer"">this on GitHub.</a></p> <p>However the issue is that this is a JS file with one big array, and my bot is 100% Python.</p> <p>I could just make a copy of this list, but then I lose the advantage of it being constantly updated, so I would like to read the domains directly from GitHub, if possible.</p> <p>I am not sure how to get and parse this into a Python list.</p> <p>Looking around on StackOverflow people are suggesting parsing the data as JSON, or using regex, but unfortunately I haven't understood it all yet.</p> <p>Guidance would help - or maybe you have a better way of doing things altogether rather than this approach! Thank you</p>"	2021-12-20 04:26:46.963 UTC	70417465	"<p>Here is one approach (prone to failure and definitely not the recommended way to do this):</p> <pre class=""lang-py prettyprint-override""><code>import requests  RAW_DATA_LINK = &quot;https://raw.githubusercontent.com/nikolaischunk/discord-phishing-links/main/domain-list.js&quot;   def get_data():     response = requests.get(RAW_DATA_LINK)     data = response.content.decode()     data = data.replace(&quot;const suspiciousDomains = &quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;)  # or just data[26:-2]     return eval(data) </code></pre> <p><code>get_data()</code> will give you a list of all the links in that file. You could additionally try using sessions while making the request...</p> <p>Again if you are in control of that file just store it as json and if you are not in control, you'd probably be better off with regular expressions.</p>"			2021-12-20 04:44:58.53 UTC
70417378	python|arrays|list|github|discord.py	How can I parse a JavaScript array hosted on GitHub into a Python list?	"<p>I have a Discord bot written in Python and I wanted to add a feature that would make it immediately delete any phishing links it finds.</p> <p>I looked for a list of known phishing domains and I found <a href=""https://github.com/nikolaischunk/discord-phishing-links/blob/main/domain-list.js"" rel=""nofollow noreferrer"">this on GitHub.</a></p> <p>However the issue is that this is a JS file with one big array, and my bot is 100% Python.</p> <p>I could just make a copy of this list, but then I lose the advantage of it being constantly updated, so I would like to read the domains directly from GitHub, if possible.</p> <p>I am not sure how to get and parse this into a Python list.</p> <p>Looking around on StackOverflow people are suggesting parsing the data as JSON, or using regex, but unfortunately I haven't understood it all yet.</p> <p>Guidance would help - or maybe you have a better way of doing things altogether rather than this approach! Thank you</p>"	2021-12-20 04:26:46.963 UTC	70506973	"<p>Disclaimer: I was not able to see the original js file, so there might be some inaccuracy. This answer was written to provide an alternative from using <code>eval()</code> as it is a <strong>huge security risk</strong>. Read <a href=""https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html"" rel=""nofollow noreferrer"">Eval really is dangerous</a>.</p> <p>I assume the Javascript file is something like this:</p> <pre><code>const suspiciousDomains = {   &quot;domains&quot;: [     &quot;tinyurl.com/yyw8sy9b&quot;,     &quot;tinyurl.com/yyyz9xdg&quot;,     &quot;token-bit.com&quot;   ] }; </code></pre> <pre><code>import requests import json    RAW_DATA_LINK = &quot;https://raw.githubusercontent.com/nikolaischunk/discord-phishing-links/main/domain-list.js&quot; // the now dead link  def get_data():     # credit to @Sujal Singh     data = response.content.decode().replace(&quot;const suspiciousDomains = &quot;, &quot;&quot;).replace(         &quot;;&quot;, &quot;&quot;)  # or just data[26:-2]     # use json.loads() instead     return json.loads(data)  </code></pre> <p><code>json.loads()</code> does not evaluate the string directly but instead <em><strong>parse</strong></em> the string.<br/> To see what <code>json.loads()</code> do, you can read <a href=""https://stackoverflow.com/a/45483187/7099900"">this</a>.</p>"			2021-12-28 12:19:41.29 UTC
70418222	python|google-maps|google-maps-api-3|google-directions-api	google maps direction api: python vs javascript	"<p>I am facing this weird problem. I've been using the google maps APIs using javascript the whole while and now had to use google maps API using python for some reason. The issue I'm facing is that I get different data in JS and python for the same source and destination. To be specific, I am not getting the <code>path</code> variable in the response JSON when using python google maps.</p> <pre class=""lang-py prettyprint-override""><code> import googlemaps  from datetime import datetime   gmaps = googlemaps.Client(key='API_KEY')  geocode_result = gmaps.geocode('1600 Amphitheatre Parkway, Mountain View, CA')   reverse_geocode_result = gmaps.reverse_geocode((40.714224, -73.961452))   now = datetime.now()  directions_result = gmaps.directions(&quot;Silk Board, Bengaluru&quot;, &quot;Indira Nagar, Bengaluru&quot;, mode=&quot;transit&quot;, departure_time=now)  print(directions_result) </code></pre> <p>The data I get using python: <a href=""https://i.stack.imgur.com/VkKT8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VkKT8.png"" alt=""enter image description here"" /></a></p> <p>The data I get using JS:<a href=""https://i.stack.imgur.com/4rV1e.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4rV1e.png"" alt=""enter image description here"" /></a></p> <p>As you can see, the <code>path</code> is missing.</p> <p>I am using <a href=""https://github.com/googlemaps/google-maps-services-python"" rel=""nofollow noreferrer"">python-googlemaps'</a> direction API. I also tried using request module and using the google direction API using https links but still the received data is the same. Is python supposed to behave this way or am I doing something wrong? Any help is appreciated.</p>"	2021-12-20 06:44:13.527 UTC	70443965	"<p>I contacted the google tech support and looks like the data is intended to be this way. If you want to get the co-ordinates of the entire route like I wanted, you can use the &quot;polyline&quot; field that comes in as a response.</p> <p>The polyline will be in an encoded format. You can use <a href=""https://developers.google.com/maps/documentation/utilities/polylineutility"" rel=""nofollow noreferrer"">this</a> link to decode the data into the required co-ordinates or you can also use the polyline library(available in python) for the same.</p>"			2021-12-22 03:33:11.713 UTC
70478425	javascript	How to do [:] like in Python but in JavaScript?	"<p>in Python, you can get a list like this (array in JavaScript)</p> <pre class=""lang-py prettyprint-override""><code>a = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;] print(a[:]) # [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;] </code></pre> <p>I'm wondering how I can do this too but in JavaScript. If it is possible, please tell me :)</p>"	2021-12-25 06:51:59.67 UTC	70478509	"<p>In python, <code>a[:]</code> creates a shallow copy of the array. The equivalent in JS is <code>[...a]</code>.</p> <p>If you just want to get the first two elements, you can use <code>a.slice(0, 2)</code> which returns a new array. The slice method goes from the starting index (inclusive) to the ending index (non-inclusive).</p>"			2021-12-25 07:11:42.46 UTC
70479967	javascript|python|algorithm	What is the difference between javascript and python Fibonacci code here?	"<p>I'm currently using matrix multiplication formulas to create algorithms for Fibonacci sequences.</p> <p>I made my JavaScript code based on the following python code. However, it was confirmed that another value was output [case fib(150)]. I think the % mod is wrong, but how can I solve this problem?</p> <p>javascript code</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const n = parseInt(prompt(""Number"")); const mod = 1000000007;  const fib = () =&gt; {   const zero = [     [1, 1],     [1, 0],   ];   const base = [     [1],     [1]   ];    const power = (a, num) =&gt; {     if (num === 1) return a;     else if (num % 2 != 0) return multi(power(a, num - 1), a);     else return power(multi(a, a), parseInt(num / 2));   };    const multi = (a, b) =&gt; {     const temp = Array.from(Array(2), () =&gt; Array(b[0].length).fill(0));      for (let i = 0; i &lt; 2; i++) {       for (let j = 0; j &lt; b[0].length; j++) {         let sum_num = 0;         for (let k = 0; k &lt; 2; k++) {           sum_num += a[i][k] * b[k][j];         }         temp[i][j] = sum_num % mod;       }     }      return temp;   };    return multi(power(zero, n - 2), base)[0][0]; };  if (n === 0) {   console.log(0); } else if (n &lt; 3) {   console.log(1); } else {   console.log(fib()); }</code></pre> </div> </div> </p> <p>python code</p> <pre class=""lang-py prettyprint-override""><code>import sys input = sys.stdin.readline MOD = 1000000007 adj=[[1,1],[1,0]] start=[[1],[1]] N = int(input())  def power(adj,n):     if n == 1:         return adj     elif n % 2:         return multi(power(adj,n-1), adj)     else:         return power(multi(adj,adj), n//2)      def multi(a,b):     temp=[[0]*len(b[0]) for _ in range(2)]          for i in range(2):         for j in range(len(b[0])):             sum_n = 0             for k in range(2):                 sum_n += a[i][k]*b[k][j]             temp[i][j]= sum_n % MOD                  return temp  if N &lt; 3:     print(1) else:     print(multi(power(adj,N-2),start)[0][0]) </code></pre>"	2021-12-25 12:16:51.987 UTC	70480088	"<p>I solved it using bigint. Thank you for your help. (mplungjan, Kelly Bundy)</p> <pre class=""lang-js prettyprint-override""><code>  const n = BigInt(prompt('Number'));   const mod = 1000000007n;    const fib = () =&gt; {     const zero = [       [1n, 1n],       [1n, 0n],     ];     const base = [[1n], [1n]];      const power = (a, num) =&gt; {       if (num === 1n) return a;       else if (num % 2n != 0) return multi(power(a, num - 1n), a);       else return power(multi(a, a), BigInt(num / 2n));     };      const multi = (a, b) =&gt; {       const temp = Array.from(Array(2), () =&gt; Array(b[0].length).fill(0));        for (let i = 0; i &lt; 2; i++) {         for (let j = 0; j &lt; b[0].length; j++) {           let sum_num = 0n;           for (let k = 0; k &lt; 2; k++) {             sum_num += a[i][k] * b[k][j];           }           temp[i][j] = sum_num % mod;         }       }        return temp;     };      return multi(power(zero, n - 2n), base)[0][0];   };    if (n === 0) {     console.log(0);   } else if (n &lt; 3) {     console.log(1);   } else {     console.log(parseInt(fib()));   } </code></pre>"			2021-12-25 12:39:13.44 UTC
70487394	python|python-3.x	"What is the equivalent of JavaScript's `===` in Python, if it's not `is`?"	"<p>In JavaScript, if I want to know if <code>foo == false</code> and <code>foo != 0</code> (or some other &quot;falsy&quot; value), I use <code>foo === false</code>, and that gives me a nice simple, exact comparison. It's even computationally faster because it doesn't try to test multiple types of equivalence. In Python the only equivalent I found to <code>===</code> and <code>!==</code> was <code>is</code> and <code>is not</code>. Now, after getting the <code>SyntaxWarning: &quot;is&quot; with a literal. Did you mean &quot;==&quot;?</code> error, and reading questions, answers, and articles about why <code>is</code> shouldn't be used in this, I'm left scratching my head.</p> <p>For example:</p> <pre><code>def foo(bar=False):     if bar != False:         print(bar)     else:         print('default!') </code></pre> <p>Of course I ran into a case where <code>bar</code> was set to <code>0</code> and printed <code>default!</code>. I had been dealing with it like so:</p> <pre><code>def foo(bar=False):     if bar is not False:         print(bar)     else:         print('default!') </code></pre> <p>So if I'm not supposed to do that, what's the correct approach? Do I need to type out <code>bar != False and bar != 0</code> every time?</p>"	2021-12-26 14:54:53.167 UTC	70487419	<p>One option is :</p> <pre><code>def foo(bar=None):     if bar is not None:         print(bar)     else:         print('default!') </code></pre> <p>Only the 'None' object is identical to 'None' so any value of <code>bar</code> except <code>None</code> will print 'default'</p>			2021-12-26 14:58:29.663 UTC
70489461	javascript|python|django|screenshot|html2canvas	html2canvas javascript screenshot pass to python	"<p>would it be possible to use html2canvas to take a picture of the user`s screen but also i wanna use this image with python function. What I want to do is save the image of the html element with javascript and send it to slack with python.</p> <pre><code> function capture() {           html2canvas(document.getElementById(&quot;main&quot;), {               letterRendering: 1,               allowTaint: true,               useCORS: true,           })               .then(function (canvas) {                   document.getElementById(&quot;result&quot;).src = canvas.toDataURL(&quot;image/png&quot;, 0.5);               })               .catch((e) =&gt; {                   alert(e);               });       } </code></pre>"	2021-12-26 20:04:15.467 UTC	70506337	"<p>i resolved problem like that;</p> <p>JS;</p> <pre><code>&lt;script&gt;       function capture() {           html2canvas(document.getElementById(&quot;main&quot;), {               letterRendering: 1,               allowTaint: true,               useCORS: true,           })               .then(function (canvas) {                   document.getElementById(&quot;result&quot;).src = canvas.toDataURL(&quot;image/png&quot;, 0.5);                   var img = canvas.toDataURL();                   $.ajax({                   type: &quot;POST&quot;,                   url: &quot;{% url 'sendtoslack' %}&quot;,                   data: {                    &quot;imageData&quot;: img,                   csrfmiddlewaretoken: '{{ csrf_token }}'                   }                                  })               })               .catch((e) =&gt; {                   alert(e);               });       }   &lt;/script&gt; </code></pre> <p>view;</p> <pre><code>image = request.POST.get('imageData') </code></pre> <p>decoding base64;</p> <pre><code>import base64  imagestr = str(image) x = imagestr[22:] img = Image.open(io.BytesIO(base64.decodebytes(bytes(x, &quot;utf-8&quot;)))) </code></pre>"			2021-12-28 11:23:44.67 UTC
70489461	javascript|python|django|screenshot|html2canvas	html2canvas javascript screenshot pass to python	"<p>would it be possible to use html2canvas to take a picture of the user`s screen but also i wanna use this image with python function. What I want to do is save the image of the html element with javascript and send it to slack with python.</p> <pre><code> function capture() {           html2canvas(document.getElementById(&quot;main&quot;), {               letterRendering: 1,               allowTaint: true,               useCORS: true,           })               .then(function (canvas) {                   document.getElementById(&quot;result&quot;).src = canvas.toDataURL(&quot;image/png&quot;, 0.5);               })               .catch((e) =&gt; {                   alert(e);               });       } </code></pre>"	2021-12-26 20:04:15.467 UTC	70489947	"<p>You can use the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob"" rel=""nofollow noreferrer""><code>HTMLCanvasElement.toBlob</code></a> function to convert the canvas image into a <code>Blob</code> that you can send through <code>fetch</code>.</p> <pre class=""lang-js prettyprint-override""><code>.then(function (canvas) {   canvas.toBlob(blob =&gt; {     fetch(&quot;URL&quot;, {       method: 'POST',       headers: { 'Content-Type': 'image/png' }       body: blob     })        const imgSrc = URL.createObjectURL(blob);     document.getElementById(&quot;result&quot;).onload = () =&gt; URL.revokeObjectURL(imgSrc);     document.getElementById(&quot;result&quot;).src = imgSrc;   }, &quot;image/png&quot;, 0.5) }); </code></pre>"			2021-12-26 21:24:06.613 UTC
70515159	javascript|python|flask|jinja2	How do I set the variables in this javascript file to match variables from Flask/Python?	"<p>I have a Javascript file that enables drop down menus dynamic (i.e. a selection from one drop down impacts the others). I would like to use this file in conjunction with multiple forms but I have hard-coded the starting variables in this file to html elements 'inverter_oem' and 'inverter_model_name'.</p> <p>In other forms, I will need to reference different objects.</p> <p>How can I accomplish this? I would like to create the variables in Javascript this way:</p> <pre><code>const selecting_dropdown_menu = document.getElementById(variable1_from_flask); const filtered_dropdown_menu = document.getElementById(variable2_from_flask); </code></pre> <p>My current approach is to try and pass variables from the Flask route using render_template. (I have also tried other stack overflow solutions but no luck)</p> <pre><code>@db_queries.route('/db_query_dynamic_form/&lt;form_name&gt;', methods=['GET', 'POST']) def db_query_dynamic_form(form_name):     # use methods to get form and endpoint for outside loop      if request.method == 'POST':         # inside loop when form complete         return render_template('list.html', result=query_results[&quot;filtered_tables&quot;], columns=query_results[&quot;column_names&quot;])      # added variable to pass to jinja template     return render_template(form_endpoint[&quot;endpoint&quot;], form=form_endpoint[&quot;form&quot;], var=&quot;value1&quot;) </code></pre> <p>The jinja template form is as follows</p> <pre><code>% extends &quot;base.html&quot; %} {% block title %}Inverter Dynamic  Search{% endblock %} {% block heading %}Inverter Dynamic Search{% endblock %} {% block content %}    &lt;form method=&quot;POST&quot;&gt;     {{ form.hidden_tag()}}     {{ form.inverter_oem.label }}{{ form.inverter_oem }}&lt;br&gt;     {{ form.inverter_model_name.label }}{{ form.inverter_model_name }}&lt;br&gt;     {{form.submit()}}      {{test}}   &lt;/form&gt;     &lt;script&gt;       myVar = {{ var }}     &lt;/script&gt;     &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;{{ url_for('static', filename='search_inverter_dynamic.js') }}&quot;&gt;&lt;/script&gt;   {% endblock %} </code></pre> <p>However, I dont get a value in the javascript file when I try</p> <pre><code>console.log(myVar); </code></pre> <p>Here is the original JScode with the &quot;hardcoded&quot; variables</p> <pre><code>//acquire inverter_oem value from form const inverter_oem_select = document.getElementById('inverter_oem'); const inverter_model_name_select = document.getElementById('inverter_model_name');  //add event listener to capture selected oem in dropdown inverter_oem_select.addEventListener('click', (e) =&gt; {     let oem = '../modelNameByOEM//' +  e.target.value;     console.log(oem);     getIt(oem); });  //recover a JSON containing the list of models from a specific oem async function getIt(input) {     try {         const res = await axios.get(input);         console.log(res.data);         optionHTML = '';         for (let modelName of res.data.modelNameOem) {             //console.log(res.modelName.name);             optionHTML += '&lt;option value=&quot;' + modelName.name + '&quot;&gt;' + modelName.name + '&lt;/option&gt;';             //console.log(optionHTML);         }         inverter_model_name_select.innerHTML = optionHTML;      } catch (err) {         console.log('Could not reach endpoint modelNameByOEM')         console.log(err);     }; } </code></pre>"	2021-12-29 04:32:37.993 UTC	70517961	"<p>Jinja does not know that you want to pass a variable inside a JavaScript environment, so it cannot add the quotation marks automatically around a string variable. It just replaces <code>{{ var }}</code> with <code>value1</code> causing a syntax error. Just add the quotation marks and then you can access <code>myVar</code> inside the JS environment:</p> <pre><code>&lt;script&gt; myVar = &quot;{{ var }}&quot; &lt;/script&gt; </code></pre> <p>Note: if you want to pass a more complex data structure and/or user submitted values, you should look at the <a href=""https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.tojson"" rel=""nofollow noreferrer""><code>tojson</code> filter</a> that safely renders the data.</p>"			2021-12-29 10:11:29.987 UTC
70515160	javascript|python|django|django-templates|django-filter	Is there any 'safe' keyword of Django template filter in Python or JavaScript?	"<p>I'm using <strong>ckeditor</strong> for description field which allows the user to format text.</p> <p>This is what I'm saving in my description field:</p> <pre><code>&lt;div class=&quot;ql-editor&quot; data-gramm=&quot;false&quot; data-placeholder=&quot;Compose an epic...&quot; contenteditable=&quot;true&quot;&gt; &lt;p&gt;&lt;strong&gt;LÃ¶sungen, die mit Ihrem Unternehmen wachsen. Gern berate ich Sie zu allen Steuerfragen. Vereinbaren Sie ein individuelles InformationsgesprÃ¤ch. Annette Wolff Î™ Steuerberaterin&lt;/strong&gt;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;ql-clipboard&quot; tabindex=&quot;-1&quot; contenteditable=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;ql-tooltip ql-hidden&quot;&gt; &lt;a class=&quot;ql-preview&quot; target=&quot;_blank&quot; href=&quot;about:blank&quot;&gt;&lt;/a&gt;&lt;input type=&quot;text&quot; data-formula=&quot;e=mc^2&quot; data-link=&quot;https://quilljs.com&quot; data-video=&quot;Embed URL&quot;&gt;&lt;a class=&quot;ql-action&quot;&gt;&lt;/a&gt;&lt;a class=&quot;ql-remove&quot;&gt;&lt;/a&gt; &lt;/div&gt; </code></pre> <p>To show it in a proper format I'm using <strong>description|safe</strong> filter in Django template which shows the description like this:</p> <p><strong>LÃ¶sungen, die mit Ihrem Unternehmen wachsen. Gern berate ich Sie zu allen Steuerfragen. Vereinbaren Sie ein individuelles InformationsgesprÃ¤ch. Annette Wolff Î™ Steuerberaterin</strong></p> <p>But how can I handle it with an Ajax call as I cannot use the Django template <strong>safe</strong> filter keyword?</p> <p><em><strong>Is there any way to handle it in JavaScript, jQuery, or in a Python file?</strong></em></p>"	2021-12-29 04:32:43.443 UTC	70515221	"<p>You can simply return description as your html using JsonResponse in your AJAX view:</p> <pre><code>from django.http import JsonResponse  def myview(request):     html = &quot;&lt;h1&gt;Some text&lt;/h1&gt;&quot;     return JsonResponse(html, safe=False) </code></pre> <p>You can also use <a href=""https://docs.djangoproject.com/en/3.0/ref/utils/#django.utils.safestring.mark_safe"" rel=""nofollow noreferrer"">mark_safe</a> as <code>mark_safe(html)</code> in your view</p>"			2021-12-29 04:46:13.697 UTC
70522831	javascript|r|python-3.x|theory	What type of construct is a for loop in JavaScript (or Python or R)	"<p>I understand how to write a for loop and what it does. If I wanted, however,  to understand it more deeply, could I describe it as a  block statement that with a expected group of keywords and appropriate syntax is used for (a type of) conditional execution?</p>"	2021-12-29 17:24:03.46 UTC	70522873	"<p>I'd say yes. A for loop is a control-flow block structure, almost always with a calculable finiteâ€”often pre-definedâ€”number of iterations, that performs the code inside the block. It often includes iterators so that the same algorithm within the block is applied to different elements as one traverses data.</p>"			2021-12-29 17:27:52.73 UTC
70538746	javascript|python|html|selenium|selenium-webdriver	"Running a ""for"" loop in JavaScript through Python-Selenium?"	"<p>I use Javascript to collate data from an HTML page via Selenium; however, I cannot run the Javascript portion from my computer via Selenium/py cause Python only offers the <code>driver.execute_script('string of a script')</code>, whereas I have a multi-line for loop which won't execute with these commands.</p> <p>The loop:</p> <pre><code>for (let i = 0; i &lt; Values.length; i++) {     if (Values[i].getAttribute('automation-id') === 'contact-wealth-manager') {         ele = Values[i]     } } </code></pre> <p>As you can test, this won't work with the standard &quot;driver.execute_script(&quot;let value = '';&quot;)</p>"	2021-12-31 03:30:18.193 UTC	70545589	"<p>To execute the multiline loop <em>Javascript</em> you need to pass the script as an argument to <a href=""https://stackoverflow.com/questions/64987951/what-does-execute-script-in-selenium-does/64988955#64988955"">execute_script()</a> method as follows:</p> <pre><code>driver.execute_script(&quot;&quot;&quot;     for (let i = 0; i &lt; Values.length; i++) {         if (Values[i].getAttribute('automation-id') === 'contact-wealth-manager') {             ele = Values[i]         }     } &quot;&quot;&quot;) </code></pre>"			2021-12-31 20:48:47.097 UTC
70541012	javascript|python|async-await	"javascript await and python await, are they same concept?"	"<p>From a user point of view,</p> <p>When we think of <code>for</code> loop..<br /> We could say <code>for</code> loop in javascript or python are the same thing conceptually.</p> <p>Can we say <code>await</code> in both languages are conceptually same?</p> <p>I smell, this can be a bad question.. but albeit interesting question for me..</p>"	2021-12-31 09:48:59.04 UTC	70541299	"<p>TL;DR <strong>No</strong>. They are <strong>NOT</strong> same.</p> <p>The biggest difference is,</p> <p>An <code>async</code> Javascript function <strong>will run</strong> if invoked, <strong>even if not awaited</strong>. <code>await</code> here is used to make sure the subsequent execution is done sequentially. ie., write code including an async function, just like for a synchronous code. Prior to async-await, JS code can get pretty complex since asynchronous functions will have be handled using Promises and Promise chaining can impact code readability pretty quickly.</p> <p>So in a way, <code>async-await</code> in JS may be termed as syntactic sugar for Promise handling.</p> <p>Incase of Python, when an <code>awaitable</code> object is invoked, a coroutine object is created. But this coroutine is <strong>not run</strong> unless it is <strong>awaited</strong>. Here the use of <code>await</code> is to run the coroutine.</p>"			2021-12-31 10:24:26.007 UTC
70544340	javascript|python|selenium|selenium-firefoxdriver	Execute Javascript using Selenium in Python	"<p>I'm loading a page using selenium and I want to execute this</p> <pre><code>&lt;script&gt; var ep_start = $('#episode_page a.active').attr('ep_start'); var ep_end = $('#episode_page a.active').attr('ep_end'); var id = $(&quot;input#movie_id&quot;).val(); var default_ep = $(&quot;input#default_ep&quot;).val(); var alias = $(&quot;input#alias_anime&quot;).val(); loadListEpisode('#episode_page a.active',ep_start,ep_end,id,default_ep,alias); &lt;/script&gt; </code></pre> <p>I have no clue how to do it in python, I tried to use the full script</p> <pre><code>js = '''script''' browser.execute_script(js) </code></pre> <p>or just loadListEpisode(...) replacing each one by its equivalent, it's not really working. The script is present on the page so maybe there's a way to directly call it. I tried to extract ep_start, ep_end,.. by hand then doing this</p> <pre><code>source = BeautifulSoup(...) var1 = source.find(...) ... browser.execute_script(&quot;loadEpisodeList(var1,var2,...)&quot;) </code></pre> <p>It didn't work too, I don't think it's recognizing them as variables</p>"	2021-12-31 17:14:39.83 UTC	70544798	"<p>If <code>$</code> represents <code>jQuery</code>, you would first have to load it into the browser as follows <em>if it has not already been loaded by the current page</em>:</p> <pre class=""lang-py prettyprint-override""><code>path_to_jquery_js = '/my_scripts/jquery.js' # for example with open(path_to_jquery_js, 'r') as f:     jquery_js = r.read() browser.execute_script(jquery_js) </code></pre> <p>If you do not have jQuery stored locally, then you would have to use something like the <code>requests</code> module from the <code>PyPi</code> repository to fetch it:</p> <pre class=""lang-py prettyprint-override""><code>import requests  jquery_url = 'https://some_domain/jquery.js' # for example r = requests.get(jquery_url) jquery_js = r.text browser.execute_script(jquery_js </code></pre> <p>Then you should be able to execute the script as follows:</p> <pre class=""lang-py prettyprint-override""><code>script = &quot;&quot;&quot; var ep_start = $('#episode_page a.active').attr('ep_start'); var ep_end = $('#episode_page a.active').attr('ep_end'); var id = $(&quot;input#movie_id&quot;).val(); var default_ep = $(&quot;input#default_ep&quot;).val(); var alias = $(&quot;input#alias_anime&quot;).val(); loadListEpisode('#episode_page a.active',ep_start,ep_end,id,default_ep,alias); &quot;&quot;&quot;  browser.execute_script(script) </code></pre> <p>Just make sure <code>loadListEpisode</code> is already defined by other JavaScript that has already been loaded.</p> <p>This is untested by me for obvious reasons, but give it a shot -- it should work in principle. Let me know how it goes (I am sure you will).</p>"			2021-12-31 18:24:29.92 UTC
70544340	javascript|python|selenium|selenium-firefoxdriver	Execute Javascript using Selenium in Python	"<p>I'm loading a page using selenium and I want to execute this</p> <pre><code>&lt;script&gt; var ep_start = $('#episode_page a.active').attr('ep_start'); var ep_end = $('#episode_page a.active').attr('ep_end'); var id = $(&quot;input#movie_id&quot;).val(); var default_ep = $(&quot;input#default_ep&quot;).val(); var alias = $(&quot;input#alias_anime&quot;).val(); loadListEpisode('#episode_page a.active',ep_start,ep_end,id,default_ep,alias); &lt;/script&gt; </code></pre> <p>I have no clue how to do it in python, I tried to use the full script</p> <pre><code>js = '''script''' browser.execute_script(js) </code></pre> <p>or just loadListEpisode(...) replacing each one by its equivalent, it's not really working. The script is present on the page so maybe there's a way to directly call it. I tried to extract ep_start, ep_end,.. by hand then doing this</p> <pre><code>source = BeautifulSoup(...) var1 = source.find(...) ... browser.execute_script(&quot;loadEpisodeList(var1,var2,...)&quot;) </code></pre> <p>It didn't work too, I don't think it's recognizing them as variables</p>"	2021-12-31 17:14:39.83 UTC	70544802	"<p>You simply need to pass the script as an argument to <a href=""https://stackoverflow.com/questions/64987951/what-does-execute-script-in-selenium-does/64988955#64988955"">execute_script()</a> method as follows:</p> <pre><code>driver.execute_script(&quot;&quot;&quot; var ep_start = $('#episode_page a.active').attr('ep_start'); var ep_end = $('#episode_page a.active').attr('ep_end'); var id = $(&quot;input#movie_id&quot;).val(); var default_ep = $(&quot;input#default_ep&quot;).val(); var alias = $(&quot;input#alias_anime&quot;).val(); loadListEpisode('#episode_page a.active',ep_start,ep_end,id,default_ep,alias); &quot;&quot;&quot;) </code></pre> <blockquote> <p>You can find a relevant discussion in <a href=""https://stackoverflow.com/questions/70177092/how-to-extract-and-print-the-final-numbers-using-selenium-chromedriver-and-mutat"">How to extract and print the final numbers using Selenium ChromeDriver and MutationObserver</a></p> </blockquote>"			2021-12-31 18:25:00.503 UTC
