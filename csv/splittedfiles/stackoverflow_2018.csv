48098631	Python dictionary to Javascript object	javascript|python|object|dictionary	2018-01-04 15:38:46.370000 UTC	"<p>I want to find how many times a character is given in string.</p>  <p>Python codes works</p>  <pre><code>def func(a): d={} for ch in a:     if ch in d:         d[ch] += 1     else:         d[ch] = 1 print d </code></pre>  <p>and javascript</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function how_many_times(string) {   object = {};   for (var i in string) {     if (i in object) {       object[i] += 1     } else {       object[i] = 1     }   }      console.log(object) }  how_many_times('Hello, World !')</code></pre> </div> </div> </p>  <p>When I try to pass this to javascript, I don't get the same result. I tried like this because I read python dictionary and javascript object are very similar. I know I can solve problem with other ways but <strong>I want to learn why it doesn't work in objects</strong>.</p>"	"<p>You could use <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of"" rel=""nofollow noreferrer""><code>of</code></a> instead of <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in"" rel=""nofollow noreferrer""><code>in</code></a> for the iteration.</p>  <p>The <code>for ... in</code> statement iterates over the keys of an object. The final result is an object with all indices and the count of one instead of getting the character and the count of it.</p>  <p>A possible workaround without <code>in</code> could be the use of the index as accessor for the wanted value, like <code>string[i]</code>.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function how_many_times(string) {     var object = {},         i;      for (i of string) {         if (i in object) {             object[i] += 1;         } else {             object[i] = 1;         }     }     console.log(object) }  how_many_times('Hello, World !')</code></pre> </div> </div> </p>"
48103435	Timer [Javascript / PHP / Python ...]	javascript|php|python|timer	2018-01-04 20:54:13.583000 UTC	"<p>I've looked all over the net for a solution to the following problem: <strong>how do I create a timer that works in an inactive tab on any modern web browser</strong>? </p>  <p>Solutions appear to exist using JavaScript (using <code>setInterval</code> / <code>setTimeout</code> and using a <code>Date</code> object / timestamp), but these require the user to refocus the window to reload the timer. What if the timer finishes and the window is out of focus? I need the timer to make a noise or alert the user in some way, so these solutions do not apply.</p>  <p>I'm asking for a solution using any server-side or client-side language.</p>"	"<p><code>setInterval</code> and <code>setTimeout</code> should work even if tab is not in focus (as any other actions).</p>  <p>Try to write this in console of new tab and switch to another tab:</p>  <pre><code>setTimeout(function(){alert('hello')}, 5000) </code></pre>  <p>After 5 seconds some kind of mark would appear on tab. This is how it looks in firefox: <a href=""https://i.stack.imgur.com/HZ6aS.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/HZ6aS.png"" alt=""screenshot""></a></p>"
48118872	JavaScript fundamentals confusion / convert Python	javascript|python|arrays	2018-01-05 17:55:50.587000 UTC	"<p>What I'm trying to do is take my Python code and turn it into JavaScript, yet I cannot figure out why it runs differently in JavaScript. What am I missing? </p>  <p>The code is intended to take an array of values with 1's and 0's and return an array summing the 1 values as such. </p>  <p>[1,1,0,1] => [2,1] </p>  <p>[0,0,1,1,1] => [3]</p>  <p>[0,0,0] => []</p>  <p>[1,1,0,0] => [2]</p>  <p>Python code that works (unless I'm horribly mistaken) </p>  <pre><code>def encode(arr):     arr2=[]     num = 0     for i in arr:         if i==1:             num=num+1         elif i==0 and num ==0:             pass         else:             arr2.append(num)             num=0     if num&gt;0:         arr2.append(num)     return arr2 </code></pre>  <p>JavaScript that doesn't work </p>  <pre><code>function  encode(arr) {     var arr2=[];     var num = 0;     for (i in arr){         if (i==1) {             num++;         } else if (i == 0 &amp;&amp; num == 0) {             // pass          } else {             arr2.push(num);             num=0;         }     }      if (num&gt;0) {         arr2.push(num)        }      return arr2; } </code></pre>"	"<p>Instead of </p>  <pre><code>for (i in arr) { ... } </code></pre>  <p>you need to write</p>  <pre><code>for (let i of arr) { ... } </code></pre>  <p>This is because <code>for ... in</code> iterates the enumerable properties, i.e. the array indices. But you want to iterate the array values.</p>  <p>See <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in</a> and also <a href=""https://stackoverflow.com/questions/500504/why-is-using-for-in-with-array-iteration-a-bad-idea"">Why is using &quot;for...in&quot; with array iteration a bad idea?</a></p>"
48152056	JavaScript alternative to Python requests.Session()	javascript|session	2018-01-08 14:12:12.810000 UTC	"<p>I have recently developed a Python API for a chatbot and made a demo using a quick python script:</p>  <pre><code>s = request.Session()  user_response = None while True:     chat_response = s.get(url='http://localhost:5000/chat', json={'user_input': user_response}).json()     if chat_response['is_end']:         break     if 'text' in response_json:         print '\t' + response_json['text']     user_response = raw_input() </code></pre>  <p>When the chat route is called I set a unique session key</p>  <pre><code>if 'session_id' not in session:     session['session_id'] = chat_utils.id_generator() </code></pre>  <p>This works great on the command line, the session id is used to keep track of the conversation on the server. However I am trying to implement this in a JavaScript front end. Is there an equivalent to the line </p>  <pre><code>s = request.Session() </code></pre>  <p>Currently I am unable to store session information so the initial question is repeated with a different generated key (see below).</p>  <p><a href=""https://i.stack.imgur.com/VBoPj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VBoPj.png"" alt=""enter image description here""></a></p>  <p>This is generated using <a href=""https://botui.org/"" rel=""nofollow noreferrer"">BotUI</a> </p>  <p>The call to the API is made using the following code:</p>  <pre><code>function chat(){   botui.action.text({     delay: 1000,     action: {       placeholder: 'User response here'     }   }).then(function (res) {     sendxhr(res, textResponse)   }); }  function sendxhr(user_input, formatter){    var xhr = new XMLHttpRequest();    xhr.open('GET', 'http://localhost:5000/chat');   xhr.setRequestHeader(""Content-Type"", ""application/json"");   xhr.setRequestHeader(""user_input"", user_input);    xhr.onload = function () {     var res = JSON.parse(xhr.responseText)     console.log(res)     formatter(res.text)   }    xhr.send(); } </code></pre>  <p>The API call works but as there is no session each time the chat route starts a new session. </p>"	"<p>The solution to this is to serve the html. Rather than opening the html locally I added a route to serve static html. </p>  <pre><code>@app.route(""/"") def index():     return render_template('index.html') </code></pre>  <p>The javascript is loaded in the html and everything works nicely. </p>"
48152431	Run Python Script in Javascript using Flask in a website on server	javascript|python|ajax	2018-01-08 14:34:22.503000 UTC	"<p>Currently, I am using ajax to run a python script in javascript. Basically, I have created a website that accepts and converts a pdf file into CSV by running the python script and it is put on the server. So I expect that when I upload a pdf file, it will automatically run the ajax code. The python script is a flask script. But it will only alert the response, which is the python script, without actually running it. Could someone know why? Thanks.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function readURL(input) {   if (input.files &amp;&amp; input.files[0]) {     var reader = new FileReader();      reader.onload = function(e) {       $("".image-upload-wrap"").hide();        $("".file-upload-image"").attr(""src"", e.target.result);       $("".file-upload-content"").show();        $("".image-title"").html(input.files[0].name);        $.ajax({         type: ""POST"",         url: ""./BPRecordsParser.py "",         // dataType: 'py',         data: {           param: input.files[0].name + "" "" + e.target.result         },         success: function(response) {           alert(response);           console.log(response);         },         error: function(xhr, textStatus, thrownError) {           alert('err');         }       });     };     reader.readAsDataURL(input.files[0]);      } else {     removeUpload();   } }</code></pre> </div> </div> </p>"	
48159567	Pass JSON object from javascript client to Python app	javascript|python|json|sockets	2018-01-08 23:35:44.123000 UTC	"<p>I have a python application running locally listening on a socket for a JSON object. </p>  <p>I want to be able to connect to the python application by sending over a JSON object from the browser with javascript. What are the ways that this can be done? I think I should look into XHR or websockets for how to approach this problem but I'm not sure what the pros and cons of each options are.</p>  <p>I've tried sending over a JSON object using an AJAX post request but it does not seem to be working as I'd expect. </p>  <pre><code> $.ajax({         type: ""post"",         url: ""http://localhost:8888"",         crossDomain: true,         contentType: ""application/json; charset=utf-8"",         dataType: ""json"",         data: JSON.stringify(object),         success: function(result){...} </code></pre>  <p>The python application is getting something but I'm unable to pull out the JSON data. This is the current output of the python application:</p>  <pre><code>OPTIONS / HTTP/1.1 Host: localhost:8888 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:57.0)  Gecko/20100101 Firefox/57.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Access-Control-Request-Method: POST Access-Control-Request-Headers: content-type Origin: null Connection: keep-alive </code></pre>  <p>At the moment, I'm using <code>char = socket.recv(1)</code> to retrieve the data and outputting the results to screen. Do I need to fix my AJAX message or do I need to fix my python code? Or is there a larger picture I'm missing out on.</p>"	"<p>Websockets have a persistent connection open and are for real-time communication. If you want a standard RESTful model, HTTP is what you need.</p>  <p>I'm not sure what Python web framework you are using, but most web frameworks should allow you to define a route where you can <code>POST</code> to and will help you convert the payload into an object to be used in the controller.</p>  <p>I would recommend that you look up some common examples of the Python framework you are using. Pretty sure they will have an example of how a POST request can be handled.</p>  <p>You do not need websockets here.</p>"
48190809	Can this Python script be made in JavaScript?	javascript|python|integration|translate	2018-01-10 15:29:27.823000 UTC	"<p>I'm very new to computer programming, and me and some friends are making a small project that chooses a random line of text from a text file full of data. I have a <code>Python</code> script that chooses a random line of a text file and returns it.</p>  <pre><code>import random  filePath = ""../data/strats.txt"" count = len(open(filePath).readlines(  )) lineNum = randint(1, count) lines = [0] with open(filePath) as strats: while strats.readline():         lines.append(strats.tell())     strats.seek(lines[lineNum])     line = strats.readline() return line </code></pre>  <p>This connects to some <code>JavaScript</code> code, but I'm having trouble using the python script without a web server. I would like to make the website all client side, and that means making this same program in <code>JavaScript</code>. If there is another way, please let me know. Otherwise: <strong>Can this <code>Python</code> script be translated into <code>JavaScript</code>?</strong></p>"	
48206402	Download csv file from javascript link using python selenium	javascript|python|csv|selenium|web-scraping	2018-01-11 11:51:57.240000 UTC	"<p>I am attempting to download a csv file, which is available by clicking the button entitled 'Export Data' on <a href=""http://www.fangraphs.com/projections.aspx?pos=all&amp;stats=bat&amp;type=fangraphsdc&amp;team=0&amp;lg=all&amp;players=0&amp;sort=24%2Cd"" rel=""nofollow noreferrer"">this webpage</a>. Given that the button runs a javascript procedure, I am trying to utilise selenium for this. My current attempt below generates the error message:</p>  <blockquote>   <p>""WebDriverException: unknown error: missing or invalid 'entry.level'     (Session info: chrome=63.0.3239.132)     (Driver info: chromedriver=2.27.440174 (e97a722caafc2d3a8b807ee115bfb307f7d2cfd9),platform=Windows NT 10.0.16299 x86_64)""</p> </blockquote>  <pre><code>chrome_path = path driver=webdriver.Chrome(chrome_path) url = 'http://www.fangraphs.com/projections.aspx?pos=all&amp;stats=bat&amp;type=fangraphsdc&amp;team=0&amp;lg=all&amp;players=0&amp;sort=24%2cd' driver.get(url) driver.find_element_by_xpath('//*[@id=""ProjectionBoard1_cmdCSV""]').click() </code></pre>  <p>The error occurs on the final line of code. Any ideas?</p>"	"<p>As per the <code>URL</code> you have shared the <code>WebElement</code> with text as <code>Export Data</code> is within a <code>&lt;a&gt;</code> tag. Hence you would be able to click the link with the following line of code :</p>  <pre><code>driver.find_element_by_link_text(""Export Data"").click() </code></pre>  <p>But this solution mat still fail as your main issue is the <strong>version compatibility</strong> among the binaries you are using as follows :</p>  <ul> <li>You are using <strong><code>chromedriver=2.27.440174</code></strong> </li> <li>Release Notes of <strong><code>chromedriver=2.27.440174</code></strong> clearly mentions the following :</li> </ul>  <blockquote>   <p><strong><code>Supports Chrome v55-57</code></strong></p> </blockquote>  <ul> <li>You are using <strong><code>chrome=63.0.3239.132</code></strong></li> <li>Release Notes of <strong><code>chromedriver=2.34</code></strong> clearly mentions the following :</li> </ul>  <blockquote>   <p><strong><code>Supports Chrome v61-63</code></strong></p> </blockquote>  <ul> <li>Your <strong><code>Selenium Version Info</code></strong> is unknown to us.</li> <li>Your <strong><code>java.version</code></strong> is unknown to us.</li> </ul>  <h2>Solution</h2>  <ul> <li>Upgrade <code>JDK</code> to  recent levels <strong><code>JDK Version 8 Update 151</code></strong>.</li> <li>Keep <code>ChromeDriver</code> to  <strong><code>ChromeDriver v2.34</code></strong> level.</li> <li>Keep <code>Chrome</code> to  <strong><code>Chrome v63.x</code></strong> level.</li> <li>Upgrade <code>Selenium</code> to  current levels <strong><code>Version 3.8.1</code></strong>.</li> <li>Execute your <code>Test</code>.</li> </ul>"
48237872	Revit (bim) and javascript/python	javascript|model|revit	2018-01-13 07:34:39.187000 UTC	<p>Can I update a Revit model using JavaScript or python? How can I view the model on a web browser?</p>	"<p>Look into Autodesk Forge. It's a web based technology for converting Revit files to something that can be viewed in the browser. </p>  <p><a href=""https://forge.autodesk.com/"" rel=""nofollow noreferrer"">https://forge.autodesk.com/</a></p>  <p>There are also free and open source libraries that you could try like the one from TT-Core called Spectacles: </p>  <p><a href=""http://core.thorntontomasetti.com/apps/Spectacles/#secondPage"" rel=""nofollow noreferrer"">http://core.thorntontomasetti.com/apps/Spectacles/#secondPage</a></p>"
48269945	Python bytestring => Javascript?	javascript|python|node.js|encryption|cryptojs	2018-01-15 20:05:43.793000 UTC	"<p>I'm attempting to port some Python code to Javascript. Here is the Python code:</p>  <pre><code># Python  import codecs from Crypto.Cipher import AES key = b""\xc3\x99\xff\xff\xc3\x99\xff\xff\xc3\x99\xff\xff\xc3\x99\xff\xff"" ... aes = AES.new(key, AES.MODE_ECB) token = aes.encrypt(""HELLO\x00\x00"".encode(""utf-8"")) token_hex = codecs.encode(token, ""hex"").decode(""utf-8"") </code></pre>  <p>I'm not exactly sure how to port my Python <code>key</code> variable. Should it be UInt16Array...or a string?</p>  <p>This is my Javascript so far:</p>  <pre><code>// Javascript const crypto = require('crypto'); const key = '???' // &lt;-- This is one place I am stuck. String? Byte array? .... const cipher = crypto.createCipher('aes-128-ecb', key); let tokenHex = cipher.update('HELLO\x00\x00', 'utf8', 'hex'); tokenHex = tokenHex.toString('utf8') </code></pre>  <p>I appreciate any insight you can provide as to how I can get a matching <code>tokenHex</code> in Javascript.</p>  <p>Thank you!</p>"	"<p>What you are after is <a href=""https://nodejs.org/api/buffer.html#buffer_new_buffer_string_encoding"" rel=""nofollow noreferrer""><code>Buffer</code></a>, which represents a collection of bytes.</p>  <p>You probably want to instantiate the key variable similar to this:</p>  <pre><code>let key = Buffer.from(""c399ff..."", ""hex""); </code></pre>"
48304872	Matching Javascript escaped form data in python	javascript|python|regex|validation|python-unicode	2018-01-17 15:43:31.663000 UTC	"<p>I am trying to do some data validation using regex in python (2.7). From client side (javascript) I for example receive the following string:</p>  <pre><code>name = u'B\xf8tte' </code></pre>  <p>I want to match this using the following pattern (or similar), allowing only A-Z characters including latin variants:</p>  <pre><code>pattern = '^([A-Za-z\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff\s]*)$' </code></pre>  <p>This works when matching is done client side (javascript), given value: </p>  <pre><code>var value = 'Bøtte'; </code></pre>  <p>Is this due to differences in how javascript and python escapes this kind of characters (<a href=""http://www.charbase.com/00f8-unicode-latin-small-letter-o-with-stroke"" rel=""nofollow noreferrer"">http://www.charbase.com/00f8-unicode-latin-small-letter-o-with-stroke</a>), specifically ""\u00f8"" vs ""\xf8""?</p>  <p>Is there some other pattern that would work both for javascript/python? I might be missing something in the encoding/decoding?</p>  <p><strong>MCVE:</strong></p>  <p>Note, the pattern is the same both client and server side and matches client side, but not server side.</p>  <p>Value ""Bøtte"" is matched (again, client side), while ""Bøtteひ"" is not matched.</p>  <p>Client:     </p>  <pre><code>&lt;html class=""no-js"" lang=""no""&gt;  &lt;head&gt;   &lt;meta charset=""utf-8""&gt;   &lt;script type=""text/javascript"" src=""https://code.jquery.com/jquery-3.2.1.min.js""&gt;&lt;/script&gt;    &lt;script type=""text/javascript""&gt;     $(document).ready(function() {       $('form').submit(function(e) {         e.preventDefault();          var pattern = '^([A-Za-z\-\.\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff\s]*)$';         var value = $(this).find('input').val();          if (new RegExp(pattern).exec(value)) {           $.ajax({               type: 'POST',               url: '/',               data: $(this).serialize(),               dataType: 'json',           }).done(function(result) {             console.log('DONE')           }).fail(function() {             console.log('FAIL')           });         } else {           console.log('INVALID FORMAT');         }       });     });   &lt;/script&gt;  &lt;/head&gt;   &lt;body style=""background: #CCC;""&gt;   &lt;form method=""post"" action=""/""&gt;    &lt;input type=""text"" name=""test"" value=""Bøtte"" style=""margin: 20px; font-size: 2rem;""&gt;    &lt;input type=""submit"" name=""submit"" name=""Submit"" style=""margin: 20px; font-size: 2rem;""&gt;   &lt;/form&gt;  &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Server:     # Imports     import re     import json     from flask import Flask, request, render_template, jsonify</p>  <pre><code># App app = Flask(__name__) app.debug = True   # Route: Index @app.route('/', methods=['GET', 'POST']) def index():     if request.method == 'POST':         data = {}         # VALIDATE         for field in request.form.keys():             value = request.form[field]              pattern = '^([A-Za-z\-\.\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff\s]*)$'             match = re.match(pattern, value)              data[field] = {                 'value': value,                 'match': True if match else False             }          print json.dumps(data, indent=4)          return jsonify({'foo':'bar'})      else:         return render_template('index.html')   # Main if __name__ == '__main__':     app.run(host='0.0.0.0', port=8000) </code></pre>"	"<p>You can use <code>\xYY</code> in both JavaScript (<a href=""https://regex101.com/r/shyDO7/1"" rel=""nofollow noreferrer"">see here</a>) and Python (<a href=""https://regex101.com/r/shyDO7/2"" rel=""nofollow noreferrer"">see here</a>)</p>  <pre><code>^([A-Za-z\xC0-\xD6\xD8-\xf6\xf8-\xff\s]*)$ </code></pre>"
48311151	How to communicate between JavaScript and Python in a CGI script	javascript|jquery|python|html|cgi	2018-01-17 22:37:51.663000 UTC	"<p>I have a CGI script which runs on local host. It has a Python function named compute(argument 1) and prints html tags along with a JavaScript function called onClick which gets called when a button is clicked on the browser. I am not sure how to communicate between JavaScript and Python here. </p>  <p>Here is a snippet of the CGI file </p>  <pre><code>   import cgi     def worker():       #Does something here and returns an python list called data    def compute(index)         #Does something with data[index] and returns another python list called data2    print (""Content-type: text/html"")    print ()    print (""&lt;html&gt;"")    print (""&lt;head&gt;"")    print (""&lt;title&gt;Worker&lt;/title&gt;"")    print(""""""&lt;script type = ""text/javascript""&gt;    var count = 0;    function onClick(){     count = count+1;      document.getElementById(""dis"").innerHTML = count;      };   &lt;/script&gt;"""""")    print (""&lt;/head&gt;"")    print (""&lt;body&gt;"")   &lt;button  type = ""button"" class  = ""next"" onclick = ""onClick()"" &gt;Next &amp;rarr; &lt;/button&gt;    print(""""""Count: &lt;p id = ""dis"" &gt; 0 &lt;/p&gt;"""""")    print (""&lt;/body&gt;"")    print (""&lt;/html&gt;"") </code></pre>  <p>My question here is how do I make the JavaScript function OnClick() call the python function compute() by passing variable count as a parameter and then storing the resulting list returned by compute() as a JavaScript variable. It would be better if worker function does not have to be called again. It would be fine to even return a single variable in compute(index) rather than a python list and pass it to JavaScript. Thanks in advance :).</p>"	"<p>AJAX/JQUERY can send the data, JSON for instance, to your python endpoint. But your script is not a server. You need a server a.k.a middleware like apache. POST via AJAX to your server adress:</p>  <pre><code>    $(function(){     $.ajax({     url: ""ServerAdress/cgi-bin/"" + service.py,     type: ""POST"",     async:true,     data: {key_vehicule: 'mercedes'},     success: function(response){          },     error: function(){          },     complete: function(){          }     }); </code></pre>  <p>Be sure to have your server configured to execute the python script with the python interpeter and all the right it needs. In the python script, just importing the cgi is not enought, you need the to receive the data:</p>  <pre><code>     form = cgi.FieldStorage()      vehicule = form.getvalue('key_vehicule') </code></pre>"
48334865	How to disable screenshots and javascript for PhantomJS in python selenium?	javascript|python|selenium|web-scraping|phantomjs	2018-01-19 05:48:24.080000 UTC	"<p>I am scraping in a python/selenium framework using phantomJS on windows. First, I tried to disable javascript and screenhsots with selenium:</p>  <pre><code>driver = webdriver.PhantomJS(""phantomjs.exe"", desired_capabilities = dcap) webdriver.DesiredCapabilities.PHANTOMJS[""phantomjs.page.settings.javascriptEnabled""] = False webdriver.DesiredCapabilities.PHANTOMJS[""phantomjs.takesScreenshot""] = False webdriver.DesiredCapabilities.PHANTOMJS[""phantomjs.page.clearMemoryCash""] = False </code></pre>  <p>However, when I have a look at <code>ghostdriver.log</code>, <code>Session.negotiatedCapabilities</code> includes:</p>  <pre><code>browserName:phantomjs version:2.1.1 driverName:ghostdriver driverVersion:1.2.0 platform:windows-7-32bit javascriptEnabled:true   # Should be false takesScreenshot:true     # Should be false </code></pre>  <p>Therefore, I think I need to disable both parameters during <code>onInitialized=function()</code>, similar to the below code snippet:</p>  <pre><code>phantom_exc_uri='/session/$sessionId/phantom/execute' driver.command_executor._commands['executePhantomScript'] = ('POST', phantom_exc_uri) initScript=""""""              this.onInitialized=function() {     var page=this;    ### disable javascript and screenshots here ### } """""" driver.execute('executePhantomScript',{'script': initScript, 'args': []}) </code></pre>  <p><strong>Q1: How come I can set <em>some</em> phantomJS specs in <code>webdriver.DesiredCapabilities</code>, but others not? Is this my mistake or some bug?</strong></p>  <p><strong>Q2: Is it reasonable to accomplish this during onInitialized or am I on the wrong way?</strong></p>  <p><strong>Q2: If so, how to disable JS and screenshots during onInitialized?</strong></p>"	"<p>You have raised quite a few queries in your question. Let me try to address them all. A simple workflow with <code>Selenium v3.8.1</code>, <code>ghostdriver v1.2.0</code> and <code>phantomjs v2.1.1 Browser</code> shows us that the following <strong>Session.negotiatedCapabilities</strong> are passed by default :</p>  <ul> <li><strong><code>""browserName"":""phantomjs""</code></strong></li> <li><strong><code>""version"":""2.1.1""</code></strong></li> <li><strong><code>""driverName"":""ghostdriver""</code></strong></li> <li><strong><code>""driverVersion"":""1.2.0""</code></strong></li> <li><strong><code>""platform"":""windows-8-32bit""</code></strong></li> <li><strong><code>""javascriptEnabled"":true</code></strong></li> <li><strong><code>""takesScreenshot"":true</code></strong></li> <li><strong><code>""handlesAlerts"":false</code></strong></li> <li><strong><code>""databaseEnabled"":false</code></strong></li> <li><strong><code>""locationContextEnabled"":false</code></strong></li> <li><strong><code>""applicationCacheEnabled"":false</code></strong></li> <li><strong><code>""cssSelectorsEnabled"":true</code></strong></li> <li><strong><code>""webStorageEnabled"":false</code></strong></li> <li><strong><code>""rotatable"":false</code></strong></li> <li><strong><code>""acceptSslCerts"":false</code></strong></li> <li><strong><code>""nativeEvents"":true</code></strong></li> <li><strong><code>""proxy"":{""proxyType"":""direct""}}</code></strong></li> </ul>  <p>So by default it was mandated that to establish a successful session through <code>PhantomJSDriver</code> and <code>Ghost Browser</code> combination the following <strong><code>Capabilities</code></strong> were a minimum requirement.</p>  <p>Then the users had the <code>DesiredCapabilities</code> class at their disposal to tweak the capabilities. But there are certain capabilities which are <strong>minimum requirement</strong> to create a successful <code>Ghost Browser</code> session.</p>  <p><strong>javascriptEnabled</strong> is such a property which is mandatory. Till a few releases back <code>Selenium</code> did allow to tweak the <strong>javascriptEnabled</strong> attribute to <strong>false</strong>. But now <strong><code>WebDriver</code></strong> being a <strong><code>W3C Recommendation Candidate</code></strong> the mandatory capabilities cannot be over-ridden anymore through <code>DesiredCapabilities</code> at user level.</p>  <p>Even if you try to tweak them at <code>user level</code>, <code>WebDriver</code> will override them to default while configuring the <code>capabilities</code>.</p>  <p>So, though you have tried the following :</p>  <pre><code>webdriver.DesiredCapabilities.PHANTOMJS[""phantomjs.page.settings.javascriptEnabled""] = False webdriver.DesiredCapabilities.PHANTOMJS[""phantomjs.takesScreenshot""] = False </code></pre>  <p>The properties <strong>javascriptEnabled</strong> and <strong>takesScreenshot</strong> defaults to required mandatory configuration.</p>  <hr>  <h2>Update</h2>  <p>As you mentioned in your comment <code>What about changing those AFTER the Ghostdriver session is established, i.e. page.onInitialized</code> the straight answer is <strong>No</strong>.</p>  <p>Once the <code>capabilities</code> are <strong>freezed</strong> and <strong>negotiated</strong> to initialize a <code>Browsing Session</code> the <code>capabilities</code> holds true till the particular <code>session is active</code>. So you can't change any of the <code>capabilities</code> once the <code>session is established</code>. To change the <code>capabilities</code> you have to configure the <code>WebDriver</code> instance again.</p>"
48354181	Pass Returned Data From Python to JavaScript?	python	2018-01-20 08:46:53.877000 UTC	"<p>As I'm developing one chat bot for booking bus tickets I get request from user manually and returned response based on user request from API I did almost but I have doubt while passing returned data from Python to JavaScript using my IP address. Please anyone help me.</p>  <p>Here is my py:</p>  <pre><code>import requests,json import requests, json from flask import render_template import os import time from flask import render_template, Flask, request from chatterbot.trainers import ListTrainer from chatterbot import ChatBot # # import win32api # # win32api.MessageBox(0, 'hello', 'title') app = Flask(__name__) @app.route('/',methods=['GET','POST']) def map():     return render_template(""sara.html"")  @app.route('/run',methods=['GET','POST']) def main():     print(""run"")     url = 'http://webapi.i2space.co.in/Buses/Sources'     payload = {'some': 'data'}     headers = {'consumerkey': 'D0106432CD19C98E0E8267EDFE9E3DF0', 'consumersecret': '43DEC493EBAE756BF7A2312F55FE5132'}     r = requests.get(url, data=json.dumps(payload), headers=headers)     print(r.text)     # response_data = r.json()     response_data = json.loads(r.text)     # print(type(response_data))     # s=(response_data[0]['Name'])     # print(s)     sorceid=request.args.get('sid')     print(sorceid)     l=''     for a in response_data:         print(""hello"")         print(a)         print(a['Name'])         if (sorceid==a['Name']):             l=a['Id']             print(l)             break         else:             print(""no"")         # list={""iden"":l}         # print(list)     return render_template(""sara.html"",l=l)  if __name__ == '__main__':    app.run(host='192.168.1.80') </code></pre>  <p>Here is my JavaScript:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;link rel=""stylesheet"" type=""text/css"" href=""/static/style.css""&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js""&gt;&lt;/script&gt;       &lt;link rel=""stylesheet"" href=""https://www.w3schools.com/w3css/4/w3.css""&gt;   &lt;/head&gt;   &lt;body&gt;   &lt;h1&gt; HERE COMES!!!&lt;/h1&gt;   {{ l }}  &lt;div class=""w3-container w3-teal"" align=""center"" style=""width: 50%""&gt;   &lt;span&gt;Bus-Bot&lt;/span&gt; &lt;/div&gt;   &lt;div class=""w3-container"" align=""center"" style=""width: 50%""&gt;        &lt;div id=""chatbox""&gt;        &lt;p class=""botText""&gt; Bus-Bot:&lt;span&gt;Hi! I'm Bus-Bot.&lt;/span&gt;&lt;/p&gt;       &lt;/div&gt;       &lt;div id=""userInput""&gt;           &lt;input id=""textInput"" type=""text"" name=""msg""&gt;         &lt;input id=""buttonInput"" type=""submit"" value=""submit"" &gt;       &lt;/div&gt;        &lt;script&gt;         function getBotResponse() {           var rawText = $(""#textInput"").val();           var userHtml = '&lt;div id=""Chatid"" class=""container""&gt;'+               '&lt;p class=""userText"" &gt;ME:&lt;span&gt;' + rawText + '&lt;/span&gt;&lt;/p&gt;'+'&lt;/div&gt;';           $(""#chatbox"").append(userHtml);           document.getElementById('userInput').scrollIntoView({block: 'start', behavior: 'smooth'});         $.get(""run"", { msg: rawText }).done(function (data) {               alert(data);               var sou=data.l;               alert(sou);               alert(lol);             var botHtml = '&lt;div id=""botcon"" class=""container darker""&gt;'+'&lt;p class=""botText""&gt;Bus-Bot:&lt;span&gt;' + sou + '&lt;/span&gt;&lt;/p&gt;'+'&lt;/div&gt;';             console.log(botHtml);             $(""#botcon"").append(botHtml);             document.getElementById('userInput').scrollIntoView({block: 'start', behavior: 'smooth'});           });           }         $(""#textInput"").keypress(function(e) {             if(e.which == 13) {                 getBotResponse();             }         });$(""#lolInput"").keypress(function(e) {             if(e.which == 13) {                 alert('weldone');                 getBotResponse();             }         });         $(""#buttonInput"").click(function() {           getBotResponse();         })       &lt;/script&gt;      &lt;style&gt;          .container {     border: 2px solid #dedede;     background-color: #f1f1f1;     border-radius: 5px;     padding: 10px;     margin: 10px 0; }  /* Darker chat container */ .darker {     border-color: #ccc;     background-color: #ddd; }  /* Clear floats */ .container::after {     content: """";     clear: both;     display: table; }  /* Style images */ .container img {     float: left;     max-width: 60px;     width: 100%;     margin-right: 20px;     border-radius: 50%; }  /* Style the right image */ .container img.right {     float: right;     margin-left: 20px;     margin-right:0; }  /* Style time text */ .time-right {     float: right;     color: #aaa; }  /* Style time text */ .time-left {     float: left;     color: #999; }      &lt;/style&gt;   &lt;/div&gt;     &lt;/div&gt;    &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>From Python I returned response using variable name ""l"" but I don't know how to pass this variable to JavaScript I want to get my response below to this line </p>  <pre><code>var botHtml = '&lt;div id=""botcon"" class=""container darker""&gt;'+'&lt;p class=""botText""&gt;Bus-Bot:&lt;span&gt;' + sou + '&lt;/span&gt;&lt;/p&gt;'+'&lt;/div&gt;';  </code></pre>"	"<p>The <code>render_template</code> function from Flask doesn't pass any variable from one language to the other. It just replaces strings inside the html-template that it finds with a variable that you handover to it. With</p>  <pre><code>return render_template(""sara.html"",l=l) </code></pre>  <p>you are telling the program to take the <code>sara.html</code> template and insert your variable <code>l</code> anywhere where it finds <code>{{ l }}</code> in the template. You should see it in the actual HTML that you are sending to the client. because you are inserting it under your heading:</p>  <pre><code>&lt;h1&gt; HERE COMES!!!&lt;/h1&gt;   {{ l }} </code></pre>  <p>It is really more helpful if you are using it to render pure HTML and not JavaScript. Of cause you can also replace things inside your JavaScript but that is really not a sensible way to do client-server communication. If you want communication between your client and server you should think about a different architecture.</p>  <p>Doing the get call</p>  <pre><code>url = 'http://webapi.i2space.co.in/Buses/Sources' payload = {'some': 'data'} headers = {'consumerkey': 'D0106432CD19C98E0E8267EDFE9E3DF0', 'consumersecret': '43DEC493EBAE756BF7A2312F55FE5132'} r = requests.get(url, data=json.dumps(payload), headers=headers) </code></pre>  <p>inside your server is probably better kept in your client-side Javascript.</p>"
48375980	How to configure vim for auto complete in Python file and Javascript file too	javascript|python|vim|vim-plugin|jedi	2018-01-22 06:47:17.213000 UTC	"<p>I work with vim for 2 years in cpp, and untill today, i used to auto complete my code with ctags. It wasnt great, but enough for my needs.  Currently, i work with python and Javascript and i am looking for good tool which give me support for both languages. I tried Jedi for python and i was great, but it has support only for python, so it cant help me for Javascript anf bash. </p>  <p>Any idea how can i configure my vim to support multiple languages? </p>  <p>My vimrc on: <a href=""https://github.com/reubinoff/DotFiles/blob/master/.vimrc"" rel=""nofollow noreferrer"">https://github.com/reubinoff/DotFiles/blob/master/.vimrc</a></p>  <p>Thanks </p>"	"<p>The plugin <a href=""https://github.com/Shougo/deoplete.nvim"" rel=""nofollow noreferrer"">deoplete</a> supports different languages via submodules. So also Javascript and Python etc.</p>"
48375980	How to configure vim for auto complete in Python file and Javascript file too	javascript|python|vim|vim-plugin|jedi	2018-01-22 06:47:17.213000 UTC	"<p>I work with vim for 2 years in cpp, and untill today, i used to auto complete my code with ctags. It wasnt great, but enough for my needs.  Currently, i work with python and Javascript and i am looking for good tool which give me support for both languages. I tried Jedi for python and i was great, but it has support only for python, so it cant help me for Javascript anf bash. </p>  <p>Any idea how can i configure my vim to support multiple languages? </p>  <p>My vimrc on: <a href=""https://github.com/reubinoff/DotFiles/blob/master/.vimrc"" rel=""nofollow noreferrer"">https://github.com/reubinoff/DotFiles/blob/master/.vimrc</a></p>  <p>Thanks </p>"	"<p>Thanks! I tried <a href=""https://stackoverflow.com/users/7976758/phd"">phd</a> recommendation. <a href=""https://stackoverflow.com/a/22119945/7976758"">YouCompleteme + tern_for_vim</a> is really answer my needs.</p>"
48375980	How to configure vim for auto complete in Python file and Javascript file too	javascript|python|vim|vim-plugin|jedi	2018-01-22 06:47:17.213000 UTC	"<p>I work with vim for 2 years in cpp, and untill today, i used to auto complete my code with ctags. It wasnt great, but enough for my needs.  Currently, i work with python and Javascript and i am looking for good tool which give me support for both languages. I tried Jedi for python and i was great, but it has support only for python, so it cant help me for Javascript anf bash. </p>  <p>Any idea how can i configure my vim to support multiple languages? </p>  <p>My vimrc on: <a href=""https://github.com/reubinoff/DotFiles/blob/master/.vimrc"" rel=""nofollow noreferrer"">https://github.com/reubinoff/DotFiles/blob/master/.vimrc</a></p>  <p>Thanks </p>"	"<p>Although its highly opinionated I would highly recommend you checkout coc.nvim  (<a href=""https://github.com/neoclide/coc.nvim"" rel=""nofollow noreferrer"">https://github.com/neoclide/coc.nvim</a>) which you can then use to install extensions for the languages you want to use, which then provide you with autocomplete and other features. A list of extensions for coc.nvim can be found here: <a href=""https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions#implemented-coc-extensions"" rel=""nofollow noreferrer"">https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions#implemented-coc-extensions</a></p>"
48381807	How does Python exchanges data with Javascript in Jupyter	javascript|python|jupyter-notebook	2018-01-22 12:38:09.303000 UTC	"<p>As Jupyter is becoming so popular, I just want to integrate data processing and visualization together using Jupyter. But matplotlib and R ggplot2 are not flexible enough, so I want to use Javascript in Jupyter to draw cool graphs. I have noticed in the newest jupyter, I can write js code with %%javascript in the first line of a cell. But I haven't figured it out that how to exchange data between python and js. For example, in python, I process the data using some algorithms and want to visualize it using D3.js. How can I do that? Thanks for any reply.</p>"	"<p>I've been looking for similar solutions.  This helped plus <a href=""https://stackoverflow.com/questions/55828900/how-to-correctly-use-kernel-execute-method-of-jupyter-notebook-in-javascript-ti"">kernal.execute method</a>. I wrote a class to wrap all of this up - interaction between python f-strings and converting into javascript variable</p>  <pre><code>class setvariables {  constructor(IPython) {     //super(IPython);     this.__inprogress = {};     this.__kernel = IPython.notebook.kernel; }  // results come back asynchronously.   Check struct that records request is emply  // before calling requested callback after variables have been set sync (callback) {     if (Object.keys(this.__inprogress).length === 0){         callback();     } else {         new Promise(resolve =&gt; setTimeout(resolve, 200)).then(() =&gt; {this.sync(callback);});     } }  // can run anything - doing print(""f{var}"") and getting results in promise callbacks execute(cmd) {     return new Promise((resolve, reject) =&gt; {         var callbacks = {             iopub: { output: (data) =&gt; resolve(data.content.text.trim()) }         };         this.__kernel.execute(cmd, callbacks);         }); }  // build an f-string to get variable from IPython environment // format results execute callback function to assign to javascript variable setjs(name, type, callback) {     var inprogress = this.__inprogress;     inprogress[name] = {""type"": typeof(type)};     if (inprogress[name].type===""object"" &amp;&amp; type instanceof Array) {         inprogress[name].type=""array"";     } else if (inprogress[name].type===""object"" &amp;&amp; !(type instanceof Array)) {         inprogress[name].type=""dict"";     }     var cmd = 'print(f""{' + name + '}""';     // for dict and array replace double quotes to single quotes so JSON.parse works     if ([""dict"",""array""].includes(inprogress[name].type)) {         cmd = cmd + '.replace(chr(39),chr(34))';     }     cmd = cmd + ')';     var p = this.execute(cmd);     p.then((result) =&gt; {         if ([""dict"",""array""].includes(inprogress[name].type)) {             result = JSON.parse(result);         } else if (inprogress[name].type === ""string"") {             result = result.trim();         } else {             result = Number(result);         }         /// fetch complete so remove from dict of variables being fetched.         // Allows sync() to be reliable         delete inprogress[name];         callback(result);     }, (err) =&gt; {         console.warn(err, execute);     })  } </code></pre>  <p>}</p>  <p>I intend to put this into a .js file and use require to load it into a %%javascript Jupyter cell.   Sample usage below</p>  <pre><code>var td = {}; var data = {}; var array = []; var num = 0.0; var str = """";   var py = new setvariables(IPython); py.setjs(""td"", td, (result) =&gt; { td = result; } ); py.setjs(""data"", data, (result) =&gt; { data = result; } ); py.setjs(""array"", array, (result) =&gt; { array = result; } ); py.setjs(""num"", num, (result) =&gt; { num = result; } ); py.setjs(""str"", str, (result) =&gt; { str = result; } );  // everything is async - all code that depends on values from python needs to be called // from this block py.sync(() =&gt; {     console.log(td,""done"");     console.log(data,""done"");     console.log(array,""done"");     console.log(num + 1,""done"");     str = str + "" Rob"";     console.log(str,'done');  }) </code></pre>"
48381807	How does Python exchanges data with Javascript in Jupyter	javascript|python|jupyter-notebook	2018-01-22 12:38:09.303000 UTC	"<p>As Jupyter is becoming so popular, I just want to integrate data processing and visualization together using Jupyter. But matplotlib and R ggplot2 are not flexible enough, so I want to use Javascript in Jupyter to draw cool graphs. I have noticed in the newest jupyter, I can write js code with %%javascript in the first line of a cell. But I haven't figured it out that how to exchange data between python and js. For example, in python, I process the data using some algorithms and want to visualize it using D3.js. How can I do that? Thanks for any reply.</p>"	<p>Through the kernel object in the IPython Javascript package. A python statement can be executed from js as follows:</p>  <pre><code>var kernel = IPython.notebook.kernel; kernel.execute(command); </code></pre>
48383759	parsing of javascript objects using python	python|parsing	2018-01-22 14:25:20.810000 UTC	"<p>friends! I'm starting to learn python. I have a problem with obtaining the required value from javascript text. Here is the code, which I managed to download from website:</p>  <pre><code>[&lt;script src=""//maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;sensor=false&amp;amp;key=ABQIAAAAOjFUxXImJbfYejRUbw0-uBSoJppdodHXaiZe2O5Byw3T7kzYihSys_Exmi235-oDCy6xEhVelBMhBQ"" type=""text/javascript""&gt;&lt;/script&gt;, &lt;script type=""text/javascript""&gt;     var map_shop = null;     var marker_shop     = null;      function google_maps_shop_initialize()      {         if (GBrowserIsCompatible())          {             map_shop = new GMap2(document.getElementById(""map_canvas_shop""));             point_center = new GLatLng(51.6663267, 39.1898874);                           marker_shop = new GMarker(point_center);             map_shop.addOverlay(marker_shop);              map_shop.setCenter(point_center, 13);                         //Create new Tile Layer             var gTileUrlTemplate = '//mt1.google.com/vt/lyrs=m@121,transit|vm:1&amp;hl=ru&amp;opts=r&amp;x={X}&amp;y={Y}&amp;z={Z}';             var tileLayerOverlay = new GTileLayerOverlay(                 new GTileLayer(null, null, null, {                     tileUrlTemplate: gTileUrlTemplate,                     isPng:true,                     opacity:1                 })             );             map_shop.addOverlay(tileLayerOverlay);         }     }     google_maps_shop_initialize(); &lt;/script&gt;] </code></pre>  <p>I want to print only one line from text, which contains coordinates <code>point_center = new GLatLng(51.6663267, 39.1898874);</code></p>  <p>I'm trying decide it using re module, but the problem is that number of line may vary and I get empty output with this  code: </p>  <pre><code>   if re.match(""point_center = new GLatLng"", line):             print (line) </code></pre>  <p>Desirable output looks like this:</p>  <pre><code>51.6663267, 39.1898874 </code></pre>"	"<p>If the Javascript is .txt format then you can simply do this:</p>  <p><code> from ast import literal_eval as make_tuple with open(""filename.txt"") as f:     for line in f:         if ""point_center = new GLatLng"" in line:              linestring = line              linestring = linestring[26:]              linestring = make_tuple(linestring) </code> Your output should be a tuple. </p>"
48398461	Python equivalent to JavaScript function object	javascript|python	2018-01-23 09:40:02.637000 UTC	"<p>I would like to know if there is a <code>Python</code> equivalent to this <code>JavaScript</code> construct:</p>  <pre><code>var myFunctions = {     'greet': function(name){         return ""Hello, "" + name;     },      'farewell': function(time){         return ""See you "" + time;     } } </code></pre>  <p>So I can call the functions this way:</p>  <pre><code>let greetMarta = myFunctions['greet'](""Marta""); </code></pre>"	"<pre><code>def greet(name):     return ""Hello, "" + name  def farewell(time):     return ""See you "" + time  my_functions =  {     ""greet"": greet,     ""farewell"": farewell } </code></pre>"
48398461	Python equivalent to JavaScript function object	javascript|python	2018-01-23 09:40:02.637000 UTC	"<p>I would like to know if there is a <code>Python</code> equivalent to this <code>JavaScript</code> construct:</p>  <pre><code>var myFunctions = {     'greet': function(name){         return ""Hello, "" + name;     },      'farewell': function(time){         return ""See you "" + time;     } } </code></pre>  <p>So I can call the functions this way:</p>  <pre><code>let greetMarta = myFunctions['greet'](""Marta""); </code></pre>"	"<pre><code>def greet(name):     return ""Hello, "" + name;  def farewell(time):     return ""See you "" + time;  my_dict = {'greet' : greet,             'farewell' : farewell}  greetMarta = my_dict['greet'](""Marta""); </code></pre>  <p>use dictionary to get the functions and execute</p>"
48398461	Python equivalent to JavaScript function object	javascript|python	2018-01-23 09:40:02.637000 UTC	"<p>I would like to know if there is a <code>Python</code> equivalent to this <code>JavaScript</code> construct:</p>  <pre><code>var myFunctions = {     'greet': function(name){         return ""Hello, "" + name;     },      'farewell': function(time){         return ""See you "" + time;     } } </code></pre>  <p>So I can call the functions this way:</p>  <pre><code>let greetMarta = myFunctions['greet'](""Marta""); </code></pre>"	"<p>You can use <code>lambda</code> to define very simple functions like these inline; however they can only consist of one expression:</p>  <pre class=""lang-py prettyprint-override""><code>    my_functions = {         'greet': lambda name: ""Hello {}"".format(name),         'farewell': lambda time: ""See you {}"".format(time)     } </code></pre>  <p>For anything more complicated you need to define a standalone function and then reference it in the dict:</p>  <pre class=""lang-py prettyprint-override""><code>    def my_complex_function(param):         ... logic ...         return whatever      my_functions = {         'complex_func': my_complex_function,         ...     } </code></pre>  <p>And in order to call the function you can do:</p>  <pre class=""lang-py prettyprint-override""><code>my_functions['my_complex_function'](param) </code></pre>"
48409285	"In Javascript / ES6, how do I wait for Python code to finish executing in a Jupyter Notebook?"	javascript|python|asynchronous|promise|jupyter-notebook	2018-01-23 19:21:34.743000 UTC	"<p>My code calls a Jupyter Notebook routine (kernel.execute) which accepts a Python command and a callback function but this routine doesn't return a Promise.</p>  <p>Is it possible to asynchronously call kernel.execute in a loop and wait on each callback?</p>  <pre><code>// these functions print timestamps to the console var function_1 = {   iopub: {     output: parse_json_from_python_and_stash_something_in_object_1();   } }  var function_n = {   iopub: {     output: parse_json_from_python_and_stash_something_in_object_n();   } }  var objects_to_populate = {   object_1: function_1,   object_n: function_n }  handler.on('click', function() {    $.each(objects_to_populate, function(obj, cb) {     let arg = '\'' + ""Hello from Javascript"" + '\'';     let command = `print(${arg})`;      // Jupyter Notebook function; calls Python (slow)     kernel.execute(command, cb);   }    ugly_sleep_hack();   // Do something here after every object has been populated    print_timestamp_to_console(""Finished""); } </code></pre>"	"<p>Also you can write and use recursive function. Here <a href=""https://mostafa-samir.github.io/async-iterative-patterns-pt1/"" rel=""nofollow noreferrer"">https://mostafa-samir.github.io/async-iterative-patterns-pt1/</a> you can find some explanations. Something like that: </p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var objects_to_populate = {   object_1: function_1,   object_n: function_n };  const iterateAsync = (collection, keys, i) =&gt; {   if (i &lt; keys.length){     const obj = collection[keys[i]]; // This is your obj     const arg = '\'' + ""Hello from Javascript"" + '\'';     const command = `print(${arg})`;      // Jupyter Notebook function; calls Python (slow)     executes.push(execute(command, (err, res) =&gt; {       if(!err){         i++;         iterateAsync(collection, keys, i);       }     }));   } };  const keys = Object.keys(objects_to_populate); // To create it once iterateAsync(objects_to_populate, keys, 0);</code></pre> </div> </div> </p>  <p>I don't test it, but you need something like that.</p>"
48409285	"In Javascript / ES6, how do I wait for Python code to finish executing in a Jupyter Notebook?"	javascript|python|asynchronous|promise|jupyter-notebook	2018-01-23 19:21:34.743000 UTC	"<p>My code calls a Jupyter Notebook routine (kernel.execute) which accepts a Python command and a callback function but this routine doesn't return a Promise.</p>  <p>Is it possible to asynchronously call kernel.execute in a loop and wait on each callback?</p>  <pre><code>// these functions print timestamps to the console var function_1 = {   iopub: {     output: parse_json_from_python_and_stash_something_in_object_1();   } }  var function_n = {   iopub: {     output: parse_json_from_python_and_stash_something_in_object_n();   } }  var objects_to_populate = {   object_1: function_1,   object_n: function_n }  handler.on('click', function() {    $.each(objects_to_populate, function(obj, cb) {     let arg = '\'' + ""Hello from Javascript"" + '\'';     let command = `print(${arg})`;      // Jupyter Notebook function; calls Python (slow)     kernel.execute(command, cb);   }    ugly_sleep_hack();   // Do something here after every object has been populated    print_timestamp_to_console(""Finished""); } </code></pre>"	"<p>You can use es6 <code>async</code>, <code>await</code> for that:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>// emulating async function here let kernel = {   execute: (ignore, cb) =&gt; setTimeout(cb, 2000) }  let objects_to_populate = {   1: () =&gt; console.log(1),   2: () =&gt; console.log(2),   3: () =&gt; console.log(3) };  let execute = function(command, cb) {   return new Promise(function(resolve, reject) {     kernel.execute(command, function() {       cb();       resolve();     });   }) };  let handler = $('#testBtn');  handler.on('click', async function() {       let executes = [];         $.each(objects_to_populate, function(obj, cb) {                  let arg = '\'' + ""Hello from Javascript"" + '\'';           let command = `print(${arg})`;            // Jupyter Notebook function; calls Python (slow)           executes.push(execute(command, cb));         });          await Promise.all(executes);         console.log('Something');         // Do something here after every object has been populated });</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""&gt;&lt;/script&gt; &lt;button id=""testBtn""&gt;Test&lt;/button&gt;</code></pre> </div> </div> </p>"
48432203	How to execute javascript code from python with arguments	javascript|python	2018-01-24 21:49:58.703000 UTC	"<p>Executing javascript from python using Naked.toolshed.shell: <a href=""https://stackoverflow.com/questions/38622385/how-can-i-execute-javascript-code-from-python"">How can I execute JavaScript code from Python?</a> Answered my question fine, But is there any way to do this AND pass an argument through to be executed? like</p>  <pre><code>from Naked.toolshed.shell import execute_js  response = execute_js('file.js', arg1) # arguments to pass if response.exitcode == 0:   print(response.stdout) else:   sys.stderr.write(response.stderr) </code></pre>  <p>while file.js may look something like</p>  <pre><code>var x = 10; x = 10 - arg1; // to pass argument here console.log(x); function greet() {       console.log(""Hello World!""); } greet() </code></pre>  <p>Is there a way to accomplish this?</p>"	"<p>if you want to pass an argument(variable) in execute_js('file.js', arg1) it create a problem like value I received in node js command argument is  ""NaN"" so to overcome this problem I tried below thing which works fine for me:</p>  <p>First make a string need to pass in execute_js like:</p>  <p>node_cmd = ""file.js"" + "" "" + str(variable) now we can pass node_cmd in execute_js as below:</p>  <p>execute_js(""node_cmd"")</p>"
48432203	How to execute javascript code from python with arguments	javascript|python	2018-01-24 21:49:58.703000 UTC	"<p>Executing javascript from python using Naked.toolshed.shell: <a href=""https://stackoverflow.com/questions/38622385/how-can-i-execute-javascript-code-from-python"">How can I execute JavaScript code from Python?</a> Answered my question fine, But is there any way to do this AND pass an argument through to be executed? like</p>  <pre><code>from Naked.toolshed.shell import execute_js  response = execute_js('file.js', arg1) # arguments to pass if response.exitcode == 0:   print(response.stdout) else:   sys.stderr.write(response.stderr) </code></pre>  <p>while file.js may look something like</p>  <pre><code>var x = 10; x = 10 - arg1; // to pass argument here console.log(x); function greet() {       console.log(""Hello World!""); } greet() </code></pre>  <p>Is there a way to accomplish this?</p>"	"<p>As the documentation reveals, yes it is possible:</p>  <blockquote>   <p>The execute_js() function runs the execute() function on a Node.js script file. Instead of passing the command to be executed as the first parameter, pass a Node.js script filepath as the first parameter and any additional command arguments as the second parameter (optional). The executed command is concatenated from these strings with the following code:</p> </blockquote>  <pre><code>if len(arguments) &gt; 0:     js_command = 'node ' + file_path + "" "" + arguments else:     js_command = 'node ' + file_path </code></pre>  <blockquote>   <p>Parameters:<br>   file_path (string) - the filepath to the Node.js script that is to be executed by the shell</p>      <p>arguments (string) - optional, any additional arguments to be used with your command</p> </blockquote>  <p>Documentation: <a href=""http://naked.readthedocs.io/toolshed_shell.html#Naked.toolshed.shell.execute_js"" rel=""nofollow noreferrer"">http://naked.readthedocs.io/toolshed_shell.html#Naked.toolshed.shell.execute_js</a></p>"
48436769	Zapier Python or Javascript Code for Twitter HTML	javascript|python|twitter|zapier	2018-01-25 06:19:33.273000 UTC	"<p>I'm using Zapier to run a search on Twitter, create a daily digest of results (Zapier Digest), and send the digest to a mailing list (Mailgun). I seek to format the Tweets similar to Twitter's own emails where the tweet isn't text but HTML where any user mention (@name, corresponding URL is <a href=""https://twitter.com/[NAME]"" rel=""nofollow noreferrer"">https://twitter.com/[NAME]</a>) and URL in the tweet are actual links. (I don't want the conversion for any hashtags.)</p>  <p>This search, extract, and replace (with added HTML) isn't that hard.  But it's too much for Zapier's simple Formatter text functions.  So I turned to the Zapier Code action, thinking I could borrow code as I'm not a hardcore coder.</p>  <p>I found Python code as below (and others at that site).  After a couple hours of testing I've given up on being able to successfully adapt it for use in Zapier Code.  Zapier has limitations on how it uses Python.  Their documentation on it is primitive.</p>  <p>Could someone here familiar with Zapier help me with converting that (or similar) code so I could run it on Zapier Python or Javascript? I truly would appreciate it.</p>  <p>Thank you, Marc</p>  <hr>  <p><a href=""https://coderwall.com/p/wdtkhw/convert-links-username-mentions-and-hashtags-in-a-tweet"" rel=""nofollow noreferrer"">https://coderwall.com/p/wdtkhw/convert-links-username-mentions-and-hashtags-in-a-tweet</a></p>  <pre><code>function twitterify($ret) {     $ret = preg_replace(""#(^|[\n ])([\w]+?://[\w]+[^ \""\n\r\t&lt; ]*)#"", ""\\1&lt;a href=\""\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;"", $ret);     $ret = preg_replace(""#(^|[\n ])((www|ftp)\.[^ \""\t\n\r&lt; ]*)#"", ""\\1&lt;a href=\""http://\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;"", $ret);     $ret = preg_replace(""/@(\w+)/"", ""&lt;a href=\""http://www.twitter.com/\\1\"" target=\""_blank\""&gt;@\\1&lt;/a&gt;"", $ret);     $ret = preg_replace(""/#(\w+)/"", ""&lt;a href=\""http://twitter.com/search?q=\\1\"" target=\""_blank\""&gt;#\\1&lt;/a&gt;"", $ret);     return $ret;  } </code></pre>"	"<p>David here, from the Zapier Platform team. </p>  <p>Marc, your main problem is that you're using a PHP snippet in our Python interpreter, which is probably why it's giving you trouble. If you have specific questions or there's something we can improve about our documentation, definitely let me know!</p>  <p>I'd check out the python <code>re.sub()</code> function instead. There's a great answer about it <a href=""https://stackoverflow.com/questions/16720541/python-string-replace-regular-expression"">here</a>. You'll also want to be able test your regex, for which there's a <a href=""https://stackoverflow.com/questions/3070655/does-regex-differ-from-php-to-python"">great site</a> (as there are some <a href=""https://stackoverflow.com/questions/3070655/does-regex-differ-from-php-to-python"">sleight differences</a> between PHP and Python regex. There's also a great language resource <a href=""https://learnxinyminutes.com/docs/python/"" rel=""nofollow noreferrer"">here</a> if you want to learn more about the Python language.</p>  <p>​Let me know if you've got any other questions! </p>"
48436769	Zapier Python or Javascript Code for Twitter HTML	javascript|python|twitter|zapier	2018-01-25 06:19:33.273000 UTC	"<p>I'm using Zapier to run a search on Twitter, create a daily digest of results (Zapier Digest), and send the digest to a mailing list (Mailgun). I seek to format the Tweets similar to Twitter's own emails where the tweet isn't text but HTML where any user mention (@name, corresponding URL is <a href=""https://twitter.com/[NAME]"" rel=""nofollow noreferrer"">https://twitter.com/[NAME]</a>) and URL in the tweet are actual links. (I don't want the conversion for any hashtags.)</p>  <p>This search, extract, and replace (with added HTML) isn't that hard.  But it's too much for Zapier's simple Formatter text functions.  So I turned to the Zapier Code action, thinking I could borrow code as I'm not a hardcore coder.</p>  <p>I found Python code as below (and others at that site).  After a couple hours of testing I've given up on being able to successfully adapt it for use in Zapier Code.  Zapier has limitations on how it uses Python.  Their documentation on it is primitive.</p>  <p>Could someone here familiar with Zapier help me with converting that (or similar) code so I could run it on Zapier Python or Javascript? I truly would appreciate it.</p>  <p>Thank you, Marc</p>  <hr>  <p><a href=""https://coderwall.com/p/wdtkhw/convert-links-username-mentions-and-hashtags-in-a-tweet"" rel=""nofollow noreferrer"">https://coderwall.com/p/wdtkhw/convert-links-username-mentions-and-hashtags-in-a-tweet</a></p>  <pre><code>function twitterify($ret) {     $ret = preg_replace(""#(^|[\n ])([\w]+?://[\w]+[^ \""\n\r\t&lt; ]*)#"", ""\\1&lt;a href=\""\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;"", $ret);     $ret = preg_replace(""#(^|[\n ])((www|ftp)\.[^ \""\t\n\r&lt; ]*)#"", ""\\1&lt;a href=\""http://\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;"", $ret);     $ret = preg_replace(""/@(\w+)/"", ""&lt;a href=\""http://www.twitter.com/\\1\"" target=\""_blank\""&gt;@\\1&lt;/a&gt;"", $ret);     $ret = preg_replace(""/#(\w+)/"", ""&lt;a href=\""http://twitter.com/search?q=\\1\"" target=\""_blank\""&gt;#\\1&lt;/a&gt;"", $ret);     return $ret;  } </code></pre>"	"<p>David,</p>  <p>Regarding documentation, the help page is oriented to someone who has Python or Javascript experience. I don't. The following would help.</p>  <ul> <li>In-code commenting.  For the most part, the help just says here's what an example does and shows the code.  It doesn't explain what each line of code does.   </li> <li>The help virtually skips to advanced examples, such as comma separated lists.  More basic examples would provide firmer ground for newbies like me.</li> </ul>  <p>I continued testing and came up with the following code for Zapier Python, based on the snippet above.  While it executed without error (progress!), it made no change to the @user or URL in the input data test tweet.  </p>  <p>Marc</p>  <pre><code>import re tweetHTML = re.sub('/@(\w+)/', '&lt;a href=\""http://www.twitter.com/\\1\"" target=\""_blank\""&gt;@\\1&lt;/a&gt;', input_data ['tweet']) tweetHTML = re.sub('#(^|[\n ])([\w]+?://[\w]+[^ \""\n\r\t&lt; ]*)#', '\\1&lt;a href=\""\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;', tweetHTML) tweetHTML = re.sub('#(^|[\n ])((www|ftp)\.[^ \""\t\n\r&lt; ]*)#', '\\1&lt;a href=\""http://\\2\"" target=\""_blank\""&gt;\\2&lt;/a&gt;', tweetHTML) return {'tweetHTML': tweetHTML} </code></pre>"
48505891	Extract function names in python code using javascript regex	javascript|python|regex|parsing	2018-01-29 16:32:05.743000 UTC	"<p>I am using <code>prism.js</code> to highlight python code but for some reasons it is not highlighting function names which are called for example <code>deep_flatten()</code> or <code>flatten([1,2,3])</code> or <code>flatten(list(map(lambda x: x*2,[1,2,3])))</code>.</p>  <p>So made the following code to overcome this problem</p>  <pre><code>[...document.getElementsByClassName('code')].forEach(x =&gt; {       x.innerText = x.innerText.replace(/(\w+)\([^\(\)]*\)/gi,match=&gt;{         if(match.match(/^\d/)){              return match                               }          else {               return `&lt;span class=""called-function""&gt;${match}&lt;/span&gt;`             }          }    }) </code></pre>  <p>It works fine for the first two ones but fails for the other two ones. On doing google search I found that this is called something recursive and can be done only with parsers. On searching for python parsers in javscript I found a lot of them but they are very big and for parsing whole code. </p>  <p>How can I make a parser/regex which extracts all function names and encloses them within <code>span</code> tags.</p>  <p>I don't want the specific code just some psuedo-code or algorithm as to how to proceed.</p>"	"<p>The default re package in std libs can't handle recursive regexes, however seems the <code>regex</code> package can</p>  <pre><code>/(\w+)\([^\(\)]*\)/gi </code></pre>  <p>can be changed to</p>  <pre><code>/(\w+)(\((?:[^\(\)]|(?2))*\))/gi </code></pre>"
48523195	"MeshLab Quadric Edge Collapse Decimation preserving textures in JavaScript, PHP or Python?"	javascript|php|python|mesh|meshlab	2018-01-30 13:57:10.750000 UTC	"<p>There is a filter in MeshLab that I normally use to decimate (or simplify) 3D models that were 'photogrammetised'; to  a lower number of faces (so that they can be viewed faster on mobile client devices). The filter used is the Quadric Edge Collapse Decimation preserving textures.</p>  <p>I want to do this in <strong>bulk and programmatically</strong> from the web server side; so that those decimations (or simplifications) are done in batch and then stored in backend system  like Omeka, a digital asset management system, or any other similar system really. I am using currently Sketchfab to view the Web3D models (each has an .obj, mtl and bunch of texture images). Any WebGL library like Three JS or Babylon JS can be used.</p>  <p>The important thing here is that I am looking for any implementation of the MeshLab Quadric Edge Collapse Decimation algorithm <strong>for the web</strong>, ideally either in JavaScript (node), PHP or Python? Any libraries that make the batch decimation or simplification easy?</p>  <p>Thank you for any help and suggestions.</p>"	"<p><strong>2021 update</strong></p> <p>now there is <a href=""https://pymeshlab.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">pymeshlab</a>, which allows automatization of meshlab processing through python!</p>"
48523195	"MeshLab Quadric Edge Collapse Decimation preserving textures in JavaScript, PHP or Python?"	javascript|php|python|mesh|meshlab	2018-01-30 13:57:10.750000 UTC	"<p>There is a filter in MeshLab that I normally use to decimate (or simplify) 3D models that were 'photogrammetised'; to  a lower number of faces (so that they can be viewed faster on mobile client devices). The filter used is the Quadric Edge Collapse Decimation preserving textures.</p>  <p>I want to do this in <strong>bulk and programmatically</strong> from the web server side; so that those decimations (or simplifications) are done in batch and then stored in backend system  like Omeka, a digital asset management system, or any other similar system really. I am using currently Sketchfab to view the Web3D models (each has an .obj, mtl and bunch of texture images). Any WebGL library like Three JS or Babylon JS can be used.</p>  <p>The important thing here is that I am looking for any implementation of the MeshLab Quadric Edge Collapse Decimation algorithm <strong>for the web</strong>, ideally either in JavaScript (node), PHP or Python? Any libraries that make the batch decimation or simplification easy?</p>  <p>Thank you for any help and suggestions.</p>"	"<p>You could try <a href=""https://github.com/3DLIRIOUS/MeshLabXML"" rel=""nofollow noreferrer"">MLX</a>, my Python frontend to meshlabserver. The Quadric Edge Collapse Decimation filter is implemented as mlx.remesh.simplify.</p>"
48523195	"MeshLab Quadric Edge Collapse Decimation preserving textures in JavaScript, PHP or Python?"	javascript|php|python|mesh|meshlab	2018-01-30 13:57:10.750000 UTC	"<p>There is a filter in MeshLab that I normally use to decimate (or simplify) 3D models that were 'photogrammetised'; to  a lower number of faces (so that they can be viewed faster on mobile client devices). The filter used is the Quadric Edge Collapse Decimation preserving textures.</p>  <p>I want to do this in <strong>bulk and programmatically</strong> from the web server side; so that those decimations (or simplifications) are done in batch and then stored in backend system  like Omeka, a digital asset management system, or any other similar system really. I am using currently Sketchfab to view the Web3D models (each has an .obj, mtl and bunch of texture images). Any WebGL library like Three JS or Babylon JS can be used.</p>  <p>The important thing here is that I am looking for any implementation of the MeshLab Quadric Edge Collapse Decimation algorithm <strong>for the web</strong>, ideally either in JavaScript (node), PHP or Python? Any libraries that make the batch decimation or simplification easy?</p>  <p>Thank you for any help and suggestions.</p>"	"<p>There are quite a few ways of solving this issue, if you are using Python.</p> <ol> <li><p>You can use <a href=""https://pypi.org/project/quad-mesh-simplify/"" rel=""nofollow noreferrer"">quad-mesh-simplify</a>. A lightweight package specifically for <strong>simplifying meshes with node features</strong>. The algorithm from <a href=""http://mgarland.org/files/papers/quadrics.pdf"" rel=""nofollow noreferrer"">Surface Simplification Using Quadric Error Metrics</a> was implemented using cython.</p> </li> <li><p>You can also at the popular Open3D (as of v0.9.0.0) function - <a href=""http://www.open3d.org/docs/0.9.0/python_api/open3d.geometry.TriangleMesh.html?highlight=simplify_quadric_decimation#open3d.geometry.TriangleMesh.simplify_quadric_decimation"" rel=""nofollow noreferrer"">simplify_quadric_decimation</a></p> </li> </ol> <p>Hope that helps!</p>"
48525768	"How can I port this ""one-line for loop"" from Python to JavaScript?"	javascript|python	2018-01-30 16:05:40.397000 UTC	"<p>I'm not sure about the terminology used (I think it's called &quot;lambda&quot; or something like that), so I cannot do a proper search.</p> <p>The following line in Python:</p> <pre><code> a, b, c, d, e = [SomeFunc(x) for x in arr] </code></pre> <p>How can I do the same in Javascript?</p> <p>I have this to begin with:</p> <pre><code>let [a, b, c, d, e] = arr; </code></pre> <p>But I still need to call <code>SomeFunc</code> on every element in <code>arr</code>.</p>"	"<p>The term you are looking for is <a href=""http://www.secnetix.de/olli/Python/lambda_functions.hawk"" rel=""nofollow noreferrer"">lambda functions</a>.</p>  <p>These types of functions are ideal for quick, one-time calculations.  The javascript equivalent is the <code>map()</code> function.  For your specific case, the syntax would be</p>  <pre>      let arr = some_array.map(x => {         return SomeFunc(x);     });  </pre>  <p>For example, the statement</p>  <pre>      let arr = [1, 2, 8].map(num => {         return num * 2;     });  </pre>  <p>will assign the list <code>[2, 4, 16]</code> to the variable <code>arr</code>.</p>  <p>Hope that helps!</p>"
48525768	"How can I port this ""one-line for loop"" from Python to JavaScript?"	javascript|python	2018-01-30 16:05:40.397000 UTC	"<p>I'm not sure about the terminology used (I think it's called &quot;lambda&quot; or something like that), so I cannot do a proper search.</p> <p>The following line in Python:</p> <pre><code> a, b, c, d, e = [SomeFunc(x) for x in arr] </code></pre> <p>How can I do the same in Javascript?</p> <p>I have this to begin with:</p> <pre><code>let [a, b, c, d, e] = arr; </code></pre> <p>But I still need to call <code>SomeFunc</code> on every element in <code>arr</code>.</p>"	"<p>It's called .map() in JavaScript and you'd use it like this:</p>  <pre><code>let arr = [1,2,3,4].map(someFunc); </code></pre>  <p>and someFunc would be defined somewhere else, maybe:</p>  <pre><code>function someFunc(x){ return ++x }; //or es6 let someFunc = x =&gt; ++x; </code></pre>"
48525768	"How can I port this ""one-line for loop"" from Python to JavaScript?"	javascript|python	2018-01-30 16:05:40.397000 UTC	"<p>I'm not sure about the terminology used (I think it's called &quot;lambda&quot; or something like that), so I cannot do a proper search.</p> <p>The following line in Python:</p> <pre><code> a, b, c, d, e = [SomeFunc(x) for x in arr] </code></pre> <p>How can I do the same in Javascript?</p> <p>I have this to begin with:</p> <pre><code>let [a, b, c, d, e] = arr; </code></pre> <p>But I still need to call <code>SomeFunc</code> on every element in <code>arr</code>.</p>"	"<p>you can use map in this case</p>  <pre><code>function functionF(x){return x}  let [a, b, c, d, e] = arr.map(functionF); </code></pre>"
48525768	"How can I port this ""one-line for loop"" from Python to JavaScript?"	javascript|python	2018-01-30 16:05:40.397000 UTC	"<p>I'm not sure about the terminology used (I think it's called &quot;lambda&quot; or something like that), so I cannot do a proper search.</p> <p>The following line in Python:</p> <pre><code> a, b, c, d, e = [SomeFunc(x) for x in arr] </code></pre> <p>How can I do the same in Javascript?</p> <p>I have this to begin with:</p> <pre><code>let [a, b, c, d, e] = arr; </code></pre> <p>But I still need to call <code>SomeFunc</code> on every element in <code>arr</code>.</p>"	"<p>A close approximation would be to use the array method <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"" rel=""nofollow noreferrer""><code>map</code></a>. It uses a function to perform an operation on each array element, and returns a new array of the same length.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const add2 = (el) =&gt; el + 2;  const arr = [1, 2, 3, 4, 5]; let [a, b, c, d, e] = arr.map(add2);  console.log(a, b, c, d, e);</code></pre> </div> </div> </p>  <p>Be careful when you use array destructuring to ensure that you're destructuring the right number of elements for the returned array.</p>"
48536090	Django - passing python data to javascript	javascript|python|django|vis.js	2018-01-31 06:47:41.790000 UTC	"<p>I have a javascript code in my js.html:</p>  <pre><code>{% load static %} &lt;script src=""{% static  ""vis.js"" %}""&gt;&lt;/script&gt;  &lt;div id=""mynetwork""&gt;&lt;/div&gt; &lt;script type=""text/javascript""&gt;    var nodes = new vis.DataSet([     {'id': 1, 'label': 'node 1'},     {'id': 2, 'label': 'node 2'},     {'id': 3, 'label': 'node 3'},     {'id': 4, 'label': 'node 4'},     {'id': 5, 'label': 'node 5'}   ]);    var edges = new vis.DataSet([     {'from': 1, 'to': 3},     {'from': 1, 'to': 2},     {'from': 2, 'to': 4},     {'from': 2, 'to': 5},     {'from': 3, 'to': 3}   ]);    var container = document.getElementById('mynetwork');   var data = {     nodes: nodes,     edges: edges   };   var options = {};   var network = new vis.Network(container, data, options); &lt;/script&gt; </code></pre>  <p>I have a python variable called nodesJS which takes this form when printed:</p>  <pre><code>[{'id': 1, 'label': 'node 1'},     {'id': 2, 'label': 'node 2'},     {'id': 3, 'label': 'node 3'},     {'id': 4, 'label': 'node 4'},     {'id': 5, 'label': 'node 5'} ] </code></pre>  <p>which is the same form that this javascript would use. In my views.py i'm just passing nodesJS variable in a context. Now i wanted to write my js code in this style:</p>  <pre><code>var nodes = new vis.DataSet({{nodesJS}}); </code></pre>  <p>And the problem is that it doesn't work. Is there any way for js to treat my python variable the i want it to? </p>"	"<p>You can use <a href=""https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#safe"" rel=""nofollow noreferrer"">safe</a> tag - <code>{{ nodeJS|safe }}</code>.</p>  <blockquote>   <p>[Safe] marks a string as not requiring further HTML escaping prior to output.</p> </blockquote>"
48553638	connect javascript client to python websocket server	javascript|python|websocket	2018-02-01 00:31:51.663000 UTC	"<p>I have this working python websocket server:</p>  <pre><code>#!/usr/bin/env python from socket import *  HOST = '' PORT = 8080 BUFSIZ = 1024 ADDR = (HOST, PORT)  tcpSerSock = socket(AF_INET, SOCK_STREAM) tcpSerSock.bind(ADDR) tcpSerSock.listen(5)  def loop():     while True:         print 'Waiting for connection...'         tcpCliSock, addr = tcpSerSock.accept()         print '...connected from :', addr         while True:             data = tcpCliSock.recv(BUFSIZ)             if not data:                 break             else:                 print 'data: ',data         tcpSerSock.close()  try:     loop() except KeyboardInterrupt:     tcpSerSock.close() </code></pre>  <p>when I connect from the python client it works even if when I close the client the server crashes:</p>  <pre><code>Waiting for connection... Traceback (most recent call last):   File ""ledServer.py"", line 27, in &lt;module&gt;     loop()   File ""ledServer.py"", line 16, in loop     tcpCliSock, addr = tcpSerSock.accept()   File ""/usr/lib/python2.7/socket.py"", line 202, in accept     sock, addr = self._sock.accept()   File ""/usr/lib/python2.7/socket.py"", line 170, in _dummy     raise error(EBADF, 'Bad file descriptor') socket.error: [Errno 9] Bad file descriptor </code></pre>  <p>anyway when I run this javascript client:</p>  <pre><code>window.onload = function(){     ws = new WebSocket('ws://192.168.25.7:8080');      ws.onmessage = function(event){document.write(""message received""); alert(event.data); ws.close();}      ws.onopen = function(){document.write(""open"");}      ws.onclose = function(){document.write(""close"");}     ws.onerror = function(){document.write(""error"");} } </code></pre>  <p>I get this on the server:</p>  <pre><code>...connected from : ('192.168.25.25', 53747) data:  GET / HTTP/1.1 Host: 192.168.25.7:8080 Connection: Upgrade Pragma: no-cache Cache-Control: no-cache Upgrade: websocket Origin: file:// Sec-WebSocket-Version: 13 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36 Accept-Encoding: gzip, deflate Accept-Language: it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7,tr;q=0.6,nl;q=0.5 Sec-WebSocket-Key: pH4kNOzz1MYyi+oXmaFCcA== Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits </code></pre>  <p>but even if the server says it is connected, on the client the onopen function is not executed, Chrome says that websocket status is ""pending"", and if I try to send a message to the server, I get:<br></p>  <pre><code>Uncaught DOMException: Failed to execute 'send' on 'WebSocket': Still in CONNECTING state. </code></pre>  <p>What am I doing wrong?</p>"	"<p>The Python <code>socket</code> module doesn't have anything to do with websockets.</p>  <p>WebSocket, like HTTP, is a protocol implemented on top of an underlying transport. What your code does is setup a TCP server listening on port 8080. Websockets are a layer above that, just like HTTP. You can see the browser attempt to handshake with your server but it gives up because your server doesn't respond appropriately.</p>  <p>The websocket protocol is somewhat complicated and you'll probably want a library to handle it for you. One example is the <a href=""https://github.com/aaugustin/websockets"" rel=""noreferrer""><code>websockets</code> module</a>:</p>  <pre><code>#!/usr/bin/env python  import asyncio import websockets  async def echo(websocket, path):     async for message in websocket:         await websocket.send(message)  asyncio.get_event_loop().run_until_complete(     websockets.serve(echo, 'localhost', 8765)) asyncio.get_event_loop().run_forever() </code></pre>"
48571923	Run same code in python and javascript	javascript|python|transpiler	2018-02-01 21:21:32.333000 UTC	"<p>I have a special case in some application code where I need to run some non-trivial validation/math on the frontend (for responsiveness) as well as on the backend (for data integrity). I want to make sure they're in sync, and not write the code twice. Is there a way to compile something to both python and javascript?</p>  <p>I'm currently looking at <a href=""http://www.transcrypt.org/docs/html/index.html"" rel=""nofollow noreferrer"">Transcrypt</a> (python -> javascript transpiler), but the main problem is that it doesn't have very much of the stdlib available, and I'm not sure how to go about stubbing out my own versions. There are also some footguns that would be annoying to dance around, like changing methods called ""get"" to ""py_get"".</p>  <p>I've also seen <a href=""https://github.com/PiotrDabkowski/Js2Py"" rel=""nofollow noreferrer"">Js2Py</a>, which takes the opposite approach of running javascript inside python. This seems potentially better, since I could write my shared code as a library using regular old javascript tooling, then import it and call it from python.</p>  <p>So here's what I'm looking for:</p>  <ul> <li>I want to be able to write a stateless application library in a single language. Clojure, python, javascript preferred, or a common business logic DSL that has bindings in both languages.</li> <li>I want to compile to both python and javascript, and run my tests in both places to make sure it all worked.</li> <li>I want it to be fast in both places (I currently call a pure js library from python using subprocess, but it's kinda slow).</li> <li>I want access to the source language's stdlib (short of browser apis/system apis), e.g. unittest, functools. Additional libraries are a plus.</li> </ul>"	"<p>What I ended up doing was using javascript, running it via nodejs via python's subprocess module, and calling it over http with requests. Quick and dirty! Lots of small things to deal with on that end, including restarting dead processes, etc.</p> <p>This did the trick, but the particularities of my use case meant it gave me no end of trouble. In the end, I ended up taking the logic out of the frontend and using an ajax request to fetch the calculation from the server. The latency is very small, so the frontend remains responsive <em>enough</em>.</p>"
48589123	How to pass a json object from a Python function to Javascript with Eel where you can use and manipulate the json	javascript|python|jquery|json|eel	2018-02-02 18:51:37.360000 UTC	"<p>This question may be a bit confusing, so let me give you some background. Eel is a Python module where you can take functions made in Python and use them in Javascript, and vice versa. What I want to do is take a json made from a Python function, put it in Javascript, and make a table based on the json that was taken from the Python side. Here's an example.</p>  <p>python.py</p>  <pre><code>def json_example():     json = [         {             ""key"": ""value1""         },         {             ""key"": ""value2""         }     ]     return json </code></pre>  <p>js.html</p>  <pre><code>&lt;body&gt;     &lt;div&gt;&lt;/div&gt; &lt;/body&gt; &lt;script&gt;     function js_example() {         # This is where the function from Python is called         var json_obj = eel.json_example();         var tbl = $(""&lt;table/&gt;"").attr(""id"", ""example_table"");         $(""div"").append(tbl);         for(var i=0; i&lt;json_obj.length; i++){             var tr=""&lt;tr&gt;"";             var td=""&lt;td&gt;""+obj[i][""key""]+""&lt;/td&gt;&lt;/tr&gt;"";             $('#example_table').append(tr+td);         }     } </code></pre>  <p>I tested both of these functions out separately with a few changes and they both work. However, here's where the problem starts. For some reason, the Javascript part is not getting anything from the function it calls from the Python code. the variable ""json_obj"" should be equal to the json I made in the Python function, but for some reason the return value of the function isn't creating tangible data that can be manipulated in the Javascript, basically returning nothing. And the eel transfer itself works as well. If you replace ""return"" with ""print"", it will print the json in the console.</p>  <p>Also, please don't tell me to just put the json itself in the Javascript. I have a reason for needing the json to come from the Python side.</p>  <p>So basically, here's my question: how do you get a Python function to create a value that can be manipulated in Javascript?</p>"	"<p>Convert to json within Python if you're calling Python to begin with and send json to JS in the return value.</p>  <p>See: <a href=""https://github.com/ChrisKnott/Eel/tree/master/examples/03%20-%20sync_callbacks"" rel=""nofollow noreferrer"">https://github.com/ChrisKnott/Eel/tree/master/examples/03%20-%20sync_callbacks</a></p>  <p>To do a synchronous operation that will take time to complete in Python and then return a value into JS, use;</p>  <pre><code>let n = await eel.py_random()(); </code></pre>  <p>which is really</p>  <pre><code>let mySlowReturnValueFromPython = await eel.myExposedPythonFunction()(); </code></pre>  <p>In fact I tried to code in my own promises and I was getting back garbage that looked like eel promises. The browser maintains a thread while you call this way, so the user can kick off a long Python operation and still interact with the GUI.</p>  <p>I'd note that you can still call things that update the GUI asynchronously. If you have a bunch of Python functions which return ready-made HTML as I do, then you can kick them all off in a row without waiting and they will update the divs whenever they return. I use this;</p>  <pre><code>eel.expose(updateDiv); function updateDiv(newData, divToUpdate) { var fieldToUpdate = document.getElementById(divToUpdate) fieldToUpdate.innerHTML = newData } </code></pre>  <p>Then I call my Python function which gets the data synchronously, packs it up into a ready-made HTML chunk for the GUI, and then calls updateDiv from Python. I'm actually really enjoying the power that this ""ping pong"" interaction between a synchronous codebase and an asynchronous one give me when working with a GUI. Worlds better than arfing about with TK.</p>  <p>I hope this helps you and you can struggle less with it than I did. Once you understand how this works, Eel is really great. It apparently handles sync for you, just hand it a blank callback (or whatever black magic that is). What a great lib! Eel is just perfect for locally hosted GUI's. I'd like to see a better GUI framework than HTML/CSS/JS - the truth is that there really isn't one, those things are so well tested and stable, with so many available examples for whatever you could want to create.</p>  <p>I'd really like to see this become the native Python GUI solution. Browsers are extremely cross-platform and the only problem to solve when porting becomes interfacing the browser to Python.</p>"
48589123	How to pass a json object from a Python function to Javascript with Eel where you can use and manipulate the json	javascript|python|jquery|json|eel	2018-02-02 18:51:37.360000 UTC	"<p>This question may be a bit confusing, so let me give you some background. Eel is a Python module where you can take functions made in Python and use them in Javascript, and vice versa. What I want to do is take a json made from a Python function, put it in Javascript, and make a table based on the json that was taken from the Python side. Here's an example.</p>  <p>python.py</p>  <pre><code>def json_example():     json = [         {             ""key"": ""value1""         },         {             ""key"": ""value2""         }     ]     return json </code></pre>  <p>js.html</p>  <pre><code>&lt;body&gt;     &lt;div&gt;&lt;/div&gt; &lt;/body&gt; &lt;script&gt;     function js_example() {         # This is where the function from Python is called         var json_obj = eel.json_example();         var tbl = $(""&lt;table/&gt;"").attr(""id"", ""example_table"");         $(""div"").append(tbl);         for(var i=0; i&lt;json_obj.length; i++){             var tr=""&lt;tr&gt;"";             var td=""&lt;td&gt;""+obj[i][""key""]+""&lt;/td&gt;&lt;/tr&gt;"";             $('#example_table').append(tr+td);         }     } </code></pre>  <p>I tested both of these functions out separately with a few changes and they both work. However, here's where the problem starts. For some reason, the Javascript part is not getting anything from the function it calls from the Python code. the variable ""json_obj"" should be equal to the json I made in the Python function, but for some reason the return value of the function isn't creating tangible data that can be manipulated in the Javascript, basically returning nothing. And the eel transfer itself works as well. If you replace ""return"" with ""print"", it will print the json in the console.</p>  <p>Also, please don't tell me to just put the json itself in the Javascript. I have a reason for needing the json to come from the Python side.</p>  <p>So basically, here's my question: how do you get a Python function to create a value that can be manipulated in Javascript?</p>"	"<p>The problem is that when eel exposes a function what it actually does is it creates a new function that will return a <strong>promise</strong> containing the return value of your python function. <br> So you should have something like this instead:<br></p>  <pre><code>let json_obj = '';  eel.json_example()(x =&gt; json_obj = x); </code></pre>  <p>If you need more help on callbacks, refer to <a href=""https://github.com/ChrisKnott/Eel"" rel=""nofollow noreferrer"">https://github.com/ChrisKnott/Eel</a>.</p>"
48603339	How to call JavaScript function using BeautifulSoup and Python	javascript|python|selenium|web-scraping|urllib	2018-02-04 00:00:13.457000 UTC	"<p>I am performing web scraping to grab data from a website as part of my project. I can make the request and grab the data which is present in the dom. However, some data is getting rendered on javascript onClick function.</p> <p>One way could be, using the selenium to click on the link (which calls the javascript function) and grab the rendered data, but this process is time-consuming, and I don't want to open the browser.</p> <p>Is there any way other than selenium to achieve this?</p> <p>Website: <a href=""http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849"" rel=""nofollow noreferrer"">http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849</a></p> <p>In the <em>courses</em> section of this webpage, all the courses are hyperlinks, and as soon as someone clicks on the courses, a javascript method gets called. I need the data which gets rendered after the javascript function call.</p>"	"<p>You can't. If you want to run JavaScript, you'll need to use a headless browser. Otherwise, you'll have to disassemble the JavaScript and see what it does.</p>  <p>Click on the element while your browser's developer tools are open in the Network tab:</p>  <p><a href=""https://i.stack.imgur.com/713v4.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/713v4.png"" alt=""enter image description here""></a></p>  <p>You can now see that the JavaScript downloads new HTML from that URL. You can easily send the same request with urllib.</p>"
48603339	How to call JavaScript function using BeautifulSoup and Python	javascript|python|selenium|web-scraping|urllib	2018-02-04 00:00:13.457000 UTC	"<p>I am performing web scraping to grab data from a website as part of my project. I can make the request and grab the data which is present in the dom. However, some data is getting rendered on javascript onClick function.</p> <p>One way could be, using the selenium to click on the link (which calls the javascript function) and grab the rendered data, but this process is time-consuming, and I don't want to open the browser.</p> <p>Is there any way other than selenium to achieve this?</p> <p>Website: <a href=""http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849"" rel=""nofollow noreferrer"">http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849</a></p> <p>In the <em>courses</em> section of this webpage, all the courses are hyperlinks, and as soon as someone clicks on the courses, a javascript method gets called. I need the data which gets rendered after the javascript function call.</p>"	"<p>You can use <a href=""https://pypi.org/project/requests-html/"" rel=""nofollow noreferrer"">https://pypi.org/project/requests-html/</a> this library to render JavaScript content and then use beautiful soup to parse it.</p> <p>Example:</p> <pre><code>from requests_html import HTMLSession      def render_JS(URL):     session = HTMLSession()     r = session.get(URL)     r.html.render()     return r.html.text </code></pre>"
48603339	How to call JavaScript function using BeautifulSoup and Python	javascript|python|selenium|web-scraping|urllib	2018-02-04 00:00:13.457000 UTC	"<p>I am performing web scraping to grab data from a website as part of my project. I can make the request and grab the data which is present in the dom. However, some data is getting rendered on javascript onClick function.</p> <p>One way could be, using the selenium to click on the link (which calls the javascript function) and grab the rendered data, but this process is time-consuming, and I don't want to open the browser.</p> <p>Is there any way other than selenium to achieve this?</p> <p>Website: <a href=""http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849"" rel=""nofollow noreferrer"">http://catalog.fullerton.edu/preview_entity.php?catoid=16&amp;ent_oid=1849</a></p> <p>In the <em>courses</em> section of this webpage, all the courses are hyperlinks, and as soon as someone clicks on the courses, a javascript method gets called. I need the data which gets rendered after the javascript function call.</p>"	"<p>You can't do this using BeautifulSoup alone.  This module was created to scrape HTML (Hyper Text Markup Language) not JavaScript, CSS or any other web language.  </p>  <p>It can extract between <code>&lt;script&gt;&lt;/script&gt;</code> tags (which will be quite useful) but beyond this BeautifulSoup is not what you need.</p>  <p>To call a JavaScript functions you will need a <a href=""https://en.wikipedia.org/wiki/Headless_browser"" rel=""nofollow noreferrer"">headless browser</a> such as <a href=""http://phantomjs.org/"" rel=""nofollow noreferrer"">PhantomJS</a> or <a href=""http://selenium-python.readthedocs.io/"" rel=""nofollow noreferrer"">Selenium</a>.  There have also been attempts to parse JavaScript as well as using <a href=""https://docs.python.org/3/howto/regex.html"" rel=""nofollow noreferrer"">regex</a> (which is <strong>not a good idea</strong>) and using other methods (recommended) some methods are described in <a href=""https://stackoverflow.com/questions/390992/javascript-parser-in-python"">this question</a> and may be useful. </p>"
48608601	XMLHTTPRequest between Python and Javascript	javascript|python|xmlhttprequest	2018-02-04 13:33:23.313000 UTC	"<p>Here is a function in javascript which is currently being used to update a database. Currently when it is run, the entire python script is outputted to the javascript function intead of just the print statement. Is it possible, without importing any extra modules, for data to be sent between these two sections of code? if so, how would I do it?</p>  <p>Javascript:</p>  <pre><code>function sendmsg(){              var xhttp = new XMLHttpRequest();             xhttp.onreadystatechange = function() {                 if (this.readyState == 4 &amp;&amp; this.status == 200) {                     // Typical action to be performed when the document is ready:                     console.log(xhttp.responseText)                     document.getElementById(""name"").innerHTML = '';                 }                };             xhttp.open(""GET"", URL+'/SendMsg.py', true);             xhttp.send();         } </code></pre>  <p>Python:</p>  <pre><code>import cgi import cgitb; cgitb.enable() import sqlite3  mydb = 'messenger.db' conn = sqlite3.connect(mydb) cursor = conn.cursor()  print('alex')  """""" form = cgi.FieldStorage() Sender = form.getvalue('UserName') Reciever = form.getvalue('Class') message = form.getvalue('Message') val = {""Sender"":Sender, ""Reciever"":Reciever, ""message"":message} cursor.execute('''INSERT INTO Message (Message, SenderID, ClassID) VALUES (:message, :Sender, :Reciever)''',val) conn.commit() cursor.close() """""" </code></pre>  <p>Many thanks in advance</p>"	"<p>I would suggest to take a look at <a href=""http://flask.pocoo.org/"" rel=""nofollow noreferrer"">Flask</a> or <a href=""https://www.djangoproject.com/start/"" rel=""nofollow noreferrer"">Django</a>. You can implement a RESTful API using Django or Flask, read the HTTP request there, extract parameter and send back appropriate response.</p>  <p>Right now you are requesting the server to send <code>xhttp.open(""GET"", URL+'/SendMsg.py', true);</code> SendMsg.py and it's sending that.</p>"
48608601	XMLHTTPRequest between Python and Javascript	javascript|python|xmlhttprequest	2018-02-04 13:33:23.313000 UTC	"<p>Here is a function in javascript which is currently being used to update a database. Currently when it is run, the entire python script is outputted to the javascript function intead of just the print statement. Is it possible, without importing any extra modules, for data to be sent between these two sections of code? if so, how would I do it?</p>  <p>Javascript:</p>  <pre><code>function sendmsg(){              var xhttp = new XMLHttpRequest();             xhttp.onreadystatechange = function() {                 if (this.readyState == 4 &amp;&amp; this.status == 200) {                     // Typical action to be performed when the document is ready:                     console.log(xhttp.responseText)                     document.getElementById(""name"").innerHTML = '';                 }                };             xhttp.open(""GET"", URL+'/SendMsg.py', true);             xhttp.send();         } </code></pre>  <p>Python:</p>  <pre><code>import cgi import cgitb; cgitb.enable() import sqlite3  mydb = 'messenger.db' conn = sqlite3.connect(mydb) cursor = conn.cursor()  print('alex')  """""" form = cgi.FieldStorage() Sender = form.getvalue('UserName') Reciever = form.getvalue('Class') message = form.getvalue('Message') val = {""Sender"":Sender, ""Reciever"":Reciever, ""message"":message} cursor.execute('''INSERT INTO Message (Message, SenderID, ClassID) VALUES (:message, :Sender, :Reciever)''',val) conn.commit() cursor.close() """""" </code></pre>  <p>Many thanks in advance</p>"	"<p>Ive fixed this problem, There was a error in the config file of apache which didnt allow python cgi to run how it is created to run. For future, make sure that the required lines of code in the config files are uncommented.</p>"
48610840	TypeError: javaScriptConfirm() takes exactly 1 argument (3 given) python	python|pyqt|pyqt4|qwebview	2018-02-04 17:14:05.043000 UTC	<pre><code>self.browser = QWebView() self.page = MyWebPage() self.browser.setPage(self.page) </code></pre>  <p>the MyWebPage() class is:</p>  <pre><code>class MyWebPage(QWebPage):     def javaScriptAlert(self):         pass     def javaScriptConfirm(self):         pass     def javaScriptConsoleMessage(self):         pass     def javaScriptPrompt(self):         pass </code></pre>  <p>then I get the type error:</p>  <blockquote>   <p>TypeError: javaScriptConfirm() takes exactly 1 argument (3 given)</p> </blockquote>  <p>can anyone tell me why I am getting that error?</p>	"<p>If you want to overwrite some method of a class the function must have the same number of arguments, if we review the <a href=""http://doc.qt.io/archives/qt-4.8/qwebpage.html"" rel=""nofollow noreferrer"">docs</a>:</p>  <blockquote>   <p><strong>virtual void    javaScriptAlert(QWebFrame * frame, const QString &amp; msg)</strong></p>      <p><strong>virtual bool    javaScriptConfirm(QWebFrame * frame, const QString &amp; msg)</strong></p>      <p><strong>virtual void    javaScriptConsoleMessage(const QString &amp; message, int    lineNumber, const QString &amp; sourceID)</strong></p>      <p><strong>virtual bool    javaScriptPrompt(QWebFrame * frame, const QString &amp; msg, const QString &amp; defaultValue, QString * result)</strong></p> </blockquote>  <p>by reviewing you must overwrite the methods as follows:</p>  <pre><code>class MyWebPage(QWebPage):     def javaScriptAlert(self, frame, msg):         pass     def javaScriptConfirm(self, frame, msg):         pass     def javaScriptConsoleMessage(self, message, lineNumber, sourceID):         pass     def javaScriptPrompt(self, frame, msg, defaultValue, result):         pass </code></pre>  <p>Or if you are not going to use any of those parameters you could use <code>*args</code> and <code>**kwargs</code>:</p>  <pre><code>class MyWebPage(QWebPage):     def javaScriptAlert(self, *args, **kwargs):         pass     def javaScriptConfirm(self, *args, **kwargs):         pass     def javaScriptConsoleMessage(self, *args, **kwargs):         pass     def javaScriptPrompt(self, *args, **kwargs):         pass </code></pre>"
48692276	Use javascript regex with python	javascript|python|regex	2018-02-08 18:19:59.327000 UTC	"<p>I have a large list of javascript regular expressions and want to use them with Python.</p>  <p>My question is, how much both regex types differ and if I could simply use pythons <code>re</code>. I was able to compile all expressions in the list without error, but does this guarantee that the expressions match the same strings in any case?</p>  <p>If this doesn't work in general, what would be a reliable way to automatically translate the javascript regex to python regex?</p>"	
48710845	Running JavaScript in Python: 'module' object is not callable	python-2.7|atom-editor	2018-02-09 17:10:26.830000 UTC	"<p>I am trying to run a JavaScript file in Python using Atom, but I get an error</p>  <blockquote>   <p>TypeError: 'module' object is not callable</p> </blockquote>  <p>Here is my code:</p>  <pre class=""lang-python prettyprint-override""><code>import execjs script = open('C:\Users\JASPREET\Documents\INDUSTRY PROJECT\Tribbute\test.js', 'r') script_content = script.read() script.close() x = execjs(script_content)  print x </code></pre>"	"<p>You need to read the execjs documentation.</p>  <p><a href=""https://pypi.python.org/pypi/PyExecJS"" rel=""nofollow noreferrer"">https://pypi.python.org/pypi/PyExecJS</a></p>  <p>The short version of why you're getting this error is that you are importing <code>execjs</code>, which is a module, and then you try to call it as though it's a function. It's not. This is what the error is telling you: <code>execjs</code> is not callable.</p>  <p>You probably want something more like this:</p>  <pre class=""lang-python prettyprint-override""><code>x = execjs.eval(script_content) </code></pre>"
48716993	how to perform mathematical operations with unicode number in python3 or javascript	javascript|python-3.x|math|unicode|ascii	2018-02-10 03:45:20.537000 UTC	"<p>How to perform mathematical operations with non ascii number in python3 or javascript,</p>  <p>like this <code>1 + 1 = 2</code>, how to perform with unicode number <code>১+১=২</code></p>"	"<p>Apart from the fact that <code>১+২=২</code> is wrong, I'd point out <a href=""https://docs.python.org/3/library/unicodedata.html#unicodedata.decimal"" rel=""nofollow noreferrer"">unicodedata.decimal</a>. As long as the underlying number system is decimal in nature, this will allow you to turn each non-ascii digit into its numeric value, and from there into its ascii representation if you so desire.</p>  <pre><code>import unicodedata def dec(c):   try:     return unicodedata.decimal(c)   except:     return c print(repr(list(map(dec, u""১+২=২"")))) </code></pre>  <p>will print <code>[1, '+', 2, '=', 2]</code>.</p>"
48730079	How to pass javascript array value to the python flask	javascript|python|arrays|web|flask	2018-02-11 09:27:39.193000 UTC	"<p>I have a html form it generates array of values after submitting, I want to pass those array of values to python flask.</p>  <p>I tried using hidden form with field <strong>id=""Result""</strong>. But flask not recognizing id it only taking value from name filed.</p>  <p>I don't know what to do, I'm new to the Flask framework.</p>  <p>Here is my javascript code:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function add_element_to_array() {      array[x] = ([          document.getElementById(""user"").value,          document.getElementById(""customer"").value,          document.getElementById(""product"").value,          document.getElementById(""start"").value,          document.getElementById(""end"").value,          document.getElementById(""status"").value,          document.getElementById(""description"").value      ]);      alert(""Element: "" + array[x] + "" Added at index "" + x);      x++;          document.getElementById(""user"").value = """";          document.getElementById(""customer"").value = """";          document.getElementById(""product"").value = """";          document.getElementById(""start"").value = """";          document.getElementById(""end"").value = """";          document.getElementById(""status"").value = """";          document.getElementById(""description"").value = """"; }  function display_array() {    var e = ""&lt;hr/&gt;"";    //var myJsonString;     for (var y=0; y&lt;array.length; y++)    {      e += ""Element "" + y + "" = "" + array[y] + ""&lt;br/&gt;"";      //myJsonString = JSON.stringify(array[y]);      //console.log(myJsonString)        //return array[y];    }     document.getElementById(""Result"").innerHTML = e; }  &lt;/script&gt;</code></pre> </div> </div> </p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;form action=""/flaskprocess"" method=""POST""&gt;   &lt;input type=""hidden"" id=""Result"" value="""" /&gt;   &lt;input type=""submit"" value=""Submit"" /&gt; &lt;/form&gt;</code></pre> </div> </div> </p>  <p>I want to process  this <strong>document.getElementById(""Result"").innerHTML = e;</strong> to flask. I tried many ways but didn't get.</p>  <p>Please Help me.</p>  <p>Thank you.</p>"	"<p>I tried this.It is quit simple after set values to hidden type id, give the <strong>name</strong> <strong>attribute</strong> to your hidden field.this will help you</p>  <pre><code>&lt;input type=""hidden"" name=""hidden"" id=""Result""&gt; document.getElementById(""Result"").value = e; </code></pre>  <p>this will  set your array values to hidden type id.</p>  <pre><code>flask.py values=request.form.getlist('hidden') </code></pre>"
48734600	Running a javascript script through python using the subprocess library on a raspberry pi and returning values from it	javascript|python|node.js	2018-02-11 17:56:13.283000 UTC	"<p>I have accomplished running a js file with the following python script:</p>  <p>import subprocess subprocess.check_call('npm run test')</p>  <p>The file test.js reads sensor data and is only written in javascript because the only available library for this sensor is a NodeJS library. Now, I want the test.js to return those values everytime it is executed within my python script. How do I do that?</p>  <p>And it is not possible via this method, are there others? I cannot write this js script in python as the library uses NodeJS. </p>  <p>I want to thank everone that tries to help me in advance and if you need more info, simply contact me!</p>"	"<p>For anyone who might ever find himself in the same situation, I have found a workaround that works for me and might even work for you!</p>  <p>So, this is actually quite simple, but only works for a specific application. Here, I have a sensor which is read by a javascript script, but I want a python script to handle the sensor's output value. What I did was:</p>  <p>import subprocess import os </p>  <p>deadly_string = subprocess.getoutput('npm run test') not_so_deadly_string = deadly_string[-6:]</p>  <p>print (""value: "", not_so_deadly_string)</p>  <p>I captured the output of the terminal with ""subprocess.getoutput"". The output of the terminal looks something like this:</p>  <p>nodejs-qmc5883l@.... ..... Declination angle correction: 1 . . . Azimuth= 300.00</p>  <p>The value ""300.00"" is what I want, so I cut the last 5 characters of the string and that's it....</p>"
48747589	python dict.update() equivalent in javascript	javascript|dictionary	2018-02-12 13:25:47.203000 UTC	"<p>I want to update the dictionary in javascript- modify the existing values or add new values- same as python dictionary update.</p>  <p>dict+ or dict.update() seem not be working. Is it possible to do so in javascript?</p>  <p>Thanks in advance!</p>  <pre><code>data={""abc"":{1:2,3:4}}  if (key in d) {             d[key].update(data[key]);         }         else {             d[key]={};             d[key]=data[key];         } </code></pre>  <p>EDIT: The updating dictionary is working fine as follow-</p>  <pre><code>dg={""abc"":{1:2,3:4},""sdc"":{1:2,4:5}} function upd(data) {     for (key in data) {         if (key in dg) {             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         }         else {             dg[key]={};             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         } </code></pre>  <p>but if i try separating the function as- </p>  <pre><code>var old={}; var new={}; function update_dict(old,new) { console.log(new,old);     for (key2 in new) {                 old[key2]=new[key2];             }     return old; } function upd(data) { for (key in data) {     if (key in dg) {         dg[key]=update_dict(dg[key],data[key]);     }     else {         dg[key]={};         dg[key]=update_dict(dg[key],data[key]);     } </code></pre>  <p>It is throwing an error saying <strong>Uncaught SyntaxError: Unexpected token new</strong>. I have really tried a lot of permutations, please suggest. Thanks a lot!</p>"	"<p>Lodash <code>assign</code> function should do the trick. See <a href=""https://lodash.com/docs/4.17.11#assign"" rel=""nofollow noreferrer"">https://lodash.com/docs/4.17.11#assign</a></p>"
48747589	python dict.update() equivalent in javascript	javascript|dictionary	2018-02-12 13:25:47.203000 UTC	"<p>I want to update the dictionary in javascript- modify the existing values or add new values- same as python dictionary update.</p>  <p>dict+ or dict.update() seem not be working. Is it possible to do so in javascript?</p>  <p>Thanks in advance!</p>  <pre><code>data={""abc"":{1:2,3:4}}  if (key in d) {             d[key].update(data[key]);         }         else {             d[key]={};             d[key]=data[key];         } </code></pre>  <p>EDIT: The updating dictionary is working fine as follow-</p>  <pre><code>dg={""abc"":{1:2,3:4},""sdc"":{1:2,4:5}} function upd(data) {     for (key in data) {         if (key in dg) {             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         }         else {             dg[key]={};             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         } </code></pre>  <p>but if i try separating the function as- </p>  <pre><code>var old={}; var new={}; function update_dict(old,new) { console.log(new,old);     for (key2 in new) {                 old[key2]=new[key2];             }     return old; } function upd(data) { for (key in data) {     if (key in dg) {         dg[key]=update_dict(dg[key],data[key]);     }     else {         dg[key]={};         dg[key]=update_dict(dg[key],data[key]);     } </code></pre>  <p>It is throwing an error saying <strong>Uncaught SyntaxError: Unexpected token new</strong>. I have really tried a lot of permutations, please suggest. Thanks a lot!</p>"	"<p>You can use <code>Object.assign()</code> to get the job done. It will create a new object with all the keys updated as well as add any new key value pairs to the newly created object.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""true""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const target = {c: 4, d: 5} const source = {a: 1, b: 2, c: 3};  const newObj = Object.assign({}, target, source);  console.log(newObj); //=&gt; {a: 1, b: 2, c: 3, d: 5}</code></pre> </div> </div> </p> <p>Note that <code>Object.assign()</code> modifies the first argument which is why we're passing an empty object above.</p> <p>You can even pass in a sequence of objects to update the <code>target</code> object, check out the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"" rel=""noreferrer"">MDN link</a> for more info</p>"
48747589	python dict.update() equivalent in javascript	javascript|dictionary	2018-02-12 13:25:47.203000 UTC	"<p>I want to update the dictionary in javascript- modify the existing values or add new values- same as python dictionary update.</p>  <p>dict+ or dict.update() seem not be working. Is it possible to do so in javascript?</p>  <p>Thanks in advance!</p>  <pre><code>data={""abc"":{1:2,3:4}}  if (key in d) {             d[key].update(data[key]);         }         else {             d[key]={};             d[key]=data[key];         } </code></pre>  <p>EDIT: The updating dictionary is working fine as follow-</p>  <pre><code>dg={""abc"":{1:2,3:4},""sdc"":{1:2,4:5}} function upd(data) {     for (key in data) {         if (key in dg) {             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         }         else {             dg[key]={};             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         } </code></pre>  <p>but if i try separating the function as- </p>  <pre><code>var old={}; var new={}; function update_dict(old,new) { console.log(new,old);     for (key2 in new) {                 old[key2]=new[key2];             }     return old; } function upd(data) { for (key in data) {     if (key in dg) {         dg[key]=update_dict(dg[key],data[key]);     }     else {         dg[key]={};         dg[key]=update_dict(dg[key],data[key]);     } </code></pre>  <p>It is throwing an error saying <strong>Uncaught SyntaxError: Unexpected token new</strong>. I have really tried a lot of permutations, please suggest. Thanks a lot!</p>"	"<ul> <li>If you are using a <code>Map</code> instance, just call <code>yourMap.set(key, newValue)</code>.</li> <li>If you are using a basic JavaScript object, just use either:  <ul> <li>Dot-notation <code>yourObject.yourProperty = newValue</code></li> <li>Square brackets <code>yourObject['your-property'] = newValue</code></li> </ul></li> </ul>  <p>There's no ""bulk"" update like Python. That will depend on how you structure your data and how deep down you need to go.</p>"
48747589	python dict.update() equivalent in javascript	javascript|dictionary	2018-02-12 13:25:47.203000 UTC	"<p>I want to update the dictionary in javascript- modify the existing values or add new values- same as python dictionary update.</p>  <p>dict+ or dict.update() seem not be working. Is it possible to do so in javascript?</p>  <p>Thanks in advance!</p>  <pre><code>data={""abc"":{1:2,3:4}}  if (key in d) {             d[key].update(data[key]);         }         else {             d[key]={};             d[key]=data[key];         } </code></pre>  <p>EDIT: The updating dictionary is working fine as follow-</p>  <pre><code>dg={""abc"":{1:2,3:4},""sdc"":{1:2,4:5}} function upd(data) {     for (key in data) {         if (key in dg) {             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         }         else {             dg[key]={};             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         } </code></pre>  <p>but if i try separating the function as- </p>  <pre><code>var old={}; var new={}; function update_dict(old,new) { console.log(new,old);     for (key2 in new) {                 old[key2]=new[key2];             }     return old; } function upd(data) { for (key in data) {     if (key in dg) {         dg[key]=update_dict(dg[key],data[key]);     }     else {         dg[key]={};         dg[key]=update_dict(dg[key],data[key]);     } </code></pre>  <p>It is throwing an error saying <strong>Uncaught SyntaxError: Unexpected token new</strong>. I have really tried a lot of permutations, please suggest. Thanks a lot!</p>"	"<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function update_dic(a,b){  for(key in b){   a[key]     = b[key]     }  return a; } var  a = {1:45,4:56} var b  = {1:56,6:67,67:67} a = update_dic(a,b) console.log(a)</code></pre> </div> </div> </p>"
48747589	python dict.update() equivalent in javascript	javascript|dictionary	2018-02-12 13:25:47.203000 UTC	"<p>I want to update the dictionary in javascript- modify the existing values or add new values- same as python dictionary update.</p>  <p>dict+ or dict.update() seem not be working. Is it possible to do so in javascript?</p>  <p>Thanks in advance!</p>  <pre><code>data={""abc"":{1:2,3:4}}  if (key in d) {             d[key].update(data[key]);         }         else {             d[key]={};             d[key]=data[key];         } </code></pre>  <p>EDIT: The updating dictionary is working fine as follow-</p>  <pre><code>dg={""abc"":{1:2,3:4},""sdc"":{1:2,4:5}} function upd(data) {     for (key in data) {         if (key in dg) {             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         }         else {             dg[key]={};             for (key2 in data[key]) {                 dg[key][key2]=data[key][key2];             }         } </code></pre>  <p>but if i try separating the function as- </p>  <pre><code>var old={}; var new={}; function update_dict(old,new) { console.log(new,old);     for (key2 in new) {                 old[key2]=new[key2];             }     return old; } function upd(data) { for (key in data) {     if (key in dg) {         dg[key]=update_dict(dg[key],data[key]);     }     else {         dg[key]={};         dg[key]=update_dict(dg[key],data[key]);     } </code></pre>  <p>It is throwing an error saying <strong>Uncaught SyntaxError: Unexpected token new</strong>. I have really tried a lot of permutations, please suggest. Thanks a lot!</p>"	"<p>You can use the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"" rel=""noreferrer"">destructuring assignment</a>.</p>  <pre><code>const first_dict = { 'key_one': 'value_one', 'key_two': 'value_two' }  const second_dict = { 'key_one': 'value_from_second_dict', 'key_three': 'value_three' }  const accumulative = {   ...first_dict,   ...second_dict }  console.log(accumulative)  /*  [object Object] {   key_one: ""value_from_second_dict"",   key_three: ""value_three"",   key_two: ""value_two"" } */ </code></pre>"
48749803	"How to use javascript executor with dynamic id in selenium, python?"	python|selenium	2018-02-12 15:25:11.777000 UTC	"<p>Maybe you met similar problem in your testing live...</p>  <p>During execution of the test I recived information form console that element could not be scrolled into view. I found out that probably using java script executor is the solution. It's a dropdown.</p>  <p>There are 2 onclicks, which refer to 2 stages of action, all of them include dynamic number: </p>  <pre><code>onclick=""selector('phone_dynamicnumberlike98046454')"" - general onclick=""pick('phone_dynamicnumberlike454674645',event)"" - choose the type from dropdown </code></pre>  <p>So if I want to use it I probably have to refer to dynamic id as an argument:</p>  <pre><code>driver.execute_script(selector(dynamic id?);) </code></pre>  <p>Now I refer to dynamic id using starts-with and contains:</p>  <pre><code>driver.find_element_by_xpath(""(//*[starts-with(@id, 'phone') and  contains(@id, 'dropdown')])"").click() </code></pre>  <p>And in next line I refer by xpath and by value to the type of phone.</p>  <p>How do I correctly replace this line of code by using javascript executor? I mean what is best practise in python, selenium?</p>"	"<p>Why not use the scroll-into-view method instead of JS executor?</p>  <pre><code>from selenium.webdriver.common.action_chains import ActionChains  element = driver.find_element_by_xpath(""(//*[starts-with(@id, 'phone') and  contains(@id, 'dropdown')])"")  actions = ActionChains(driver) actions.move_to_element(element).perform() </code></pre>"
48749803	"How to use javascript executor with dynamic id in selenium, python?"	python|selenium	2018-02-12 15:25:11.777000 UTC	"<p>Maybe you met similar problem in your testing live...</p>  <p>During execution of the test I recived information form console that element could not be scrolled into view. I found out that probably using java script executor is the solution. It's a dropdown.</p>  <p>There are 2 onclicks, which refer to 2 stages of action, all of them include dynamic number: </p>  <pre><code>onclick=""selector('phone_dynamicnumberlike98046454')"" - general onclick=""pick('phone_dynamicnumberlike454674645',event)"" - choose the type from dropdown </code></pre>  <p>So if I want to use it I probably have to refer to dynamic id as an argument:</p>  <pre><code>driver.execute_script(selector(dynamic id?);) </code></pre>  <p>Now I refer to dynamic id using starts-with and contains:</p>  <pre><code>driver.find_element_by_xpath(""(//*[starts-with(@id, 'phone') and  contains(@id, 'dropdown')])"").click() </code></pre>  <p>And in next line I refer by xpath and by value to the type of phone.</p>  <p>How do I correctly replace this line of code by using javascript executor? I mean what is best practise in python, selenium?</p>"	"<p>Have you tried scrolling to the element using <code>getBoundingClientRect()</code> and <code>scrollTo()</code>    </p>  <pre><code>element = driver.find_element_by_xpath(""(//*[starts-with(@id, 'phone') and contains(@id, 'dropdown')])"") driver.execute_script(""coordinates = arguments[0].getBoundingClientRect();scrollTo(coordinates.x,coordinates.y);"", element) </code></pre>  <p>Also is confusing what you are asking because when you have two <code>onclick</code> attributes on the same element they both get triggered with  <code>click()</code>.</p>"
48777369	How can I send data from JavaScript to Python	javascript|python|flask	2018-02-13 23:29:40.283000 UTC	"<p>I'm working on a project for school : webapp using python. I'm using FLASK, and by the help of render_template I was able to send data from Python then get it on the other hand (on HTML).</p>  <p>I executed some JavaScript that holds some variables, and what I'm looking for is to how to send these variables from this JavaScript script to Python. </p>"	
48788782	Python Selenium Scraping Javascript - Element not found	javascript|python|selenium|xpath|web-scraping	2018-02-14 13:48:53.310000 UTC	"<p>I am trying to scrape the following Javascript frontend website to practise my Javascript scraping skills: <a href=""https://www.oplaadpalen.nl/laadpaal/112618"" rel=""nofollow noreferrer"">https://www.oplaadpalen.nl/laadpaal/112618</a></p>  <p>I am trying to find two different elements by their xPath. The first one is the title, which it does find. The second one is the actual text itself, which it somehow fails to find. It's strange since I just copied the xPath's from Chrome browser.  </p>  <pre><code>from selenium import webdriver  link = 'https://www.oplaadpalen.nl/laadpaal/112618' driver = webdriver.PhantomJS() driver.get(link)  #It could find the right element xpath_attribute_title = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/label' next_page_elem_title = driver.find_element_by_xpath(xpath_attribute_title) print(next_page_elem_title.text)  #It fails to find the right element xpath_attribute_value = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/text()' next_page_elem_value = driver.find_element_by_xpath(xpath_attribute_value) print(next_page_elem_value.text) </code></pre>  <p>I have tried a couple of things: change ""text()"" into ""text"", ""(text)"", but none of them seem to work.</p>  <p>I have two questions:</p>  <ul> <li>Why doesn't it find the correct element? </li> <li>What can we do to make it find the correct element?</li> </ul>"	"<p>I would suggest a slightly different approach. I would grab the entire text and then <a href=""https://stackoverflow.com/questions/6903557/splitting-on-first-occurrence"">split one time</a> on <code>:</code>. That will get you the title and the value. The code below will get Paalcode through openingstijden labels.</p>  <pre><code>for x in range(2, 8):     s = driver.find_element_by_css_selector(""div.leftblock &gt; div.labels &gt; div"")[x].text     t = s.split("":"", 1)     print(t[0]) # title     print(t[1]) # value </code></pre>  <p>You don't want to split more than once because Status contains more semicolons.</p>"
48788782	Python Selenium Scraping Javascript - Element not found	javascript|python|selenium|xpath|web-scraping	2018-02-14 13:48:53.310000 UTC	"<p>I am trying to scrape the following Javascript frontend website to practise my Javascript scraping skills: <a href=""https://www.oplaadpalen.nl/laadpaal/112618"" rel=""nofollow noreferrer"">https://www.oplaadpalen.nl/laadpaal/112618</a></p>  <p>I am trying to find two different elements by their xPath. The first one is the title, which it does find. The second one is the actual text itself, which it somehow fails to find. It's strange since I just copied the xPath's from Chrome browser.  </p>  <pre><code>from selenium import webdriver  link = 'https://www.oplaadpalen.nl/laadpaal/112618' driver = webdriver.PhantomJS() driver.get(link)  #It could find the right element xpath_attribute_title = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/label' next_page_elem_title = driver.find_element_by_xpath(xpath_attribute_title) print(next_page_elem_title.text)  #It fails to find the right element xpath_attribute_value = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/text()' next_page_elem_value = driver.find_element_by_xpath(xpath_attribute_value) print(next_page_elem_value.text) </code></pre>  <p>I have tried a couple of things: change ""text()"" into ""text"", ""(text)"", but none of them seem to work.</p>  <p>I have two questions:</p>  <ul> <li>Why doesn't it find the correct element? </li> <li>What can we do to make it find the correct element?</li> </ul>"	"<p>Since you want to practice JS skills you can do this also in JS, actually all the <code>div</code>s contain more data, you can see if you do paste this in the browser console:</p>  <pre><code>labels = document.querySelectorAll("".labels""); divs = labels[0].querySelectorAll(""div""); for (div of divs) console.log(div.firstChild, div.textContent);  </code></pre>  <p>you can <code>push</code> to an array and check only <code>div</code>s and that have <code>label</code> and return the resulted array in a python variable:</p>  <pre><code>labels_value_pair.driver.execute_script(''' scrap = []; labels = document.querySelectorAll("".labels""); divs = labels[0].querySelectorAll(""div""); for (div of divs) if (div.firstChild.tagName===""LABEL"") scrap.push(div.firstChild.textContent, div.textContent);  return scrap; ''') </code></pre>"
48788782	Python Selenium Scraping Javascript - Element not found	javascript|python|selenium|xpath|web-scraping	2018-02-14 13:48:53.310000 UTC	"<p>I am trying to scrape the following Javascript frontend website to practise my Javascript scraping skills: <a href=""https://www.oplaadpalen.nl/laadpaal/112618"" rel=""nofollow noreferrer"">https://www.oplaadpalen.nl/laadpaal/112618</a></p>  <p>I am trying to find two different elements by their xPath. The first one is the title, which it does find. The second one is the actual text itself, which it somehow fails to find. It's strange since I just copied the xPath's from Chrome browser.  </p>  <pre><code>from selenium import webdriver  link = 'https://www.oplaadpalen.nl/laadpaal/112618' driver = webdriver.PhantomJS() driver.get(link)  #It could find the right element xpath_attribute_title = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/label' next_page_elem_title = driver.find_element_by_xpath(xpath_attribute_title) print(next_page_elem_title.text)  #It fails to find the right element xpath_attribute_value = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/text()' next_page_elem_value = driver.find_element_by_xpath(xpath_attribute_value) print(next_page_elem_value.text) </code></pre>  <p>I have tried a couple of things: change ""text()"" into ""text"", ""(text)"", but none of them seem to work.</p>  <p>I have two questions:</p>  <ul> <li>Why doesn't it find the correct element? </li> <li>What can we do to make it find the correct element?</li> </ul>"	"<p>Keeping your own logic intact you can extract the <em>labels</em> and the associate <em>value</em> as follows :</p>  <pre><code>for x in range(3, 8):     label = driver.find_element_by_xpath(""//div[@class='labels']//following::div[%s]/label"" %x).get_attribute(""innerHTML"")     value = driver.find_element_by_xpath(""//div[@class='labels']//following::div[%s]"" %x).get_attribute(""innerHTML"").split(""&gt;"")[2]     print(""Label is %s and value is %s"" % (label, value)) </code></pre>  <p>Console Output :</p>  <pre><code>Label is Paalcode: and value is NewMotion 04001157 Label is Adres: and value is Deventerstraat 130 Label is pc/plaats: and value is 7321cd Apeldoorn </code></pre>"
48788782	Python Selenium Scraping Javascript - Element not found	javascript|python|selenium|xpath|web-scraping	2018-02-14 13:48:53.310000 UTC	"<p>I am trying to scrape the following Javascript frontend website to practise my Javascript scraping skills: <a href=""https://www.oplaadpalen.nl/laadpaal/112618"" rel=""nofollow noreferrer"">https://www.oplaadpalen.nl/laadpaal/112618</a></p>  <p>I am trying to find two different elements by their xPath. The first one is the title, which it does find. The second one is the actual text itself, which it somehow fails to find. It's strange since I just copied the xPath's from Chrome browser.  </p>  <pre><code>from selenium import webdriver  link = 'https://www.oplaadpalen.nl/laadpaal/112618' driver = webdriver.PhantomJS() driver.get(link)  #It could find the right element xpath_attribute_title = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/label' next_page_elem_title = driver.find_element_by_xpath(xpath_attribute_title) print(next_page_elem_title.text)  #It fails to find the right element xpath_attribute_value = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/text()' next_page_elem_value = driver.find_element_by_xpath(xpath_attribute_value) print(next_page_elem_value.text) </code></pre>  <p>I have tried a couple of things: change ""text()"" into ""text"", ""(text)"", but none of them seem to work.</p>  <p>I have two questions:</p>  <ul> <li>Why doesn't it find the correct element? </li> <li>What can we do to make it find the correct element?</li> </ul>"	"<p>Going with @JeffC's approach, if you want to first select all those elements  using xpath instead of css selector, you may use this code:</p>  <pre><code>xpath_title_value = ""//div[@class='labels']//div[label[contains(text(),':')] and not(div) and not(contains(@class,'toolbox'))]"" title_and_value_elements = driver.find_elements_by_xpath(xpath_title_value) </code></pre>  <p>Notice the plural <strong>elements</strong> in the <em>find_elements_by_xpath</em> method. The xpath above selects div elements that are descendants of a div element that had a class attribute of ""labels"". The nested label of each selected div must contain a colon. Furthermore, the div itself may not have a class of ""toolbox"" (Something that certain other divs on the page have), nor must it contain any additional nested divs. </p>  <p>Following which, you can extract the text within the individual div elements (which also contain the text from the nested label elements) and then split them using "":\n"" which separates the title and value in the raw text string.</p>  <pre><code>for element in title_and_value_elements:     element = element.text     title,value = element.split("":\n"")     print(title)     print(value,""\n"") </code></pre>"
48788782	Python Selenium Scraping Javascript - Element not found	javascript|python|selenium|xpath|web-scraping	2018-02-14 13:48:53.310000 UTC	"<p>I am trying to scrape the following Javascript frontend website to practise my Javascript scraping skills: <a href=""https://www.oplaadpalen.nl/laadpaal/112618"" rel=""nofollow noreferrer"">https://www.oplaadpalen.nl/laadpaal/112618</a></p>  <p>I am trying to find two different elements by their xPath. The first one is the title, which it does find. The second one is the actual text itself, which it somehow fails to find. It's strange since I just copied the xPath's from Chrome browser.  </p>  <pre><code>from selenium import webdriver  link = 'https://www.oplaadpalen.nl/laadpaal/112618' driver = webdriver.PhantomJS() driver.get(link)  #It could find the right element xpath_attribute_title = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/label' next_page_elem_title = driver.find_element_by_xpath(xpath_attribute_title) print(next_page_elem_title.text)  #It fails to find the right element xpath_attribute_value = '//*[@id=""main-sidebar-container""]/div/div[1]/div[2]/div/div[' + str(3) + ']/text()' next_page_elem_value = driver.find_element_by_xpath(xpath_attribute_value) print(next_page_elem_value.text) </code></pre>  <p>I have tried a couple of things: change ""text()"" into ""text"", ""(text)"", but none of them seem to work.</p>  <p>I have two questions:</p>  <ul> <li>Why doesn't it find the correct element? </li> <li>What can we do to make it find the correct element?</li> </ul>"	"<p>Selenium's <code>find_element_by_xpath()</code> method returns the first <em>element node</em> matching the given XPath query, if any. However, XPath's <code>text()</code> function returns a <em>text node</em>—not the element node that contains it.</p>  <p>To extract the text using Selenium's finder methods, you'll need to find the containing element, then extract the text from the returned object.</p>"
48789244	"Downloading file from ""javascript:__doPostBack"" link using Python"	javascript|python|python-2.7	2018-02-14 14:11:17.703000 UTC	"<p>I have an existing Python script that was written using urllib2 to download from a http:// link:</p>  <pre><code>import urllib2 import os.path import os from os import chdir, getcwd, listdir, path  print ""downloading with urllib2""  f = urllib2.urlopen('http://www.dcregs.dc.gov/Notice/DownLoad.aspx?VersionID=4613531') data = f.read()  with open( ""11-B300.doc"", ""wb"" ) as code : code.write( data )  print ""All done downloads!"" </code></pre>  <p>The source web-page has been reformatted to uses a ""javascript:__doPostBack"" address: </p>  <pre><code>javascript:__doPostBack('ctl00$MainContent$rpt_ruleList$ctl02$Label1','') </code></pre>  <p>My presumption is that there is some form of package, similar to urllib2, that will allow me to download the same information via the ""javascript:__doPostBack"" formatted address or to call the http url, where the information is located, from which I can then download the information.</p>  <p>The existing script was working well for my purposes, so I would like to limit the additional coding, if possible.</p>  <p>Is there an alternate to urllib2 that will allow me to do download the information in a similar manner?</p>  <p>Or am I going to have to get more sophisticated in my solution (e.g., using Selenium to scrape the information)? (Do I want to get more sophisticated so that I don't have to manage updates to individual urls?)</p>  <p>Thanks for your help in advance. </p>"	"<p>This relates to the site that you're on using is using .NET WebForms which manages the state of the page &amp; the interaction within hidden form variables.</p>  <p>So in short, you'll need to click the link via something like Selenium as you say </p>"
48798703	Update Goole Maps Marker position with Python 'runJavascript' input	javascript|python|google-maps-markers|pyqt5|qwebengineview	2018-02-15 01:05:18.290000 UTC	"<p>I am trying to create a simple app with PyQt5 and I want to show a google map web page.  I would like to show a marker that appear on the map in a location that depends on some variables modified by the user in python. How can I do that using <code>runJavascript</code>?</p>  <p>here is the html file:</p>  <pre><code>&lt;html&gt; &lt;head&gt; &lt;meta name=""viewport"" content=""initial-scale=1.0, user-scalable=yes"" /&gt; &lt;script type=""text/javascript"" src=""http://maps.google.com/maps/api/js?sensor=false""&gt;&lt;/script&gt; &lt;script type=""text/javascript""&gt;   function geocodePosition(pos) {   geocoder.geocode({     latLng: pos   }, function(responses) {     if (responses &amp;&amp; responses.length &gt; 0) {       updateMarkerAddress(responses[0].formatted_address);     } else {       updateMarkerAddress('Cannot determine address at this location.');     }   }); }  function updateMarkerStatus(str) {   document.getElementById('markerStatus').innerHTML = str; }  function updateMarkerPosition(latLng) {   document.getElementById('info').innerHTML = [     latLng.lat(),     latLng.lng()   ].join(', '); }  function updateMarkerAddress(str) {   document.getElementById('address').innerHTML = str; }   var geocoder = new google.maps.Geocoder(); var map;   function initialize() {   var latLng = new google.maps.LatLng(40.767367, -111.848007);   map = new google.maps.Map(document.getElementById('mapCanvas'), {     zoom: 11,     center: latLng,     mapTypeId: google.maps.MapTypeId.ROADMAP   });     var marker = new google.maps.Marker({     position: latLng,     title: 'Point A',     map: map,     draggable: true   });    // Update current position info.   updateMarkerPosition(latLng);   geocodePosition(latLng);    // Add dragging event listeners.   google.maps.event.addListener(marker, 'dragstart', function() {     updateMarkerAddress('Dragging...');   });    google.maps.event.addListener(marker, 'drag', function() {     updateMarkerStatus('Dragging...');     updateMarkerPosition(marker.getPosition());   });    google.maps.event.addListener(marker, 'dragend', function() {     updateMarkerStatus('Drag ended');     geocodePosition(marker.getPosition());   });  //  return latLng }   // Onload handler to fire off the app. google.maps.event.addDomListener(window, 'load', initialize);  &lt;/script&gt; &lt;/head&gt; &lt;body&gt;   &lt;style&gt;   #mapCanvas {      # width: 1000px;     width: 102%;     height: 500px;     float: left;     margin-left: -7px;     margin-right: -10px;     margin-top: -7px;     margin-bottom: 10px;   }   #infoPanel {     float: center;     margin-left: 20px;   }   #infoPanel div {     margin-bottom: 10px;   }   &lt;/style&gt;        &lt;font size=""3"" color=""black"" face=""verdana""&gt;   &lt;div id=""mapCanvas""&gt;&lt;/div&gt;   &lt;div id=""infoPanel""&gt;     &lt;font size=""3"" color=""black"" face=""verdana""&gt;     &lt;!-- &lt;b&gt;Marker status:&lt;/b&gt; --&gt;     &lt;div id=""markerStatus""&gt;&lt;i&gt;Click and drag the marker.&lt;/i&gt;&lt;/div&gt;     &lt;font size=""3"" color=""black"" face=""verdana""&gt;     &lt;b&gt;Current position:&lt;/b&gt;     &lt;div id=""info""&gt;&lt;/div&gt;     &lt;!--&lt;b&gt;Closest matching address:&lt;/b&gt;--&gt;     &lt;!--&lt;div id=""address""&gt;&lt;/div&gt;--&gt;   &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Here the PyQt5 gui:</p>  <pre><code>from PyQt5 import QtCore, QtGui, QtWidgets  class Ui_tmy3page(object):     def setupUi(self, MainWindow):         MainWindow.setObjectName(""MainWindow"")         MainWindow.resize(900, 620)         MainWindow.setMinimumSize(QtCore.QSize(900, 620))         MainWindow.setMaximumSize(QtCore.QSize(900, 620))         MainWindow.setWindowTitle("""")         self.centralwidget = QtWidgets.QWidget(MainWindow)         self.centralwidget.setObjectName(""centralwidget"")         self.html_code = QtWebEngineWidgets.QWebEngineView(self.centralwidget)         self.html_code.setGeometry(QtCore.QRect(0, 0, 901, 621))         self.html_code.setUrl(QtCore.QUrl(""about:blank""))         self.html_code.setObjectName(""html_code"")         MainWindow.setCentralWidget(self.centralwidget)          self.retranslateUi(MainWindow)         QtCore.QMetaObject.connectSlotsByName(MainWindow)      def retranslateUi(self, MainWindow):         pass  from PyQt5 import QtWebEngineWidgets </code></pre>  <p>And here the Python code:</p>  <pre><code>import sys from PyQt5.QtWidgets import * from GUI_tmy3 import *  class ShowMap_fun(QMainWindow):     def __init__(self):         super().__init__()         self.map_ui = Ui_tmy3page()         self.map_ui.setupUi(self)       self.map_ui.html_code.load(QtCore.QUrl.fromLocalFile(QtCore.QDir.current().filePath(""useless.html"")))    if __name__ == '__main__':     app = QApplication(sys.argv)     ex = ShowMap_fun()     ex.show()     sys.exit(app.exec_()) </code></pre>  <p>I was thinking to modify the <code>Initialize</code> function in the Html file this way:</p>  <pre><code>function initialize(lat_init, long_init) { var latLng = new google.maps.LatLng(lat_init, long_init); </code></pre>  <p>And then pass the coordinates from the Python code:</p>  <pre><code>argument_init = ""initialize('"" + str(40) + ""','"" + str(-111) + ""')"" self.map_ui.html_code.page().runJavaScript(argument_init) </code></pre>  <p>But this doesn't seem to work. How can I access the <code>Initialize</code> function and input the coordinates?</p>"	"<p>You must comment the following line since it calls that function at the time of loading the app:</p>  <pre><code>// Onload handler to fire off the app. //google.maps.event.addDomListener(window, 'load', initialize); </code></pre>  <p>You must also call the function when the page finishes loading the page:</p>  <pre><code>class ShowMap_fun(QMainWindow):     def __init__(self):         super().__init__()         self.map_ui = Ui_tmy3page()         self.map_ui.setupUi(self)          self.map_ui.html_code.load(QtCore.QUrl.fromLocalFile(QtCore.QDir.current().filePath(""useless.html"")))          argument_init = ""initialize('"" + str(40) + ""','"" + str(-111) + ""')""         self.map_ui.html_code.loadFinished.connect(             lambda ok: self.map_ui.html_code.page().runJavaScript(argument_init)) </code></pre>"
48799866	What's the difference between this Javascript request and Python request?	javascript|python	2018-02-15 04:15:52.917000 UTC	"<p>I wrote something in Python and am trying to figure out why the hell the seemingly equivalent code in JS isn't working.</p>  <p>Working Python -</p>  <p>Headers used:</p>  <pre><code>    self.session = requests.Session()     #Set headers     self.headers = {     'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',     'Connection': 'keep-alive',     'Accept-Encoding': 'gzip, deflate',     'Accept-Language': 'en-US,en;q=0.8',     'Upgrade-Insecure-Requests': '1',     'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36', }    </code></pre>  <p>Code:</p>  <pre><code>link = 'https://www.kith.com/cart'         data = [     ('updates'+'['+'888074764295'+']', '1'),     ('updates'+'['+'888463982599'+']', '0'),         ]         click = self.session.post(link, headers= self.headers, data=data, verify = False) </code></pre>  <p>Not working JS -</p>  <pre><code>      const secondaryVar = `updates[888463982599]`;       const desiredVariant = `updates[888074764295]`;        const checkoutForm = {};        checkoutForm[desiredVariant] = '1';       checkoutForm[secondaryVar] = '0';        //Post request to cart to update it with desired product       request({               url: 'https://www.kith.com/cart',               followAllRedirects: true,               method: 'post',               formData: checkoutForm,                             headers : {                 'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',                 'Accept-Encoding':'gzip, deflate, br',                 'Accept-Language':'en-US,en;q=0.9',                 'Cache-Control':'max-age=0',                 'Connection':'keep-alive',                 'Upgrade-Insecure-Requests':'1',                 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36',             },             },            function(err, res, body) { </code></pre>  <p>I've narrowed it down to this bit of code, but as far as I can tell there is no significant difference between the code in Python and the JS code. My guess is it has something to do with the session or headers...but again I don't know.</p>  <p>Thanks for any responses</p>"	"<p>I think the Python might not respect <a href=""https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS"" rel=""nofollow noreferrer"">cors</a>, which would explain the difference. I don't know what JavaScript framework you are using, but using jQuery, the following works when executing this code from the kith.com website. </p>  <p>To avoid any issues with CORS, I removed the headers that are automatically set by the browser, and I change the url from <code>www.kith.com</code> to <code>kith.com</code>.</p>  <pre><code>jQuery.ajax(""https://kith.com/cart"", settings={method:""post"", headers : {                 'Accept':'application/json',                 'Accept-Language':'en-US,en;q=0.9',                 'Cache-Control':'max-age=0',                 'Upgrade-Insecure-Requests':'1',             }, data:{""desiredVariant"":1,""secondaryVar"":0}}).error(function(err){console.log(""error""+ err)}).success(function(res){console.log(res)}) </code></pre>"
48806037	Python - how to change the multiple assignment to the syntax of JavaScript and get the right permutations of the given string	javascript|python|math|backtracking|recursive-backtracking	2018-02-15 11:21:57.693000 UTC	"<p>I've got a little problem searching about backtracking. First of all, in  the code I'll link below I found a quite strange syntax to me as a JavaScript programmer:</p>  <pre><code>a[l], a[i] = a[i], a[l] </code></pre>  <p>Using information in <a href=""https://www.tutorialspoint.com/python/python_variable_types.htm"" rel=""nofollow noreferrer"">this page</a> I figured it out it means: ""assign <code>a[i]</code> to the <code>a[l]</code> variable and <code>a[l]</code> to the <code>a[i]</code> variable"". I can't understand the use of this. I thought it would be the same values. If you first assign the value to <code>a[l]</code> and then try to get <code>a[l]</code>, it's going to be <code>a[i]</code>, for both variables.</p>  <hr>  <p>It's a Python code, however, I'd like to convert it to the JavaScript using the same principle.</p>  <pre><code># Python program to print all permutations with # duplicates allowed  def toString(List):     return ''.join(List)  # Function to print permutations of string # This function takes three parameters: # 1. String # 2. Starting index of the string # 3. Ending index of the string. def permute(a, l, r):     if l==r:         print toString(a)     else:         for i in xrange(l,r+1):             a[l], a[i] = a[i], a[l]             permute(a, l+1, r)             a[l], a[i] = a[i], a[l] # backtrack  # Driver program to test the above function string = ""aab"" n = len(string) a = list(string) permute(a, 0, n-1)  # This code is contributed by Bhavya Jain </code></pre>  <p>You can follow this link to the IDE: <a href=""https://ide.geeksforgeeks.org/ASvO8MoGQr"" rel=""nofollow noreferrer"">https://ide.geeksforgeeks.org/ASvO8MoGQr</a>.</p>  <p>What this code does, is getting the permutation values of the string ""aab"".</p>  <p>For example, using ""aab"" as the first string, we should get the following result: <strong>aab aba aab aba baa baa</strong>.</p>  <p>I tried using ""JavaScript"" and came up with this:</p>  <pre><code>let arr = [];  let permute = function(str, l, r) {   if (l === r) {     arr.push(str);   } else {     for (let i = l; i &lt;= r; i++) {       str[l] = str[i];       str[i] = str[l];       permute(str, l + 1, r);       str[l] = str[i];       str[i] = str[l];     }   } };  permute('aab', 0, 'aab'.length - 1);  console.log(arr); </code></pre>  <p>The result I get is <code>[""aab"", ""aab"", ""aab"", ""aab"", ""aab"", ""aab""]</code>.</p>  <p>Link to the JSFiddle: <a href=""https://jsfiddle.net/xrfkt9qj/1/"" rel=""nofollow noreferrer"">https://jsfiddle.net/xrfkt9qj/1/</a>.</p>  <hr>  <p><strong>EDIT1</strong> I've tried the @jp_data_analysis answer, but it still returns bad results: <a href=""https://jsfiddle.net/zurvm0xy/"" rel=""nofollow noreferrer"">https://jsfiddle.net/zurvm0xy/</a>.</p>  <p><strong>EDIT2</strong> ES6 Version of the script: <a href=""https://jsfiddle.net/zurvm0xy/4/"" rel=""nofollow noreferrer"">https://jsfiddle.net/zurvm0xy/4/</a>.</p>  <hr>  <p><em>It's not a duplicate, the variable swapping is only a first part of this problem. Please read the full article.</em></p>"	"<p>Finally, I figured everything out. The most immportant part was to convert the string to the array using <code>split()</code> function.</p>  <pre><code>let arr = [], y, x;  let permute = function(str, l, r) {   if (l === r) {     arr.push(str.join(''));   } else {     for (let i = l; i &lt;= r; i++) {       [str[l], str[i]] = [str[i], str[l]];       permute(str, l + 1, r);       [str[l], str[i]] = [str[i], str[l]];     }   } };  permute('aab'.split(''), 0, 'aab'.length - 1) console.log(arr); </code></pre>"
48806037	Python - how to change the multiple assignment to the syntax of JavaScript and get the right permutations of the given string	javascript|python|math|backtracking|recursive-backtracking	2018-02-15 11:21:57.693000 UTC	"<p>I've got a little problem searching about backtracking. First of all, in  the code I'll link below I found a quite strange syntax to me as a JavaScript programmer:</p>  <pre><code>a[l], a[i] = a[i], a[l] </code></pre>  <p>Using information in <a href=""https://www.tutorialspoint.com/python/python_variable_types.htm"" rel=""nofollow noreferrer"">this page</a> I figured it out it means: ""assign <code>a[i]</code> to the <code>a[l]</code> variable and <code>a[l]</code> to the <code>a[i]</code> variable"". I can't understand the use of this. I thought it would be the same values. If you first assign the value to <code>a[l]</code> and then try to get <code>a[l]</code>, it's going to be <code>a[i]</code>, for both variables.</p>  <hr>  <p>It's a Python code, however, I'd like to convert it to the JavaScript using the same principle.</p>  <pre><code># Python program to print all permutations with # duplicates allowed  def toString(List):     return ''.join(List)  # Function to print permutations of string # This function takes three parameters: # 1. String # 2. Starting index of the string # 3. Ending index of the string. def permute(a, l, r):     if l==r:         print toString(a)     else:         for i in xrange(l,r+1):             a[l], a[i] = a[i], a[l]             permute(a, l+1, r)             a[l], a[i] = a[i], a[l] # backtrack  # Driver program to test the above function string = ""aab"" n = len(string) a = list(string) permute(a, 0, n-1)  # This code is contributed by Bhavya Jain </code></pre>  <p>You can follow this link to the IDE: <a href=""https://ide.geeksforgeeks.org/ASvO8MoGQr"" rel=""nofollow noreferrer"">https://ide.geeksforgeeks.org/ASvO8MoGQr</a>.</p>  <p>What this code does, is getting the permutation values of the string ""aab"".</p>  <p>For example, using ""aab"" as the first string, we should get the following result: <strong>aab aba aab aba baa baa</strong>.</p>  <p>I tried using ""JavaScript"" and came up with this:</p>  <pre><code>let arr = [];  let permute = function(str, l, r) {   if (l === r) {     arr.push(str);   } else {     for (let i = l; i &lt;= r; i++) {       str[l] = str[i];       str[i] = str[l];       permute(str, l + 1, r);       str[l] = str[i];       str[i] = str[l];     }   } };  permute('aab', 0, 'aab'.length - 1);  console.log(arr); </code></pre>  <p>The result I get is <code>[""aab"", ""aab"", ""aab"", ""aab"", ""aab"", ""aab""]</code>.</p>  <p>Link to the JSFiddle: <a href=""https://jsfiddle.net/xrfkt9qj/1/"" rel=""nofollow noreferrer"">https://jsfiddle.net/xrfkt9qj/1/</a>.</p>  <hr>  <p><strong>EDIT1</strong> I've tried the @jp_data_analysis answer, but it still returns bad results: <a href=""https://jsfiddle.net/zurvm0xy/"" rel=""nofollow noreferrer"">https://jsfiddle.net/zurvm0xy/</a>.</p>  <p><strong>EDIT2</strong> ES6 Version of the script: <a href=""https://jsfiddle.net/zurvm0xy/4/"" rel=""nofollow noreferrer"">https://jsfiddle.net/zurvm0xy/4/</a>.</p>  <hr>  <p><em>It's not a duplicate, the variable swapping is only a first part of this problem. Please read the full article.</em></p>"	"<p>The following code 2 pieces of code have the same result, assuming values are immutable.</p>  <p><strong>Python syntax</strong></p>  <pre><code>a[i], a[j] = a[j], a[i] </code></pre>  <p><strong>Regular syntax</strong></p>  <pre><code>x = a[i] y = a[j]  a[i] = y a[j] = x </code></pre>  <p><strong>Why it works</strong></p>  <p>Python evaluates the right hand side first. See <strong><a href=""https://docs.python.org/3/reference/expressions.html#evaluation-order"" rel=""nofollow noreferrer"">Evaluation order</a></strong> for more details.</p>"
48820483	My JavaScript Post and Get functions with python server are out of order	javascript|python|post|server|get	2018-02-16 05:18:34.907000 UTC	"<p>For my class I am making a simple web app that essentially is a picture that can be commented on. The problem is every time I type in a new comment, it doesn't get displayed, but rather the previous comment gets displayed. It appears that the GET gets called before the POST can finish updating the list on the server. However, maybe the problem is somewhere else, I don't know.</p>  <p>I've done some research and it seems like the problem is due to asynchronization, however everything I've tried from reading up on that doesn't work the way I implement it, including callback functions.</p>  <p>Here is my code:</p>  <p>Javascript </p>  <pre><code>var messages = []  function getData() {     fetch('http://localhost:8080/bananas').then(function(response) {         return response.json();     }).then(function(data) {         messages = []         for (i=0; i &lt; Object.keys(data).length; i++) {             messages.push(data[i]);             console.log(data[i]);         }     }) }    function update() {     var box = document.getElementById(""messages"");     box.innerHTML = """";     getData();     for (i=0; i &lt; messages.length; i++) {         var newDiv = document.createElement(""div"");         newDiv.className = ""comment"";         var curM = document.createTextNode(messages[i]);         newDiv.appendChild(curM);         box.appendChild(newDiv);     }     document.getElementById(""comment"").value = """";  }  update();   var submit = document.getElementById(""submit""); submit.onclick = function () {     postData();     update();  }  var clickenter = document.getElementById(""comment""); clickenter.addEventListener(""keyup"", function(event) {     event.preventDefault();     if (event.keyCode === 13) {         document.getElementById(""submit"").click();     } });  function postData() {     var content = document.getElementById(""comment"").value;     if (content.length &gt; 0) {          message = ""message="" + encodeURIComponent(content)         fetch('http://localhost:8080/bananas', {             body: message,             method: 'POST',             header: {                 'Content-Type': 'application/x-www-form-urlencoded'             }         })     } } </code></pre>  <p>HTML</p>  <pre><code>    &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Page Title&lt;/title&gt;     &lt;link rel=""stylesheet"" href=""style.css""&gt; &lt;/head&gt; &lt;body&gt;     &lt;div id=""container""&gt;         &lt;img src=""image.jpg""&gt;         &lt;h2&gt; Comments &lt;/h2&gt;         &lt;div id=""messages""&gt;         &lt;/div&gt;           &lt;textarea id=""comment"" type=""text""&gt; &lt;/textarea&gt;         &lt;input id=""submit"" type=""button"" value=""Submit""&gt;         &lt;/div&gt;      &lt;script src=""app.js""&gt;&lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>My Python server:</p>  <pre><code>from http.server import BaseHTTPRequestHandler, HTTPServer from urllib.parse import parse_qs import json  comments = []   class MyRequestHandler(BaseHTTPRequestHandler):     def do_GET(self):         if self.path == ""/bananas"":             self.send_response(200)             self.send_header(""Content-type"", ""application/json"")             self.send_header(""Access-Control-Allow-Origin"", ""*"")             self.end_headers()             print(comments)             jsonstring = json.dumps(comments)             self.wfile.write(bytes(jsonstring, ""utf-8""))      def do_POST(self):         if self.path == ""/bananas"":             length = self.headers[""Content-length""]             length = int(length)             if length &gt; 0:                 body = self.rfile.read(length).decode(""utf-8"")                 strMessage = parse_qs(body)['message'][0]                 comments.append(strMessage)                 self.send_response(201)                 self.send_header(""Access-Control-Allow-Origin"", ""*"")                 self.end_headers()   def main():     try:         listen = (""127.0.0.1"", 8080)         server = HTTPServer(listen, MyRequestHandler)          print(""Listening..."")         server.serve_forever()     except KeyboardInterrupt:         print (""^C entered, stopping web server..."")         server.socket.close()  main() </code></pre>  <p>Thanks</p>"	"<p>This should be everything that you need. I don't have any of the rest of your code, so I couldn't see if it runs properly or not, but the logic should be there.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var messages = [] var submit = document.getElementById(""submit""); var clickenter = document.getElementById(""comment"");  submit.onclick = function () {   var content = document.getElementById(""comment"").value;      if (content.length &gt; 0) {     postData()       .then(function() {         return getData();       })       .then(function(msgs) {         update();       });   }   else {     getData()       .then(function(msgs) {         update();       });   }      update(); }  clickenter.addEventListener(""keyup"", function(event) {   event.preventDefault();      if (event.keyCode === 13) {     document.getElementById(""submit"").click();   } });  update();  function getData() {   return fetch('http://localhost:8080/bananas')     .then(function(response) {       return response.json();     })     .then(function(data) {       messages = []       for (i=0; i &lt; Object.keys(data).length; i++) {         messages.push(data[i]);         console.log(data[i]);       }       return messages;     }); }  function update() {     var box = document.getElementById(""messages"");     box.innerHTML = """";     for (i=0; i &lt; messages.length; i++) {         var newDiv = document.createElement(""div"");         newDiv.className = ""comment"";         var curM = document.createTextNode(messages[i]);         newDiv.appendChild(curM);         box.appendChild(newDiv);     }     document.getElementById(""comment"").value = """";  }  function postData() {   return fetch('http://localhost:8080/bananas', {     body: ""message="" + encodeURIComponent(content),     method: 'POST',     header: {       'Content-Type': 'application/x-www-form-urlencoded'     }   }); }</code></pre> </div> </div> </p>"
48827166	Integrating Flask-Python with HTML and JavaScript	javascript|python|html|flask	2018-02-16 12:49:31.303000 UTC	"<p>In my code , I want the Javascript defined in index.html page to run when a particular condition in app.py is true, else the script should not run. How can I achieve this?</p>  <pre><code>app = Flask(__name__) @app.route('/',methods=[""GET"",""POST""]) def index():     #print ""came here""     if request.method == 'POST':         search_token = request.args.get(""validationtoken"")         print ""search"", search_token         if search_token != None:             # text = search_token             resp = Response(search_token, status=200, mimetype='plain/text')             print ""resp"",resp             return resp         else:              print "" Notification received ""              ##### HERE I NEED TO CALL THE Java SCRIPT DEFINED IN HTML PAGE TO EXECUTE       elif request.method==""GET"":          code=request.args.get('code')          state=request.args.get('state')          ---- </code></pre>  <p>pls help..</p>"	"<p>The python script should go like this</p>  <pre><code> app = Flask(__name__)  @app.route('/',methods=[""GET"",""POST""])  def index():     script = False      if request.method == 'POST':         search_token = request.args.get(""validationtoken"")         print ""search"", search_token         if search_token != None:            # text = search_token            resp = Response(search_token, status=200, mimetype='plain/text')            print ""resp"",resp            return resp         else:            print "" Notification             script = True            render_template('index.html', Script=script)        elif request.method==""GET"":         code=request.args.get('code')         state=request.args.get('state')      ---- </code></pre>  <p>And the index.html should be something like this</p>  <pre><code>{% if Script %}     &lt;script type=""text/javascript""&gt;      ""Your code lies here""     &lt;/script&gt; </code></pre>  <p>You can pass the variable in your python script (Your app) to the index.html template using this way as Flask uses Jinja templates.</p>"
48845017	"translating compose functions from javascript to python, the functional way"	javascript|python|functional-programming	2018-02-17 19:18:44.697000 UTC	"<p>I'm trying to translate my Javascript compose functions into Python but I'm having trouble with the last one. How can I generalize an unknown number of functions? </p>  <p>After reading <a href=""https://www.artima.com/weblogs/viewpost.jsp?thread=98196"" rel=""nofollow noreferrer"">this</a>, I would like to avoid the <code>reduce()</code> method.</p>  <p>javascript:</p>  <pre><code>/* compose functions */ const comp1 = (fn2, fn1) =&gt; arr       =&gt; fn2(fn1(arr))                            // 2 functions, one array const comp2 = (fn2, fn1) =&gt; (...arrs) =&gt; fn2(fn1(...arrs))                        // 2 functions, multiple arrays const comp3 = (...fns)   =&gt; (...arrs) =&gt; fns.reduceRight((v,f) =&gt; f(v), arrs)     // multiple functions, multiple arrays </code></pre>  <p>python:</p>  <pre><code>/* compose functions */ comp1 = lambda fn2,fn1: lambda arr:   fn2(fn1(arr))   # 2 functions, 1 array comp2 = lambda fn2,fn1: lambda *arrs: fn2(fn1(*arrs)) # 2 functions, multiple arrays comp3 = lambda *fns:    lambda *arrs: ???? </code></pre>  <p>all improvements are appreciated...</p>"	"<p>If you really do not want to use <code>reduce</code>, which I believe would be the correct approach, you can have a loop. Althought, this prevents you from using <code>lambda</code>.</p>  <pre><code>def compose(*fns):      def composed(*args, **kwargs):         output = fns[-1](*args, **kwargs)         for fn in reversed(fns[:-1]):             output = fn(output)          return output      return composed </code></pre>  <p>I want to state again that there is no reason not to use <code>reduce</code>, as the above is simply a specific implementation of reduce. Composition is a reduction.</p>  <pre><code>from functools import reduce # Only required in Python3 where reduce was moved  def compose(f1, f2):     return lambda *args, **kwargs: f1(f2(*args, **kwargs))  def compose_many(*fns):     return reduce(compose, fns, lambda x: x) </code></pre>"
48845017	"translating compose functions from javascript to python, the functional way"	javascript|python|functional-programming	2018-02-17 19:18:44.697000 UTC	"<p>I'm trying to translate my Javascript compose functions into Python but I'm having trouble with the last one. How can I generalize an unknown number of functions? </p>  <p>After reading <a href=""https://www.artima.com/weblogs/viewpost.jsp?thread=98196"" rel=""nofollow noreferrer"">this</a>, I would like to avoid the <code>reduce()</code> method.</p>  <p>javascript:</p>  <pre><code>/* compose functions */ const comp1 = (fn2, fn1) =&gt; arr       =&gt; fn2(fn1(arr))                            // 2 functions, one array const comp2 = (fn2, fn1) =&gt; (...arrs) =&gt; fn2(fn1(...arrs))                        // 2 functions, multiple arrays const comp3 = (...fns)   =&gt; (...arrs) =&gt; fns.reduceRight((v,f) =&gt; f(v), arrs)     // multiple functions, multiple arrays </code></pre>  <p>python:</p>  <pre><code>/* compose functions */ comp1 = lambda fn2,fn1: lambda arr:   fn2(fn1(arr))   # 2 functions, 1 array comp2 = lambda fn2,fn1: lambda *arrs: fn2(fn1(*arrs)) # 2 functions, multiple arrays comp3 = lambda *fns:    lambda *arrs: ???? </code></pre>  <p>all improvements are appreciated...</p>"	"<p>Here's a nice variadic compose to facilitate <strong>right-to-left</strong> function composition – it works with 0, 1, or more functions</p>  <pre><code>def identity (x):   return x  def compose (f = identity, *gs):   if not gs:     return f   else:     return lambda x: f (compose (*gs) (x))  def double (x):   return x * 2  def add1 (x):   return x + 1   # identity (5)     compose () (5)                            # 5  # print (5) compose (print) (5)                       # 5  # print (add1 (5)) compose (print, add1) (5)                 # 6  # print (add1 (double (5))) compose (print, add1, double) (5)         # 11  # print (add1 (double (double (5)))) compose (print, add1, double, double) (5) # 21 </code></pre>  <p>To make it support variadic arguments, just update the lambda – changes in <strong>bold</strong></p>  <pre><code>def identity (x):   return x  def compose (f = identity, *gs):   if not gs:     return f   else:     return lambda <b>*xs</b>: f (compose (*gs) (<b>*xs</b>))  def mult (x,y):   return x * y  def double (x):   return mult (2, x)  # print (double (double (mult (2, 3)))) compose (print, double, double, mult) (2,3) # 24</code></pre>"
48852769	Calling python from Javascript 404 not found	javascript|python|jquery|ajax	2018-02-18 14:32:11.630000 UTC	"<p>I'm trying to run a simple python script in javascript by using ajax (I would prefer this than using something like Flask).</p>  <p>In my Javascript I have:</p>  <pre><code>$.ajax({ type: ""POST"", url: ""text.py"",     data: { param: ""text""} }).done(function( o ) {     // do something }); </code></pre>  <p>But inside of the browser I receive the error:</p>  <blockquote>   <p>POST <a href=""http://127.0.0.1:8887/text.py"" rel=""nofollow noreferrer"">http://127.0.0.1:8887/text.py</a> 404 (Not Found)   VM119:1 XHR failed loading: POST ""<a href=""http://127.0.0.1:8887/text.py"" rel=""nofollow noreferrer"">http://127.0.0.1:8887/text.py</a>"".</p> </blockquote>  <p>My <code>index.js</code> and <code>text.js</code> are inside of the same directory. When I enter <a href=""http://127.0.0.1:8887/text.py"" rel=""nofollow noreferrer"">http://127.0.0.1:8887/text.py</a> into my browser the python code is displayed. I'm not sure what is going on.</p>  <p>Any help would be great! Thank you </p>"	"<p>A simple Flask app will be something like this:</p>  <pre><code>/app.py /templates     /index.html </code></pre>  <p>app.py</p>  <pre><code>from flask import Flask, render_template, request  app = Flask(__name__)  @app.route(""/"") def index():     return render_template('index.html')  @app.route(""/echo"", methods=[""POST""]) def echo():     print('echo called')     data = request.values.get('param', '')     print(data)     return data  if __name__ == ""__main__"":     app.run(host='0.0.0.0', port=8787, debug=True) </code></pre>  <p>index.html</p>  <pre><code>&lt;html&gt;  &lt;head&gt;      &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"" integrity=""sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"" crossorigin=""anonymous""&gt;  &lt;/head&gt; &lt;body&gt;      &lt;div class=""container""&gt;         &lt;div class=""row""&gt;                 &lt;div class=""col""&gt;                     &lt;textarea rows=""20"" style=""width:100%"" id=""results""&gt;&lt;/textarea&gt;                 &lt;/div&gt;             &lt;/div&gt;         &lt;/div&gt;     &lt;/div&gt;      &lt;script src=""//code.jquery.com/jquery-3.2.1.min.js""             integrity=""sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=""             crossorigin=""anonymous""&gt;&lt;/script&gt;      &lt;script&gt;         $().ready(function () {             console.log('ready');              $.ajax({                 url: ""{{ url_for('echo') }}"",                 method: ""POST"",                 data: { param: ""text""}             }).done(function(data, textStatus, jqXHR ) {                 //console.log(data);                 $('#results').val(data);             });         });      &lt;/script&gt;   &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p>Than run:</p>  <pre><code>python app.py </code></pre>  <p>Than you would go to: <a href=""http://127.0.0.1:8787"" rel=""nofollow noreferrer"">http://127.0.0.1:8787</a></p>"
48869903	Passing Python results (array) to JavaScript	javascript|python|ajax|flask	2018-02-19 16:05:51.827000 UTC	"<p>I'm working with Twitter API on Python to get the current trending hashtags of a city, then I should pass the results (as an array) to my HTML file where I'm working on visualizing the results using JavaScript.</p>  <p>So, I've tried multiple solutions but I thought that flask was yet the easiest.</p>  <p>This is my python code (hashtags.py):</p>  <pre><code>import tweepy import json from flask import Flask, request, render_template   consumerKey = ""x""  consumerSecret = ""x""  accessToken = ""x""  accessTokenSecret = ""x""    auth = tweepy.OAuthHandler(""x"", ""x"")   auth.set_access_token(""x"", ""x"")     api = tweepy.API(auth)       app = Flask(__name__)       @app.route('/map/')       @app.route('/map/&lt;trends&gt;')      def trend_hash(id):      for location in api.trends_place(id):       for trend in location[""trends""] :           print "" - %s"" % trend[""name""]           trends = trend[""name""]        return render_template(""map.html"", trends=json.dumps(trends))       trend_hash(1939753) </code></pre>  <p>This is my JavaScript code (map.html)</p>  <pre><code>&lt;!DOCTYPE html&gt;  &lt;html&gt;   &lt;head&gt;    &lt;link rel=""stylesheet"" href=""https://www.amcharts.com/lib/3/ammap.css"" type=""text/css"" media=""all"" /&gt;     &lt;script src=""https://www.amcharts.com/lib/3/ammap.js""&gt;&lt;/script&gt;     &lt;script src=""https://www.amcharts.com/lib/3/maps/js/saudiArabiaHigh.js""&gt;&lt;/script&gt;   &lt;/head&gt;    &lt;body&gt;    &lt;div id=""chartdiv""&gt;&lt;/div&gt;       &lt;script type=""text/javascript""&gt;        var map = AmCharts.makeChart(""chartdiv"", {       ""type"": ""map"",        ""dataProvider"": {        ""map"": ""saudiArabiaHigh"",        ""getAreasFromMap"": true },        ""areasSettings"": {        ""selectedColor"": ""#ffffff"" },        ""listeners"": [ {        ""event"": ""init"",        ""method"": function (e) {              var chart = e.chart;         function getHashtags() {         var hash = JSON.stringify('{{ trends }}');         console.log(hash); }         getHashtags();  }         }],            });       &lt;/script&gt;       &lt;/body&gt;        &lt;/html&gt; </code></pre>  <p>I tried to watch my console to see if it will print the trending hashtags, but this is what I got: <a href=""https://i.stack.imgur.com/p5tw0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/p5tw0.png"" alt=""enter image description here""></a></p>  <p>it just prints the word (trends) without any results. What am I missing?</p>  <p><strong>UPDATE</strong></p>  <p>I'm quite positive with the code in python, because I tried to print: </p>  <pre><code>render_template(""map.html"", trends=trends)  </code></pre>  <p>and it prints map.html with the value of trends.</p>  <p>my problem now is with my script: <a href=""https://i.stack.imgur.com/Jchdi.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Jchdi.png"" alt=""enter image description here""></a></p>"	"<p>Please fix the indentation in <code>hashtags.py</code> so we can get an idea where you assign values and where you call <code>render_template</code>. </p>  <p>But to answer you question:</p>  <ol> <li>There is no need to use <code>''</code> with the variable <code>{{ trends }}</code> as you want to pass an object to <code>JSON.stringify</code>, not a string.</li> <li>Use the Jinja2's <code>safe</code> filter when you pass viriables to the template that you want to preserve.</li> </ol>  <p><em>map.html:</em></p>  <pre><code>... var hash = JSON.stringify({{ trends|safe }}); </code></pre>"
48934016	Connect Javascript with python	javascript|python-3.x|flask	2018-02-22 17:45:40.730000 UTC	"<p>I am currently working on a project which requires me to connect javascript with python. the scenario is: I have a simple form(name, email) using HTML and javascript and have to capture this in python.  My analysis part is done in python. I don't have much knowledge about javascript but I read online about Flask and was able to connect javascript using Flask. How can I get the user input from javascript and transfer this into python? Python can read JSON data but I don't have any idea as to how to capture the user data.</p>"	"<p>Jinja + Django are the go-to tools for using python as a backend language. Django is used for the back-end framework, whereas jinja is really useful for writing python code inside an HTML file. I have linked both below:</p>  <p><a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">Django</a></p>  <p><a href=""http://jinja.pocoo.org/"" rel=""nofollow noreferrer"">Jinja</a></p>"
48935398	Python to convert JavascriptSerializer to datetime?	javascript|python|python-3.x|python-2.7|datetime	2018-02-22 19:08:31.020000 UTC	"<p>My JSON file has date and time in JavascriptSerializer format as in below, </p>  <pre><code>{""StartDate"": ""/Date(1519171200000)/"", ""EndDate"": ""/Date(1519257600000)/"",} </code></pre>  <p>How to convert it to datetime like this?</p>  <pre><code>""2012-04-23T18:25:43.511Z"" - JavaScript built-in JSON object ""2012-04-21T18:25:43-05:00"" - ISO 8601 </code></pre>"	"<p>Got a solution for this, though may not be an efficient one but still helped me.</p>  <pre><code>&gt;s_time = re.sub(""\D"", '', ""/Date(1519171200000)/"") &gt;d_time = datetime.datetime.fromtimestamp(float(s_time) / 1000).strftime('%Y-%m-%d %H:%M:%S')  &gt;print (d_time)  &gt;2018-02-21 13:58:02 </code></pre>"
48935719	Python and Javascript Pseudo Random Number Generator PRNG	javascript|python|random	2018-02-22 19:29:48.643000 UTC	"<p>I am looking for a way to generate the same sequence of pseudo random integer numbers from both python and javascript.  </p>  <p>When I seed in python like this I get the below results:</p>  <pre><code>random.seed(3909461935)    random.randint(0, 2147483647) = 162048056 random.randint(0, 2147483647) = 489743869 random.randint(0, 2147483647) = 1561110296 </code></pre>  <p>I need the same sequence in javascript.</p>  <ul> <li>Note: I used 2147483647 as the range in the randint method because I am assuming javascript can only handle 32 bit INTs.</li> </ul>  <p>Are there any libraries on both sides I can use to generate the same set of pseudo random numbers given the same seed?</p>"	"<p>I have found two implementations of Mersenne Twister that generate the same 32 bit integer values given the same seed.</p>  <p>This way you can generate a server side sequence in Python, and have the browser independently generate the same sequence in javascript.</p>  <p>Python:</p>  <pre><code>from mt_random import * r = mersenne_rng(seed = 12345) r.get_random_number() # Prints 3992670690 r.get_random_number() # Prints 3823185381 r.get_random_number() # Prints 1358822685 </code></pre>  <p>Javascript:</p>  <pre><code>r = new MersenneTwister(); r.init_genrand(12345); r = mersenne_rng(seed = 12345) r.genrand_int32(); # Prints 3992670690 r.genrand_int32(); # Prints 3823185381 r.genrand_int32(); # Prints 1358822685 </code></pre>  <p>The JS is <a href=""https://github.com/neetsdkasu/mt19937ar-MersenneTwister-JS/blob/master/mt19937ar.js"" rel=""nofollow noreferrer"">here</a>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>/*  *  疑似乱数生成機  移植    *   *  Mersenne Twister with improved initialization (2002)  *  http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/mt.html  *  http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/mt19937ar.html  */ // = 移植元ラインセンス ======================================================= // ====================================================================== /*     A C-program for MT19937, with initialization improved 2002/2/10.    Coded by Takuji Nishimura and Makoto Matsumoto.    This is a faster version by taking Shawn Cokus's optimization,    Matthe Bellew's simplification, Isaku Wada's real version.    Before using, initialize the state by using init_genrand(seed)     or init_by_array(init_key, key_length).    Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,    All rights reserved.                              Redistribution and use in source and binary forms, with or without    modification, are permitted provided that the following conditions    are met:      1. Redistributions of source code must retain the above copyright         notice, this list of conditions and the following disclaimer.      2. Redistributions in binary form must reproduce the above copyright         notice, this list of conditions and the following disclaimer in the         documentation and/or another materials provided with the distribution.      3. The names of its contributors may not be used to endorse or promote          products derived from this software without specific prior written          permission.    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS    ""AS IS"" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT    LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR    A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.    Any feedback is very welcome.    http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html    email: m-mat @ math.sci.hiroshima-u.ac.jp (remove space) */ // ======================================================================  function  MersenneTwister() {      // 整数を扱うクラス     function Int32(value) {         var bits = new Array(0, 0, 0, 0);         var i;         var v = value;         if (v != 0) {             for (i = 0; i &lt; 4; ++i) {                bits[i] = v &amp; 0xff;                v = v &gt;&gt; 8;             }         }         this.getValue = function () {             return (bits[0] | (bits[1] &lt;&lt; 8) | (bits[2] &lt;&lt; 16)) + ((bits[3] &lt;&lt; 16) * 0x100);         };         this.getBits = function (i) { return bits[i &amp; 3]; };         this.setBits = function (i, val) { return (bits[i &amp; 3] = val &amp; 0xff); };         this.add = function (another) {             var tmp = new Int32(0);             var i, fl = 0, b;             for (i = 0; i &lt; 4; ++i) {                 b = bits[i] + another.getBits(i) + fl;                 tmp.setBits(i, b);                 fl = b &gt;&gt; 8;             }             return tmp;         };         this.sub = function (another) {             var tmp = new Int32(0);             var bb = new Array(0, 0, 0, 0);             var i;             for (i = 0; i &lt; 4; ++i) {                 bb[i] = bits[i] - another.getBits(i);                 if ((i &gt; 0) &amp;&amp; (bb[i - 1] &lt; 0)) {                     --bb[i];                 }             }             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, bb[i]);             }             return tmp;         };         this.mul = function (another) {             var tmp = new Int32(0);             var bb = new Array(0, 0, 0, 0, 0);             var i, j;             for (i = 0; i &lt; 4; ++i) {                 for (j = 0; i + j &lt; 4; ++j) {                     bb[i + j] += bits[i] * another.getBits(j);                 }                 tmp.setBits(i, bb[i]);                 bb[i + 1] += bb[i] &gt;&gt; 8;             }             return tmp;         };         this.and = function (another) {             var tmp = new Int32(0);             var i;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, bits[i] &amp; another.getBits(i));             }             return tmp;         };         this.or = function (another) {             var tmp = new Int32(0);             var i;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, bits[i] | another.getBits(i));             }             return tmp;         };         this.xor = function (another) {             var tmp = new Int32(0);             var i;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, bits[i] ^ another.getBits(i));             }             return tmp;         };         this.rshifta = function (s) {             var tmp = new Int32(0);             var bb = new Array(0, 0, 0, 0, 0);             var p = s &gt;&gt; 3;             var i, sg = 0;             if ((bits[3] &amp; 0x80) &gt; 0) {                 bb[4] = sg = 0xff;             }             for (i = 0; i + p &lt; 4; ++i) {                 bb[i] = bits[i + p];             }             for (; i &lt; 4; ++i) {                 bb[i] = sg;             }             p = s &amp; 0x7;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, ((bb[i] | (bb[i + 1] &lt;&lt; 8)) &gt;&gt; p) &amp; 0xff);             }             return tmp;         };         this.rshiftl = function (s) {             var tmp = new Int32(0);             var bb = new Array(0, 0, 0, 0, 0);             var p = s &gt;&gt; 3;             var i;             for (i = 0; i + p &lt; 4; ++i) {                 bb[i] = bits[i + p];             }             p = s &amp; 0x7;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, ((bb[i] | (bb[i + 1] &lt;&lt; 8)) &gt;&gt; p) &amp; 0xff);             }             return tmp;         };         this.lshift = function (s) {             var tmp = new Int32(0);             var bb = new Array(0, 0, 0, 0, 0);             var p = s &gt;&gt; 3;             var i;             for (i = 0; i + p &lt; 4; ++i) {                 bb[i + p + 1] = bits[i];             }             p = s &amp; 0x7;             for (i = 0; i &lt; 4; ++i) {                 tmp.setBits(i, (((bb[i] | (bb[i + 1] &lt;&lt; 8)) &lt;&lt; p) &gt;&gt; 8) &amp; 0xff);             }             return tmp;         };         this.equals = function (another) {             var i;             for (i = 0; i &lt; 4; ++i) {                 if (bits[i] != another.getBits(i)) {                     return false;                 }             }             return true;         };         this.compare = function (another) {             var i;             for (i = 3; i &gt;= 0; --i) {                 if (bits[i] &gt; another.getBits(i)) {                     return 1;                 } else if (bits[i] &lt; another.getBits(i)) {                     return -1;                 }             }             return 0;         };     }     // End of Int32               /* Period parameters */     var N = 624;     var M = 397;     var MATRIX_A = new Int32(0x9908b0df); /* constant vector a */     var UMASK = new Int32(0x80000000); /* most significant w-r bits */     var LMASK = new Int32(0x7fffffff); /* least significant r bits */          var INT32_ZERO = new Int32(0);     var INT32_ONE = new Int32(1);          var MIXBITS = function (u, v) {         return (u.and(UMASK)).or(v.and(LMASK));     };     var TWIST = function (u, v) {         return ((MIXBITS(u, v).rshiftl(1)).xor((v.and(INT32_ONE)).equals(INT32_ZERO) ? INT32_ZERO : MATRIX_A));     };          var state = new Array(); /* the array for the state vector  */     var left = 1;     var initf = 0;     var next = 0;          var i;     for (i = 0; i &lt; N; ++i) {         state[i] = INT32_ZERO;     }          /* initializes state[N] with a seed */     var _init_genrand = function (s) {         var lt1812433253 = new Int32(1812433253);         var j;         state[0]= new Int32(s);         for (j = 1; j &lt; N; ++j) {             state[j] = ((lt1812433253.mul(state[j - 1].xor(state[j - 1].rshiftl(30)))).add(new Int32(j)));              /* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */             /* In the previous versions, MSBs of the seed affect   */             /* only MSBs of the array state[].                        */             /* 2002/01/09 modified by Makoto Matsumoto             */             //state[j] &amp;= 0xffffffff;  /* for &gt;32 bit machines */         }         left = 1; initf = 1;     };     this.init_genrand = _init_genrand;          /* initialize by an array with array-length */     /* init_key is the array for initializing keys */     /* key_length is its length */     /* slight change for C++, 2004/2/26 */     this.init_by_array = function (init_key, key_length) {         var lt1664525 = new Int32(1664525);         var lt1566083941 = new Int32(1566083941);         var i, j, k;         _init_genrand(19650218);         i = 1; j = 0;         k = (N &gt; key_length ? N : key_length);         for (; k; --k) {             state[i] = ((state[i].xor((state[i - 1].xor(state[i - 1].rshiftl(30))).mul(lt1664525))).add(               new Int32(init_key[j]))).add(new Int32(j)); /* non linear */             //state[i] &amp;= 0xffffffff; /* for WORDSIZE &gt; 32 machines */             i++; j++;             if (i &gt;= N) {                  state[0] = state[N - 1];                 i = 1;              }             if (j &gt;= key_length) {                 j = 0;              }         }         for (k = N - 1; k; --k) {             state[i] = (state[i].xor((state[i-1].xor(state[i - 1].rshiftl(30))).mul(lt1566083941))).sub(               new Int32(i)); /* non linear */             //state[i] &amp;= 0xffffffff; /* for WORDSIZE &gt; 32 machines */             i++;             if (i &gt;= N) {                 state[0] = state[N - 1];                  i = 1;              }         }              state[0] = new Int32(0x80000000); /* MSB is 1; assuring non-zero initial array */          left = 1; initf = 1;     };          var next_state = function () {         var p = 0;         var j;              /* if init_genrand() has not been called, */         /* a default initial seed is used         */         if (initf == 0) {             _init_genrand(5489);         }              left = N;         next = 0;                  for (j = N - M + 1; --j; ++p) {             state[p] = state[p + M].xor(TWIST(state[p], state[p + 1]));         }                  for (j = M; --j; ++p) {             state[p] = state[p + M - N].xor(TWIST(state[p], state[p + 1]));         }              state[p] = state[p + M - N].xor(TWIST(state[p], state[0]));     };      var lt0x9d2c5680 = new Int32(0x9d2c5680);     var lt0xefc60000 = new Int32(0xefc60000);      /* generates a random number on [0,0xffffffff]-interval */     var _genrand_int32 = function () {         var y;              if (--left == 0) {             next_state();         }                  y = state[next];         ++next;              /* Tempering */         y = y.xor(y.rshiftl(11));         y = y.xor((y.lshift(7)).and(lt0x9d2c5680));         y = y.xor((y.lshift(15)).and(lt0xefc60000));         y = y.xor(y.rshiftl(18));              return y.getValue();     };     this.genrand_int32 = _genrand_int32;      /* generates a random number on [0,0x7fffffff]-interval */     this.genrand_int31 = function () {         var y;              if (--left == 0) {             next_state();         }         y = state[next];         ++next;              /* Tempering */         y = y.xor(y.rshiftl(11));         y = y.xor((y.lshift(7)).and(lt0x9d2c5680));         y = y.xor((y.lshift(15)).and(lt0xefc60000));         y = y.xor(y.rshiftl(18));              return (y.rshiftl(1)).getValue();     };               /* generates a random number on [0,1]-real-interval */     this.genrand_real1 = function () {         var y;              if (--left == 0) {             next_state();         }         y = state[next];         ++next;              /* Tempering */         y = y.xor(y.rshiftl(11));         y = y.xor((y.lshift(7)).and(lt0x9d2c5680));         y = y.xor((y.lshift(15)).and(lt0xefc60000));         y = y.xor(y.rshiftl(18));              return y.getValue() * (1.0/4294967295.0);          /* divided by 2^32-1 */      };          /* generates a random number on [0,1)-real-interval */     this.genrand_real2 = function () {         var y;              if (--left == 0) {             next_state();         }         y = state[next];         ++next;              /* Tempering */         y = y.xor(y.rshiftl(11));         y = y.xor((y.lshift(7)).and(lt0x9d2c5680));         y = y.xor((y.lshift(15)).and(lt0xefc60000));         y = y.xor(y.rshiftl(18));              return y.getValue() * (1.0 / 4294967296.0);          /* divided by 2^32 */     };      /* generates a random number on (0,1)-real-interval */     this.genrand_real3 = function () {         var y;              if (--left == 0) {             next_state();         }         y = state[next];         ++next;              /* Tempering */         y = y.xor(y.rshiftl(11));         y = y.xor((y.lshift(7)).and(lt0x9d2c5680));         y = y.xor((y.lshift(15)).and(lt0xefc60000));         y = y.xor(y.rshiftl(18));              return (y.getValue() + 0.5) * (1.0 / 4294967296.0);          /* divided by 2^32 */     };      /* generates a random number on [0,1) with 53-bit resolution*/     this.genrand_res53 = function () {         var a = ((new Int32(_genrand_int32())).rshiftl(5)).getValue();         var b = ((new Int32(_genrand_int32())).rshiftl(6)).getValue();          return (a * 67108864.0 + b) * (1.0 / 9007199254740992.0);      };     /* These real versions are due to Isaku Wada, 2002/01/09 added */  }</code></pre> </div> </div> </p>  <p>The corresponding Python implementation is <a href=""https://github.com/james727/MTP/blob/master/mersenne_twister.py"" rel=""nofollow noreferrer"">here</a>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>class mersenne_rng(object):     def __init__(self, seed = 5489):         self.state = [0]*624         self.f = 1812433253         self.m = 397         self.u = 11         self.s = 7         self.b = 0x9D2C5680         self.t = 15         self.c = 0xEFC60000         self.l = 18         self.index = 624         self.lower_mask = (1&lt;&lt;31)-1         self.upper_mask = 1&lt;&lt;31          # update state         self.state[0] = seed         for i in range(1,624):             self.state[i] = self.int_32(self.f*(self.state[i-1]^(self.state[i-1]&gt;&gt;30)) + i)      def twist(self):         for i in range(624):             temp = self.int_32((self.state[i]&amp;self.upper_mask)+(self.state[(i+1)%624]&amp;self.lower_mask))             temp_shift = temp&gt;&gt;1             if temp%2 != 0:                 temp_shift = temp_shift^0x9908b0df             self.state[i] = self.state[(i+self.m)%624]^temp_shift         self.index = 0      def get_random_number(self):         if self.index &gt;= 624:             self.twist()         y = self.state[self.index]         y = y^(y&gt;&gt;self.u)         y = y^((y&lt;&lt;self.s)&amp;self.b)         y = y^((y&lt;&lt;self.t)&amp;self.c)         y = y^(y&gt;&gt;self.l)         self.index+=1         return self.int_32(y)      def int_32(self, number):         return int(0xFFFFFFFF &amp; number)  if __name__ == ""__main__"":     rng = mersenne_rng(1131464071)     for i in range(10):         print rng.get_random_number()</code></pre> </div> </div> </p>"
48956443	python javascript scrape automatically	javascript|python|html|scrape	2018-02-23 21:25:52.477000 UTC	"<p>Python novice here.</p>  <p>I am trying to scrape company information from the <a href=""https://www.transparantiebenchmark.nl/en/scores-0#/survey/4/company/793"" rel=""nofollow noreferrer"">Dutch Transparency Benchmark</a> website for a number of different companies, but I'm at a loss as to how to make it work. I've tried</p>  <pre><code>pd.read_html(https://www.transparantiebenchmark.nl/en/scores-0#/survey/4/company/793) </code></pre>  <p>and</p>  <pre><code>requests.get(""https://www.transparantiebenchmark.nl/en/scores-0#/survey/4/company/793"") </code></pre>  <p>and then working from there. However, it seems like the data is dynamically generated/queried, and thus not actually contained in the html source code these methods retrieve.</p>  <p>If I go to my browser's developer tools and copy the ""final"" html as shown there in the ""Elements"" tab, the whole information is in there. But as I'd like to repeat the process for several of the companies, is there any way to automate it?</p>  <p>Alternatively, if there's no direct way to obtain the info from the html, there might be a second possibility. The site allows to download the information as an Excel-file for each individual company. Is it possible to somehow automatically ""click"" the download button and save the file somewhere? Then I might be able to loop over all the companies I need.</p>  <p>Please excuse if this question is poorly worded, and thank you very much in advance</p>  <p>Tusen takk!</p>  <p>Edit: I have also tried it using BeautifulSoup, as @pmkroeker suggested. But I'm not really sore how to make it work so that it first runs all the javascript so the site actually contains the data. </p>"	"<p>I think you will either want use a library to render the page.  <a href=""https://stackoverflow.com/a/29406276/3884529"">This</a> answer seems to apply to python.  I will also copy the code from that answer for completeness.</p>  <hr>  <p>You can pip install selenium from a command line, and then run something like:</p>  <pre><code>from selenium import webdriver from urllib2 import urlopen  url = 'http://www.google.com' file_name = 'C:/Users/Desktop/test.txt'  conn = urlopen(url) data = conn.read() conn.close()  file = open(file_name,'wt') file.write(data) file.close()  browser = webdriver.Firefox() browser.get('file:///'+file_name) html = browser.page_source browser.quit() </code></pre>  <hr>  <p>I think you could probably skip the file write and just pass it to that browser.get call, but I'll leave that to you to find out.</p>  <p>The other thing you can do is look for the ajax calls in a browser developer tool. i.e. when using chrome the 3 dots -> more tools -> developer tools or press something like F12.  Then look at the network tab.  There will be various requests.  You will want to click one, click the <code>Preview</code> tab, and then go through each until you find a response that looks like json data.  You are effectively look for their API calls that they used to get the data to generate things.  Once you find one, click the <code>Headers</code> tab and you will see a <code>Request URL</code>.  </p>  <p>i.e. this <a href=""https://sa-tb.nl/api/widget/chart/survey/4/sector/38"" rel=""nofollow noreferrer"">https://sa-tb.nl/api/widget/chart/survey/4/sector/38</a> has lots of data</p>  <p>The problem here is it may or may not be repeatable (API may change, id's may change).  You may have a similar problem with just HTML scraping as the HTML could change just as easily.</p>"
48959547	How do I call a python function from a cgi script with javascript?	javascript|python|html|xmlhttprequest|cgi	2018-02-24 05:01:47.557000 UTC	"<p>I also want to use the XMLHttpRequest object in a javascript function to send info about the currently selected option from a dropdown list (the one called 'Users' in the code below) as an argument to a function in my Python script, and then get the return value from that function and use it to setup another list ('Tasks' in the code below) I want to do this so that I can update the information in ""Tasks"" using data that I have gotten as a return value from the Python function I am doing it this way because I need the page to not have to reload. If you know a better way to implement this I would be open to ideas.</p>  <pre><code>def main(): with open(""Users.json"", 'r') as data_file:     usersDictionary = json.load(data_file) Users=usersDictionary[""Users""] print ""Content-Type: text/html"" print """" print """""" &lt;html&gt; &lt;head&gt;     &lt;script&gt;       function setTaskList(){           #Insert Javascript which will call python function here...       }         &lt;/script&gt;         &lt;title&gt;TestPage&lt;/title&gt;     &lt;/head&gt;     &lt;body onload=""setTaskList()""&gt;         &lt;form&gt;"""""" print """"""&lt;select name=""Users"" onchange=""setTaskList()""&gt;"""""" for user in Users:     if(not(len(user[""Tasks""][""High""])==0 and len(user[""Tasks""][""Med""])==0 and len(user[""Tasks""][""Low""])==0)):         print """"""&lt;option value=""{0}""&gt;{1}&lt;/option&gt;"""""".format(user[""UID""], user[""name""]) print ""&lt;/select&gt;"" print """"""&lt;select name=""Tasks"" disabled=""disabled""&gt;"""""" print ""&lt;/select&gt;"" print""""""&lt;input type=""Submit"" value=""Add Task""/&gt; &lt;button type=""button""&gt;Delete Task&lt;/button&gt;"""""" print""""""         &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;""""""  main() </code></pre>  <p>For the code below, I want to be able to get the data from input boxes when submit is clicked, and send the info gotten from the input boxes and radio buttons to a python function to process it and add it as a JSON object to a JSON dictionary and then update a JSON file, and then return to the previous page (which is the one with the code above) (assume that is called index.py).</p>  <pre><code>print ""Content-Type: text/html"" print """" print""""""&lt;html&gt; &lt;head&gt;     &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt;     &lt;form  action = ""/~theUser/cgi-bin/index.cgi"" method = ""POST""&gt;         Task Name:   &lt;input type = ""text"" name = ""TaskName""  placeholder=""Task name"" /&gt;  &lt;br /&gt;         Task Description:    &lt;input type = ""text"" name = ""TaskDescription""  placeholder=""task description"" /&gt; &lt;br /&gt;         User ID:    &lt;input type = ""text"" name = ""UID"" placeholder=""User Id""  /&gt; &lt;br /&gt;         Priority &lt;br/&gt;         &lt;input type=""radio"" name=""gender"" value=""High""&gt; High&lt;br&gt;         &lt;input type=""radio"" name=""gender"" value=""Medium""&gt; Medium&lt;br&gt;         &lt;input type=""radio"" name=""gender"" value=""Low""&gt; Low&lt;br&gt;         &lt;input type = ""submit"" value = ""Submit"" /&gt;     &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;"""""" </code></pre>  <p>Can anyone help, I'm really new to this CGI stuff, and would really appreciate it. Also if you know a better for me to do this, please let me know. Thanks!</p>"	"<p>So after long trial and error, and waiting on an answer that never came, I figured out how to do this myself so I thought I might help whoever was in need of this out I was able to send a request from my python cgi script using javascript like so:</p>  <pre><code>print ""Content-Type: text/html"" print """" print """""" &lt;html&gt; &lt;head&gt;     &lt;script&gt;     function getTasks() {         //put more processing in the function as needed        var xmlhttp;        var parameters = ""This must be a string which will be the parameters         you will receive in your python script"";        var scriptName = ""pythonScript To CommunicateWith.py"";        //may be .cgi as well depending on how you are using it        if (window.XMLHttpRequest) {            xmlhttp = new XMLHttpRequest();         } else {              xmlhttp = new ActiveXObject(""Microsoft.XMLHTTP"");         }         xmlhttp.open(""POST"", scriptName, true);         xmlhttp.onreadystatechange = function () {             if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {                 //retrieve a json response and parse it into userTasks                 usersTasks = JSON.parse(xmlhttp.responseText);              }         }         xmlhttp.send(parameters);      }     &lt;/script&gt; </code></pre>  <p>In my python script which the java script hits here is how I get the arguments and process them:</p>  <pre><code>#!usr/bin/python import sys import json  args=sys.stdin.readlines() #args comes in as a list with one item in it  which is the parameter that you sent in from javascript  arguments=args[0] print ""Content-Type: text/html"" print """"  def getTasks(userName):     """"""This function will do some processing and get the required return      value""""""     taskList=[]     #read JSON file and get the info.     with open(""Somefile.json"", 'r') as data_file:         usersDictionary = json.load(data_file)     data_file.close()     """"""...do some process ing of data here, which will set some data into      the list called taskList""""""     return taskList #Return a list of all the tasks for the user.  print json.dumps(getTasks(arguments))  """"""convert the json to a string and print it out. what you print out here  will be what you will get as a string in the .responseText of the  XMLHttpRequest  object"""""" </code></pre>  <p>Using Pycharm and the python CGIHTTPServer function to debug helped me here.  Hope this helps someone out there.</p>"
48969332	How to use requests in Python 3 to fetch data from website that utilizes JavaScript and jQuery	javascript|python|web-scraping|python-requests|client-side	2018-02-25 01:21:28.460000 UTC	"<p>I have been playing around with the requests library in Python 3 for quite some time now, and have decided to create a test program. For this program, I'm using the website <a href=""https://ytmp3.cc/"" rel=""nofollow noreferrer"">https://ytmp3.cc/</a> as an example. But it turns out that a lot is going on, on the client-side it seems.</p>  <p>Some keys and other stuff are being generated, and I have been using Firefox's built-in network monitor, to figure out in which requests this is being made, but without luck.</p>  <p>As far as I know, the requests-library can't keep a ""page"" open and modify the DOM and content, by making more requests.</p>  <p>Anyone whom could take a look, and give a qualified guess on how the special keys are generated, and how I could possibly get these for my own requests.</p>  <p>Fx when loading the webpage, the first request made is for the root, and the response contains the webpage HTML. What I noticed is that at the bottom, there's an url containing some key and number.</p>  <pre><code>&lt;script id=""cs"" src=""js/converter-1.0.js?o=7_1a-a&amp;=_1519520467""&gt;&lt;/script&gt; id      7_1a-a number  _1519520467` </code></pre>  <p>This is used for making the next request, but then a lot of following requests are being made, and some other keys are made as well. But I can't find where these come from since they are not returned by a request.</p>  <p>I know that when inserting a Youtube link, a request will be made to an url, as seen below.</p>  <p><code>https://d.ymcdn.cc/check.php?callback=jQuery33107639361236859977_1519520481166&amp;v=eVD9j36Ke94&amp;f=mp3&amp;k=7_1a-a&amp;_=1519520481168</code></p>  <p>This returns the following:</p>  <p><code>jQuery33107639361236859977_1519520481166({""sid"":""21"",""hash"":""2a6b2475b059101480f7f16f2dde67ac"",""title"":""M\u00d8 - Kamikaze (Official Video)"",""ce"":1,""error"":""""})</code></p>  <p>From this I can construct the download url, using the hash from above:</p>  <p><code>https://yyd.ymcdn.cc/ + 2a6b2475b059101480f7f16f2dde67ac (hash) + /eVD9j36Ke94</code> (youtube video id)</p>  <p>But how do I get</p>  <p><code>jQuery33107639361236859977_1519520481166&amp;v=eVD9j36Ke94</code>    and    <code>1519520481168</code></p>  <p>Which I need to create the request?</p>"	"<p>You can probably save yourself and the operator of that website a lot of headache by just using <a href=""https://github.com/rg3/youtube-dl"" rel=""nofollow noreferrer""><code>youtube-dl</code></a>, specifically with the <code>--extract-audio --audio-format mp3</code> options. It's probably what that website itself uses.</p>  <p><code>youtube-dl</code> is written in Python and can <a href=""https://github.com/rg3/youtube-dl/blob/master/README.md#embedding-youtube-dl"" rel=""nofollow noreferrer"">easily be used programatically</a>.</p>  <p>If you insist on sending requests to that website for whatever reason, here's how I'd do it:</p>  <ul> <li><p><code>callback=jQuery33107639361236859977_1519520481166</code> specifies the name of the callback for the JSONP request. Any name you provide will be printed back out. For example, passing <code>callback=foo</code> will result in the following response:</p>  <pre><code>foo({...}) </code></pre>  <p>You can omit it entirely and the server will serve just a JSON response in this case, which is nice.</p></li> <li><p><code>_=1519520481168</code> is just to prevent the response being cached. It's randomly generated, just like the above parameter. The website checks for existence, however, so you have to at least pass something in.</p></li> <li><p>The website, like many, checks for a valid <code>Referer</code> header.</p></li> </ul>  <p>Here's a minimal cURL command line to make a request to that website:</p>  <pre><code>curl 'https://d.ymcdn.cc/check.php?v=eVD9j36Ke94&amp;f=mp3&amp;k=aZa4__&amp;_=1' -H 'Referer: https://ytmp3.cc/' </code></pre>"
48997100	HMAC function Javascript to python	javascript|python|cryptography|hmac	2018-02-26 21:06:57.873000 UTC	"<p>I am trying to translate some crypto function from javascript to python, but I don't know what is the equivalent for Hmac function.</p>  <p>I have in javascript:</p>  <pre><code>var crypto = require('crypto'); var myHash = function(seed){     var hash = crypto.createHmac('sha256', seed).digest('hex'); (...) </code></pre>  <p>And in python It is supposed to be (I guess):</p>  <pre><code>from hashlib import sha256 import hmac def myHash(seed):     hash = hmac.new(serverSeed,b"""",sha256).hexdigest() </code></pre>  <p>The thing is that in Python hmac function a third parameter is needed: the message. So whe have key, message and algorithm to create the hash. But in the Javascript sample code only Key and algorithm type are set.  In the Javascript hmac function message is supposed to be an empty string? What should be the most accurate translation?</p>"	"<p>So you are digesting an hmac in JavaScript that has no content?  What is the purpose of that?</p>  <p>You usually want to use hmac for message authentication, but if you don't have a message, there isn't really anything to authenticate.</p>  <p>Can you be more specific as why you try to use hmac without content?</p>  <p>Normally in JS you would do something like this:</p>  <pre><code>var crypto = require('crypto'); var myHash = function(seed){     var hash = crypto.createHmac('sha256', seed).update('my message').digest('hex'); (...) </code></pre>  <p>And that would be pretty much exactly the same thing in Python.</p>"
49015016	Putting Python code in HTML files using Javascript	python|jquery|html|django	2018-02-27 17:55:21.030000 UTC	"<p>I am using Django 1.8 and Python 3.5</p>  <p>This is my urls.py file </p>  <pre><code>from django.conf.urls import include, url from django.conf.urls.static import static from django.contrib import admin from django.conf import settings  urlpatterns = [     # Examples:      url(r'^$', 'mainpage.views.home2', name='home2'),     url(r'^currency/(?P&lt;currencywa&gt;[\w]+)', 'currency.views.curr1', name='curr1'),      url(r'^userpage/', 'login.views.userpage', name='userpage'),  ]  </code></pre>  <p>I am trying to make links using Jquery for Django</p>  <p>what I want to do is this </p>  <p><code>&lt;a href=""somelink""&gt;test&lt;/a&gt; // this resides in a table</code></p>  <p>using jquery</p>  <blockquote>   <p>I wish to use urlnames instead of url that is I wish to use name='curr1'</p> </blockquote>  <pre><code>var typein=""&lt;a href=\""{% url 'curr1'%}\""&gt;test&lt;/a&gt;"";  $('#cryptotable &gt; tbody:last-child').append('&lt;tr id=\""5\""&gt;&lt;td&gt;data1&lt;/td&gt; &lt;/tr&gt;'); </code></pre>  <p>I want to do this equivalent in django </p>  <p><code>&lt;a href=""{% url 'home2'%}""&gt;test&lt;/a&gt;</code></p>  <p>But when I click on this ,I get redirected to <code>http://localhost:8000/{% url 'curr1'%}</code> instead of <code>http://localhost:8000/curr1}</code></p>  <p>What do I do to use Django way of url links made using Jquery ?</p>  <p><strong>IN OTHER WORDS</strong></p>  <p>I wish to do this (Dynamically using Jquery)--></p>  <pre><code>&lt;html&gt; &lt;body&gt; &lt;a href='{% url ""curr1"" %}'&gt;test&lt;/a&gt;//put this duynamically using Jquery  &lt;/body&gt; &lt;/html&gt; </code></pre>"	"<p>The <a href=""https://docs.djangoproject.com/en/1.11/ref/templates/builtins/#url"" rel=""nofollow noreferrer""><code>url</code> template tag</a> needs to be converted to a full URL during template rendering inside the server. Once the HTML reaches the client browser, javascript cannot make that transformation from url tag to full URL.</p>  <p>You could render the URL in a hidden part of your HTML document, so that javascript can access the URL later (in the browser) and place it inside a table, for example (like the <a href=""https://stackoverflow.com/a/49015900/9225671"">other answer to this question</a> shows in the example).</p>"
49015016	Putting Python code in HTML files using Javascript	python|jquery|html|django	2018-02-27 17:55:21.030000 UTC	"<p>I am using Django 1.8 and Python 3.5</p>  <p>This is my urls.py file </p>  <pre><code>from django.conf.urls import include, url from django.conf.urls.static import static from django.contrib import admin from django.conf import settings  urlpatterns = [     # Examples:      url(r'^$', 'mainpage.views.home2', name='home2'),     url(r'^currency/(?P&lt;currencywa&gt;[\w]+)', 'currency.views.curr1', name='curr1'),      url(r'^userpage/', 'login.views.userpage', name='userpage'),  ]  </code></pre>  <p>I am trying to make links using Jquery for Django</p>  <p>what I want to do is this </p>  <p><code>&lt;a href=""somelink""&gt;test&lt;/a&gt; // this resides in a table</code></p>  <p>using jquery</p>  <blockquote>   <p>I wish to use urlnames instead of url that is I wish to use name='curr1'</p> </blockquote>  <pre><code>var typein=""&lt;a href=\""{% url 'curr1'%}\""&gt;test&lt;/a&gt;"";  $('#cryptotable &gt; tbody:last-child').append('&lt;tr id=\""5\""&gt;&lt;td&gt;data1&lt;/td&gt; &lt;/tr&gt;'); </code></pre>  <p>I want to do this equivalent in django </p>  <p><code>&lt;a href=""{% url 'home2'%}""&gt;test&lt;/a&gt;</code></p>  <p>But when I click on this ,I get redirected to <code>http://localhost:8000/{% url 'curr1'%}</code> instead of <code>http://localhost:8000/curr1}</code></p>  <p>What do I do to use Django way of url links made using Jquery ?</p>  <p><strong>IN OTHER WORDS</strong></p>  <p>I wish to do this (Dynamically using Jquery)--></p>  <pre><code>&lt;html&gt; &lt;body&gt; &lt;a href='{% url ""curr1"" %}'&gt;test&lt;/a&gt;//put this duynamically using Jquery  &lt;/body&gt; &lt;/html&gt; </code></pre>"	"<p>I am just writing a sample template for general use case:</p>  <p><strong>Template:</strong></p>  <pre><code>{% load staticfiles %}  &lt;?xml version = ""1.0"" encoding = ""UTF-8"" ?&gt;     &lt;!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml11/DTD/xhtml11-transitional.dtd""&gt; &lt;html xmlns = ""http://www.w3.org/1999/xhtml""&gt;  &lt;head&gt;     &lt;meta charset=""utf-8"" /&gt;     &lt;title&gt;sample&lt;/title&gt;     &lt;script type=""text/javascript"" src=""{% static 'jquery.min.js' %}""&gt;&lt;/script&gt; &lt;/head&gt;      &lt;body&gt;       &lt;/body&gt;   &lt;/html&gt;  &lt;script&gt;     var typein = ""&lt;a href = {{url}}&gt;Click Here&lt;/a&gt;"";     $('body').append(typein); &lt;/script&gt; </code></pre>  <p><strong>View:</strong></p>  <pre><code>from django.shortcuts import render_to_response from django.template import RequestContext  def home(request):     url = ""home""     return render_to_response('home.html', {'url' : url}, RequestContext(request)) </code></pre>  <p><strong>URL:</strong></p>  <pre><code>from django.views.generic import TemplateView from django.contrib.sitemaps.views import sitemap from django.conf.urls import include, url from django.contrib import admin  from views import *  urlpatterns = [     url(r'^$', home),     url(r'^home/', home),     url(r'^robots.txt/', TemplateView.as_view(template_name='robots.txt', content_type='text/plain')),     url(r'^sitemap.xml/', TemplateView.as_view(template_name='sitemap.xml', content_type='text/xml')) ]  </code></pre>"
49038637	Function in python from JavaScript	javascript|types|type-conversion|data-conversion	2018-02-28 21:12:03.833000 UTC	"<p>I need help for writing this JavaScript function in Python.</p>  <ul> <li>Write a javascript function that accepts a string as a parameter and converts the first letter of each word of the string in upper case. e.g 'the quick brown fox' </li> </ul>  <p><strong>EXPECTED OUTPUT:</strong> <code>'The Quick Brown Fox'</code></p>  <p>What I wrote so far:</p>  <pre><code>function upperCase (str) {   var array1 = str.split(' ');   var newArray1 = [ ];    for (var x = 0; x &lt; array1.length; x++) {         newArray1.push (array1[x].charAt(0).toUpperCase          ()+array1 [x].slice (1));   }    return newArray1.join (' '); } console.log (uppercase (""the quick brown fox"")); </code></pre>"	
49051124	Python + Google Map JavaScript API: this.D.bind Error adding Marker to Map	python|google-maps|marker	2018-03-01 13:50:11.553000 UTC	"<p>I need some help from you. Executing this code from the Python IDLE console, I have an error: </p>  <p><code>""TypeError: 'undefined' is not a function (evaluating 'this.D.bind(this)')""</code></p>  <p>and the marker is not visible on the map.</p>  <p>I execute the html code in a browser and I don't have error. The map and the marker is perfect.</p>  <p>I found that the error is in the marker.js file: <a href=""http://maps.google.com/maps-api-v3/api/js/32/2/intl/es_419/marker.js"" rel=""nofollow noreferrer"">http://maps.google.com/maps-api-v3/api/js/32/2/intl/es_419/marker.js</a></p>  <pre><code># -*- coding: utf-8 -*- import sys  from PyQt4.QtCore import * from PyQt4.QtGui import * from PyQt4.QtWebKit import * html= \ """""" &lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;title&gt;Simple Map&lt;/title&gt;     &lt;meta name=""viewport"" content=""initial-scale=1.0""&gt;     &lt;meta charset=""utf-8""&gt;     &lt;style&gt;       /* Always set the map height explicitly to define the size of the div        * element that contains the map. */       #map {         height: 100%;       }       /* Optional: Makes the sample page fill the window. */       html, body {         height: 100%;         margin: 0;         padding: 0;       }     &lt;/style&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div id=""map""&gt;&lt;/div&gt;     &lt;script&gt;       var map;       function initMap() {         map = new google.maps.Map(document.getElementById('map'), {           center: {lat: -34.397, lng: 150.644},           zoom: 8         });       }     &lt;/script&gt;     &lt;script src=""https://maps.googleapis.com/maps/api/js?key=AIzaSyDfBy5lpFyQzq7pRpKEBeg7jaXH5hnHul8&amp;callback=initMap""     async defer&gt;&lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; """"""    class Window(QWidget):     def __init__(self):         super(Window, self).__init__()         self.view = QWebView(self)          self.setupInspector()          self.splitter = QSplitter(self)         self.splitter.setOrientation(Qt.Vertical)          layout = QVBoxLayout(self)         layout.setMargin(0)         layout.addWidget(self.splitter)          self.splitter.addWidget(self.view)         self.splitter.addWidget(self.webInspector)      def setupInspector(self):         page = self.view.page()         page.settings().setAttribute(QWebSettings.DeveloperExtrasEnabled, True)         self.webInspector = QWebInspector(self)         self.webInspector.setPage(page)          shortcut = QShortcut(self)         shortcut.setKey(Qt.Key_F12)         shortcut.activated.connect(self.toggleInspector)         self.webInspector.setVisible(False)      def toggleInspector(self):         self.webInspector.setVisible(not self.webInspector.isVisible())  def main():     app = QApplication(sys.argv)     window = Window()     window.show()     window.view.setHtml(html)     app.exec_()  if __name__ == ""__main__"":     main() </code></pre>"	"<p>I understand your application is using a web browser control from the PyQt4. You are experiencing the issue in version 3.32 of Google Maps JavaScript API as suggests the path of marker.js file.</p>  <p>The version 3.32 is currently an experimental version of Maps JavaScript API and it was launched on February 13, 2018. Please note that Google team is actively using new features from EcmaScript 6 in their new versions of API and this might break old browsers or web browser controls that doesn't have full support of EcmaScript 6 features.</p>  <p>You can check the list of supported browsers and embed controls here: </p>  <p><a href=""https://developers.google.com/maps/documentation/javascript/browsersupport"" rel=""nofollow noreferrer"">https://developers.google.com/maps/documentation/javascript/browsersupport</a></p>  <p>Unfortunately, PyQt4 is not in the list, so Google doesn't guarantee the API be functional in this environment.</p>  <p>As a workaround you can try to add v=3 parameter in </p>  <p><code>&lt;script src=""https://maps.googleapis.com/maps/api/js?v=3&amp;key=YOUR_API_KEY&amp;callback=initMap"" async defer&gt;&lt;/script&gt;</code></p>  <p>to load a release version or v=3.30 to load the frozen version, but this might work only 3 or 6 month, because Google launches new versions of API every 3 months as explained in the documentation:</p>  <p><a href=""https://developers.google.com/maps/documentation/javascript/versions"" rel=""nofollow noreferrer"">https://developers.google.com/maps/documentation/javascript/versions</a></p>  <p>You can consider a different web browser embedded control. For example, you can look at Chromium Embedded Framework.</p>  <p><a href=""https://en.wikipedia.org/wiki/Chromium_Embedded_Framework"" rel=""nofollow noreferrer"">https://en.wikipedia.org/wiki/Chromium_Embedded_Framework</a></p>  <p>I believe it should work pretty well. According to the documentation this framework embeds a Chromium browser (open-source web browser closely related to the Google Chrome browser) which supports HTML5, EcmaScript6 and uses V8 JavaScript engine.</p>"
49057247	Python 3.5 - How to do a webscraping of a javascript rendered page	javascript|python|selenium|web-scraping|webdriver	2018-03-01 19:24:39.213000 UTC	"<p>I'm trying to extract a javascript rendered table using python 3 and a webdriver.</p>  <p>My code is the following :</p>  <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By  # Create a new instance of the Firefox driver driver = webdriver.Firefox() driver.get(""http://esploracolfis.sns.it/EsploraCoLFIS/#!0:t=L&amp;l=1;1:r=T"") driver.refresh() # Wait for the dynamically loaded elements to show up WebDriverWait(driver, 10).until(     EC.visibility_of_element_located((By.TAG_NAME, ""table"")))  # And grab the page HTML source html = driver.page_source driver.quit() print(html) </code></pre>  <p>Now,when i print the body the javascript rendered content is not present in my print. How can i extract the table i want (the whole html code of the table) ?</p>  <p>Thank you very much</p>"	"<p>What I did to solve your problem was use the Beautifulsoup library to parse the source code. </p>  <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By  import bs4  # Create a new instance of the Firefox driver driver = webdriver.Firefox() driver.get(""http://esploracolfis.sns.it/EsploraCoLFIS/#!0:t=L&amp;l=1;1:r=T"") driver.refresh() # Wait for the dynamically loaded elements to show up WebDriverWait(driver, 10).until(     EC.visibility_of_element_located((By.TAG_NAME, ""table"")))  # And grab the page HTML source html = driver.page_source  # Turns html into a beautifulsoup object bs4_html = bs4.BeautifulSoup(html, 'lxml')  # Finds the table table = bs4_html.find_all('table')  driver.quit()  print(table) </code></pre>  <p>The console output is a mile long so I can't put it here.</p>  <p>Hope that helps!</p>"
49102952	Django 2 / Python 3.6.3 STATIC_ROOT and javascript on Windows	django|python-3.6	2018-03-05 03:09:32.557000 UTC	"<p>Python: 3.6.3  //  Django: 2.0.2</p>  <p>I am writting a Django app.  I am developing it using PyCharm on Windows.  I am debugging it on Windows.  I am deploying it to a linux box.</p>  <p>the linux side of things just works.  The Windows side seems to forget about STATIC resources.  Sometimes the app will load my project css file, sometimes not.  It almost never loads the project js file.</p>  <p>The Static portion of my settings file looks like:</p>  <pre><code>    STATIC_URL = ""/static/""     STATIC_ROOT = os.path.join(SITE_BASE_DIR, ""public/static/"")     STATICFILES_DIRS = [        # os.path.join(SITE_BASE_DIR, ""public/static""),     ] </code></pre>  <p>This setup works ok on linux but windows gets confused.  </p>  <p>On windows, if I uncomment the STATICFILES_DIRS entry (leaving STATIC_ROOT uncommented) then the css and js resources seems to work.  On linux it complains about duplicate items in STATIC_ROOT and STATICFILES_DIRS.</p>  <p>The static structure looks like</p>  <pre><code>    |-- public     |   |-- favicon.gif     |   |-- favicon.ico     |   `-- static     |       |-- MyApp     |       |   |-- css     |       |   |   `-- index.css     |       |   `-- js     |       |       `-- index.js     |       |-- admin     |       |   |. . .     |       `-- django_extensions     |           |. . . </code></pre>  <p>This must be my fault but I'm not seeing where I am goofing up.</p>"	"<p><strong>Issue #1: <code>STATIC_ROOT</code> vs. <code>STATICFILES_DIRS</code></strong></p>  <hr>  <p><strong><a href=""https://docs.djangoproject.com/en/2.0/ref/settings/#std:setting-STATIC_ROOT"" rel=""nofollow noreferrer""><code>STATIC_ROOT</code></a></strong> is not supposed to be the location of where your static files <strong><em>are</em></strong>. When you run the <strong><code>collectstatic</code></strong> command, it puts all of the static files into the directory specified by <strong><a href=""https://docs.djangoproject.com/en/2.0/ref/settings/#std:setting-STATIC_ROOT"" rel=""nofollow noreferrer""><code>STATIC_ROOT</code></a></strong>.</p>  <p>The documentation has a warning on this is well:</p>  <blockquote>   <p>This should be an initially empty destination directory for collecting your static files from their permanent locations into one directory for ease of deployment; it is not a place to store your static files permanently. You should do that in directories that will be found by staticfiles’s finders, which by default, are 'static/' app sub-directories and any directories you include in <strong><a href=""https://docs.djangoproject.com/en/2.0/ref/settings/#std:setting-STATICFILES_DIRS"" rel=""nofollow noreferrer""><code>STATICFILES_DIRS</code></a></strong>).</p> </blockquote>  <p>If you set the <strong><code>STATIC_ROOT</code></strong> to the same path as one of the locations in the <strong><code>STATICFILES_DIRS</code></strong>, Django will complain to you, because if you actually ran  <strong><code>collectstatic</code></strong>, it would try to overwrite the files. It would basically be like telling Django to copy files from <strong><code>/public/static/</code></strong> to <strong><code>/public/static/</code></strong>, which is why it throws that error.</p>  <p><strong>Issue #2: Serving static files in a development environment</strong></p>  <hr>  <p>In regards to Windows not finding the static files, my assumption is that you are attempting to serve the files in a development environment (e.g. <code>DEBUG = True</code>). I would suggest reading the documentation on <strong><a href=""https://docs.djangoproject.com/en/2.0/howto/static-files/#serving-static-files-during-development"" rel=""nofollow noreferrer"">Serving static files during development</a></strong> section of the documentation to remedy this situation.</p>"
49109399	Scrape Javascript page with Python or other	python|jquery|underscore.js|scrape	2018-03-05 11:26:02.793000 UTC	"<p>I want to scrape the team grids for each game on the following website:</p>  <p><a href=""http://mc.championdata.com/nrl/"" rel=""nofollow noreferrer"">http://mc.championdata.com/nrl/</a></p>  <p>and I believe the code below is for away teams:</p>  <pre><code>&lt;div class=""cd6364_component cd6364_div_away_team_single"" style=""width: 100%; </code></pre>  <p>How can I scrape this site?</p>"	"<p>I'm a beginner but I think I got what you are asking for. You could do it in python using BeautifulSoup and Requests. Something like this:</p>  <pre><code>from bs4 import BeautifulSoup from urllib.request import urlopen  quote_page = ""http://mc.championdata.com/nrl"" page = urlopen(quote_page) soup = BeautifulSoup(page, ""html.parser"")  # Take out the &lt;div&gt; of name and get its value name_box = soup.find("""")   #for example: soup.find(""a"", {""class"": ""price"", ""data-usd"": True})['data-usd']  </code></pre>  <p>I don't understand what you are looking for exactly though.</p>"
49141209	how to subscribe in paho python same like javascript	javascript|python|node.js|mqtt|paho	2018-03-06 22:38:59.047000 UTC	"<p>I have a javascript with mqtt and I wrote a paho python for subscription but I am not getting any result. I want to print received message </p>  <pre><code>var mqtt = require('mqtt'); var client  = mqtt.connect('mqtt://127.0.0.1',{   username: process.env.TOKEN });  client.on('connect', function () {   console.log('connected');   client.subscribe('v1/devices/me/rpc/request/+') });   client.on('message', function (topic, message) {   console.log('request.topic: ' + topic);   console.log('request.body: ' + message.toString());   var requestId = topic.slice('v1/devices/me/rpc/request/'.length);   //client acts as an echo service   client.publish('v1/devices/me/rpc/response/' + requestId, message);  }); </code></pre>  <p>`</p>  <p>Corresponding python for sub not publish But I am not getting any result</p>  <pre><code>def on_connect(client, userdata, flags, rc):   print(""Connected with result code ""+str(rc))   client.subscribe('v1/devices/me/rpc/request/+')  def on_message(client, userdata, msg):    print( msg.payload.decode())   client.disconnect()    client = mqtt.Client()   client.username_pw_set(""5vTGKxGAHzv5TbsW2Jv1"")   client.connect(""127.0.0.1"",1882,60)   client.on_connect = on_connect   client.on_message = on_message   client.loop_forever() </code></pre>  <p>Thank in advance</p>"	<p>The NodeJS app is connecting to 1883 (default port) the Python is connecting to 1882. </p>  <p>Both sets of code subscribe to the same topic (<code>v1/devices/me/rpc/request/+</code>) so the Python code will never see the response.</p>  <p>The indenting on the python code is wrong so the connect and loop forever is part of the <code>on_message</code> callback.</p>
49207457	How to return a javascript output back to a python's http requests using flask	javascript|python|flask|python-requests	2018-03-10 09:25:22.320000 UTC	"<p>I want to create a flask app that processes a video file that the users send through python HTTP request and return the resulting value back. my problem is that I need to use a javascript library and I don't know how to return the javascript results back to the flask app. </p>  <p>I embed the image into template.html which runs my javascript file. The problem is I don't know how to return this variable back to the POST request. Is this even doable? And if not what is the best way to pass javascript result back to flask. </p>  <p>python call</p>  <pre><code>r = requests.post('URLForFlaskServer/processFile', files=files,) </code></pre>  <p>flask app</p>  <pre><code>@app.route('/processFile', methods=['POST']) def process_file():     file = request.files['image_file']     f = os.path.join(app.config['UPLOAD_FOLDER'], ""videoFile.mp4"")     file.save(f)     render_template('template.html', filename=f)     return  #not sure how to return ""result"" from processFunc.js </code></pre>  <p>template.html</p>  <pre><code>&lt;html&gt; &lt;head&gt;   &lt;script type=""text/javascript"" src=""{{ url_for('static', filename='processFunc.js') }}""&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt;   &lt;video id=""video"" style=""display:none""&gt;&lt;source src={{url_for('static', filename='videoFile.mp4')}} type=""video/mp4""&gt;&lt;/video&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>processFunc.js</p>  <pre><code>$(window).load(function(){  (function() {        someProcess = function(vid){...}       result = someProcess(document.getElementById('video'));   })(); }); </code></pre>"	
49215541	FLASK PYTHON - Difficulty with JavaScript/Jinja2	javascript|python|flask|jinja2	2018-03-11 00:49:09.307000 UTC	"<p>I am currently trying to change the action of a form using javascript with Jinja2 from this:</p>  <pre><code> &lt;form method=""post"" id=""mainForm"" onsubmit=""return validateFormMultiple()"" action=""{{ url_for('questionsUserView2', page=page + 1,child_id=child_id, child_name=child_name, totalPage=pagination.get_page_count() + 1) }}"" name=""myForm"" onsubmit="""" onload=""pagination()""&gt; </code></pre>  <p>--To this:---</p>  <pre><code>  var frm = document.getElementById(""mainForm"") if(frm) {     frm.action = ""{{ url_for('questionsUserView2', page=page - 1, child_id=child_id, child_name=child_name, totalPage=pagination.get_page_count() + 1) }}"";   } </code></pre>  <p>However, from my app.py file, this only updates the first variable(page) and returns all other values passed in the new action as ""None."" This doesn't happen if the form action attribute is not changed(all values are not none).</p>  <p>What's the best way to manipulate a jinja value specifically only using Javascript in a HTML view? Is there something wrong with the syntax here? Thank you.</p>"	"<p>Figured it out, just had to add the safe keyword <code>frm.action = ""{{ url_for('questionsUserView2', child_id=child_id,page=page - 1,child_name=child_name,totalPage=pagination.get_page_count() + 1)|safe }}"";</code></p>"
49234171	transfer data from aws python lambda to javascript	javascript|aws-lambda	2018-03-12 11:31:22.400000 UTC	"<p>I have a lambda that returns a list of strings.</p>  <pre><code>referenceWords = ['red','orange','blue','black','white','green'] return json.dumps(referenceWords) </code></pre>  <p>On JS side:</p>  <pre><code>console.log(result); console.log(typeof result);  var r = JSON.parse(result); console.log(typeof r);  for(s in r) {     console.log(typeof(s) + "" :"" + s + "":"");     addCheckbox(s); } </code></pre>  <p>This seems to return:</p>  <pre><code>[""red"",""orange"",""blue"",""black"",""white"",""green""] object string :0: string :1: string :2: string :3: string :4: string :5: </code></pre>  <p>Can somebody help me understand why the for loop is printing integers and not the string values?</p>"	"<p>in Javascript when you use <code>for</code> loop. It's will return <code>key</code> value which is array key and <code>0, 1, 2, 3, 4, 5</code></p>  <p>You could get the <code>value</code> by using <code>r[s]</code></p>"
49239324	JavaScript compare hex string from buffer to Python	javascript|node.js|msgpack	2018-03-12 15:48:25.143000 UTC	<p>I want to print a hex escaped sequence string from a <code>Buffer</code>.</p>  <p>for instance:</p>  <pre><code>buffer = .... // =&gt; &lt;Buffer d3 e9 52 18 4c e7 77 f7 d7&gt; </code></pre>  <p>if I do:</p>  <pre><code>console.log(buffer.toString('hex')); </code></pre>  <p>I get:</p>  <pre><code>d3e952184ce777f7d7 </code></pre>  <p>but I want this representation with the <code>\x</code> representations (I get get from python and need to compare)</p>  <pre><code>\xd3\xe9R\x18L\xe7w\xf7\xd7` // same as &lt;Buffer d3 e9 52 18 4c e7 77 f7 d7&gt; </code></pre>	"<p>You could convert the buffer to array and each item to hex string by the map method. Finally join the array to string with <code>\x</code> (incl. leading '\x')</p>  <p>dirty example</p>  <pre><code>let str = '\\x' +   [0xd3, 0xe9, 0x52, 0x18, 0x4c, 0xe7, 0x77, 0xf7, 0xd7]     .map(item =&gt; item.toString(16))     .join('\\x');  console.log(str); // \xd3\xe9\x52\x18\x4c\xe7\x77\xf7\xd7 </code></pre>  <p>Alternatively you can split your toString('hex') string into two character chunks (array) and join it with <code>\\x</code> (incl. leading <code>\\x</code> as above) Like:</p>  <pre><code>let str = 'd3e952184ce777f7d7'; str = '\\x' + str.match(/.{1,2}/g).join('\\x'); console.log(str); // \xd3\xe9\x52\x18\x4c\xe7\x77\xf7\xd7 </code></pre>"
49239324	JavaScript compare hex string from buffer to Python	javascript|node.js|msgpack	2018-03-12 15:48:25.143000 UTC	<p>I want to print a hex escaped sequence string from a <code>Buffer</code>.</p>  <p>for instance:</p>  <pre><code>buffer = .... // =&gt; &lt;Buffer d3 e9 52 18 4c e7 77 f7 d7&gt; </code></pre>  <p>if I do:</p>  <pre><code>console.log(buffer.toString('hex')); </code></pre>  <p>I get:</p>  <pre><code>d3e952184ce777f7d7 </code></pre>  <p>but I want this representation with the <code>\x</code> representations (I get get from python and need to compare)</p>  <pre><code>\xd3\xe9R\x18L\xe7w\xf7\xd7` // same as &lt;Buffer d3 e9 52 18 4c e7 77 f7 d7&gt; </code></pre>	"<p>This seems to do what you want:</p>  <pre><code>function encodehex (val) {   if ((32 &lt;= val) &amp;&amp; (val &lt;= 126))     return String.fromCharCode(val);   else     return ""\\x""+val.toString(16); }  let buffer = [0xd3, 0xe9, 0x52, 0x18, 0x4c, 0xe7, 0x77, 0xf7, 0xd7]; console.log(buffer.map(encodehex).join('')); </code></pre>  <p>You basically want to differentiate between printable and non-printable ASCII characters in the output.</p>"
49245150	cannot pass javascript data to python	javascript|python|rest	2018-03-12 22:05:37.517000 UTC	"<p>I am trying to pass data from javascript to my python API</p>  <pre><code>$.ajax({              type: 'POST',              url: ""http://localhost:5000/handle_data"",//url of receiver file on server              data: my_Data, //your data              success: function (response) {                  console.log(response);              }, //callback when ajax request finishes              dataType: 'text/json' //text/json...          }); </code></pre>  <p><code>my_Data</code> is a javascript variable </p>  <p>and on the server side</p>  <pre><code>@app.route('/handle_data', methods=['GET','POST'])  def handle_data():    print(""Got data"")    data=request.form['my_Data'] // What should be here </code></pre>  <p>I  am getting debugger over here But I am not able to read the contents. The error is 400 Bad request</p>"	"<p><strong>Pass that data into the Ajax as follow:</strong></p>  <pre><code>data: { ""my_Data"": my_Data } </code></pre>  <p>And this way, you will be able to get the param as follow:</p>  <pre><code>data = request.form['my_Data'] </code></pre>  <p><a href=""http://api.jquery.com/jquery.ajax/"" rel=""nofollow noreferrer""><code>$.ajax()</code></a></p>"
49245150	cannot pass javascript data to python	javascript|python|rest	2018-03-12 22:05:37.517000 UTC	"<p>I am trying to pass data from javascript to my python API</p>  <pre><code>$.ajax({              type: 'POST',              url: ""http://localhost:5000/handle_data"",//url of receiver file on server              data: my_Data, //your data              success: function (response) {                  console.log(response);              }, //callback when ajax request finishes              dataType: 'text/json' //text/json...          }); </code></pre>  <p><code>my_Data</code> is a javascript variable </p>  <p>and on the server side</p>  <pre><code>@app.route('/handle_data', methods=['GET','POST'])  def handle_data():    print(""Got data"")    data=request.form['my_Data'] // What should be here </code></pre>  <p>I  am getting debugger over here But I am not able to read the contents. The error is 400 Bad request</p>"	"<p>If you are making an AJAX request with data type of application/json, you should handle it using request.json instead of request.form </p>  <p>This should work:</p>  <pre><code>@app.route('/handle_data', methods=['GET','POST'])  def handle_data():    print(""Got data"")    data=request.json # This should be here    print(data['my_DATA'])    return ""success"" </code></pre>  <p>Here is the corresponding AJAX call:</p>  <pre><code>        $.ajax({         type:""POST"",         url:""/handle_data"",         data:JSON.stringify('my_DATA',null,'\t'),         contentType:""application/json;charset=UTF-8"",         success: function(result){            console.log(result); //Should output success         }}); </code></pre>"
49266786	Error when using JSON to send Javascript object to Python Flask	javascript|python|json|ajax|flask	2018-03-13 22:23:31.217000 UTC	"<p>I am using ajax to POST a JSON string to Python Flask but get the following error: </p>  <p><a href=""https://i.stack.imgur.com/Dl4yE.png"" rel=""nofollow noreferrer"">Error</a></p>  <p>This is my JavaScript:</p>  <pre><code>$.ajax({ type: 'POST', url: window.location.href, data: JSON.stringify(questionObj0), dataType: 'json', contentType: 'application/json; charset=utf-8' }).done(function(msg) {   console.log(msg); }); </code></pre>  <p>And this is my Python:</p>  <pre><code>@app.route('/test', methods=['GET', 'POST']) def test():     question = request.get_json()     question1 = json.loads(question)     print (question)     return render_template('test.html') </code></pre>  <p>Using print(question) yields the following output (same output when tested in JavaScript using browsers console):</p>  <pre><code>{'questionNumber': 1, 'question': 'Convert 10110001 to decimal', 'answer': 177, 'userAnswer': 'blank'} </code></pre>  <p>From what I understand, the output should be a string and therefore padded with quotation marks.</p>  <p>Has anyone come across anything similar/know how to fix the issue?</p>"	"<p>Flask's <code>request.get_json()</code> returns a <code>dict</code> object from the JSON data supplied in the request, so you don't need to call <code>json.loads</code> on it again.</p>  <p><strong>app.py</strong></p>  <pre><code>@app.route('/', methods=['GET'])                                                 def index():                                                                         return render_template('index.html')                                           @app.route('/test', methods=['POST'])                                            def test():                                                                          question = request.get_json()                                                    print(question['question'])                                                      return '' </code></pre>  <p><strong>templates/index.html</strong></p>  <pre><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;&lt;/script&gt;  &lt;script&gt;  var questionObj0 = {'questionNumber': 1, 'question': 'Convert 10110001 to decimal', 'answer': 177, 'userAnswer': 'blank'};  console.log(JSON.stringify(questionObj0));  $.ajax({     type: 'POST',     url: '{{ url_for('test') }}',     data: JSON.stringify(questionObj0),     dataType: 'json',     contentType: 'application/json; charset=utf-8' }).done(function(msg) {     console.log(msg); });  &lt;/script&gt; </code></pre>"
49286760	How to scrape Dynamic JavaScript based website using Python REQUESTS and BeautifulSoup?	python|selenium|web-scraping|beautifulsoup|python-requests	2018-03-14 20:04:05.620000 UTC	"<p>I am Scraping <a href=""https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all"" rel=""nofollow noreferrer"">https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all</a> to collect college informations.</p>  <p>On the webpage below each College only one Course Name is given and rest of courses are scripted in JavaScript. For eg. +13 More Courses+</p>  <p>So I don't get their info when I use <code>requests.get(url)</code> .</p>  <p>How I can scrape such details using REQUESTS and BeautifulSoup? I use Anaconda Jupyter Notebook as IDE.</p>  <p>I have heard about Selenium but don't know about it. Since Selenium is bit heavy is there any possible lite alternative to load all the JavaScript contents at once.</p>  <p>I have also heard about Splash framework. If anyone knows about it and how to integrate it with Python Requests and BeautifulSoup please answer. </p>  <p>Things I have tried</p>  <p><strong>1.PyQt</strong></p>  <p>Reference: <a href=""https://www.youtube.com/watch?v=FSH77vnOGqU"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=FSH77vnOGqU</a></p>  <p>I have imported different libraries than in video depending on PyQt version in anaconda.</p>  <pre><code>import sys from PyQt5.QtWidgets import QApplication from PyQt5.QtCore import QUrl from PyQt5.QtWebKitWidgets import QWebPage import requests from bs4 import BeautifulSoup  class Client(QWebPage):     def __init__(self, url):         self.app = QApplication(sys.argv)         QWebPage.__init__(self)         self.loadFinished.connect(self.on_page_load)         self.mainFrame().load(QUrl(url))         self.app.exec_()     def on_page_load(self):         self.app.quit()  url=""https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all"" client_response=Client(url) src=client_response.mainFrame().toHtml() soup = BeautifulSoup(src,""lxml"") tpm = soup.find_all(""section"",{""class"":""tpl-curse-dtls more_46905_0""}) print(tpm) </code></pre>  <p>Output: []</p>  <p><strong>2. json() in Requests Module</strong></p>  <pre><code>import requests from bs4 import BeautifulSoup  url=""https://www.shiksha.com/b-tech/colleges/b-tech-colleges-mumbai-all""  r=requests.get(url)  a=r.json() </code></pre>  <p>OUTPUT: JSONDecodeError: Expecting value: line 3 column 1 (char 3)</p>  <p><strong>3. json.loads() from json module</strong></p>  <p><a href=""https://i.stack.imgur.com/XGEQY.png"" rel=""nofollow noreferrer"">Inspection Details on clicking</a></p>  <pre><code>import json  j_url='https://www.shiksha.com//nationalCategoryList/NationalCategoryList/loadMoreCourses/'  def j_data(url=j_url):      dt = tp[0].find_all(""input"",{""id"":""remainingCourseIds_46905""})      output = dt[0]['value']      data = {         'courseIds': '231298,231294,231304,231306',         'loadedCourseCount': 0         #'page':page         }     response = requests.post(url, data=data)     return json.loads(r.content) print(j_data()) </code></pre>  <p>OUTPUT: JSONDecodeError: Expecting value: line 3 column 1 (char 3)</p>  <p>DRYSCRAPE is not available for Windows</p>"	"<p>You don't need to know what its Javascript does. Just click the link and use your browser inspector to observe the network request.</p>  <p>In your specific case, the Javascript sends a POST request to ""/nationalCategoryList/NationalCategoryList/loadMoreCourses/"". So you can send the same request and you'll get back a new HTML string. You can parse that string using BeautifulSoup and get the data you need.</p>  <p>There is an extra step above because the POST request needs a payload that specifies parameters. You should be able to find these parameters in the original page. Once you find them, you can look at their surrounding HTML elements and either use BeautifulSoup to extract them, or use regular expression to find them.</p>  <p>I hope it helps.</p>"
49294809	"Responsive navbar using Python (Django), HTML, CSS, Javascript"	javascript|python|html|css|django	2018-03-15 08:42:58.480000 UTC	"<p>I am following <a href=""https://www.w3schools.com/howto/howto_js_topnav_responsive.asp"" rel=""nofollow noreferrer"">this</a> guideline to create a responsive navbar that, according to the dimension of the screen, will show its elements in a dropdown list (instead of an inline, used for bigger screens).</p>  <p>Below the relevant part of the HTML (replaced some useless parts with ""..."" to improve and speed-up readability)</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=""en""&gt; &lt;head&gt; ... &lt;link rel=""stylesheet"" href=""{% static 'css/styles.css' %}""&gt; &lt;link rel=""javascript"" href=""{% static 'javascript/responsive.js' %}""&gt; &lt;/head&gt;  &lt;body&gt;   {% block sidebar %}&lt;!-- insert default navigation text for every page --&gt;{% endblock %}   {% block content %}&lt;!-- default content text (typically empty) --&gt;   &lt;!-- Main Logo --&gt;   &lt;div class=""main-image"" id=""myMainImage""&gt;     &lt;img src=""{{STATIC_URL}}/static/images/logo.png""/&gt;   &lt;/div&gt;   &lt;!-- Navigation Bar --&gt;   &lt;div class=""topnav"" id=""myTopnav""&gt;     &lt;a href &lt;a href=""#home"" class=""active""&gt;Home&lt;/a&gt;     &lt;a href=""http://www...&lt;/a&gt;&lt;/li&gt;     &lt;a href=""http://www.../""&gt;Storia di Gabriella&lt;/a&gt;&lt;/li&gt;     &lt;a href=""http://www...""&gt;Video Gallery&lt;/a&gt;&lt;/li&gt;     &lt;a href=""http://www...""&gt;Photo Gallery&lt;/a&gt;&lt;/li&gt;     &lt;a href=""http://www.../""&gt;Dicono di Noi&lt;/a&gt;&lt;/li&gt;     &lt;a href=""http://www...""&gt;Come Contattarci&lt;/a&gt;&lt;/li&gt;     &lt;input type=""text"" placeholder=""Ricerca..""&gt;     &lt;a href=""javascript:void(0);"" class=""icon"" onclick=""respScreen()""&gt;&amp;#9776;&lt;/a&gt;   &lt;/div&gt; </code></pre>  <p>in the <code>static</code> folder (<code>mysite/articles/static</code>) I have created a javascript folder with a <code>responsive.js</code> file inside it</p>  <pre><code>/* Toggle between adding and removing the ""responsive"" class to topnav when the user clicks on the icon */ function respScreen() {     var x = document.getElementById(""myTopnav"");     if (x.className === ""topnav"") {         x.className += "" responsive"";     } else {         x.className = ""topnav"";     } } </code></pre>  <p>and, finally, I have filled up the <code>styles.css</code> (in <code>mysite/articles/static/css</code>), below the relevant part</p>  <pre><code>/* When the screen is less than 600 pixels wide, hide all links, except for the first one (""Home""). Show the link that contains should open and close the topnav (.icon) */ @media screen and (max-width: 600px) {   .topnav a:not(:first-child) {display: none;}   .topnav a.icon {     float: right;     display: block;   } }  /* The ""responsive"" class is added to the topnav with JavaScript when the user clicks on the icon. This class makes the topnav look good on small screens (display the links vertically instead of horizontally) */ @media screen and (max-width: 600px) {   .topnav.responsive {position: relative;}   .topnav.responsive a.icon {     position: absolute;     right: 0;     top: 0;   }   .topnav.responsive a {     float: none;     display: block;     text-align: left;   } } </code></pre>  <p>I cannot understand why, despite following exactly the guide linked, when I zoom in the page the navbar does not compact itself (instead, its elements tends to overlap each other).</p>  <p><strong>EDIT1</strong>: I tried to copy the code from the tutorial <a href=""https://www.w3schools.com/howto/howto_js_topnav_responsive.asp"" rel=""nofollow noreferrer"">here</a> in Pycharm and run it in my local Django server and it does not work. It seems to be an issue of configuration.  Below the static path from the <code>settings.py</code> STATIC_URL = '/static/'</p>  <p>If I can provide you with more information, please ask. </p>  <p><strong>EDIT2</strong>: Console log below (CTRL + SHIFT + J in Firefox):</p>  <pre><code>unreachable code after return statement  aU73Q4U9JMQ.js:1028:375 The character encoding of a framed document was not declared. The document may appear different if viewed without the document framing it.  hscv The character encoding of a framed document was not declared. The document may appear different if viewed without the document framing it.  hscv Attempt to set a forbidden header was denied: Connection  1588510866-lcs_client_bin.js:99:385 Attempt to set a forbidden header was denied: Connection  1588510866-lcs_client_bin.js:99:385 </code></pre>  <p><strong>EDIT3</strong>: If you want to see the full project to review the other Django files, it is stored in <a href=""https://github.com/marcogdepinto/DjangoWeb"" rel=""nofollow noreferrer"">this</a> Github repository.</p>"	"<p>Resolved inserting a script tag in the html with the javascript function as follow</p>  <pre><code>  &lt;script&gt;   function respScreen() {       var x = document.getElementById(""myTopnav"");       if (x.className === ""topnav"") {           x.className += "" responsive"";       } else {           x.className = ""topnav"";       }   }   &lt;/script&gt;  </code></pre>"
49315139	How to achieve DOM manipulation in languages other than javascript ex:python	javascript|python|dom	2018-03-16 07:20:24.223000 UTC	"<pre><code>InputTags = document.getElementsByTagName(""input"")  for (inputTag in InputTags) {   if (inputTag.name == 'username') inputTag.value = ""abc""   else if (inputTag.name == 'password') {     inputTag.value = ""abc@123""   } } </code></pre>  <p>In the above segment, DOM elements are manipulated by Javascript method ""getElementsByTagName"".Similarly how do I acheive this in languages like python?</p>"	"<p>Most languages have some kind of library for this. Java has jsoup: <a href=""https://jsoup.org"" rel=""nofollow noreferrer"">https://jsoup.org</a></p>  <p>Python does come with a built in html parser though you might want to search online for a better library. </p>"
49315139	How to achieve DOM manipulation in languages other than javascript ex:python	javascript|python|dom	2018-03-16 07:20:24.223000 UTC	"<pre><code>InputTags = document.getElementsByTagName(""input"")  for (inputTag in InputTags) {   if (inputTag.name == 'username') inputTag.value = ""abc""   else if (inputTag.name == 'password') {     inputTag.value = ""abc@123""   } } </code></pre>  <p>In the above segment, DOM elements are manipulated by Javascript method ""getElementsByTagName"".Similarly how do I acheive this in languages like python?</p>"	"<p>There's python standart <a href=""https://docs.python.org/2/library/xml.html"" rel=""nofollow noreferrer"">XML DOM processors</a> and there's <a href=""https://www.crummy.com/software/BeautifulSoup/bs4/doc/"" rel=""nofollow noreferrer"">BeautifulSoup</a> library. Both able to manipulate DOM tree similar to JS.</p>"
49361260	Is there anything in Javascript similar to arithmetic operator methods in Python	javascript|methods|operator-keyword	2018-03-19 10:55:43.327000 UTC	"<p>In python:</p>  <pre><code>a + b </code></pre>  <p>means</p>  <pre><code>a.__add__(b) </code></pre>  <p>which means there are operator methods which actually execute the operations on behalf of the operator sign.</p>  <p>Is there anything similar in Javascript? or any info about the mechanics of an aritmetic operation? I am not looking for solutions using functions like:</p>  <pre><code>function add(a, b) {...} </code></pre>  <p>I think it has to do with the properties of the numbers and corresponding variables.</p>"	"<p>There's this babel transform which might be useful for you.</p>  <p><a href=""https://www.npmjs.com/package/babel-plugin-operator-overload"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/babel-plugin-operator-overload</a></p>  <p>It's not very popular or very used, I personally would avoid it.</p>  <p>Apart from that, no, that doesn't happen in JS. You just use the methods on the objects.</p>"
49366610	Can MechanicalSoup (python 3x) deal with javascript in a website?	javascript|python-3.x|mechanicalsoup	2018-03-19 15:27:24.920000 UTC	"<p>I could successfully login and navigate through a website but when I inspected the logout button it is like <code>javascript:__doPostBack('ctl00$lnkBtnLogout','')</code> as link, <code>follow_link()</code> doesn't work on this (saying: no adapters)??? Can someone help me?</p>"	"<p>From <a href=""https://github.com/MechanicalSoup/MechanicalSoup"" rel=""noreferrer"">https://github.com/MechanicalSoup/MechanicalSoup</a>:</p>  <blockquote>   <p>A Python library for automating interaction with websites. MechanicalSoup automatically stores and sends cookies, follows redirects, and can follow links and submit forms. <strong>It doesn't do JavaScript.</strong></p> </blockquote>  <p>This gives you two options.</p>  <h1>Do the JavaScript yourself</h1>  <p>Read the JavaScript. Reverse engineer it. Reimplement it in Python. Figure out what data in the page is dynamic and needed for the algorithm. Extract that using MechanicalSoup and insert it into your reimplementation. </p>  <h1>Don't use MechanicalSoup</h1>  <p>Use something which does support JavaScript (such as Selenium or PhantomJS) instead.</p>"
49406959	"Inside a docker, run both javascript and python"	python|node.js|docker	2018-03-21 12:57:34.767000 UTC	"<p>While building a nodejs server I noticed several things were ""easier to do in python"". So I just created a python script for said processes.</p>  <p>These processes are spawned by nodejs through:</p>  <pre><code>const { spawn } = require('child_process'); const args = [   'BackgroundServer/main.py',   _worker.poller_db.id,   '--log-file=~/var/www/log/background.log' ]; if (maxRuns !== undefined) {   args.push(`--max-num=${maxRuns}`); } const pythonProcess = spawn('BackgroundServer/venv/bin/python', args); </code></pre>  <p>This works perfectly fine in my develop system; the python process starts, runs and works neatly. </p>  <p>Moving to a docker however poses a serious problem, obviously the venv is added to the <code>.dockerignore</code> (like it is to <code>.gitignore</code>).</p>  <p>The solution is to ""build"" the virtual environment on the spot. I've tried doing that, the <code>Dockerfile</code>:</p>  <pre><code>FROM node:carbon WORKDIR ~/dockerapp COPY package*.json ./ RUN npm install &amp;&amp; \ virtualenv -p python3 BackgroundServer/venv &amp;&amp; \ source BackgroundServer/venv/bin/activate &amp;&amp; \ pip install -r BackgroundServer/requirements.txt COPY . . EXPOSE 1337 CMD [ ""npm"", ""start"" ] </code></pre>  <p>This however fails on ""virtualenv"" not found command. - how would I make the virtualenv available to the ""temporary"" runner?</p>  <p>The other solution, to build virtual environment before building the docker and then <em>not</em> ignoring the virtual environment manages to ""run"". However it fails by stating that it can't find several core python packages failing to start python with:</p>  <pre><code>Could not find platform independent libraries &lt;prefix&gt;  Could not find platform dependent libraries &lt;exec_prefix&gt; Consider setting $PYTHONHOME to &lt;prefix&gt;[:&lt;exec_prefix&gt;]  Fatal Python error: Py_Initialize: Unable to get the locale encoding ImportError: No module named 'encodings' </code></pre>  <p>So.. how to combine both, how to make a nodejs container that ""sees"" python home install and python path.</p>"	"<p>In your <code>Dockerfile</code> you are pulling from a specific base image: </p>  <p><code>FROM node:carbon</code></p>  <p>The system will only contain components that are already inside the <code>node:carbon</code> image. If you want to add some additional resources (such as virtualenv), you can install these within your <code>Dockerfile</code> using the standard commands you would use on a regular system.</p>  <p>Since you're using a specific node image to base your image from, you might be missing some basic dependencies - these will have to also be installed within your docker container.</p>"
49416790	PyQt QtWebChannel: calling Python function from JavaScript	python|pyqt|pyqt5|qwebengineview|qtwebchannel	2018-03-21 21:26:03.400000 UTC	"<p>I am trying, using Qt classes <code>QWebEngineView</code>, and <code>QWebChannel</code> to make a simple connection between HTML page and Python script. The goal is simply to execute <code>foo()</code> when the header <code>&lt;h2&gt;</code> is clicked. </p>  <pre><code>import sys from PyQt5.QtCore import pyqtSlot from PyQt5.QtWidgets import QApplication from PyQt5.QtWebChannel import QWebChannel from PyQt5.QtWebEngineWidgets import QWebEngineView, QWebEnginePage  html = ''' &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt;     &lt;meta charset=""utf-8""/&gt;             &lt;script src=""qrc:///qtwebchannel/qwebchannel.js""&gt;&lt;/script&gt;     &lt;script&gt;     var backend;     new QWebChannel(qt.webChannelTransport, function (channel) {         backend = channel.objects.backend;     });      document.getElementById(""header"").addEventListener(""click"", function(){         backend.foo();     });     &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h2 id=""header""&gt;Header.&lt;/h2&gt; &lt;/body&gt; &lt;/html&gt; '''  class HelloWorldHtmlApp(QWebEngineView):      def __init__(self):         super().__init__()          # setup a page with my html         my_page = QWebEnginePage(self)         my_page.setHtml(html)         self.setPage(my_page)          # setup channel         self.channel = QWebChannel()         self.channel.registerObject('backend', self)         self.page().setWebChannel(self.channel)         self.show()      @pyqtSlot()     def foo(self):         print('bar')   if __name__ == ""__main__"":     app = QApplication.instance() or QApplication(sys.argv)     view = HelloWorldHtmlApp()     view.show()     app.exec_() </code></pre>  <p>The problem seems to be that the variable <code>backend</code> is not <em>visible</em> outside of the <code>QWebChannel</code> constructor. I tried to make <code>backend</code> an attribute of <code>widnow</code> to make it <em>global</em> but it did not work.</p>"	"<p>The problem is not the visibility but the connection with the click event, the upload of the file is from top to bottom so you are trying to connect the header when it does not yet exist, the solution is to rewrite the HTML:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;meta charset=""utf-8""/&gt;                 &lt;script src=""qrc:///qtwebchannel/qwebchannel.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt; &lt;h2 id=""header""&gt;Header.&lt;/h2&gt; &lt;/body&gt;     &lt;script&gt;         var backend;         new QWebChannel(qt.webChannelTransport, function (channel) {             backend = channel.objects.backend;         });          document.getElementById(""header"").addEventListener(""click"", function(){             backend.foo();         });     &lt;/script&gt; &lt;/html&gt; </code></pre>"
49421970	Convert Python request to Javascript XMLHttpRequest with Images	javascript|python|xmlhttprequest	2018-03-22 06:30:19.203000 UTC	"<p>I've got a Python code that's POSTing well into an API endpoint:</p>  <pre><code>msg = {} msg['id'] = 1  d = {} d['message'] = msg  f = {} f['image'] = ""&lt;binary image data&gt;"" f['thumb'] = ""&lt;binary image data&gt;""  r = requests.post('/api/url', data=d, files=f) </code></pre>  <p>However, when I convert it to Javascript <code>XMLHttpRequest</code> it doesn't work well.</p>  <p>Here's my code:</p>  <pre><code>var msg = {    ""id"": 1 };  var d = {    ""message"": msg }  var formData = new FormData(); formData.append(""message"", JSON.stringify(d)); formData.append(""image"", ""&lt;binary image data&gt;""); formData.append(""thumb"", ""&lt;binary image data&gt;"");  var xhr = new XMLHttpRequest(); xhr.open(""POST"", ""/api/url"", true); xhr.send(formData); </code></pre>  <p><strong>Output</strong></p>  <p>XHR is successful, status code is 200 but <code>id</code> is wrong and <code>image</code> is empty.</p>  <p>Any ideas?</p>"	"<p>I got it working by converting the binary data to <code>Uint8Array</code> and then using a <code>Blob</code></p>  <pre><code>var msg = {    ""id"": 1 };  var formData = new FormData(); var imgUint8Array = new Uint8Array(""&lt;binary image data&gt;""); var thumbUint8Array = new Uint8Array(""&lt;binary image data&gt;"");  formData.append(""message"", JSON.stringify(msg)); formData.append(""image"", new Blob([ imgUint8Array ], {type: ""image/jpg""})); formData.append(""thumb"", new Blob([ thumbUint8Array ], {type: ""image/jpg""}));  // ... XHR POST functions </code></pre>"
49438070	Rendering HTML/Javascript in IPython/Jupyter Notebook from a thread	python|multithreading|ipython|jupyter-notebook	2018-03-22 20:41:00.030000 UTC	"<p>I want to use IPython notebook's <code>IPython.display.display</code> from within a thread, as such:</p>  <pre class=""lang-py prettyprint-override""><code>def foo():     display(HTML('&lt;div id=""foobar""&gt;foobarbaz&lt;/div&gt;')) threading.Thread(target=foo).start() </code></pre>  <p>IPython notebook spits out the following error:</p>  <pre><code>Exception in thread Thread-17: Traceback (most recent call last):   File ""/usr/lib/python3.5/threading.py"", line 914, in _bootstrap_inner     self.run()   File ""/usr/lib/python3.5/threading.py"", line 862, in run     self._target(*self._args, **self._kwargs)   File ""&lt;ipython-input-47-921e56bac735&gt;"", line 2, in foo     display(HTML('&lt;div id=""foobar""&gt;foobarbaz&lt;/div&gt;'))   File ""/usr/local/lib/python3.5/dist-packages/IPython/core/display.py"", line 171, in display     publish_display_data(data=format_dict, metadata=md_dict)   File ""/usr/local/lib/python3.5/dist-packages/IPython/core/display.py"", line 121, in publish_display_data     metadata=metadata,   File ""/usr/local/lib/python3.5/dist-packages/ipykernel/zmqshell.py"", line 111, in publish     for hook in self.thread_local.hooks: AttributeError: '_thread._local' object has no attribute 'hooks' </code></pre>  <p>I figure IPython's display is not thread safe? Is there a way to get it to point to the main thread instead of the local thread? Or perhaps a way to get the <code>IPython.display.DisplayHandle</code>? Maybe the thing to do is to have a loop around a <code>queue.Queue</code> on the main thread and display objects as they get added into that queue?</p>  <p>Thank you!</p>"	"<p>You can use an Output widget to display your HTML. This worked for me:</p>  <pre><code>import ipywidgets as widgets from IPython.display import display, HTML import threading  out = widgets.Output()  def foo():     with out:         display(HTML('&lt;div id=""foobar""&gt;foobarbaz&lt;/div&gt;'))  threading.Thread(target=foo).start()  out </code></pre>"
49439279	Sending base64 image to Python from JavaScript	javascript|json|python-2.7|base64|tornado	2018-03-22 22:10:42.727000 UTC	"<p>I am working on processing frames of JavaScript based racing game on Python. I am using Tornado Web Server on Python. The game has 480x360 resolution. I get image from canvas in each frame and I rescale it before sending web server.</p>  <p>But in Python, I am not be able to decode image. Here, my code is</p>  <p>In JavaScript:</p>  <pre><code>function encode() {   var imageData = ctx.getImageData(0, 0, 360, 480);   var downsized = """";   for (var i = 0; i &lt; imageData.data.length; i++) {     var d = imageData.data[i];     downsized += String.fromCharCode(d);   }   return downsized; }  function processFrame(foobaz) {   downsizeImage.src = canvas.toDataURL()   downsizeCtx.drawImage(downsizeImage, 0, 0, 84, 84)   var imageData = downsizeCtx.getImageData(0, 0, 84, 84);   var counter = 0;   var downsized = """" for (var i = 0; i &lt; imageData.data.length; i++) {     var d = imageData.data[i];     if (i % 4 == 3){       continue;     }     else{       downsized += String.fromCharCode(Math.round(d));     }   } return btoa(downsized); } </code></pre>  <p>Then, I send rescaled image to Python </p>  <pre><code>$.ajax({       type: 'POST',       url: '/frame?telemetry=' + JSON.stringify({         all_data: [all_data],         terminal: true,         was_start: WAS_START,         action: [keyLeft, keyRight, keyFaster, keySlower]       }),       data: processFrame(),       contentType: ""application/json""   }).done(function(data) {     location.reload();   }); </code></pre>  <p>In Python:</p>  <pre><code>class FrameHandler(tornado.web.RequestHandler):     def post(self):         global speed_data, start, position_data         fulldata = self.request.body         ar = np.fromstring(base64.decodestring(self.request.body), dtype=np.uint8)         img = ar.reshape(84, 84, 3) </code></pre>  <p>In debugging mode, fulldata variable has value like ""AAAAAAAAAAAAAAAAAA..."" and decoded array ""ar"" only 0 values in it.</p>  <p>Where am I missing?</p>"	"<p>I made some changes in my code. Here, I am not downsizing image anymore. That solved the problem. Here is the solution.</p>  <pre><code>  var imageData = ctx.getImageData(85, 10, 300, 300);   var downsized = """";      for (var i = 0; i &lt; imageData.data.length; i++) {         var d = imageData.data[i];         if (i % 4 == 3){           continue;         }         else{           downsized += String.fromCharCode(Math.round(d));     }   }     return btoa(downsized); } </code></pre>"
49465523	Injecting python/flask variable into HTML table cell using javascript	javascript|python|html|flask	2018-03-24 13:58:33.887000 UTC	"<p>I have a javascript function which will add a new row to an HTML table, and this works great. Except the value of the cells needs to be python/flask variables like {{variable1}}. But when I am telling the textNode of the row cell to be {{variable1}}, it prints that out literally rather than using the variable.</p>  <p>How can I get Javascript to put a python/flask variable into a cell which it is creating?</p>  <p>HTML Code</p>  <pre><code>&lt;table id=""tbl1"" class=""services-impacted""&gt;                     &lt;tr&gt;                         &lt;th&gt;{{form.ciItem1.label}}&lt;/th&gt;                         &lt;th&gt;{{form.lvlImpact1.label}}&lt;/th&gt;                         &lt;th&gt;{{form.frmDte1.label}}&lt;/th&gt;                         &lt;th&gt;{{form.frmHr1.label}}&lt;/th&gt;                         &lt;th&gt;{{form.toDte1.label}}&lt;/th&gt;                         &lt;th&gt;{{form.toHr1.label}}&lt;/th&gt;                     &lt;/tr&gt;                     &lt;tr&gt;                         &lt;td&gt;{{form.ciItem1}}&lt;/td&gt;                         &lt;td&gt;{{form.lvlImpact1}}&lt;/td&gt;                         &lt;td&gt;{{form.frmDte1}}&lt;/td&gt;                         &lt;td&gt;{{form.frmHr1}} {{form.frmMin1}}&lt;/td&gt;                         &lt;td&gt;{{form.toDte1}}&lt;/td&gt;                         &lt;td&gt;{{form.toHr1}} {{form.toMin1}}&lt;/td&gt;                         &lt;td onclick=""deleteRow(this, 'tbl1')""&gt;Delete&lt;/td&gt;                     &lt;/tr&gt;                 &lt;/table&gt;                 &lt;p onclick=""addServiceImpactRow('tbl1')""&gt;Add Service&lt;/p&gt; </code></pre>  <p>JavaScript</p>  <pre><code>function addServiceImpactRow(tbl) {  var table = document.getElementById(tbl); var tr = document.createElement(""tr"");  var td1 = document.createElement(""td""); var text1 = document.createTextNode('{{form.ciItem1}}'); var td2 = document.createElement(""td""); var text2 = document.createTextNode(""{{form.lvlImpact1.label}}"") var td3 = document.createElement(""td""); var text3 = document.createTextNode(""{{form.frmDte1}}"") var td4 = document.createElement(""td""); var text4 = document.createTextNode(""{{form.frmHr1}} {{form.frmMin1}}"") var td5 = document.createElement(""td""); var text5 = document.createTextNode(""{{form.toDte1}}"") var td6 = document.createElement(""td""); var text6 = document.createTextNode(""{{form.toHr1}} {{form.toMin1}}"") var td7 = document.createElement(""td""); var text7 = document.createTextNode(""Delete"");  td1.appendChild(text1); td2.appendChild(text2); td3.appendChild(text3); td4.appendChild(text4); td5.appendChild(text5); td6.appendChild(text6); td7.appendChild(text7);  tr.appendChild(td1); tr.appendChild(td2); tr.appendChild(td3); tr.appendChild(td4); tr.appendChild(td5); tr.appendChild(td6); tr.appendChild(td7);  table.appendChild(tr);} </code></pre>  <p>How it looks was rendered <a href=""https://i.stack.imgur.com/npQFq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/npQFq.png"" alt=""enter image description here""></a></p>  <p>The pink row is what was added by the javascript, and as you can see it rendered the python/flask variables as literal text.</p>  <p>Any ideas?</p>"	"<p>Your separate Javascript file is sent to the web-browser, which is not aware that the chunk of code should be evaluated in Python, nor has a Python engine running inside a Javascript code, nor your server-side project, so at that point your Python code is not executable.</p>  <p>You will need to add this into your HTML:</p>  <pre><code>&lt;script type=""text/javascript""&gt;     var myInput = {                       ciItem: ""{{form.ciItem1}}"",                        label: ""{{form.lvlImpact1.label}}"",                       //other elements                   }; &lt;/script&gt; </code></pre>  <p>and then use <code>myInput</code>'s members inside your <code>addServiceImpactRow</code> <code>function</code>.</p>"
49467112	How to handle difference in the naming convention of request body JSON fields produced in javascript and consumed in python DRF?	python|angularjs|rest|django-rest-framework|naming-conventions	2018-03-24 16:28:52.713000 UTC	"<p>I am creating Rest APIs in Python DRF and consuming it in angularJS in the browser. The problem I am facing is wrt, differences in variable name naming conventions in javascript and python.</p>  <p>Javascript uses camel notation to name variable names, while python uses underscore notation.</p>  <p>So, when I send request through angularjs, the sample request JSON body is of following format :-</p>  <pre><code>user_dtls = {""firstName"": ""Mangu Singh"", ""lastName"": ""Rajpurohit""} </code></pre>  <p>but in python, they are represented as <code>first_name</code> and <code>last_name</code>. I am using <code>ModelSerializer</code>, while automatically reads the request and populates model fields, based on field_name.</p>  <p>But, since the names of fields in request body(send through javascript) and serializer is different, I have to write lot of boilerplate code to do this conversion. </p>  <p>Do DRF provides any mechanism to handle this situation ? What would be the most pythonic way to deal with such situation.</p>  <p>Thanks in advance.</p>"	"<p>There is a <code>source</code> option in the serializer. Using that you can rename model serializer fields by overriding them. For example</p>  <pre><code>class UserSerializer(serializer.ModelsSerializer):     firstName = serializer.CharField(source=""first_name"", max_length=100)     lastName = serializer.CharField(source=""last_name"", max_length=100)      class Meta:         model = User         fields = ('firstName', 'lastName') </code></pre>"
49518106	Adding onclick javascript function to template blocks Python Flask routing	javascript|html|forms	2018-03-27 16:31:14.690000 UTC	"<p>I have an HTML form and a submit button attached to a JavaScript function that greys out the button on click.</p>  <pre><code>&lt;form action=""/feedback"" method=""POST""&gt; &lt;fieldset class=""rating""&gt;     &lt;input type=""radio"" id=""star5"" name=""rating"" value=""5"" /&gt;&lt;label class = ""full"" for=""star5"" title=""Awesome - 5 stars""&gt;&lt;/label&gt;     &lt;!-- there are more fields but I omit them for brevity --&gt; &lt;/fieldset&gt; &lt;input type=""submit"" value=""Submit"" id=""feedback-submit"" onclick=""thanks()""&gt; &lt;/form&gt;  &lt;script&gt; function thanks(){     var button = document.getElementById(""feedback-submit"")     button.value = ""Thanks!"";     button.disabled = true; } &lt;/script&gt; </code></pre>  <p>And the <code>/feedback</code> endpoint is routed to a Flask function that reads the value from the fieldset.</p>  <pre><code>@app.route('/feedback', methods=[""POST"", ""GET""] def feedback():     if request.method == ""POST"":         logging.info(form['rating'])         return ""Thanks for submitting"" </code></pre>  <p>It seems like having the <code>onclick</code> tag in my submit button makes it so that the <code>feedback()</code> function is never reached. When I remove the <code>onclick</code> <code>feedback()</code> executes normally.</p>  <p>I am just curious as to why this is and if there is any way to still get similar functionality.</p>  <p>Thanks!</p>"	"<p>You can read about why <code>onclick</code> on submit button does not work together <a href=""https://stackoverflow.com/questions/13839459/submit-and-onclick-not-working-together"">Submit and onclick not working together</a></p>  <p>Here is working solution for you.</p>  <p>In your form just assigned <code>id=someForm</code></p>  <pre><code>&lt;form id=""someForm"" action=""/feedback"" method=""POST""&gt; &lt;fieldset class=""rating""&gt;     &lt;input type=""radio"" id=""star5"" name=""rating"" value=""5"" /&gt;&lt;label class = ""full"" for=""star5"" title=""Awesome - 5 stars""&gt;&lt;/label&gt;     &lt;!-- there are more fields but I omit them for brevity --&gt; &lt;/fieldset&gt; &lt;input type=""submit"" value=""Submit"" id=""feedback-submit"" onclick=""thanks()""&gt; &lt;/form&gt; </code></pre>  <p>In your script:</p>  <pre><code>function thanks(){     var button = document.getElementById(""feedback-submit"");     button.value = ""Thanks!"";     button.disabled = true;     var form = document.getElementById(""someForm"");     form.submit(); } </code></pre>"
49578516	translate python code to javascript	javascript|utf-8|char|numbers	2018-03-30 17:11:30.713000 UTC	"<p>I need help to translate this python code to an other language. I would like to convert this python code to javascript:</p>  <p>Original code (python) :</p>  <pre><code>data = list(""\x01\x03\x19 @ \x06\x01\x03\x01\x02\x01\x03\x01\x03\x18\x01\x03\x01\x03\x07\x01\x03\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x0eAdministrateur \x01\x03\x01\x03\x01\x03\x01\x03\x17\xb4G\xff\xff\xff\xff\xff\x01\x03\x80\x01\x03 \x01\x03\x08\x04\x86N\x84\x8a\n\x90\x90\x90t\x8e\x80\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x04#\xb90\xb22\x99\x18\x18\x10\x01\x03\x01\x03\x01\x03\x01\x03\x0b\xdaC\x0c5\x08:\x98\x01\x03\xc0\x01\x030\x01\x03\x0c\x01\x03C'BE\x05HHH:G\x01\x03\x00"") result = """" for id, char in enumerate(data):    result+= ord(char)+"" ""  // output // ""1 3 25 32 64 32 6 1 3 1 2 1 3 1 3 24 1 3 1 3 7 1 3 1 3 1 2 1 3 1 3 1 2 1 3 14 65 100 109 105 110 105 115 116 114 97 116 101 117 114 32 1 3 1 3 1 3 1 3 23 180 71 255 255 255 255 255 1 3 128 1 3 32 1 3 8 4 134 78 132 138 10 144 144 144 116 142 128 1 3 1 2 1 3 1 3 1 2 1 3 4 35 185 48 178 50 153 24 24 16 1 3 1 3 1 3 1 3 11 218 67 12 53 8 58 152 1 3 192 1 3 48 1 3 12 1 3 67 39 66 69 5 72 72 72 58 71 1 3 0 "" // notice at the beggin -&gt; ""1 3 25 32 64"" </code></pre>  <p>I tried (Javascript) :</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var data = ""\x01\x03\x19 @ \x06\x01\x03\x01\x02\x01\x03\x01\x03\x18\x01\x03\x01\x03\x07\x01\x03\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x0eAdministrateur \x01\x03\x01\x03\x01\x03\x01\x03\x17\xb4G\xff\xff\xff\xff\xff\x01\x03\x80\x01\x03 \x01\x03\x08\x04\x86N\x84\x8a\n\x90\x90\x90t\x8e\x80\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x04#\xb90\xb22\x99\x18\x18\x10\x01\x03\x01\x03\x01\x03\x01\x03\x0b\xdaC\x0c5\x08:\x98\x01\x03\xc0\x01\x030\x01\x03\x0c\x01\x03C'BE\x05HHH:G\x01\x03\x00"" data = data.replace(""\x02"", """"); data = data.replace(""\x03"", """"); data = data.split('') var result = """"; data.forEach(function(char, id) {   result += char.charCodeAt(0) + "" ""; }); console.log(result);</code></pre> </div> </div> </p>  <pre><code>// output  // ""1 25 32 64 32 6 1 3 1 1 3 1 3 24 1 3 1 3 7 1 3 1 3 1 2 1 3 1 3 1 2 1 3 14 65 100 109 105 110 105 115 116 114 97 116 101 117 114 32 1 3 1 3 1 3 1 3 23 180 71 255 255 255 255 255 1 3 128 1 3 32 1 3 8 4 134 78 132 138 10 144 144 144 116 142 128 1 3 1 2 1 3 1 3 1 2 1 3 4 35 185 48 178 50 153 24 24 16 1 3 1 3 1 3 1 3 11 218 67 12 53 8 58 152 1 3 192 1 3 48 1 3 12 1 3 67 39 66 69 5 72 72 72 58 71 1 3 0 "" // notice et the begin -&gt; ""1 25 32 64"" </code></pre>  <p>Thank to help me.</p>"	"<p>What for did you use replace???</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var data = ""\x01\x03\x19 @ \x06\x01\x03\x01\x02\x01\x03\x01\x03\x18\x01\x03\x01\x03\x07\x01\x03\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x0eAdministrateur \x01\x03\x01\x03\x01\x03\x01\x03\x17\xb4G\xff\xff\xff\xff\xff\x01\x03\x80\x01\x03 \x01\x03\x08\x04\x86N\x84\x8a\n\x90\x90\x90t\x8e\x80\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x04#\xb90\xb22\x99\x18\x18\x10\x01\x03\x01\x03\x01\x03\x01\x03\x0b\xdaC\x0c5\x08:\x98\x01\x03\xc0\x01\x030\x01\x03\x0c\x01\x03C'BE\x05HHH:G\x01\x03\x00"" data = data.split('') var result = """"; data.forEach(function(char, id) {   result += char.charCodeAt(0) + "" ""; }); console.log(result);</code></pre> </div> </div> </p>"
49578516	translate python code to javascript	javascript|utf-8|char|numbers	2018-03-30 17:11:30.713000 UTC	"<p>I need help to translate this python code to an other language. I would like to convert this python code to javascript:</p>  <p>Original code (python) :</p>  <pre><code>data = list(""\x01\x03\x19 @ \x06\x01\x03\x01\x02\x01\x03\x01\x03\x18\x01\x03\x01\x03\x07\x01\x03\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x0eAdministrateur \x01\x03\x01\x03\x01\x03\x01\x03\x17\xb4G\xff\xff\xff\xff\xff\x01\x03\x80\x01\x03 \x01\x03\x08\x04\x86N\x84\x8a\n\x90\x90\x90t\x8e\x80\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x04#\xb90\xb22\x99\x18\x18\x10\x01\x03\x01\x03\x01\x03\x01\x03\x0b\xdaC\x0c5\x08:\x98\x01\x03\xc0\x01\x030\x01\x03\x0c\x01\x03C'BE\x05HHH:G\x01\x03\x00"") result = """" for id, char in enumerate(data):    result+= ord(char)+"" ""  // output // ""1 3 25 32 64 32 6 1 3 1 2 1 3 1 3 24 1 3 1 3 7 1 3 1 3 1 2 1 3 1 3 1 2 1 3 14 65 100 109 105 110 105 115 116 114 97 116 101 117 114 32 1 3 1 3 1 3 1 3 23 180 71 255 255 255 255 255 1 3 128 1 3 32 1 3 8 4 134 78 132 138 10 144 144 144 116 142 128 1 3 1 2 1 3 1 3 1 2 1 3 4 35 185 48 178 50 153 24 24 16 1 3 1 3 1 3 1 3 11 218 67 12 53 8 58 152 1 3 192 1 3 48 1 3 12 1 3 67 39 66 69 5 72 72 72 58 71 1 3 0 "" // notice at the beggin -&gt; ""1 3 25 32 64"" </code></pre>  <p>I tried (Javascript) :</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var data = ""\x01\x03\x19 @ \x06\x01\x03\x01\x02\x01\x03\x01\x03\x18\x01\x03\x01\x03\x07\x01\x03\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x0eAdministrateur \x01\x03\x01\x03\x01\x03\x01\x03\x17\xb4G\xff\xff\xff\xff\xff\x01\x03\x80\x01\x03 \x01\x03\x08\x04\x86N\x84\x8a\n\x90\x90\x90t\x8e\x80\x01\x03\x01\x02\x01\x03\x01\x03\x01\x02\x01\x03\x04#\xb90\xb22\x99\x18\x18\x10\x01\x03\x01\x03\x01\x03\x01\x03\x0b\xdaC\x0c5\x08:\x98\x01\x03\xc0\x01\x030\x01\x03\x0c\x01\x03C'BE\x05HHH:G\x01\x03\x00"" data = data.replace(""\x02"", """"); data = data.replace(""\x03"", """"); data = data.split('') var result = """"; data.forEach(function(char, id) {   result += char.charCodeAt(0) + "" ""; }); console.log(result);</code></pre> </div> </div> </p>  <pre><code>// output  // ""1 25 32 64 32 6 1 3 1 1 3 1 3 24 1 3 1 3 7 1 3 1 3 1 2 1 3 1 3 1 2 1 3 14 65 100 109 105 110 105 115 116 114 97 116 101 117 114 32 1 3 1 3 1 3 1 3 23 180 71 255 255 255 255 255 1 3 128 1 3 32 1 3 8 4 134 78 132 138 10 144 144 144 116 142 128 1 3 1 2 1 3 1 3 1 2 1 3 4 35 185 48 178 50 153 24 24 16 1 3 1 3 1 3 1 3 11 218 67 12 53 8 58 152 1 3 192 1 3 48 1 3 12 1 3 67 39 66 69 5 72 72 72 58 71 1 3 0 "" // notice et the begin -&gt; ""1 25 32 64"" </code></pre>  <p>Thank to help me.</p>"	"<p>Your code appears to be correct but I don't know what you were wanting it to do.  Did you expect the second sequence to be 3?</p>  <p>You removed all of the \x03 with this statement:</p>  <pre><code>data = data.replace(""\x03"", """"); </code></pre>  <p>So the second sequence is now \x19 which converts to dec 25.</p>  <p>If you remove the two replace statements, the outputs should match.</p>"
49579989	"Python Selenium: Click a href=""javascript:()"""	javascript|python|selenium	2018-03-30 19:04:32.270000 UTC	"<p>I am using chromedriver and I have the following webpage source:</p>  <pre><code>&lt;form id=""stepLinksForm"" name=""stepLinksForm"" method=""POST"" target=""mainFrame""&gt;     &lt;ul&gt;        &lt;li&gt; &lt;a href=""javascript:submitLink('action_one.htm')""&gt;Action One&lt;/a&gt; &lt;/li&gt;       &lt;li&gt; &lt;a href=""javascript:submitLink('action_two.htm')""&gt;Action Two&lt;/a&gt; &lt;/li&gt;       &lt;li&gt; &lt;a href=""javascript:submitLink('action_three.htm')""&gt;Action Three&lt;/a&gt; &lt;/li&gt;   &lt;/ul&gt;     &lt;/form&gt; </code></pre>  <p>After clicking anyone of the href, the browser goes to a new page but the url stays the same. What I want to achieve is clicking the first href, i.e. <code> &lt;li&gt; &lt;a href=""javascript:submitLink('action_one.htm')""&gt;Action One&lt;/a&gt; &lt;/li&gt;</code></p>  <p>I have tried find_element_by_xpath, link_text and some other methods suggested on the Internet but none of them works. I really appreciate if someone could help.</p>"	"<p>To click on the first href with text as <strong>Action One</strong> you can use either of the following options (<em>Python Language Binding Art</em>) :</p>  <ul> <li><p><code>linkText</code> :</p>  <pre><code>driver.find_element_by_link_text(""Action One"").click() </code></pre></li> <li><p><code>cssSelector</code> :</p>  <pre><code>driver.find_element_by_css_selector(""a[href*='action_one.htm']"").click() </code></pre></li> <li><p><code>xpath</code> :</p>  <pre><code>driver.find_element_by_xpath(""//a[contains(@href,'action_one.htm') and contains(.,'Action One')]"").click() </code></pre></li> </ul>  <hr>  <h2>Update</h2>  <p>As you are unable to locate the element through <code>LINK_TEXT</code>, <code>CSS</code>, <code>XPATH</code> and even after <code>time.sleep()</code> it is pretty much confirmed that the element is within an <strong>frame</strong> which is denoted by the <strong><code>&lt;frame&gt;</code></strong> tag.</p>  <p>Now as you are able to <em>see them by ""Inspect""</em>, locate the element within the <em>HTML DOM</em> and traverse up the <em>HTML</em>. At some point you will find a <code>&lt;frame&gt;</code> tag. Grab the attributes of the <code>&lt;frame&gt;</code> tag and <em>switch</em> to the intended <em>frame</em> first and then try to use the <em>Locator Strategies</em> provided in my answer. Here you can find a detailed discussion on <a href=""https://stackoverflow.com/questions/47770144/how-can-i-select-a-html-element-no-matter-what-frame-it-is-in-in-selenium/47771879#47771879""><strong>How can I select a html element no matter what frame it is in in selenium?</strong></a></p>"
49579989	"Python Selenium: Click a href=""javascript:()"""	javascript|python|selenium	2018-03-30 19:04:32.270000 UTC	"<p>I am using chromedriver and I have the following webpage source:</p>  <pre><code>&lt;form id=""stepLinksForm"" name=""stepLinksForm"" method=""POST"" target=""mainFrame""&gt;     &lt;ul&gt;        &lt;li&gt; &lt;a href=""javascript:submitLink('action_one.htm')""&gt;Action One&lt;/a&gt; &lt;/li&gt;       &lt;li&gt; &lt;a href=""javascript:submitLink('action_two.htm')""&gt;Action Two&lt;/a&gt; &lt;/li&gt;       &lt;li&gt; &lt;a href=""javascript:submitLink('action_three.htm')""&gt;Action Three&lt;/a&gt; &lt;/li&gt;   &lt;/ul&gt;     &lt;/form&gt; </code></pre>  <p>After clicking anyone of the href, the browser goes to a new page but the url stays the same. What I want to achieve is clicking the first href, i.e. <code> &lt;li&gt; &lt;a href=""javascript:submitLink('action_one.htm')""&gt;Action One&lt;/a&gt; &lt;/li&gt;</code></p>  <p>I have tried find_element_by_xpath, link_text and some other methods suggested on the Internet but none of them works. I really appreciate if someone could help.</p>"	"<p>Instead of click you can call the javascript code directly:</p>  <pre><code>browser.execute_script(""submitLink('action_one.htm')"") </code></pre>  <p>which equivalent to javascript:submitLink('action_one.htm')</p>  <p>Or you can find the a by its text:</p>  <pre><code>browser.find_elements_by_xpath(""//a[contains(text(), 'Action One')]"") </code></pre>"
49591740	"How to web scrape in an .jsf site with cookies and javascript ""javax.faces.ViewState"" CDATA using python requests and bs4 (BeautifulSoup) modules?"	python|jsf|web-scraping|python-requests|cdata	2018-03-31 19:46:28.727000 UTC	"<p>I would like to automate the extraction of data from this site:</p> <p><a href=""http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf"" rel=""nofollow noreferrer"">http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf</a></p> <p>Explanation of the steps to be followed for extract the data that I want:</p> <p>Beginning in the url above click in &quot;Séries Históricas&quot;. You should see a page with a form with some inputs. In my case I only need to input the station code in the &quot;Código da Estação&quot; input. Suppose that the station code is 938001, insert that and hit &quot;Consultar&quot;. Now you should see a lot of checkboxes. Check the one below &quot;Selecionar&quot;, this one will check all checkboxes. Supposing that I dont want all kinds of data, I want rain rate and flow rate, I check only the checkbox below &quot;Chuva&quot; and the other one below &quot;Vazão&quot;. After that is necessary to choose the type of the file that are going to be download, chose the &quot;Arquivo Texto (.TXT)&quot;, this one is the .txt format. After that is necessary to generate the file, to do that click in &quot;Gerar Arquivo&quot;. After that is possible todownload the file, to do that just click &quot;Baixar Arquivo&quot;.</p> <p><em>Note</em>: the site now is in version v1.0.0.12, it may be different in the future.</p> <p>I have a list of station codes. Imagine how bad would be to do these operations more than 1000 times?! I want to automate this!</p> <p>Many people in Brazil have been trying to automate the extraction of data from this web site. Some that I found:</p> <p>Really old one: <a href=""https://www.youtube.com/watch?v=IWCrC0MlasQ"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=IWCrC0MlasQ</a></p> <p>Others: <a href=""https://pt.stackoverflow.com/questions/60124/gerar-e-baixar-links-programaticamente/86150#86150"">https://pt.stackoverflow.com/questions/60124/gerar-e-baixar-links-programaticamente/86150#86150</a></p> <p><a href=""https://pt.stackoverflow.com/questions/282111/r-download-de-dados-do-portal-hidroweb"">https://pt.stackoverflow.com/questions/282111/r-download-de-dados-do-portal-hidroweb</a></p> <p>The earlier try that I found, but that does not work too because the site have changed: <a href=""https://github.com/duartejr/pyHidroWeb"" rel=""nofollow noreferrer"">https://github.com/duartejr/pyHidroWeb</a></p> <p>So a lot people need this and none of the above solutions work more because of updates in the site.</p> <p>I do not want use selenium, it is slow compared with a solution that uses requests library, and it needs a interface.</p> <p>My attempt:</p> <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python # -*- coding: utf-8 -*-  from bs4 import BeautifulSoup import requests from urllib import parse   URL = 'http://www.snirh.gov.br/hidroweb/publico/apresentacao.jsf'  s = requests.Session()  r = s.get(URL)  JSESSIONID = s.cookies['JSESSIONID']  soup = BeautifulSoup(r.content, &quot;html.parser&quot;)  javax_faces_ViewState = soup.find(&quot;input&quot;, {&quot;type&quot;: &quot;hidden&quot;, &quot;name&quot;:&quot;javax.faces.ViewState&quot;})['value']   d = {} d['menuLateral:menuForm'] = 'menuLateral:menuForm' d['javax.faces.ViewState'] = javax_faces_ViewState d['menuLateral:menuForm:menuSection:j_idt68:link'] = 'menuLateral:menuForm:menuSection:j_idt68:link'  h = {} h['Accept'] = 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' h['Accept-Encoding'] = 'gzip, deflate' h['Accept-Language'] = 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7' h['Cache-Control'] = 'max-age=0' h['Connection'] = 'keep-alive' h['Content-Length'] = '218' h['Content-Type'] = 'application/x-www-form-urlencoded' h['Cookie'] = '_ga=GA1.3.4824711.1520011013; JSESSIONID={}; _gid=GA1.3.743342153.1522450617'.format(JSESSIONID) h['Host'] = 'www.snirh.gov.br' h['Origin'] = 'http://www.snirh.gov.br' h['Referer'] = 'http://www.snirh.gov.br/hidroweb/publico/apresentacao.jsf' h['Upgrade-Insecure-Requests'] = '1' h['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36'  URL2 = 'http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf' post_response = s.post(URL2, headers=h, data=d)   soup = BeautifulSoup(post_response.text, &quot;html.parser&quot;) javax_faces_ViewState = soup.find(&quot;input&quot;, {&quot;type&quot;: &quot;hidden&quot;, &quot;name&quot;:&quot;javax.faces.ViewState&quot;})['value']   def f_headers(JSESSIONID):     headers = {}     headers['Accept'] = '*/*'     headers['Accept-Encoding'] = 'gzip, deflate'     headers['Accept-Language'] = 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7'     headers['Connection'] = 'keep-alive'     headers['Content-Length'] = '672'     headers['Content-type'] = 'application/x-www-form-urlencoded;charset=UTF-8'     headers['Cookie'] = '_ga=GA1.3.4824711.1520011013; JSESSIONID=' + str(JSESSIONID)     headers['Faces-Request'] = 'partial/ajax'     headers['Host'] = 'www.snirh.gov.br'     headers['Origin'] = 'http://www.snirh.gov.br'     headers['Referer'] = 'http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf'     headers['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36'      return headers   def build_data(data, n, javax_faces_ViewState):      if n == 1:         data['form'] = 'form'         data['form:fsListaEstacoes:codigoEstacao'] = '938001'         data['form:fsListaEstacoes:nomeEstacao'] = ''         data['form:fsListaEstacoes:j_idt92'] = 'a39c3713-c0f7-4461-b2c8-c2814b3a9af1'         data['form:fsListaEstacoes:j_idt101'] = 'a39c3713-c0f7-4461-b2c8-c2814b3a9af1'         data['form:fsListaEstacoes:nomeResponsavel'] = ''         data['form:fsListaEstacoes:nomeOperador'] = ''         data['javax.faces.ViewState'] = javax_faces_ViewState         data['javax.faces.source'] = 'form:fsListaEstacoes:bt'         data['javax.faces.partial.event'] = 'click'         data['javax.faces.partial.execute'] = 'form:fsListaEstacoes:bt form:fsListaEstacoes'         data['javax.faces.partial.render'] = 'form:fsListaEstacoes:pnListaEstacoes'         data['javax.faces.behavior.event'] = 'action'         data['javax.faces.partial.ajax'] = 'true'   data = {} build_data(data, 1, javax_faces_ViewState)  headers = f_headers(JSESSIONID)  post_response = s.post(URL, headers=headers, data=data)  print(post_response.text) </code></pre> <p>That prints:</p> <pre class=""lang-xml prettyprint-override""><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt; &lt;partial-response&gt;&lt;changes&gt;&lt;update id=&quot;javax.faces.ViewState&quot;&gt;&lt;![CDATA[-18212878 48648292010:1675387092887841821]]&gt;&lt;/update&gt;&lt;/changes&gt;&lt;/partial-response&gt; </code></pre> <p>Explanations about what I tryed:</p> <p>I used the chrome develop tool, actually clicked &quot;F12&quot;, clicked &quot;Network&quot; and in the website page clicked &quot;Séries Históricas&quot; to discover what are de headers and forms. I think I did it correctly. There is another way or a better way? Some people told me about postman and postman interceptor, but a dont know how to use and if it is helpful.</p> <p>After that I filled the station code in the &quot;Código da Estação&quot; input with 938001 and hit &quot;Consultar&quot; to see what were the headers and forms.</p> <p>Why is the site returning a xml? This means that something went wrong?</p> <p>This xml has an CDATA section.</p> <p><a href=""https://stackoverflow.com/questions/2784183/what-does-cdata-in-xml-mean?rq=1"">What does &lt;![CDATA[]]&gt; in XML mean?</a></p> <p>A undestand the basic idea of CDATA, but how it is used in this site, and how I shoud use this in the web scrape? I guess that it is used to save partial information, but it is just a guess. I am lost.</p> <p>I tryed this for the other clicks too, and got more forms and the response was xml. I did not put it here because it makes the code bigger and the xml is big too.</p> <p>One SO answer that is not complete related to my is this:<br /> <a href=""https://stackoverflow.com/a/8625286"">https://stackoverflow.com/a/8625286</a></p> <p>this answer explain the steps to upload a file, using java, to a JSF-generated form. This is not my case, I want to download a file using python requests.</p> <p>General questions:</p> <ol> <li><p>When is not possible and possible to use requests + bs4 to scrape a website?</p> </li> <li><p>Whats are the steps to do this kind of web scrape?</p> </li> <li><p>In cases like this site, is possible to go straightforward and in one request extract the information or we have to mimic the step by step as we would do by hand filling the form? Based on this answer it looks like the answer is no <a href=""https://stackoverflow.com/a/35665529"">https://stackoverflow.com/a/35665529</a></p> </li> </ol> <p>I have faced many dificulties and doubts. In my opinion there is a gap of explanation about this kind of situation. I agree with this SO question <a href=""https://stackoverflow.com/questions/37241491/python-urllib2-or-requests-post-method"">Python urllib2 or requests post method</a> in the point that most tutorials are useless for a situation like this site that I am trying. A question like this one <a href=""https://stackoverflow.com/q/43793998/9577149"">https://stackoverflow.com/q/43793998/9577149</a> that is as hard as my does not have answer.</p> <p>That is my first post in stackoverflow, sorry if I made mistakes and I am not a native english speaker, feel free to correct me.</p>"	"<p>The URL of the last request is wrong. In the penultimate line of code <code>s.post(URL, headers=headers, data=data)</code> the parameter should be <code>URL2</code> instead.</p>  <p>The cookie name, also, is now <code>SESSIONID</code> not <code>JSESSIONID</code>, but that must have been a change made since the question was asked.</p>  <p>You do not need to manage cookies manually like that when using <code>requests.Session()</code>, it will keep track of cookies for you automatically.</p>"
49591740	"How to web scrape in an .jsf site with cookies and javascript ""javax.faces.ViewState"" CDATA using python requests and bs4 (BeautifulSoup) modules?"	python|jsf|web-scraping|python-requests|cdata	2018-03-31 19:46:28.727000 UTC	"<p>I would like to automate the extraction of data from this site:</p> <p><a href=""http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf"" rel=""nofollow noreferrer"">http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf</a></p> <p>Explanation of the steps to be followed for extract the data that I want:</p> <p>Beginning in the url above click in &quot;Séries Históricas&quot;. You should see a page with a form with some inputs. In my case I only need to input the station code in the &quot;Código da Estação&quot; input. Suppose that the station code is 938001, insert that and hit &quot;Consultar&quot;. Now you should see a lot of checkboxes. Check the one below &quot;Selecionar&quot;, this one will check all checkboxes. Supposing that I dont want all kinds of data, I want rain rate and flow rate, I check only the checkbox below &quot;Chuva&quot; and the other one below &quot;Vazão&quot;. After that is necessary to choose the type of the file that are going to be download, chose the &quot;Arquivo Texto (.TXT)&quot;, this one is the .txt format. After that is necessary to generate the file, to do that click in &quot;Gerar Arquivo&quot;. After that is possible todownload the file, to do that just click &quot;Baixar Arquivo&quot;.</p> <p><em>Note</em>: the site now is in version v1.0.0.12, it may be different in the future.</p> <p>I have a list of station codes. Imagine how bad would be to do these operations more than 1000 times?! I want to automate this!</p> <p>Many people in Brazil have been trying to automate the extraction of data from this web site. Some that I found:</p> <p>Really old one: <a href=""https://www.youtube.com/watch?v=IWCrC0MlasQ"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=IWCrC0MlasQ</a></p> <p>Others: <a href=""https://pt.stackoverflow.com/questions/60124/gerar-e-baixar-links-programaticamente/86150#86150"">https://pt.stackoverflow.com/questions/60124/gerar-e-baixar-links-programaticamente/86150#86150</a></p> <p><a href=""https://pt.stackoverflow.com/questions/282111/r-download-de-dados-do-portal-hidroweb"">https://pt.stackoverflow.com/questions/282111/r-download-de-dados-do-portal-hidroweb</a></p> <p>The earlier try that I found, but that does not work too because the site have changed: <a href=""https://github.com/duartejr/pyHidroWeb"" rel=""nofollow noreferrer"">https://github.com/duartejr/pyHidroWeb</a></p> <p>So a lot people need this and none of the above solutions work more because of updates in the site.</p> <p>I do not want use selenium, it is slow compared with a solution that uses requests library, and it needs a interface.</p> <p>My attempt:</p> <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python # -*- coding: utf-8 -*-  from bs4 import BeautifulSoup import requests from urllib import parse   URL = 'http://www.snirh.gov.br/hidroweb/publico/apresentacao.jsf'  s = requests.Session()  r = s.get(URL)  JSESSIONID = s.cookies['JSESSIONID']  soup = BeautifulSoup(r.content, &quot;html.parser&quot;)  javax_faces_ViewState = soup.find(&quot;input&quot;, {&quot;type&quot;: &quot;hidden&quot;, &quot;name&quot;:&quot;javax.faces.ViewState&quot;})['value']   d = {} d['menuLateral:menuForm'] = 'menuLateral:menuForm' d['javax.faces.ViewState'] = javax_faces_ViewState d['menuLateral:menuForm:menuSection:j_idt68:link'] = 'menuLateral:menuForm:menuSection:j_idt68:link'  h = {} h['Accept'] = 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' h['Accept-Encoding'] = 'gzip, deflate' h['Accept-Language'] = 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7' h['Cache-Control'] = 'max-age=0' h['Connection'] = 'keep-alive' h['Content-Length'] = '218' h['Content-Type'] = 'application/x-www-form-urlencoded' h['Cookie'] = '_ga=GA1.3.4824711.1520011013; JSESSIONID={}; _gid=GA1.3.743342153.1522450617'.format(JSESSIONID) h['Host'] = 'www.snirh.gov.br' h['Origin'] = 'http://www.snirh.gov.br' h['Referer'] = 'http://www.snirh.gov.br/hidroweb/publico/apresentacao.jsf' h['Upgrade-Insecure-Requests'] = '1' h['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36'  URL2 = 'http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf' post_response = s.post(URL2, headers=h, data=d)   soup = BeautifulSoup(post_response.text, &quot;html.parser&quot;) javax_faces_ViewState = soup.find(&quot;input&quot;, {&quot;type&quot;: &quot;hidden&quot;, &quot;name&quot;:&quot;javax.faces.ViewState&quot;})['value']   def f_headers(JSESSIONID):     headers = {}     headers['Accept'] = '*/*'     headers['Accept-Encoding'] = 'gzip, deflate'     headers['Accept-Language'] = 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7'     headers['Connection'] = 'keep-alive'     headers['Content-Length'] = '672'     headers['Content-type'] = 'application/x-www-form-urlencoded;charset=UTF-8'     headers['Cookie'] = '_ga=GA1.3.4824711.1520011013; JSESSIONID=' + str(JSESSIONID)     headers['Faces-Request'] = 'partial/ajax'     headers['Host'] = 'www.snirh.gov.br'     headers['Origin'] = 'http://www.snirh.gov.br'     headers['Referer'] = 'http://www.snirh.gov.br/hidroweb/publico/medicoes_historicas_abas.jsf'     headers['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36'      return headers   def build_data(data, n, javax_faces_ViewState):      if n == 1:         data['form'] = 'form'         data['form:fsListaEstacoes:codigoEstacao'] = '938001'         data['form:fsListaEstacoes:nomeEstacao'] = ''         data['form:fsListaEstacoes:j_idt92'] = 'a39c3713-c0f7-4461-b2c8-c2814b3a9af1'         data['form:fsListaEstacoes:j_idt101'] = 'a39c3713-c0f7-4461-b2c8-c2814b3a9af1'         data['form:fsListaEstacoes:nomeResponsavel'] = ''         data['form:fsListaEstacoes:nomeOperador'] = ''         data['javax.faces.ViewState'] = javax_faces_ViewState         data['javax.faces.source'] = 'form:fsListaEstacoes:bt'         data['javax.faces.partial.event'] = 'click'         data['javax.faces.partial.execute'] = 'form:fsListaEstacoes:bt form:fsListaEstacoes'         data['javax.faces.partial.render'] = 'form:fsListaEstacoes:pnListaEstacoes'         data['javax.faces.behavior.event'] = 'action'         data['javax.faces.partial.ajax'] = 'true'   data = {} build_data(data, 1, javax_faces_ViewState)  headers = f_headers(JSESSIONID)  post_response = s.post(URL, headers=headers, data=data)  print(post_response.text) </code></pre> <p>That prints:</p> <pre class=""lang-xml prettyprint-override""><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt; &lt;partial-response&gt;&lt;changes&gt;&lt;update id=&quot;javax.faces.ViewState&quot;&gt;&lt;![CDATA[-18212878 48648292010:1675387092887841821]]&gt;&lt;/update&gt;&lt;/changes&gt;&lt;/partial-response&gt; </code></pre> <p>Explanations about what I tryed:</p> <p>I used the chrome develop tool, actually clicked &quot;F12&quot;, clicked &quot;Network&quot; and in the website page clicked &quot;Séries Históricas&quot; to discover what are de headers and forms. I think I did it correctly. There is another way or a better way? Some people told me about postman and postman interceptor, but a dont know how to use and if it is helpful.</p> <p>After that I filled the station code in the &quot;Código da Estação&quot; input with 938001 and hit &quot;Consultar&quot; to see what were the headers and forms.</p> <p>Why is the site returning a xml? This means that something went wrong?</p> <p>This xml has an CDATA section.</p> <p><a href=""https://stackoverflow.com/questions/2784183/what-does-cdata-in-xml-mean?rq=1"">What does &lt;![CDATA[]]&gt; in XML mean?</a></p> <p>A undestand the basic idea of CDATA, but how it is used in this site, and how I shoud use this in the web scrape? I guess that it is used to save partial information, but it is just a guess. I am lost.</p> <p>I tryed this for the other clicks too, and got more forms and the response was xml. I did not put it here because it makes the code bigger and the xml is big too.</p> <p>One SO answer that is not complete related to my is this:<br /> <a href=""https://stackoverflow.com/a/8625286"">https://stackoverflow.com/a/8625286</a></p> <p>this answer explain the steps to upload a file, using java, to a JSF-generated form. This is not my case, I want to download a file using python requests.</p> <p>General questions:</p> <ol> <li><p>When is not possible and possible to use requests + bs4 to scrape a website?</p> </li> <li><p>Whats are the steps to do this kind of web scrape?</p> </li> <li><p>In cases like this site, is possible to go straightforward and in one request extract the information or we have to mimic the step by step as we would do by hand filling the form? Based on this answer it looks like the answer is no <a href=""https://stackoverflow.com/a/35665529"">https://stackoverflow.com/a/35665529</a></p> </li> </ol> <p>I have faced many dificulties and doubts. In my opinion there is a gap of explanation about this kind of situation. I agree with this SO question <a href=""https://stackoverflow.com/questions/37241491/python-urllib2-or-requests-post-method"">Python urllib2 or requests post method</a> in the point that most tutorials are useless for a situation like this site that I am trying. A question like this one <a href=""https://stackoverflow.com/q/43793998/9577149"">https://stackoverflow.com/q/43793998/9577149</a> that is as hard as my does not have answer.</p> <p>That is my first post in stackoverflow, sorry if I made mistakes and I am not a native english speaker, feel free to correct me.</p>"	"<p>1) Its always possible to scrape html websites using bs4. But getting the response you would like requires more than just beautiful soup.</p>  <p>2) My approach with bs4 is usually as follows:</p>  <pre><code>response = requests.request(         method=""GET"",         url='http://yourwebsite.com',         params=params #(params should be a python object)     ) soup = BeautifulSoup(response.text, 'html.parser') </code></pre>  <p>3) If you notice when you fill out the first form (series historicas) and click submit, the page url (or action url) does not change. This is because an ajax request is being made to retrieve and update the data on the current page. Since you cant see the request its impossible for you to mimic that.</p>  <p>To submit the form i would recommend looking into <a href=""http://wwwsearch.sourceforge.net/mechanize/"" rel=""nofollow noreferrer"">Mechanize</a> (a python library for filling and submitting form data)</p>  <pre><code>import re from mechanize import Browser  b = Browser() b.open(""http://yourwebsite.com"") b.select_form(name=""form"") b[""bacia""] = [""value""]  response = b.submit()  # submit the form </code></pre>"
49600142	Why does this regex expression give two different results in Python and Javascript?	javascript|python|regex|substring	2018-04-01 16:24:46.663000 UTC	"<p>I have the following string:</p>  <blockquote>   <p>[?]The Taliban Have Gone High-Tech. That Poses a Dilemma for the U.S. The frequency and ferocity of the nighttime Taliban attacks are linked to attempts by Afghan forces, based in small checkpoints across the country, to hold territory that has been wrested away from the militants. Afghan troops said the missing devices were reported as ""Battle losses,"" but could not support that claim with any proof or records to explain where or when they were left behind, according to the documents. Over the summer and fall, the Afghan National Army suffered 15 percent fewer casualties around Kandahar than it had during the same period in 2016.The documents credited the night-vision equipment for the marked reduction, concluding that the devices are ""Becoming an integral part of base defense plans."" The American military is now planning to equip the unit with roughly 2,500 night-vision goggles as part of what the documents described as a concept for a ""Permanent program."" Capt. Tom Gresback, a spokesman for United States forces in Afghanistan, declined to comment on the plans to distribute the devices to the Afghan National Army, as outlined in the military documents. With the night-vision devices, Taliban fighters have been able to approach Afghan bases nearly undetected before attacking. Zabihullah Mujahid, a spokesman for the Taliban, said fighters obtained night-vision devices after attacking Afghan bases or capturing members of the Afghan security forces. In Helmand Province, Marine Corps advisers are helping a request by the 505th Zone of the Afghan National Police to receive night-vision devices, Col.Reduced</p> </blockquote>  <p>And, I want to get the following output (Removing ""[?]"" and ""Reduced""): </p>  <blockquote>   <p>The Taliban Have Gone High-Tech. That Poses a Dilemma for the U.S. The frequency and ferocity of the nighttime Taliban attacks are linked to attempts by Afghan forces, based in small checkpoints across the country, to hold territory that has been wrested away from the militants. Afghan troops said the missing devices were reported as ""Battle losses,"" but could not support that claim with any proof or records to explain where or when they were left behind, according to the documents. Over the summer and fall, the Afghan National Army suffered 15 percent fewer casualties around Kandahar than it had during the same period in 2016.The documents credited the night-vision equipment for the marked reduction, concluding that the devices are ""Becoming an integral part of base defense plans."" The American military is now planning to equip the unit with roughly 2,500 night-vision goggles as part of what the documents described as a concept for a ""Permanent program."" Capt. Tom Gresback, a spokesman for United States forces in Afghanistan, declined to comment on the plans to distribute the devices to the Afghan National Army, as outlined in the military documents. With the night-vision devices, Taliban fighters have been able to approach Afghan bases nearly undetected before attacking. Zabihullah Mujahid, a spokesman for the Taliban, said fighters obtained night-vision devices after attacking Afghan bases or capturing members of the Afghan security forces. In Helmand Province, Marine Corps advisers are helping a request by the 505th Zone of the Afghan National Police to receive night-vision devices, Col.</p> </blockquote>  <p>On python, the following regex successfully strips out ""[?]"" and ""Reduced"": <code>'\[\?]\s*(.*?)Reduced'</code>. However, on Javascript that same regex returns: </p>  <blockquote>   <p>?]The Taliban Have Gone High-Tech. That Poses a Dilemma for the U.S. The frequency and ferocity of the nighttime Taliban attacks are linked to attempts by Afghan forces, based in small checkpoints across the country, to hold territory that has been wrested away from the militants. Afghan troops said the missing devices were reported as ""Battle losses,"" but could not support that claim with any proof or records to explain where or when they were left behind, according to the documents. Over the summer and fall, the Afghan National Army suffered 15 percent fewer casualties around Kandahar than it had during the same period in 2016.The documents credited the night-vision equipment for the marked reduction, concluding that the devices are ""Becoming an integral part of base defense plans."" The American military is now planning to equip the unit with roughly 2,500 night-vision goggles as part of what the documents described as a concept for a ""Permanent program."" Capt. Tom Gresback, a spokesman for United States forces in Afghanistan, declined to comment on the plans to distribute the devices to the Afghan National Army, as outlined in the military documents. With the night-vision devices, Taliban fighters have been able to approach Afghan bases nearly undetected before attacking. Zabihullah Mujahid, a spokesman for the Taliban, said fighters obtained night-vision devices after attacking Afghan bases or capturing members of the Afghan security forces. In Helmand Province, Marine Corps advisers are helping a request by the 505th Zone of the Afghan National Police to receive night-vision devices, Col.Reduced,]The Taliban Have Gone High-Tech. That Poses a Dilemma for the U.S. The frequency and ferocity of the nighttime Taliban attacks are linked to attempts by Afghan forces, based in small checkpoints across the country, to hold territory that has been wrested away from the militants. Afghan troops said the missing devices were reported as ""Battle losses,"" but could not support that claim with any proof or records to explain where or when they were left behind, according to the documents. Over the summer and fall, the Afghan National Army suffered 15 percent fewer casualties around Kandahar than it had during the same period in 2016.The documents credited the night-vision equipment for the marked reduction, concluding that the devices are ""Becoming an integral part of base defense plans."" The American military is now planning to equip the unit with roughly 2,500 night-vision goggles as part of what the documents described as a concept for a ""Permanent program."" Capt. Tom Gresback, a spokesman for United States forces in Afghanistan, declined to comment on the plans to distribute the devices to the Afghan National Army, as outlined in the military documents. With the night-vision devices, Taliban fighters have been able to approach Afghan bases nearly undetected before attacking. Zabihullah Mujahid, a spokesman for the Taliban, said fighters obtained night-vision devices after attacking Afghan bases or capturing members of the Afghan security forces. In Helmand Province, Marine Corps advisers are helping a request by the 505th Zone of the Afghan National Police to receive night-vision devices, Col. </p> </blockquote>  <p>(It fails to fully strip out [?]).</p>  <p>I tested the regex on python, and it worked as expected: <a href=""https://regex101.com/r/T16EcU/1/"" rel=""nofollow noreferrer"">https://regex101.com/r/T16EcU/1/</a></p>  <p>However, as expected, when I tested it with Javascript, it failed to strip out the [?]: <a href=""https://regex101.com/r/XKtn7s/1"" rel=""nofollow noreferrer"">https://regex101.com/r/XKtn7s/1</a></p>  <p>How do I modify the regex expression so it works on javascript?</p>  <p>It also worth noting that sometimes the initial string will have a space after the [?] instead of directly having the word ""The"" after [?].</p>  <p>Here is my Javascript code:</p>  <pre><code>//""documentBodyText.match"" equals the sample string I gave in the post const summary = documentBodyText.match('\[\?]\s*(.*?)Reduced'); console.log(summary); </code></pre>  <p>Here is my python code: </p>  <pre><code>//summary_page_text equals the sample string I gave in the post target_quote_object = re.search('\[\?]\s*(.*?)Reduced', summary_page_text) target_quote_text = target_quote_object.group(1) print(target_quote_text) </code></pre>"	"<p>When you use <code>.match(""\[\?]\s*(.*?)Reduced"")</code>, the regex is built with the constructor notation, and  the single backslashes are lost, thus your regex is actually <code>[?]s*(.*?)Reduced</code>, and it matches a literal <code>?</code>, then zero or more <code>s</code>  chars, and then captures any 0+ chars up to the first <code>Reduced</code>. Not what you want.</p>  <p>You need to define the regex with a regex literal, and access group 1 the same way as in Python:</p>  <pre><code>var m = s.match(/\[\?]\s*(.*?)Reduced/); // Get the match if (m)                                   // If there was a match     console.log(m[1])                    // Grab what is in Group 1 </code></pre>  <p>See the JS demo:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var s ='[?]The Taliban Have Gone High-Tech. That Poses a Dilemma for the U.S. The frequency and ferocity of the nighttime Taliban attacks are linked to attempts by Afghan forces, based in small checkpoints across the country, to hold territory that has been wrested away from the militants. Afghan troops said the missing devices were reported as ""Battle losses,"" but could not support that claim with any proof or records to explain where or when they were left behind, according to the documents. Over the summer and fall, the Afghan National Army suffered 15 percent fewer casualties around Kandahar than it had during the same period in 2016.The documents credited the night-vision equipment for the marked reduction, concluding that the devices are ""Becoming an integral part of base defense plans."" The American military is now planning to equip the unit with roughly 2,500 night-vision goggles as part of what the documents described as a concept for a ""Permanent program."" Capt. Tom Gresback, a spokesman for United States forces in Afghanistan, declined to comment on the plans to distribute the devices to the Afghan National Army, as outlined in the military documents. With the night-vision devices, Taliban fighters have been able to approach Afghan bases nearly undetected before attacking. Zabihullah Mujahid, a spokesman for the Taliban, said fighters obtained night-vision devices after attacking Afghan bases or capturing members of the Afghan security forces. In Helmand Province, Marine Corps advisers are helping a request by the 505th Zone of the Afghan National Police to receive night-vision devices, Col.Reduced'; var m = s.match(/\[\?]\s*(.*?)Reduced/); if (m)  console.log(m[1])</code></pre> </div> </div> </p>"
49604025	Translating Brute-Force Voronoi Diagram into Python from Javascript Example	javascript|python-3.x|pygame|voronoi|procedural-generation	2018-04-02 00:49:09.947000 UTC	"<p>I'm trying to translate code that generates a Voronoi Diagram from Javascript into Python. This is a struggle because I don't know Javascript. I think I can sort-of make it out, but I'm still running into issues with things I don't understand. Please help me figure out what is wrong with my code.</p>  <p>The code I've written simply give a blank window. Please help me generate a Voronoi Diagram.</p>  <p>In order, I have my code, then the original code.</p>  <p>Here's a link to the website I found it at: <a href=""http://pcg.wikidot.com/pcg-algorithm:voronoi-diagram"" rel=""nofollow noreferrer"">Procedural Generation Wiki</a></p>  <p>My Code:</p>  <pre><code>"""""" Translated from javascript example at http://pcg.wikidot.com/pcg-algorithm:voronoi-diagram  I have included the original comments.  My own comments are preceded by two hash-tags/pound-signs. IE # Original Javascript comments here ## My comments here """"""  import random import pygame from pygame import gfxdraw  # specify an empty points array ## I will use a list. points = [] lines = []  # get a random number in range min, max -1 ## No need for our own random number function. ## Just, import random, instead.   def definePoints(numPoints, mapSize):     # we want to take a group of points that will fit on our map at random     for typ in range(numPoints):         # here's the random points         x = random.randrange(0, mapSize)         y = random.randrange(0, mapSize)         # ""type:"" decides what point it is         # x, y: location         # citizens: the cells in our grid that belong to this point         ## Can't use ""type:"" (without quotes) in python comments         ## Since I don't know Javascript, I dunno what he's doing here.         ## I'm just going to append lists inside points.         ## order is: type, x, y, citizens         points.append([typ, x, y, []])      # brute force-y but it works     # for each cell in the grid     for x in range(mapSize):         for y in range(mapSize):             # find the nearest point             lowestDelta = (0, mapSize * mapSize)             for p in range(len(points)):                 # for each point get the difference in distance                 # between our point and the current cell                 ## I split the above comment into two so                 ## it would be less than 80 characters.                 delta = abs(points[p][1] - x) + abs(points[p][2] - y)                 # store the point nearest if it's closer than the last one                 if delta &lt; lowestDelta[1]:                     lowestDelta = (p, delta)              # push the cell to the nearest point             ## Okay, here's where I start getting confused.             ## I dunno how to do whatever he's doing in Python.             for point in points:                 if lowestDelta[0] == point[0]:                         activePoint = point             dx = x - activePoint[1]             dy = y - activePoint[2]             # log delta in cell for drawing             ## Again, not sure what he's doing here.             for point in points:                 if activePoint == point:                     point[3].append(dx)                     point[3].append(dy)      return points  ## all comments and code from here on are mine. def main():     # Get points     points = definePoints(20, 400)     print(""lines: "", lines)      # Setup pygame screens.     pygame.init()     size = (400, 400)     screen = pygame.display.set_mode(size)     white = (255, 255, 255)      done = False      # Control fps of window.     clock = pygame.time.Clock()     fps = 40      while not done:         for event in pygame.event.get():             if event.type == pygame.QUIT:                 done = True          for point in points:             for p in point[3]:                 # draw white wherever there's a point.                 # pygame windows are black by default                 gfxdraw.pixel(screen, point[1], point[2], white)          # controls FPS         clock.tick(fps)  if __name__ == ""__main__"":     main() </code></pre>  <p>Original Example Code:</p>  <pre><code>//specify an empty points array var points = [];  //get a random number in range min, max - 1 function randRange(min, max) {     return Math.floor(Math.random() * ((max) - min) + min); }  function definePoints(numPoints, mapSize) {     //we want to take a group of points that will fit on our map at random     for(var i = 0; i &lt; numPoints; i++) {         //here's the random points         var x = randRange(0, mapSize);         var y = randRange(0, mapSize);         //type: decides which point it is         //x, y: location         //citizens: the cells in our grid that belong to this point         points.push({type: i, x: x, y: y, citizens: []});     }     //brute force-y but it works     //for each cell in the grid     for(var x = 0; x &lt; mapSize; x++) {         for(var y = 0; y &lt; mapSize; y++) {             //find the nearest point             var lowestDelta = {pointId: 0, delta: mapSize * mapSize};             for(var p = 0; p &lt; points.length; p++) {                 //for each point get the difference in distance between our point and the current cell                 var delta = Math.abs(points[p].x - x) + Math.abs(points[p].y - y);                 //store the point as nearest if it's closer than the last one                 if(delta &lt; lowestDelta.delta) {                     lowestDelta = {pointId: p, delta: delta};                 }             }             //push the cell to the nearest point             var activePoint = points[lowestDelta.pointId];             var dx = x - activePoint.x;             var dy = y - activePoint.y;             //log delta in cell for drawing             activePoint.citizens.push({                 dx: dx,                  dy: dy             });         }     } }  definePoints(20, 40);  for(var point of points) {         for(var citizen of point.citizens) {             //set color of cell based on point             //draw cell at (point.x + citizen.dx) * cellSize, (point.y + citizen.dy) * cellSize         }     } </code></pre>"	"<p>Okay, I'm still not sure exactly what the original javascript code is doing. However, I managed to make my own Voronoi Diagram generator based off what I learned by going through it. Here it is. Thank you all for trying to help.</p>  <pre><code>"""""" Working Voronoi Diagram Generator  """"""  import random as r import math as m import pygame as pg from pygame import gfxdraw   def makeMap(numPoints, mapSize):      # Generate random colors so I can see what's happened.     colors = []     for color in range(numPoints):         red = r.randint(0, 255)         grn = r.randint(0, 255)         blu = r.randint(0, 255)         colors.append((red, grn, blu))      # Generate the base points.     ct = 0     basePoints = []     for point in range(numPoints):         x = r.randint(0, mapSize)         y = r.randint(0, mapSize)         basePoints.append((x, y, colors[ct]))         ct += 1      # Generate all the other points on the map.     points = []     for x in range(mapSize):         for y in range(mapSize):             distance = mapSize * 2             for bp in basePoints:                 newDistance = m.sqrt(((x - bp[0]) ** 2) + ((y - bp[1]) ** 2))                 if newDistance &lt; distance:                     distance = newDistance                     color = bp[2]             points.append([x, y, color])      return points   def colorer(surf, points):     for p in points:         gfxdraw.pixel(surf, p[0], p[1], p[2])   def main():     # Get points.     points = makeMap(20, 400)     print(""points: "", points)      # Setup pygame screens.     pg.init()     size = (400, 400)     surf = pg.display.set_mode(size)      done = False      # Control fps of window.     clock = pg.time.Clock()     fps = 40      while not done:         for event in pg.event.get():             if event.type == pg.QUIT:                 done = True          colorer(surf, points)          pg.display.flip()          # Control FPS.         clock.tick(fps)   if __name__ == ""__main__"":     main() </code></pre>"
49604025	Translating Brute-Force Voronoi Diagram into Python from Javascript Example	javascript|python-3.x|pygame|voronoi|procedural-generation	2018-04-02 00:49:09.947000 UTC	"<p>I'm trying to translate code that generates a Voronoi Diagram from Javascript into Python. This is a struggle because I don't know Javascript. I think I can sort-of make it out, but I'm still running into issues with things I don't understand. Please help me figure out what is wrong with my code.</p>  <p>The code I've written simply give a blank window. Please help me generate a Voronoi Diagram.</p>  <p>In order, I have my code, then the original code.</p>  <p>Here's a link to the website I found it at: <a href=""http://pcg.wikidot.com/pcg-algorithm:voronoi-diagram"" rel=""nofollow noreferrer"">Procedural Generation Wiki</a></p>  <p>My Code:</p>  <pre><code>"""""" Translated from javascript example at http://pcg.wikidot.com/pcg-algorithm:voronoi-diagram  I have included the original comments.  My own comments are preceded by two hash-tags/pound-signs. IE # Original Javascript comments here ## My comments here """"""  import random import pygame from pygame import gfxdraw  # specify an empty points array ## I will use a list. points = [] lines = []  # get a random number in range min, max -1 ## No need for our own random number function. ## Just, import random, instead.   def definePoints(numPoints, mapSize):     # we want to take a group of points that will fit on our map at random     for typ in range(numPoints):         # here's the random points         x = random.randrange(0, mapSize)         y = random.randrange(0, mapSize)         # ""type:"" decides what point it is         # x, y: location         # citizens: the cells in our grid that belong to this point         ## Can't use ""type:"" (without quotes) in python comments         ## Since I don't know Javascript, I dunno what he's doing here.         ## I'm just going to append lists inside points.         ## order is: type, x, y, citizens         points.append([typ, x, y, []])      # brute force-y but it works     # for each cell in the grid     for x in range(mapSize):         for y in range(mapSize):             # find the nearest point             lowestDelta = (0, mapSize * mapSize)             for p in range(len(points)):                 # for each point get the difference in distance                 # between our point and the current cell                 ## I split the above comment into two so                 ## it would be less than 80 characters.                 delta = abs(points[p][1] - x) + abs(points[p][2] - y)                 # store the point nearest if it's closer than the last one                 if delta &lt; lowestDelta[1]:                     lowestDelta = (p, delta)              # push the cell to the nearest point             ## Okay, here's where I start getting confused.             ## I dunno how to do whatever he's doing in Python.             for point in points:                 if lowestDelta[0] == point[0]:                         activePoint = point             dx = x - activePoint[1]             dy = y - activePoint[2]             # log delta in cell for drawing             ## Again, not sure what he's doing here.             for point in points:                 if activePoint == point:                     point[3].append(dx)                     point[3].append(dy)      return points  ## all comments and code from here on are mine. def main():     # Get points     points = definePoints(20, 400)     print(""lines: "", lines)      # Setup pygame screens.     pygame.init()     size = (400, 400)     screen = pygame.display.set_mode(size)     white = (255, 255, 255)      done = False      # Control fps of window.     clock = pygame.time.Clock()     fps = 40      while not done:         for event in pygame.event.get():             if event.type == pygame.QUIT:                 done = True          for point in points:             for p in point[3]:                 # draw white wherever there's a point.                 # pygame windows are black by default                 gfxdraw.pixel(screen, point[1], point[2], white)          # controls FPS         clock.tick(fps)  if __name__ == ""__main__"":     main() </code></pre>  <p>Original Example Code:</p>  <pre><code>//specify an empty points array var points = [];  //get a random number in range min, max - 1 function randRange(min, max) {     return Math.floor(Math.random() * ((max) - min) + min); }  function definePoints(numPoints, mapSize) {     //we want to take a group of points that will fit on our map at random     for(var i = 0; i &lt; numPoints; i++) {         //here's the random points         var x = randRange(0, mapSize);         var y = randRange(0, mapSize);         //type: decides which point it is         //x, y: location         //citizens: the cells in our grid that belong to this point         points.push({type: i, x: x, y: y, citizens: []});     }     //brute force-y but it works     //for each cell in the grid     for(var x = 0; x &lt; mapSize; x++) {         for(var y = 0; y &lt; mapSize; y++) {             //find the nearest point             var lowestDelta = {pointId: 0, delta: mapSize * mapSize};             for(var p = 0; p &lt; points.length; p++) {                 //for each point get the difference in distance between our point and the current cell                 var delta = Math.abs(points[p].x - x) + Math.abs(points[p].y - y);                 //store the point as nearest if it's closer than the last one                 if(delta &lt; lowestDelta.delta) {                     lowestDelta = {pointId: p, delta: delta};                 }             }             //push the cell to the nearest point             var activePoint = points[lowestDelta.pointId];             var dx = x - activePoint.x;             var dy = y - activePoint.y;             //log delta in cell for drawing             activePoint.citizens.push({                 dx: dx,                  dy: dy             });         }     } }  definePoints(20, 40);  for(var point of points) {         for(var citizen of point.citizens) {             //set color of cell based on point             //draw cell at (point.x + citizen.dx) * cellSize, (point.y + citizen.dy) * cellSize         }     } </code></pre>"	"<p>Here's the fixed version. The author uses dictionaries/associative arrays for the points and <code>lowestDelta</code>, but it works with lists and tuples as well. I only changed the code to ""push the cell to the nearest point"" and add the offset of the citizen points in the drawing loop. BTW, since you only need to draw the points once, you can do it before the while loop to make the code more efficient.</p>  <pre><code>import random import pygame from pygame import gfxdraw   def definePoints(numPoints, mapSize):     points = []     # we want to take a group of points that will fit on our map at random     for typ in range(numPoints):         # here's the random points         x = random.randrange(0, mapSize)         y = random.randrange(0, mapSize)         # ""type:"" decides what point it is         # x, y: location         # citizens: the cells in our grid that belong to this point         points.append([typ, x, y, []])      # brute force-y but it works     # for each cell in the grid     for x in range(mapSize):         for y in range(mapSize):             # find the nearest point             lowestDelta = (0, mapSize * mapSize)             for p in range(len(points)):                 # for each point get the difference in distance                 # between our point and the current cell                 delta = abs(points[p][1] - x) + abs(points[p][2] - y)                 # store the point nearest if it's closer than the last one                 if delta &lt; lowestDelta[1]:                     lowestDelta = (p, delta)              # push the cell to the nearest point             activePoint = points[lowestDelta[0]]             dx = x - activePoint[1]             dy = y - activePoint[2]             activePoint[3].append((dx, dy))      return points   def main():     pygame.init()     size = (400, 400)     screen = pygame.display.set_mode(size)     white = pygame.Color('white')      done = False     clock = pygame.time.Clock()     fps = 40      points = definePoints(50, 400)      # Draw the points before the while loop starts. No need to draw them again.     for point in points:         # Use different random colors for the points.         color = (random.randrange(256), random.randrange(256),                  random.randrange(256))         for p in point[3]:             # Draw the citizen points.             # Add the offset of the citizen to the positions of the points.             gfxdraw.pixel(screen, point[1]+p[0], point[2]+p[1], color)         # draw white wherever there's a point.         gfxdraw.pixel(screen, point[1], point[2], white)      while not done:         for event in pygame.event.get():             if event.type == pygame.QUIT:                 done = True          clock.tick(fps)         pygame.display.flip()   if __name__ == '__main__':     main() </code></pre>"
49608492	Python Selenium view page source shows JavaScript but inspecting elements shows HTML elements	javascript|jquery|selenium-webdriver	2018-04-02 09:16:33.427000 UTC	"<p>I'm trying to access links to attachments for a web automation project. The problem is that when I load the web-page via Chrome and inspect element, I can see HTML Code (divs and tables) but when I use the view source option, all I see is JavaScript functions. </p>  <p>Now when I try to access an element via selenium(which has access to source, the JavaScript Code) I can't find any element there. I cannot explicitly find the mention of iFrames, but I think the iFrames that contain this information are being loaded by the JavaScript Code. Is there a way to get access to the underlying HTML to find the elements and get access to the links?</p>  <p><strong>NOTE :</strong> When I try to view the page source which is a collection of JavaScript functions, there are no links to a frame which can be followed to get the required HTML.</p>  <p><strong>For context :</strong> </p>  <p><strong>The inspect element looks like :</strong> </p>  <pre><code>&lt;div id=""SectionAttachments""&gt;     &lt;table summary="""" border=""0"" cellspacing=""5"" cellpadding=""0""&gt;        &lt;tbody&gt;           &lt;tr&gt;              &lt;td&gt;&lt;/td&gt;              &lt;td&gt;&lt;img class=""attachmentsIcon"" src=""images/modern_graphite/attachment_url.png"" alt=""Linked Resource"" title=""Linked Resource""&gt;&lt;/td&gt;              &lt;td class=""attachmentTitle""&gt;                 &lt;a href=""LINK GOES HERE"" class=""nounderline"" title="""" target=""_blank""&gt;Customer View&lt;/a&gt;              &lt;/td&gt;              &lt;td&gt;by&lt;/td&gt;              &lt;td class=""attachmentAuthor contact_popover"" ivalue=""99832""&gt;&lt;/td&gt;              &lt;td class=""attachmentDate""&gt;&lt;span class=""dateSpacer""&gt;-&lt;/span&gt;10/25/2016 04:21:13 AM&lt;/td&gt;              &lt;td width=""16""&gt;                 &lt;a href=""javascript:onAttEdit('IssuePage&amp;amp;Template=atturl&amp;amp;TableId=1003&amp;amp;RecordId=6931123&amp;amp;TableId2=19&amp;amp;Id2=7705574&amp;amp;ProjectId=4581')"" class=""nounderline"" title=""""&gt;&lt;img align=""middle"" src=""images/modern_graphite/edit.gif"" alt=""Edit this Attachment"" title=""Edit this Attachment"" border=""0""&gt;&lt;/a&gt;              &lt;/td&gt;              &lt;td width=""16""&gt;                 &lt;script type=""text/javascript""&gt;                    if(this.eMail)                    {                    document.write( ""&lt;a href=javascript:eMail('85',99832,document.forms[0].F99832,7705574) style={13}&gt;&lt;img src='images/modern_graphite/email.gif' border='0' align='top' alt='Send E-mail' title='Send E-mail'&gt;&lt;/a&gt;"");                    }                    else if(parent&amp;&amp;parent.eMail)                    {                    document.write( ""&lt;a href=javascript:parent.eMail('85',99832,document.forms[0].F99832,7705574) style={13}&gt;&lt;img src='images/modern_graphite/email.gif' border='0' valign='bottom' alt='Send E-mail' title='Send E-mail'&gt;&lt;/a&gt;"");                    }                 &lt;/script&gt;&lt;a href=""javascript:eMail('85',99832,document.forms[0].F99832,7705574)"" style=""{13}""&gt;&lt;img src=""images/modern_graphite/email.gif"" border=""0"" align=""top"" alt=""Send E-mail"" title=""Send E-mail""&gt;&lt;/a&gt;              &lt;/td&gt;           &lt;/tr&gt;        &lt;/tbody&gt;     &lt;/table&gt; &lt;/div&gt; </code></pre>  <p>I want to extract the link at ""LINK GOES HERE""</p>  <p><strong>The Page source has no div with ID = ""section attachments"" or any other elements inside the div. (I searched with corresponding IDs, class names etc, no success)</strong></p>  <p><strong>What I have tried :</strong> </p>  <ul> <li><p>I tried to search the page source from the browser, no results.</p></li> <li><p>My selenium code tries to search for these elements using XPath, it returns no element found.</p>  <p>XPath expression : </p>  <p><code>driver.get_element_by_xpath(""//td[@class = 'attachmentTitle']/a/@href"")</code></p></li> <li><p>I have tried putting my script to sleep in case the page isn't fully loaded, no effect.</p></li> </ul>  <p>Is there a way to get these links via selenium? Any help will be highly appreciated.</p>  <p><strong>EDIT :</strong>  The problem was resolved by modifying the URL a bit to load a page that renders similarly but has iFrame tags that I can switch to and then find the elements using the same Xpath and get the links. </p>  <p>This page was being loaded after a few redirects from another page. A slight string modification of the URL (using replace in Python) solved the problem. Thanks to all who tried to help.</p>"	"<p>Looks like there are few things that you may be mixing together:</p>  <ol> <li><p>When you view the page source in the browser, you're shown the html as it was sent from the server. This html can contain JavaScript that creates elements dynamically, but in the html itself you'd see only the JavaScript code that creates them.</p></li> <li><p>The DOM which is what you see when you inspect element, is the current structure of the page. Initially it's pretty much the same as the html, but may include elements that were created or changed dynamically using JavaScript after the page was loaded from the server. This is also what Selenium interacts with.</p></li> <li><p>(Not sure if you mentioned it, but for the sake of completeness) driver.page_source returns a string which represents that DOM (current state), but as a valid html format.</p></li> <li><p>An html page can contain nested pages using the iframe tag. Each (parent or nested) page had its own html source and its own DOM. In Selenium you have to explicitly switch between them using the driver.switch_to method. Note that on the browser's dev tools though (ie, inspect element), the DOMs of all pages appear combined as one.</p></li> </ol>"
49608492	Python Selenium view page source shows JavaScript but inspecting elements shows HTML elements	javascript|jquery|selenium-webdriver	2018-04-02 09:16:33.427000 UTC	"<p>I'm trying to access links to attachments for a web automation project. The problem is that when I load the web-page via Chrome and inspect element, I can see HTML Code (divs and tables) but when I use the view source option, all I see is JavaScript functions. </p>  <p>Now when I try to access an element via selenium(which has access to source, the JavaScript Code) I can't find any element there. I cannot explicitly find the mention of iFrames, but I think the iFrames that contain this information are being loaded by the JavaScript Code. Is there a way to get access to the underlying HTML to find the elements and get access to the links?</p>  <p><strong>NOTE :</strong> When I try to view the page source which is a collection of JavaScript functions, there are no links to a frame which can be followed to get the required HTML.</p>  <p><strong>For context :</strong> </p>  <p><strong>The inspect element looks like :</strong> </p>  <pre><code>&lt;div id=""SectionAttachments""&gt;     &lt;table summary="""" border=""0"" cellspacing=""5"" cellpadding=""0""&gt;        &lt;tbody&gt;           &lt;tr&gt;              &lt;td&gt;&lt;/td&gt;              &lt;td&gt;&lt;img class=""attachmentsIcon"" src=""images/modern_graphite/attachment_url.png"" alt=""Linked Resource"" title=""Linked Resource""&gt;&lt;/td&gt;              &lt;td class=""attachmentTitle""&gt;                 &lt;a href=""LINK GOES HERE"" class=""nounderline"" title="""" target=""_blank""&gt;Customer View&lt;/a&gt;              &lt;/td&gt;              &lt;td&gt;by&lt;/td&gt;              &lt;td class=""attachmentAuthor contact_popover"" ivalue=""99832""&gt;&lt;/td&gt;              &lt;td class=""attachmentDate""&gt;&lt;span class=""dateSpacer""&gt;-&lt;/span&gt;10/25/2016 04:21:13 AM&lt;/td&gt;              &lt;td width=""16""&gt;                 &lt;a href=""javascript:onAttEdit('IssuePage&amp;amp;Template=atturl&amp;amp;TableId=1003&amp;amp;RecordId=6931123&amp;amp;TableId2=19&amp;amp;Id2=7705574&amp;amp;ProjectId=4581')"" class=""nounderline"" title=""""&gt;&lt;img align=""middle"" src=""images/modern_graphite/edit.gif"" alt=""Edit this Attachment"" title=""Edit this Attachment"" border=""0""&gt;&lt;/a&gt;              &lt;/td&gt;              &lt;td width=""16""&gt;                 &lt;script type=""text/javascript""&gt;                    if(this.eMail)                    {                    document.write( ""&lt;a href=javascript:eMail('85',99832,document.forms[0].F99832,7705574) style={13}&gt;&lt;img src='images/modern_graphite/email.gif' border='0' align='top' alt='Send E-mail' title='Send E-mail'&gt;&lt;/a&gt;"");                    }                    else if(parent&amp;&amp;parent.eMail)                    {                    document.write( ""&lt;a href=javascript:parent.eMail('85',99832,document.forms[0].F99832,7705574) style={13}&gt;&lt;img src='images/modern_graphite/email.gif' border='0' valign='bottom' alt='Send E-mail' title='Send E-mail'&gt;&lt;/a&gt;"");                    }                 &lt;/script&gt;&lt;a href=""javascript:eMail('85',99832,document.forms[0].F99832,7705574)"" style=""{13}""&gt;&lt;img src=""images/modern_graphite/email.gif"" border=""0"" align=""top"" alt=""Send E-mail"" title=""Send E-mail""&gt;&lt;/a&gt;              &lt;/td&gt;           &lt;/tr&gt;        &lt;/tbody&gt;     &lt;/table&gt; &lt;/div&gt; </code></pre>  <p>I want to extract the link at ""LINK GOES HERE""</p>  <p><strong>The Page source has no div with ID = ""section attachments"" or any other elements inside the div. (I searched with corresponding IDs, class names etc, no success)</strong></p>  <p><strong>What I have tried :</strong> </p>  <ul> <li><p>I tried to search the page source from the browser, no results.</p></li> <li><p>My selenium code tries to search for these elements using XPath, it returns no element found.</p>  <p>XPath expression : </p>  <p><code>driver.get_element_by_xpath(""//td[@class = 'attachmentTitle']/a/@href"")</code></p></li> <li><p>I have tried putting my script to sleep in case the page isn't fully loaded, no effect.</p></li> </ul>  <p>Is there a way to get these links via selenium? Any help will be highly appreciated.</p>  <p><strong>EDIT :</strong>  The problem was resolved by modifying the URL a bit to load a page that renders similarly but has iFrame tags that I can switch to and then find the elements using the same Xpath and get the links. </p>  <p>This page was being loaded after a few redirects from another page. A slight string modification of the URL (using replace in Python) solved the problem. Thanks to all who tried to help.</p>"	"<p>get element by - </p>  <pre><code>ele = driver.get_element_by_xpath(""//td[@class = 'attachmentTitle']/a"") </code></pre>  <p>then retrieve element attribute using -</p>  <pre><code> ele.get_attribute('href') </code></pre>"
49619569	Error in executing a python function from a javascript code using flask	javascript|python|flask|socket.io	2018-04-02 22:19:14.573000 UTC	"<p>I have am running a <code>python</code> <code>flask</code> application and from the <code>html</code> page I am calling a <code>javascript</code> file(using <code>&lt;script src=....&gt;</code>). Here is my <code>html</code> file:</p>  <p><strong>HTML FILE:</strong></p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=""en""&gt; &lt;head&gt;     &lt;meta charset=""UTF-8""&gt;     &lt;title&gt;Title1&lt;/title&gt;     &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"" integrity=""sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"" crossorigin=""anonymous""&gt;     &lt;script src=""https://code.jquery.com/jquery-3.1.1.min.js""&gt;     &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"" integrity=""sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"" crossorigin=""anonymous""&gt;&lt;/script&gt;     &lt;script src=""static/chat/js/jquery.timeago.js""&gt;&lt;/script&gt;     &lt;script src=""https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"" integrity=""sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"" crossorigin=""anonymous""&gt;&lt;/script&gt;     &lt;script type=""text/javascript"" src=""https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js""&gt;&lt;/script&gt;     &lt;script data-main=""scripts/main"" src=""require.js""&gt;&lt;/script&gt;     &lt;link rel=""stylesheet"" href=""speech.css""&gt;  &lt;/head&gt;  &lt;body&gt; &lt;meta charset=""UTF-8""&gt;  &lt;nav class=""navbar-left"" height=""100"" style=""background-color: #092A66 !important;""&gt;       &lt;a class=""navbar-brand"" padding-top=0 padding-bottom=0 href=""#""&gt;         &lt;img src=""image.jpg""  height=""100"" alt=""""&gt;       &lt;/a&gt;      &lt;/nav&gt;  &lt;br&gt;&lt;br&gt;   &lt;div class=""container""&gt;                 &lt;div id=""chat"" class=""jumbotron"" style=""height:600px;background-color:white""&gt;                     &lt;div id=""conversations"" style=""overflow-y: scroll; height:500px;overflow:auto; ""&gt;                           &lt;div class=""arrow""&gt;&lt;/div&gt;                               &lt;ul class=""ChatLog""&gt;                               &lt;/ul&gt;                           &lt;/div&gt;                     &lt;/div&gt;                      &lt;div id=""compose-message""&gt;                         &lt;label for=""new-input-message""&gt;{{gettext('Message')}}&lt;/label&gt;                         &lt;input type=""text"" id=""new-input-message"" class=""speech-input"" aria-describedby=""new-input-message-help-block"" name=""eng-input"" lang = ""en"" disabled=""false""&gt;                         &lt;small id=""new-input-message-help-block"" class=""form-text text-muted""&gt;                           {{gettext('Hit enter to send message')}}                         &lt;/small&gt;                     &lt;/div&gt;                 &lt;/div&gt; &lt;/div&gt; &lt;script src=""static/speech-in.js""&gt;&lt;/script&gt;    &lt;script async defer src=""https://buttons.github.io/buttons.js""&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;  &lt;script&gt;  $( document ).ready(function() {  var socket = io.connect('http://localhost:5000');  // OTHER IMPORTANT CODE FOR FURTHER PROCESSING  .  .   . });  &lt;/script&gt; </code></pre>  <p>In the above code I am including the <code>socket.io</code> in the <code>head</code> of the <code>html</code> file and then I am including <code>speech-in.js</code> file in which I want to use socket connection. My current code in <code>speech-in.js</code> is:</p>  <p><strong>speech-in.js:</strong></p>  <pre><code>(function() {     'use strict';      // check for support (webkit only)     if (!('webkitSpeechRecognition' in window)) return;      var talkMsg = 'Speak now';     // seconds to wait for more input after last     var defaultPatienceThreshold = 6;      function capitalize(str) {         return str.charAt(0).toUpperCase() + str.slice(1);     }     console.log('Check 1');     var inputEls = document.getElementsByClassName('speech-input');      [].forEach.call(inputEls, function(inputEl) {         var patience = parseInt(inputEl.dataset.patience, 10) || defaultPatienceThreshold;         var micBtn, micIcon, holderIcon, newWrapper;         var shouldCapitalize = true;          // gather inputEl data         var nextNode = inputEl.nextSibling;         var parent = inputEl.parentNode;         var inputRightBorder = parseInt(getComputedStyle(inputEl).borderRightWidth, 10);         var buttonSize = 0.8 * (inputEl.dataset.buttonsize || inputEl.offsetHeight);          // default max size for textareas         if (!inputEl.dataset.buttonsize &amp;&amp; inputEl.tagName === 'TEXTAREA' &amp;&amp; buttonSize &gt; 26) {             buttonSize = 26;         }          // create wrapper if not present         var wrapper = inputEl.parentNode;         if (!wrapper.classList.contains('si-wrapper')) {             wrapper = document.createElement('div');             wrapper.classList.add('si-wrapper');             wrapper.appendChild(parent.removeChild(inputEl));             newWrapper = true;         }         console.log('Check 2');         // create mic button if not present         micBtn = wrapper.querySelector('.si-btn');         if (!micBtn) {             micBtn = document.createElement('button');             micBtn.type = 'button';             micBtn.classList.add('si-btn');             micBtn.textContent = 'speech input';             micIcon = document.createElement('span');             holderIcon = document.createElement('span');             micIcon.classList.add('si-mic');             holderIcon.classList.add('si-holder');             micBtn.appendChild(micIcon);             micBtn.appendChild(holderIcon);             wrapper.appendChild(micBtn);              // size and position mic and input             micBtn.style.cursor = 'pointer';             micBtn.style.top = 0.125 * buttonSize + 'px';             micBtn.style.height = micBtn.style.width = buttonSize + 'px';             inputEl.style.paddingRight = buttonSize - inputRightBorder + 'px';         }          // append wrapper where input was         if (newWrapper) parent.insertBefore(wrapper, nextNode);          console.log('Check 3');          // GOING TO CALL PYTHON FUNCTION          $( document ).ready(function(){           //Receive a new message         socket.on('speech', function(msg) {         var time = new Date();         time_str = time.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })              new_msg='&lt;li class=""ChatLog__entry""&gt; &lt;img class=""ChatLog__avatar"" src=""static/chat/images/Assistant.png"" /&gt; &lt;p class=""ChatLog__message""&gt; '+msg+' &lt;time class=""ChatLog__timestamp""&gt;'+time_str+'&lt;/time&gt; &lt;/p&gt; &lt;/li&gt;'               $(""#conversations ul"").append(new_msg)              $('#new-input-message').prop('disabled', false);              });          });  });     console.log('Check 4'); })(); </code></pre>  <p>As you can see I am making use of <code>socket.on</code> but it throws error because <code>socket</code> is <code>unrecognizable</code>. I am including the <code>socket.io</code> class in my <code>html</code> file and I am establishing a connection to it also in the <code>html</code> file but that connection is not visible in this <code>javascript</code> file. </p>  <p>I also have the python flask application executing which has a function with route <code>@socket.on('speech')</code> qualified to it.</p>  <p>What mistake I am making here and how can I correct it?</p>"	"<p><code>socket</code> object is not available in your <code>speech-in.js</code> file since it is not in global scope.</p>  <p>All <code>socket</code> events should be subscribed to in callback after <code>connect</code> event received:</p>  <pre><code>var socket = io.connect('http://localhost:5000');  socket.on('connect', function() {     // subscribe to events here    socket.on('custom_event_from_flask', function (data) {       console.log('Event received data:' + JSON.stringify(data));    }); }); </code></pre>  <p>One of the options is to move socket initialization into your <code>speech-in.js</code> file from <code>index.html</code>. However, if you expect your project to grow it would be better to change client side (JS) to have it more logically organized using at least <a href=""http://exploringjs.com/es6/ch_modules.html"" rel=""nofollow noreferrer"">JS es6 modules</a>.</p>"
49625954	Python dictionary values in javascript	javascript|python|dictionary	2018-04-03 08:55:08.833000 UTC	<p>How to use python dictionary values in javascript? Please give a sample js code to scrape the dictionary values from the .py file to javascript.</p>	"<p>You should try <a href=""https://docs.python.org/2/library/json.html#json.loads"" rel=""nofollow noreferrer"">json.loads</a> Take a look at this example</p>  <pre><code>&gt;&gt;&gt; import json &gt;&gt;&gt; m = {'json_try': 'True', 'price': 99.99} &gt;&gt;&gt; m {'json_try': 'True', 'price': 99.99} </code></pre>  <p>Then</p>  <pre><code>&gt;&gt;&gt; m = json.dumps(m) &gt;&gt;&gt; m '{""json_try"": ""True"", ""price"": 99.99}' &gt;&gt;&gt; loaded_m = json.loads(m) &gt;&gt;&gt; loaded_m {'json_try': 'True', 'price': 99.99} </code></pre>  <p>Read more <a href=""https://docs.python.org/3/library/json.html"" rel=""nofollow noreferrer"">json</a></p>"
49642970	"Can I use Django/Python API calls, and still use Javascript to manipulate the DOM in real time?"	javascript|python|django	2018-04-04 04:45:48.010000 UTC	"<p>I'm in a full stack course and would like to use Django/Python to post/get my API calls, but use Javascript/Vue to stay on the same page. Can you still do that by essentially having a one page app that doesn't reload or change url? Just wondering before I go full on with it.</p>  <p>Also, what's a good way to use Javascript to get info onto the DOM from an API using an api key and secret key? I've experimented so much but haven't got back anything useful to my knowledge. Help is appreciated, thank you.</p>"	
49661446	Can I run Javascript code on a given URL via Python or PHP on the server side?	javascript|php|python|selenium-webdriver	2018-04-04 22:32:57.577000 UTC	"<p>I'm building a website right now in which I'm trying to execute Javascript code to obtain specific elements of a totally separate site's web page given its URL. I've figured out how to use Selenium.Webdriver on my laptop in Python to achieve this by:</p>  <pre><code>driver = webdriver.Firefox() driver.get(url)  price = driver.execute_script(""var priceElements = document.getElementById('priceblock_ourprice'); var prices = []; for (var i = 0; i &lt; 3; i++) { prices.push(priceElements.children[i].innerHTML); } var price = prices[1] + '.' + prices[2]; return price;"") driver.close() </code></pre>  <p>where it opens up the Firefox browser, runs the JS and then finds this price value that I want. I know there is also a way to do it which is headless and it won't need to physically open up a browser, but I'm trying to figure this out for the case of doing something similar on the website that I'm building.</p>  <p>Is there some way that I can achieve this result but instead of it running on my personal machine, the code runs on the Apache web server? I'm just not sure if this is possible without the machine its running on having a browser that it can open.</p>  <p>I hope I'm clear enough on what I'm doing, but if anyone needs clarification then I'll be happy to answer any questions you may have about this situation.</p>"	"<p>I did something similar with ""lxml"" and ""urllib"" Here is a example:</p>  <pre><code>from lxml import html import urllib  pageLink = """" page = urllib.urlopen(pageLink) pageString = page.read() pageContent = html.fromstring(pageString) imgLink = pageContent.xpath('//img[@id=""img-1""]/@src')[0] </code></pre>"
49663720	Equivalent to python's uuid.uuid4().hex in javascript?	javascript|python|security|cryptography|uuid	2018-04-05 03:33:16.533000 UTC	"<p>Python has functionality to create hex UUID's like so:</p>  <pre><code>&gt;&gt;&gt; import uuid &gt;&gt;&gt; uuid.uuid4().hex '47be94c37e484e13ab04ed3c54a5b681' </code></pre>  <ul> <li>Is it possible to do the same in client javascript, with the same hex formatting?</li> <li>Is there a way to ""validate"" the UUID the client sends back? I.e. prevent or notice if a malicious user sends back ""1234abcdsh*t...""</li> </ul>  <p>A solution idea is to just generate each of the 32 characters randomly on the frontend, but I don't know if there's anything special about the hex UUID's, and I'm also not sure if there's a good way to validate the client sent back a valid value (and not a series of 32 a's)</p>  <p><strong>Edit: just realized there's nothing special about the ""hex"" formatting, it's just missing the dashes. Will leave that bullet up in case it confuses anyone else.</strong></p>"	"<p>You can use buffer to convert to hex conveniently.</p> <pre><code>const uuid = require('uuid') const buffer = Buffer.alloc(16);  uuid.v4({}, buffer); console.log(buffer.toString('hex')); </code></pre> <p>Not the cleanest and most elegant solution but will get the job done.</p>"
49712430	Scraping specific javascript variables from HTML using python requests	javascript|python|html|beautifulsoup|python-requests	2018-04-07 22:08:00.247000 UTC	"<p>I am currently making a GET request on python, and in the response it returns a few specific variables that I need to extract and ""save"" as variables in my code for future use in the code. </p>  <p>The variables are called accessToken, ivString, and fpAccountId. Each of them are equal something and that is what I need to extract. </p>  <p>Here is how it looks in the GET request response HTML:</p>  <pre><code>var accessToken = ""8CULRLPATAMoPf3fIRKJ7D13e3Dtchruqu=""; var ivString = ""2e84726625315acjfshfsf==""; var encryptedFpAccountId = ""NArzA4fzqrskjfs6sf==""; </code></pre>  <p>These are the 3 that I need. The code that I have so far has been using Beautiful Soup to extract the HTML but I am unsure of how to get these values into a simplified version so I can use the variables in my future code. Here is what I have so far using beautiful soup to get the response:</p>  <pre><code>uSoup = BeautifulSoup(b.text, 'html.parser') data = uSoup.find_all('script')[16].string </code></pre>  <p>b is the resonse</p>"	"<p>One way you can get value of the accessToken, ivString and encryptedFpAccountId is by using the slice operator on data you get and clipping the value of these variables by hit and try and getting the slice values e.g data[10:40] for accessToken</p>"
49769903	How to decode javascript unicode string in python?	python|unicode|utf|ucs2	2018-04-11 08:15:04.837000 UTC	"<p>I found that it is a character of <code>TWO HEARTS</code> <a href=""http://www.charbase.com/1f495-unicode-two-hearts"" rel=""nofollow noreferrer"">here</a>. I tried to decode it:</p>  <pre><code>a = '\ud83d\udc95' a.encode('utf-8').decode('utf-8') UnicodeEncodeError: 'utf-8' codec can't encode characters in position 0-1: surrogates not allowed </code></pre>  <p>How to get the right symbol?</p>  <p>Thank you.</p>"	"<p>I cant make a comment, so here is the answer for how to transform<code>&quot;\uD83D\uDC95&quot;.encode('utf-16', 'surrogatepass').decode('utf-16').encode('unicode_escape').decode('utf-8')</code></p>"
49769903	How to decode javascript unicode string in python?	python|unicode|utf|ucs2	2018-04-11 08:15:04.837000 UTC	"<p>I found that it is a character of <code>TWO HEARTS</code> <a href=""http://www.charbase.com/1f495-unicode-two-hearts"" rel=""nofollow noreferrer"">here</a>. I tried to decode it:</p>  <pre><code>a = '\ud83d\udc95' a.encode('utf-8').decode('utf-8') UnicodeEncodeError: 'utf-8' codec can't encode characters in position 0-1: surrogates not allowed </code></pre>  <p>How to get the right symbol?</p>  <p>Thank you.</p>"	<p>The page you link to tells you the</p>  <blockquote>   <p>Python Escape u'\U0001f495'</p> </blockquote>  <p>Use it:</p>  <pre><code>&gt;&gt;&gt; u'\U0001f495' '' </code></pre>
49769903	How to decode javascript unicode string in python?	python|unicode|utf|ucs2	2018-04-11 08:15:04.837000 UTC	"<p>I found that it is a character of <code>TWO HEARTS</code> <a href=""http://www.charbase.com/1f495-unicode-two-hearts"" rel=""nofollow noreferrer"">here</a>. I tried to decode it:</p>  <pre><code>a = '\ud83d\udc95' a.encode('utf-8').decode('utf-8') UnicodeEncodeError: 'utf-8' codec can't encode characters in position 0-1: surrogates not allowed </code></pre>  <p>How to get the right symbol?</p>  <p>Thank you.</p>"	"<p>Use <a href=""https://docs.python.org/3/library/json.html"" rel=""nofollow noreferrer""><strong>json</strong></a> module to help you solve different <code>Unicode</code>.</p>  <pre><code>import json  a = '\ud83d\udc95' m = json.dumps({""k"": a}) print(json.loads(m)[""k""])  #  </code></pre>"
49791780	Python To Javascript - Numpy Issue	javascript|python|numpy	2018-04-12 08:38:15.893000 UTC	"<p>I have this piece of code that i am trying to convert from Python to Javascript. It is a non-maximum suppression function. It seeks to remove maximum values around a local maximum in a 2D array of floating point values. Since it is using a numpy function, it does not convert easily to javascript.</p>  <pre><code> def non_max_suppression(plain, window_size=3, threshold=NMS_Threshold):         under_threshold_indices = plain &lt; threshold         plain[under_threshold_indices] = 0         return plain * (plain == maximum_filter(plain, footprint=np.ones((window_size, window_size)))) </code></pre>  <p>Here is an approximate conversion, still in Python. However, the result is not the same. It provides approximately the same result but some of the maximums are suppressed that should be kept.</p>  <pre><code>def non_max_suppression(plain, window_size=3, threshold=NMS_Threshold):         under_threshold_indices = plain &lt; threshold         plain[under_threshold_indices] = 0         outter = np.zeros((46, 54))         for i in range(window_size, 41, window_size):             for j in range(window_size, 49, window_size):                 maxVal = 0;                 maxLoc = [-1,-1]                 for k in range(i-window_size, i+window_size):                     for h in range(j-window_size, j+window_size):                         if(plain[k][h]&gt;maxVal):                             maxVal = plain[k][h]                             maxLoc = [k,h]                 if(maxVal&gt;0):                                                 outter[maxLoc[0]][maxLoc[1]]=maxVal         return outter </code></pre>  <p>This is easy to convert to Javascript.</p>  <pre><code>function makeArray(w, h, val) {     var arr = [];     for(i = 0; i &lt; w; i++) {         arr[i] = [];         for(j = 0; j &lt; h; j++) {             arr[i][j] = val;         }     }     return arr; }  non_max_suppression(plain, window_size=3, threshold=this.NMS_Threshold) {         var nmsImage = makeArray(plain.length, plain[0].length,0);         for(var i=0; i&lt;(plain.length); i+=1){             for(var j=0; j&lt;(plain[i].length); j+=1){                 if(plain[i][j]&lt;threshold) {                     plain[i][j]=0;                 }             }         }         for(var i=window_size; i&lt;(plain.length-window_size); i+=window_size){             for(var j=window_size; j&lt;(plain[i].length-window_size); j+=window_size){                 var maxVal = 0;                 var maxLoc = [-1,-1];                 for(var k=i-3; k&lt;i+3; k+=1){                     for(var h=j-3; h&lt;j+3; h+=1){                         if((plain[k][h]&gt;maxVal) &amp;&amp; (plain[k][h]&gt;=threshold)){                              maxVal = plain[k][h];                             maxLoc = [k,h];                         }                         //plain[k][h]=0;                     }                 }                 if(maxVal&gt;0) {                     nmsImage[maxLoc[0]][maxLoc[1]] = maxVal;                 }             }         }         return nmsImage;     } </code></pre>  <p>Any advice on how to correct this?</p>"	"<p>I Think the problem is, that you didn't look for the maximum in one dimension as it is stated in the <a href=""https://github.com/scipy/scipy/blob/11509c4a98edded6c59423ac44ca1b7f28fba1fd/scipy/ndimage/filters.py#L988"" rel=""nofollow noreferrer"" title=""ndimagefilterquot;"">source code</a> of scipy.ndimage.maximum_filter:</p>  <pre><code>""""""Calculate a one-dimensional maximum filter along the given axis. </code></pre>  <p>You need to rerun the maximum search along the y, x and the diagonal axis seperatly: <a href=""https://en.wikipedia.org/wiki/Canny_edge_detector#Non-maximum_suppression"" rel=""nofollow noreferrer"">wikipedia non-max-suppression</a></p>"
49811608	How to pass values returned from callback function of javascript (ajax) to Python web socket server	javascript|python|ajax	2018-04-13 07:31:00.533000 UTC	"<p>I understand this question has been asked in different formats. But I am still stacked to solve this for hours. Please help. I have this function which extracts current location (e.g. latitude and longitude)   </p>  <pre><code>function get_locations(callback){                 $.ajax({                   data: 'data to send',                   url: ""https://geoip-db.com/jsonp"",                   jsonpCallback: ""callback"",                   dataType: ""jsonp"",                   success: function (location) {                       data = location;                       long = location.longitude                       lat = location.latitude                       callback(data);                     },                   error: function () {}               });        } </code></pre>  <p>And <em>get_locations_success</em> which I can acces values returned from get_locations. </p>  <pre><code>function get_locations_success(data) {       console.log('long...lat..' + data.longitude + ' ' + data.latitude); // I can access values up to this point } </code></pre>  <p>My question is on how to access the values of latitude and longitude outside of <em>get_locations_success</em> function? Or how can I pass these value to the python webserver? E.g. calling <em>get_locations(get_locations_success)</em> returns <em>undefind</em> </p>"	
49819973	CORS issue with a pure-JavaScript program (no node or Python)	cors	2018-04-13 15:01:05.973000 UTC	"<p>I've written a pure JavaScript application that uses no server at all but lets you write and run 3D VPython animations when disconnected from the internet, without having to install anything such as Python or node. Just download and unzip this zip file and doubleclick GlowScript.html:</p>  <p><a href=""https://github.com/BruceSherwood/glowscript/blob/master/GlowScriptOffline2.7.zip"" rel=""nofollow noreferrer"">https://github.com/BruceSherwood/glowscript/blob/master/GlowScriptOffline2.7.zip</a></p>  <p>However, no matter where I place an image file or font file within this package, when attempting to reference this local file I get a CORS error which complains that the request is coming from ""null"". As a result, one has to be connected to the internet for images and fonts to work.</p>  <p>Is there some way to get around this CORS issue?</p>  <p>Bruce Sherwood</p>"	"<p>It turns out that there is a way around the CORS constraints. Exit Chrome, then execute one of the following commands:</p>  <p>Windows: start chrome.exe --disable-web-security –-allow-file-access-from-files --user-data-dir</p>  <p>Mac: /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --disable-web-security –-allow-file-access-from-files --user-data-dir</p>  <p>Linux: google-chrome --disable-web-security –-allow-file-access-from-files --user-data-dir</p>  <p>This will start up Chrome, which will give this warning: ""You are using an unsupported command-line flag: --disable-web-security. Stability and security will suffer.""</p>  <p>Doubleclick the html file for the offline package, and now the application is able to read image and font files that are part of the package.</p>"
49847788	Is there a javascript object equivalent to python's pop() on dicts?	javascript|python|ecmascript-6	2018-04-15 23:32:05.097000 UTC	"<p>I'm looking for a JavaScript equivalent of Python's {dict}.pop(). I see that JS has a shift() and pop(), but those are hardcoded for first and last positions in an Array. Is there an equivalent where I can specify the position for an Object?</p>  <p>Example of what I can do in Python:</p>  <pre><code>&gt;&gt;&gt; foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} &gt;&gt;&gt; player = foxx.pop('player') &gt;&gt;&gt; foxx {'date': '2018-01-01', 'homeruns': 3, 'hits': 4} &gt;&gt;&gt; player {'name': 'Jimmie', 'last': 'Foxx', 'number': 3} </code></pre>"	"<p>I do not think there is such a thing, also note that <code>shift</code> and <code>pop</code> are methods of <code>array</code>, not of an <code>object</code>.</p>  <p>But you could polyfill that yourself easily:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>Object.defineProperty(Object.prototype, 'pop', {   enumerable: false,   configurable: true,   writable: false,   value: function (key) {     const ret = this[key];     delete this[key];        return ret;   } });  var foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} var player = foxx.pop('player') console.log(foxx, player);</code></pre> </div> </div> </p>"
49847788	Is there a javascript object equivalent to python's pop() on dicts?	javascript|python|ecmascript-6	2018-04-15 23:32:05.097000 UTC	"<p>I'm looking for a JavaScript equivalent of Python's {dict}.pop(). I see that JS has a shift() and pop(), but those are hardcoded for first and last positions in an Array. Is there an equivalent where I can specify the position for an Object?</p>  <p>Example of what I can do in Python:</p>  <pre><code>&gt;&gt;&gt; foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} &gt;&gt;&gt; player = foxx.pop('player') &gt;&gt;&gt; foxx {'date': '2018-01-01', 'homeruns': 3, 'hits': 4} &gt;&gt;&gt; player {'name': 'Jimmie', 'last': 'Foxx', 'number': 3} </code></pre>"	"<p>Not in one instruction, but you can get the property and then use <code>delete</code> to remove the property from an object.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4};  let player = foxx.player; delete foxx.player;  console.log(foxx); console.log(player);</code></pre> </div> </div> </p>  <p>So you could create some custom function that does these two operations in one go :</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function pop(object, propertyName) {     let temp = object[propertyName];     delete object[propertyName];     return temp; }  let myObj = { property1 : 'prop1', property2: 'prop2' };  let test = pop(myObj, 'property1');  console.log(myObj); console.log(test);</code></pre> </div> </div> </p>  <p>There is probably a better way of writing this, suggestions welcome. (for instance, see <a href=""https://stackoverflow.com/a/49847870/479251"">Martin Adámek's answer</a> for a nice implementation leading to the same python syntax)</p>"
49847788	Is there a javascript object equivalent to python's pop() on dicts?	javascript|python|ecmascript-6	2018-04-15 23:32:05.097000 UTC	"<p>I'm looking for a JavaScript equivalent of Python's {dict}.pop(). I see that JS has a shift() and pop(), but those are hardcoded for first and last positions in an Array. Is there an equivalent where I can specify the position for an Object?</p>  <p>Example of what I can do in Python:</p>  <pre><code>&gt;&gt;&gt; foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} &gt;&gt;&gt; player = foxx.pop('player') &gt;&gt;&gt; foxx {'date': '2018-01-01', 'homeruns': 3, 'hits': 4} &gt;&gt;&gt; player {'name': 'Jimmie', 'last': 'Foxx', 'number': 3} </code></pre>"	"<p>Taken from <a href=""https://stackoverflow.com/a/53912486/11769765"">https://stackoverflow.com/a/53912486/11769765</a></p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4}  var {player, ...foxx} = foxx  console.log(foxx) console.log(player)</code></pre> </div> </div> </p>"
49847788	Is there a javascript object equivalent to python's pop() on dicts?	javascript|python|ecmascript-6	2018-04-15 23:32:05.097000 UTC	"<p>I'm looking for a JavaScript equivalent of Python's {dict}.pop(). I see that JS has a shift() and pop(), but those are hardcoded for first and last positions in an Array. Is there an equivalent where I can specify the position for an Object?</p>  <p>Example of what I can do in Python:</p>  <pre><code>&gt;&gt;&gt; foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} &gt;&gt;&gt; player = foxx.pop('player') &gt;&gt;&gt; foxx {'date': '2018-01-01', 'homeruns': 3, 'hits': 4} &gt;&gt;&gt; player {'name': 'Jimmie', 'last': 'Foxx', 'number': 3} </code></pre>"	"<p>The modern way of doing this in js is using the rest operator(3 dots) but still not changing the original object in place.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let obj = {'key1': 'value1', 'key2': 'value2'} const {key1, ...objNew} = obj; console.log(""key1"", key1); console.log(""objNew"", objNew);</code></pre> </div> </div> </p> <p>The above snippet causes the new <code>objNew</code> object to only contain <code>key2</code> and a new variable <code>key1</code> will contain the value contained in the <code>key1</code> property of <code>obj</code> object.</p>"
49847788	Is there a javascript object equivalent to python's pop() on dicts?	javascript|python|ecmascript-6	2018-04-15 23:32:05.097000 UTC	"<p>I'm looking for a JavaScript equivalent of Python's {dict}.pop(). I see that JS has a shift() and pop(), but those are hardcoded for first and last positions in an Array. Is there an equivalent where I can specify the position for an Object?</p>  <p>Example of what I can do in Python:</p>  <pre><code>&gt;&gt;&gt; foxx = {'player':{'name':'Jimmie','last':'Foxx','number':3}, 'date':'2018-01-01', 'homeruns':3,'hits':4} &gt;&gt;&gt; player = foxx.pop('player') &gt;&gt;&gt; foxx {'date': '2018-01-01', 'homeruns': 3, 'hits': 4} &gt;&gt;&gt; player {'name': 'Jimmie', 'last': 'Foxx', 'number': 3} </code></pre>"	"<p>With a custom function:</p>  <pre><code>function pop(obj, key) {     var val = obj[key];     delete obj[key];     return val; } </code></pre>"
49867912	Scraping an updating JavaScript page in Python	python|html|selenium	2018-04-17 00:06:16.660000 UTC	"<p>I've been working on a research project that is looking to obtain a list of reference articles from the Brazil Hemeroteca (The desired page reference: <a href=""http://memoria.bn.br/DocReader/720887x/839"" rel=""nofollow noreferrer"">http://memoria.bn.br/DocReader/720887x/839</a>, needs to be collected from two hidden elements on the following page: <a href=""http://memoria.bn.br/DocReader/docreader.aspx?bib=720887x&amp;pasta=ano%20189&amp;pesq=Milho"" rel=""nofollow noreferrer"">http://memoria.bn.br/DocReader/docreader.aspx?bib=720887x&amp;pasta=ano%20189&amp;pesq=Milho</a>). I asked a question a few weeks back that was answered and I was able to get things running well in regards to that, but now I've hit a new snag and I'm not exactly sure how to get around it.</p>  <p>The problem is that after the first form is filled in, the page redirects to a second page, which is a JavaScript/AJAX enabled page which I need to spool through all of the matches, which is done by means of clicking a button at the top of the page. The problem I'm encountering is that when clicking the next page button I'm dealing with elements on the page that are updating, which leads to Stale Elements. I've tried to implement a few pieces of code to detect when this ""stale"" effect occurs to indicate the page has changed, but this has not provided much luck. Here is the code I've implemented:</p>  <pre><code>import urllib from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium import webdriver from selenium.webdriver.support.wait import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import Select import time  saveDir = ""C:/tmp""  print(""Opening Page..."")  browser = webdriver.Chrome() url = ""http://bndigital.bn.gov.br/hemeroteca-digital/"" browser.get(url)  print(""Searching for elements"")  fLink = """" fails = 0  frame_ref = browser.find_elements_by_tag_name(""iframe"")[0] iframe = browser.switch_to.frame(frame_ref) journal = browser.find_element_by_id(""PeriodicoCmb1_Input"")  search_journal = ""Relatorios dos Presidentes dos Estados Brasileiros (BA)"" search_timeRange = ""1890 - 1899"" search_text = ""Milho""  xpath_form = ""//input[@name=\'PesquisarBtn1\']"" xpath_journal = ""//li[text()=\'""+search_journal+""\']"" xpath_timeRange = ""//input[@name=\'PeriodoCmb1\' and not(@disabled)]"" xpath_timeSelect = ""//li[text()=\'""+search_timeRange+""\']"" xpath_searchTerm = ""//input[@name=\'PesquisaTxt1\']""  print(""Locating Journal/Periodical"") journal.click() dropDownJournal = WebDriverWait(browser, 60).until(EC.presence_of_element_located((By.XPATH, xpath_journal))) dropDownJournal.click() print(""Waiting for Time Selection"") try:     timeRange = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, xpath_timeRange)))     timeRange.click()     time.sleep(1)     print(""Locating Time Range"")         dropDownTime = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, xpath_timeSelect)))     dropDownTime.click()     time.sleep(1) except:     print(""Failed..."") print(""Adding Search Term"")  searchTerm = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, xpath_searchTerm))) searchTerm.clear() searchTerm.send_keys(search_text) time.sleep(5)  print(""Perform search"")  submitButton = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, xpath_form))) submitButton.click()  # Wait for the second page to load, pull what we need from it. download_list = []  browser.switch_to_window(browser.window_handles[-1]) print(""Waiting for next page to load..."")  matches = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, ""//span[@id=\'OcorNroLbl\']""))) print(""Next page ready, found match element... counting"") countText = matches.text countTotal = int(countText[countText.find(""/"")+1:]) print(""A total of "" + str(countTotal) + "" matches have been found, standing by for page load."") for i in range(1, countTotal+2):                    print(""Waiting for page "" + str(i-1) + "" to load..."")     while(fLink in download_list):         try:             jIDElement = browser.find_element_by_xpath(""//input[@name=\'HiddenBibAlias\']"")             jPageElement = browser.find_element_by_xpath(""//input[@name=\'hPagFis\']"")             fLink = ""http://memoria.bn.br/DocReader/"" + jIDElement.get_attribute('value') + ""/"" + jPageElement.get_attribute('value') + ""&amp;pesq="" + search_text                  except:             fails += 1             time.sleep(1)             if(fails == 10):                 print(""Locked on a page, attempting to push to next."")                 nextPageButton = WebDriverWait(browser, 5).until(EC.presence_of_element_located((By.XPATH, ""//input[@id=\'OcorPosBtn\']"")))                 nextPageButton.click()                                 #raise         while(fLink == """"):             jIDElement = browser.find_element_by_xpath(""//input[@name=\'HiddenBibAlias\']"")             jPageElement = browser.find_element_by_xpath(""//input[@name=\'hPagFis\']"")             fLink = ""http://memoria.bn.br/DocReader/"" + jIDElement.get_attribute('value') + ""/"" + jPageElement.get_attribute('value') + ""&amp;pesq="" + search_text                          fails = 0     print(""Link obtained: "" + fLink)     download_list.append(fLink)      if(i != countTotal):         print(""Moving to next page..."")         nextPageButton = WebDriverWait(browser, 5).until(EC.presence_of_element_located((By.XPATH, ""//input[@id=\'OcorPosBtn\']"")))         nextPageButton.click() </code></pre>  <p>There are two ""bugs"" I'm trying to solve with this block. First, the very first page is always skipped in the loop (IE: fLink = """"), even though there is a test in there for it, I'm not sure why this occurs. The other bug is that the code will hang on specific pages completely randomly and the only way out is to break the code execution.</p>  <p>This block has been modified a few times so I know it's not the most ""elegant"" of solutions, but I'm starting to run out of time.</p>"	"<p>After taking a day off from this to think about it (And get some more sleep), I was able to figure out what was going on. The above code has three ""big faults"". This first is that it does not handle the StaleElementException versus the NoSuchElementException, which can occur while the page is shifting. Secondly, the loop condition was checking iteratively that a page wasn't in the list, which when entering the first run allowed the blank condition to load in directly as the loop was never executed on the first run (Should have used a do-while there, but I made more modifications). Finally, I made the silly error of only checking if the first hidden element was changing, when in fact that is the journal ID, and is pretty much constant through all.</p>  <p>The revisions began with an adaptation of a code on <a href=""https://stackoverflow.com/questions/40029549/how-to-avoid-staleelementreferenceexception-in-selenium-python"">this other SO article</a> to implement a ""hold"" condition until either one of the hidden elements changed:</p>  <pre><code>from selenium.common.exceptions import StaleElementReferenceException from selenium.common.exceptions import NoSuchElementException def hold_until_element_changed(driver, element1_xpath, element2_xpath, old_element1_text, old_element2_text):     while True:         try:             element1 = driver.find_element_by_xpath(element1_xpath)             element2 = driver.find_element_by_xpath(element2_xpath)             if (element1.get_attribute('value') != old_element1_text) or (element2.get_attribute('value') != old_element2_text):                 break         except StaleElementReferenceException:             break         except NoSuchElementException:             return False         time.sleep(1)     return True     </code></pre>  <p>I then modified the original looping condition, going back to the original ""for loop"" counter I had created without an internal loop, instead shooting a call to the above function to create the ""hold"" until the page had flipped, and voila, worked like a charm. (NOTE: I also upped the timeout on the next page button as this is what caused the locking condition)</p>  <pre><code>for i in range(1, countTotal+1):                    print(""Waiting for page "" + str(i) + "" to load..."")     bibxpath = ""//input[@name=\'HiddenBibAlias\']""     pagexpath = ""//input[@name=\'hPagFis\']""     jIDElement = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, bibxpath)))     jPageElement = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, pagexpath)))     jidtext = jIDElement.get_attribute('value')     jpagetext = jPageElement.get_attribute('value')     fLink = ""http://memoria.bn.br/DocReader/"" + jidtext + ""/"" + jpagetext + ""&amp;pesq="" + search_text              print(""Link obtained: "" + fLink)     download_list.append(fLink)      if(i != countTotal):         print(""Moving to next page..."")         nextPageButton = WebDriverWait(browser, 20).until(EC.presence_of_element_located((By.XPATH, ""//input[@id=\'OcorPosBtn\']"")))         nextPageButton.click()         # Wait for next page to be ready         change = hold_until_element_changed(browser, bibxpath, pagexpath, jidtext, jpagetext)         if(change == False):             print(""Something went wrong."") </code></pre>  <p>All in all, a good exercise in thought and some helpful links for me to consider when posting future questions. Thanks!</p>"
49934730	Run Python scripts from JavaScript functions	javascript|python|raspberry-pi|gpio	2018-04-20 05:39:36.493000 UTC	"<p>We need to run a Python code which will control the GPIO of Raspberry Pi 3 from within the JavaScript. (JavaScript is listening for changes on database and when changes are made, function gets triggered and it should run the Python Code.</p>  <p><strong>(This code is not working, like the alert message will pop-up but the python code isn't running which otherwise should turn the LED on. What am i doing wrong?)</strong></p>  <p><em>index.html file</em></p>  <pre><code>function runPython() {     $.ajax({     type: ""POST"",      url: ""/home/pi/Desktop/Web/led.py"",     data :{},     success: callbackFunc     }); }  function callbackFunc(response) {     alert(""working""); } </code></pre>  <p><em>led.py file</em></p>  <pre><code>import RPi.GPIO as GPIO import timemGPIO.setmode(GPIO.BCM) GPIO.setwarnings(False) GPIO.setup(18, GPIO.OUT) print ""LED on"" GPIO.output(18, GPIO.HIGH) time.sleep(10) print ""LED off"" GPIO.output(18,GPIO.LOW) </code></pre>"	"<p>You code is not working because you can't access and run script on server directly from a browser, you can only pass the data to the server using <code>ajax</code>, therefore the <code>url</code> in the ajax should be the server url, and you have to send the <code>data</code>.</p>  <p>On your server (i.e. your Raspberry Pi), you need to have a http(web) server. The server will handle the post request coming from your javascript and control the GPIO accordingly. Like other mentioned, you can use <a href=""http://flask.pocoo.org"" rel=""nofollow noreferrer"">Flask</a> web development framework to create a web server for handling the request(s), or alternatively I often uses <a href=""https://docs.python.org/3/library/http.server.html"" rel=""nofollow noreferrer"">http.server</a> which is part of python standard library to create my own GET and POST request handlers for simple applications like this one. </p>  <p>Here is an approach of using <code>http.server</code> where <code>do_GET</code> method create a web page and run the javascript when pointing the browser to the server/RPi IP/URL, and 'do_POST' method handle the post data sent by the ajax to control the GPIO.</p>  <p><strong>web_gpio.py (in Python 3 syntax)</strong></p>  <pre><code>import time import RPi.GPIO as GPIO from http.server import BaseHTTPRequestHandler, HTTPServer   host_name = '192.168.0.115'    # Change this to your Raspberry Pi IP address host_port = 8000   class MyHandler(BaseHTTPRequestHandler):     """"""      A special implementation of BaseHTTPRequestHander for reading data      from and control GPIO of a Raspberry Pi     """"""      def do_HEAD(self):         self.send_response(200)         self.send_header('Content-type', 'text/html')         self.end_headers()      def _redirect(self, path):         self.send_response(303)         self.send_header('Content-type', 'text/html')         self.send_header('Location', path)         self.end_headers()      def do_GET(self):         html = '''         &lt;html&gt;         &lt;body&gt;         &lt;p&gt;this webpage turn on and then turn off LED after 2 seconds&lt;/p&gt;         &lt;script src=""http://code.jquery.com/jquery-1.12.4.min.js""&gt;&lt;/script&gt;         &lt;script&gt;           function setLED()             {{               $.ajax({               type: ""POST"",               url: ""http://%s:%s"",               data :""on"",               success: function(response) {                 alert(""LED triggered"")               }             });           }}           setLED();         &lt;/script&gt;         &lt;/body&gt;         &lt;/html&gt;         '''         self.do_HEAD()         html=html % (self.server.server_name, self.server.server_port)         self.wfile.write(html.encode(""utf-8""))      def do_POST(self):         # Get the post data         content_length = int(self.headers['Content-Length'])         post_data = self.rfile.read(content_length).decode(""utf-8"")         if post_data == ""on"":             GPIO.setmode(GPIO.BCM)             GPIO.setwarnings(False)             GPIO.setup(18, GPIO.OUT)             GPIO.output(18, GPIO.HIGH)             time.sleep(2)             GPIO.output(18, GPIO.LOW)         self._redirect('/')   if __name__ == '__main__':      http_server = HTTPServer((host_name, host_port), MyHandler)     print(""Running server on %s:%s"" % (host_name, host_port))     http_server.serve_forever() </code></pre>  <p>Run the python script on the server:</p>  <pre><code>python3 web_gpio.py </code></pre>  <p>Either launch your browser and point the browser to the server/RPi ip (in my example, it is <code>192.168.0.115:8000</code>) or run <code>curl</code> command form another terminal session to simulate the GET request.</p>  <pre><code>curl http://192.168.0.115:8000 </code></pre>  <p>Hope this example would give you the idea on how to control something on your server using a simple web server.</p>"
49939123	Scrape Dynamic contents created by Javascript using Python	python|arrays|python-3.x|web-scraping|beautifulsoup	2018-04-20 10:04:45.240000 UTC	"<p>I want to scrap DIV content created by javascript function by using python script. I have tried with BS4 and by doing with that i'm not able to get dynamic data. instead it shows only the source code.</p>  <p>Sample code:</p>  <pre><code>import requests from bs4 import BeautifulSoup  URL = ""https://rawgit.com/skysoft999/tableauJS/master/example.html"" r = requests.get(URL)  soup = BeautifulSoup(r.content, 'html5lib')   for row in soup.findAll('div', attrs = {'class':'quote'}):     print(row)   print(soup.prettify()) </code></pre>  <p>Sample HTML source code is in <a href=""https://pastebin.com/hjnXwddz"" rel=""nofollow noreferrer"">Pastebin</a></p>  <p>Sample data to be extracted:</p>  <p><a href=""https://i.stack.imgur.com/28Iz3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/28Iz3.png"" alt=""enter image description here""></a></p>"	"<p>The initial HTML does not contain the data you want to scrape, that's why using only <code>BeautifulSoup</code> is not enough. You can load the page with <a href=""https://selenium-python.readthedocs.io/"" rel=""noreferrer""><code>Selenium</code></a> and then scrape the content.</p>  <p><strong>Code:</strong></p>  <pre><code>import json  from bs4 import BeautifulSoup from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By from selenium.common.exceptions import TimeoutException  html = None url = 'http://demo-tableau.bitballoon.com/' selector = '#dataTarget &gt; div' delay = 10  # seconds  browser = webdriver.Chrome() browser.get(url)  try:     # wait for button to be enabled     WebDriverWait(browser, delay).until(         EC.element_to_be_clickable((By.ID, 'getData'))     )     button = browser.find_element_by_id('getData')     button.click()      # wait for data to be loaded     WebDriverWait(browser, delay).until(         EC.presence_of_element_located((By.CSS_SELECTOR, selector))     ) except TimeoutException:     print('Loading took too much time!') else:     html = browser.page_source finally:     browser.quit()  if html:     soup = BeautifulSoup(html, 'lxml')     raw_data = soup.select_one(selector).text     data = json.loads(raw_data)      import pprint     pprint.pprint(data) </code></pre>  <p><strong>Output:</strong></p>  <pre><code>[[{'formattedValue': 'Atlantic', 'value': 'Atlantic'},   {'formattedValue': '6/26/2010 3:00:00 AM', 'value': '2010-06-26 03:00:00'},   {'formattedValue': 'ALEX', 'value': 'ALEX'},   {'formattedValue': '16.70000', 'value': '16.7'},   {'formattedValue': '-84.40000', 'value': '-84.4'},   {'formattedValue': '30', 'value': '30'}],   ... ] </code></pre>  <p>The code assumes that the button is initially disabled: <code>&lt;button id=""getData"" onclick=""getUnderlyingData()"" disabled&gt;Get Data&lt;/button&gt;</code> and data is not loaded automatically, but due to the button being clicked. Therefore you need to delete this line: <code>setTimeout(function(){ getUnderlyingData(); }, 3000);</code>.</p>  <p>You can find a working demo of your example here: <a href=""http://demo-tableau.bitballoon.com/"" rel=""noreferrer"">http://demo-tableau.bitballoon.com/</a>.</p>"
50078664	pass javascript variables to python flask	python|variables|flask	2018-04-28 16:25:52.900000 UTC	"<p>I'd like to pass variables (e.g. window.screen.width) from the HTML page to flask. How can I do that?</p>  <p>(And I really need that variable in flask, I can't fix it by having a responsive webpage)</p>"	
50100406	JavaScript on python to calculate s2 cell from given lat lon for 3 million records	javascript|python|python-3.x|python-2.7|geomap	2018-04-30 12:20:00.677000 UTC	"<p>I'm after calculating s2 cell from given Lat and Lon, I am new to python and JavaScript, fiddle around the net and found Javascript code on URL <a href=""https://npm.runkit.com/s2-geometry"" rel=""nofollow noreferrer"">https://npm.runkit.com/s2-geometry</a>. I have a csv file with two fields: lat and lot with 3 million records and want to add the s2 cell to the given data.</p>  <p>I have found code which gives result in decimal, also need to add function to convert the result in hexadecimal.</p>  <pre><code>    var s2Geometry = require(""s2-geometry"").S2;     var lat = -33.804115;     var lng = 150.992465;     var level = 18;     var key = s2Geometry.latLngToKey(lat, lng, level);     var id = s2Geometry.keyToId(key); </code></pre>  <p>not sure how to modify the script to get the csv file in python, modify the script for the desired result, I am new to python and JavaScript, why Python: coz I have access to python and R. </p>  <p>Expected result - three column in csv (Lat lon s2cell)</p>"	
50108758	"How to connect to UserContentManager ""script-message-received"" from Python, Javascript?"	javascript|python|python-3.x|gtk3|webkit2	2018-04-30 21:56:27.837000 UTC	"<p>How do I connect to WebKit2.UserContentManager ""script-message-received"" from Python, Javascript? I've been banging my head against the ""wall"" for days trying to figure this out. I'm trying to get the UserContentManager to return the whole document, as well as elements that I click on. Any help would be appreciated, thanks. Here is runable code:</p>  <pre><code>#!/usr/bin/env python3 # -*- coding: utf-8 -*-  # Python imports import sys  # Gtk imports try:     import gi     gi.require_version('Gtk', '3.0')     gi.require_version('WebKit2', '4.0')     gi.require_version('WebKit2WebExtension', '4.0')     #gi.repository.WebKit2WebExtension     from gi.repository import Gtk, WebKit2     #from gi.repository import WebKit2WebExtension except:     sys.exit(""This script requires Gtk 3.0 or newer,""                             + "" and WebKit2 4.0 or newer!"")  GET_ELEMENT = ''' let ns = new XMLSerializer(); let elemDoc = """"; let wholeDoc = """";  document.addEventListener('click', function(e) {     e = e || window.event;     let target = e.target || e.srcElement;     getEntry(target);     }, false);  function getEntry(target) {     el = target;     tag = el.tagName.toLowerCase();     while (tag != ""entry"") {       el = el.parentNode;       tag = el.tagName.toLowerCase();       elemDoc = ns.serializeToString(el);       }; //    window.webkit.messageHandlers.elemDoc.postMessage(""elemDoc"");     console.log(elemDoc);     };  function getDocument() {     wholeDoc = ns.serializeToString(document); //        TypeError: undefined is not an object ( //        evaluating 'window.webkit.messageHandlers.wholeDoc.postMessage') //        window.webkit.messageHandlers.wholeDoc.postMessage(""wholeDoc"");          console.log(wholeDoc); //        return wholeDoc;     }; '''   def get_content(v, param):     ''''''     # Get the wholeDoc     #TODO editor = WebKit2WebExtension.WebEditor()     #editor = WebKit2WebExtension.WebEditor()     #print(editor)      #TODO WebKit2WebExtension.WebEditor.signals.selection_changed(editor)     #TODO WebKit2WebExtension.WebEditor.signals.get_page(editor)     #page = WebKit2WebExtension.WebEditor().get_page()  # None     #page = editor.get_page()  # None     #print(page)     #print(page.get_dom_document())      #TODO WebKit2WebExtension.WebPage(**kwargs).get_editor()     #TODO WebKit2WebExtension.WebPage(**kwargs).get_main_frame()      #WebKit2WebExtension.WebEditor.get_page()     #WebKit2WebExtension.WebPage.get_dom_document()      #WebKit2WebExtension.WebPage.signals      #WebKit2WebExtension.WebPage(**kwargs)      #TODO This is working to get the wholeDoc in the Javascript console     v.run_javascript(""getDocument()"")     #print(v.run_javascript(""""""event.target ? event.target : null;""""""))     #FIXME Not returning wholeDoc to Python     #result = v.run_javascript(""getDocument()"")     #FIXME TypeError: Argument 1 does not allow None as a value     #wholeDoc = v.run_javascript_finish(v)     #FIXME Gio.AsyncResult     #print('result: ', v.run_javascript_finish(v))     #FIXME 'UserContentManager' object has no attribute 'signals'     #FIXME Still, I have a problem connecting to script-message-received     #wholeDoc = user_cont_man.signals.script_message_received(         #user_cont_man, v.run_javascript(""getDocument()""))     #print('Python: ', wholeDoc)      # Get the elemDoc     #FIXME ReferenceError: Can't find variable: target     #v.run_javascript(""getEntry(target)"")     #elemDoc = v.run_javascript_finish()     #print(elemDoc)      return  w = Gtk.Window() v = WebKit2.WebView() sw = Gtk.ScrolledWindow() w.add(sw) sw.add(v) w.set_size_request(500, 500) w.connect(""destroy"", lambda q: Gtk.main_quit()) vset = v.get_settings() vset.set_enable_write_console_messages_to_stdout(True) user_cont_man = v.get_user_content_manager()  STYLE = '''entry { display:block;} entry:hover { background-color:#729fcf; cursor:pointer;} ''' style = WebKit2.UserStyleSheet.new(STYLE, 0, 1, None, None) user_cont_man.add_style_sheet(style)  script = WebKit2.UserScript.new(GET_ELEMENT, 0, 1, None, None) user_cont_man.add_script(script)  #FIXME Connect to the signals #user_cont_man.connect(""script-message-received::elemDoc"",     #get_content)  # , user_cont_man, None  user_cont_man.connect(""script-message-received::wholeDoc"",     get_content)  # , user_cont_man, None  #FIXME Register the handlers #user_cont_man.register_script_message_handler(""elemDoc"")  user_cont_man.register_script_message_handler(""wholeDoc"")  #TODO This is working to get the wholeDoc in the Javascript console #FIXME Not returning wholeDoc to Python v.connect(""button-press-event"", get_content)  v.load_html(""""""&lt;?xml version=""1.0"" encoding=""UTF-8""?&gt; &lt;?xml-stylesheet href=""dictstyle.css"" type=""text/css""?&gt; &lt;!DOCTYPE TEI SYSTEM ""somedefinition.dtd"" &gt; &lt;TEI&gt;     &lt;teiHeader&gt;         &lt;fileDesc&gt;             &lt;titleStmt&gt;                 &lt;title&gt;SomeDictionary TEI file&lt;/title&gt;             &lt;/titleStmt&gt;         &lt;/fileDesc&gt;     &lt;/teiHeader&gt;     &lt;text&gt;         &lt;body&gt;             &lt;divGen&gt;A&lt;/divGen&gt;             &lt;div id=""selector""&gt;                 &lt;entry id=""0""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_0&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""1""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_1&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""2""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_2&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""3""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_3&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""4""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_4&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""5""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_5&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""6""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_6&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""7""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_7&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""8""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_8&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;                 &lt;entry id=""9""&gt;                     &lt;form source=""someone""&gt;                         &lt;orth&gt;word_9&lt;/orth&gt;                         &lt;pron /&gt;                     &lt;/form&gt;                 &lt;/entry&gt;             &lt;/div&gt;         &lt;/body&gt;     &lt;/text&gt; &lt;/TEI&gt; """""", ""file:///"")  w.show_all() Gtk.main()  ''' GetNativeBackend(self)      Return the pointer to the native backend used by this control.      This method can be used to retrieve the pointer to the native rendering     engine used by this control. The return value needs to be down-casted     to the appropriate type depending on the platform: under Windows, it’s     a pointer to IWebBrowser2 interface, under OS X it’s a WebView pointer     and under GTK it’s a WebKitWebView.''' </code></pre>"	
50145145	Python scraping web page causes javascript issue	javascript|python|web-scraping|urllib2	2018-05-03 00:01:47.750000 UTC	"<p>I am using urllib2 to scrape a webpage. It works well on a lot of sites, but in some, I get:</p>  <pre><code>&lt;html&gt;&lt;title&gt;You are being redirected...&lt;/title&gt; &lt;noscript&gt;Javascript is required. Please enable javascript before you are allowed to see this page.&lt;/noscript&gt; </code></pre>  <p>Here's my code:</p>  <pre><code>    hdr = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11',            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',            'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',            'Accept-Encoding': 'none',            'Accept-Language': 'en-US,en;q=0.8',            'Connection': 'keep-alive'}      req = urllib2.Request(url=link, headers=hdr)     try:         f = urllib2.urlopen(req)     except urllib2.HTTPError, e:         return None     except urllib2.URLError, e:         return None     mycontent = f.read() </code></pre>  <p>Any ideas?</p>"	"<p>This is not a javascript issue, pay attention to the first line:</p>  <pre><code>&lt;html&gt;&lt;title&gt;You are being redirected...&lt;/title&gt; </code></pre>  <p>This means you have to follow the redirection until you reach the destination server.</p>  <p><code>urllib2.urlopen</code> does not do that automatically, you need to call <code>.geturl()</code> on the result, or use other functions or libraries, that resolve redirects.</p>"
50290723	Python loop : idx for idx (rewrite to javascript)	javascript|python	2018-05-11 10:53:29.243000 UTC	"<p>I am trying to re-write some Python code to Javascript.</p>  <p>I can't figure out how to rewrite this part :</p>  <pre><code>zone_indices = [[idx for idx, val in enumerate(classified) if zone + 1 == val] for zone in range(maxz)] </code></pre>  <p><strong>idx for idx, val</strong> : what does it mean to put <strong>idx</strong> at the beginning ?</p>"	"<p>Let's say you have an iterable and you want to iterate over it and you need only <strong>values</strong> of its items. You can use ordinary list comprehension: </p>  <pre><code>[x for x in it] </code></pre>  <p>But if you need <strong>value and index</strong> of an item, you probably want to use <code>enumerate</code> with iterable. And in this case it will look like this:</p>  <pre><code>[(ix, val) for ix, val in it] </code></pre>  <p>Here, at the left side of <code>for</code> keyword you may take <code>ix</code>, <code>val</code> or both in any order. But at the right side <code>val</code> always should follow the <code>ix</code>.</p>"
50290723	Python loop : idx for idx (rewrite to javascript)	javascript|python	2018-05-11 10:53:29.243000 UTC	"<p>I am trying to re-write some Python code to Javascript.</p>  <p>I can't figure out how to rewrite this part :</p>  <pre><code>zone_indices = [[idx for idx, val in enumerate(classified) if zone + 1 == val] for zone in range(maxz)] </code></pre>  <p><strong>idx for idx, val</strong> : what does it mean to put <strong>idx</strong> at the beginning ?</p>"	"<p>Your code :</p>  <pre><code>zone_indices = [[idx for idx, val in enumerate(classified) if zone + 1 == val] for zone in range(maxz)] </code></pre>  <p>is equivalent to this:</p>  <pre><code>zone_indices = []  for zone in range(maxz):     for idx, val in enumerate(classified):          if zone + 1 == val:             zone_indices.append(idx) </code></pre>  <p>I think now it must be easy to covert to it JS. It may be something like below:</p>  <pre><code>zone_indices = [] for(let zone=0; zone&lt; maxz ; zone++){     for(idx in classified){         if (zone + 1 === classified[idx]){             zone_indices.push(idx)         }     }  } </code></pre>"
50290723	Python loop : idx for idx (rewrite to javascript)	javascript|python	2018-05-11 10:53:29.243000 UTC	"<p>I am trying to re-write some Python code to Javascript.</p>  <p>I can't figure out how to rewrite this part :</p>  <pre><code>zone_indices = [[idx for idx, val in enumerate(classified) if zone + 1 == val] for zone in range(maxz)] </code></pre>  <p><strong>idx for idx, val</strong> : what does it mean to put <strong>idx</strong> at the beginning ?</p>"	"<p>""idx"" is usually short for <strong>index.</strong></p>  <p>Python loops allows items in a nested list to be accessed directly like so:</p>  <pre><code>&gt;&gt;&gt; lst = [[1, 2], [3, 4], [5, 6]] &gt;&gt;&gt;  &gt;&gt;&gt; for a,b in lst:         print a,b  1 2 3 4 5 6 </code></pre>  <p>Using enumerate in Python allows for something similar:</p>  <pre><code>&gt;&gt;&gt; for idx,val in enumerate(['a','b','c']):         print('index of ' + val + ': ' + str(idx))  index of a: 0 index of b: 1 index of c: 2 </code></pre>  <p>The equivalent of <code>enumerate(array)</code> in JavaScript is <code>array.entries()</code>, and can be used in much the same way as Python:</p>  <pre><code>zone_indices = []  for (let i = 0; i &lt; maxz.length, i++) {     for (let [idx, val] of classified.entries()) {         if (zone+1 === val) {             zone_indices.push(idx);         };     }; }; </code></pre>"
50311585	How to call Python variable in JavaScript?	javascript|python|html|json|django	2018-05-12 23:49:56.237000 UTC	"<p>I have a Python function that returns some value. Also I connected to my project Google Charts. So I need to pass that value to a js function in html file of Google Charts. The project is on Django btw.</p>  <p>What is the most correct way to do this?</p>  <pre><code>{%  extends ""gappi_tmp/wrapper.html"" %}  {% block content %}  &lt;head&gt;     &lt;script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;       google.charts.load('current', {'packages':['corechart']});       google.charts.setOnLoadCallback(drawChart);        function drawChart() {          var data = google.visualization.arrayToDataTable([           ['Task', 'Hours per Day'],           ['lol',11], // The variable should be here, instead of '11'           ['Eat',   11] // Here another variable         ]);          var options = {           title: 'Inbox | Outbox'         };          var chart = new google.visualization.PieChart(document.getElementById('piechart'));          chart.draw(data, options);       }       &lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div style=""padding-top: 5px; background: cornflowerblue; width: auto; height: 300px;"" id=""piechart""&gt;&lt;/div&gt;   &lt;/body&gt;  {% endblock %} </code></pre>"	"<p>Generate the above page dynamically in Django including the necessary json data object from your python code</p>  <p>from <a href=""https://docs.djangoproject.com/en/2.0/intro/tutorial01/"" rel=""nofollow noreferrer"">here</a></p>"
50311585	How to call Python variable in JavaScript?	javascript|python|html|json|django	2018-05-12 23:49:56.237000 UTC	"<p>I have a Python function that returns some value. Also I connected to my project Google Charts. So I need to pass that value to a js function in html file of Google Charts. The project is on Django btw.</p>  <p>What is the most correct way to do this?</p>  <pre><code>{%  extends ""gappi_tmp/wrapper.html"" %}  {% block content %}  &lt;head&gt;     &lt;script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;       google.charts.load('current', {'packages':['corechart']});       google.charts.setOnLoadCallback(drawChart);        function drawChart() {          var data = google.visualization.arrayToDataTable([           ['Task', 'Hours per Day'],           ['lol',11], // The variable should be here, instead of '11'           ['Eat',   11] // Here another variable         ]);          var options = {           title: 'Inbox | Outbox'         };          var chart = new google.visualization.PieChart(document.getElementById('piechart'));          chart.draw(data, options);       }       &lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div style=""padding-top: 5px; background: cornflowerblue; width: auto; height: 300px;"" id=""piechart""&gt;&lt;/div&gt;   &lt;/body&gt;  {% endblock %} </code></pre>"	"<p><strong>In case that you have you <code>js</code> file inside your html file</strong>, and <strong>not in a seperated js file</strong>, since variables passed through context are available in the rendering templates, you can proceed  that way. </p>  <blockquote>   <p>After sending all the variables via context to template.</p> </blockquote>  <pre><code>var jsVariable = '{{django_value}}';  var data = google.visualization.arrayToDataTable([     ['Task', '{{ task_variable }}'], // as string     ['lol',{{lol_variable}}], // as integer     ['Eat',   {{eat_variable}} ] ]); </code></pre>  <p>You can also loop through.</p>  <pre><code>var data = google.visualization.arrayToDataTable([     {% for item in queryset %} // {% for item in json_response %}         ['Task', '{{ task.attribute }}'],     {% endfor %}  // {% endfor %} ]); </code></pre>  <p>Basically, you must know that you can use it, it depends of what you really want to do.</p>"
50311585	How to call Python variable in JavaScript?	javascript|python|html|json|django	2018-05-12 23:49:56.237000 UTC	"<p>I have a Python function that returns some value. Also I connected to my project Google Charts. So I need to pass that value to a js function in html file of Google Charts. The project is on Django btw.</p>  <p>What is the most correct way to do this?</p>  <pre><code>{%  extends ""gappi_tmp/wrapper.html"" %}  {% block content %}  &lt;head&gt;     &lt;script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;       google.charts.load('current', {'packages':['corechart']});       google.charts.setOnLoadCallback(drawChart);        function drawChart() {          var data = google.visualization.arrayToDataTable([           ['Task', 'Hours per Day'],           ['lol',11], // The variable should be here, instead of '11'           ['Eat',   11] // Here another variable         ]);          var options = {           title: 'Inbox | Outbox'         };          var chart = new google.visualization.PieChart(document.getElementById('piechart'));          chart.draw(data, options);       }       &lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div style=""padding-top: 5px; background: cornflowerblue; width: auto; height: 300px;"" id=""piechart""&gt;&lt;/div&gt;   &lt;/body&gt;  {% endblock %} </code></pre>"	"<p>In case you want to <strong>access python vars in a separated js file</strong>. You can define js global vars with the value of python vars, then access those global vars in a separated js file.</p>"
50311585	How to call Python variable in JavaScript?	javascript|python|html|json|django	2018-05-12 23:49:56.237000 UTC	"<p>I have a Python function that returns some value. Also I connected to my project Google Charts. So I need to pass that value to a js function in html file of Google Charts. The project is on Django btw.</p>  <p>What is the most correct way to do this?</p>  <pre><code>{%  extends ""gappi_tmp/wrapper.html"" %}  {% block content %}  &lt;head&gt;     &lt;script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;       google.charts.load('current', {'packages':['corechart']});       google.charts.setOnLoadCallback(drawChart);        function drawChart() {          var data = google.visualization.arrayToDataTable([           ['Task', 'Hours per Day'],           ['lol',11], // The variable should be here, instead of '11'           ['Eat',   11] // Here another variable         ]);          var options = {           title: 'Inbox | Outbox'         };          var chart = new google.visualization.PieChart(document.getElementById('piechart'));          chart.draw(data, options);       }       &lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div style=""padding-top: 5px; background: cornflowerblue; width: auto; height: 300px;"" id=""piechart""&gt;&lt;/div&gt;   &lt;/body&gt;  {% endblock %} </code></pre>"	"<p>You should render your template with a <em>context</em>: <a href=""https://docs.djangoproject.com/en/2.0/ref/templates/api/#rendering-a-context"" rel=""nofollow noreferrer"">https://docs.djangoproject.com/en/2.0/ref/templates/api/#rendering-a-context</a></p>  <p>The method of passing the context to the template depends on how your views are written.</p>  <p><strong>Function-based views</strong></p>  <p>Pass the <em>context</em> dictionary to the <code>render()</code> function: <a href=""https://docs.djangoproject.com/en/2.0/topics/http/shortcuts/#optional-arguments"" rel=""nofollow noreferrer"">https://docs.djangoproject.com/en/2.0/topics/http/shortcuts/#optional-arguments</a></p>  <pre><code>from django.shortcuts import render  def my_view(request):     # View code here...     context = {'foo': 'bar'}     return render(request, 'myapp/index.html', context=context) </code></pre>  <p><strong>Class-based views</strong></p>  <p>Write your own implementation of the <code>add_context_data()</code> method: <a href=""https://docs.djangoproject.com/en/2.0/topics/class-based-views/generic-display/#adding-extra-context"" rel=""nofollow noreferrer"">https://docs.djangoproject.com/en/2.0/topics/class-based-views/generic-display/#adding-extra-context</a></p>  <pre><code>from django.views.generic import DetailView from books.models import Book, Publisher  class PublisherDetail(DetailView):      model = Publisher      def get_context_data(self, **kwargs):         # Call the base implementation first to get a context         context = super().get_context_data(**kwargs)         # Add in a QuerySet of all the books         context['book_list'] = Book.objects.all()         return context </code></pre>  <p>Once you passed <code>key: value</code> context to the template, you should use it in the template like this: <code>{{ key }}</code>. <a href=""https://docs.djangoproject.com/en/2.0/topics/templates/#variables"" rel=""nofollow noreferrer"">https://docs.djangoproject.com/en/2.0/topics/templates/#variables</a></p>  <pre><code>&lt;script type=""text/javascript""&gt;     var a = ""{{ key|escapejs }}""; &lt;/script&gt; </code></pre>  <p><a href=""https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#escapejs"" rel=""nofollow noreferrer"">escapejs</a> template filter is required to prevent possible XSS vulnerabilities. If you need to pass JSON, you could check out Django ticket <a href=""https://code.djangoproject.com/ticket/17419"" rel=""nofollow noreferrer"">#17419</a></p>"
50315664	How can I use Python Mechanize to fill out a web form that requires Javascript?	python|mechanize	2018-05-13 11:34:32.897000 UTC	"<p>I was trying to fill a form using mechanize. But the problem is the webpage needs javascript. So whenever I try to make an access to the page, the page redirects to an error page saying javascript needed. Is there a way to enable javascript when using mechanize browser?</p>  <p>Here is the code</p>  <pre><code>import mechanize import ssl  ssl._create_default_https_context = ssl._create_unverified_context br = mechanize.Browser() br.set_handle_robots(False) br.open(""https://192.168.10.3/connect/PortalMain"") for f in br.forms():     print f </code></pre>  <p>Also when I tried to extract the  webpage using BeautifulSoup that '<em>works fine on my browser</em>' I got the same problem. It redirects to a new page.  (I tried disabling javascript on my browser and got the page which beautiful soup was showing me.) </p>  <p>Here is the code of BeautifulSoup if it helps</p>  <pre><code>import ssl import urllib2 from bs4 import BeautifulSoup  ssl._create_default_https_context = ssl._create_unverified_context page = urllib2.urlopen(""https://192.168.10.3/connect/PortalMain"") soup = BeautifulSoup(page,'html.parser') print soup </code></pre>"	"<p>You could just go ahead and use Selenium instead:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  usernameStr = 'putYourUsernameHere' passwordStr = 'putYourPasswordHere'  browser = webdriver.Chrome() browser.get('https://192.168.10.3/connect/PortalMain')  # fill in username and hit the next button (replace selectors!) username = browser.find_element_by_id('Username') username.send_keys(usernameStr) password = browser.find_element_by_id('Password') password.send_keys(passwordStr) loginButton = browser.find_element_by_id('login') loginButton.click() </code></pre>  <p>This will use the Chrome web driver to open your browser and login, you can switch it to use any other driver Selenium supports e.g. Firefox.</p>  <p>Source: <a href=""https://www.hongkiat.com/blog/automate-create-login-bot-python-selenium/"" rel=""nofollow noreferrer"">https://www.hongkiat.com/blog/automate-create-login-bot-python-selenium/</a></p>  <p>Remember you might need to make adjustments if the site is using a self-signed certificate.</p>"
50319595	Python dictionary in a JavaScript function (inside HTML)	javascript|python|html|web|google-visualization	2018-05-13 18:54:59.760000 UTC	"<p><strong>Hey!</strong></p>  <p>So I have a Python function (Django project) and it sends a dictionary into a JavaScript function inside HTML file. In JavaScript script (...) I should print key and it's value. I tried this:</p>  <pre><code>&lt;script type=""text/javascript""&gt;       google.charts.load('current', {'packages':['table']});       google.charts.setOnLoadCallback(drawTable);       var test = ""{{ t|escapejs }}"";        const key1 = Object.keys(test)[0];       top1 = test[key1];        document.getElementById(""demo"").innerHTML =key1       function drawTable() {         var data = new google.visualization.DataTable();         data.addColumn('string', 'Name');         data.addColumn('number', 'Messages Amount');          data.addRows([           [key1,  {v: top1, f:top1}],            ['Alice', {v: 12500, f: '$12,500'}], // I have to make it like this, but just with my keys and values           ['Bob',   {v: 7000,  f: '$7,000'}]         ]);          var table = new google.visualization.Table(document.getElementById('table_div'));          table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});       }     &lt;/script&gt; </code></pre>  <p>When I print top1 on a page it returns a char from test dictionary. I don't understand why js think that's a string, not a list. Maybe I should convert it somehow?</p>"	"<p>Use the <code>json</code> module in Python and <code>JSON.parse</code> in JS. Here's an example.</p>  <p>Python:</p>  <pre><code>import json send_dict = json.dumps(python_dict) # send to JS </code></pre>  <p>JS:</p>  <pre><code>// get ""send_dict"" and put in variable. var JSDict = JSON.parse(send_dict); </code></pre>  <p>Now you can use JSDict as a JavaScript object. </p>"
50335761	How to call a Python 3 function in JavaScript Code?	javascript|python|node.js	2018-05-14 17:18:24.333000 UTC	<p>I have a lexer and parser for a custom language in python but due to some reason I need to use JS too. First I thought that I would build the two functions ( lexer and parser ) in JS again but it was possible only in Python.</p>  <p>Is there any way in which I could call the two Python functions in my JS code. I saw other questions on Stack Overflow but I want to be able to send arguments to the functions and get back data from those functions.</p>  <p>Please suggest any trick or method I can use.</p>	"<p>Node.js has a package called child_process and it has an <code>exec</code> function to execute any local script or program that you have. Here is a sort of boilerplate example:</p>  <pre><code>const exec = require('child_process').exec; var yourscript = exec('sh ~/some_bash.sh', (error, stdout, stderr) =&gt; {         console.log('${stdout}');         console.log('${stderr}');         if (error !== null) {             console.log('Uh oh! Error: ${error}');         }     }); </code></pre>"
50345267	how to get href value from javascript onclick attribute in python using scrapy?	javascript|python-2.7|scrapy	2018-05-15 08:07:03.573000 UTC	"<pre class=""lang-html prettyprint-override""><code>&lt;td class=""headerStyle""&gt;    &lt;input type=""image""         name=""ctl00$ContentPlaceHolder1$gvfacletails$ctl19$lnkView""         id=""lnkView"" title=""View"" src=""images/view.png""         onclick=""javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(""ctl00$ContentPlaceHolder1$gvfaculetails$ctl19$lnkView"", """", false, """", ""viewculty.aspx?FacultyID=Li9S-20151"", false, false))""&gt; &lt;/td&gt; </code></pre>  <p>How to extract this href <code>viewculty.aspx?FacultyID=Li9S-20151</code> from above javascript <code>onclick</code> in python using scrapy?</p>"	"<pre><code>href = response.xpath('//input[@id=""lnkView""]/@onclick').re_first( r'([^""]+\?[^""]+)' ) </code></pre>  <p>Above I'm using regex and searching for <code>?</code> and surrounding unquoted  symbols</p>"
50370669	how to extract list of hrefs from javascript onclick attributes and to parse through looping in python using scrapy?	javascript|python-2.7|scrapy	2018-05-16 12:13:50.627000 UTC	"<pre><code>&lt;div id=""ctl00_ContentPlaceHolder1_pnlPages"" style=""width: auto;""&gt; &lt;a id=""ctl00_ContentPlaceHolder1_page1"" class=""aspNetDisabled"" style=""display:inline-block;font-weight:bold;height:22px;width:22px;background-image:url(../Images/count.png);""&gt;1&lt;/a&gt;&lt;a id=""ctl00_ContentPlaceHolder1_page2"" href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$page2','')"" style=""display:inline-block;height:22px;width:22px;background-image:url(../Images/count.png);""&gt;2&lt;/a&gt;&lt;a id=""ctl00_ContentPlaceHolder1_page3"" href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$page3','')"" style=""display:inline-block;height:22px;width:22px;background-image:url(../Images/count.png);""&gt;3&lt;/a&gt;&lt;a id=""ctl00_ContentPlaceHolder1_page4"" href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$page4','')"" style=""display:inline-block;height:22px;width:22px;background-image:url(../Images/count.png);""&gt;4&lt;/a&gt;&lt;a id=""ctl00_ContentPlaceHolder1_page5"" href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$page5','')"" style=""display:inline-block;height:22px;width:22px;background-image:url(../Images/count.png);""&gt;5&lt;/a&gt;  &lt;/div&gt; </code></pre>  <p>how to extract all list of hrefs from above javascript onclick attributes and to parse through looping in python scrapy?</p>"	<p>that will get you your hrefs as an array of strings.</p>  <p><code>const hrefArray = Array.from(document.querySelectorAll('a')).map(el =&gt; el.href);</code></p>
50396393	Extract JavaScript table using python	python|selenium|web-scraping|beautifulsoup	2018-05-17 16:30:16.000000 UTC	"<p>I'm a beginner in python and I'm trying to figure out how to extract the data from This website: <a href=""https://www.tokendata.io/"" rel=""nofollow noreferrer"">https://www.tokendata.io/</a>.  Normally I deal with HTML tables using beautiful soup, but this seems require the use of selenium. Is anyone Who Can help me. I desperately need the data for my thesis. </p>"	"<p>Do you mean you want to load the page and extract the data found in the HTML table of div.dataTables_scrollBody   to an object in python like a tuple</p>  <pre><code>tabletuple = [('EOS','Active','$3,272,911,705.00','Jun 2018','','','',''),('Telegrame Open Network',""Completed"",'1,700,000,000.00   ','Apr 2018','','',''),...etc </code></pre>  <p>You can do this with selenium by getting  table by  css selector ""div.dataTables_scrollBody""</p>  <p>below is some sample code with webdriver to get index 1 row and index 1 column of the row's text by selenium webdriver. You could use this with the code above to create a tuple of the data from the HTML table</p>  <pre><code>chrome_options = webdriver.ChromeOptions() chrome_options.add_argument(""--allow-file-access-from-files"") chrome_options.add_argument(""--allow-running-insecure-content"") chrome_driver_path = os.path.join(driver_path, ""chromedriver.exe"") print(""\n ChromeDriverPath: "" + chrome_driver_path) driver = webdriver.Chrome(executable_path=chrome_driver_path,  chrome_options=chrome_options) table_element = driver.find_element(by=By.CSS_SELECTOR,    value='div.dataTables_scrollBody')  rows = table_element.find_elements_by_xpath(""./tr"") row = 1 row_elements = rows[row].find_elements_by_xpath(""./td"") column = 1 text_element = row_elements[column].get_attribute(""innerText"") </code></pre>"
50419091	How to call python function from javascript with ajax in django	javascript|python|ajax|django	2018-05-18 20:51:09.613000 UTC	"<p>I want to display the range of the selected car without refreshing the page. This code doesn't give an error but also doesn't do the trick. </p>  <p>index.html</p>  <pre><code>&lt;select class=""custom-select d-block w-100"" name=""car"" id=""car"" onchange=""display(this.value)""&gt;                 {% for car in cars_list%}                     &lt;option value=""{{ car }}""&gt;{{ car }}&lt;/option&gt;                 {% endfor %} &lt;/select&gt; </code></pre>  <p>main.js</p>  <pre><code>function display(value){ $.ajax({ type: ""POST"", url: ""/get_car_data/"", data: { car_model: value} }).done(function(range) {     alert(""test"")     $(""#range"").html(range); }); } </code></pre>  <p>ajax_handler.py</p>  <pre><code>def get_car_data(car_model): cars_frame = pd.read_csv(""C:/Users/David/Desktop/cars.csv"", sep=';') frame2 = cars_frame.set_index('Car', drop=True) car_range = (frame2.loc[car_model]['Range']) return car_range </code></pre>  <p>urls.py</p>  <pre><code>urlpatterns = [ url(r'^get_car_data/', ajax_handler.get_car_data, name='get_car_data'),] </code></pre>"	"<p>The big issue I am seeing here, barring code that I am not privy to, is that your view (which is hard to read because it's lost all indenting) is missing two things:</p>  <p>1) Any way to accept parameters via post. The normal signature you'd expect for a view is: </p>  <pre><code>def get_car_data(request, car_model):     ```your code here``` </code></pre>  <p>In that case, the car model would be part of the url itself, not a post request and you'd just do an AJAX get to the url with the appropriate model name (or given that names may have odd characters, maybe a lookup by primary key instead). You can also get at POST values using <code>request.POST</code> as a dictionary in which case omit the parameter <code>car_model</code> and get it out of the POST dict.</p>  <p>2) Any way to serialize it that would result in a returned HTTP Response. If you're expecing HTML to plop in, this could be as simple as an <code>HttpResponse</code> object that returns a string with the info or even a template using <code>render</code>. But you need something there.</p>"
50458910	"Python - Bots, Asyncio, Javascript, and Loops"	javascript|python|websocket|bots|python-asyncio	2018-05-22 02:24:24.127000 UTC	"<p>Hello Everyone and thank you for your time. In the previous couple of days I have been undergoing a little project of mine to create a online chatbot for LINE. I understand the API but ran into a problem. I am trying to get my chabot to use online responses to user text. To accomplish this I am trying to use a websocket between python and JavaScript. The API I am using is in python hence the websocket must also be written in Python. I picked asyncio websockets. In short, I am trying to fetch a response from a user input on Line --> Send that response over a websocket to my javascript in a browser console --> The javascript will proceed with it's logic and send the response back to the server --> the Program will proceed with it's execution. My problem is that both the Websocket programming as well as my Line programming use a loop. The Line Code can be seen at</p>  <p><a href=""https://github.com/fadhiilrachman/line-py/blob/master/examples/groupbot.py"" rel=""nofollow noreferrer"">https://github.com/fadhiilrachman/line-py/blob/master/examples/groupbot.py</a></p>  <p>As you can see at the end of the code there is a while statement which traces the READ_MESSAGE Function over and over again for each message. You can ignore the NOTIFIED_LEAVE one. So basically my code while proceed with it's own logic and then do something like:</p>  <pre><code>else: #ExternalBot code ExtText = text[6:] </code></pre>  <p>I now wish to send this ExtText over my websocket to my javascript which will fetch a response from the browser and send it back. The javascript will do something like this:</p>  <pre><code>exampleSocket = new WebSocket(""ws://192.168.1.9:8765/"")  exampleSocket.onmessage = function(e){ var server_message = e.data; console.log(server_message); (logic) exampleSocket.send(response); </code></pre>  <p>Now this is where the problem begins as I simply do not know how to proceed. The python asyncio Websockets requires a loop to run as seen below:</p>  <pre><code>async def Send(websocket, path):     await websocket.send(ExtText)     await Receive(websocket, path)  async def Receive(websocket, path):     resposne = await websocket.recv()     if response is None:         await Recieve(websocket, path)     else:         print (Response)      start_server = websockets.serve(Send,'192.168.1.9','8765')     loop = asyncio.get_event_loop()     loop.run_untill_complete(start_server)     loop.run_forever()     (continue to do a line.send() the response back to the client on Line.) </code></pre>  <p>This is the code that I currently have. Now the problem is, If I never close the loop the loop with something like loop.call_soon_threadsafe(loop.stop) it will keep running and in turn the message will never get sent back to the client(the program will not proceed with it's LINE logic). if I DO close the loop the server is ""shutdown"" in effect. If the server is shutdown and reopened for each message I have to send over the websocket, I now face the problem of getting my JavaScript to continually try to reconnect to the server every single message. I have tried this and have never succeeded in getting the Javascript to keep trying to establish a connection. I have tried to use Javascript websocket readyState attribute but that hasn't worked either. I am coming here simply because I Have no idea on how to proceed and what to do further. How do you people suggest I proceed, closing the loop or somehow leaving it open but continuing with my program's logic. If so how would you go about implementing it into my already looping code( the LINE while true statement)? I really do apologize for such a long question but I am completely stuck. Thank you for your time people who decide to read and help me, I really appreciate it.</p>"	"<p>After days of research I have solved the issue by separating the loops into two python scripts and communicating between them. If anyone here has a similar issue and wishes a more in depth explanation, feel free to ask me.</p>"
50460632	Error while executing javascript code in python3 while using selenium	python-3.x|selenium-webdriver|pycharm|selenium-chromedriver	2018-05-22 05:48:27.633000 UTC	"<p>I was trying to remove the ad and other pop-up using selenium after opening the webpage. The pop-up is getting removed but the ad is not getting removed. There is some error in executing javascript code(using it remove ad). For which there is no reason given. Also, for the ad, when I open the webpage myself by typing the link then ad does not appear but when I run the program, in code generated browser ad appears(reason I don't know). I have attached both code and error. Here is the code</p>  <pre><code>from selenium import webdriver import time from selenium.webdriver.common.by import By  driver = webdriver.Chrome() driver.get(""http://indianexpress.com/columnists/"")  // To remove pop-up later = driver.find_elements(By.CLASS_NAME, ""iz_block_button"") later[0].click()  //to remove ad all_iframes = driver.find_elements_by_tag_name(""iframe"") if len(all_iframes) &gt; 0:     print(""Ad Found\n"")     driver.execute_script(""""""     var elems = document.getElementsByTagName('iframe');      for(var i = 0, max = elems.length; i &lt; max; i++)     {          elems[i].visibility=hidden;      }                           """""")     print('Total Ads: ' + str(len(all_iframes))) else:     print('No frames found')  driver.close() </code></pre>  <p>Error:-</p>  <pre><code>Traceback (most recent call last):   File ""/Users/arjungoyal/Desktop/untitled/a.py"", line 23, in &lt;module&gt;     """""")   File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py"", line 627, in execute_script     'args': converted_args})['value']   File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py"", line 312, in execute     self.error_handler.check_response(response)   File ""/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/errorhandler.py"", line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.WebDriverException: Message: unknown error: hidden is not defined   (Session info: chrome=66.0.3359.181)   (Driver info: chromedriver=2.38.552518 (183d19265345f54ce39cbb94cf81ba5f15905011),platform=Mac OS X 10.13.4 x86_64) </code></pre>  <p>Please someone tell what the error is and how to remove it.</p>"	
50477634	Scraping JavaScript var from HTML using Beautiful Soup in Python	python|html|web-scraping|beautifulsoup|request	2018-05-22 23:08:03.630000 UTC	"<p>I'm scraping a website's HTML after a ""GET"" request. I'm essentially trying to get a few tokens from the site. I'm using Beautiful soup since it's what I usually use but I can't seem to figure out how to get a javascript variable from the html. The tokens are in the HTML like so:</p>  <pre><code>&lt;script type=""text/javascript""&gt; var accessToken = ""WaX2wWBb9fkp+qVQf6ECq9JcOZJnCL3Y/furfevohpk=""; var ivString = ""d2c5708bbcc6b53c23af6d2cdab9f4ab""; var encryptedFpAccountId = ""zk/5H7Iz0cNQPxPadMgvDw==""; var accessTokenCode = ""0""; var nextPageName=""signup-retail"" </code></pre>  <p>I need to get what the accessToken, ivString, and encryptedFpAccountId equal. How should I go about scraping this?</p>"	"<p>Use <strong>Regex</strong> to get your required variable. </p>  <p><strong>Demo:</strong></p>  <pre><code>from bs4 import BeautifulSoup import re s = """"""&lt;script type=""text/javascript""&gt; var accessToken = ""WaX2wWBb9fkp+qVQf6ECq9JcOZJnCL3Y/furfevohpk=""; var ivString = ""d2c5708bbcc6b53c23af6d2cdab9f4ab""; var encryptedFpAccountId = ""zk/5H7Iz0cNQPxPadMgvDw==""; var accessTokenCode = ""0""; var nextPageName=""signup-retail &lt;/script&gt;""""""  soup = BeautifulSoup(s, ""html.parser"") script = soup.find(""script"") accessToken = re.search('var accessToken = (?P&lt;token&gt;.*);', script.string) if accessToken:     print(accessToken.group('token')) ivString = re.search('var ivString = (?P&lt;ivString&gt;.*);', script.string) if ivString:     print(ivString.group('ivString'))  encryptedFpAccountId = re.search('var encryptedFpAccountId = (?P&lt;encryptedFpAccountId&gt;.*);', script.string) if encryptedFpAccountId:     print(encryptedFpAccountId.group('encryptedFpAccountId')) </code></pre>  <p><strong>Output:</strong></p>  <pre><code>""WaX2wWBb9fkp+qVQf6ECq9JcOZJnCL3Y/furfevohpk="" ""d2c5708bbcc6b53c23af6d2cdab9f4ab"" ""zk/5H7Iz0cNQPxPadMgvDw=="" </code></pre>"
50486628	.NET Core 2.0 & Angular Initial app build fails - Can't find python followed by JavaScript Runtime Error	python|node.js|angularjs|asp.net-core|npm	2018-05-23 10:57:12.357000 UTC	"<p>I am on VS 2017 and .NET Core 2 on Win 7. Tried creating a fresh app in .NET Core 2.0 and Angular using <a href=""https://docs.microsoft.com/en-us/aspnet/core/spa/angular?view=aspnetcore-2.0&amp;tabs=visual-studio"" rel=""nofollow noreferrer"">these instructions</a>.</p> <p>Running latest versions of node and npm :</p> <pre><code>node -v &gt; v10.1.0 npm -v &gt; v6.0.1 </code></pre> <p>According to the instructions, I went ahead to build the application and got</p> <p><code>Can't find Python</code></p> <p>I checked env variables the path has python. Not sure why it can't find it.</p> <p>The build seems to have &quot;half worked&quot; and got some dependencies sorted.  The second go around building the app gave me a JavaScript Runtime Error .. which I think is due to crappy first build job.</p> <p>I also tried running &quot;npm install&quot; in the ClientApp folder and gave the same errors, <code>Can't find python</code>.</p> <p>Any help would be appreciated !</p> <p><strong>Build Log</strong></p> <pre><code>1&gt;------ Build started: Project: TestApp, Configuration: Debug Any CPU ------ 1&gt;TestApp -&gt; C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\bin\Debug\netcoreapp2.0\TestApp.dll 1&gt;v10.1.0 1&gt;Restoring dependencies using 'npm'. This may take several minutes... 1&gt; 1&gt;&gt; uws@9.14.0 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\uws 1&gt;&gt; node-gyp rebuild &gt; build_log.txt 2&gt;&amp;1 || exit 0 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/install.js 1&gt; 1&gt;Downloading binary from https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node 1&gt;Cannot download &quot;https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node&quot;: 1&gt; 1&gt;HTTP error 404 Not Found 1&gt; 1&gt;Hint: If github.com is not accessible in your location 1&gt;      try setting a proxy via HTTP_PROXY, e.g. 1&gt; 1&gt;      export HTTP_PROXY=http://example.com:1234 1&gt; 1&gt;or configure npm proxy via 1&gt; 1&gt;      npm config set proxy http://example.com:8080 1&gt; 1&gt;&gt; uglifyjs-webpack-plugin@0.4.6 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\webpack\node_modules\uglifyjs-webpack-plugin 1&gt;&gt; node lib/post_install.js 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/build.js 1&gt; 1&gt;Building: C:\Program Files\nodejs\node.exe C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library= 1&gt;gyp info it worked if it ends with ok 1&gt;gyp verb cli [ 'C:\\Program Files\\nodejs\\node.exe', 1&gt;gyp verb cli   'C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js', 1&gt;gyp verb cli   'rebuild', 1&gt;gyp verb cli   '--verbose', 1&gt;gyp verb cli   '--libsass_ext=', 1&gt;gyp verb cli   '--libsass_cflags=', 1&gt;gyp verb cli   '--libsass_ldflags=', 1&gt;gyp verb cli   '--libsass_library=' ] 1&gt;gyp info using node-gyp@3.6.2 1&gt;gyp info using node@10.1.0 | win32 | x64 1&gt;gyp verb command rebuild [] 1&gt;gyp verb command clean [] 1&gt;gyp verb clean removing &quot;build&quot; directory 1&gt;gyp verb command configure [] </code></pre> <p><strong>Starts to fail ...</strong></p> <pre><code>1&gt;gyp verb check python checking for Python executable &quot;python2&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python2 { error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python2\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb check python checking for Python executable &quot;python&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python { error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb could not find &quot;python&quot;. checking python launcher 1&gt;gyp verb could not find &quot;python&quot;. guessing location 1&gt;gyp verb ensuring that file exists: C:\Python27\python.exe 1&gt;gyp ERR! configure error 1&gt;EXEC : gyp ERR! stack error : Can't find Python executable &quot;python&quot;, you can set the PYTHON env variable. 1&gt;gyp ERR! stack     at PythonFinder.failNoPython (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:483:19) 1&gt;gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:508:16) 1&gt;gyp ERR! stack     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\graceful-fs\polyfills.js:284:29 1&gt;gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp ERR! System Windows_NT 6.1.7601 1&gt;gyp ERR! command &quot;C:\\Program Files\\nodejs\\node.exe&quot; &quot;C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js&quot; &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot; &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot; 1&gt;gyp ERR! cwd C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;gyp ERR! node -v v10.1.0 1&gt;gyp ERR! node-gyp -v v3.6.2 1&gt;gyp ERR! not ok 1&gt;EXEC : Build failed with error code: 1 1&gt;npm WARN rollback Rolling back y18n@3.2.1 failed (this is probably harmless): EPERM: operation not permitted, lstat 'C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\yargs\node_modules' 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 (node_modules\node-sass): 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 postinstall: `node scripts/build.js` 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1 1&gt; 1&gt;added 1218 packages from 1231 contributors in 93.516s 1&gt;[!] 33 vulnerabilities found [6676 packages audited] 1&gt;    Severity: 3 Low | 21 Moderate | 9 High 1&gt;    Run `npm audit` for more detail </code></pre>"	"<p><code>node-gyp</code> has dependency on <code>Python2.x</code>. <a href=""https://www.python.org/downloads/release/python-2714/"" rel=""noreferrer"">Install <code>Python</code> in your system</a>.</p>  <p>Checkout the required dependency from <a href=""https://www.npmjs.com/package/node-gyp"" rel=""noreferrer"">here</a> </p>"
50486628	.NET Core 2.0 & Angular Initial app build fails - Can't find python followed by JavaScript Runtime Error	python|node.js|angularjs|asp.net-core|npm	2018-05-23 10:57:12.357000 UTC	"<p>I am on VS 2017 and .NET Core 2 on Win 7. Tried creating a fresh app in .NET Core 2.0 and Angular using <a href=""https://docs.microsoft.com/en-us/aspnet/core/spa/angular?view=aspnetcore-2.0&amp;tabs=visual-studio"" rel=""nofollow noreferrer"">these instructions</a>.</p> <p>Running latest versions of node and npm :</p> <pre><code>node -v &gt; v10.1.0 npm -v &gt; v6.0.1 </code></pre> <p>According to the instructions, I went ahead to build the application and got</p> <p><code>Can't find Python</code></p> <p>I checked env variables the path has python. Not sure why it can't find it.</p> <p>The build seems to have &quot;half worked&quot; and got some dependencies sorted.  The second go around building the app gave me a JavaScript Runtime Error .. which I think is due to crappy first build job.</p> <p>I also tried running &quot;npm install&quot; in the ClientApp folder and gave the same errors, <code>Can't find python</code>.</p> <p>Any help would be appreciated !</p> <p><strong>Build Log</strong></p> <pre><code>1&gt;------ Build started: Project: TestApp, Configuration: Debug Any CPU ------ 1&gt;TestApp -&gt; C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\bin\Debug\netcoreapp2.0\TestApp.dll 1&gt;v10.1.0 1&gt;Restoring dependencies using 'npm'. This may take several minutes... 1&gt; 1&gt;&gt; uws@9.14.0 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\uws 1&gt;&gt; node-gyp rebuild &gt; build_log.txt 2&gt;&amp;1 || exit 0 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/install.js 1&gt; 1&gt;Downloading binary from https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node 1&gt;Cannot download &quot;https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node&quot;: 1&gt; 1&gt;HTTP error 404 Not Found 1&gt; 1&gt;Hint: If github.com is not accessible in your location 1&gt;      try setting a proxy via HTTP_PROXY, e.g. 1&gt; 1&gt;      export HTTP_PROXY=http://example.com:1234 1&gt; 1&gt;or configure npm proxy via 1&gt; 1&gt;      npm config set proxy http://example.com:8080 1&gt; 1&gt;&gt; uglifyjs-webpack-plugin@0.4.6 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\webpack\node_modules\uglifyjs-webpack-plugin 1&gt;&gt; node lib/post_install.js 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/build.js 1&gt; 1&gt;Building: C:\Program Files\nodejs\node.exe C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library= 1&gt;gyp info it worked if it ends with ok 1&gt;gyp verb cli [ 'C:\\Program Files\\nodejs\\node.exe', 1&gt;gyp verb cli   'C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js', 1&gt;gyp verb cli   'rebuild', 1&gt;gyp verb cli   '--verbose', 1&gt;gyp verb cli   '--libsass_ext=', 1&gt;gyp verb cli   '--libsass_cflags=', 1&gt;gyp verb cli   '--libsass_ldflags=', 1&gt;gyp verb cli   '--libsass_library=' ] 1&gt;gyp info using node-gyp@3.6.2 1&gt;gyp info using node@10.1.0 | win32 | x64 1&gt;gyp verb command rebuild [] 1&gt;gyp verb command clean [] 1&gt;gyp verb clean removing &quot;build&quot; directory 1&gt;gyp verb command configure [] </code></pre> <p><strong>Starts to fail ...</strong></p> <pre><code>1&gt;gyp verb check python checking for Python executable &quot;python2&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python2 { error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python2\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb check python checking for Python executable &quot;python&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python { error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb could not find &quot;python&quot;. checking python launcher 1&gt;gyp verb could not find &quot;python&quot;. guessing location 1&gt;gyp verb ensuring that file exists: C:\Python27\python.exe 1&gt;gyp ERR! configure error 1&gt;EXEC : gyp ERR! stack error : Can't find Python executable &quot;python&quot;, you can set the PYTHON env variable. 1&gt;gyp ERR! stack     at PythonFinder.failNoPython (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:483:19) 1&gt;gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:508:16) 1&gt;gyp ERR! stack     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\graceful-fs\polyfills.js:284:29 1&gt;gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp ERR! System Windows_NT 6.1.7601 1&gt;gyp ERR! command &quot;C:\\Program Files\\nodejs\\node.exe&quot; &quot;C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js&quot; &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot; &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot; 1&gt;gyp ERR! cwd C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;gyp ERR! node -v v10.1.0 1&gt;gyp ERR! node-gyp -v v3.6.2 1&gt;gyp ERR! not ok 1&gt;EXEC : Build failed with error code: 1 1&gt;npm WARN rollback Rolling back y18n@3.2.1 failed (this is probably harmless): EPERM: operation not permitted, lstat 'C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\yargs\node_modules' 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 (node_modules\node-sass): 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 postinstall: `node scripts/build.js` 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1 1&gt; 1&gt;added 1218 packages from 1231 contributors in 93.516s 1&gt;[!] 33 vulnerabilities found [6676 packages audited] 1&gt;    Severity: 3 Low | 21 Moderate | 9 High 1&gt;    Run `npm audit` for more detail </code></pre>"	<p>Try this:</p>  <pre><code>npm install -g node-gyp </code></pre>  <p>and then try:</p>  <pre><code>dotnet run </code></pre>  <p>It was right for me </p>
50486628	.NET Core 2.0 & Angular Initial app build fails - Can't find python followed by JavaScript Runtime Error	python|node.js|angularjs|asp.net-core|npm	2018-05-23 10:57:12.357000 UTC	"<p>I am on VS 2017 and .NET Core 2 on Win 7. Tried creating a fresh app in .NET Core 2.0 and Angular using <a href=""https://docs.microsoft.com/en-us/aspnet/core/spa/angular?view=aspnetcore-2.0&amp;tabs=visual-studio"" rel=""nofollow noreferrer"">these instructions</a>.</p> <p>Running latest versions of node and npm :</p> <pre><code>node -v &gt; v10.1.0 npm -v &gt; v6.0.1 </code></pre> <p>According to the instructions, I went ahead to build the application and got</p> <p><code>Can't find Python</code></p> <p>I checked env variables the path has python. Not sure why it can't find it.</p> <p>The build seems to have &quot;half worked&quot; and got some dependencies sorted.  The second go around building the app gave me a JavaScript Runtime Error .. which I think is due to crappy first build job.</p> <p>I also tried running &quot;npm install&quot; in the ClientApp folder and gave the same errors, <code>Can't find python</code>.</p> <p>Any help would be appreciated !</p> <p><strong>Build Log</strong></p> <pre><code>1&gt;------ Build started: Project: TestApp, Configuration: Debug Any CPU ------ 1&gt;TestApp -&gt; C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\bin\Debug\netcoreapp2.0\TestApp.dll 1&gt;v10.1.0 1&gt;Restoring dependencies using 'npm'. This may take several minutes... 1&gt; 1&gt;&gt; uws@9.14.0 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\uws 1&gt;&gt; node-gyp rebuild &gt; build_log.txt 2&gt;&amp;1 || exit 0 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 install C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/install.js 1&gt; 1&gt;Downloading binary from https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node 1&gt;Cannot download &quot;https://github.com/sass/node-sass/releases/download/v4.7.2/win32-x64-64_binding.node&quot;: 1&gt; 1&gt;HTTP error 404 Not Found 1&gt; 1&gt;Hint: If github.com is not accessible in your location 1&gt;      try setting a proxy via HTTP_PROXY, e.g. 1&gt; 1&gt;      export HTTP_PROXY=http://example.com:1234 1&gt; 1&gt;or configure npm proxy via 1&gt; 1&gt;      npm config set proxy http://example.com:8080 1&gt; 1&gt;&gt; uglifyjs-webpack-plugin@0.4.6 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\webpack\node_modules\uglifyjs-webpack-plugin 1&gt;&gt; node lib/post_install.js 1&gt; 1&gt; 1&gt;&gt; node-sass@4.7.2 postinstall C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;&gt; node scripts/build.js 1&gt; 1&gt;Building: C:\Program Files\nodejs\node.exe C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library= 1&gt;gyp info it worked if it ends with ok 1&gt;gyp verb cli [ 'C:\\Program Files\\nodejs\\node.exe', 1&gt;gyp verb cli   'C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js', 1&gt;gyp verb cli   'rebuild', 1&gt;gyp verb cli   '--verbose', 1&gt;gyp verb cli   '--libsass_ext=', 1&gt;gyp verb cli   '--libsass_cflags=', 1&gt;gyp verb cli   '--libsass_ldflags=', 1&gt;gyp verb cli   '--libsass_library=' ] 1&gt;gyp info using node-gyp@3.6.2 1&gt;gyp info using node@10.1.0 | win32 | x64 1&gt;gyp verb command rebuild [] 1&gt;gyp verb command clean [] 1&gt;gyp verb clean removing &quot;build&quot; directory 1&gt;gyp verb command configure [] </code></pre> <p><strong>Starts to fail ...</strong></p> <pre><code>1&gt;gyp verb check python checking for Python executable &quot;python2&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python2 { error : not found: python2 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python2\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb check python checking for Python executable &quot;python&quot; in the PATH 1&gt;EXEC : gyp verb `which` failed error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;EXEC : gyp verb `which` failed  python { error : not found: python 1&gt;gyp verb `which` failed     at getNotFoundError (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:13:12) 1&gt;gyp verb `which` failed     at F (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:68:19) 1&gt;gyp verb `which` failed     at E (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:80:29) 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\which\which.js:89:16 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\index.js:42:5 1&gt;gyp verb `which` failed     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\isexe\windows.js:36:5 1&gt;gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp verb `which` failed   stack: 'Error: not found: python\n    at getNotFoundError (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:13:12)\n    at F (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:68:19)\n    at E (C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:80:29)\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\which\\which.js:89:16\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\index.js:42:5\n    at C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\isexe\\windows.js:36:5\n    at FSReqWrap.oncomplete (fs.js:165:21)', 1&gt;gyp verb `which` failed   code: 'ENOENT' } 1&gt;gyp verb could not find &quot;python&quot;. checking python launcher 1&gt;gyp verb could not find &quot;python&quot;. guessing location 1&gt;gyp verb ensuring that file exists: C:\Python27\python.exe 1&gt;gyp ERR! configure error 1&gt;EXEC : gyp ERR! stack error : Can't find Python executable &quot;python&quot;, you can set the PYTHON env variable. 1&gt;gyp ERR! stack     at PythonFinder.failNoPython (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:483:19) 1&gt;gyp ERR! stack     at PythonFinder.&lt;anonymous&gt; (C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-gyp\lib\configure.js:508:16) 1&gt;gyp ERR! stack     at C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\graceful-fs\polyfills.js:284:29 1&gt;gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:165:21) 1&gt;gyp ERR! System Windows_NT 6.1.7601 1&gt;gyp ERR! command &quot;C:\\Program Files\\nodejs\\node.exe&quot; &quot;C:\\Users\\mohammadrauf\\Desktop\\Angular_Projects\\TestApp\\ClientApp\\node_modules\\node-gyp\\bin\\node-gyp.js&quot; &quot;rebuild&quot; &quot;--verbose&quot; &quot;--libsass_ext=&quot; &quot;--libsass_cflags=&quot; &quot;--libsass_ldflags=&quot; &quot;--libsass_library=&quot; 1&gt;gyp ERR! cwd C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\node-sass 1&gt;gyp ERR! node -v v10.1.0 1&gt;gyp ERR! node-gyp -v v3.6.2 1&gt;gyp ERR! not ok 1&gt;EXEC : Build failed with error code: 1 1&gt;npm WARN rollback Rolling back y18n@3.2.1 failed (this is probably harmless): EPERM: operation not permitted, lstat 'C:\Users\mohammadrauf\Desktop\Angular_Projects\TestApp\ClientApp\node_modules\yargs\node_modules' 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 (node_modules\node-sass): 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: node-sass@4.7.2 postinstall: `node scripts/build.js` 1&gt;npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1 1&gt; 1&gt;added 1218 packages from 1231 contributors in 93.516s 1&gt;[!] 33 vulnerabilities found [6676 packages audited] 1&gt;    Severity: 3 Low | 21 Moderate | 9 High 1&gt;    Run `npm audit` for more detail </code></pre>"	<p>I ran this command:</p>  <pre><code>npm install --global windows-build-tools </code></pre>  <p>Running this command installed Python 2.7 and the project compiled successfully.</p>
50494073	Flask/ no JS: can a dynamic drop down form app be made without javascript? (only python and HTML)	javascript|python|html|forms|flask	2018-05-23 17:18:27.020000 UTC	"<p>Update: I don't want to use JS to generate forms or navigate through them</p>  <p>I need to create an application that generates a drop down menu with items obtained from a list of folders in the local host and then generates another drop down menu based on that. Then, based on the second selection it needs to either present a list of scripts or another list of folder after which some other scripts will be available. </p>  <p>When the final script is selected two more fields should show up in which the user should enter and select two more values. </p>  <p>With all these values then a command on the local host will be executed - the values will be passed as parameters.</p>  <p>Can this be done without JS? </p>  <p>I have enough Python/Flask and HTML skills to do this in a reasonable amount of time, but I don't have the necessary JS skills or the time to learn JS. Some pointers would be great :)</p>  <p>Thank you</p>"	"<p>Flask executes on the server side and cannot be used to gather directory information about the local host. You need JavaScript, and even there there is not a standard interface that will work across all browsers. </p>  <p>See SO answers here: <a href=""https://stackoverflow.com/questions/371875/local-file-access-with-javascript"">Local file access with javascript</a> </p>  <p>and MDN documentation for Firefox here: <a href=""https://developer.mozilla.org/en-US/docs/Web/API/File_and_Directory_Entries_API"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/File_and_Directory_Entries_API</a></p>  <p>and a more recent SO question with less browser-specific solutions among the answers here: <a href=""https://stackoverflow.com/questions/44701078/select-directory-path-in-javascript"">Select directory path in javascript</a></p>"
50505628	Calling javascript function using python function in django	javascript|python|html|django	2018-05-24 09:23:47.807000 UTC	"<p>I have a website built using the django framework that takes in an input csv folder to do some data processing. I would like to use a html text box as a console log to let the users know that the data processing is underway. The data processing is done using a python function. It is possible for me to change/add text inputs into the text box at certain intervals using my python function?</p>  <p>Sorry if i am not specific enough with my question, still learning how to use these tools!</p>  <p>Edit - Thanks for all the help though, but I am still quite new at this and there are lots of things that I do not really understand. Here is an example of my python function, not sure if it helps</p>  <pre><code>def query_result(request, job_id): info_dict = request.session['info_dict'] machines = lt.trace_machine(inputFile.LOT.tolist()) return render(request, 'tools/result.html', {'dict': json.dumps(info_dict),                                              'job_id': job_id}) </code></pre>  <p>Actually my main objective is to let the user know that the data processing has started and that the site is working. I was thinking maybe I could display an output log in a html textbox to achieve this purpose.</p>"	"<p>While it is impossible for the server (Django) to directly update the client (browser), you can you JavaScript to make the request, and Django can return a <a href=""https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.StreamingHttpResponse"" rel=""nofollow noreferrer"">StreamingHttpResponse</a>. As each part of the response is received, you can update the textbox using JavaScript.</p>  <p>Here is a sample with pseudo code</p>  <pre><code>def process_csv_request(request):     csv_file = get_csv_file(requests)     return StreamingHttpResponse(process_file(csv_file))  def process_file(csv_file):     for row in csv_file:          yield progress          actual_processing(row)     return ""Done"" </code></pre>  <p>Alternatively you could write the process to the db or some cache, and call an API that returns the progress repeatedly from the frontend</p>"
50505628	Calling javascript function using python function in django	javascript|python|html|django	2018-05-24 09:23:47.807000 UTC	"<p>I have a website built using the django framework that takes in an input csv folder to do some data processing. I would like to use a html text box as a console log to let the users know that the data processing is underway. The data processing is done using a python function. It is possible for me to change/add text inputs into the text box at certain intervals using my python function?</p>  <p>Sorry if i am not specific enough with my question, still learning how to use these tools!</p>  <p>Edit - Thanks for all the help though, but I am still quite new at this and there are lots of things that I do not really understand. Here is an example of my python function, not sure if it helps</p>  <pre><code>def query_result(request, job_id): info_dict = request.session['info_dict'] machines = lt.trace_machine(inputFile.LOT.tolist()) return render(request, 'tools/result.html', {'dict': json.dumps(info_dict),                                              'job_id': job_id}) </code></pre>  <p>Actually my main objective is to let the user know that the data processing has started and that the site is working. I was thinking maybe I could display an output log in a html textbox to achieve this purpose.</p>"	<p>No cannot do that because you already at server side therefor you cannot touch anything in html page.</p>  <p>You can have 2 ways to do that:</p>  <ol> <li><p>You can make a interval function to call to server and ask the progress and update the progress like you want at callback function.</p></li> <li><p>You can open a socket connection in your server &amp; browser to instantly update.</p></li> </ol>
50505628	Calling javascript function using python function in django	javascript|python|html|django	2018-05-24 09:23:47.807000 UTC	"<p>I have a website built using the django framework that takes in an input csv folder to do some data processing. I would like to use a html text box as a console log to let the users know that the data processing is underway. The data processing is done using a python function. It is possible for me to change/add text inputs into the text box at certain intervals using my python function?</p>  <p>Sorry if i am not specific enough with my question, still learning how to use these tools!</p>  <p>Edit - Thanks for all the help though, but I am still quite new at this and there are lots of things that I do not really understand. Here is an example of my python function, not sure if it helps</p>  <pre><code>def query_result(request, job_id): info_dict = request.session['info_dict'] machines = lt.trace_machine(inputFile.LOT.tolist()) return render(request, 'tools/result.html', {'dict': json.dumps(info_dict),                                              'job_id': job_id}) </code></pre>  <p>Actually my main objective is to let the user know that the data processing has started and that the site is working. I was thinking maybe I could display an output log in a html textbox to achieve this purpose.</p>"	"<p>You can achieve this with websockets using <a href=""https://github.com/django/channels"" rel=""nofollow noreferrer"">Django Channels</a>.</p>  <p>Here's a sample consumer:</p>  <pre><code>class Consumer(WebsocketConsumer):     def connect(self):         self.group_name = self.scope['user']         print(self.group_name)  # use this for debugging not sure what the scope returns          # Join group         async_to_sync(self.channel_layer.group_add)(             self.group_name,             self.channel_name         )         self.accept()      def disconnect(self, close_code):         # Leave group         async_to_sync(self.channel_layer.group_discard)(             self.group_name,             self.channel_name         )      def update_html(self, event):         status = event['status']         # Send message to WebSocket         self.send(text_data=json.dumps({             'status': status         })) </code></pre>  <p>Running through the Channels 2.0 tutorial you will learn that by putting some javascript on your page, each time it loads it will connect you to a websocket consumer. On <code>connect()</code> the consumer adds the user to a group. This group name is used by your csv processing function to send a message to the browser of any users connected to that group (in this case just one user) and update the html on your page.</p>  <pre><code>def send_update(channel_layer, group_name, message):     async_to_sync(channel_layer.group_send)(         group_name,         {             'type': 'update_html',             'status': message         }     )  def process_csv(file):     channel_layer = get_channel_layer()     group_name = get_user_name()  # function to get same group name as in connect()     with open(file) as f:         reader=csv.reader(f)         send_update(channel_layer, group_name, 'Opened file')         for row in reader:             send_update(channel_layer, group_name, 'Processing Row#: %s' % row) </code></pre>  <p>You would include javascript on your page as outlined in the Channels documentation then have an extra <code>onmessage</code> function fro updating the html:</p>  <pre><code>var WebSocket = new ReconnectiongWebSocket(...);  WebSocket.onmessage = function(e) {     var data = JSON.parse(e.data);     $('#htmlToReplace').html(data['status']); } </code></pre>"
50518634	Selenium in Python - Running JavaScript	javascript|python|selenium|web-scraping	2018-05-24 21:46:46.883000 UTC	"<p>I'm trying to scrape a website that is mainly ran by javascript and it's giving me a huge headache because I don't know javascript. </p>  <p>This is what I have so far: </p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.firefox.firefox_binary import FirefoxBinary from selenium.webdriver.common.keys import Keys  binary = FirefoxBinary(r'C:\Users\kwright\AppData\Local\Mozilla Firefox\firefox.exe')  driver = webdriver.Firefox(firefox_binary=binary) driver.get('http://www.papowerswitch.com/shop-for-electricity/shop-for-your-home') #zipcode = driver.find_element_by_id('edit-zipcode') monthlyuse = driver.find_element_by_name('estimated-monthly-usage') button = driver.find_element_by_id(""edit-submit-residential-rate-search2"") driver.execute_script(""document.getElementById('edit-zipcode').value='18707'"") </code></pre>  <p>This works fine and it give me the value I need in the zip code section. The next part I'm having trouble with because the Id names aren't unique, but the name tag is, my problem is that I don't know the javascript function to get the element by the name tag and input the data I need. </p>  <p>I tried this and several variations of this and it didn't work. </p>  <pre><code>driver.execute_script(""driver.findElement(webdriver.By.name('estimated-monthly-usage')).value='1000'"") </code></pre>  <p>can anyone help me out here and let me know what script I need to add to get that part of the form filled out? Thank you. </p>  <p>Edit: Here is the HTML     Monthly Usage</p>"	"<p><code>driver.findElement</code> is <em>Selenium</em> syntax, while inside <code>driver.execute_script</code> you need <em>JavaScript</em> syntax:</p>  <pre><code>driver.execute_script(""some javascript code comes here""); </code></pre>  <p>To find the right function, look at <a href=""https://www.w3schools.com/jsref/dom_obj_document.asp"" rel=""nofollow noreferrer"">document DOM object</a>: just like <code>document.getElementById</code>, which you previously used, it has <code>document.getElementsByName()</code> function. Note that unlike ID, that can return 1 element only, there can be many elements with the same name, hence function returns them all as an array. So your statement becomes:</p>  <pre><code>driver.execute_script(""document.getElementsByName('estimated-monthly-usage')[0].value='1000'""); </code></pre>"
50534954	python 2.7 or javascript: Download a file from a download link using that has authentiation	javascript|python|python-2.7|authentication|download	2018-05-25 18:26:59.023000 UTC	"<p>I can't seem to find a source that does exactly what I want.</p>  <p>I have a website where there are download links, such that when I click one it downloads a pdf file. Also this website is password protected.</p>  <p>How in python 2.7 (not 3, because I use 2.7 for other stuff)  can I automatically download this file? All solutions I have seen either don't work or only work for a direct link to the file not a download link.</p>  <p>An alternative is javascript but then I would need to be able to rename the file or at least take a note of what the name is.</p>  <p>Please help</p>"	
50540770	Javascript and Python - Django	javascript|python|django	2018-05-26 08:17:25.150000 UTC	"<p>I'm working on a Django blog, and i'm a beginner, so I am still learning from tutorials on the internet.</p>  <p>I found sample program with Javascript on the Internet, and base on the program i want to implemented filter by category in my project.</p>  <p>This is the javascript code <a href=""https://pastebin.com/6Xhh37Jt"" rel=""nofollow noreferrer"">link</a>, and this is my django file</p>  <p><strong>views.py</strong> <code>https://pastebin.com/SVy8B0k5</code></p>  <p><strong>index.html</strong> <code>https://pastebin.com/RJ6R9Pjv</code></p>  <p>forgive me to use link to show the code, because the code is very long.</p>  <p>as far as I know my solution is to create class for JS like <code>post_search_text</code> in the code.</p>  <p>But i don't know how to write JS code, please help me</p>  <p>Thank you</p>"	
50546268	Replicating byte string creation done in Javascript into Python 2.7	javascript|python|node.js|byte	2018-05-26 19:17:38.387000 UTC	"<p>I have a function I am mapping from Javascript:</p>  <pre><code>var commandBytes = [4,1,0,0,0,0, Math.floor(224 + (52/16)), 52 % 16]; </code></pre>  <p>...this is how I have in Python:</p>  <pre><code>data = bytearray([4,1,0,0,0,0, 224 + 52 // 16, 52 % 16]) </code></pre>  <p>...this is what the output looks like in IDLE:</p>  <pre><code>bytearray(b'\x04\x01\x00\x00\x00\x00\xe3\x04') </code></pre>  <p>...this is what the original output looks like when output by Javascript to the Command Prompt window:</p>  <pre><code>&lt;Buffer 04 01 00 00 00 00 e3 04&gt; </code></pre>  <p>...first issue I have is the bytes in IDLE seem to be printed in hex rather than actual numbers. Second is, even though I know my connection to the machine I am passing the command to is good as I am getting a response, the command itself does not work.</p>  <p>What do I need to change so that my Python output replicates my Javascript output?</p>  <p>Thanks</p>"	"<p>You can easily change how it is printed, either by creating your own <code>print_function</code> or by extending <code>bytearray</code> and implementing <code>__str__()</code> and/or <code>__repr__()</code>, e.g.:</p>    <pre class=""lang-py prettyprint-override""><code>class ByteArray(bytearray):     def __str__(self):         return '&lt;Buffer {}&gt;'.format(' '.join(format(x, '02x') for x in self))  In []: b = ByteArray([4,1,0,0,0,0, 224 + 52 // 16, 52 % 16]) print(b)  Out[]: &lt;Buffer 04 01 00 00 00 00 e3 04&gt; </code></pre>"
50570846	Python's %s equivalent in Javascript?	javascript|node.js	2018-05-28 17:04:21.293000 UTC	"<p>I'm currently learning NodeJS after working with Python for the last few years.</p>  <p>In Python I was able to save a string inside a JSON with dynamic parameters and set them once the string loaded, for example:</p>  <p>MY JSON:</p>  <pre><code>j = { ""dynamicText"": ""Hello %s, how are you?"" } </code></pre>  <p>and then use my string like that:</p>  <pre><code>print(j['dynamicText'] % (""Dan"")) </code></pre>  <p>so Python replaces the <code>%s</code> with ""<code>Dan</code>"".</p>  <p>I am looking for the JS equivalent but could not find one. Any ideas?</p>  <p>** Forgot to mention: I want to save the JSON as another config file so literals won't work here</p>"	"<p>For a few nice alternatives, you may want to take a look at <a href=""https://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format"">JavaScript equivalent to printf/string.format</a></p>  <p>While it's asking for a C-like <code>printf()</code> equivalent for JS, the answers would also apply to your question, since Python format strings are inspired by C.</p>"
50570846	Python's %s equivalent in Javascript?	javascript|node.js	2018-05-28 17:04:21.293000 UTC	"<p>I'm currently learning NodeJS after working with Python for the last few years.</p>  <p>In Python I was able to save a string inside a JSON with dynamic parameters and set them once the string loaded, for example:</p>  <p>MY JSON:</p>  <pre><code>j = { ""dynamicText"": ""Hello %s, how are you?"" } </code></pre>  <p>and then use my string like that:</p>  <pre><code>print(j['dynamicText'] % (""Dan"")) </code></pre>  <p>so Python replaces the <code>%s</code> with ""<code>Dan</code>"".</p>  <p>I am looking for the JS equivalent but could not find one. Any ideas?</p>  <p>** Forgot to mention: I want to save the JSON as another config file so literals won't work here</p>"	"<p>I've found a great npm module that does exactly what I was needed - <code>string-format</code>. </p>  <p><a href=""https://www.npmjs.com/package/string-format"" rel=""nofollow noreferrer"">String-Format in NPM</a></p>"
50570846	Python's %s equivalent in Javascript?	javascript|node.js	2018-05-28 17:04:21.293000 UTC	"<p>I'm currently learning NodeJS after working with Python for the last few years.</p>  <p>In Python I was able to save a string inside a JSON with dynamic parameters and set them once the string loaded, for example:</p>  <p>MY JSON:</p>  <pre><code>j = { ""dynamicText"": ""Hello %s, how are you?"" } </code></pre>  <p>and then use my string like that:</p>  <pre><code>print(j['dynamicText'] % (""Dan"")) </code></pre>  <p>so Python replaces the <code>%s</code> with ""<code>Dan</code>"".</p>  <p>I am looking for the JS equivalent but could not find one. Any ideas?</p>  <p>** Forgot to mention: I want to save the JSON as another config file so literals won't work here</p>"	"<p>Use template literal. This is comparatively new and may not support ancient browsers</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var test = ""Dan"" var j = {   ""dynamicText"": `Hello ${test}, how are you?` }  console.log(j[""dynamicText""])</code></pre> </div> </div> </p>  <p>Alternatively you can create a function and inside that function use <code>string.replace</code> method to to replace a word with new word</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var test = ""Dan"" var j = {   ""dynamicText"": ""Hello %s, how are you?"" }  function replace(toReplaceText, replaceWith) {   let objText = j[""dynamicText""].replace(toReplaceText, replaceWith);   return objText; }   console.log(replace('%s', test))</code></pre> </div> </div> </p>"
50570846	Python's %s equivalent in Javascript?	javascript|node.js	2018-05-28 17:04:21.293000 UTC	"<p>I'm currently learning NodeJS after working with Python for the last few years.</p>  <p>In Python I was able to save a string inside a JSON with dynamic parameters and set them once the string loaded, for example:</p>  <p>MY JSON:</p>  <pre><code>j = { ""dynamicText"": ""Hello %s, how are you?"" } </code></pre>  <p>and then use my string like that:</p>  <pre><code>print(j['dynamicText'] % (""Dan"")) </code></pre>  <p>so Python replaces the <code>%s</code> with ""<code>Dan</code>"".</p>  <p>I am looking for the JS equivalent but could not find one. Any ideas?</p>  <p>** Forgot to mention: I want to save the JSON as another config file so literals won't work here</p>"	"<p>You can write a String.format method, using regex, and the String.replace method:</p>  <pre><code>String.prototype.format = function() {     var args = arguments;     return this.replace(/{(\d+)}/g, (match, p1) =&gt; {         var i = parseInt(p1);         return typeof args[i] != 'undefined' ? args[i] : match;     }); } </code></pre>  <p>After that, running:</p>  <p><code>console.log(""{0}{1}"".format(""John"", ""Doe""));</code></p>  <p>Will output: <code>John Doe</code></p>  <p>Of course, if you don't like editing the prototype of objects you don't own (it is generally good practice), you can just create a function:</p>  <pre><code>var format = function(str) {     var args = arguments;     return str.replace(/{(\d+)}/g, (match, p1) =&gt; {         var i = parseInt(p1);         return typeof args[i+1] != 'undefined' ? args[i+1] : match;     }); } </code></pre>"
50570846	Python's %s equivalent in Javascript?	javascript|node.js	2018-05-28 17:04:21.293000 UTC	"<p>I'm currently learning NodeJS after working with Python for the last few years.</p>  <p>In Python I was able to save a string inside a JSON with dynamic parameters and set them once the string loaded, for example:</p>  <p>MY JSON:</p>  <pre><code>j = { ""dynamicText"": ""Hello %s, how are you?"" } </code></pre>  <p>and then use my string like that:</p>  <pre><code>print(j['dynamicText'] % (""Dan"")) </code></pre>  <p>so Python replaces the <code>%s</code> with ""<code>Dan</code>"".</p>  <p>I am looking for the JS equivalent but could not find one. Any ideas?</p>  <p>** Forgot to mention: I want to save the JSON as another config file so literals won't work here</p>"	"<p>There is no predefined way in JavaScript, but you could still achieve something like below. Which I have done in my existing Application. </p>  <pre><code>function formatString(str, ...params) {     for (let i = 0; i &lt; params.length; i++) {         var reg = new RegExp(""\\{"" + i + ""\\}"", ""gm"");         str = str.replace(reg, params[i]);     }     return str; } </code></pre>  <p>now <code>formatString('You have {0} cars and {1} bikes', 'two', 'three')</code> returns <code>'You have two cars and three bikes'</code></p>  <p>In this way if {0} repeats in String it replaces all.</p>  <p>like <code>formatString('You have {0} cars, {1} bikes and {0} jeeps', 'two', 'three')</code> to <code>""You have two cars, three bikes and two jeeps""</code></p>  <p>Hope this helps.</p>"
50591323	does javascript have something equivalent to Python's `id` function?	javascript|python	2018-05-29 19:08:09.037000 UTC	"<p>I'm struggling with some <strong>d3.js v4</strong> troubleshooting and I suspect that some objects that I think are the same are not, in fact, the same object.</p>  <p>In Python I could do <code>print(""obj1:%s"" % (id(obj1)))</code>, <code>print(""obj2:%s"" % (id(obj2)))</code>.</p>  <p>That gives me the Python memory allocation for the object and if they match I know they are the  same objects.  Is there anything equivalent in JS?</p>  <p>This is related to <a href=""https://stackoverflow.com/questions/21457644/how-to-know-that-javascript-variable-point-to-the-same-memory-address"">How to know that javascript variable point to the same memory address</a>, but unlike that case, both references are not in scope at the same time so I can't <code>===</code> them.</p>"	
50635588	Is there a Javascript equivalent to Python's in conditional operator?	javascript	2018-06-01 03:12:53.633000 UTC	"<p>Is there a Javascript equivalent to Python's <code>in</code> conditional operator?</p>  <pre><code>good = ['beer', 'pizza', 'sushi'] thing = 'pizza' if thing in good:     print 'hurray' </code></pre>  <p>What would be a good way to write the above Python code in Javascript?</p>"	"<p>You can use <code>.includes</code>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const good = ['beer', 'pizza', 'sushi'] const thing = 'pizza'; if (good.includes(thing)) console.log('hurray');</code></pre> </div> </div> </p>  <p>Note that this is entirely separate from Javascript's <code>in</code> operator, which checks for if something is a property of an object:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const obj = { foo: 'bar'} const thing = 'foo'; if (thing in obj) console.log('yup');</code></pre> </div> </div> </p>  <p>Note that <code>includes</code> is from ES6 - make sure to include a polyfill. If you can't do that, you can use the old, less semantic <code>indexOf</code>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const good = ['beer', 'pizza', 'sushi'] const thing = 'pizza'; if (good.indexOf(thing) !== -1) console.log('hurray');</code></pre> </div> </div> </p>"
50635588	Is there a Javascript equivalent to Python's in conditional operator?	javascript	2018-06-01 03:12:53.633000 UTC	"<p>Is there a Javascript equivalent to Python's <code>in</code> conditional operator?</p>  <pre><code>good = ['beer', 'pizza', 'sushi'] thing = 'pizza' if thing in good:     print 'hurray' </code></pre>  <p>What would be a good way to write the above Python code in Javascript?</p>"	"<p>You can check using <a href=""https://www.w3schools.com/jsref/jsref_indexof.asp"" rel=""nofollow noreferrer"">indexOf()</a> method. <br/> Example:</p>  <pre><code>const good = ['beer', 'pizza', 'sushi'] const thing = 'pizza';  if(good.indexOf(thing) !== -1) //do something </code></pre>  <p>if it's matches, will return the very first index. If not, will return <code>-1</code>.</p>  <p>Quick note:<br /> <code>indexOf()</code> method comes with ECMAScript 1 so it will be compatible with all browsers. But <code>includes()</code>  method comes witch ECMAScript 6 and maybe cannot be compatible on some platforms/older browser versions.</p>"
50635588	Is there a Javascript equivalent to Python's in conditional operator?	javascript	2018-06-01 03:12:53.633000 UTC	"<p>Is there a Javascript equivalent to Python's <code>in</code> conditional operator?</p>  <pre><code>good = ['beer', 'pizza', 'sushi'] thing = 'pizza' if thing in good:     print 'hurray' </code></pre>  <p>What would be a good way to write the above Python code in Javascript?</p>"	"<p>If you're using JavaScript ES6, I believe that <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes"" rel=""nofollow noreferrer"">Array.includes</a> is what you're looking for. If you need support for older versions of JS, then you can use <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf"" rel=""nofollow noreferrer"">Array.indexOf</a> (or use a polyfill for Array.contains).</p>  <pre><code>// Array.includes() if (yourArray.includes(""some value"")) {     // Do stuff }  // Array.indexOf() if (yourArray.indexOf(""some value"") &gt; -1) {     // Do stuff } </code></pre>"
50635588	Is there a Javascript equivalent to Python's in conditional operator?	javascript	2018-06-01 03:12:53.633000 UTC	"<p>Is there a Javascript equivalent to Python's <code>in</code> conditional operator?</p>  <pre><code>good = ['beer', 'pizza', 'sushi'] thing = 'pizza' if thing in good:     print 'hurray' </code></pre>  <p>What would be a good way to write the above Python code in Javascript?</p>"	"<p>A simple google search will answer your question. Found this in google #1 search <a href=""https://www.w3schools.com/jsref/jsref_indexof_array.asp"" rel=""nofollow noreferrer"">https://www.w3schools.com/jsref/jsref_indexof_array.asp</a>.</p>  <p>You can use <code>indexOf</code> method in javascript to find elements in your array.</p>"
50657309	how to loop variables from Python controller to JavaScript with flask?	python|html|web|flask|web-development-server	2018-06-02 13:14:54.507000 UTC	"<p>I want to show nested content on website:</p>  <p>eg:</p>  <p>phrase1: apple</p>  <p>tweet including phrase1: I like apple.</p>  <p>phrase2: banana</p>  <p>tweet including phrase2: banana is best.</p>  <p>my dataset which in python controller is[[""apple"",""including phrase1: I like apple.""],[""banana"",""banana is best.""]]</p>  <p>my html file is:</p>  <pre><code>{% extends ""layout.html"" %} {% block body %} &lt;p&gt;Click the button to loop from 1 to 6, to make HTML headings.&lt;/p&gt; &lt;button onclick=""myFunction2()""&gt;Try it&lt;/button&gt; &lt;div id=""demo""&gt;&lt;/div&gt; &lt;script&gt; function myFunction2() {     var x ="""", i;         for (i=1; i&lt;=2; i++) {         x = x +""&lt;h2 class=\""phrase\""&gt;phrase""+i+"":""+""{{phrases[i]}}""+""&lt;/h2&gt;"";     }     document.getElementById(""demo"").innerHTML = x; } &lt;/script&gt; {% endblock %} </code></pre>  <p>but it only shows:</p>  <p>Click the button to loop from 1 to 6, to make HTML headings.</p>  <p>phrase1:</p>  <p>phrase2:</p>  <p>didn't show any phrase. but when I use {{phrases[1]}} {{phrases[2]}},it can show normally. can't I use i loop every variable?</p>"	"<p>You can use <code>ajax</code> with your <code>flask</code> backend. First, create the HTML template to display the button, and create a second, smaller template to loop over the dataset:</p>  <p><code>home.html</code>:</p>  <pre><code>&lt;html&gt;   &lt;head&gt;    &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js""&gt;&lt;/script&gt;   &lt;/head&gt;  &lt;body&gt;    &lt;p&gt;Click the button below to access tweet list from 1-6&lt;/p&gt;    &lt;button class='tweets'&gt;View Tweets&lt;/button&gt;    &lt;div id='results'&gt;&lt;/div&gt;  &lt;/body&gt;  &lt;script&gt;   $(document).ready(function() {     $('.tweets').click(function() {      $.ajax({      url: ""/get_tweets"",       type: ""get"",       data: {'tweets': 'yes'},       success: function(response) {        $(""#results"").html(response.result);        },        error: function(xhr) {        //pass       }      });    });  }); &lt;/script&gt; &lt;/html&gt; </code></pre>  <p><code>display_data.html</code>:</p>  <pre><code>{%for tweet in tweets%}   &lt;div class='tweet' style='border:solid;border-color:black'&gt;     &lt;p&gt;{{tweet.title}}: {{tweet.phrase}}&lt;/p&gt;     &lt;p&gt;{{tweet.including}}&lt;/p&gt;   &lt;/div&gt; {%endfor%} </code></pre>  <p>Then, in your <code>.py</code> file, create the necessary <code>flask</code> routes:</p>  <pre><code>import flask import typing app = flask.Flask(__name__) class Tweet(typing.NamedTuple):   phrase:str   including:str   title:str  @app.route('/tweets', methods=['GET']) def tweets():   return flask.render_template('home.html')  @app.route('/get_tweets') def view_tweets():    datasets = [[""apple"",""including phrase1: I like apple.""],[""banana"",""banana is best.""]]    new_set = [Tweet(a, b, f'phrase{i}') for i, [a, b] in enumerate(datasets, start=1)]    return flask.jsonify({""result"":flask.render_template('display_data.html', tweets = new_set)}) </code></pre>"
50703676	Convert django/python dict via json to javascript dict	javascript|json|django	2018-06-05 15:22:12.853000 UTC	"<p>I am trying to convert a python dict to a Javascript dict. As far as I understood I have to convert the python dict to Json, which I can convert to a Javascript Object</p>  <p>view.py</p>  <pre><code>jsonheaderdict = json.dumps ( headerdict) </code></pre>  <p><code>{{jsonheaderdict}}</code> in template results in</p>  <pre><code> {""F 1"": [""BBBB"", ""AAAAA""], ""F 2"": [""ASDASD""], ""F 3"": [""QWEQWE""]} </code></pre>  <p>and my js looks like this</p>  <pre><code>$("".dict"").click(function () {   alert(""first alert"");   var result = JSON.parse(jsonheaderdict);   alert(result); }); </code></pre>  <p>The first alert shows, the second one doesn't. What am i missing? Already tried <code>var result = jQuery.parseJSON(jsonheaderdict);</code> which didnt work either. I searched for similar question but didnt find any soultion that worked for me.</p>  <p><strong>EDIT</strong> For a better understanding how <code>jsonheaderdict</code> is created in my view:</p>  <pre><code>headerdict = dict() for d in projectdescriptors:                     #list of objects called descriptors     dp = projectprojections.filter(descriptor=d) #list of objects connected to descriptors      parray = []     for p in dp:         parray.append(p.name)     headerdict[d.name] = parray </code></pre>"	"<p>It is important to recognize that you are not passing a value from Python to JavaScript, you are <em>writing JavaScript source code using Python</em>.</p>  <p>This…</p>  <blockquote> <pre><code>jsonheaderdict = {""F 1"": [""BBBB"", ""AAAAA""], ""F 2"": [""ASDASD""], ""F 3"": [""QWEQWE""]} </code></pre> </blockquote>  <p>… is the JavaScript syntax to assign an object (created with an <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer"" rel=""nofollow noreferrer"">object literal</a>) to <code>jsonheaderdict</code>.</p>  <p>It isn't JSON. It isn't a string. It makes no sense to put it anywhere near <code>JSON.parse</code>.</p>  <p>Just use the object directly.</p>  <p>Further reading: <a href=""http://benalman.com/news/2010/03/theres-no-such-thing-as-a-json/"" rel=""nofollow noreferrer"">There's no such thing as a ""JSON Object""</a></p>"
50703676	Convert django/python dict via json to javascript dict	javascript|json|django	2018-06-05 15:22:12.853000 UTC	"<p>I am trying to convert a python dict to a Javascript dict. As far as I understood I have to convert the python dict to Json, which I can convert to a Javascript Object</p>  <p>view.py</p>  <pre><code>jsonheaderdict = json.dumps ( headerdict) </code></pre>  <p><code>{{jsonheaderdict}}</code> in template results in</p>  <pre><code> {""F 1"": [""BBBB"", ""AAAAA""], ""F 2"": [""ASDASD""], ""F 3"": [""QWEQWE""]} </code></pre>  <p>and my js looks like this</p>  <pre><code>$("".dict"").click(function () {   alert(""first alert"");   var result = JSON.parse(jsonheaderdict);   alert(result); }); </code></pre>  <p>The first alert shows, the second one doesn't. What am i missing? Already tried <code>var result = jQuery.parseJSON(jsonheaderdict);</code> which didnt work either. I searched for similar question but didnt find any soultion that worked for me.</p>  <p><strong>EDIT</strong> For a better understanding how <code>jsonheaderdict</code> is created in my view:</p>  <pre><code>headerdict = dict() for d in projectdescriptors:                     #list of objects called descriptors     dp = projectprojections.filter(descriptor=d) #list of objects connected to descriptors      parray = []     for p in dp:         parray.append(p.name)     headerdict[d.name] = parray </code></pre>"	"<p><strong>@Rubik</strong>, I may guess, <strong>alert()</strong> takes a string as parameter and you're passing it an object in second call to alert().</p>  <blockquote>   <p><strong>JSON.parse()</strong> creates an object from the string representation of any object (array, set etc.).</p> </blockquote>  <p>Please try to change your <strong>JS</strong> code as follows (just modify 2 lines):</p>  <blockquote>   <p>Please comment if it doesn't work, I will update my answer to help you.</p> </blockquote>  <pre><code>$("".dict"").click(function () {   alert(""first alert"");   // var result = JSON.parse(jsonheaderdict);   alert(JSON.stringify(jsonheaderdict)); }); </code></pre>  <p>&raquo; Try below sample code for verification.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var jsonheaderdict = {""F 1"": [""BBBB"", ""AAAAA""], ""F 2"": [""ASDASD""], ""F 3"": [""QWEQWE""]};  console.log(jsonheaderdict);   alert(jsonheaderdict)  alert(JSON.stringify(jsonheaderdict))</code></pre> </div> </div> </p>"
50704849	Executing JavaScript in Python With Selenium	javascript|python|selenium	2018-06-05 16:26:11.997000 UTC	"<p>I'm currently trying to remove attributes of an element on a webpage I'm automating.  There will always be two variables with that name and the second one will always be the one that needs to be modified.</p>  <p>Does this all need to be executed at once in order to work? Or do I need to add the element as an argument? I'm unsure how to go about debugging this because I'm not extremely familiar with JavaScript.</p>  <p>The following is my current code:</p>  <pre><code>js_one = ""var x = document.getElementsByName(\""element\"")"" js_two = ""x[1].removeAttribute(\""readonly\"")"" js_three = ""x[1].removeAttribute(\""disabled\"")""  driver.execute_script(js_one) driver.execute_script(js_two) driver.execute_script(js_three) </code></pre>  <p>It gives me the following error:</p>  <pre><code>  File ""main.py"", line 393, in main     driver.execute_script(js_two)   File ""C:\Users\~\AppData\Local\Continuum\anaconda3\lib\site-packages\sele nium\webdriver\remote\webdriver.py"", line 629, in execute_script     'args': converted_args})['value']   File ""C:\Users\~\AppData\Local\Continuum\anaconda3\lib\site-packages\sele nium\webdriver\remote\webdriver.py"", line 314, in execute     self.error_handler.check_response(response)   File ""C:\Users\~\AppData\Local\Continuum\anaconda3\lib\site-packages\sele nium\webdriver\remote\errorhandler.py"", line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.JavascriptException: Message: ReferenceError: x is no t defined </code></pre>  <p><strong>EDIT</strong> I solved the issue by changing my code to the following:</p>  <pre><code>js_one = 'document.getElementsByName(""element"")[1].removeAttribute(""readonly"");'  js_two = 'document.getElementsByName(""element"")[1].removeAttribute(""disabled"");' driver.execute_script(js_one + js_two)       </code></pre>  <p>If anybody has a more efficient way to carry this out, please feel free to let me know!</p>"	"<p>You are executing three JavaScript snippets one after another, and in your second snippet you expect variable <code>x</code> to be defined, which it isn't, hence you get the <code>ReferenceError</code>:</p>  <pre><code>selenium.common.exceptions.JavascriptException: Message: ReferenceError: x is not defined </code></pre>  <p>I'd suggest trying it like this:</p>  <pre><code>driver.execute_script("";"".join([js_one, js_two, js_three])) </code></pre>  <p>This will join your individual snippets to a single one using <code>;</code> and has the selenium driver execute it.</p>"
50706292	My Javascript only works on one element in a python embedded for loop in Django2	javascript|python|html|django|audio	2018-06-05 18:00:39.220000 UTC	"<p>I'm iterating these html template cards using Python for loop and I have a javascript to go with it. The problem is that the javascript is only working on the first element (the script is basically getting the seeked position of the audio) and not the rest. I thought it was because I set an id of the template card instead of a class name, but I am still getting the same results. The Javascript is in the for loop. Maybe it shouldn't? Anyways here is my code:</p>  <pre><code>{% for song in songs %}             &lt;div class=""col-md-4""&gt;                 &lt;div class=""card mb-4 box-shadow""&gt;                     &lt;img class=""card-img-top"" id=""img_size""                          src=""{{ song.song_image.url }}""                          alt=""Card image cap""&gt;                     &lt;div class=""my-header""&gt;                         &lt;h3 id=""song_title""&gt;{{ song.song_title }}&lt;/h3&gt;                         &lt;span id=""pub_date""&gt;{{ song.publishing_date }}&lt;/span&gt;                     &lt;/div&gt;                     &lt;div style=""clear:both""&gt;&lt;/div&gt;                     &lt;hr /&gt;                     &lt;div class=""card-body""&gt;                         &lt;p class=""card-text""&gt;{{ song.song_description }}&lt;/p&gt;                         &lt;div class=""d-flex justify-content-between align-items-center""&gt;                             &lt;div class=""btn-group""&gt;                                 &lt;audio class=""myAudio"" controls&gt;                                     &lt;source src=""{{ song.song_file.url }}"" type=""audio/mpeg""&gt;                                     &lt;source src=""{{ song.song_file.url }}"" type=""audio/wav""&gt;                                     Your browser does not support the audio element.                                 &lt;/audio&gt;                                 &lt;script&gt;                                     var vid = document.getElementsByClassName(""myAudio"");                                      function getCurTime() {                                         alert(vid.currentTime);                                     }                                      function setCurTime() {                                         vid.currentTime=5;                                     }                                 &lt;/script&gt;                             &lt;/div&gt;                         &lt;/div&gt;                     &lt;/div&gt;                 &lt;/div&gt;             &lt;/div&gt;             {% endfor %} </code></pre>"	"<ol> <li>No the JavaScript shouldn't be in the loop.</li> <li>In your loop you're not creating unique identifiers for your audio elements. An easy way to do so could be done by using <code>{{ forloop.counter }}</code> in the class (or any other) attribute of your audio tag, and then call it in your JavaScript.</li> </ol>  <p>Please let me know if you need more help.</p>"
50709402	How do I work with Javascript Object Literals in Python	javascript|python|json|python-3.x|beautifulsoup	2018-06-05 21:46:13.313000 UTC	"<p>Through Beautifulsoup module I have extracted an HTML page. From that page, I further extracted a Javascript script tag. Inside the script tag, there is an object literal that I would like to work with. You can see what I would like to achieve:</p>  <pre><code>&lt;script&gt;             var main_obj = {              ""link"":"""",             ""stock"":"""",             ""price"":[{""qty"":1000,""value"":""100$""}, {""qty"":10000,""value"":""1000$""}]             }   &lt;/script&gt; </code></pre>  <p>I would like to access the qty and value variables inside the object literals of price variable which is inside main_obj. Thankyou</p>"	"<p>One option would be to use <a href=""https://selenium-python.readthedocs.io/getting-started.html"" rel=""nofollow noreferrer""><code>selenium</code></a>. In particular, you can use <a href=""https://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver.execute_script"" rel=""nofollow noreferrer""><code>execute_script</code></a> to convert to a JSON string which Python can easily parse.</p>  <p>Since I don't know what the URL of the page you are working with is, I just created a local HTML file which included your script tag example. Using headless is not mandatory and I only added that option so the browser window doesn't open.</p>  <h3><code>test.html</code></h3>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt; &lt;script&gt;     var main_obj = {         ""link"": """",         ""stock"": """",         ""price"": [{""qty"": 1000, ""value"": ""100$""}, {""qty"": 10000, ""value"": ""1000$""}]     } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <h3>Script</h3>  <pre><code>In[2]: import os   ...: import json   ...:    ...: from selenium import webdriver   ...:    ...: chrome_options = webdriver.ChromeOptions()   ...: chrome_options.add_argument('--headless')   ...: driver = webdriver.Chrome(chrome_options=chrome_options)   ...:    ...: driver.get('file://{}/test.html'.format(os.getcwd()))   ...: json_string = driver.execute_script('return JSON.stringify(main_obj)')   ...: driver.quit()   ...:    ...: json_data = json.loads(json_string) In[3]: json_data Out[3]:  {'link': '',  'stock': '',  'price': [{'qty': 1000, 'value': '100$'}, {'qty': 10000, 'value': '1000$'}]} In[4]: for item in json_data['price']:   ...:     print('Quantity: {:d}\tValue: ${:.2f}'.format(   ...:         item['qty'], float(item['value'].rstrip('$'))   ...:     ))   ...:  Quantity: 1000  Value: $100.00 Quantity: 10000 Value: $1000.00 </code></pre>"
50725737	Sending data back from Javascript to Python	javascript|python|flask	2018-06-06 16:56:34.023000 UTC	"<p>I am very new to Python / Flask / Javascript, and would appreciate it if someone could help me with this.</p>  <p>I am trying to pass a string value from Javascript back to Python but it does not seem to work. My code is as follows:</p>  <p>Javascript (partial code):</p>  <pre><code>var bounds = '8.3,9,34.3,15.9'; $.post(""/receiver"", {     bbox_bounds: bounds }); </code></pre>  <p>In Python:</p>  <pre><code>from flask import Flask, request  #Create the Flask app app = Flask(__name__)  @app.route('/receiver', methods = ['POST']) def receiver():     bbounds = request.form('bbox_bounds')     print ""Bounds: "" + bbounds     return bbounds    if __name__ == '__main__':     app.run(port=5000) </code></pre>  <p>Sorry, the above is bad, but I am really a beginner. Thank you.</p>"	"<p>Change this line,</p>  <pre><code>bbounds = request.form('bbox_bounds') </code></pre>  <p>to</p>  <pre><code>bbounds =request.form['bbox_bounds'] </code></pre>  <p>Refer to the Flask Quickstart guide for more detailed examples - <a href=""http://flask.pocoo.org/docs/1.0/quickstart/#routing"" rel=""nofollow noreferrer"">http://flask.pocoo.org/docs/1.0/quickstart/#routing</a></p>  <p>Also issues as such can be easily caught and fixed if you look into your logs. </p>"
50746062	Website using Python Oracle and Javascript	python-2.7	2018-06-07 16:24:38.680000 UTC	"<p>I have a HTA tool that connects to oracle database. It's created using HTML,Javascript and oracle as backend.  Javascript connects to oracle database using OLEDB drive. It pulls data and create dynamic rows.  Tool is working but now am planning to convert it as Web Application.  Being a DBA , am not that much familiar with Java and i thought i will explore options in Python.  I have recently done a automation using Python and Selenium. So yes , i know bit of Python. But i have no idea about website using python.</p>  <p>I also don't want to change lot of code. I want javascript to do all the dynamic front-end stuffs.  All i need is interface that can connect to oracle database and pull the information and pass it to javascript function.  Can someone please guide to how to start with. </p>  <p>Thanks. </p>"	"<p>I don't know Python but if you don't want to change a lot of code, you may consider PHP. It's made to generate HTML code dynamicaly.  It is dangerous to connect to your DB directly by using javascript. Every user can read the JS code in the page and event modify it(sending every value they want).</p>  <p>PHP is executed on the server, it mean that you can check and validate the received value before risking to corupt your DB.</p>  <p>That's why a PHP page between the JS and the DB is better. Python should be secure too but I think it's easier to use PHP because it's open source and well documented.</p>  <p>I wish you a good continuation!</p>"
50774378	JavaScript ajax post not getting data in python?	javascript|python|python-3.x	2018-06-09 12:37:15.340000 UTC	"<p>I am beginner in web developing. I am trying to make the ajax request with POST method (without jquery). Following is my JS code</p>  <pre><code>function loadDoc() {    var Obj = {""user_Name"":""testName""};    var xhttp = new XMLHttpRequest();   xhttp.onreadystatechange = function() {     if (this.readyState == 4 &amp;&amp; this.status == 200) {       document.getElementById(""x"").innerHTML =       this.responseText;     }   };    xhttp.open(""POST"", ""/cgi-bin/Messapp/hostelapp.py"", true);   xhttp.setRequestHeader(""Content-Type"", ""text/json"");     xhttp.send(JSON.stringify(Obj)); } </code></pre>  <p>Then following is my python script</p>  <pre><code>#!D:/python/python.exe print(""Content-Type: text/json\n\n"")  import cgi, cgitb , re  cgitb.enable()  form = cgi.FieldStorage() #I am facing problem in this line  print(form[""user_Name]) </code></pre>  <p>Please see the below error <a href=""https://i.stack.imgur.com/o3Yr4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/o3Yr4.png"" alt=""Error image""></a></p>"	"<p>You have to add the following header in the ajax, instead of the json</p>  <pre><code>xhttp.setRequestHeader(""Content-type"", ""application/x-www-form-urlencoded""); </code></pre>"
50777852	Execute Javascript of an email sended with python smtplib	javascript|python|html|smtp|smtplib	2018-06-09 19:36:19.677000 UTC	"<p>I'm practicing emailing and I wanted to know if it's possible to execute Javascript code when you send and email using smtplib and email libs, and when your message contain HTML code ?</p>  <p>It seem that nothing append.</p>  <p>HTML file :</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=""en""&gt; &lt;head&gt; &lt;/head&gt; &lt;body&gt; &lt;/div&gt;    &lt;p class='Test'&gt;This is my first sentence&lt;/p&gt;     &lt;script type=""text/javascript""&gt;        var list = document.querySelector('p.Test');        list.innerHTML = ""I want to change it"";    &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Python Code:</p>  <pre><code>import smtplib from email.message import EmailMessage   def ConnectServer(User, Pass, Host):     SMTPServer = smtplib.SMTP_SSL(Host)     SMTPServer.ehlo()     SMTPServer.login(User, Pass)     return SMTPServer  def SendMail(Server, src, dst, data):     msg = EmailMessage()     msg['From'] = src     msg['To'] = dst     msg['Subject'] = 'Test envoi python'     msg.add_alternative(data, 'html')     Server.send_message(msg, src, dst)   def main():     #Define email adresses     me = 'AN_EMAIL@MAIL.com'     me2 = 'AN_OTHER_EMAIL@mail.com'     Server = ConnectServer(me, 'PASS', 'smtp.gmail.com')       with open('HTML PATH HERE', 'r', encoding='utf8') as File:         data = File.read()         SendMail(Server, me, me2, data)     pass  if __name__ == '__main__':     main() </code></pre>  <p>I hope it's clear.</p>"	"<p>As far as i know we cant , i also tried to do this, i wanted to include a search bar for the table content in mail.</p>  <pre><code>""No. JavaScript won't work in mails. A cool way to implement this feature   would be to include an image that points to your server, where you generate   the weather report server side and render it as an image, and return it to   the client.   Note though that Gmail caches images and depending on when he does it that   might not be refreshed."" </code></pre>  <p>Source : <a href=""https://www.quora.com/"" rel=""nofollow noreferrer"">https://www.quora.com/</a></p>"
50803690	Is there any way to create python-like generators in javascript?	javascript|python|iterator|generator	2018-06-11 18:06:57.170000 UTC	"<p>In python if you loop over (or consume) an </p>  <ol> <li>iterator </li> <li>function return value </li> </ol>  <p>you do not even know which one you have. So it does not matter from the caller side if you have returned or yielded values from the callee to use in caller.</p>  <p>However, as far as I know in javascript if you want to use yield, you have to explicitly mark the function* with an asterisk and can not treat the computed value the same way as a ""regular function's return value"" on the caller side.</p>  <p>Is there an abstraction in javascript to hide these differences to get the same nice abstraction which python has?</p>"	"<p><strong>SINCE ES6</strong>:</p> <p>There is <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*"" rel=""nofollow noreferrer"">a new &quot;generator&quot; function</a>, which works <strong>almost exactly</strong> like generators in Python. From MDN:</p> <pre><code>function* generator(i) {   yield i;   yield i + 10; }  const gen = generator(10);  console.log(gen.next().value); // expected output: 10  console.log(gen.next().value); // expected output: 20 </code></pre>"
50803690	Is there any way to create python-like generators in javascript?	javascript|python|iterator|generator	2018-06-11 18:06:57.170000 UTC	"<p>In python if you loop over (or consume) an </p>  <ol> <li>iterator </li> <li>function return value </li> </ol>  <p>you do not even know which one you have. So it does not matter from the caller side if you have returned or yielded values from the callee to use in caller.</p>  <p>However, as far as I know in javascript if you want to use yield, you have to explicitly mark the function* with an asterisk and can not treat the computed value the same way as a ""regular function's return value"" on the caller side.</p>  <p>Is there an abstraction in javascript to hide these differences to get the same nice abstraction which python has?</p>"	"<p>There are several constructs in JavaScript where the caller does not need to know whether the called function is a generator, or a plain function that returns an array, string, Map, ...etc. These return values all have in common that they are iterable.</p>  <p>Here are two examples on how you can treat the return value of such a function:</p>  <ol> <li><p>Iterate through the values:</p>  <pre><code>for (let x of f()) {     // ... } </code></pre>  <p>Depending on what <code>f()</code> returns, <code>x</code> will be the following:</p>  <ul> <li>Iterate a string: get each character</li> <li>Iterate an array: get each element of it</li> <li>Iterate a Map: get each key/value pair of it</li> <li>Iterate an iterator (maybe returned by a generator): get each yielded value  from it</li> <li>...</li> </ul></li> <li><p>Create an array from the values:</p>  <pre><code>const copy = Array.from(f()); </code></pre>  <p>Or also:</p>  <pre><code>const copy = [...f()]; </code></pre>  <p>NB: the nice thing of <code>Array.from</code> is that it accepts a callback function as a second argument: a mapper called for each value.  </p></li> <li><p>Spread the values as arguments to another function</p>  <p>If the values are numerical:</p>  <pre><code>Math.min(...f()); </code></pre>  <p>As <code>Math.min</code> can accept multiple arguments (not just two), this gives the minimum value of the whole series (as <code>min</code> does in Python).</p></li> </ol>  <p>Read more about iterators and iterables <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols"" rel=""nofollow noreferrer"">on MDN</a></p>"
50825153	Interacting with JavaScript object when web scraping with python and selenium	javascript|python-3.x|selenium-webdriver|web|web-scraping	2018-06-12 20:11:38.127000 UTC	"<p>I am trying to load more comments, which is loaded by clicking on a JavaScript object. Then scrap the page. To test this out, i'm printing the number of comments (inside a p tag) the page contains before and after clicking on the ""load more"" button. But, it points the same number of p tags before and after. If if you look at the page it has a lot more comments. Where am I going wrong?</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC import time  driver = webdriver.PhantomJS(executable_path='PATH_TO.../phantomjs') driver.get('http://www.ratemyprofessors.com/ShowRatings.jsp?tid=1500075')  comments = driver.find_elements_by_tag_name('p') print('Before', len(comments))  time.sleep(1)   try:     element = WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.ID, 'loadMore')))     time.sleep(1)  finally:     comments = driver.find_elements_by_tag_name('p')     print('After', len(comments))  driver.close() </code></pre>  <p>Note that I tried both 'loadMore' and 'loadmoreBlog'.. did not work. Thanks so much in advance for your answers. </p>"	<p>I needed to add </p>  <pre><code>element.click() </code></pre>
50833399	Can I use JavaScript to pass an email to a python file I have in my website?	javascript|python|html|django	2018-06-13 09:13:01.773000 UTC	"<p>I am using Django for my website and so am more familiar with Python. Because of this I want to send an email to an email address I receive from my HTML and JS form using Python not JavaScript, as I know little JS. Any ideas/suggestions? What is the JS code to use for sending data from a JS program to a Python script? WITHOUT using Ajax or extra content. Is there a way to just do it using plain JS???</p>"	
50850489	Cross code Hash for Javascript & Python	javascript|python|hash	2018-06-14 05:54:03.483000 UTC	"<p>NO. THAT SUGGESTION DOES NOT ANSWER THIS AT ALL. SEE CORRECT ANSWER BELOW.</p>  <p>I am building an application whereby I want a user to enter a password into a browser, which is sent via my server to another device running Python. The password then needs to be validated by the device running Python. </p>  <p>The problem is, I dont want my server handling passwords in any way. So I figured I could hash the password in the browser before it is sent, have the server pass on the hash to the device, then check the hash is equivalent on the Python side. </p>  <p>Python has a built-in library for this purpose, but it seems javascript does not. I thought I could leverage a public javascript library, but when I compare the results from the javascript SHA256 algorithm <a href=""https://www.movable-type.co.uk/scripts/sha256.html"" rel=""nofollow noreferrer"">here</a> to what the SHA256 function in Python produces it is not the same string of characters. </p>  <p>Is there a cross code hash function (or any other solution) I can use?</p>  <h2>An Update</h2>  <p>In response to a ""gee whiz, this question is the same as all these ones"" let me clarify. This is not about a strategy for storing passwords or finding a 'trustworthy' library (like the post suggested). There is NOT any discussion about cross code compatibility of SHA2 on this site. I could not even find a discussion that pointed out that different SHA2 implementations SHOULD produce the same result. I did plenty of research. In fact it was the various discussions about different javascript ""implementations"" of SHA2 that confused me. I actually tested a scenario myself, which further confused me as the website picked up a carriage return and produced a different hash. (see below)</p>  <p>This is about having a function in TWO languages that produces the same output...on different devices. I think it is actually an unusual application of hashing, as generally the same code layer is used to hash, store and compare hashed values.</p>  <p>In the rush to down-vote the question and establish mental superiority it seems to me the question was not read properly and incorrect assumptions were made. Hopefully contributors to this site will in future take a more considered and helpful approach like the successful answer.</p>  <p>The link for the javascript library I provided produced the following hash for the text 'MyPassword'</p>  <p>5e618e009fe35ea092150ad1f2c24e3181b4cf6693dc7bbd9a09ea9c8144720d</p>  <p>If I use the sha256 function from Python I get the result below, which seems to indicate to me that not all SHA256 functions are equal and produce the same result.</p>  <p><a href=""https://i.stack.imgur.com/EXsuz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EXsuz.png"" alt=""Python Result""></a></p>"	"<p>All proper implementations of SHA256 (or any hash/encryption) produce the same result if supplied with the same data. Your problem is solved by properly processing the data that you supply to the javascript library. The ""5e61..."" hash is a result of additional newline appended to the end of the ""MyPassword"" string, look:</p>  <pre><code>In [1]: import hashlib  In [2]: hashlib.sha256(b'MyPassword').hexdigest() Out[2]: 'dc1e7c03e162397b355b6f1c895dfdf3790d98c10b920c55e91272b8eecada2a'  In [3]: hashlib.sha256(b'MyPassword\n').hexdigest() Out[3]: '5e618e009fe35ea092150ad1f2c24e3181b4cf6693dc7bbd9a09ea9c8144720d' </code></pre>  <p>For the future, popular implementations of hashes and cryptographic algorithms are thoroughly tested, and if the answer seems wrong - it's probably because your data is wrong. </p>"
50853900	"Python to javascript, js authentication"	javascript|python|translate	2018-06-14 09:17:44.073000 UTC	"<p>I need help converting this piece of python to javascript.</p>  <pre><code>auth = ""Basic "" + base64.b64encode(bytes(IdentityClientId + "":"" + IdentityClientSecret, ""utf-8"")).decode('ascii') </code></pre>  <p>What I've tried:</p>  <pre><code>var auth = ""Basic "" + unescape(btoa(IdentityClientId + "":"" + IdentityClientSecret)); </code></pre>  <p>No luck so far.</p>"	"<p>As suspected in the comment, you have some problem with Unicode characters.</p>  <p>You can use this to encode properly the characters: </p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function b64EncodeUnicode(str) {     return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {         return String.fromCharCode(parseInt(p1, 16));     })); }  console.log(b64EncodeUnicode('lögin:password'));</code></pre> </div> </div> </p>  <p>Check <a href=""https://stackoverflow.com/q/30106476/5860648"">this post</a> for more details about this! </p>"
50856884	"python regex can't match,but matched in javascript with same parttern"	python|regex	2018-06-14 11:49:50.500000 UTC	"<p>code is here:        import re</p>  <pre><code>    res = re.match('bbs1','http://bbs1.people.com.cn/userInfo.do?userNick=%E8%85%BE%E9%A3%9E%E4%B8%AD%E5%9B%BD%E9%BE%99')     print(res) </code></pre>  <p>It's print None,but when I change parttern to 'http',it matches; The same parttern in javascript can matched;</p>  <pre><code>var url = 'http://bbs1.people.com.cn/userInfo.do?userNick=%E8%85%BE%E9%A3%9E%E4%B8%AD%E5%9B%BD%E9%BE%99' url.match(/bbs/) </code></pre>"	
50864700	Using Selenium in Python to access hidden table in JavaScript website	javascript|python|selenium|selenium-webdriver	2018-06-14 19:36:19.260000 UTC	"<p>I'm trying to use Selenium webdriver with Python to open an HTML link that seems to be hidden within a JavaScript table, which is in an iframe. I know the last 2 lines are not currently doing very much.</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  # Open MasterControl  url = *****  driver = webdriver.Chrome(executable_path = r'C:\Users\jmiller\Desktop\MasterControl Scraping\chromedriver') driver.get(url)  # Login using my credentials  username = driver.find_element_by_id('userid') password = driver.find_element_by_name('password')  username.send_keys('*****') password.send_keys('*****')  submitButton = driver.find_element_by_id('MCP_BUTTON_40')  submitButton.click()  # Search for assets  asset = driver.find_element_by_id('strSearchPortal') asset.send_keys('****')  goButton = driver.find_element_by_xpath(""//input[@type = 'submit']"") goButton.click()  # Open asset form  driver.switch_to.frame('myframe') element = WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH,""//div[@id = 'folder_Forms']/div[@id = 'row2']/div[@id = 'column_i.title_nm']/a""))) element.click() </code></pre>  <p>'folder_Forms' seems to be where I'm getting lost. The link I want to click his hidden until you click on the ""Forms"" icon on the website. Do I have to execute the JavaScript ""toggleFolder"" function? Any help is greatly appreciated. Let me know if more info would be helpful - I'm trying to avoid copying over the entire site.</p>  <pre><code>&lt;div id=""folder_Forms"" class=""listDataTable"" style=""margin-left: 10px;width: 99%;""&gt;              &lt;span style=""cursor:pointer"" onclick=""toggleFolder('image_Forms','group_Forms');""&gt;                 &lt;img src=""*****"" id=""image_Forms"" title=""Hide Content""&gt;                      Forms              &lt;/span&gt;              &lt;span style=""font-weight:lighter;font-size:11px;color:#666666; "" onclick=""toggleFolder('image_Forms','group_Forms');""&gt;(3 records)             &lt;/span&gt;              &lt;span&gt;                &lt;/span&gt;         &lt;/div&gt; </code></pre>"	"<p>try to execute <code>toogleFolder</code> with <code>execute_script</code>, and you will see if it helps</p>  <pre><code>driver.execute_script(""toggleFolder('image_Forms','group_Forms');"") </code></pre>"
50868137	Return SQL queries via Python to JavaScript?	javascript|python|html|sqlite|flask	2018-06-15 01:47:17.223000 UTC	"<p>Let's say I have a form:</p>  <pre><code>&lt;form action=""/login"" method=""post"" class=""card-title""&gt;    &lt;input class=""form-control"" name=""username"" placeholder=""Username"" type=""text""/&gt;    &lt;input class=""form-control"" name=""password"" placeholder=""Password"" type=""password""/&gt;    &lt;button class=""btn"" type=""submit""&gt;Log  In&lt;/button&gt; &lt;/form&gt; </code></pre>  <p>This form will submit to the URL '/login' in my Flask app.</p>  <p>If the password is incorrect, I would like to pass it to JavaScript somehow so it can display an error on the login page, currently it just redirects to a 'wrong password' page. The login information is stored in a SQLite database, so that's why I'm passing it to Python.</p>  <p>Any Ideas?</p>"	"<p>You can create a <code>div</code> below the box that receives the input for the credential/credentials that where in valid:</p>  <p>In the HTML:</p>  <pre><code>&lt;style&gt;     .invalid_input{       width:100px;      height:20px;      border-radius:4px;      background-color:red;      color:white;    }  &lt;/style&gt; &lt;html&gt; &lt;form action=""/login"" method=""post"" class=""card-title""&gt;   &lt;input class=""form-control"" name=""username"" placeholder=""Username"" type=""text""/&gt;   &lt;div class='invalid_input'&gt;{{message_username}}&lt;/div&gt;     &lt;div class='spacer' style='height:10px;'&gt;&lt;/div&gt;          &lt;input class=""form-control"" name=""password"" placeholder=""Password"" type=""password""/&gt;    &lt;div class='invalid_input'&gt;{{message_password}}&lt;/div&gt;     &lt;div class='spacer' style='height:10px;'&gt;&lt;/div&gt;  &lt;button class=""btn"" type=""submit""&gt;Log  In&lt;/button&gt; &lt;/form&gt; &lt;/html&gt; </code></pre>  <p>Then, in the app (utilizing placeholder lookup functions for username and password):</p>  <pre><code>@app.route('/login', methods = ['GET', 'POST']) def login():   if flask.request.method == 'POST':     username = flask.request.form['username']     password = flask.request.form['password']     u_flag, p_flag = is_valid_username(username), is_valid_password(password)     if not u_flag or not p_flag:       return flask.render_template('login.html', message_username = '' if u_flag else 'Invalid Username', message_password = '' if p_flag else 'Invalid Password'   return flask.render_template('login.html', message_username = '', message_password = '') </code></pre>"
50877160	printing an output of javascript in a webpage using selenium and python	javascript|python|selenium	2018-06-15 14:01:52.783000 UTC	"<p>I was making an python program that executes a java script after loading a <a href=""https://html5.haxball.com/headless"" rel=""nofollow noreferrer"">webpage</a> it is a web based api where we can execute javascript commands through console of your browser (f12) ( api <a href=""https://github.com/haxball/haxball-issues/wiki/Headless-Host"" rel=""nofollow noreferrer"">documentation</a>) <br/>This executing gives back an array, I just want to get this output of execution (the array) to be print. the code i used is given below. the time delay of 15 seconds is used for solving an captcha which have to do manually.  executing <code>getPlayerList();</code> command will give back you a list of players that is currently playing.</p>  <pre><code>from selenium import webdriver import time import os driver=webdriver.Firefox() driver.get(""https://html5.haxball.com/headless"") time.sleep(5) driver.execute_script("""""" window.room = window.HBInit({ roomName: 'botts', maxPlayers: 16 }); """""") #the time dalay is to solve the captcha manually that appear on the browser after executing above javascript. time.sleep(15) print(driver.execute_script(""""""  console.log(window.getPlayerList(); """""")) </code></pre>  <p>The above program works fine, but i have to print the output of <code>getPlayerList();</code> I tried with <code>return</code> and <code>console log</code>, but that is not working for me.</p>"	"<p>I am Agree with the @zimdero answer and the @GalAbra comment if you use Selenium.</p>  <hr>  <p>But <strong>if you have absolutely the requirement to execute the javascript function which is present in the loaded page</strong>, you may achieve this by <strong>use of <a href=""https://riverbankcomputing.com/software/pyqt/intro"" rel=""nofollow noreferrer"">PyQt</a></strong> and <a href=""http://doc.qt.io/archives/qt-4.8/qwebview.html"" rel=""nofollow noreferrer"">QwebView</a> class, with something like this:</p>  <pre><code>browser = QwebView() browser.load(QUrl(""https://html5.haxball.com/headless"")) frame = browser.page().currentFrame() #do your stuff here #execute js function inside the webpage frame.evaluateJavaScript(QString(""getPlayerList()"")) </code></pre>  <p>For more information, take a look on <a href=""https://stackoverflow.com/questions/5885290/how-to-call-javascript-function-from-pyqt"">How to call javascript function from PyQT</a></p>"
50877160	printing an output of javascript in a webpage using selenium and python	javascript|python|selenium	2018-06-15 14:01:52.783000 UTC	"<p>I was making an python program that executes a java script after loading a <a href=""https://html5.haxball.com/headless"" rel=""nofollow noreferrer"">webpage</a> it is a web based api where we can execute javascript commands through console of your browser (f12) ( api <a href=""https://github.com/haxball/haxball-issues/wiki/Headless-Host"" rel=""nofollow noreferrer"">documentation</a>) <br/>This executing gives back an array, I just want to get this output of execution (the array) to be print. the code i used is given below. the time delay of 15 seconds is used for solving an captcha which have to do manually.  executing <code>getPlayerList();</code> command will give back you a list of players that is currently playing.</p>  <pre><code>from selenium import webdriver import time import os driver=webdriver.Firefox() driver.get(""https://html5.haxball.com/headless"") time.sleep(5) driver.execute_script("""""" window.room = window.HBInit({ roomName: 'botts', maxPlayers: 16 }); """""") #the time dalay is to solve the captcha manually that appear on the browser after executing above javascript. time.sleep(15) print(driver.execute_script(""""""  console.log(window.getPlayerList(); """""")) </code></pre>  <p>The above program works fine, but i have to print the output of <code>getPlayerList();</code> I tried with <code>return</code> and <code>console log</code>, but that is not working for me.</p>"	"<p>you need to define your <code>getPlayerList()</code> function take this as example:</p>  <pre><code>from selenium import webdriver driver=webdriver.Firefox() driver.get(""https://html5.haxball.com/headless"") driver.execute_script(""""""     // window.room = window.HBInit({ roomName: 'botts', maxPlayers: 16 });      // define the getPlayerList() functio;     window.getPlayerList = function() {         // here you make all the functional that you need         return 'All players list';     }  """""")  driver.execute_script(""""""      // now that we define our function, we can call it     console.log(window.getPlayerList(); """""") </code></pre>"
50877877	OverFlowError: math range error javaScript to python	python|numpy|neuroscience	2018-06-15 14:45:10.650000 UTC	"<p>I am trying to build an Action potential simulation (a graph of voltage relative to time, where the voltage values are obtained through numerically solving a couple of differential equiations). I have used the code from an online simulation of this in javaScript and am trying to translate it into python. However, due to the different ways in which python and java handle floats, I get an Overflowerror: math range error. Does anyone know how I can circumvent this in this specific situation? I am posting everything i've written and my error output: </p>  <pre><code>    import numpy as np     import math     import matplotlib.pyplot as plt      import random      class HH():         def __init__(self):              self.dt = 0.025              self.Capacitance = 1             self.GKMax = 36             self.GNaMax = 120             self.Gm = 0.3             self.EK = 12             self.ENa = 115             self.VRest = 10.613             self.V = 0             self.n = 0.32             self.m = 0.05             self.h = 0.60             self.INa = 0             self.IK = 0             self.Im = 0              self.Iinj = 0             self.tStop = 200             self.tInjStart = 25             self.tInjStop = 175             self.IDC = 0             self.IRand = 35             self.Itau = 1           @classmethod         def alphaN(cls,V):             if(V == 10):                 return alphaN(V+0.001)             else:                 a = (10-V)/(100 * (math.exp((10-V)/10) -1))                 print(""alphaN: "", a)                 return a           @classmethod         def betaN(cls,V):             a = 0.125*math.exp(-V/80)             print(""betaN: "", a)             return a          @classmethod         def alphaM(cls, V):             if (V == 25):                  return alphaM(V+0.0001)             else:                  a =  (25 - V)/10 * (math.exp( (25-V)/10) - 1)                 print(""alphaM"", a)                 return (a)         @classmethod         def betaM(cls, V):             return 4 * math.exp(-V/18)          @classmethod         def alphaH(cls, V):             return 0.07 * math.exp(-V/20)          @classmethod         def betaH(cls, V):             return 1/(math.exp((30-V/10)+1))           def iteration(self):              aN = self.alphaN(self.V)             bN = self.betaN(self.V)             aM = self.alphaM(self.V)             bM = self.betaM(self.V)             aH = self.alphaH(self.V)             bH = self.betaH(self.V)             tauN = 1/(aN + bN)             print(""tauN: "", tauN)             tauM = 1/(aM + bM)             print(""tauM"", tauM)             tauH = 1/(aH + bH)             print(""tauH: "", tauH)             nInf = aN * tauN             print(""nInf: "", nInf)             mInf = aM * tauM             print(""mInf: "", mInf)             hInf = aH * tauH             print(""hInf: "", hInf)              self.n += self.dt/ tauN * (nInf - self.n)             print(""n: "", self.n)             self.m += self.dt/tauM * (mInf - self.m)             print(""m: "", self.m)             self.h += self.dt/tauH * (hInf - self.h)             print(""h: "", self.h)              self.IK = self.GKMax * self.n * self.n * self.n * self.n * (self.VRest - self.EK)             print(""IK: "", self.IK)             self.INa = self.GNaMax * self.m * self.m * self.m * self.h * (self.VRest - self.ENa)             print(""INa: "", self.INa)             self.Im =  self.Gm * (self.VRest * self.V)             print(""Im: "", self.Im)             self.V += self.dt/self.Capacitance * (self.INa + self.IK + self.Im + self.Iinj)               print(""V: "", self.V)             print(""nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn"")             return self.V       if __name__ == '__main__':          hodgkinHuxley = HH()          V_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))   #v_vector         Iinj_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt)) #stim_vector         n_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))         m_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))         h_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))          plotSampleRate = math.ceil(hodgkinHuxley.tStop/2000/hodgkinHuxley.dt) #t_vector         print(""plotsamplerate: "", plotSampleRate)         i = 0         t_vector = []         for t in range(0, hodgkinHuxley.tStop+1):             t= t+hodgkinHuxley.dt             if(math.floor(t)&gt;hodgkinHuxley.tInjStart &amp; math.ceil(t)&lt;hodgkinHuxley.tInjStop):                 rawInj  = hodgkinHuxley.IDC + hodgkinHuxley.IRand * 2 * (random.random()-0.5)             else:                 rawInj = 0              hodgkinHuxley.Iinj += hodgkinHuxley.dt/hodgkinHuxley.Itau * (rawInj - hodgkinHuxley.Iinj)               hodgkinHuxley.iteration()             counter = 0              if(i == plotSampleRate):                 V_vector[counter] = hodgkinHuxley.V                 Iinj_vector[counter] = hodgkinHuxley.Iinj                 n_vector[counter] = hodgkinHuxley.n                 m_vector[counter] = hodgkinHuxley.m                 h_vector[counter] = hodgkinHuxley.h                 i=0;                 counter+=1             i+=1 </code></pre>  <p>Error: </p>  <pre><code>    plotsamplerate:  4     alphaN:  0.05819767068693265     betaN:  0.125     alphaM 27.956234901758684     tauN:  5.458584687514421     tauM 0.03129279788667988     tauH:  14.285714285707257     nInf:  0.3176769140606974     mInf:  0.8748288084532805     hInf:  0.9999999999995081     n:  0.31998936040167786     m:  0.7089605789167688     h:  0.6006999999999995     IK:  -0.5235053389507994     INa:  -2681.337959108097     Im:  0.0     V:  -67.0465366111762     nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn     alphaN:  0.00034742442109860416     betaN:  0.2889909708647963     alphaM 91515.37543280824     tauN:  3.456160731837547     tauM 1.0907358211913938e-05     tauH:  0.5000401950825147     nInf:  0.0012007546414823879     mInf:  0.9981909817434281     hInf:  1.0     n:  0.31768341581102577     m:  663.6339264765652     h:  0.6206633951393696     IK:  -0.5085774931025618     INa:  -2272320232559.0464     Im:  -213.46946791632385     V:  -56808005886.37157     nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn     Traceback (most recent call last):       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 131, in &lt;module&gt;         hodgkinHuxley.iteration()       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 71, in iteration         aN = self.alphaN(self.V)       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 38, in alphaN         a = (10-V)/(100 * (math.exp((10-V)/10) -1))     OverflowError: math range error     [Finished in 0.8s] </code></pre>"	"<p><code>OverflowError: math range error</code> mean that's <code>math.exp((10-V)/10)</code> slightly outside of the range of a double, so it causes an overflow...</p>  <p>You may expect that this number is infinite with:</p>  <pre><code>try:     a = (10-V)/(100 * (math.exp((10-V)/10) -1)) except OverflowError:     a = (10-V)/(float('inf')) </code></pre>"
50877877	OverFlowError: math range error javaScript to python	python|numpy|neuroscience	2018-06-15 14:45:10.650000 UTC	"<p>I am trying to build an Action potential simulation (a graph of voltage relative to time, where the voltage values are obtained through numerically solving a couple of differential equiations). I have used the code from an online simulation of this in javaScript and am trying to translate it into python. However, due to the different ways in which python and java handle floats, I get an Overflowerror: math range error. Does anyone know how I can circumvent this in this specific situation? I am posting everything i've written and my error output: </p>  <pre><code>    import numpy as np     import math     import matplotlib.pyplot as plt      import random      class HH():         def __init__(self):              self.dt = 0.025              self.Capacitance = 1             self.GKMax = 36             self.GNaMax = 120             self.Gm = 0.3             self.EK = 12             self.ENa = 115             self.VRest = 10.613             self.V = 0             self.n = 0.32             self.m = 0.05             self.h = 0.60             self.INa = 0             self.IK = 0             self.Im = 0              self.Iinj = 0             self.tStop = 200             self.tInjStart = 25             self.tInjStop = 175             self.IDC = 0             self.IRand = 35             self.Itau = 1           @classmethod         def alphaN(cls,V):             if(V == 10):                 return alphaN(V+0.001)             else:                 a = (10-V)/(100 * (math.exp((10-V)/10) -1))                 print(""alphaN: "", a)                 return a           @classmethod         def betaN(cls,V):             a = 0.125*math.exp(-V/80)             print(""betaN: "", a)             return a          @classmethod         def alphaM(cls, V):             if (V == 25):                  return alphaM(V+0.0001)             else:                  a =  (25 - V)/10 * (math.exp( (25-V)/10) - 1)                 print(""alphaM"", a)                 return (a)         @classmethod         def betaM(cls, V):             return 4 * math.exp(-V/18)          @classmethod         def alphaH(cls, V):             return 0.07 * math.exp(-V/20)          @classmethod         def betaH(cls, V):             return 1/(math.exp((30-V/10)+1))           def iteration(self):              aN = self.alphaN(self.V)             bN = self.betaN(self.V)             aM = self.alphaM(self.V)             bM = self.betaM(self.V)             aH = self.alphaH(self.V)             bH = self.betaH(self.V)             tauN = 1/(aN + bN)             print(""tauN: "", tauN)             tauM = 1/(aM + bM)             print(""tauM"", tauM)             tauH = 1/(aH + bH)             print(""tauH: "", tauH)             nInf = aN * tauN             print(""nInf: "", nInf)             mInf = aM * tauM             print(""mInf: "", mInf)             hInf = aH * tauH             print(""hInf: "", hInf)              self.n += self.dt/ tauN * (nInf - self.n)             print(""n: "", self.n)             self.m += self.dt/tauM * (mInf - self.m)             print(""m: "", self.m)             self.h += self.dt/tauH * (hInf - self.h)             print(""h: "", self.h)              self.IK = self.GKMax * self.n * self.n * self.n * self.n * (self.VRest - self.EK)             print(""IK: "", self.IK)             self.INa = self.GNaMax * self.m * self.m * self.m * self.h * (self.VRest - self.ENa)             print(""INa: "", self.INa)             self.Im =  self.Gm * (self.VRest * self.V)             print(""Im: "", self.Im)             self.V += self.dt/self.Capacitance * (self.INa + self.IK + self.Im + self.Iinj)               print(""V: "", self.V)             print(""nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn"")             return self.V       if __name__ == '__main__':          hodgkinHuxley = HH()          V_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))   #v_vector         Iinj_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt)) #stim_vector         n_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))         m_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))         h_vector = np.zeros(math.floor(hodgkinHuxley.tStop/hodgkinHuxley.dt))          plotSampleRate = math.ceil(hodgkinHuxley.tStop/2000/hodgkinHuxley.dt) #t_vector         print(""plotsamplerate: "", plotSampleRate)         i = 0         t_vector = []         for t in range(0, hodgkinHuxley.tStop+1):             t= t+hodgkinHuxley.dt             if(math.floor(t)&gt;hodgkinHuxley.tInjStart &amp; math.ceil(t)&lt;hodgkinHuxley.tInjStop):                 rawInj  = hodgkinHuxley.IDC + hodgkinHuxley.IRand * 2 * (random.random()-0.5)             else:                 rawInj = 0              hodgkinHuxley.Iinj += hodgkinHuxley.dt/hodgkinHuxley.Itau * (rawInj - hodgkinHuxley.Iinj)               hodgkinHuxley.iteration()             counter = 0              if(i == plotSampleRate):                 V_vector[counter] = hodgkinHuxley.V                 Iinj_vector[counter] = hodgkinHuxley.Iinj                 n_vector[counter] = hodgkinHuxley.n                 m_vector[counter] = hodgkinHuxley.m                 h_vector[counter] = hodgkinHuxley.h                 i=0;                 counter+=1             i+=1 </code></pre>  <p>Error: </p>  <pre><code>    plotsamplerate:  4     alphaN:  0.05819767068693265     betaN:  0.125     alphaM 27.956234901758684     tauN:  5.458584687514421     tauM 0.03129279788667988     tauH:  14.285714285707257     nInf:  0.3176769140606974     mInf:  0.8748288084532805     hInf:  0.9999999999995081     n:  0.31998936040167786     m:  0.7089605789167688     h:  0.6006999999999995     IK:  -0.5235053389507994     INa:  -2681.337959108097     Im:  0.0     V:  -67.0465366111762     nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn     alphaN:  0.00034742442109860416     betaN:  0.2889909708647963     alphaM 91515.37543280824     tauN:  3.456160731837547     tauM 1.0907358211913938e-05     tauH:  0.5000401950825147     nInf:  0.0012007546414823879     mInf:  0.9981909817434281     hInf:  1.0     n:  0.31768341581102577     m:  663.6339264765652     h:  0.6206633951393696     IK:  -0.5085774931025618     INa:  -2272320232559.0464     Im:  -213.46946791632385     V:  -56808005886.37157     nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn     Traceback (most recent call last):       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 131, in &lt;module&gt;         hodgkinHuxley.iteration()       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 71, in iteration         aN = self.alphaN(self.V)       File ""C:\Users\Huinqk 2.0\Documents\projects\python\tariq_neural networks\plotting function.py"", line 38, in alphaN         a = (10-V)/(100 * (math.exp((10-V)/10) -1))     OverflowError: math range error     [Finished in 0.8s] </code></pre>"	<p>You can write an altered version of <code>math.exp</code> which will behave more like the javascript function.</p>  <pre><code>def safe_exp(n):     try:         return math.exp(n)     except OverflowError:         return float('inf') </code></pre>
50944529	How to extract data from a JavaScript function call like syntax in Python	python|scrapy	2018-06-20 09:14:23.190000 UTC	"<p>I'm scraping data from a website using scrapy in Python.</p>  <p>Required data lies in a script tag as follows:</p>  <pre><code>&lt;script type=""text/javascript""&gt; getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709""); &lt;/script&gt; </code></pre>  <p>I can get this content using xpath as follows:</p>  <pre><code>item['lat'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') item['long'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') </code></pre>  <p>Then</p>  <pre><code>item['lat'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  item['long'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");' </code></pre>  <p>But how can I parse these contents so that</p>  <pre><code>item['lat'] is equal to ""41.8507029"" item['long'] is equal to ""-87.8033709"" item['city'] is equal to ""BERWYN"" item['state'] is equal to ""IL"" </code></pre>  <p>Can I get any suggestions to solve this.</p>"	"<p>Try this with <code>re</code></p>  <pre><code>import re temp_string = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");' split_list = filter(None, re.split(""[, \-!?:\""]+"",temp_string)) print split_list </code></pre>  <p>Should produce the following output:</p>  <pre><code>['getDetailsfrmBean(', 'storePg', '564', 'Berwyn', 'IL', '7180', 'W', 'CERMAK', 'RD.', 'SPACE', 'A1', 'BERWYN', 'IL', 'US', '60402', '(708)', '788', '5097', '{Monday', 'Saturday=10', '9', 'sunday=11', '6}', '41.8507029', '87.8033709', ');'] </code></pre>  <p>Picked this up from the answer here : <a href=""https://stackoverflow.com/a/23720594/5907969"">https://stackoverflow.com/a/23720594/5907969</a></p>"
50944529	How to extract data from a JavaScript function call like syntax in Python	python|scrapy	2018-06-20 09:14:23.190000 UTC	"<p>I'm scraping data from a website using scrapy in Python.</p>  <p>Required data lies in a script tag as follows:</p>  <pre><code>&lt;script type=""text/javascript""&gt; getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709""); &lt;/script&gt; </code></pre>  <p>I can get this content using xpath as follows:</p>  <pre><code>item['lat'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') item['long'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') </code></pre>  <p>Then</p>  <pre><code>item['lat'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  item['long'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");' </code></pre>  <p>But how can I parse these contents so that</p>  <pre><code>item['lat'] is equal to ""41.8507029"" item['long'] is equal to ""-87.8033709"" item['city'] is equal to ""BERWYN"" item['state'] is equal to ""IL"" </code></pre>  <p>Can I get any suggestions to solve this.</p>"	"<p>You can use a simple regex to extract just the comma-separated quoted strings part:</p>  <pre><code>import re  line = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  args_string = re.match(r'getDetailsfrmBean\((.+)\);$', line.strip()).group(1) print(args_string) </code></pre>  <p>Output:</p>  <pre><code>""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"" </code></pre>  <p>Then there are various ways to parse a list of strings from this kind of data:</p>  <pre><code>import ast import json import csv  args_array = '[%s]' % args_string  assert (json.loads(args_array)         == ast.literal_eval(args_array)         == next(csv.reader([args_string]))         == ['storePg', '564', 'Berwyn, IL', '7180 W CERMAK RD.', 'SPACE A1', '', 'BERWYN', 'IL', 'US', '60402',             '(708) 788-5097', '{Monday-Saturday=10-9,sunday=11-6}', '41.8507029', '-87.8033709']) </code></pre>"
50944529	How to extract data from a JavaScript function call like syntax in Python	python|scrapy	2018-06-20 09:14:23.190000 UTC	"<p>I'm scraping data from a website using scrapy in Python.</p>  <p>Required data lies in a script tag as follows:</p>  <pre><code>&lt;script type=""text/javascript""&gt; getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709""); &lt;/script&gt; </code></pre>  <p>I can get this content using xpath as follows:</p>  <pre><code>item['lat'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') item['long'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') </code></pre>  <p>Then</p>  <pre><code>item['lat'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  item['long'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");' </code></pre>  <p>But how can I parse these contents so that</p>  <pre><code>item['lat'] is equal to ""41.8507029"" item['long'] is equal to ""-87.8033709"" item['city'] is equal to ""BERWYN"" item['state'] is equal to ""IL"" </code></pre>  <p>Can I get any suggestions to solve this.</p>"	"<p>Was about to write an answer which contains both methods with <code>ast</code> and <code>re</code>+<code>json</code> - but @Alex Hall was faster with the <code>ast</code> method, which imho is to prefer - but another method would involve a simple regular expression and the json module, which also gives you a list and can scan multiple function calls in the same string:</p>  <pre><code>import re import json  fn_cutter = re.compile(""getDetailsfrmBean\((.+?)\);"")  for key in item:   for i, match in enumerate(fn_cutter.findall(item[key])):     print(key, i, ':', json.loads(""["" + match + ""]"")) </code></pre>  <p><a href=""https://repl.it/repls/HandsomeBeigeCgi"" rel=""nofollow noreferrer"">Online demo here</a></p>  <p>This would save you some time when converting JSON objects to Python structures and catching multiple method calls within the same value - but it will certainly not be able to handle <code>anotherMethod(args)</code> or <code>...value</code> contained in JS method calls.</p>"
50944529	How to extract data from a JavaScript function call like syntax in Python	python|scrapy	2018-06-20 09:14:23.190000 UTC	"<p>I'm scraping data from a website using scrapy in Python.</p>  <p>Required data lies in a script tag as follows:</p>  <pre><code>&lt;script type=""text/javascript""&gt; getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709""); &lt;/script&gt; </code></pre>  <p>I can get this content using xpath as follows:</p>  <pre><code>item['lat'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') item['long'] = tree.xpath('//script[@type=""text/javascript""]/text()'.extract()[0].encode('utf-8') </code></pre>  <p>Then</p>  <pre><code>item['lat'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  item['long'] = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");' </code></pre>  <p>But how can I parse these contents so that</p>  <pre><code>item['lat'] is equal to ""41.8507029"" item['long'] is equal to ""-87.8033709"" item['city'] is equal to ""BERWYN"" item['state'] is equal to ""IL"" </code></pre>  <p>Can I get any suggestions to solve this.</p>"	"<p>Since this call is also valid Python syntax, we can use the <code>ast</code> module. Plus the arguments are all string literals, which makes things simpler.</p>  <pre><code>import ast  line = 'getDetailsfrmBean(""storePg"",""564"",""Berwyn, IL"",""7180 W CERMAK RD."",""SPACE A1"","""",""BERWYN"",""IL"",""US"",""60402"",""(708) 788-5097"",""{Monday-Saturday=10-9,sunday=11-6}"",""41.8507029"",""-87.8033709"");'  print([arg.s for arg in ast.parse(line).body[0].value.args]) </code></pre>  <p>Output:</p>  <pre><code>['storePg', '564', 'Berwyn, IL', '7180 W CERMAK RD.', 'SPACE A1', '', 'BERWYN', 'IL', 'US', '60402', '(708) 788-5097', '{Monday-Saturday=10-9,sunday=11-6}', '41.8507029', '-87.8033709'] </code></pre>  <p>Explanation:</p>  <pre><code>print([arg.s           # value of string literal        for arg in        ast.parse(line)       .body            # module (list of statements)        [0]             # first statement (an Expr node)       .value           # expression (a Call)       .args            # arguments to function call        ]) </code></pre>"
50996741	How do I download .csv files through a JavaScript program and then give them to a Python program in a shell script?	javascript|python|node.js|shell	2018-06-22 23:45:43.423000 UTC	"<p>I currently have a JavaScript file that creates 3 .csv files when I run it. Separately, I have a Python file that is supposed to take those 3 .csv files as input to generate a new .xlsx file, which I will then download. </p>  <p>I want to automate this whole process with a shell script (likely using Node.js). I'm assuming it's a simple solution no more than 4-5 lines, but I've never written a shell script, so I'm not sure how to download files/use them for input if I'd be eventually doing this on a server. Any help would be much appreciated!</p>"	
51006300	How to scrape a JavaScript website using Python with Selenium	python-3.x|selenium	2018-06-24 01:35:54.467000 UTC	"<p>I am trying to scrape from this website link: <a href=""https://www.betbrain.com/baseball/united-states/mlb/"" rel=""nofollow noreferrer"">https://www.betbrain.com/baseball/united-states/mlb/</a></p> <p>My Python code is as follows:</p> <pre><code>from selenium import webdriver  delay=10  browser = webdriver.Chrome() browser.get('https://www.betbrain.com/baseball/united-states/mlb/') WebDriverWait(browser, delay).until(ec.presence_of_element_located((By.XPATH, '//*[@id=&quot;app&quot;]/div/section/section/nav')))   table_check = browser.find_element_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul') #find the table containing games  body_rows = table_check.find_elements_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul/li[1]') #find each indvidual game  Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul&quot;} </code></pre> <p>When I try running it, it seems to be struggling to find the X_path. Also, I am willing to move away from Xpath if there is an easier/more stable way to select the information.</p>"	"<p>Your XPath is needlessly complicated. Use CSS selectors. I see you are trying to get the all the match <code>li</code>s. This <code>li.Match</code> CSS selector should do it.</p>  <p><code>matches = driver.find_elements_by_css_selector(""li.Match"")</code></p>  <p>should get you all the matches.</p>"
51006300	How to scrape a JavaScript website using Python with Selenium	python-3.x|selenium	2018-06-24 01:35:54.467000 UTC	"<p>I am trying to scrape from this website link: <a href=""https://www.betbrain.com/baseball/united-states/mlb/"" rel=""nofollow noreferrer"">https://www.betbrain.com/baseball/united-states/mlb/</a></p> <p>My Python code is as follows:</p> <pre><code>from selenium import webdriver  delay=10  browser = webdriver.Chrome() browser.get('https://www.betbrain.com/baseball/united-states/mlb/') WebDriverWait(browser, delay).until(ec.presence_of_element_located((By.XPATH, '//*[@id=&quot;app&quot;]/div/section/section/nav')))   table_check = browser.find_element_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul') #find the table containing games  body_rows = table_check.find_elements_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul/li[1]') #find each indvidual game  Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul&quot;} </code></pre> <p>When I try running it, it seems to be struggling to find the X_path. Also, I am willing to move away from Xpath if there is an easier/more stable way to select the information.</p>"	"<p>Instead of xpaths which are slower and brittle, try using css selectors. </p>  <pre><code>driver.get('https://www.betbrain.com/baseball/united-states/mlb/') time.sleep(5)  parent_element = driver.find_element_by_css_selector('div.MatchesListAndHeader &gt; div:nth-child(2) &gt; div:nth-child(1) &gt; ul')  #find all li childs in parent element child = parent_element.find_elements_by_css_selector('li')  for i in child:     print(i.text)   driver.quit() </code></pre>  <p>This is just a simple script which will get all the text from the table in an unformatted way from the table that is present in the page.</p>  <p>Sample output that I got : </p>  <pre><code>24/06/2018 17:05 Boston Red Sox — Seattle Mariners United StatesMLB 2018 Home (1.40) 1.46 1xBet Away (2.98) 3.10 Mybet 26 4  United States MLB 2018 Home (1.40) 1.46 1xBet  Away (2.98) 3.10 Mybet 24/06/2018 20:07 Los Angeles Angels — Toronto Blue Jays United StatesMLB 2018 Over (1.96) 1.96 1xBet Under </code></pre>"
51006300	How to scrape a JavaScript website using Python with Selenium	python-3.x|selenium	2018-06-24 01:35:54.467000 UTC	"<p>I am trying to scrape from this website link: <a href=""https://www.betbrain.com/baseball/united-states/mlb/"" rel=""nofollow noreferrer"">https://www.betbrain.com/baseball/united-states/mlb/</a></p> <p>My Python code is as follows:</p> <pre><code>from selenium import webdriver  delay=10  browser = webdriver.Chrome() browser.get('https://www.betbrain.com/baseball/united-states/mlb/') WebDriverWait(browser, delay).until(ec.presence_of_element_located((By.XPATH, '//*[@id=&quot;app&quot;]/div/section/section/nav')))   table_check = browser.find_element_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul') #find the table containing games  body_rows = table_check.find_elements_by_xpath('//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul/li[1]') #find each indvidual game  Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//*[@id=&quot;app&quot;]/div/section/section/main/div[3]/div[2]/div[2]/div[1]/ul&quot;} </code></pre> <p>When I try running it, it seems to be struggling to find the X_path. Also, I am willing to move away from Xpath if there is an easier/more stable way to select the information.</p>"	"<p>you can try this code to get the match details :  </p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  import pickle  browser = webdriver.Chrome(executable_path = r'D:/Automation/chromedriver.exe') browser.get(""https://www.betbrain.com/baseball/united-states/mlb/"")  wait = WebDriverWait(browser, 30)  wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, ""ul.MatchesList"")))  game_names = browser.find_elements_by_css_selector(""ul.MatchesList&gt;li a.MatchTitleLink span"")  for game in game_names:    print(game.text) </code></pre>"
51011754	Python: Click next page with no link to follow (javascript/AJAX)	python|selenium|xpath	2018-06-24 16:19:19.197000 UTC	"<p>I hope a kind soul can help me here. I need help with clicking the next page on this site: <a href=""https://www.xtip.co.uk/en/today/index.html"" rel=""nofollow noreferrer"">https://www.xtip.co.uk/en/today/index.html</a>.</p>  <p><strong>My code:</strong></p>  <pre><code>from selenium import webdriver  url = 'https://www.xtip.co.uk/en/today/index.html' browser = webdriver.Chrome('./Browser/chromedriver') browser.get(url)  amount_of_pages_xpath = browser.find_element_by_xpath('//*[@id=""widget_today_tabbed""]/div[2]/div[2]/div') amount_of_pages_html = amount_of_pages_xpath.get_attribute('data-number-of-pages')  for x in range(len(amount_of_pages_html)):     browser.find_element_by_xpath('//*[@id=""widget_today_tabbed""]/div[2]/div[2]/div/ul/li[8]/a').click() </code></pre>  <p>It uses JavaScript and AJAX and therefore I use Selenium, but I can't make it switch pages. What am I doing wrong? Normally it works when I go to Chrome -> Inspect -> Copy Xpath -> Put this path into find_element_by_xpath() and add click().</p>  <p><a href=""https://i.stack.imgur.com/H8UEz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/H8UEz.png"" alt=""enter image description here""></a></p>  <p><strong>My error in console:</strong></p>  <pre><code>  selenium.common.exceptions.WebDriverException: Message: unknown error: Element &lt;a href=""#"" class=""widget-page-link widget-page-link-next"" data-target-page=""next""&gt;...&lt;/a&gt; is not clickable at point (917, 654). Other element would receive the click: &lt;div class=""cc_message""&gt;...&lt;/div&gt;           (Session info: chrome=67.0.3396.87)           (Driver info: chromedriver=2.38.552518 (183d19265345f54ce39cbb94cf81ba5f15905011),platform=Mac OS X 10.13.5 x86_64) </code></pre>"	"<p>You can use this code:  </p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC   browser = webdriver.Chrome(executable_path = r'D:/Automation/chromedriver.exe') browser.get(""https://www.xtip.co.uk/en/today/index.html"")  wait = WebDriverWait(browser, 30)  browser.execute_script(""window.scrollTo(0, 800)"")   next_button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ""a.widget-page-link.widget-page-link-next"")))  next_button.click() </code></pre>"
51020239	Django template Javascript passing a python variable to a javascript one	javascript|python|django|python-2.7|django-templates	2018-06-25 09:29:53.370000 UTC	"<p>I did create a <code>python</code> function called <code>generate_random_number</code> that generate a random number between 1 and 9 and compare it to the <code>id</code> of each video in my database and return the <code>url</code> of the video corresponding to the id matching the random number. Here is the function:</p>  <pre><code>from random import randint from dash_interface.models import Video from django import template  register = template.Library()   @register.simple_tag def random_video():     random_number = randint(1, 9)     all_videos = Video.objects.all()     for video in all_videos:         if video.id == random_number:            random_url = video.video_url            return random_url </code></pre>  <p>I want to pass <code>random_url</code> to a <code>javascript</code> variable in a <code>django</code> template.</p>  <p>My template looks like this:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;video id=""videoplayer"" controls&gt;&lt;/video&gt;              &lt;script&gt;                 {% load generate_random_number %}             // setup the video element and attach it to the Dash player             function setupVideo() {               var url = "" "";               var context = new Dash.di.DashContext();               var player = new MediaPlayer(context);                               player.startup();                               player.attachView(document.querySelector(""#videoplayer""));                               player.attachSource(url);             }             &lt;/script&gt;              &lt;style&gt;             video {               width: 60%;               height: 40%;             }             &lt;/style&gt;</code></pre> </div> </div> </p>  <p>The variable concerned is <code>url</code>.</p>  <p>I did a <code>{% load generate_random_number %}</code>, but I don't know if I can replace the quotation marks in <code>url</code> by <code>{{ random_url }}</code>.</p>"	"<p><strong>This is the way I prefer to connect Django templates and JS.</strong></p>  <p><em>You need to import render function:</em></p>  <p><strong>views.py file</strong></p>  <pre><code>from django.shortcuts import render from random import randint from dash_interface.models import Video  def random_video(request):     random_number = randint(1, 9)     all_videos = Video.objects.all()     for video in all_videos:         if video.id == random_number:            random_url = video.video_url            context = {                ""random_url"": random_url            }            return render(request, ""app/video.html"", context)         else:            return render(request, ""app/video.html"", {})     </code></pre>  <p><strong>video.html</strong></p>  <pre><code>&lt;video id=""videoplayer"" controls&gt;&lt;/video&gt;              &lt;script&gt;                 {% load generate_random_number %}             // setup the video element and attach it to the Dash player             function setupVideo() {               // using the context passed in here.               var url = {{ random_url|safe }};                var context = new Dash.di.DashContext();               var player = new MediaPlayer(context);               player.startup();               player.attachView(document.querySelector(""#videoplayer""));               player.attachSource(url);             }         &lt;/script&gt;          &lt;style&gt;         video {           width: 60%;           height: 40%;         }         &lt;/style&gt; </code></pre>  <p><em>What I have done is rendered your HTML page in the Django view and passed your variable inside the context dictionary which is later accessible in your HTML tags or script tags.</em> </p>  <p><em>I also used a <strong>|safe</strong> parameter in the template tag which removes some unwanted strings.</em></p>  <p><strong>Cheers and Hope it helps! I have tried this thing in many of my projects and it has always been a success for me.</strong></p>"
51020239	Django template Javascript passing a python variable to a javascript one	javascript|python|django|python-2.7|django-templates	2018-06-25 09:29:53.370000 UTC	"<p>I did create a <code>python</code> function called <code>generate_random_number</code> that generate a random number between 1 and 9 and compare it to the <code>id</code> of each video in my database and return the <code>url</code> of the video corresponding to the id matching the random number. Here is the function:</p>  <pre><code>from random import randint from dash_interface.models import Video from django import template  register = template.Library()   @register.simple_tag def random_video():     random_number = randint(1, 9)     all_videos = Video.objects.all()     for video in all_videos:         if video.id == random_number:            random_url = video.video_url            return random_url </code></pre>  <p>I want to pass <code>random_url</code> to a <code>javascript</code> variable in a <code>django</code> template.</p>  <p>My template looks like this:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;video id=""videoplayer"" controls&gt;&lt;/video&gt;              &lt;script&gt;                 {% load generate_random_number %}             // setup the video element and attach it to the Dash player             function setupVideo() {               var url = "" "";               var context = new Dash.di.DashContext();               var player = new MediaPlayer(context);                               player.startup();                               player.attachView(document.querySelector(""#videoplayer""));                               player.attachSource(url);             }             &lt;/script&gt;              &lt;style&gt;             video {               width: 60%;               height: 40%;             }             &lt;/style&gt;</code></pre> </div> </div> </p>  <p>The variable concerned is <code>url</code>.</p>  <p>I did a <code>{% load generate_random_number %}</code>, but I don't know if I can replace the quotation marks in <code>url</code> by <code>{{ random_url }}</code>.</p>"	"<p>If you want to split the javascript code and html code, you could make something like:</p>  <pre><code>&lt;script arg = {{ somevar }} src = ""/path/to/script""&gt;&lt;/script&gt; </code></pre>  <p>and in the script :</p>  <pre><code>var arg = $(""script[src='/path/to/script']"").attr(""arg""); </code></pre>  <p>If you need that the arg will be updated each a concrete period, you need to make an ajax. If you use the database for persist the arg, you could use Django Channels like a more elegance solution. </p>"
51020239	Django template Javascript passing a python variable to a javascript one	javascript|python|django|python-2.7|django-templates	2018-06-25 09:29:53.370000 UTC	"<p>I did create a <code>python</code> function called <code>generate_random_number</code> that generate a random number between 1 and 9 and compare it to the <code>id</code> of each video in my database and return the <code>url</code> of the video corresponding to the id matching the random number. Here is the function:</p>  <pre><code>from random import randint from dash_interface.models import Video from django import template  register = template.Library()   @register.simple_tag def random_video():     random_number = randint(1, 9)     all_videos = Video.objects.all()     for video in all_videos:         if video.id == random_number:            random_url = video.video_url            return random_url </code></pre>  <p>I want to pass <code>random_url</code> to a <code>javascript</code> variable in a <code>django</code> template.</p>  <p>My template looks like this:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;video id=""videoplayer"" controls&gt;&lt;/video&gt;              &lt;script&gt;                 {% load generate_random_number %}             // setup the video element and attach it to the Dash player             function setupVideo() {               var url = "" "";               var context = new Dash.di.DashContext();               var player = new MediaPlayer(context);                               player.startup();                               player.attachView(document.querySelector(""#videoplayer""));                               player.attachSource(url);             }             &lt;/script&gt;              &lt;style&gt;             video {               width: 60%;               height: 40%;             }             &lt;/style&gt;</code></pre> </div> </div> </p>  <p>The variable concerned is <code>url</code>.</p>  <p>I did a <code>{% load generate_random_number %}</code>, but I don't know if I can replace the quotation marks in <code>url</code> by <code>{{ random_url }}</code>.</p>"	"<p>You should keep the custom template tag definitions in a <code>templatetags</code> folder inside your app. Make sure that <code>__init__.py</code> is present in the <code>templatetags</code> folder. Your folder structure should be similar to: </p>  <pre><code>your_django_app/     __init__.py     models.py     templatetags/         __init__.py         template_tags.py     views.py </code></pre>  <p>And the contents of template_tags.py should be you required tag definition:</p>  <pre><code>from random import randint from dash_interface.models import Video from django import template  register = template.Library()    @register.simple_tag def random_video():     random_number = randint(1, 9)     all_videos = Video.objects.all()     for video in all_videos:         if video.id == random_number:            random_url = video.video_url            return random_url </code></pre>  <p>Note: The <code>templatetags</code> file should contain the variable named <code>register</code>.</p>  <p>After this you can load the template tags in your HTML. Your code will look like:</p>  <pre><code>&lt;video id=""videoplayer"" controls&gt;&lt;/video&gt; {% load template_tags %}              &lt;script&gt;             // setup the video element and attach it to the Dash player             function setupVideo() {               var url = ""{% random_video %}"";               var context = new Dash.di.DashContext();               var player = new MediaPlayer(context);                               player.startup();                               player.attachView(document.querySelector(""#videoplayer""));                               player.attachSource(url);             }             &lt;/script&gt;              &lt;style&gt;             video {               width: 60%;               height: 40%;             }             &lt;/style&gt; </code></pre>"
51048004	Reading an Exported Javascript Object in Python	javascript|python|parsing	2018-06-26 16:53:46.240000 UTC	"<p>Is it possible to read/parse an exported Javascript or Typescript JSON-like object in Python? For example:</p>  <p><strong>In myJava.js:</strong></p>  <pre><code>export const myObj = {    entry: val    entry2: val2    ... } </code></pre>  <p><strong>In parseJava.py:</strong></p>  <pre><code>def parseJava():     # Some code to read in the javascript object     javaObjAsDictionary = someFunction(""myJava.js"") </code></pre>  <p>Does such a ""someFunction()"" exist? If not, are there any clean ways around this?  Thanks in advance!</p>"	"<p>If you want to parse JSON, there is a <a href=""https://docs.python.org/2/library/json.html"" rel=""nofollow noreferrer"">library called JSON</a> in Python 2 and 3 that does the encoding and decoding.</p>  <p>Specifically, you can use the <code>json.loads</code> or <code>json.load</code> methods to get a Python object (dictionary/list) from your JSON.</p>  <p>Something like:</p>  <pre><code>import json jsonDict = json.load(""myJSON.json"") </code></pre>  <p>I am not sure exactly if this is what you need, hope this gives you a start.</p>"
51048004	Reading an Exported Javascript Object in Python	javascript|python|parsing	2018-06-26 16:53:46.240000 UTC	"<p>Is it possible to read/parse an exported Javascript or Typescript JSON-like object in Python? For example:</p>  <p><strong>In myJava.js:</strong></p>  <pre><code>export const myObj = {    entry: val    entry2: val2    ... } </code></pre>  <p><strong>In parseJava.py:</strong></p>  <pre><code>def parseJava():     # Some code to read in the javascript object     javaObjAsDictionary = someFunction(""myJava.js"") </code></pre>  <p>Does such a ""someFunction()"" exist? If not, are there any clean ways around this?  Thanks in advance!</p>"	"<pre><code># following code assumes that 'data.json' file exists in the current working directory  with open('data.json', 'r') as jsonFile: # opens JSON file in read only mode      # loads the content of JSON file and converts it into python dictionary object      dictionary = json.load(jsonFile)      print(dictionary) </code></pre>"
51053694	Python parsing javascript	python|beautifulsoup	2018-06-27 02:25:26.977000 UTC	"<p>I am trying to parse the contents of what I am able to load from a specific webpage. The problem I am facing is extracting the data inside a dictionary. I have attempted to load the contents via JSON, but I have no luck trying to get it to work. I am trying extract the value ""id"", specifically what follows <code>""__typename"":""GraphImage"",""id"":""1810494542282448836""</code> . I am trying to parse a specific profile on instagram, so I can grab the ""id"" for the profiles posts (their pictures) on their profile.</p>  <p>When starting a session and logging in to instagram via requests, I am executing this code to parse (To note, logging in is only necessary if the specific profile is private):</p>  <pre><code>getProfile = session.get(PROFILE_URL) soup = BeautifulSoup(getProfile.content, 'html.parser') print(soup.find_all(""script"", type=""text/javascript"")[3]) </code></pre>  <p>What I can successfully parse:</p>  <pre><code>&lt;script type=""text/javascript""&gt;window._sharedData = {""activity_counts"":{""comment_likes"":0,""comments"":0,""likes"":0,""relationships"":0,""usertags"":0},""config"":{""csrf_token"":""OIXAF5a6FwMQJj3vCaUQXCGUGL3sFb0Z"",""viewer"":{""allow_contacts_sync"":false,""biography"":""Follow for the best social media experience. Est. 2014"",""external_url"":null,""full_name"":""Social Media Bliztexnetwork"",""has_profile_pic"":true,""id"":""6440587166"",""profile_pic_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/dd5d8db8ca1645ac8b69fdaf8886184f/5BB11538/t51.2885-19/s150x150/32947488_229940584435561_2806247690365566976_n.jpg"",""profile_pic_url_hd"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/df4d5098687fe594c5b2d9750804941a/5BEC5FC8/t51.2885-19/s320x320/32947488_229940584435561_2806247690365566976_n.jpg"",""username"":""bliztezxxmedia""}},""supports_es6"":false,""country_code"":""US"",""language_code"":""en"",""locale"":""en_US"",""entry_data"":{""ProfilePage"":[{""logging_page_id"":""profilePage_7507466602"",""show_suggested_profiles"":false,""graphql"":{""user"":{""biography"":""What a wonderful day!!!"",""blocked_by_viewer"":false,""country_block"":false,""external_url"":null,""external_url_linkshimmed"":null,""edge_followed_by"":{""count"":17},""followed_by_viewer"":true,""edge_follow"":{""count"":8},""follows_viewer"":false,""full_name"":""Verna Manning"",""has_channel"":false,""has_blocked_viewer"":false,""highlight_reel_count"":0,""has_requested_viewer"":false,""id"":""7507466602"",""is_private"":true,""is_verified"":false,""mutual_followers"":{""additional_count"":-3,""usernames"":[]},""profile_pic_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg"",""profile_pic_url_hd"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg"",""requested_by_viewer"":false,""username"":""vernamanning46464"",""connected_fb_page"":null,""edge_felix_combined_post_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_combined_draft_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_video_timeline"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_drafts"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_pending_post_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_pending_draft_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_owner_to_timeline_media"":{""count"":2,""page_info"":{""has_next_page"":false,""end_cursor"":""AQAQt_06KHhticevO8Am12l3GJ1CdrZVdUztIDyZN7oXm_IVmr2Clwi844aWh9oe9TU""},""edges"":[{""node"":{""__typename"":""GraphImage"",""id"":""1810494542282448836"",""edge_media_to_caption"":{""edges"":[{""node"":{""text"":""What a sunny day!""}}]},""shortcode"":""BkgKzGch1_EsxkqWK-4ZjG_XoWfrFxgXIOrZqs0"",""edge_media_to_comment"":{""count"":24},""comments_disabled"":false,""taken_at_timestamp"":1530047789,""dimensions"":{""height"":1080,""width"":1080},""display_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/d82d797684ce57fef7a9fe87c74d2342/5BCE0CF2/t51.2885-15/s1080x1080/e15/fr/35274418_207295373248007_2552664476088270848_n.jpg"",""edge_liked_by"":{""count"":0},""edge_media_preview_like"":{""count"":0},""gating_info"":null,""media_preview"":""ACoqnuL0Qj5cMT0Gf1rBdi5LHqasXLK8hZBtB7fz/WoMV1xjZGLZHijFSbaNtXYVwhgaZtq/n2H1q9/Zn/TRfyNVAxUYHGetNyfU1LT6DuXnsnTn09f6VX21tERy/wAZCjt3P41BNaqMGLkHj1pRl0luJrqjM20m2rrwGM7TjPtzTobYynGQB3J7VpdWv0I8ihtpNtdGkdvGnlvtb1PqaZstPQfmf8az9ouzL5X3RmLMGPIxgdulSiYDgZAPNVQOB/nvSjmvP9pLa5fKibzlPTmjzlH0qMKB27H+ZqOn7SXcXKiwZFAzTPNHpVVSc1ISaPaz7i5Uf//Z"",""owner"":{""id"":""7507466602""},""thumbnail_src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg"",""thumbnail_resources"":[{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/b499ce5fafa113fe57f7325d86628900/5BE96296/t51.2885-15/s150x150/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":150,""config_height"":150},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/f124ca8254e24569515be5f3f99ff911/5BE9A3A9/t51.2885-15/s240x240/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":240,""config_height"":240},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/5c82e7c2ae3905863fe25150fca1f5e4/5BCB4ED1/t51.2885-15/s320x320/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":320,""config_height"":320},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/e76685c6614c444d8ed5f04efc01435a/5BB6D257/t51.2885-15/s480x480/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":480,""config_height"":480},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":640,""config_height"":640}],""is_video"":false}},{""node"":{""__typename"":""GraphImage"",""id"":""1757529388200541080"",""edge_media_to_caption"":{""edges"":[{""node"":{""text"":""What a nice day.""}}]},""shortcode"":""Bhj_6qyALuYgmy2sPgmUtoBcmcxZWGeyLkM3O00"",""edge_media_to_comment"":{""count"":3},""comments_disabled"":false,""taken_at_timestamp"":1523733851,""dimensions"":{""height"":1080,""width"":1080},""display_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/16610d58bb6cc90893ffd264f81755c6/5BAD1DBC/t51.2885-15/s1080x1080/e15/fr/30590929_101347367387069_7153309976138612736_n.jpg"",""edge_liked_by"":{""count"":1},""edge_media_preview_like"":{""count"":1},""gating_info"":null,""media_preview"":""ACoqwgadupijNLn0oAdvNPErDoahopiLkdw6nIPNTfaX9apxDNS7fencLDIAP1qFsZ4qYAx9CDmmMmD1B/GsxkRoqXbnjjP1FN2H2/MVVwHKcVJvqLYf8ml2tSAtbce/vjFIFYeh/Sn0Uhjh7gU8Njjt+dMFLQA4Y9B+HFO+X0/z+VMpaAP/2Q=="",""owner"":{""id"":""7507466602""},""thumbnail_src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg"",""thumbnail_resources"":[{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/d69525a20a2e61b2ee8663daf287a8ee/5BB46AD8/t51.2885-15/s150x150/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":150,""config_height"":150},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/4034b1752e3a4bace405aadd5a35477c/5BCB79E7/t51.2885-15/s240x240/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":240,""config_height"":240},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96b684f38cb826f3efd8a7610ed6e9bb/5BEB899F/t51.2885-15/s320x320/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":320,""config_height"":320},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/51dac35520bc90d7c7253cc331acf561/5BB44919/t51.2885-15/s480x480/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":480,""config_height"":480},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":640,""config_height"":640}],""is_video"":false}}]},""edge_saved_media"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_media_collections"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]}}},""felix_onboarding_video_resources"":{""mp4"":""/static/videos/felix-onboarding/onboardingVideo.mp4/9d16838ca7f9.mp4"",""poster"":""/static/images/felix-onboarding/onboardingVideoPoster.png/8fdba7cf2120.png""}}]},""gatekeepers"":{""ld"":true,""rt"":true,""sw"":true,""vl"":true,""seo"":true,""seoht"":true,""2fac"":true,""sf"":true,""saa"":true,""ai"":true},""knobs"":{""acct:ntb"":0,""cb"":0,""captcha"":0},""qe"":{""dash_for_vod"":{""g"":"""",""p"":{}},""aysf"":{""g"":"""",""p"":{}},""bc3l"":{""g"":"""",""p"":{}},""comment_reporting"":{""g"":"""",""p"":{}},""direct_conversation_reporting"":{""g"":"""",""p"":{}},""direct_reporting"":{""g"":"""",""p"":{}},""reporting"":{""g"":"""",""p"":{}},""media_reporting"":{""g"":"""",""p"":{}},""acc_recovery_link"":{""g"":"""",""p"":{}},""notif"":{""g"":"""",""p"":{}},""drct_nav"":{""g"":"""",""p"":{}},""fb_unlink"":{""g"":"""",""p"":{}},""mobile_stories_doodling"":{""g"":"""",""p"":{}},""move_comment_input_to_top"":{""g"":"""",""p"":{}},""mobile_cancel"":{""g"":"""",""p"":{}},""mobile_search_redesign"":{""g"":"""",""p"":{}},""show_copy_link"":{""g"":""control"",""p"":{""show_copy_link_option"":""false""}},""mobile_logout"":{""g"":"""",""p"":{}},""pl_pivot_li"":{""g"":""control_0423"",""p"":{""show_pivot"":""false""}},""pl_pivot_lo"":{""g"":"""",""p"":{}},""404_as_react"":{""g"":"""",""p"":{}},""acc_recovery"":{""g"":""test_with_prefill"",""p"":{""has_prefill"":""true""}},""collections"":{""g"":"""",""p"":{}},""comment_ta"":{""g"":"""",""p"":{}},""connections"":{""g"":""control"",""p"":{""has_suggestion_context_in_feed"":""false""}},""disc_ppl"":{""g"":""control_02_27"",""p"":{""has_follow_all_button"":""false"",""has_pagination"":""false""}},""embeds"":{""g"":"""",""p"":{}},""ebdsim_li"":{""g"":""control_shadow_0322"",""p"":{""is_shadow_enabled"":""false"",""use_new_ui"":""true""}},""ebdsim_lo"":{""g"":"""",""p"":{}},""empty_feed"":{""g"":"""",""p"":{}},""bundles"":{""g"":"""",""p"":{}},""exit_story_creation"":{""g"":"""",""p"":{}},""gdpr_logged_out"":{""g"":"""",""p"":{}},""appsell"":{""g"":"""",""p"":{}},""imgopt"":{""g"":""control"",""p"":{}},""follow_button"":{""g"":""test"",""p"":{""is_inline"":""true""}},""loggedout"":{""g"":"""",""p"":{}},""loggedout_upsell"":{""g"":""test_with_new_loggedout_upsell_content_03_15_18"",""p"":{""has_new_loggedout_upsell_content"":""true""}},""us_li"":{""g"":""Test"",""p"":{""show_related_media"":""true""}},""msisdn"":{""g"":"""",""p"":{}},""bg_sync"":{""g"":"""",""p"":{}},""onetaplogin"":{""g"":""default_opt_in"",""p"":{""default_value"":""true"",""during_reg"":""true"",""storage_version"":""one_tap_storage_version""}},""onetaplogin_userbased"":{""g"":"""",""p"":{}},""login_poe"":{""g"":"""",""p"":{}},""prvcy_tggl"":{""g"":"""",""p"":{}},""private_lo"":{""g"":"""",""p"":{}},""profile_photo_nux_fbc_v2"":{""g"":""launch"",""p"":{""prefill_photo"":""true"",""skip_nux"":""false""}},""profile_tabs"":{""g"":"""",""p"":{}},""push_notifications"":{""g"":"""",""p"":{}},""reg"":{""g"":""control_01_10"",""p"":{""has_new_landing_appsells"":""false"",""has_new_landing_page"":""false""}},""reg_vp"":{""g"":"""",""p"":{}},""feed_vp"":{""g"":""launch"",""p"":{""is_hidden"":""true""}},""report_haf"":{""g"":"""",""p"":{}},""report_media"":{""g"":"""",""p"":{}},""report_profile"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""save"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""sidecar"":{""g"":"""",""p"":{}},""sidecar_swipe"":{""g"":"""",""p"":{}},""su_universe"":{""g"":""test_login_autocomplete"",""p"":{""use_autocomplete_signup"":""true""}},""stale"":{""g"":"""",""p"":{}},""stories_lo"":{""g"":""test_03_15"",""p"":{""stories_profile"":""true""}},""stories"":{""g"":"""",""p"":{}},""tp_pblshr"":{""g"":"""",""p"":{}},""video"":{""g"":"""",""p"":{}},""gdpr_settings"":{""g"":"""",""p"":{}},""gdpr_blocking_logout"":{""g"":"""",""p"":{}},""gdpr_eu_tos"":{""g"":"""",""p"":{}},""gdpr_row_tos"":{""g"":""test_05_01"",""p"":{""tos_version"":""row""}},""fd_gr"":{""g"":""control"",""p"":{""show_post_back_button"":""false""}},""felix"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""felix_clear_fb_cookie"":{""g"":""control"",""p"":{""is_enabled"":""true"",""blacklist"":""fbsr_124024574287414""}},""felix_creation_duration_limits"":{""g"":""dogfooding"",""p"":{""minimum_length_seconds"":""15"",""maximum_length_seconds"":""600""}},""felix_creation_enabled"":{""g"":"""",""p"":{""is_enabled"":""true""}},""felix_creation_fb_crossposting"":{""g"":""control"",""p"":{""is_enabled"":""false""}},""felix_creation_fb_crossposting_v2"":{""g"":""control"",""p"":{""is_enabled"":""true""}},""felix_creation_validation"":{""g"":""control"",""p"":{""edit_video_controls"":""true""}},""felix_creation_video_upload"":{""g"":"""",""p"":{}},""felix_early_onboarding"":{""g"":"""",""p"":{}},""pride"":{""g"":""test"",""p"":{""enabled"":""true"",""hashtag_whitelist"":""lgbt,lesbian,gay,bisexual,transgender,trans,queer,lgbtq,girlslikeus,girlswholikegirls,instagay,pride,gaypride,loveislove,pansexual,lovewins,transequalitynow,lesbiansofinstagram,asexual,nonbinary,lgbtpride,lgbta,lgbti,queerfashion,queers,queerpride,queerlife,marriageequality,pride2018,genderqueer,bi,genderfluid,lgbtqqia,comingout,intersex,transman,transwoman,twospirit,transvisibility,queerart,dragqueen,dragking,dragartist,twomoms,twodads,lesbianmoms,gaydads,gendernonconforming""}},""unfollow_confirm"":{""g"":"""",""p"":{}},""profile_enhance_li"":{""g"":""control"",""p"":{""has_tagged"":""false""}},""profile_enhance_lo"":{""g"":""control"",""p"":{""has_tagged"":""false""}},""create_tag"":{""g"":"""",""p"":{}}},""hostname"":""www.instagram.com"",""platform"":""ios"",""rhx_gis"":""87a25368813608d393baaa28a0d6afb7"",""nonce"":""zsP4NjzdJRIWmer6K5At1A=="",""zero_data"":{},""rollout_hash"":""5f72737283f8"",""bundle_variant"":""base"",""probably_has_app"":false,""show_app_install"":true} </code></pre>  <p>Thanks to all of those in advance who reply.</p>"	"<p>Using Regex.</p>  <p><strong>Demo:</strong></p>  <pre><code>import json import re s = """"""&lt;script type=""text/javascript""&gt;window._sharedData = {""activity_counts"":{""comment_likes"":0,""comments"":0,""likes"":0,""relationships"":0,""usertags"":0},""config"":{""csrf_token"":""OIXAF5a6FwMQJj3vCaUQXCGUGL3sFb0Z"",""viewer"":{""allow_contacts_sync"":false,""biography"":""Follow for the best social media experience. Est. 2014"",""external_url"":null,""full_name"":""Social Media Bliztexnetwork"",""has_profile_pic"":true,""id"":""6440587166"",""profile_pic_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/dd5d8db8ca1645ac8b69fdaf8886184f/5BB11538/t51.2885-19/s150x150/32947488_229940584435561_2806247690365566976_n.jpg"",""profile_pic_url_hd"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/df4d5098687fe594c5b2d9750804941a/5BEC5FC8/t51.2885-19/s320x320/32947488_229940584435561_2806247690365566976_n.jpg"",""username"":""bliztezxxmedia""}},""supports_es6"":false,""country_code"":""US"",""language_code"":""en"",""locale"":""en_US"",""entry_data"":{""ProfilePage"":[{""logging_page_id"":""profilePage_7507466602"",""show_suggested_profiles"":false,""graphql"":{""user"":{""biography"":""What a wonderful day!!!"",""blocked_by_viewer"":false,""country_block"":false,""external_url"":null,""external_url_linkshimmed"":null,""edge_followed_by"":{""count"":17},""followed_by_viewer"":true,""edge_follow"":{""count"":8},""follows_viewer"":false,""full_name"":""Verna Manning"",""has_channel"":false,""has_blocked_viewer"":false,""highlight_reel_count"":0,""has_requested_viewer"":false,""id"":""7507466602"",""is_private"":true,""is_verified"":false,""mutual_followers"":{""additional_count"":-3,""usernames"":[]},""profile_pic_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg"",""profile_pic_url_hd"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg"",""requested_by_viewer"":false,""username"":""vernamanning46464"",""connected_fb_page"":null,""edge_felix_combined_post_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_combined_draft_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_video_timeline"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_drafts"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_pending_post_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_felix_pending_draft_uploads"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_owner_to_timeline_media"":{""count"":2,""page_info"":{""has_next_page"":false,""end_cursor"":""AQAQt_06KHhticevO8Am12l3GJ1CdrZVdUztIDyZN7oXm_IVmr2Clwi844aWh9oe9TU""},""edges"":[{""node"":{""__typename"":""GraphImage"",""id"":""1810494542282448836"",""edge_media_to_caption"":{""edges"":[{""node"":{""text"":""What a sunny day!""}}]},""shortcode"":""BkgKzGch1_EsxkqWK-4ZjG_XoWfrFxgXIOrZqs0"",""edge_media_to_comment"":{""count"":24},""comments_disabled"":false,""taken_at_timestamp"":1530047789,""dimensions"":{""height"":1080,""width"":1080},""display_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/d82d797684ce57fef7a9fe87c74d2342/5BCE0CF2/t51.2885-15/s1080x1080/e15/fr/35274418_207295373248007_2552664476088270848_n.jpg"",""edge_liked_by"":{""count"":0},""edge_media_preview_like"":{""count"":0},""gating_info"":null,""media_preview"":""ACoqnuL0Qj5cMT0Gf1rBdi5LHqasXLK8hZBtB7fz/WoMV1xjZGLZHijFSbaNtXYVwhgaZtq/n2H1q9/Zn/TRfyNVAxUYHGetNyfU1LT6DuXnsnTn09f6VX21tERy/wAZCjt3P41BNaqMGLkHj1pRl0luJrqjM20m2rrwGM7TjPtzTobYynGQB3J7VpdWv0I8ihtpNtdGkdvGnlvtb1PqaZstPQfmf8az9ouzL5X3RmLMGPIxgdulSiYDgZAPNVQOB/nvSjmvP9pLa5fKibzlPTmjzlH0qMKB27H+ZqOn7SXcXKiwZFAzTPNHpVVSc1ISaPaz7i5Uf//Z"",""owner"":{""id"":""7507466602""},""thumbnail_src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg"",""thumbnail_resources"":[{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/b499ce5fafa113fe57f7325d86628900/5BE96296/t51.2885-15/s150x150/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":150,""config_height"":150},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/f124ca8254e24569515be5f3f99ff911/5BE9A3A9/t51.2885-15/s240x240/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":240,""config_height"":240},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/5c82e7c2ae3905863fe25150fca1f5e4/5BCB4ED1/t51.2885-15/s320x320/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":320,""config_height"":320},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/e76685c6614c444d8ed5f04efc01435a/5BB6D257/t51.2885-15/s480x480/e15/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":480,""config_height"":480},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg"",""config_width"":640,""config_height"":640}],""is_video"":false}},{""node"":{""__typename"":""GraphImage"",""id"":""1757529388200541080"",""edge_media_to_caption"":{""edges"":[{""node"":{""text"":""What a nice day.""}}]},""shortcode"":""Bhj_6qyALuYgmy2sPgmUtoBcmcxZWGeyLkM3O00"",""edge_media_to_comment"":{""count"":3},""comments_disabled"":false,""taken_at_timestamp"":1523733851,""dimensions"":{""height"":1080,""width"":1080},""display_url"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/16610d58bb6cc90893ffd264f81755c6/5BAD1DBC/t51.2885-15/s1080x1080/e15/fr/30590929_101347367387069_7153309976138612736_n.jpg"",""edge_liked_by"":{""count"":1},""edge_media_preview_like"":{""count"":1},""gating_info"":null,""media_preview"":""ACoqwgadupijNLn0oAdvNPErDoahopiLkdw6nIPNTfaX9apxDNS7fencLDIAP1qFsZ4qYAx9CDmmMmD1B/GsxkRoqXbnjjP1FN2H2/MVVwHKcVJvqLYf8ml2tSAtbce/vjFIFYeh/Sn0Uhjh7gU8Njjt+dMFLQA4Y9B+HFO+X0/z+VMpaAP/2Q=="",""owner"":{""id"":""7507466602""},""thumbnail_src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg"",""thumbnail_resources"":[{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/d69525a20a2e61b2ee8663daf287a8ee/5BB46AD8/t51.2885-15/s150x150/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":150,""config_height"":150},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/4034b1752e3a4bace405aadd5a35477c/5BCB79E7/t51.2885-15/s240x240/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":240,""config_height"":240},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/96b684f38cb826f3efd8a7610ed6e9bb/5BEB899F/t51.2885-15/s320x320/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":320,""config_height"":320},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/51dac35520bc90d7c7253cc331acf561/5BB44919/t51.2885-15/s480x480/e15/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":480,""config_height"":480},{""src"":""https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg"",""config_width"":640,""config_height"":640}],""is_video"":false}}]},""edge_saved_media"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]},""edge_media_collections"":{""count"":0,""page_info"":{""has_next_page"":false,""end_cursor"":null},""edges"":[]}}},""felix_onboarding_video_resources"":{""mp4"":""/static/videos/felix-onboarding/onboardingVideo.mp4/9d16838ca7f9.mp4"",""poster"":""/static/images/felix-onboarding/onboardingVideoPoster.png/8fdba7cf2120.png""}}]},""gatekeepers"":{""ld"":true,""rt"":true,""sw"":true,""vl"":true,""seo"":true,""seoht"":true,""2fac"":true,""sf"":true,""saa"":true,""ai"":true},""knobs"":{""acct:ntb"":0,""cb"":0,""captcha"":0},""qe"":{""dash_for_vod"":{""g"":"""",""p"":{}},""aysf"":{""g"":"""",""p"":{}},""bc3l"":{""g"":"""",""p"":{}},""comment_reporting"":{""g"":"""",""p"":{}},""direct_conversation_reporting"":{""g"":"""",""p"":{}},""direct_reporting"":{""g"":"""",""p"":{}},""reporting"":{""g"":"""",""p"":{}},""media_reporting"":{""g"":"""",""p"":{}},""acc_recovery_link"":{""g"":"""",""p"":{}},""notif"":{""g"":"""",""p"":{}},""drct_nav"":{""g"":"""",""p"":{}},""fb_unlink"":{""g"":"""",""p"":{}},""mobile_stories_doodling"":{""g"":"""",""p"":{}},""move_comment_input_to_top"":{""g"":"""",""p"":{}},""mobile_cancel"":{""g"":"""",""p"":{}},""mobile_search_redesign"":{""g"":"""",""p"":{}},""show_copy_link"":{""g"":""control"",""p"":{""show_copy_link_option"":""false""}},""mobile_logout"":{""g"":"""",""p"":{}},""pl_pivot_li"":{""g"":""control_0423"",""p"":{""show_pivot"":""false""}},""pl_pivot_lo"":{""g"":"""",""p"":{}},""404_as_react"":{""g"":"""",""p"":{}},""acc_recovery"":{""g"":""test_with_prefill"",""p"":{""has_prefill"":""true""}},""collections"":{""g"":"""",""p"":{}},""comment_ta"":{""g"":"""",""p"":{}},""connections"":{""g"":""control"",""p"":{""has_suggestion_context_in_feed"":""false""}},""disc_ppl"":{""g"":""control_02_27"",""p"":{""has_follow_all_button"":""false"",""has_pagination"":""false""}},""embeds"":{""g"":"""",""p"":{}},""ebdsim_li"":{""g"":""control_shadow_0322"",""p"":{""is_shadow_enabled"":""false"",""use_new_ui"":""true""}},""ebdsim_lo"":{""g"":"""",""p"":{}},""empty_feed"":{""g"":"""",""p"":{}},""bundles"":{""g"":"""",""p"":{}},""exit_story_creation"":{""g"":"""",""p"":{}},""gdpr_logged_out"":{""g"":"""",""p"":{}},""appsell"":{""g"":"""",""p"":{}},""imgopt"":{""g"":""control"",""p"":{}},""follow_button"":{""g"":""test"",""p"":{""is_inline"":""true""}},""loggedout"":{""g"":"""",""p"":{}},""loggedout_upsell"":{""g"":""test_with_new_loggedout_upsell_content_03_15_18"",""p"":{""has_new_loggedout_upsell_content"":""true""}},""us_li"":{""g"":""Test"",""p"":{""show_related_media"":""true""}},""msisdn"":{""g"":"""",""p"":{}},""bg_sync"":{""g"":"""",""p"":{}},""onetaplogin"":{""g"":""default_opt_in"",""p"":{""default_value"":""true"",""during_reg"":""true"",""storage_version"":""one_tap_storage_version""}},""onetaplogin_userbased"":{""g"":"""",""p"":{}},""login_poe"":{""g"":"""",""p"":{}},""prvcy_tggl"":{""g"":"""",""p"":{}},""private_lo"":{""g"":"""",""p"":{}},""profile_photo_nux_fbc_v2"":{""g"":""launch"",""p"":{""prefill_photo"":""true"",""skip_nux"":""false""}},""profile_tabs"":{""g"":"""",""p"":{}},""push_notifications"":{""g"":"""",""p"":{}},""reg"":{""g"":""control_01_10"",""p"":{""has_new_landing_appsells"":""false"",""has_new_landing_page"":""false""}},""reg_vp"":{""g"":"""",""p"":{}},""feed_vp"":{""g"":""launch"",""p"":{""is_hidden"":""true""}},""report_haf"":{""g"":"""",""p"":{}},""report_media"":{""g"":"""",""p"":{}},""report_profile"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""save"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""sidecar"":{""g"":"""",""p"":{}},""sidecar_swipe"":{""g"":"""",""p"":{}},""su_universe"":{""g"":""test_login_autocomplete"",""p"":{""use_autocomplete_signup"":""true""}},""stale"":{""g"":"""",""p"":{}},""stories_lo"":{""g"":""test_03_15"",""p"":{""stories_profile"":""true""}},""stories"":{""g"":"""",""p"":{}},""tp_pblshr"":{""g"":"""",""p"":{}},""video"":{""g"":"""",""p"":{}},""gdpr_settings"":{""g"":"""",""p"":{}},""gdpr_blocking_logout"":{""g"":"""",""p"":{}},""gdpr_eu_tos"":{""g"":"""",""p"":{}},""gdpr_row_tos"":{""g"":""test_05_01"",""p"":{""tos_version"":""row""}},""fd_gr"":{""g"":""control"",""p"":{""show_post_back_button"":""false""}},""felix"":{""g"":""test"",""p"":{""is_enabled"":""true""}},""felix_clear_fb_cookie"":{""g"":""control"",""p"":{""is_enabled"":""true"",""blacklist"":""fbsr_124024574287414""}},""felix_creation_duration_limits"":{""g"":""dogfooding"",""p"":{""minimum_length_seconds"":""15"",""maximum_length_seconds"":""600""}},""felix_creation_enabled"":{""g"":"""",""p"":{""is_enabled"":""true""}},""felix_creation_fb_crossposting"":{""g"":""control"",""p"":{""is_enabled"":""false""}},""felix_creation_fb_crossposting_v2"":{""g"":""control"",""p"":{""is_enabled"":""true""}},""felix_creation_validation"":{""g"":""control"",""p"":{""edit_video_controls"":""true""}},""felix_creation_video_upload"":{""g"":"""",""p"":{}},""felix_early_onboarding"":{""g"":"""",""p"":{}},""pride"":{""g"":""test"",""p"":{""enabled"":""true"",""hashtag_whitelist"":""lgbt,lesbian,gay,bisexual,transgender,trans,queer,lgbtq,girlslikeus,girlswholikegirls,instagay,pride,gaypride,loveislove,pansexual,lovewins,transequalitynow,lesbiansofinstagram,asexual,nonbinary,lgbtpride,lgbta,lgbti,queerfashion,queers,queerpride,queerlife,marriageequality,pride2018,genderqueer,bi,genderfluid,lgbtqqia,comingout,intersex,transman,transwoman,twospirit,transvisibility,queerart,dragqueen,dragking,dragartist,twomoms,twodads,lesbianmoms,gaydads,gendernonconforming""}},""unfollow_confirm"":{""g"":"""",""p"":{}},""profile_enhance_li"":{""g"":""control"",""p"":{""has_tagged"":""false""}},""profile_enhance_lo"":{""g"":""control"",""p"":{""has_tagged"":""false""}},""create_tag"":{""g"":"""",""p"":{}}},""hostname"":""www.instagram.com"",""platform"":""ios"",""rhx_gis"":""87a25368813608d393baaa28a0d6afb7"",""nonce"":""zsP4NjzdJRIWmer6K5At1A=="",""zero_data"":{},""rollout_hash"":""5f72737283f8"",""bundle_variant"":""base"",""probably_has_app"":false,""show_app_install"":true}&lt;/script&gt;"""""" m = re.search(r""(?&lt;=window._sharedData = )(?P&lt;json&gt;.*)(?=&lt;/script&gt;)"", s) if m:     data = json.loads(m.group('json'))     print(data)     for i in data['entry_data'][""ProfilePage""]:         for j in i['graphql']['user']['edge_owner_to_timeline_media']['edges']:             print(j['node'][""id""]) </code></pre>  <p><strong>Output:</strong></p>  <pre><code>{u'nonce': u'zsP4NjzdJRIWmer6K5At1A==', u'probably_has_app': False, u'show_app_install': True, u'platform': u'ios', u'locale': u'en_US', u'activity_counts': {u'relationships': 0, u'usertags': 0, u'comment_likes': 0, u'likes': 0, u'comments': 0}, u'hostname': u'www.instagram.com', u'rollout_hash': u'5f72737283f8', u'bundle_variant': u'base', u'entry_data': {u'ProfilePage': [{u'felix_onboarding_video_resources': {u'poster': u'/static/images/felix-onboarding/onboardingVideoPoster.png/8fdba7cf2120.png', u'mp4': u'/static/videos/felix-onboarding/onboardingVideo.mp4/9d16838ca7f9.mp4'}, u'logging_page_id': u'profilePage_7507466602', u'show_suggested_profiles': False, u'graphql': {u'user': {u'external_url_linkshimmed': None, u'has_requested_viewer': False, u'highlight_reel_count': 0, u'edge_felix_combined_post_uploads': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'full_name': u'Verna Manning', u'blocked_by_viewer': False, u'id': u'7507466602', u'biography': u'What a wonderful day!!!', u'edge_follow': {u'count': 8}, u'edge_felix_drafts': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'edge_felix_combined_draft_uploads': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'followed_by_viewer': True, u'follows_viewer': False, u'edge_saved_media': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'edge_media_collections': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'is_verified': False, u'username': u'vernamanning46464', u'edge_owner_to_timeline_media': {u'count': 2, u'page_info': {u'end_cursor': u'AQAQt_06KHhticevO8Am12l3GJ1CdrZVdUztIDyZN7oXm_IVmr2Clwi844aWh9oe9TU', u'has_next_page': False}, u'edges': [{u'node': {u'edge_media_preview_like': {u'count': 0}, u'is_video': False, u'edge_media_to_caption': {u'edges': [{u'node': {u'text': u'What a sunny day!'}}]}, u'dimensions': {u'width': 1080, u'height': 1080}, u'display_url': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/d82d797684ce57fef7a9fe87c74d2342/5BCE0CF2/t51.2885-15/s1080x1080/e15/fr/35274418_207295373248007_2552664476088270848_n.jpg', u'edge_media_to_comment': {u'count': 24}, u'comments_disabled': False, u'__typename': u'GraphImage', u'owner': {u'id': u'7507466602'}, u'media_preview': u'ACoqnuL0Qj5cMT0Gf1rBdi5LHqasXLK8hZBtB7fz/WoMV1xjZGLZHijFSbaNtXYVwhgaZtq/n2H1q9/Zn/TRfyNVAxUYHGetNyfU1LT6DuXnsnTn09f6VX21tERy/wAZCjt3P41BNaqMGLkHj1pRl0luJrqjM20m2rrwGM7TjPtzTobYynGQB3J7VpdWv0I8ihtpNtdGkdvGnlvtb1PqaZstPQfmf8az9ouzL5X3RmLMGPIxgdulSiYDgZAPNVQOB/nvSjmvP9pLa5fKibzlPTmjzlH0qMKB27H+ZqOn7SXcXKiwZFAzTPNHpVVSc1ISaPaz7i5Uf//Z', u'edge_liked_by': {u'count': 0}, u'thumbnail_resources': [{u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/b499ce5fafa113fe57f7325d86628900/5BE96296/t51.2885-15/s150x150/e15/35274418_207295373248007_2552664476088270848_n.jpg', u'config_width': 150, u'config_height': 150}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/f124ca8254e24569515be5f3f99ff911/5BE9A3A9/t51.2885-15/s240x240/e15/35274418_207295373248007_2552664476088270848_n.jpg', u'config_width': 240, u'config_height': 240}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/5c82e7c2ae3905863fe25150fca1f5e4/5BCB4ED1/t51.2885-15/s320x320/e15/35274418_207295373248007_2552664476088270848_n.jpg', u'config_width': 320, u'config_height': 320}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/e76685c6614c444d8ed5f04efc01435a/5BB6D257/t51.2885-15/s480x480/e15/35274418_207295373248007_2552664476088270848_n.jpg', u'config_width': 480, u'config_height': 480}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg', u'config_width': 640, u'config_height': 640}], u'taken_at_timestamp': 1530047789, u'gating_info': None, u'thumbnail_src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/7cecb59edaba9f9f7565604eac28d8df/5BC63210/t51.2885-15/s640x640/sh0.08/e35/35274418_207295373248007_2552664476088270848_n.jpg', u'shortcode': u'BkgKzGch1_EsxkqWK-4ZjG_XoWfrFxgXIOrZqs0', u'id': u'1810494542282448836'}}, {u'node': {u'edge_media_preview_like': {u'count': 1}, u'is_video': False, u'edge_media_to_caption': {u'edges': [{u'node': {u'text': u'What a nice day.'}}]}, u'dimensions': {u'width': 1080, u'height': 1080}, u'display_url': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/16610d58bb6cc90893ffd264f81755c6/5BAD1DBC/t51.2885-15/s1080x1080/e15/fr/30590929_101347367387069_7153309976138612736_n.jpg', u'edge_media_to_comment': {u'count': 3}, u'comments_disabled': False, u'__typename': u'GraphImage', u'owner': {u'id': u'7507466602'}, u'media_preview': u'ACoqwgadupijNLn0oAdvNPErDoahopiLkdw6nIPNTfaX9apxDNS7fencLDIAP1qFsZ4qYAx9CDmmMmD1B/GsxkRoqXbnjjP1FN2H2/MVVwHKcVJvqLYf8ml2tSAtbce/vjFIFYeh/Sn0Uhjh7gU8Njjt+dMFLQA4Y9B+HFO+X0/z+VMpaAP/2Q==', u'edge_liked_by': {u'count': 1}, u'thumbnail_resources': [{u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/d69525a20a2e61b2ee8663daf287a8ee/5BB46AD8/t51.2885-15/s150x150/e15/30590929_101347367387069_7153309976138612736_n.jpg', u'config_width': 150, u'config_height': 150}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/4034b1752e3a4bace405aadd5a35477c/5BCB79E7/t51.2885-15/s240x240/e15/30590929_101347367387069_7153309976138612736_n.jpg', u'config_width': 240, u'config_height': 240}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/96b684f38cb826f3efd8a7610ed6e9bb/5BEB899F/t51.2885-15/s320x320/e15/30590929_101347367387069_7153309976138612736_n.jpg', u'config_width': 320, u'config_height': 320}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/51dac35520bc90d7c7253cc331acf561/5BB44919/t51.2885-15/s480x480/e15/30590929_101347367387069_7153309976138612736_n.jpg', u'config_width': 480, u'config_height': 480}, {u'src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg', u'config_width': 640, u'config_height': 640}], u'taken_at_timestamp': 1523733851, u'gating_info': None, u'thumbnail_src': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/a4dfd1c28505301d4c440c95023fbbc7/5BC81D5E/t51.2885-15/s640x640/sh0.08/e35/30590929_101347367387069_7153309976138612736_n.jpg', u'shortcode': u'Bhj_6qyALuYgmy2sPgmUtoBcmcxZWGeyLkM3O00', u'id': u'1757529388200541080'}}]}, u'country_block': False, u'edge_followed_by': {u'count': 17}, u'edge_felix_pending_draft_uploads': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'mutual_followers': {u'usernames': [], u'additional_count': -3}, u'profile_pic_url': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg', u'has_channel': False, u'is_private': True, u'connected_fb_page': None, u'edge_felix_pending_post_uploads': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'requested_by_viewer': False, u'profile_pic_url_hd': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/96e65311d0a5e79729411bd582592816/5BCC9C5A/t51.2885-19/s150x150/33143922_237271910362316_6290555001760645120_n.jpg', u'has_blocked_viewer': False, u'edge_felix_video_timeline': {u'count': 0, u'page_info': {u'end_cursor': None, u'has_next_page': False}, u'edges': []}, u'external_url': None}}}]}, u'zero_data': {}, u'rhx_gis': u'87a25368813608d393baaa28a0d6afb7', u'qe': {u'gdpr_blocking_logout': {u'p': {}, u'g': u''}, u'reg': {u'p': {u'has_new_landing_page': u'false', u'has_new_landing_appsells': u'false'}, u'g': u'control_01_10'}, u'gdpr_eu_tos': {u'p': {}, u'g': u''}, u'gdpr_settings': {u'p': {}, u'g': u''}, u'mobile_search_redesign': {u'p': {}, u'g': u''}, u'bundles': {u'p': {}, u'g': u''}, u'pl_pivot_li': {u'p': {u'show_pivot': u'false'}, u'g': u'control_0423'}, u'felix': {u'p': {u'is_enabled': u'true'}, u'g': u'test'}, u'pl_pivot_lo': {u'p': {}, u'g': u''}, u'direct_conversation_reporting': {u'p': {}, u'g': u''}, u'report_profile': {u'p': {u'is_enabled': u'true'}, u'g': u'test'}, u'unfollow_confirm': {u'p': {}, u'g': u''}, u'connections': {u'p': {u'has_suggestion_context_in_feed': u'false'}, u'g': u'control'}, u'video': {u'p': {}, u'g': u''}, u'aysf': {u'p': {}, u'g': u''}, u'exit_story_creation': {u'p': {}, u'g': u''}, u'profile_photo_nux_fbc_v2': {u'p': {u'prefill_photo': u'true', u'skip_nux': u'false'}, u'g': u'launch'}, u'feed_vp': {u'p': {u'is_hidden': u'true'}, u'g': u'launch'}, u'sidecar': {u'p': {}, u'g': u''}, u'felix_clear_fb_cookie': {u'p': {u'is_enabled': u'true', u'blacklist': u'fbsr_124024574287414'}, u'g': u'control'}, u'felix_creation_fb_crossposting': {u'p': {u'is_enabled': u'false'}, u'g': u'control'}, u'save': {u'p': {u'is_enabled': u'true'}, u'g': u'test'}, u'stories_lo': {u'p': {u'stories_profile': u'true'}, u'g': u'test_03_15'}, u'felix_creation_fb_crossposting_v2': {u'p': {u'is_enabled': u'true'}, u'g': u'control'}, u'report_media': {u'p': {}, u'g': u''}, u'mobile_logout': {u'p': {}, u'g': u''}, u'fb_unlink': {u'p': {}, u'g': u''}, u'gdpr_row_tos': {u'p': {u'tos_version': u'row'}, u'g': u'test_05_01'}, u'create_tag': {u'p': {}, u'g': u''}, u'media_reporting': {u'p': {}, u'g': u''}, u'felix_creation_validation': {u'p': {u'edit_video_controls': u'true'}, u'g': u'control'}, u'pride': {u'p': {u'enabled': u'true', u'hashtag_whitelist': u'lgbt,lesbian,gay,bisexual,transgender,trans,queer,lgbtq,girlslikeus,girlswholikegirls,instagay,pride,gaypride,loveislove,pansexual,lovewins,transequalitynow,lesbiansofinstagram,asexual,nonbinary,lgbtpride,lgbta,lgbti,queerfashion,queers,queerpride,queerlife,marriageequality,pride2018,genderqueer,bi,genderfluid,lgbtqqia,comingout,intersex,transman,transwoman,twospirit,transvisibility,queerart,dragqueen,dragking,dragartist,twomoms,twodads,lesbianmoms,gaydads,gendernonconforming'}, u'g': u'test'}, u'msisdn': {u'p': {}, u'g': u''}, u'collections': {u'p': {}, u'g': u''}, u'drct_nav': {u'p': {}, u'g': u''}, u'onetaplogin_userbased': {u'p': {}, u'g': u''}, u'bg_sync': {u'p': {}, u'g': u''}, u'acc_recovery_link': {u'p': {}, u'g': u''}, u'empty_feed': {u'p': {}, u'g': u''}, u'ebdsim_lo': {u'p': {}, u'g': u''}, u'gdpr_logged_out': {u'p': {}, u'g': u''}, u'follow_button': {u'p': {u'is_inline': u'true'}, u'g': u'test'}, u'profile_tabs': {u'p': {}, u'g': u''}, u'reporting': {u'p': {}, u'g': u''}, u'private_lo': {u'p': {}, u'g': u''}, u'404_as_react': {u'p': {}, u'g': u''}, u'embeds': {u'p': {}, u'g': u''}, u'push_notifications': {u'p': {}, u'g': u''}, u'notif': {u'p': {}, u'g': u''}, u'tp_pblshr': {u'p': {}, u'g': u''}, u'felix_creation_enabled': {u'p': {u'is_enabled': u'true'}, u'g': u''}, u'report_haf': {u'p': {}, u'g': u''}, u'acc_recovery': {u'p': {u'has_prefill': u'true'}, u'g': u'test_with_prefill'}, u'comment_reporting': {u'p': {}, u'g': u''}, u'felix_early_onboarding': {u'p': {}, u'g': u''}, u'felix_creation_video_upload': {u'p': {}, u'g': u''}, u'appsell': {u'p': {}, u'g': u''}, u'us_li': {u'p': {u'show_related_media': u'true'}, u'g': u'Test'}, u'bc3l': {u'p': {}, u'g': u''}, u'stale': {u'p': {}, u'g': u''}, u'dash_for_vod': {u'p': {}, u'g': u''}, u'su_universe': {u'p': {u'use_autocomplete_signup': u'true'}, u'g': u'test_login_autocomplete'}, u'profile_enhance_li': {u'p': {u'has_tagged': u'false'}, u'g': u'control'}, u'move_comment_input_to_top': {u'p': {}, u'g': u''}, u'imgopt': {u'p': {}, u'g': u'control'}, u'ebdsim_li': {u'p': {u'is_shadow_enabled': u'false', u'use_new_ui': u'true'}, u'g': u'control_shadow_0322'}, u'loggedout_upsell': {u'p': {u'has_new_loggedout_upsell_content': u'true'}, u'g': u'test_with_new_loggedout_upsell_content_03_15_18'}, u'felix_creation_duration_limits': {u'p': {u'minimum_length_seconds': u'15', u'maximum_length_seconds': u'600'}, u'g': u'dogfooding'}, u'sidecar_swipe': {u'p': {}, u'g': u''}, u'direct_reporting': {u'p': {}, u'g': u''}, u'mobile_stories_doodling': {u'p': {}, u'g': u''}, u'login_poe': {u'p': {}, u'g': u''}, u'profile_enhance_lo': {u'p': {u'has_tagged': u'false'}, u'g': u'control'}, u'show_copy_link': {u'p': {u'show_copy_link_option': u'false'}, u'g': u'control'}, u'loggedout': {u'p': {}, u'g': u''}, u'onetaplogin': {u'p': {u'default_value': u'true', u'storage_version': u'one_tap_storage_version', u'during_reg': u'true'}, u'g': u'default_opt_in'}, u'fd_gr': {u'p': {u'show_post_back_button': u'false'}, u'g': u'control'}, u'stories': {u'p': {}, u'g': u''}, u'disc_ppl': {u'p': {u'has_follow_all_button': u'false', u'has_pagination': u'false'}, u'g': u'control_02_27'}, u'prvcy_tggl': {u'p': {}, u'g': u''}, u'reg_vp': {u'p': {}, u'g': u''}, u'mobile_cancel': {u'p': {}, u'g': u''}, u'comment_ta': {u'p': {}, u'g': u''}}, u'country_code': u'US', u'language_code': u'en', u'gatekeepers': {u'rt': True, u'ld': True, u'ai': True, u'sw': True, u'saa': True, u'vl': True, u'2fac': True, u'seo': True, u'seoht': True, u'sf': True}, u'knobs': {u'captcha': 0, u'cb': 0, u'acct:ntb': 0}, u'config': {u'viewer': {u'username': u'bliztezxxmedia', u'allow_contacts_sync': False, u'has_profile_pic': True, u'profile_pic_url_hd': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/df4d5098687fe594c5b2d9750804941a/5BEC5FC8/t51.2885-19/s320x320/32947488_229940584435561_2806247690365566976_n.jpg', u'profile_pic_url': u'https://instagram.fbed1-1.fna.fbcdn.net/vp/dd5d8db8ca1645ac8b69fdaf8886184f/5BB11538/t51.2885-19/s150x150/32947488_229940584435561_2806247690365566976_n.jpg', u'full_name': u'Social Media Bliztexnetwork', u'id': u'6440587166', u'biography': u'Follow for the best social media experience. Est. 2014', u'external_url': None}, u'csrf_token': u'OIXAF5a6FwMQJj3vCaUQXCGUGL3sFb0Z'}, u'supports_es6': False}  1810494542282448836 1757529388200541080 </code></pre>"
51073788	python django json.dumps() and javascript cookies	javascript|python|django	2018-06-28 02:18:44.690000 UTC	"<p>6.5 and django 2.1.a1.  I am having trouble with what I thought might be a simple cookie build.  I create a <code>dict</code> for the cookie payload.  I end up with two string keys, each with a string value.  </p>  <p>An example is:</p>  <pre><code>&gt;&gt;&gt; cookie_payload = dict() &gt;&gt;&gt; cookie_payload[""whereAmI""] = ""index"" &gt;&gt;&gt; cookie_payload[""account_number""] = ""123456789"" &gt;&gt;&gt; json.dumps(cookie_payload, ensure_ascii=True) '{""whereAmI"": ""index"", ""account_number"": ""123456789""}' </code></pre>  <p>The result of the <code>set_cookie</code> below however is:</p>  <pre><code>'{""whereAmI"": ""index""\054 ""account_number"": ""123456789""}' </code></pre>  <p>when it reaches my javascript. <code>JSON.parse()</code> barfs on the ""054"".  The comma is obviously being escaped but it is not being url encoded.  How do I force that comma to stay a "","" or should I decode the string differently in javascript?</p>  <pre><code>    @verified_email_required     def index(request):         cookie_payload = dict()          try:             cookie_payload[""whereAmI""] = ""index""              my_profile = Profile.objects.get(user=request.user)             profile_in_groups = Group.objects.all().filter(                 grouplist__profile__account_number=my_profile.account_number) \                 .order_by('name')              cookie_payload[""account_number""] = my_profile.account_number.__str__()               my_render = render(request, 'App/index.html', {                 'profile': my_profile             })             my_render.set_cookie(""Session"",                                  value=json.dumps(cookie_payload,                                                   ensure_ascii=True))         except ObjectDoesNotExist:             my_render = redirect('profile-create')             my_render.set_cookie(""Session"",                                  value=json.dumps(cookie_payload,                                                   ensure_ascii=True))          return my_render </code></pre>"	
51106533	What is the JavaScript equivalent of python's .text?	javascript|node.js|selenium-webdriver|npm	2018-06-29 17:08:30.703000 UTC	"<p>Element.text returns the text content of an element.  </p>  <p>In a different <a href=""https://stackoverflow.com/a/37234844/4952070/"" title=""thread"">thread</a> on SO, the python script scrapes data from the followers modal on an Instagram account. The following part returns the text inside the lists and stores them in an array. </p>  <pre><code> xpath = ""//div[@style='position: relative; z-index: 1;']//ul/li/div/div/div/div/a""  followers_elems = driver.find_elements_by_xpath(xpath)  return [e.text for e in followers_elems] </code></pre>  <p>I'm trying to achieve a similar result in JavaScript (I'm using WebDriverJS) : </p>  <pre><code> const XPATH = ""/html/body/div[3]/div/div[2]/div/div[2]/ul/div/li"";  var followers_elems = await driver.findElements(By.xpath(XPATH));  var followers_temp = [];  for (var e in followers_elems) {   followers_temp.push(e.textContent); }  console.log(followers_temp); </code></pre>  <p>I'm not sure if textContent is the right property for .text . </p>  <p>I've tried a million different alternatives but all I'm getting is undefined values in the array : </p>  <p><a href=""https://i.stack.imgur.com/wdWSl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wdWSl.png"" alt=""enter image description here""></a></p>  <p>I'm not very proficient with JS yet, but I'm sure <code>e</code> is reading from <code>followers_elems</code> and if I push just <code>e</code> inside the array it can log the total follower numbers just fine. It is getting the text value from xpath that I'm not understanding. Python does this so elegantly but despite the verbose JavaScript is failing me.  </p>  <p>Thank you.</p>"	"<p>WebElement.getText() is the javascript equivalent of getting text element in python when using WebdriverJS.</p>  <p>This should work for you. I have created an async function and easy to understand for loop. Also, since getText() return a promise so i am using async - await to get the text and push it to the followers_temp array.</p>  <pre><code>async function pushTextIn() {   for (let i = 0; i &lt; followers_elems.length; i++) {     let text = await followers_elems[i].getText();     console.log('pushing text: ', text);     followers_temp.push(text);   }   return followers_temp; } </code></pre>"
51106830	How to call Python functions from JavaScript in Django?	python|ajax|django	2018-06-29 17:32:25.673000 UTC	"<p><em>I've been struggling on this for a couple days. I've read through many posts, blogs, and watch video demo on Django projects, but nothing quite answers my problem.</em></p>  <p>I have a Django webapp that uses a Python API to connects to a third-party service to analyze text data. The user writes into a text area, presses the button, then the text is sent to the service which returns a list of JSON objects. The API call to this service is a Python function. I'm trying to use Ajax to make an async call to the Python function using the text data as a param when the button is pressed.</p>  <p>I'm not at this time trying to invoke my third-party service, yet. I'm just trying to see if I can get a response from Python sending input and receiving output.</p>  <p>Most of the examples I've found involve creating a form and submitting it so the Django framework automatically calls it's Python functions. A form is not exactly what I'm trying to build, nor am I wanting to proceed to a new page to see the results or refresh the current one. </p>  <pre><code>&lt;!-- index.html --&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Test Data&lt;/title&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""&gt;&lt;/script&gt;     &lt;script&gt;          document.getElementById(""Button"").addEventListener('click', analyzeText());          function analyzeText(){             var text = document.getElementById('text-to-analyze').value;              $ajax({                 type: ""POST"",                 url: ""/models.py"",   /* Call python function in this script */                 data: {param: text},   /* Passing the text data */                 success: callback             });         }          function callback(response){             console.log(response);         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;textarea id=""text-to-analyze"" rows=""12"" cols=""100""&gt;&lt;/textarea&gt;&lt;br&gt;     &lt;button id=""button"" value=""Analyze""/&gt;  &lt;/body&gt; &lt;/html&gt;   # models.py from django.db import models  # Function I want to call from Ajax def testcall():     return 'test successfull' </code></pre>  <p><br> EDIT:<br> I almost have it working. I'm just getting syntax errors with ajax I can't figure out.</p>  <p><a href=""https://i.stack.imgur.com/lP7qc.png"" rel=""nofollow noreferrer"">Could not parse the remainder: ' 'ajax-test-view'' from 'url 'ajax-test-view''</a> <br> <br> EDIT<br> <strike>I fixed all the syntax errors but now I'm getting 404 errors when trying to execute the target python script. I now understand how url and pathing works in Django, but using Kostadin Slavov's solution, how can I do this without routing to a specific html?</p>  <p>In the ajax, I'm setting the url like this: <code>url: '{{ 'ajax-test-view' }}',</code> And in my python I have the url pattern set like this: <code>path(r'^django-app/$', views.testcall, name = 'ajax-test-view'),</code></p>  <p>It seems like the variable in the ajax url points to the name field in the url pattern, but that also seems to be the name of a specific html file to render(?) Or is it the name of the py function?</p>  <p>When I click my button the ajax sends a command to <code>http://localhost:8000/what-ever-the-name-field-is-in-the-url-pattern</code> and I get a 404 from it. Is the framework trying to load a page or does it mean it can't find my python file?</strike> <br> <br> Derp... It's important to know that <code>url: '{{ 'ajax-test-view' }}',</code> is the url address ajax will request and Django's url dispatcher intercepts it to do something else only if the path matches perfectly. <br> <br> FINAL EDIT<br> Got it working. A couple things I changed in Kostadin Slavov's solution:<br></p>  <pre><code># urls.py urlpatterns = [    url(r'^$', views.index, name = 'index'),    path('my-ajax-test/', views.testcall), ]  &lt;!-- index.html --&gt; &lt;script&gt; ....  var text = ""test successful"";  $.ajax({    type: ""POST"",    url: '{{ 'my-ajax-test/' }}',    data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },    success: function callback(response){                console.log(response);             } }); &lt;/script&gt;  # views.py def testcall(request):    return HttpResponse(request.POST['text']) </code></pre>"	"<p>I struggled with this issue for a day or two.  Here's what solved my problem.</p>  <p>EDIT: I also needed to download the full version of jquery to get the ajax request working.</p>  <p><strong>HTML</strong></p>  <p>In your HTML you need to add  {% csrf_token %} to your form</p>  <pre><code>&lt;form id=""your_form""&gt;     {% csrf_token %}  //include the csrf_token line in your form     &lt;div&gt;         &lt;input type=""submit"" value=""blah blah blah""&gt;     &lt;/div&gt;  &lt;/form&gt; </code></pre>  <p><strong>script.js</strong></p>  <p>For your java script code add this function to get the csrf cookie.</p>  <pre><code>function getCookie(name) {     var cookieValue = null;     if (document.cookie &amp;&amp; document.cookie !== '') {         var cookies = document.cookie.split(';');         for (var i = 0; i &lt; cookies.length; i++) {             var cookie = cookies[i].trim();             // Does this cookie string begin with the name we want?             if (cookie.substring(0, name.length + 1) === (name + '=')) {                 cookieValue = decodeURIComponent(cookie.substring(name.length + 1));                 break;             }         }     }     return cookieValue; } </code></pre>  <p>Next you need to add the csrf token into your ajax request as follows.</p>  <pre><code>    var csrftoken = getCookie('csrftoken');      $.ajax({        type: ""POST"",        url: '/my-url/', --your url here        data: { csrfmiddlewaretoken: csrftoken, text: ""your text data here"" },        success: function callback(response){                    console.log(response);                 }     }); </code></pre>"
51106830	How to call Python functions from JavaScript in Django?	python|ajax|django	2018-06-29 17:32:25.673000 UTC	"<p><em>I've been struggling on this for a couple days. I've read through many posts, blogs, and watch video demo on Django projects, but nothing quite answers my problem.</em></p>  <p>I have a Django webapp that uses a Python API to connects to a third-party service to analyze text data. The user writes into a text area, presses the button, then the text is sent to the service which returns a list of JSON objects. The API call to this service is a Python function. I'm trying to use Ajax to make an async call to the Python function using the text data as a param when the button is pressed.</p>  <p>I'm not at this time trying to invoke my third-party service, yet. I'm just trying to see if I can get a response from Python sending input and receiving output.</p>  <p>Most of the examples I've found involve creating a form and submitting it so the Django framework automatically calls it's Python functions. A form is not exactly what I'm trying to build, nor am I wanting to proceed to a new page to see the results or refresh the current one. </p>  <pre><code>&lt;!-- index.html --&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Test Data&lt;/title&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""&gt;&lt;/script&gt;     &lt;script&gt;          document.getElementById(""Button"").addEventListener('click', analyzeText());          function analyzeText(){             var text = document.getElementById('text-to-analyze').value;              $ajax({                 type: ""POST"",                 url: ""/models.py"",   /* Call python function in this script */                 data: {param: text},   /* Passing the text data */                 success: callback             });         }          function callback(response){             console.log(response);         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;textarea id=""text-to-analyze"" rows=""12"" cols=""100""&gt;&lt;/textarea&gt;&lt;br&gt;     &lt;button id=""button"" value=""Analyze""/&gt;  &lt;/body&gt; &lt;/html&gt;   # models.py from django.db import models  # Function I want to call from Ajax def testcall():     return 'test successfull' </code></pre>  <p><br> EDIT:<br> I almost have it working. I'm just getting syntax errors with ajax I can't figure out.</p>  <p><a href=""https://i.stack.imgur.com/lP7qc.png"" rel=""nofollow noreferrer"">Could not parse the remainder: ' 'ajax-test-view'' from 'url 'ajax-test-view''</a> <br> <br> EDIT<br> <strike>I fixed all the syntax errors but now I'm getting 404 errors when trying to execute the target python script. I now understand how url and pathing works in Django, but using Kostadin Slavov's solution, how can I do this without routing to a specific html?</p>  <p>In the ajax, I'm setting the url like this: <code>url: '{{ 'ajax-test-view' }}',</code> And in my python I have the url pattern set like this: <code>path(r'^django-app/$', views.testcall, name = 'ajax-test-view'),</code></p>  <p>It seems like the variable in the ajax url points to the name field in the url pattern, but that also seems to be the name of a specific html file to render(?) Or is it the name of the py function?</p>  <p>When I click my button the ajax sends a command to <code>http://localhost:8000/what-ever-the-name-field-is-in-the-url-pattern</code> and I get a 404 from it. Is the framework trying to load a page or does it mean it can't find my python file?</strike> <br> <br> Derp... It's important to know that <code>url: '{{ 'ajax-test-view' }}',</code> is the url address ajax will request and Django's url dispatcher intercepts it to do something else only if the path matches perfectly. <br> <br> FINAL EDIT<br> Got it working. A couple things I changed in Kostadin Slavov's solution:<br></p>  <pre><code># urls.py urlpatterns = [    url(r'^$', views.index, name = 'index'),    path('my-ajax-test/', views.testcall), ]  &lt;!-- index.html --&gt; &lt;script&gt; ....  var text = ""test successful"";  $.ajax({    type: ""POST"",    url: '{{ 'my-ajax-test/' }}',    data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },    success: function callback(response){                console.log(response);             } }); &lt;/script&gt;  # views.py def testcall(request):    return HttpResponse(request.POST['text']) </code></pre>"	"<blockquote>   <p>After reading the question edits and the different answers, this is   what worked for me (doesn't include <strong>imports</strong>):</p> </blockquote>  <p><strong>File: urls.py</strong></p>  <pre><code>#urls.py urlpatterns = [    path('', views.index, name = 'index'),    path('my-ajax-test/', views.testcall), ] </code></pre>  <p><strong>File: index.html</strong></p>  <pre><code>#index.html &lt;html&gt; &lt;head&gt;     &lt;title&gt;Test Data&lt;/title&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""&gt;&lt;/script&gt;     &lt;script&gt;          function analyzeText(){             var text = document.getElementById('text-to-analyze').value;              $.ajax({                 type: ""POST"",                 url: '{{ 'my-ajax-test/' }}',                 data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },                   success: function callback(response){                            /* do whatever with the response */                            alert(response);                         }             });         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;textarea id=""text-to-analyze"" rows=""12"" cols=""100""&gt;&lt;/textarea&gt;&lt;br&gt;     &lt;input type=""submit"" id=""button"" value=""process"" onclick=""analyzeText();""&gt;  &lt;/body&gt; &lt;/html&gt; </code></pre>  <p><strong>File: views.py</strong></p>  <pre><code>#views.py def index(request):    return render(request, 'vote/index.html')  def testcall(request):    #Get the variable text    text = request.POST['text']    #Do whatever with the input variable text    response = text + "":)""    #Send the response      return HttpResponse(response) </code></pre>"
51106830	How to call Python functions from JavaScript in Django?	python|ajax|django	2018-06-29 17:32:25.673000 UTC	"<p><em>I've been struggling on this for a couple days. I've read through many posts, blogs, and watch video demo on Django projects, but nothing quite answers my problem.</em></p>  <p>I have a Django webapp that uses a Python API to connects to a third-party service to analyze text data. The user writes into a text area, presses the button, then the text is sent to the service which returns a list of JSON objects. The API call to this service is a Python function. I'm trying to use Ajax to make an async call to the Python function using the text data as a param when the button is pressed.</p>  <p>I'm not at this time trying to invoke my third-party service, yet. I'm just trying to see if I can get a response from Python sending input and receiving output.</p>  <p>Most of the examples I've found involve creating a form and submitting it so the Django framework automatically calls it's Python functions. A form is not exactly what I'm trying to build, nor am I wanting to proceed to a new page to see the results or refresh the current one. </p>  <pre><code>&lt;!-- index.html --&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Test Data&lt;/title&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""&gt;&lt;/script&gt;     &lt;script&gt;          document.getElementById(""Button"").addEventListener('click', analyzeText());          function analyzeText(){             var text = document.getElementById('text-to-analyze').value;              $ajax({                 type: ""POST"",                 url: ""/models.py"",   /* Call python function in this script */                 data: {param: text},   /* Passing the text data */                 success: callback             });         }          function callback(response){             console.log(response);         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;textarea id=""text-to-analyze"" rows=""12"" cols=""100""&gt;&lt;/textarea&gt;&lt;br&gt;     &lt;button id=""button"" value=""Analyze""/&gt;  &lt;/body&gt; &lt;/html&gt;   # models.py from django.db import models  # Function I want to call from Ajax def testcall():     return 'test successfull' </code></pre>  <p><br> EDIT:<br> I almost have it working. I'm just getting syntax errors with ajax I can't figure out.</p>  <p><a href=""https://i.stack.imgur.com/lP7qc.png"" rel=""nofollow noreferrer"">Could not parse the remainder: ' 'ajax-test-view'' from 'url 'ajax-test-view''</a> <br> <br> EDIT<br> <strike>I fixed all the syntax errors but now I'm getting 404 errors when trying to execute the target python script. I now understand how url and pathing works in Django, but using Kostadin Slavov's solution, how can I do this without routing to a specific html?</p>  <p>In the ajax, I'm setting the url like this: <code>url: '{{ 'ajax-test-view' }}',</code> And in my python I have the url pattern set like this: <code>path(r'^django-app/$', views.testcall, name = 'ajax-test-view'),</code></p>  <p>It seems like the variable in the ajax url points to the name field in the url pattern, but that also seems to be the name of a specific html file to render(?) Or is it the name of the py function?</p>  <p>When I click my button the ajax sends a command to <code>http://localhost:8000/what-ever-the-name-field-is-in-the-url-pattern</code> and I get a 404 from it. Is the framework trying to load a page or does it mean it can't find my python file?</strike> <br> <br> Derp... It's important to know that <code>url: '{{ 'ajax-test-view' }}',</code> is the url address ajax will request and Django's url dispatcher intercepts it to do something else only if the path matches perfectly. <br> <br> FINAL EDIT<br> Got it working. A couple things I changed in Kostadin Slavov's solution:<br></p>  <pre><code># urls.py urlpatterns = [    url(r'^$', views.index, name = 'index'),    path('my-ajax-test/', views.testcall), ]  &lt;!-- index.html --&gt; &lt;script&gt; ....  var text = ""test successful"";  $.ajax({    type: ""POST"",    url: '{{ 'my-ajax-test/' }}',    data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },    success: function callback(response){                console.log(response);             } }); &lt;/script&gt;  # views.py def testcall(request):    return HttpResponse(request.POST['text']) </code></pre>"	"<p>What you are trying is a well known problem. When you do ajax request to the server , the server responds with some data or may be renders a template. </p>  <p>For this request - response cycle to work, you will have to create a mapping of the url to the controller logic. You will have to create a url and a python function mapping in urls.py.  The python function will be in views.py. Now when you request for that url with the given method(POST or GET), it will call the mapping function and return the result.</p>"
51106830	How to call Python functions from JavaScript in Django?	python|ajax|django	2018-06-29 17:32:25.673000 UTC	"<p><em>I've been struggling on this for a couple days. I've read through many posts, blogs, and watch video demo on Django projects, but nothing quite answers my problem.</em></p>  <p>I have a Django webapp that uses a Python API to connects to a third-party service to analyze text data. The user writes into a text area, presses the button, then the text is sent to the service which returns a list of JSON objects. The API call to this service is a Python function. I'm trying to use Ajax to make an async call to the Python function using the text data as a param when the button is pressed.</p>  <p>I'm not at this time trying to invoke my third-party service, yet. I'm just trying to see if I can get a response from Python sending input and receiving output.</p>  <p>Most of the examples I've found involve creating a form and submitting it so the Django framework automatically calls it's Python functions. A form is not exactly what I'm trying to build, nor am I wanting to proceed to a new page to see the results or refresh the current one. </p>  <pre><code>&lt;!-- index.html --&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Test Data&lt;/title&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""&gt;&lt;/script&gt;     &lt;script&gt;          document.getElementById(""Button"").addEventListener('click', analyzeText());          function analyzeText(){             var text = document.getElementById('text-to-analyze').value;              $ajax({                 type: ""POST"",                 url: ""/models.py"",   /* Call python function in this script */                 data: {param: text},   /* Passing the text data */                 success: callback             });         }          function callback(response){             console.log(response);         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;textarea id=""text-to-analyze"" rows=""12"" cols=""100""&gt;&lt;/textarea&gt;&lt;br&gt;     &lt;button id=""button"" value=""Analyze""/&gt;  &lt;/body&gt; &lt;/html&gt;   # models.py from django.db import models  # Function I want to call from Ajax def testcall():     return 'test successfull' </code></pre>  <p><br> EDIT:<br> I almost have it working. I'm just getting syntax errors with ajax I can't figure out.</p>  <p><a href=""https://i.stack.imgur.com/lP7qc.png"" rel=""nofollow noreferrer"">Could not parse the remainder: ' 'ajax-test-view'' from 'url 'ajax-test-view''</a> <br> <br> EDIT<br> <strike>I fixed all the syntax errors but now I'm getting 404 errors when trying to execute the target python script. I now understand how url and pathing works in Django, but using Kostadin Slavov's solution, how can I do this without routing to a specific html?</p>  <p>In the ajax, I'm setting the url like this: <code>url: '{{ 'ajax-test-view' }}',</code> And in my python I have the url pattern set like this: <code>path(r'^django-app/$', views.testcall, name = 'ajax-test-view'),</code></p>  <p>It seems like the variable in the ajax url points to the name field in the url pattern, but that also seems to be the name of a specific html file to render(?) Or is it the name of the py function?</p>  <p>When I click my button the ajax sends a command to <code>http://localhost:8000/what-ever-the-name-field-is-in-the-url-pattern</code> and I get a 404 from it. Is the framework trying to load a page or does it mean it can't find my python file?</strike> <br> <br> Derp... It's important to know that <code>url: '{{ 'ajax-test-view' }}',</code> is the url address ajax will request and Django's url dispatcher intercepts it to do something else only if the path matches perfectly. <br> <br> FINAL EDIT<br> Got it working. A couple things I changed in Kostadin Slavov's solution:<br></p>  <pre><code># urls.py urlpatterns = [    url(r'^$', views.index, name = 'index'),    path('my-ajax-test/', views.testcall), ]  &lt;!-- index.html --&gt; &lt;script&gt; ....  var text = ""test successful"";  $.ajax({    type: ""POST"",    url: '{{ 'my-ajax-test/' }}',    data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },    success: function callback(response){                console.log(response);             } }); &lt;/script&gt;  # views.py def testcall(request):    return HttpResponse(request.POST['text']) </code></pre>"	"<p>in the <code>urls.py</code> you create an <code>url</code></p>  <pre><code>path('my-ajax-test/', views.myajaxtestview, name='ajax-test-view'), </code></pre>  <p>then your ajax should loook like</p>  <p>pay attention to  the <code>csrf_token</code> otherwise will send you an error </p>  <pre><code>        $ajax({         type: ""POST"",         url: '{{ url 'ajax-test-view'}}',            data: {csrfmiddlewaretoken: '{{ csrf_token }}',               text: ""this is my test view""},   /* Passing the text data */         success:  function(response){                alert(response);            }     }); </code></pre>  <p>in <code>views.py</code></p>  <pre><code>def myajaxtestview(request):     return HttpResponse(request.POST['text']) </code></pre>  <h1>Summary:</h1>  <p>you need to create the <code>url</code> in your <code>urls.py</code> which leads to your <code>views.py</code>  then the view gets the data that you've sent in the <code>request.POST</code> in the <code>request</code> you have plenty of data you can find more about it <a href=""https://docs.djangoproject.com/en/2.0/ref/request-response/"" rel=""nofollow noreferrer"">here</a>.  in your case you are more interested in <code>request.POST</code> it's a python dictionary so you pick the parametre that you have send and work with it  you may play with it like <code>return HttpResponce('test'+ request.POST['text'])</code> </p>  <p>If you want to get something from <code>models.py</code> let's say you data that you sent from the js is <code>{object_type: hammer}</code></p>  <pre><code>def myajaxtestview(request):     look_for = request.POST['object_type']     #lets say you have model Items     my_items= serializers.serialize('json', Items.objects.filter(object_type=look_for))     return JsonResponse(my_items) </code></pre>"
51120947	Javascript variable to json in Python	python|json	2018-07-01 06:29:09.413000 UTC	"<p>I have a string look as javascript variable <code>'{name : ""John"" , age : 17}'</code> in Python, how I can convert it to JSON like this  <code> {     ""name"" : ""John"" ,     ""age"" : 17 } </code> or how to add double quotes to field <code>name</code> and <code>age</code>.  <code>json.loads</code> coudn`t help me, it return me string not json </p>"	"<p>Are you sure this is a proper json - the keys in your example, <code>name</code> and <code>age</code>, are not surrounded with quotes, which is invalid data by itself.  </p>  <p>If that is not the case, e.g. a typo in the question, the method to use is <code>dumps()</code>:</p>  <pre><code>import json py_dict = {""name"": ""John"" , ""age"": 17} json_val = json.dumps(py_dict)   # string json representation of the dictionary json_val2 =json.dumps(json.loads('{""name"" : ""John"" , ""age"" : 17}'))    # parsing a string as dictionary and then dumping it as a json-formatted string </code></pre>  <p>As you can see by the 2nd example, <code>loads()</code> takes a json string and creates a dictionary out of it.</p>  <hr>  <p>Answering the updated question: any attempt to parse and fix the source with string replace or regex is error prone.</p>  <p>As yaml is a superset of json, and your example does look like yaml, it might be able to parse it:</p>  <pre><code>import yaml, json val = '{name: ""John"" , age: 17}' py_dict = yaml.loads(val)    # it is now a proper python dictionary print(json.dumps(py_dict)) # prints  #    {""name"": ""John"" , ""age"": 17} </code></pre>"
51121973	"Scrape ""Script part"" of a javascript rendered website in Python"	python|selenium	2018-07-01 09:17:17.490000 UTC	"<p>I am making a project where I want to see the average karma of users on various subreddits on Reddit. As such I am in the process of scraping users karma, which is proving a bit difficult with the new reddit structure.</p>  <p>I am not able to use PRAW as the karma figures there are not correct.</p>  <p>According to the page source of a users all I need is to find the following two variables: commentKarma and postKarma. Both of these variables are found under the """" section, see example here view-source:<a href=""https://www.reddit.com/user/loganb3171"" rel=""nofollow noreferrer"">https://www.reddit.com/user/loganb3171</a>. However, when I use selenium page_source or beautifulsoup they do not show up.</p>  <p>I have been working on this problem for a couple of hours now and I am nowhere near it.</p>  <p>Any and all help is appreciated.</p>  <p>either of these snippets does not give me the entire pagesource as you get when right clicking ""view page source""</p>  <pre><code>source_var = driver.execute_script(""return document.getElementsByTagName('html')[0].innerHTML"")  source_var=driver.page_source </code></pre>"	"<p>Okay, so I see that you're using selenium from the snippet in the question. If that's the case, then there's no way to set request headers with the web driver. Reddit will know you are a bot.</p>  <p>If you only need the page source, you can use requests to get the page and open it with selenium or use BeautifulSoup to parse the page</p>  <pre><code>from bs4 import BeautifulSoup import requests  url = ""https://www.reddit.com/user/loganb3171"" page = requests.get(url, headers={'User-Agent': 'Mozilla/5.0'}) soup = BeautifulSoup(page.text, 'html.parser')  print(soup.prettify()) </code></pre>"
51137538	How to write html/javascript in python for making web application using flask?	javascript|python-3.x|bokeh	2018-07-02 13:38:09.337000 UTC	"<p>I have written one javascript file</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt;   &lt;canvas id=""canvas"" width=300 height=300&gt;   &lt;script &gt;      var canvas=document.getElementById(""canvas"");      var ctx=canvas.getContext(""2d"");      var cw=canvas.width;      var ch=canvas.height;       var PI=Math.PI;      var PI2=PI*2;      var cx=150;      var cy=150;      var r=80;      var min=PI*.60;      var max=PI2+PI*.40;      var percent=50;       ctx.lineCap='round';      ctx.font='24px verdana';      ctx.textAlign='center';      ctx.textBaseline='middle';      ctx.fillStyle='gray';       drawGuage();       function drawGuage(){        ctx.clearRect(0,0,cw,ch);        // draw full guage outline        ctx.beginPath();        ctx.arc(cx,cy,r,min,max);        ctx.strokeStyle='lightgray';        ctx.lineWidth=15;        ctx.stroke();        // draw percent indicator        ctx.beginPath();        ctx.arc(cx,cy,r,min,min+(max-min)*percent/100);        ctx.strokeStyle='red';        ctx.lineWidth=6;        ctx.stroke();        ctx.fillText(percent+'%',cx,cy);      }   &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>And it is giving me output like this </p>  <p><img src=""https://i.stack.imgur.com/gD602.png"" alt=""LINK""></p>  <p>This value will change and I am able to return this value using pandas dataframe where it is returning my value.</p>  <pre><code>var percent=50; </code></pre>  <p>I want to code this same thing in python where I am using flask and var percent should take my pandas dataframe return value.</p>  <p>I am new to javascript in python and I am not able to understand how to write the same code in python using HTML and javascript and flask calling my py file.</p>"	"<p>It is possible to render HTML templates using Python Flask app. You need to maintain the 2 folders in your parent directory (where the python flask app resides), templates (for html) and static (for js files).</p>  <p>Either include your javascript code in your html template or have it in a separate static folder. You need to have a jinja template which will be replaced with the percent value. Then pass percent value returned from dataframe to render_template('index.html', value=value). </p>  <p>I found this post really useful. <a href=""http://www.patricksoftwareblog.com/tag/javascript/"" rel=""nofollow noreferrer"">http://www.patricksoftwareblog.com/tag/javascript/</a></p>"
51163052	Python list as JavaScript array is adding extra text	javascript|python|jquery|django|python-3.x	2018-07-03 21:32:13.447000 UTC	"<p>I created a Python array like this:</p>  <pre><code>urlnamesend=[]     baseurlImage='https://s3.amazonaws.com/'     for i in urlname:         urlnamesend.append(baseurlImage + i['image']) </code></pre>  <p>Now I want to use this is Django template in JavaScript, but it's giving something like this, like adding <code>&amp;#39</code> in every link. How I can get rid of it? </p>  <pre><code>[&amp;#39;https://s3.amazonaws.com/Events/Test1/1.jpg&amp;#39;,  &amp;#39;https://s3.amazonaws.com/Events/Test1/2.jpg&amp;#39;,  &amp;#39;https://s3.amazonaws.com/Test1/3.jpg&amp;#39;,] </code></pre>  <hr>  <p>EDIT: <code>urlname</code> value is like <code>'Events/Test1/DSC_0397.jpg'</code></p>"	"<p>It seems that one url from <code>urlname</code> contains more than one apostrophe.<br> try removing all the apostrophes with <code>replace()</code></p>  <pre><code># urlname = [] # UNKNOWN urlnamesend=[] baseurlImage='https://s3.amazonaws.com/' for i in urlname:    <b>url = i['image'].replace(""'"","""")</b>    urlnamesend.append(baseurlImage + <b>url</b>) </code></pre>"
51179236	What is the python equivalent of JavaScript's Array.prototype.find?	python|find	2018-07-04 18:24:12.713000 UTC	"<p>I'm looking for something like: <code>find(pred, iter)</code> in python</p>  <pre><code>obj = {           ""foo_list"": [             {""name"": ""aaaa"", ""id"": 111},            {""name"": ""bbbb"", ""id"": 222},            {""name"": ""cccc"", ""id"": 333}          ] } </code></pre>  <p>How to:    <code>find(lambda x: x.get(""name"") == ""bbbb"", obj.get(""foo_list"", [])) </code></p>"	"<pre><code>def find(pred, iterable):   for element in iterable:       if pred(element):           return element   return None  # usage: find(lambda x: x.get(""name"") == ""bbbb"", obj.get(""foo_list"", [])) </code></pre>"
51179236	What is the python equivalent of JavaScript's Array.prototype.find?	python|find	2018-07-04 18:24:12.713000 UTC	"<p>I'm looking for something like: <code>find(pred, iter)</code> in python</p>  <pre><code>obj = {           ""foo_list"": [             {""name"": ""aaaa"", ""id"": 111},            {""name"": ""bbbb"", ""id"": 222},            {""name"": ""cccc"", ""id"": 333}          ] } </code></pre>  <p>How to:    <code>find(lambda x: x.get(""name"") == ""bbbb"", obj.get(""foo_list"", [])) </code></p>"	"<p>python:filter == js.findAll</p> <pre><code>    bb = list(filter(lambda item: item.get(&quot;name&quot;) == &quot;bbbb&quot;, list))     bb[0] </code></pre> <p>find the object in a object list by attribute value</p>"
51179236	What is the python equivalent of JavaScript's Array.prototype.find?	python|find	2018-07-04 18:24:12.713000 UTC	"<p>I'm looking for something like: <code>find(pred, iter)</code> in python</p>  <pre><code>obj = {           ""foo_list"": [             {""name"": ""aaaa"", ""id"": 111},            {""name"": ""bbbb"", ""id"": 222},            {""name"": ""cccc"", ""id"": 333}          ] } </code></pre>  <p>How to:    <code>find(lambda x: x.get(""name"") == ""bbbb"", obj.get(""foo_list"", [])) </code></p>"	"<p><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find"" rel=""noreferrer""><code>Array.prototype.find()</code></a> returns the first matching element in an array, given a predicate function, or <code>undefined</code> when there is no match.</p>  <p>Python has the <a href=""https://docs.python.org/3/library/functions.html#filter"" rel=""noreferrer""><code>filter()</code> function</a>, which filters an iterable on a predicate, and <a href=""https://docs.python.org/3/library/functions.html#next"" rel=""noreferrer""><code>next()</code></a>, which produces the first element of an iterable or an optional default. Combining these give you the equivalent:</p>  <pre><code>next(filter(pred, iter), None) </code></pre>  <p>where <code>pred</code> is a callable that returns <code>True</code> when an element matches the search criteria. </p>  <p>Demo:</p>  <pre><code>&gt;&gt;&gt; iterable = [42, 81, 117] &gt;&gt;&gt; parity_odd = lambda v: v % 2 == 1 &gt;&gt;&gt; next(filter(parity_odd, iterable), None) 81 &gt;&gt;&gt; iterable = [42, 2, 4] &gt;&gt;&gt; next(filter(parity_odd, iterable), None) is None True </code></pre>  <p>If you remove the second argument to <code>next()</code>, a <code>StopIteration</code> exception is raised when there is no matching element.</p>"
51197551	How to pass an argument which exceeds length of 4000 from Javascript to Python using python shell	javascript|python	2018-07-05 18:09:19.190000 UTC	"<p>I'm building a desktop application using node.js,electron.js,Vue.js and Python. I'm im using python to do some printing. I'm using the python-shell npm library (<a href=""https://www.npmjs.com/package/python-shell"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/python-shell</a>). From python I'm using the pywin32   and sys libraries to print and to get the arguments i pass from JavaScript code. In my JavaScript code I have done as below and my output has more than 4000 characters. This the string i want to get printed. but not all the lines are getting printed. Is there a character limit when passing the values? If so how can i know the limit and can someone suggest me a better path to do this</p>  <pre><code>const PythonShell = require(""python-shell"");  var options = {                   pythonOptions: ['-u'],         scriptPath: __dirname,         args: [printerName, output, imgPath] };  PythonShell.run(""../../../../extras/script/printer.py"", options, function (err, results) {     if (err) throw err;     for(var k in results){         console.log(results[k])     }               }); </code></pre>"	"<p>As you can see in <a href=""https://www.npmjs.com/package/python-shell#sendmessage"" rel=""nofollow noreferrer"">python-shell documentation</a> you can use <code>pyshell.send()</code> to send data to python stdin - that would not have the limitation.</p>"
51197551	How to pass an argument which exceeds length of 4000 from Javascript to Python using python shell	javascript|python	2018-07-05 18:09:19.190000 UTC	"<p>I'm building a desktop application using node.js,electron.js,Vue.js and Python. I'm im using python to do some printing. I'm using the python-shell npm library (<a href=""https://www.npmjs.com/package/python-shell"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/python-shell</a>). From python I'm using the pywin32   and sys libraries to print and to get the arguments i pass from JavaScript code. In my JavaScript code I have done as below and my output has more than 4000 characters. This the string i want to get printed. but not all the lines are getting printed. Is there a character limit when passing the values? If so how can i know the limit and can someone suggest me a better path to do this</p>  <pre><code>const PythonShell = require(""python-shell"");  var options = {                   pythonOptions: ['-u'],         scriptPath: __dirname,         args: [printerName, output, imgPath] };  PythonShell.run(""../../../../extras/script/printer.py"", options, function (err, results) {     if (err) throw err;     for(var k in results){         console.log(results[k])     }               }); </code></pre>"	"<p>The command line has a maximum size, which depends on your OS (and possibly your settings).<sup>1</sup> That command line has to be enough to fit the name of the Python interpreter, and your script path, and the <code>-u</code>, and all of your (properly quoted) args. It's probably 4096 on your system, so when you have around 4000 characters worth of arguments, things start failing.</p>  <p>There are two general solutions to this.</p>  <hr>  <p>First, if the script uses arguments by looping over them and handing them independently, as many Unix tools do, you can call it repeatedly with, say, 50 arguments at a time. This is basically the same trick <a href=""https://en.wikipedia.org/wiki/Xargs"" rel=""nofollow noreferrer""><code>xargs</code></a> uses for huge argument lists.</p>  <hr>  <p>Second, you can change your script to read its input from a file, or from standard input, instead of from command-line arguments. </p>  <p>You haven't shown us your code, but let's say it looked like this:</p>  <pre><code>import sys for arg in sys.argv[1:]:     print('arg:', arg) </code></pre>  <p>You could change it to this:</p>  <pre><code>import sys for line in sys.stdin:     print('arg:', line, end='') </code></pre>  <p>But now you have to change the calling side. I don't know PythonShell, and my JS is pretty rusty, but from a quick look at the docs examples, it seems like it should look something like this:</p>  <pre><code>var options = {                   pythonOptions: ['-u'],         scriptPath: 'myscript.py', };  myscript = new PythonShell(options); var results = []; myscript.on('message', function(message)) {     results += [message]; } for (var i in args) {     myscript.send(args[i] + '\n'); } myscript.end(function(err, code, signal) {         if (err) throw err;     for (var k in results){         console.log(results[k])     }               }); </code></pre>  <hr>  <p>Using a file instead of stdin is pretty similar. It would look something like this:</p>  <pre><code>import sys filename = sys.argv[1] with open(filename) as f:     for line in f:         print('arg:', line, end='') </code></pre>  <p>And then calling it is closer to your original code:</p>  <pre><code>tempFile = new IDontRememberHowToSecurelyMakeATempFileInNode(); for (var i in args) {     tempFile.write(args[i] + '\n'); }  var options = {               pythonOptions: ['-u'],     scriptPath: __dirname,     args: [tempFile.howeverYouGetTheFileName()] };  PythonShell.run(""../../../../extras/script/printer.py"", options, function (err, results) {     if (err) throw err;     for(var k in results){         console.log(results[k])     }               }); </code></pre>  <hr>  <p><sub>1. On Windows, it's more complicated than this. In some versions, the command-line arguments and set of environment variables together have to be under another limit, and the limits may be different for UTF-16 vs. 8-bit inputs, and there are additional limits if you're using the MSVCRT functions that emulate POSIX-style APIs instead of calling the Windows APIs directly, etc.</sub></p>"
51234876	How to update a source in a JavaScript Callback of Bokeh in Python?	javascript|python|callback|bokeh|bokehjs	2018-07-08 18:21:26.117000 UTC	"<p>I am adapting <a href=""https://stackoverflow.com/q/38486119"">this answer</a> for my case, where I want an interactive, standalone graph where the slider selects which column of the data to plot in a bar chart. (Standalone is crucial, I cannot run a Bokeh server, thus the need for <a href=""https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/callbacks.html"" rel=""nofollow noreferrer"">JavaScript callbacks</a>.)</p>  <p>The data is a rectangle of floats with 100 rows in each of the 38 columns, which all have string labels like <code>'40'</code> etc. (This is how pandas <code>.read_csv()</code> handles numerics in the header by default.) Here is a sample from the top left corner (3x3, plus the row and column labels):</p>  <pre><code>        # ,        40,        41,        42,    1.00000,   1.00000,   0.99287,   0.98489,    2.00000,   1.00000,   0.99348,   0.98626,    3.00000,   1.00000,   0.99433,   0.98922, </code></pre>  <p>The code below produces the graph for the first column but does not update the graph upon moving the slider.</p>  <p>By poking at it, I suspect the issue is with the JavaScript code, though <a href=""https://bokeh.pydata.org/en/latest/_modules/bokeh/models/sources.html#ColumnDataSource"" rel=""nofollow noreferrer"">ColumnDataSource</a> remains a bit mysterious to me. (A more straightforward dictionary of numeric column labels to lists of the numbers in the column does not work as <code>datasource_available</code>, though corresponds to the linked answer's use case.)</p>  <pre><code>datadf = pd.read_csv('male_survival_by_pctile.csv') datadf.set_index('# ',inplace=True) years = range(40,77) data = {} data_available = {}  for year in years:     data[year] = {'top':datadf[str(year)],'x':range(1,101)} data_available = ColumnDataSource.from_df(datadf)  from bokeh.core.properties import field from bokeh.io import curdoc, output_notebook, show from bokeh.layouts import layout, column from bokeh.models import (ColumnDataSource, HoverTool, SingleIntervalTicker,                           Slider, Button, Label, CustomJS) from bokeh.plotting import figure  output_notebook()  source_visible = ColumnDataSource(data=dict(x=range(1,101),top=data_available[str(years[0])])) source_available = ColumnDataSource(data=data_available)  plot = figure(output_backend=""webgl"") plot.xaxis.ticker = SingleIntervalTicker(interval=.01) plot.xaxis.axis_label = ""Income percentile"" plot.yaxis.ticker = SingleIntervalTicker(interval=.05) plot.yaxis.axis_label = ""Survival rate""  label = Label(x=1.1, y=18, text=str(years[0]), text_font_size='70pt', text_color='#eeeeee') plot.add_layout(label)  plot.vbar(top='top',x='x',width=1,source=source_visible)  slider = Slider(start=years[0], end=years[-1], value=years[0], step=1, title=""Age"")  slider.callback = CustomJS(     args=dict(source_visible=source_visible,               source_available=source_available), code=""""""         var selected_function = cb_obj.get('value').toString();         // Get the data from the data sources         var data_visible = source_visible.get('data');         var data_available = source_available.get('data');         // Change bar height to the selected value         data_visible.top = data_available[selected_function];         // Update the plot         source_visible.trigger('change');     """""")  layout = column(slider, plot)  show(layout) </code></pre>"	"<p>The issue is in the <code>CustomJS</code> code as you suspected. There are two things that need to be fixed.</p>  <ol> <li><p>Bokeh has deprecated <code>get()</code> and <code>set()</code> methods and replaced them by <code>getv()</code> or <code>setv()</code>. However, the preferred way of accessing or modifying model properties is through usual JavaScript attributes, e.g., <code>source_visible.data</code>.</p></li> <li><p>Bokeh has <a href=""https://raw.githubusercontent.com/bokeh/bokeh/master/sphinx/source/docs/releases/0.12.6.rst"" rel=""nofollow noreferrer"">deprecated</a> <code>trigger('change')</code> and replaced it by <code>change.emit()</code>.</p></li> </ol>  <p>The fixed <code>CustomJS</code> code:</p>  <pre><code>slider.callback = CustomJS(     args=dict(source_visible=source_visible,               source_available=source_available), code=""""""         var selected_function = cb_obj.value.toString();         // Get the data from the data sources         var data_visible = source_visible.data;         var data_available = source_available.data;         // Change bar height to the selected value         data_visible.top = data_available[selected_function];         // Update the plot         source_visible.change.emit();     """""") </code></pre>  <p>JavaScript errors and warnings are seen in the browser's console. <a href=""https://webmasters.stackexchange.com/questions/8525/how-do-i-open-the-javascript-console-in-different-browsers"">Here are instructions for opening the console in different browsers</a>.</p>"
51256657	Saving a javascript files executed content to a variable in python	javascript|python|pyqt4	2018-07-10 03:03:21.357000 UTC	"<p>I have a file, ""index.html"" that has some javascript in it.. just a simple     document.write(""hello world""), I am trying to get the executed output of hello world into a variable in python.</p>  <p>Now I have been trying to get this to work and have looked throught the internet and came up with this:</p>  <pre><code>from PyQt4.QtGui import * from PyQt4.QtCore import * from PyQt4.QtWebKit import *   class Render(QWebPage):     def __init__(self, url):         self.app = QApplication(sys.argv)         QWebPage.__init__(self)         self.loadFinished.connect(self._loadFinished)         self.mainFrame().load(QUrl(url))         self.app.exec_()      def _loadFinished(self, result):         self.frame = self.mainFrame()         self.app.quit()   url = 'index.html' r = Render(url) result = r.frame.toHtml() print(result) </code></pre>  <p>When I run this file though, my output is simply</p>  <pre><code>&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; </code></pre>  <p>Why is it not outputting the executed javascript?</p>"	"<p>Lets say <code>index.html</code> looks like this:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script&gt;             document.write(""hello world"");         &lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>And I want to excecute the javascript between the <code>&lt;script&gt;&lt;/script&gt;</code> tags. First thing you can do is extract the javascript code into text with <a href=""https://www.crummy.com/software/BeautifulSoup/bs4/doc/"" rel=""nofollow noreferrer""><code>BeautifulSoup</code></a>. Then you can use <a href=""https://pypi.org/project/Js2Py/"" rel=""nofollow noreferrer""><code>js2py</code></a> to excecute this javascript code.</p>  <p><strong>Demo:</strong></p>  <pre><code>from js2py import eval_js from bs4 import BeautifulSoup  # open file into string data = open('index.html').read()  # create soup soup = BeautifulSoup(data, 'html.parser')  # find text between script tags  script = soup.find('script').text.replace(""document.write"", ""console.log"")  # evaluate js code from string result = eval_js(script) </code></pre>  <p><strong>Output:</strong></p>  <pre><code>'hello world' </code></pre>  <p><strong>Note:</strong> Since no javascript DOM exists without the browser, you need to <code>replace()</code> all <code>document.write()</code> calls with something else. In this case, I just replaced it with <code>console.log()</code>. </p>"
51284448	Convert a look-behind regex from python to javascript	javascript|python|regex|lookbehind	2018-07-11 11:33:06.460000 UTC	"<p>I have written a regex pattern with positive look-behind in <code>python</code> which matches a comma-separated list of mobile numbers. The pattern is:</p>  <pre><code>^\+?[0-9]+((,?)(?(1)(\+?[0-9]+)))*$ </code></pre>  <p>It matches any mobile number regarding following constraints:</p>  <ol> <li>Each phone number can start with <code>+</code>; any other <code>+</code> characters are forbidden.</li> <li>Each phone number can start with <code>00</code>.</li> <li>Spaces are not acceptable; not middle spaces nor peripherals.</li> </ol>  <p>My pattern works fine in <code>python</code>, but I want to convert it to <code>javascript</code> version in order to use it in an <code>angular</code> project. </p>  <p>I googled about <em>javascript look-behind regex</em>, but I couldn't figure out how to make use of indexed look-behind in <code>javascript</code>; the <code>?(1)</code> part. </p>  <p>Is there any way to convert this <code>python</code> regex to <code>javascript</code> or any other equivalent regex to match my needs?</p>"	"<p>Given that your regex doesn’t seem to use lookbehinds or the no-clause of the conditional, I believe this should do it:</p>  <pre><code>^\+?[0-9]+(,\+?[0-9]+)*$ </code></pre>"
51310495	Unable to click on button using the Selenium library in Python because element is hidden (Only able to do so using JavaScript)	python|selenium	2018-07-12 16:24:50.407000 UTC	"<pre><code>&lt;a class=""btn btn-xs btn-success"" href=""/user-location-auth/location?id=4013""  title=""View User Location Access"" data-toggle=""tooltip"" data-method=""post""&gt;  &lt;span class=""glyphicon glyphicon-map-marker""&gt;&lt;/span&gt;&lt;/a&gt;    &lt;span  class=""glyphicon glyphicon-map-marker""&gt;&lt;/span&gt;        &lt;&lt;pseudo:before&gt;&gt;  &lt;/&lt;pseudo:before&gt;&gt; </code></pre>  <p>Hi all, I have been tasked with a project that requires clicking on a button in a table (with 14 cells). The first 13 cells are all unhidden, but the 14th one (where the buttons are located), are hidden unfortunately. I have tried action chains, I have tried hovering over the element and then clicking on it. I seem to be at a loss here. This piece of code did work, however I want to avoid using javascript as I want to replicate a user experience.</p>  <pre><code>z4 = driver.find_element_by_css_selector('a.btn-success &gt; span.glyphicon-map-marker') driver.execute_script('arguments[0].click();', z4) </code></pre>"	"<p>Hi everyone and cruisepandey, I found a solution that works. First, I waited for the presence of the element to be located. Once that occurred, I grabbed the element and moved to it with ActionChains (I think I was misusing ActionChains earlier). Then I was able to click on the Bootstrap button.</p>  <pre><code>WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.XPATH, """""" //tr[@data-key='2312312321321']/td/a[contains(@class, 'btn-xs btn-  success')]/span[contains(@class, 'glyphicon')]"""""")))  y = driver.find_element(By.XPATH, """"""//tr[@data-  key='2312312321321']/td/a[contains(@class, 'btn-xs btn-  success')]/span[contains(@class, 'glyphicon')]"""""")  #Use action chains to click on the button ActionChains(driver).move_to_element(y).click().perform() </code></pre>"
51323651	How to receive JSON data with Python (server with websockets) and JavaScript (client-side)	javascript|python|json|websocket	2018-07-13 11:02:47.217000 UTC	"<p>I have a newbie question with receiving JSON data from Python working as a server. I need to tell you that the server is based on WebSockets and I'm sending JSON data from Python to JavaScript successfully but I can't find any source how to proceed with this data to parse this and show it in different divs like value of the <code>first_name</code> in the <code>id=""message-1""</code> <code>div</code>, <code>second_name</code> in the <code>message2</code> <code>div</code> etc. Could you help me figure this out? Here is the code and picture what my firefox return: <a href=""https://i.stack.imgur.com/qQl9R.png"" rel=""nofollow noreferrer"">Web page</a>. </p>  <p>I almost forgot to mention that I'm using localhost with xampp or <a href=""https://ngrok.com/"" rel=""nofollow noreferrer"">ngrok</a> to ""host"" my client-side. Also, there is a connection because I'm receiving logs on the website as well as in python console</p>  <p>Thanks in advance :)</p>  <p>Here is python code:</p>  <pre><code>import asyncio import websockets import json   async def time(websocket, path):     while True:         d = {'first_name': 'Guido',              'second_name': 'Rossum',              'titles': ['BDFL', 'Developer'],              }         parsed = json.dumps(d)         name = ""Jeremy""         # now = datetime.datetime.utcnow().isoformat() + 'Z'         for i in range(1):             await websocket.send(parsed)             response = await websocket.recv()             print(response)         start_server = websockets.serve(time, '127.0.0.1', 4040)   asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() </code></pre>  <p>Here is HTML/JS code</p>  <pre><code>&lt;body&gt; &lt;div id=""message-1""&gt;&lt;/div&gt; &lt;div id=""message-2""&gt;&lt;/div&gt; &lt;div id=""message-3""&gt;&lt;/div&gt; &lt;script&gt;     var ws       = new WebSocket(""ws://127.0.0.1:4040/"");     ws.onopen    = function () {         ws.send('Hello, Server!!');         //send a message to server once ws is opened.         console.log(""It's working onopen log / awake"");     };     ws.onmessage = function (event) {         if (typeof event.data === ""string"") {             // If the server has sent text data, then display it.             console.log(""On message is working on log with onmessage :)"");             var label       = document.getElementById(""message-1"");             label.innerHTML = event.data;         }     };     ws.onerror   = function (error) {         console.log('Error Logged: ' + error); //log errors     }; &lt;/script&gt; &lt;/body&gt; </code></pre>"	"<h3>You need to parse the message you received and attach it to the dom!</h3>  <pre><code>ws.onmessage = function (event) {     try {         var obj  = JSON.parse(event.data);         document.getElementById(""message-1"").innerHTML = obj.first_name;         document.getElementById(""message-2"").innerHTML = obj.second_name;         document.getElementById(""message-3"").innerHTML = obj.titles.join("" "");     } catch {         console.log(""Object is not received, Message is:: "", event.data);     } } </code></pre>  <h3>If this is not working, then check the json format your are sending!</h3>  <blockquote>   <p>Remember JSON Needs to be valid json, Replace <code>'</code> (single-quote) with <code>""</code> (double-quote):</p> </blockquote>  <pre><code>d = {     ""first_name"": ""Guido"",     ""second_name"": ""Rossum"",     ""titles"": [""BDFL"", ""Developer""] } </code></pre>"
51350011	Javascript execution in Selenium Python	python|selenium	2018-07-15 16:05:14.593000 UTC	"<p>When I execute Javascript in Selenium with a python am I then interacting with the website? E.g. if I execute Javascript to go one page back can the website then see this? E.g.</p>  <pre><code>driver.execute_script(""window.history.go(-1)"") </code></pre>"	"<p><a href=""http://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver.execute_script"" rel=""nofollow noreferrer""><code>execute_script</code> executes the code in the browser</a>:</p> <blockquote> <p><code>execute_script(script, *args)</code></p> <p>Synchronously Executes JavaScript in the current window/frame.</p> </blockquote> <p>Whether the <em>website</em> sees it depends on what code you provide in <code>script</code>. Some JavaScript will cause a request to be sent to the remote server and some won't.</p>"
51359943	Generate md5 hash of JSON and compare in Python and JavaScript	javascript|python|hash|md5	2018-07-16 10:40:54.737000 UTC	"<p>I have a use case where i have to generate <code>md5</code> hash of a <code>JSON</code> object and compare the hashes in the server and the browser.</p>  <p>The browser client generates hash and then asks the server for the hash of the same resource[ which happens to be a JSON object], and compares both the hashes to decide what to do next.</p>  <p>For server i am using <code>Python</code> and browser client is in <code>Javascript</code>.</p>  <p>For me the hashes generated in both cases do not match. Here's my code:</p>  <p><strong>Python</strong>:</p>  <pre><code>&gt;&gt;&gt; import hashlib &gt;&gt;&gt; import json  &gt;&gt;&gt; a = {""candidate"" : 5, ""data"": 1} &gt;&gt;&gt; a = json.dumps(a, sort_keys = True).encode(""utf-8"") &gt;&gt;&gt; hashlib.md5(a).hexdigest() &gt;&gt;&gt; 12db79ee4a76db2f4fc48624140adc7e </code></pre>  <p><strong>JS</strong>: I am using <a href=""https://www.npmjs.com/package/md5"" rel=""noreferrer"">md5</a> for hashing in browser</p>  <pre><code>&gt; var hash = require(""md5"") &gt; var data = {""candidate"":5, ""data"":1} &gt; data = JSON.stringify(data) &gt; md5(data) &gt; 92e99f0a99ad2a3b5e02f717a2fb83c2 </code></pre>  <p>What is it that i am doing wrong?</p>"	"<p>You're assuming that both languages generate JSON that looks identical.</p>  <pre><code>&gt;&gt;&gt; json.dumps({""candidate"" : 5, ""data"": 1}, sort_keys=True) '{""candidate"": 5, ""data"": 1}'  js&gt; JSON.stringify({""candidate"" : 5, ""data"": 1}) ""{\""candidate\"":5,\""data\"":1}"" </code></pre>  <p>Fortunately, they can.</p>  <pre><code>&gt;&gt;&gt; a = json.dumps({""candidate"" : 5, ""data"": 1}, sort_keys=True, indent=2) '{\n  ""candidate"": 5,\n  ""data"": 1\n}'  js&gt; var a = JSON.stringify({""candidate"" : 5, ""data"": 1}, null, 2) ""{\n  \""candidate\"": 5,\n  \""data\"": 1\n}"" </code></pre>  <p>And now the hashes would be same as well.</p>  <p>Python: </p>  <pre><code>&gt;&gt;&gt; hashlib.md5(a.encode(""utf-8"")).hexdigest() &gt;&gt;&gt; d77982d217ec5a9bcbad5be9bee93027 </code></pre>  <p>JS:</p>  <pre><code>&gt;&gt;&gt; md5(a) &gt;&gt;&gt; d77982d217ec5a9bcbad5be9bee93027 </code></pre>"
51359943	Generate md5 hash of JSON and compare in Python and JavaScript	javascript|python|hash|md5	2018-07-16 10:40:54.737000 UTC	"<p>I have a use case where i have to generate <code>md5</code> hash of a <code>JSON</code> object and compare the hashes in the server and the browser.</p>  <p>The browser client generates hash and then asks the server for the hash of the same resource[ which happens to be a JSON object], and compares both the hashes to decide what to do next.</p>  <p>For server i am using <code>Python</code> and browser client is in <code>Javascript</code>.</p>  <p>For me the hashes generated in both cases do not match. Here's my code:</p>  <p><strong>Python</strong>:</p>  <pre><code>&gt;&gt;&gt; import hashlib &gt;&gt;&gt; import json  &gt;&gt;&gt; a = {""candidate"" : 5, ""data"": 1} &gt;&gt;&gt; a = json.dumps(a, sort_keys = True).encode(""utf-8"") &gt;&gt;&gt; hashlib.md5(a).hexdigest() &gt;&gt;&gt; 12db79ee4a76db2f4fc48624140adc7e </code></pre>  <p><strong>JS</strong>: I am using <a href=""https://www.npmjs.com/package/md5"" rel=""noreferrer"">md5</a> for hashing in browser</p>  <pre><code>&gt; var hash = require(""md5"") &gt; var data = {""candidate"":5, ""data"":1} &gt; data = JSON.stringify(data) &gt; md5(data) &gt; 92e99f0a99ad2a3b5e02f717a2fb83c2 </code></pre>  <p>What is it that i am doing wrong?</p>"	"<p>The difference is that <strong><code>json.dumps</code></strong> applies some minor pretty-printing by default but <strong><code>JSON.stringify</code></strong> does not, that's why hashes are not the same. <br />   Python:</p> <pre class=""lang-py prettyprint-override""><code> &gt;&gt;&gt; import json  &gt;&gt;&gt; json.dumps({&quot;candidate&quot; : 5, &quot;data&quot;: 1})      '{&quot;candidate&quot;: 5, &quot;data&quot;: 1}' </code></pre> <p>  Javacript:</p> <pre><code> &gt; JSON.stringify({&quot;candidate&quot; : 5, &quot;data&quot;: 1})    '{&quot;candidate&quot;:5,&quot;data&quot;:1}' </code></pre> <br /> <p>But with some modification, we can generate the same hash. There are two ways for it:-</p> <ol> <li>Modifying <code>javascript JSON string</code> to make it equivalent to a <code>python JSON string</code>. <br> Python: <pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; import json,hashlib &gt;&gt;&gt; a = json.dumps({&quot;candidate&quot; : 5, &quot;data&quot;: 1}, sort_keys=True) &gt;&gt;&gt; hashlib.md5(a.encode(&quot;utf-8&quot;)).hexdigest()     '12db79ee4a76db2f4fc48624140adc7e' </code></pre> Javacript: <pre><code>&gt; const Crypto = require(&quot;crypto-js&quot;)   undefined &gt; const a = JSON.stringify({&quot;candidate&quot; : 5, &quot;data&quot;: 1}).replaceAll(&quot;:&quot;, &quot;: &quot;).replaceAll(&quot;,&quot;, &quot;, &quot;)   undefined &gt; Crypto.MD5(a).toString(Crypto.enc.Hex)   '12db79ee4a76db2f4fc48624140adc7e' </code></pre> </li> <li>Modifying <code>python JSON string</code> to make it equivalent to a <code>javascript JSON string</code>. <br> Python: <pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; import json,hashlib &gt;&gt;&gt; a = json.dumps({&quot;candidate&quot; : 5, &quot;data&quot;: 1}, separators=(',', ':')) &gt;&gt;&gt; hashlib.md5(a.encode(&quot;utf-8&quot;)).hexdigest()     '92e99f0a99ad2a3b5e02f717a2fb83c2' </code></pre> Javacript: <pre><code>&gt; const Crypto = require(&quot;crypto-js&quot;)   undefined &gt; const a = JSON.stringify({&quot;candidate&quot; : 5, &quot;data&quot;: 1})   undefined &gt; Crypto.MD5(a).toString(Crypto.enc.Hex)   '92e99f0a99ad2a3b5e02f717a2fb83c2' </code></pre> <blockquote> <p>Note:- To run javascript code, crypto-js npm pkg should be installed as same location where you started the node shell.</p> </blockquote> </li> </ol>"
51363200	How can I extract text from another website using python and JavaScript?	javascript|python	2018-07-16 13:37:53.463000 UTC	"<p>I would like to link some text that is under directors from for example from IMDb. I can see JavaScript is used in the inspect element, is it possible to list the movie names as a list in the output of python? Making the code read just that part of the  JavaScript from the website and then being able to use it without the need of writing the titles down. In addition, can it only note ""movie titles"" in years 2015 - 2015. </p>  <p>I am a beginner but this is a project to help reduce time when writing something.</p>"	"<p>Try using the <a href=""https://www.seleniumhq.org/"" rel=""nofollow noreferrer"">selenium</a> webdriver library for python. It allows you to automate the process of navigating around websites, and also has the ability to scrape text and other information from elememts. To start you off, your program might look something like this:</p>  <pre><code>from selenium import webdriver  driver = webdriver.Chrome() # you can include options like path driver.get(""imdb.com"") lis = driver.find_element_by_class_name('li') # getting list elements, for example for li in lis:     print(li.text) </code></pre>  <p>Make sure you download BOTH the browser of your choice (i.e. the application) and the appropriate driver. For chrome, it would be <a href=""http://chromedriver.chromium.org/"" rel=""nofollow noreferrer"">chromedriver</a>.</p>"
51368286	VSCode Python extension clobbers Javascript tag/symbol search	python|visual-studio-code|vscode-settings	2018-07-16 18:43:49.663000 UTC	"<p>With <code>vscode-python</code> installed, I can't find Javascript symbols in my Python + Javascript project.</p>  <p>When I hit Command-T for ""Find Symbol in Project"", I only see Python symbols, but my project has loads of Javascript &amp; JSX files too. If I'm editing one of those files and hit Command-T, I see all the Python symbols plus the Javascript symbols <em>in that file</em>, but no wider.</p>  <p>I figure this is something to do with the way that <code>vscode-python</code> registers itself as a symbols provider and runs <code>ctags</code> with <code>--language=Python</code>. While there are various settings for <code>vscode-python</code>'s use of <code>ctags</code>, adding Javascript support to the invocation doesn't <em>seem</em> to be one of them.</p>  <p>Does anyone know how I can get symbol search for both languages at once?</p>  <p>Am on a Mac, running VSCode 1.25.1, <code>vscode-python</code> 2018.6.0, <code>exuberant-ctags</code> 5.8.1 (from Homebrew).</p>"	
51403755	get renderd javascript lines from website in python	python|web-scraping|python-3.6|python-requests-html	2018-07-18 13:49:26.553000 UTC	"<p>I'm using python 3.6.6 for this.</p>  <p>I'm trying to get the current versionnumber of pycharm from the pycharm website (<a href=""https://www.jetbrains.com/pycharm/download/#section=windows"" rel=""nofollow noreferrer"">https://www.jetbrains.com/pycharm/download/#section=windows</a>). The versionnumber is displayed pretty obvious, still I can't get it because I don't know how to process java script properly.</p>  <p>I tried parsing it out with requests_html from:</p>  <pre><code>&lt;li&gt;Version: &lt;span data-code=""PCP"" data-release-version=""""&gt;&lt;/span&gt;&lt;/li&gt; </code></pre>  <p>This part should look like this after java script has done its job:</p>  <pre><code>&lt;li&gt;Version: &lt;span data-code=""PCP"" data-release-version=""""&gt;2018.1.4&lt;/span&gt;&lt;/li&gt; </code></pre>  <p>Here is my not working script by the way:</p>  <pre><code>from requests_html import HTMLSession  session = HTMLSession() r = session.get('https://www.jetbrains.com/pycharm/download/#section=windows')   r.html.render() item = r.html.find('&lt;span data-code=""PCP"" data-release-version=""""&gt;&lt;/span&gt;')   print(item) </code></pre>  <p>I don't care if there would be any parts left over, I would simply filter them out with RegEx. Still the only thing I'm getting from this is:</p>  <pre><code>[&lt;Element 'span' data-code='PCP' data-release-version=''&gt;] </code></pre>"	<p>update: </p>  <p>I found an solution my self. It seems like render() is in need for sleep. Also I used xpath instead of search.</p>  <pre><code>from requests_html import HTMLSession  session = HTMLSession() r = session.get('https://www.jetbrains.com/pycharm/download/#section=windows')   r.html.render(sleep=0.1) item = r.html.xpath('/html/body/div[1]/div[2]/div/div[2]/div[1]/div[2]/ul[1]/li[1]/span/text()')  print('------------------------------------------------') print(item) </code></pre>  <p>my Result:</p>  <pre><code>['2018.1.4'] </code></pre>
51409658	Trying to download >3GB file through API using Python/Javascript/cURL	javascript|python|api|curl|sharefile	2018-07-18 19:27:21.703000 UTC	"<p>I'm trying to download large (large as in anywhere between 3GB - 80GB) files through the ShareFile API to store in a local directory.</p>  <p>I've tried using a Python script, JavaScript, and cURL and all of them fail at one point or another with timeouts.</p>  <p>Below is a snippet of the Python code I'm using, it's not always reliable as it was working one day on a 3GB file and then no longer working the next when there were no changes to the code. It'll just return a 504 timeout. There's no chance it will work on a 10GB file or even 80GB file. I've been researching ways to download large files, but when looking up how to download large files via API call, what's large to other people seem to be MB which I don't have a problem with.</p>  <p>I also tried downloading a range of bytes, but it will timeout when trying to download a 12GB file using the same code below just adding an additional header for Range.</p>  <pre><code>def download_item(downloadUrl, token, local_path):     url = downloadUrl + '/Download'     headers = {'Authorization': 'Bearer ' + token, 'Accept-Encoding': 'gzip'}     response = requests.get(url = url, headers = headers, stream = True)     print(response.status_code)      with open(local_path, 'wb') as f:         print(""Opened"")         for chunk in response.iter_content(chunk_size=512):             f.write(chunk)     return print(""File completed "" + str(datetime.datetime.now())) </code></pre>  <p>I've tried using cURL as well which can do the 12GB file I need but times out at anything bigger</p>  <p>There has to be a way to do it with very large files, but my research hasn't returned anything that helps.</p>"	
51437165	"Python, Scraping Data from javascript website"	javascript|python|web|screen-scraping	2018-07-20 07:20:29.323000 UTC	"<p>So, i am kinda of a new python programmer, if i can call myself like that, and i am trying to learn through the ""picking new projects"" procedure. What i want to do now is :</p>  <p>enter a website that gives live score results as <a href=""http://www.livescore.com"" rel=""nofollow noreferrer"">http://www.livescore.com</a> for example. somehow scrape all the teams that playing against each other and manipulate those data.  Then i want to build an app that takes those data, arrange them nicely in a table format (let's say) and then update it every time a team scores a goal (possibly through scrapping again ? i don't know..). So i want to project them as my own data.</p>  <p>As i am new to python, i don't even know if that's possible to be done. If so, can you help me ? Point me to some directions maybe, point me specific chapters of python to read, specific modules etc etc ?</p>  <p>I really need any help i can get because i am really lost on the matter. I don't know where to begin with.</p>  <p>Thanks in advance</p>"	"<p>For web scraping i would recommand using regular requests library of python + the <strong>BeautifulSoup</strong> library for parsing HTML. This way you can have a look at the content of the website.</p>  <p>The problem starts with dynamically added data, which is probably the case for you. the actual live data is probably coming from XHR requests the site is making to the server, so there lies the data you are really interested in. In order to get the data you can try looking at those XHR requests and maybe try to mimic them. </p>  <p>Another platform from extracting data from sites is the <strong>Selenium</strong> project. Its more of an automated web browser, which gives you the access to all the data , even the dynamically loaded ones.</p>"
51458798	Troubleshooting timer delay between Javascript frontend and Python backend	javascript|python|date	2018-07-21 18:08:02.190000 UTC	"<p>I have a JS frontend app making API calls to a Python backend API. To combat replay-later attacks, every HTTP request from the frontend app has a header with the time of the request (in milliseconds from epoch).</p>  <pre><code>headers['request-epoch'] = Date.now() </code></pre>  <p>The Python backend also calculates its own current time (in seconds from epoch):</p>  <pre><code>dt = datetime.datetime.utcnow() seconds_from_epoch = int((dt - datetime.datetime.utcfromtimestamp(0)).total_seconds()) </code></pre>  <p>Then it compares the difference:</p>  <pre><code>request_timestamp = self.request.headers.get('request-timestamp', 0) request_seconds_from_epoch = int(request_timestamp) / 1000 seconds_elapsed = abs(seconds_from_epoch - request_seconds_from_epoch) </code></pre>  <p>Here is the weird thing:</p>  <p>Once is a while, <code>seconds_elapsed</code> is <strong>over 60 seconds</strong>, while I am testing the frontend. The interaction on the frontend returns in less than a second, so the request / response is definitely taking less than 60 seconds. Therefore, I am trying to figure out why the timestamp discrepancy is anything more than a second. </p>  <p>It is hard to reproduce, but I a log whenever this happens, which is how I noticed the problem. Any ideas on why this could be happening?</p>"	
51465981	How to send information back and forth from a javascript file to a python file	javascript|python|ajax|flask	2018-07-22 14:16:29.543000 UTC	"<p>So I have an html file with javascript and a python file. In the javascript file, the user enters a string. In the python, I would like it to search it in an api, and then return the string to be displayed in the html file. How do I do this? I have looked up how to use AJAX and get/post methods, but nothing has worked so far. Also, I should mention I am using flask.</p>"	"<p>The basic mechanics of having an HTML page communicate directly with another program is web server programming.  If you want the web server to execute python, then consider setting up a <a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">Django server</a>.  Learning how to set up a web server and getting the two programs to talk with each other may take a while if it is your first time.</p>"
51500703	Convert JavaScript TemplateLiteral to python dictionnary	javascript|python|dictionary	2018-07-24 14:05:24.983000 UTC	"<p>I would like to parse a JavaScript code that defines data that contains TemplateLiterals (``). </p>  <p>Here is an easy example</p>  <pre><code>let data = { cat: 'Retail', name: 'Dollar Mania', value: 30, icon: 'img/dollarmania.png', desc: `         Best store in town!           &lt;p&gt;Founded in 2011&lt;/p&gt;  `} </code></pre>  <p>What is the best pythonic way to convert this JS object to python dictionary ?</p>"	"<p>The safest way would be to run the object definition in JavaScript, then use JavaScript to export it to a format that Python can read natively. JSON is a suitable format for this. This will avoid you having to write a JavaScript parser in Python, which would have to account for many edge cases.</p>  <p>In JavaScript, convert the object in the local variable <code>data</code> to JSON and then print it to stdout:</p>  <pre class=""lang-js prettyprint-override""><code>const dataAsJsonString = JSON.stringify(data); console.log(dataAsJsonString); </code></pre>  <p>Your Python program can use Python’s built-in JSON parsing library to decode the output of the JavaScript:</p>  <pre class=""lang-py prettyprint-override""><code>import json  dataAsJsonString = sys.stdin.read() data = json.loads(dataAsJsonString) </code></pre>  <p>To pass the data from JavaScript to Python, you can run the JavaScript program with Node and pipe its output to your Python program: <code>node dataSource.js | python data_reader.py</code>. Or if you can’t run your JavaScript with Node, you could copy the console output to your clipboard and then pipe your OS’s command to paste to your Python program, e.g. <code>pbpaste | python data_reader.py</code> or <code>xclip -out -selection clipboard | python data_reader.py</code>.</p>"
51502357	Why nested for matrix iteration with explicit indices (javascript-like) in Python causes IndexError?	python-3.x	2018-07-24 15:23:26.180000 UTC	"<p>I need the equivalent of this javascript code:</p>  <pre><code>var a = [[1,2,3],[4,5,6],[7,8,9],[10,11,12]]; var b = [[6,8,3],[0,9,6],[1,8,4],[5,1,3]]; var r = [[0,0,0],[0,0,0],[0,0,0],[0,0,0]]; var rows=4; var cols=3; for(var i = 0; i &lt; rows; i++){         for(var j = 0; j &lt; cols; j++){             r[i][j] += a[i][j] * b[j][i];         } } </code></pre>  <p>So I have created this Python code:</p>  <pre><code>a = [[1,2,3],[4,5,6],[7,8,9],[10,11,12]] b = [[6,8,3],[0,9,6],[1,8,4],[5,1,3]] r = [[0,0,0],[0,0,0],[0,0,0],[0,0,0]] rows=4 cols=3 for i in range(rows):         for j in range(cols):             r[i][j] += a[i][j] * b[j][i] </code></pre>  <p>but unfortunately in Python seems this approach doesn't work and my code crashes with  <code>IndexError: list index out of range</code>  in the line</p>  <pre><code>r[i][j] += a[i][j] * b[j][i] </code></pre>  <p>Why this happens? </p>"	"<p>I think, it happens because you write <code>b[j][i]</code>, but correct <code>b[i][j]</code>.</p>"
51549170	Python flask using variables from config.py in javascript file	javascript|python|python-3.x|flask|import	2018-07-27 00:26:54.310000 UTC	"<p>I am trying to reuse some of my variables from my <code>config.py</code> in my javascript files, specifically <code>WEBSERVER_HOST</code> and <code>WEBSERVER_PORT</code> variables. My <code>config.py</code> looks like this:</p>  <p>config.py</p>  <pre><code># Webserver configs WEBSERVER_HOST = 'myhost' WEBSERVER_PORT = 5000 </code></pre>  <p>In my js file I declare these on the top of my js file like this:</p>  <p>app.js:</p>  <pre><code>var HOST = 'myhost'; // I want this var HOST = WEBSERVER_HOST; var PORT = 5000;     // and this var PORT = WEBSERVER_PORT; </code></pre>  <p>I can import <code>config.py</code> in a regular python file (e,g. <code>run.py</code>), but I would like to know if I can somehow also import these values into my javascript files as well so I don't have to declare them twice. </p>"	"<p>The simplest approach is to move that <code>.js</code> file out of <code>/static/</code> into <code>templates/</code>, add a route to it, and rework it to read</p>  <pre><code>var HOST = ""{{ host }}""; var PORT = {{ port }}; </code></pre>  <p>Then add a route to <code>app.js</code> and do</p>  <pre><code>@app.route('app.js') def app_js():     return render_template('app.js',                            host=app.config['WEBSERVER_HOST'],                            port=app.config['WEBSERVER_PORT']) </code></pre>  <p>An alternative is to inject those into your <code>.html</code> templates, arranging for them to land with <code>&lt;script&gt;...&lt;/script&gt;</code> elements.</p>"
51577128	python regex: search for variable content inside javascript function	python|regex	2018-07-29 04:08:36.410000 UTC	"<p>I have a javascript string like given below</p>  <pre><code>function() {window.__WML_REDUX_INITIAL_STATE__ = {""uuid"":null,""isMobile"":false,""isBot"":false,""isAdsEnabled"":true};} </code></pre>  <p>I have to get contents of <code>__WML_REDUX_INITIAL_STAET__ =</code> whose content is json data so that I could parse the json further.</p>  <p>I'm, using following regex pattern</p>  <pre><code>wml_redux_initial_state = re.findall('__WML_REDUX_INITIAL_STATE__ = (.*?);\s*$', redux, re.M) </code></pre>  <p>But this is not working.</p>"	"<p>I don't know how specific your regex needs to be, but your current one isn't working because of the <code>}</code> after the <code>;</code>....this works:</p>  <pre><code>re.search(r'__WML_REDUX_INITIAL_STATE__ = (.*?);}\s*$', redux, re.M) </code></pre>"
51577367	"CSRF token missing or incorrect in json data with post request using JavaScript, Django 2.0, Python 3.6"	django|django-views|xmlhttprequest|python-requests|http-post	2018-07-29 05:01:25.717000 UTC	"<p>My JavaScript post request using <code>json</code> data:</p> <pre><code>function myAjax(type, url, data){ var xhttp = new XMLHttpRequest();   if (!window.XMLHttpRequest) xhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);   xhttp.onreadystatechange = function() {     if (this.readyState == 4 &amp;&amp; this.status == 200) {         console.log(this.responseText);      }   };   xhttp.open(type, url, true);   xhttp.setRequestHeader('X-Requested-With', 'XMLHttpRequest');   //xhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');   xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');   var br = JSON.stringify(data);   console.log(br);   type==&quot;GET&quot;?xhttp.send():xhttp.send(br); } data={   csrfmiddlewaretoken:&quot;{{csrf_token}}&quot;,   sss: 'sssssssss', } myAjax(&quot;POST&quot;,&quot;http://localhost:8008/testv/&quot;,data); </code></pre> <p>JavaScript console output:</p> <pre><code>{&quot;csrfmiddlewaretoken&quot;:&quot;WcQnuWdsGgxDlTf5r8VKypuXpVCms0ElSxzACMg9cRIkOQLGbb92EkoxEfLT2qzS&quot;,&quot;sss&quot;:&quot;sssssssss&quot;}  POST http://localhost:8008/testv/ 403 (Forbidden) </code></pre> <p>Django shell:</p> <pre><code>Forbidden (CSRF token missing or incorrect.): /testv/ </code></pre> <p>I don't want to use <code>@csrf_exempt</code>.</p>"	
51579798	Implement JavaScript's style of optional parameter in Python	python	2018-07-29 11:21:24.347000 UTC	"<h2>JavaScript style</h2>  <p>Suppose I have a function takes two objects as optional parameters input, and some of the args in the objects has default value, in JavaScript, I may implement it like this:</p>  <pre><code>function func(setting1, setting2){     arga = setting1.a || 1;     argb = setting2.b || 2;     argc = setting2.c;     ... } </code></pre>  <h2>Python implementation</h2>  <p>There's some ideas comes to my mind, but i think none of them is actually ""good"".</p>  <hr>  <p>Here's the first one:</p>  <pre><code>params = {""arga"":2, ""argb"":3} def func(argc, arga=1, argb=2):     ... func(**params) </code></pre>  <p>The question is, this type of implementation cannot support the semantic i want, that is, the setting1 and setting2 need two be separated since they serve for different sub-procedures. Also, It need to manually choose the default parameters's position carefully.</p>  <hr>  <p>Here's the second one:</p>  <pre><code>def func(setting1, setting2):     try:         arga = setting1.a     except KeyError:         arga = 1     ... </code></pre>  <p>I think it's quite ugly.</p>  <hr>  <p>Maybe this is the best one:</p>  <pre><code>def func(setting1, setting2):     arga = setting1.get(""a"") or 1     argb = setting1.get(""b"") or 2     ... </code></pre>  <hr>  <p>Is there any good way to implement this in python?</p>"	"<p>Not sure what you mean by ugly, but this is closest to what you want I think:</p>  <pre><code>def func(setting1 = None, setting2 = None):     setting1 = ""a"" if setting1 is None else setting1      setting2 = ""b"" if setting2 is None else setting2 </code></pre>  <p>Note there is no real point to this in Python, since it supports default parameters and keyed calls, so </p>  <pre><code>def func(setting1 = ""A"", setting2 = ""B""): </code></pre>  <p>called with</p>  <pre><code>func(setting2=""C"") </code></pre>  <p>will set only the second setting, and use default for the first. Of course, if the default involves a function call then you have to use your solution.</p>"
51579798	Implement JavaScript's style of optional parameter in Python	python	2018-07-29 11:21:24.347000 UTC	"<h2>JavaScript style</h2>  <p>Suppose I have a function takes two objects as optional parameters input, and some of the args in the objects has default value, in JavaScript, I may implement it like this:</p>  <pre><code>function func(setting1, setting2){     arga = setting1.a || 1;     argb = setting2.b || 2;     argc = setting2.c;     ... } </code></pre>  <h2>Python implementation</h2>  <p>There's some ideas comes to my mind, but i think none of them is actually ""good"".</p>  <hr>  <p>Here's the first one:</p>  <pre><code>params = {""arga"":2, ""argb"":3} def func(argc, arga=1, argb=2):     ... func(**params) </code></pre>  <p>The question is, this type of implementation cannot support the semantic i want, that is, the setting1 and setting2 need two be separated since they serve for different sub-procedures. Also, It need to manually choose the default parameters's position carefully.</p>  <hr>  <p>Here's the second one:</p>  <pre><code>def func(setting1, setting2):     try:         arga = setting1.a     except KeyError:         arga = 1     ... </code></pre>  <p>I think it's quite ugly.</p>  <hr>  <p>Maybe this is the best one:</p>  <pre><code>def func(setting1, setting2):     arga = setting1.get(""a"") or 1     argb = setting1.get(""b"") or 2     ... </code></pre>  <hr>  <p>Is there any good way to implement this in python?</p>"	"<p>If <code>settingN</code> is a <code>dict</code>, you can do this:</p>  <pre><code>argZ = settingN.get('z', default_value) </code></pre>  <p>So, if <code>settingN</code> doesn't have the key <code>'z'</code>, <code>default_value</code> will be returned.</p>"
51591849	scraping javascript:void(0) content using python	javascript|python|web-scraping	2018-07-30 10:23:18.457000 UTC	"<p>I am making a program, in which I am scrapping a web page and the content is hidden from the original page and use to display itself using  <code>herf = javascript:void(0)</code>  link and the text is in <code>&lt;p&gt;</code> and then <code>&lt;span&gt;</code> tags. </p>  <p>Here is my code:</p>  <pre><code>import requests, re from bs4 import BeautifulSoup  page = requests.get('https://www.naukri.com/job-listings-Python-Developer-  Cloud-Analogy-Softech-Pvt-Ltd-Noida-Sector-63-Noida-1-to-2-years-  250718003152?src=rcntSrchWithoutCount&amp;sid=15327965116011&amp;xp=1&amp;px=1&amp;qp=python%20developer&amp;srcP% 20ge=s').text soup = BeautifulSoup(page, 'html.parser') link = soup.find('div', {'class':'jDisc  viewContact'}).find_all(re.compile('p|em|span')) results = [i.text for i in link] print(results) </code></pre>  <p>and the HTML page is here:</p>  <pre><code>&lt;a href=""javascript:void(0)"" class=""mt30 dspB f14 lH20"" id=""viewCont_trg""&gt;View Contact Details&lt;/a&gt; </code></pre>  <p>After clicking on the link <strong>""view contact detail""</strong> it will show all the hidden content. Can you please help me to solve this?</p>"	"<p>The hidden content is actually fetched with a separate AJAX call:</p>  <pre><code>https://www.naukri.com/jd/contactDetails?file=250718003152 </code></pre>  <p>which returns an easily parsable JSON string:</p>  <pre><code>{   ""hiddenFields"": {     ""file"": ""250718003152"",     ""showSendQuery"": 1   },   ""fields"": {     ""Recruiter Name"": ""Malika Pathak, Himani Adhikari"",     ""Contact Company"": ""Cloud Analogy Softech Pvt Ltd"",     ""Address"": ""H-77, H Block, Sector 63, Noida, UP-201307NOIDA,Uttar Pradesh,India 201307"",     ""Email Address"": {       ""title"": ""himani.adhikari@cloudanalogy.com , malika.pathak@cloudanalogy.com"",       ""src"": """"     },     ""Website"": ""http:\/\/cloudanalogy.com\/"",     ""Telephone"": ""9319155392""   },   ""sendQueryForm"": {     ""formKey"": ""F53b54d385c47b"",     ""extensions"": [       ""doc"",       ""docx"",       ""pdf"",       ""rtf""     ],     ""max_file_size"": ""2097152"",     ""max_num_files"": ""1"",     ""fileKey"": ""Ue2777e04d3b690ecbc77607eb919c00"",     ""fileKeys"": [       ""Ue2777e04d3b690ecbc77607eb919c00""     ],     ""upload_url"": ""\/\/files.naukri.com\/0\/saveFile.php"",     ""file_url"": ""\/\/files.naukri.com\/0\/saveUrlFile.php"",     ""delete_url"": ""\/\/files.naukri.com\/0\/deleteFile.php"",     ""html"": ""    \u003Cform id=\""saQ_form\"" name=\""sendQ\"" action=\""https:\/\/my.naukri.com\/mynaukri\/sendquery.php\/SendQuery\/sendQuery\"" method=\""post\"" class=\""loginLay\""\u003E\u003Ch3 class=\""title\""\u003ESend a Query to Recruiter\u003C\/h3\u003E\u003Cdiv class=\""row\""\u003E\u003Cdiv class=\""rowL\""\u003E\u003Clabel for=\""eLogin\""\u003EEnter Email ID\u003C\/label\u003E\u003C\/div\u003E\u003Cdiv class=\""rowR\""\u003E\u003Cinput id=\""saQEmail\"" name=\""from\"" rel=\""required:1005,custom:1001\"" type=\""text\"" name=\""from\"" placeholder=\""Enter your active Email ID\""\u003E\u003Ci class=\""erLbl\"" id=\""saQEmail_err\""\u003E\u003C\/i\u003E\u003C\/div\u003E\u003C\/div\u003E\u003Cdiv class=\""row\""\u003E\u003Cdiv class=\""rowL\""\u003E\u003Clabel for=\""pLogin\""\u003EQuery\u003C\/label\u003E\u003C\/div\u003E\u003Cdiv class=\""rowR\""\u003E\u003Ctextarea placeholder=\""Query cannot exceed 500 characters\"" id=\""saQ_query\"" rel=\""required:1011\"" minlength=\""6\"" maxlength=\""500\"" name=\""query\"" onpaste=\""return false\"" oncopy=\""return false\""\u003E\u003C\/textarea\u003E\u003Ci class=\""erLbl\"" id=\""saQ_query_err\""\u003E\u003C\/i\u003E\u003C\/div\u003E\u003C\/div\u003E\u003Cdiv class=\""row upload\""\u003E\u003Cdiv class=\""rowL\""\u003E\u003Clabel for=\""eLogin\""\u003EAttach Resume \u003Cspan\u003E(optional)\u003C\/span\u003E\u003C\/label\u003E\u003C\/div\u003E\u003Cdiv class=\""rowR\""\u003E\u003Cdiv id=\""hid_container\"" style=\""display:none\""\u003E\u003C\/div\u003E\u003Cdiv id=\""saQ_uploadCont\""\u003E\u003Cdiv id=\""saQ_basicProgressBar\"" style=\""display:none\""\u003E\u003C\/div\u003E\u003Cinput name=\""F53b54d385c47b[Ue2777e04d3b690ecbc77607eb919c00]\"" id=\""saQ_upload\"" type=\""file\""\u003E\u003Cul id=\""results\"" class=\""outputCss\"" style=\""display:none\""\u003E\u003C\/ul\u003E\u003Cp class=\""supDocs\""\u003ESupported Formats: doc, docx, rtf, pdf Max file size: 2MB\u003C\/p\u003E\u003C\/div\u003E\u003Ci class=\""erLbl\"" id=\""saQ_upload_err\""\u003E\u003C\/i\u003E\u003Cp href=\""#\"" class=\""chk\""\u003E\u003Cem\u003E\u003C\/em\u003E\u003Cspan\u003ESend me jobs like this\u003C\/span\u003E\u003C\/p\u003E\u003Cp href=\""#\"" class=\""chk\""\u003E\u003Cspan\u003EI have read and understood and agree to the \u003Ca target=\""_blank\"" href=\""https:\/\/www.naukri.com\/termsconditions#g1\""\u003E\""Terms and Conditions\""\u003C\/a\u003E governing the use of naukri.com.\u003C\/span\u003E\u003C\/p\u003E\u003Cbutton type=\""submit\"" id=\""saQBtn\"" class=\""blueBtn\"" name=\""sbt\""\u003ESubmit\u003C\/button\u003E\u003C\/div\u003E\u003C\/div\u003E\u003Cinput type=\""hidden\"" value=\""250718003152\"" name=\""job_id\""\/\u003E\u003Cinput type=\""hidden\"" value=\""1\"" name=\""isSMJLT\"" id=\""isSMJLT\""\/\u003E\u003Cinput type=\""hidden\"" id=\""file_url\"" name=\""file_url\""\/\u003E\u003Cinput type=\""hidden\"" id=\""file_name\"" name=\""file_name\""\/\u003E\u003C\/form\u003E""   } } </code></pre>  <p>In other words, all you have to do is to make a separate GET request to the above URL using the ID you already have in the main URL (<code>250718003152</code> in this case), and parse the returning JSON object.</p>"
51591849	scraping javascript:void(0) content using python	javascript|python|web-scraping	2018-07-30 10:23:18.457000 UTC	"<p>I am making a program, in which I am scrapping a web page and the content is hidden from the original page and use to display itself using  <code>herf = javascript:void(0)</code>  link and the text is in <code>&lt;p&gt;</code> and then <code>&lt;span&gt;</code> tags. </p>  <p>Here is my code:</p>  <pre><code>import requests, re from bs4 import BeautifulSoup  page = requests.get('https://www.naukri.com/job-listings-Python-Developer-  Cloud-Analogy-Softech-Pvt-Ltd-Noida-Sector-63-Noida-1-to-2-years-  250718003152?src=rcntSrchWithoutCount&amp;sid=15327965116011&amp;xp=1&amp;px=1&amp;qp=python%20developer&amp;srcP% 20ge=s').text soup = BeautifulSoup(page, 'html.parser') link = soup.find('div', {'class':'jDisc  viewContact'}).find_all(re.compile('p|em|span')) results = [i.text for i in link] print(results) </code></pre>  <p>and the HTML page is here:</p>  <pre><code>&lt;a href=""javascript:void(0)"" class=""mt30 dspB f14 lH20"" id=""viewCont_trg""&gt;View Contact Details&lt;/a&gt; </code></pre>  <p>After clicking on the link <strong>""view contact detail""</strong> it will show all the hidden content. Can you please help me to solve this?</p>"	"<p>The contact details are not on the webpage when the page is loaded. On click on view contact detail the webpage makes a new request to fetch the contact details.</p>  <p>In order to find out which url the contact details are being fetched from you can open firefox or chrome and open debugger using right-click > inspect element  (or just press f12). Then go to the network tab. Click on ""view contact details"" and see what request it makes. I have checked it and the url it fetches the details is from is ""<a href=""https://www.naukri.com/jd/contactDetails?file=250718003152"" rel=""nofollow noreferrer"">https://www.naukri.com/jd/contactDetails?file=250718003152</a>"". You can get the file id which is 250718003152 from the original url ""<a href=""https://www.naukri.com/job-listings-Python-Developer-"" rel=""nofollow noreferrer"">https://www.naukri.com/job-listings-Python-Developer-</a>  Cloud-Analogy-Softech-Pvt-Ltd-Noida-Sector-63-Noida-1-to-2-years-  <strong>250718003152</strong>?src=rcntSrchWithoutCount&amp;sid=15327965116011&amp;xp=1&amp;px=1&amp;qp=python%20developer&amp;srcP% 20ge=s"".</p>  <p>So all you have to do is make a new get request to the url ""<a href=""https://www.naukri.com/jd/contactDetails?file=250718003152"" rel=""nofollow noreferrer"">https://www.naukri.com/jd/contactDetails?file=250718003152</a>"" using urllib or whatever you are using. The response will be in json. You have to parse the json and extract the desired fields.</p>"
51602473	"Python Selenium having trouble clicking <a href=""#""...> with javascript"	python-2.7|selenium-chromedriver	2018-07-30 21:23:00.983000 UTC	"<p>I have the following HTML:</p>  <pre><code>&lt;ul id=""TopMenuTabs""&gt;     &lt;li&gt;...&lt;/li&gt;     &lt;li class=""active""&gt;         &lt;a href=""#"" onclick=""formaction='topbasic';document.frmEPO.button.value='topbasic'; if( ValidateForm() ) document.frmEPO.submit(); return false;""&gt;Reports&lt;/a&gt;     &lt;/li&gt; &lt;/ul&gt; </code></pre>  <p>I'm trying to click the second button on a top menu of a site using the following code:</p>  <pre><code>driver.find_element_by_xpath(""//ul[@id='TopMenuTabs']/li[1]/a"").click().perform() </code></pre>  <p>When I run it, the url adds the ""#"" to the end so it's recognizing the click() command, but doesn't seem to actually click it or execute the javascript. I've tried using time.sleep for up to 30 seconds, to ensure it isn't just a page-loading problem, with no success. It always moves on to the next line and errors out because the page hasn't changed. Not really sure what to try next!</p>"	
51604230	How to extract url from onclick javascript using selenium : Python	javascript|python|selenium|web-scraping	2018-07-31 01:19:12.817000 UTC	"<p>from a page having code(as can be seen in inspect element and not in the source code) as:</p>  <pre><code>&lt;div id=""download_div"" class=""row"" style=""margin-left: 2%; margin-right: 2%""&gt; &lt;p id=""download_sub_text"" class=""hide-on-small-only"" style=""text-align: center;""&gt;     You could also download directly by     &lt;a onclick=""ga('send', 'event', 'link', 'click_here', 'wholesale.item');""         href=""http://example.com/f2c9bd13afd7a17af35ad30a2c593c7f4bea2dd347b4149""&gt;         clicking here!     &lt;/a&gt; </code></pre>  <p>I want to extract the href link. But the <code>driver.page_source</code> do not work as it is a part of a script, so from where do I need to extract exactly if not source code and what exactly can be the <strong>xpath</strong> here?</p>  <p>Also, if possible- This page triggers a file-download(download link being-""<a href=""http://example.com/f2c9bd13afd7a17af35ad30a2c593c7f4bea2dd347b4149"" rel=""nofollow noreferrer"">http://example.com/f2c9bd13afd7a17af35ad30a2c593c7f4bea2dd347b4149</a>"") so if this link can be captured, then that will solve my case.</p>"	"<p>First of all, to locate your link element, you use this xpath -</p>  <pre><code>//p[@id = 'download_sub_text']/a </code></pre>  <p>Then, to get the value of attribute, you use <code>get_attribute()</code> method. To get the value of the <code>href</code> attribute of your element -</p>  <pre><code>required_url = driver.find_element_by_xpath(""//p[@id = 'download_sub_text']/a"").get_attribute(""href"") print(required_url) </code></pre>  <p>Also, if you want to get the link to which it redirects to after clicking it, you can take the <code>current_url</code> after clicking the button -</p>  <pre><code>required_button = driver.find_element_by_xpath(""//p[@id = 'download_sub_text']/a"") required_button.click() required_url = driver.current_url </code></pre>"
51620561	How to minify inline javascript with Python	javascript|python|inline|minify	2018-07-31 19:18:21.920000 UTC	"<p>The answers that I get only cover .js files but I need to minify something like this:</p>  <pre><code>&lt;script&gt;     window.addEventListener('load', function (e)     {         ...     }); &lt;/script&gt; </code></pre>  <p>To this:</p>  <pre><code>&lt;script&gt;window.addEventListener('load',function(e){...});&lt;/script&gt; </code></pre>  <p>Actually I use ""htmlmin"" to minify the HTML code before I write the files with it but the inline javascripts remain with the original format.</p>  <p>Any help what to do here? Maybe a new package to replace ""htmlmin"". Thanks in advance.</p>"	"<p>Using REST API from the site <a href=""https://www.minifier.org/"" rel=""nofollow noreferrer"">https://www.minifier.org/</a>.</p>  <p>Disclaimer: The site is made by user @matthiasmullie  <a href=""https://stackoverflow.com/users/802993/matthiasmullie"">https://stackoverflow.com/users/802993/matthiasmullie</a></p>  <p>Example here:</p>  <pre><code>from bs4 import BeautifulSoup import requests import json  url = 'https://minify.minifier.org/'  data = """"""&lt;script&gt;     window.addEventListener('load', function (e)     {         i = 4;     });     &lt;/script&gt; """"""  soup = BeautifulSoup(data, 'lxml') script = soup.select_one('script') r = requests.post(url, data={""source"":script.text, ""type"" :""js""}) json_data = json.loads(r.text) script.clear() script.append(json_data['minified'])  print(script) </code></pre>  <p>It prints:</p>  <pre><code>&lt;script&gt;window.addEventListener('load',function(e) {i=4})&lt;/script&gt; </code></pre>"
51662185	"Posting Variable Values from Javascript and Reading them with Python (UV4L, WebRTC, Raspberrypi3)"	javascript|python|raspberry-pi|raspberry-pi3|uv4l	2018-08-02 21:07:49.397000 UTC	"<p>I am working on a project where we plan on controlling a rover through a web-based application. I am using UV4L and its modules on the Raspberry Pi. I have the streaming side set up well, but now I am trying to send data back to the Pi.</p>  <p>I have taken this <a href=""http://scottlobdell.me/2015/09/creating-touch-controlled-joystick-html5/"" rel=""nofollow noreferrer"">joystick</a> and put into the demo webpage.</p>  <p>What I want to do is take the X and Y value that this joystick produces and send it back to the Pi and have it print the values. The way I have been attempting to do this is to turn the X and Y values into a JSON and read the JSON with Python.  I am relatively new to programming, and have been thrown into the proverbial deep end. </p>  <p>I was trying to use an example I found in another <a href=""https://stackoverflow.com/questions/24468459/sending-a-json-to-server-and-retrieving-a-json-in-return-without-jquery"">stackoverflow question</a> this is what I produced butchering the code:</p>  <pre class=""lang-js prettyprint-override""><code>var xhr = new XMLHttpRequest(); var url= “webappurl”; xhr.open(“POST”, url, true); xhr.setRequestHeader(“Content-Type”, “json”);  xhr.onload= function () {     if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {         var json =JSON.parse(xhr.responseText);         console.log(json.x +”, “ + json.y);     } };  var data = JSON.stringify({x, y}); xhr.send(data); </code></pre>  <p>Then I did this on the Python Side:</p>  <pre><code>import requests import simplejson r = requests.get('webappurl') c = r.content j = simplejson.loads(c) print(j) </code></pre>  <p>The problem I have been having is that everything I find online has a different recommendation on how to do this and I haven't been able to find something in other people's projects I could utilise for our purposes or have the knowledge to adapt, and I need to keep it as direct/simple as possible. </p>  <p>I am under the impression that the joystick may already be built with functions/variables that can be used to trigger or post. </p>  <p>Any recommendations for the best way to go about this or the correct code to do this would be appreciated - I also have the WebRTC data channels available but I don't know if I need to use them to do this. </p>  <p>I also wondered if there was means to send the variable values over the websocket and use python to parse the websocket.</p>  <p>Thank you for your time,</p>"	"<p>Since you are developing a web application, it seems natural to stay with WebRTC. UV4L supports two-way audio, video and data channels. <a href=""https://www.linux-projects.org/uv4l/tutorials/webrtc-data-channels/"" rel=""nofollow noreferrer"">Here</a> is how data channels work on the UV4L side.</p>  <p>Furthermore, the built-in WebRTC demo page that you can fetch, as an example, from the <em>/stream/webrtc</em> URL on the uv4l server certainly embeds some javascript code using data channels from the client side. You can find some code in this other demo web app <a href=""https://www.linux-projects.org/uv4l/tutorials/custom-webapp-with-face-detection/"" rel=""nofollow noreferrer"">here</a> as well.</p>"
51668137	How to get the href value when it is in JavaScript using Python + Selenium	python|selenium	2018-08-03 08:14:02.337000 UTC	"<p><a href=""https://i.stack.imgur.com/1bhB1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1bhB1.png"" alt=""enter image description here""></a></p>  <p>In the above HTML, I would like to get the Value <code>""INC3000...""</code>. But if I use <code>get_attribute()</code> the value returned is None as it is rendered in JavaScript during runtime.</p>  <p>How can I get the value of <code>""href=javascript:"" (INC30000004609 (New))</code>?</p>"	"<p>You need to use explicit wait for the result ready. JS rendered element cannot be obtained without waiting. Neither simple requests, nor selenium without waiting.</p>  <pre><code>wait = WebDriverWait(driver, 10) element = wait.until(element_has_text(By.XPATH, '//a[contains(@class, ""btn"")]'))     class element_has_text(object):      def __init__(self, locator, css_class):         self.locator = locator      def __call__(self, driver):         element = driver.find_element(*self.locator)   # Finding the referenced element         if element.text:             return element         else:             return False    </code></pre>"
51714787	Is it possible to combine a JavaScript app with Python in a shared hosting environment?	javascript|python	2018-08-06 19:56:27.970000 UTC	"<p>I am relatively new to most web development topics, however I have been coding with SAS (stats software) and SQL for a long time, so the coding itself is relatively easy to figure out however the where do I write the actual code pieces and have them communicate with each other is what trips me up completely.</p>  <p>I want to create a website using shared hosting and I want to write it with JavaScript and Python. I want to build an app with an image uploader written with JavaScript but then do some image analysis with Python and then have the data visualization with both JavaScript D3 and Python. I prefer SQL databases as I know SQL and that is usually included with most shared hosting plans anyway.</p>  <p>I am not expecting detailed answers but just pointers what I need to look into to make this possible and if I am even approaching the goal from the right perspective or if this is a much bigger undertaking for a newbie than I assume. The whole web server aspect of things is very confusing and I have written small projects with JavaScript and Node.js without ever realizing that Node.js is basically a webserver.</p>  <p>I am hoping I can just buy a host service, buy my domain and then just upload all the files (index, app.js and all that) into the cpanel?</p>"	
51757506	How to get what's inside a Javascript <script> from a webpage using Selenium on Python	python|python-3.x|selenium	2018-08-09 01:02:39.493000 UTC	"<p>I want to get some data from the ""BATTLE_SERVER_DATA"" in this piece of code off a webpage.</p>  <pre><code>&lt;hovercard-details&gt;&lt;/hovercard-details&gt;&lt;script charset=""utf-8"" id=""BATTLE_SERVER_DATA""&gt; var BATTLE_TEXTS = $j.extend({}, {""consume_food"":""Consume Food"",""cosume_energy_bar_text"":""Consume Energy Bar"",""cosume_winter_treat_text"":""Consume Ice Creams"",""buy_health_kit"":""Get more energy"",""event_boss_error_1"":""Nice try, but you cannot kill your enemies with the Silver Stake!"",""event_boss_error_2"":""You must use the Silver Stake to defeat Dracula!"",""won_zone"":""won the previous battle"",""division"":""Division"",""the_airforce"":""The Airforce"",""of"":""of"",""won_division"":""won this battle"",""won_battle"":""won this campaign"",""yourHealth"":""Your Energy:"",""opponentHealth"":""Opponent Energy:"",""defenderHero"":""Our battle hero"",""attackerHero"":""Enemy Battle Hero"",""processing_battle"":""Processing battle results"",""military_rank"":""Military rank:"",""get_ready"":""get ready"",""duel"":""duel"",""fight"":""Fight"",""ticket_info_msg"":""No travelling costs will be deducted, instead a Q%%1%% ticket will be used."",""notEnoughMoney"":""You don't have enough citizenship currency (%%1%%)."",""fightAgainstBrothersTitle"":"""",""fightAgainstBrothersBody"":""""}),     SERVER_DATA = $j.extend(SERVER_DATA, {""initialLoad"":true,""battleId"":138240,""countryId"":165,""mySideCountryId"":165,""invaderId"":165,""defenderId"":1,""leftBattleId"":1,""rightBattleId"":165,""realInvaderId"":165,""realDefenderId"":1,""zoneId"":12,""currentRoundNumber"":12,""battleFinished"":0,""isResistance"":true,""isCivilWar"":false,""mustInvert"":false,""spectatorOnly"":true,""onAirforceBattlefield"":true,""battleZoneSituation"":{""1"":0,""2"":0,""3"":0,""4"":0,""11"":0},""points"":{""defender"":0,""attacker"":50},""battle_critical_at"":new Date('Wed, 08 Aug 2018 17:30:02 -0700'),""battle_start_at"":new Date('Wed, 08 Aug 2018 15:30:02 -0700'),""server_time"":new Date('Wed, 08 Aug 2018 15:35:31 -0700'),""zoneElapsedTime"":""0:5:29"",""battle_close_to_finish"":0,""citizenId"":7662082,""militaryUnitId"":162,""regimentId"":316,""division"":11,""currentDivision"":11,""weaponSkinId"":0,""opponentSkinId"":0,""canSwitchDivisions"":true,""health"":595,""level"":56,""currentWeaponId"":-1,""hasBazookaAmmo"":-1,""showTravelPopup"":true,""fightAgainstBrothers"":false,""travelRequired"":true,""countries"":{""167"":""Albania"",""27"":""Argentina"",""169"":""Armenia"",""50"":""Australia"",""33"":""Austria"",""83"":""Belarus"",""32"":""Belgium"",""76"":""Bolivia"",""69"":""Bosnia-Herzegovina"",""9"":""Brazil"",""42"":""Bulgaria"",""23"":""Canada"",""64"":""Chile"",""14"":""China"",""78"":""Colombia"",""63"":""Croatia"",""171"":""Cuba"",""82"":""Cyprus"",""34"":""Czech-Republic"",""55"":""Denmark"",""165"":""Egypt"",""70"":""Estonia"",""39"":""Finland"",""11"":""France"",""168"":""Georgia"",""12"":""Germany"",""44"":""Greece"",""13"":""Hungary"",""48"":""India"",""49"":""Indonesia"",""56"":""Iran"",""54"":""Ireland"",""58"":""Israel"",""10"":""Italy"",""45"":""Japan"",""71"":""Latvia"",""72"":""Lithuania"",""66"":""Malaysia"",""26"":""Mexico"",""80"":""Montenegro"",""31"":""Netherlands"",""84"":""New-Zealand"",""170"":""Nigeria"",""73"":""North-Korea"",""37"":""Norway"",""57"":""Pakistan"",""75"":""Paraguay"",""77"":""Peru"",""67"":""Philippines"",""35"":""Poland"",""53"":""Portugal"",""81"":""Republic-of-China-Taiwan"",""79"":""Republic-of-Macedonia-FYROM"",""52"":""Republic-of-Moldova"",""1"":""Romania"",""41"":""Russia"",""164"":""Saudi-Arabia"",""65"":""Serbia"",""68"":""Singapore"",""36"":""Slovakia"",""61"":""Slovenia"",""51"":""South-Africa"",""47"":""South-Korea"",""15"":""Spain"",""38"":""Sweden"",""30"":""Switzerland"",""59"":""Thailand"",""43"":""Turkey"",""40"":""Ukraine"",""166"":""United-Arab-Emirates"",""29"":""United-Kingdom"",""74"":""Uruguay"",""24"":""USA"",""28"":""Venezuela""},""regionsInvolved"":[],""tickets"":[],""rocket_damage"":750000,""bomb_damage"":5000000,""specialWeapons"":[],""canUseCatchupBooster"":true,""regimentBoosters"":[],""regimentBooster"":false,""eventDamageBoosters"":[],""eventDamageBooster"":false,""boosters"":{""active"":[],""inactive"":{""speedBoosters"":{""100_speedBoosters_3_600"":{""name"":""x9 Damage Accelerator"",""id"":""100_speedBoosters_3_600"",""industryId"":100,""quality"":3,""amount"":1,""activable"":1,""deactivable"":0,""activableFromInventory"":1,""activableFromBattlefield"":1,""activationData"":{""tooltip"":""x9 Damage Accelerator"",""url"":""/en/military/fight-activateBooster"",""params"":{""type"":""speed"",""quality"":3,""duration"":600}},""active"":0,""icon"":0,""tooltip"":""x9 Damage Accelerator for 10 minutes"",""token"":"""",""attributes"":{""damageAcceleration"":{""id"":""damageAcceleration"",""name"":""Hit 9 times faster"",""type"":""use"",""value"":""x9""},""duration"":{""id"":""duration"",""name"":""Duration"",""type"":""minutes"",""value"":600}},""isRaw"":0,""isPartial"":0,""type"":""speedBoosters"",""duration"":600,""isBooster"":1,""isPackBooster"":0,""canActivateBooster"":1},""100_speedBoosters_2_600"":{""name"":""x5 Damage Accelerator"",""id"":""100_speedBoosters_2_600"",""industryId"":100,""quality"":2,""amount"":106,""activable"":1,""deactivable"":0,""activableFromInventory"":1,""activableFromBattlefield"":1,""activationData"":{""tooltip"":""x5 Damage Accelerator"",""url"":""/en/military/fight-activateBooster"",""params"":{""type"":""speed"",""quality"":2,""duration"":600}},""active"":0,""icon"":0,""tooltip"":""x5 Damage Accelerator for 10 minutes"",""token"":"""",""attributes"":{""damageAcceleration"":{""id"":""damageAcceleration"",""name"":""Hit 5 times faster"",""type"":""use"",""value"":""x5""},""duration"":{""id"":""duration"",""name"":""Duration"",""type"":""minutes"",""value"":600}},""isRaw"":0,""isPartial"":0,""type"":""speedBoosters"",""duration"":600,""isBooster"":1,""isPackBooster"":0,""canActivateBooster"":1},""100_speedBoosters_1_300"":{""name"":""x2 Damage Accelerator"",""id"":""100_speedBoosters_1_300"",""industryId"":100,""quality"":1,""amount"":176,""activable"":1,""deactivable"":0,""activableFromInventory"":1,""activableFromBattlefield"":1,""activationData"":{""tooltip"":""x2 Damage Accelerator"",""url"":""/en/military/fight-activateBooster"",""params"":{""type"":""speed"",""quality"":1,""duration"":300}},""active"":0,""icon"":0,""tooltip"":""x2 Damage Accelerator for 5 minutes"",""token"":"""",""attributes"":{""damageAcceleration"":{""id"":""damageAcceleration"",""name"":""Hit 2 times faster"",""type"":""use"",""value"":""x2""},""duration"":{""id"":""duration"",""name"":""Duration"",""type"":""minutes"",""value"":300}},""isRaw"":0,""isPartial"":0,""type"":""speedBoosters"",""duration"":300,""isBooster"":1,""isPackBooster"":0,""canActivateBooster"":1}},""prestigePointsBoosters"":{""100_prestigePointsBoosters_1_301"":{""name"":""+1 Prestige Points Booster"",""id"":""100_prestigePointsBoosters_1_301"",""industryId"":100,""quality"":1,""amount"":2,""activable"":1,""deactivable"":0,""activableFromInventory"":1,""activableFromBattlefield"":1,""activationData"":{""tooltip"":""Your Prestige Points Booster availability"",""url"":""/en/military/fight-activateBooster"",""params"":{""type"":""prestige_points"",""quality"":1,""duration"":301}},""active"":0,""icon"":0,""tooltip"":""Increase your prestige by 1 for 5.0166666666667 minutes"",""token"":"""",""attributes"":{""prestigeBoost"":{""id"":""prestigeBoost"",""name"":""+1 Prestige Points"",""type"":""use"",""value"":1},""duration"":{""id"":""duration"",""name"":""Duration"",""type"":""minutes"",""value"":301}},""isRaw"":0,""isPartial"":0,""type"":""prestigePointsBoosters"",""duration"":301,""isBooster"":1,""isPackBooster"":0,""canActivateBooster"":1}}},""canUseCatchupBooster"":true,""events"":[]},""has_jid"":1,""pvpKillCount"":0,""pvpShowLock"":false,""tutorial"":0,""mission1Completed"":true,""mission2Completed"":true,""mission3Completed"":true,""hasActiveObjective"":false,""hasDestroyedObjective"":false,""canDeployObjective"":false,""aoe_effects"":[],""battle_effects"":{""valentinesDay"":{""is_active"":0}},""aoeMyDivision"":true,""aoeOtherDivisionData"":[],""fightersData"":[],""historyStats"":[],""culture"":""en"",""csrfToken"":""9f030d06b52292457b7a1a1b1907d043"",""isLoggedIn"":true,""ERPK_ECONOMY_HOST"":""economy.erepublik.com"",""ERPK_MAIN_HOST"":""www.erepublik.com"",""extras"":""Ice Creams"",""texts"":{""consume_food"":""Consume Food"",""cosume_energy_bar_text"":""Consume Energy Bar"",""cosume_winter_treat_text"":""Consume Ice Creams"",""buy_health_kit"":""Get more energy"",""event_boss_error_1"":""Nice try, but you cannot kill your enemies with the Silver Stake!"",""event_boss_error_2"":""You must use the Silver Stake to defeat Dracula!"",""won_zone"":""won the previous battle"",""division"":""Division"",""the_airforce"":""The Airforce"",""of"":""of"",""won_division"":""won this battle"",""won_battle"":""won this campaign"",""yourHealth"":""Your Energy:"",""opponentHealth"":""Opponent Energy:"",""defenderHero"":""Our battle hero"",""attackerHero"":""Enemy Battle Hero"",""processing_battle"":""Processing battle results"",""military_rank"":""Military rank:"",""get_ready"":""get ready"",""duel"":""duel"",""fight"":""Fight"",""ticket_info_msg"":""No travelling costs will be deducted, instead a Q%%1%% ticket will be used."",""notEnoughMoney"":""You don't have enough citizenship currency (%%1%%)."",""fightAgainstBrothersTitle"":"""",""fightAgainstBrothersBody"":""""}}),     regionsInvolved = [],     currentWeaponId = -1,     hasBazookaAmmo = -1,     tickets = [],     ticket_info_msg = BATTLE_TEXTS['ticket_info_msg'],     notEnoughMoney = BATTLE_TEXTS['notEnoughMoney'],     erepublik = erepublik || {},     currentDivision = SERVER_DATA.onAirforceBattlefield ? 11 : SERVER_DATA.division,     allDivisions = [1, 2, 3, 4, 11]; </code></pre>  <p></p>  <p>The methodology I've been trying is the following:</p>  <pre><code>def checkbattle():     browser.get(BattleLink)     checkBattleData = browser.execute_script('return BATTLE_SERVER_DATA;')     print(checkBattleData) </code></pre>  <p>It doesn't work as I need it to and returns </p>  <pre><code>&lt;selenium.webdriver.remote.webelement.WebElement (session=""fb78e0c364bfe0b31fb94aa701298789"", element=""0.7451343445847121-1"")&gt; </code></pre>  <p>My main goal is to retrieve the data present in there, for example I might like to find whether or not ""initialLoad"" in SERVER_DATA inside BATTLE_SERVER_DATA is true or not. What's the best way to achieve this?</p>"	"<p>To clarify things... <code>browser.execute_script()</code> is the way you can execute Javascript code through Selenium. So the <code>return BATTLE_SERVER_DATA;</code> code you are executing is basically returning the value of a variable, <code>BATTLE_SERVER_DATA</code>, which from the HTML you've included is null/empty. The only reference I see to <code>BATTLE_SERVER_DATA</code> in the HTML you provided is that it's the ID of a <code>SCRIPT</code> tag so from that I'm assuming you want to get the code/script contained inside of that <code>SCRIPT</code> tag. If that's what you are trying to do, you can use Selenium to get the tag and then pull the innerHTML of that element to get the text/script inside.</p>  <pre><code>def checkbattle():     browser.get(BattleLink)     checkBattleData = browser.find_element_by_id('BATTLE_SERVER_DATA').get_attribute('innerHTML')     print(checkBattleData) </code></pre>  <p>From there you can parse out the pieces that you want.</p>"
51777725	How to get JavaScript variables from a script tag using Python and Beautifulsoup	python|selenium|web-scraping|beautifulsoup	2018-08-10 01:31:07.893000 UTC	"<p>I want to return the ""id"" value from the variable meta using beautifulsoup and python. This possible? Additionally, I don't know how to find the certain 'script' tag that contains the meta variable because it does not have a unique identifier, as well as many other 'script' tags on the site. I'm also using selenium as well, so I can understand any answers with that.</p>  <pre><code>&lt;script&gt;     var meta = ""variants"":[{""id"":12443604615241,""price"":14000},      {""id"":12443604648009,""price"":14000}] &lt;/script&gt; </code></pre>"	"<p>You can use builtin <code>re</code> and <code>json</code> module for extracting Javascript variables:</p>  <pre><code>from bs4 import BeautifulSoup import re import json from pprint import pprint  data = ''' &lt;html&gt; &lt;body&gt;  &lt;script&gt;     var meta = ""variants"":[{""id"":12443604615241,""price"":14000},     {""id"":12443604648009,""price"":14000}] &lt;/script&gt;  &lt;/body&gt; '''  soup = BeautifulSoup(data, 'lxml') json_string = re.search(r'meta\s*=\s*(.*?}])\s*\n', str(soup.find('script')), flags=re.DOTALL)  json_data = json.loads('{' + json_string[1] + '}')  pprint(json_data) </code></pre>  <p>This prints:</p>  <pre><code>{'variants': [{'id': 12443604615241, 'price': 14000},               {'id': 12443604648009, 'price': 14000}]} </code></pre>"
51777725	How to get JavaScript variables from a script tag using Python and Beautifulsoup	python|selenium|web-scraping|beautifulsoup	2018-08-10 01:31:07.893000 UTC	"<p>I want to return the ""id"" value from the variable meta using beautifulsoup and python. This possible? Additionally, I don't know how to find the certain 'script' tag that contains the meta variable because it does not have a unique identifier, as well as many other 'script' tags on the site. I'm also using selenium as well, so I can understand any answers with that.</p>  <pre><code>&lt;script&gt;     var meta = ""variants"":[{""id"":12443604615241,""price"":14000},      {""id"":12443604648009,""price"":14000}] &lt;/script&gt; </code></pre>"	"<p>If you are using selenium there's no need to parse the html to get the js variable, just use selenum <code>webdriver.execute_script()</code> to get it to python:</p>  <pre><code>from selenium import webdriver  driver = webdriver.Firefox() driver.get('https://whatever.com/') meta = driver.execute_script('return meta') </code></pre>  <p>And thats it, meta now holds the js variable, and it maintains its type</p>"
51812634	With Python and Flask. I am trying to have my flash message disappear after a few seconds using javascript	javascript|python|flask	2018-08-12 20:35:10.153000 UTC	"<p>Below is my flash messages using Jinja2. {{ message }} is where I want to have disappear after a few seconds. </p>  <pre><code>&lt;div class='messages' id='messages'&gt; {% with messages = get_flashed_messages() %}     {% if messages %}         {% for message in messages %}             &lt;li class='messages'&gt; {{ message }} &lt;/li&gt;         {% endfor %}     {% endif %} {% endwith %} &lt;/div&gt;  </code></pre>  <p>This is my javascript. I am new to using javascript so I might not be properly using it. </p>  <pre><code>message = document.getElementsByClassName('li.messages')  setTimeout(function(){     $('li.messages').fadeOut();}, 5000); </code></pre>"	
51813334	How to scrape data from a table where the html is rendered by JavaScript? (Ideally in Python but open to other methods)	javascript|python|html|selenium|web-scraping	2018-08-12 22:24:47.757000 UTC	"<p>I've been looking for a solution to scrape data from a table where the html dynamically changes as you scroll through the table. The html will only show the data that is actually displayed on screen in the browser. </p>  <p>What I have done so far is use Selenium to deal with the rendering of the html code. I have thought about trying to scroll through the table and collect the data in increments but 1) I cannot seem to actually scroll through the table using selenium as class names have spaces 2) I feel there must be a better way to grab all the data in one go.</p>  <p>Edit: This is not a duplicate question as suggested in the comments. I have no problem obtained html code rendered by JavaScript. But the JavaScript for the table I am referring to will only be executed if it needs to be i.e. if the table is scrolled and hence needs to be displayed on screen. What this means if I scroll through the table, the html code for the newly displayed rows will appear but the code for the previously displayed rows will disappear. </p>  <p>Any help would be much appreciated.</p>"	
51815038	Pass list of json to javascript in jinja template flask (python)	javascript|python|list|flask|jinja2	2018-08-13 04:01:58.137000 UTC	"<p>I have a list of dictionary. How can I pass this list to the javascript function using this list?</p>  <pre><code>list_of_keys = [] list_of_connections = []  @app.route(""/"", methods=('GET', 'POST')) def hello():     form = SignupForm()     val = False     if request.method == 'POST' and form.validate_on_submit():                #print(UPLOADS_PATH)          #print(""sakshi"")          adlsgraph(str(form.adlsname1.data),str(form.adlsname2.data))          print(list_of_keys)          print(list_of_connections)          lis1 = {""list_of_keys"":list_of_keys,           ""list_of_connections"":list_of_connections}          lis=json.dumps(lis1)          print(lis)          return redirect(url_for('.hello', lis=list_of_keys, _anchor=""services""))      return render_template('index.html', form=form, val=val, lis=list_of_keys) </code></pre>  <p>In flask template,     <code>{{ lis|tojson|safe }}</code></p>  <p>Output shows the empty list -</p>  <pre><code>""\""{}\"""" </code></pre>"	"<p>In the view function <code>hello</code> you did not do anything to <code>list_of_keys</code>, that's why it's an empty list in template.</p>"
51827089	How do I pass Python function calculated values to javascript	javascript|python|flask	2018-08-13 16:49:52.917000 UTC	"<p>I am working on a webapp which would take a question from the user from an HTML form. Extract the date from the string and plot a graph for the date using JavaScript. The String to date conversion is done via the dateutil library of Python.</p>  <p>E.g. ""what are my sales for 4th of july"", the Python function will return <code>07-04-2018</code> as the date which I will then use.</p>  <p>The problem is now passing this date as a variable to the external JavaScript file that will be doing the plotting. Is there any way I can call my Python function based on the string in the HTML form, get the date and pass it to the JS to plot the graph?</p>  <p>At the moment I am not using JS and just calling the Python function from html which launches a a new webpage after processing the date string :</p>  <pre><code>&lt;form class=""has-text-centered"" style=""width:60%;"" action=""{{url_for('intentHandler')}}"" method=""post""&gt;  </code></pre>  <p>The Python function QuestionHandler is defined as below :</p>  <pre><code>def QuestionHandler(question):     date = dateConverter(question)     return render_template(""graph.html"", date = date) </code></pre>  <p>To produce the graph on the same webpage after the question has been submitted, It was recommended that I use JS. So after fiddling around with it, right now the HTML looks like this :</p>  <pre><code>&lt;form action="""" method="""" onsubmit=""myFunction()"" action=""{{url_for('intentHandler')}}"" method=""post""&gt;      &lt;input type=""search"" placeholder=""How can i help you ?""&gt; &lt;/form&gt;  &lt;div class=""buttonR""&gt;     &lt;button id=""searchButton"" onclick=""myFunction()""&gt;Search&lt;/button&gt; &lt;/div&gt;`    </code></pre>  <p>The external JS file contains the following functions :</p>  <pre><code>function myFunction(){     var x = document.getElementById(""latest"");     if (x.style.display === ""block"") {         x.style.display = ""none"";     } else {         x.style.display = ""none"";     }      $(loadLineGraphVizContainer); }   function loadLineGraphVizContainer(){     var placeholderDiv = document.getElementById(""tableauIFrame"");     var url = &lt;Graphics Library URL&gt;;     var options = {         hideTabs: true,         showVizHome: false,         width: ""950px"",         height: ""430px"",         ""Date"": ""06/01/2016"",          ""Measure Name"": ""Sales""     };      viz = new tableau.Viz(placeholderDiv, url, options);   } </code></pre>  <p>I would like the date variable of the JS to be generated by the QuestionHandler function and then that value to be used by the JS file to plot my graph in the same HTML page.</p>  <p>Any suggestions, how we can go about this task?</p>"	
51849112	General Flask: When to use javascript vs using POST/GET and a python defined function	javascript|python|html|flask	2018-08-14 20:14:24.330000 UTC	"<p>As the question asks,</p>  <p>when should one resort to javascript vs making get/post calls when trying to manipulate or change page info?</p>  <p>I understand get/post calls the server and javascript doesn't, but I don't truly understand the significance of this. Are there performance issues associated with significant server calls?</p>  <p>Any general rules of thumb to keep in mind?</p>"	"<p>If you want to manipulate the page info after it has been rendered you should generally use JS and not use Flask, for at least two reasons;</p>  <ul> <li>JS is executed on the client side and is therefore faster.</li> <li>JS does not need to re-render the page, after a server method call, so you do not get a flicker of a refresh, and ping latency.</li> <li>arguably your code is probably easier to maintain without the need of passing data back and forth between client and server (but maybe not)</li> <li>for high volume users you avoid troubling your server with many, many requests upon updates.</li> </ul>  <p>If the updates are generally rare and complicated code for which python is more suitable then a route may be acceptable.</p>  <p>Personally I use both and combined. I use JS to call Flask API routes so then my main rendered page can access JSON data that is returned from Flask API in the background. This is common technique and you should consider researching Flask API AJAX query. Lots of tutorials on that one.</p>"
51879956	Slow regex with python and javascript but fast to fail in go and php	javascript|python|regex|go	2018-08-16 14:53:42.140000 UTC	"<p>I wrote a regex to parse PostgreSQL errors to try and show to the user which field had duplicated data. The regex is this one:</p>  <pre><code>^DETAIL:.[^\(]+.(.[^\)]+).[^\(]+.(.[^\)]+). already exists </code></pre>  <p>It will be pretty fast if you run it against the right message like this one (<a href=""https://regex101.com/r/GZuREV/1"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/1</a>):</p>  <pre><code>ERROR:  duplicate key value violates unique constraint ""uq_content_block_internal_name_store_id"" DETAIL:  Key (lower(internal_name::text), store_id)=(some content block-32067683, 0c6d20a7-d843-44f3-af9c-4a2cf2a47e4c) already exists. </code></pre>  <p>But if PostgreSQL emits another message like the following one, it will take python about 30 seconds in my machine to answer (<a href=""https://regex101.com/r/GZuREV/2"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/2</a>).</p>  <pre><code>ERROR:  null value in column ""active"" violates not-null constraint DETAIL:  Failing row contains (2018-08-16 14:23:52.214591+00, 2018-08-16 14:23:52.214591+00, null, 6f6d1bc9-c47e-46f8-b220-dae49bd58090, bf24d26e-4871-4335-9f18-83c5a52f1b3a, Some Product-a1c03dde-2de9-401c-92d5-5c1500908984, {""de_DE"": ""Fugit tempore voluptas quos est vitae."", ""en_GB"": ""Qu..., {""de_DE"": ""Fuga reprehenderit nobis reprehenderit natus magni es..., {""de_DE"": ""Fuga provident dolorum. Corrupti sunt in tempore quae..., my-product-53077578, SKU-53075778, 600, 4300dc25-04e2-4193-94c0-8ee97b636739, 52553d24-6d1c-4ce6-89f9-4ad765599040, null, 38089c3c-423f-430c-b211-ab7a57dbcc13, 7d7dc30e-b06b-48b7-b674-26d4f705583b, null, {}, 0, null, 9980, 100, 1, 5). </code></pre>  <p>If go to the regex101 link you can see that if you toggle to different languages like php or go, they all return quite fast saying that no match was found but if you choose python or javascript you will get a timeout.</p>  <p>My quick dirty fix was something like this:</p>  <pre><code>match = 'already exists' in error_message and compiled_regex.search(error_message) </code></pre>  <p>What do you think that could be causing that? Could it be the greedy operators to consume until I reach my desired data?</p>  <p>Update 1</p>  <p>Using re.IGNORECASE in python, makes it around 9 seconds slower as it spends too much time lowercasing something.</p>  <p>With ignorecase</p>  <p><a href=""https://i.stack.imgur.com/Stqt4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Stqt4.png"" alt=""With ignorecase""></a></p>  <p>Without ignorecase</p>  <p><a href=""https://i.stack.imgur.com/elaHI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/elaHI.png"" alt=""Without ignorecase""></a></p>  <p><strong>Update 2</strong></p>  <p>Playing around I saw that to make it work and fail a simple change will break</p>  <pre><code>^DETAIL:.[^\(]+?\((.[^\)]+?).[^\(]+?.(.[^\)]+?). already exists                             ^ just changing this to \) make it stop timing out ^DETAIL:.[^\(]+?\((.[^\)]+?)\)[^\(]+?.(.[^\)]+?). already exists </code></pre>"	<p>This is a regex monster :)</p>  <p>Why not split the 2 regexes?</p>  <ol> <li>Check if <code>already exists</code> is a match (very quick)</li> <li>extract the data you want to display with your existing regex <code>^DET.[^\(]+.(.[^\)]+).[^\(]+.(.[^\)]+)</code></li> </ol>  <p>That should speed up your code by a lot. (You can even shorten DETAIL as I did)</p>
51879956	Slow regex with python and javascript but fast to fail in go and php	javascript|python|regex|go	2018-08-16 14:53:42.140000 UTC	"<p>I wrote a regex to parse PostgreSQL errors to try and show to the user which field had duplicated data. The regex is this one:</p>  <pre><code>^DETAIL:.[^\(]+.(.[^\)]+).[^\(]+.(.[^\)]+). already exists </code></pre>  <p>It will be pretty fast if you run it against the right message like this one (<a href=""https://regex101.com/r/GZuREV/1"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/1</a>):</p>  <pre><code>ERROR:  duplicate key value violates unique constraint ""uq_content_block_internal_name_store_id"" DETAIL:  Key (lower(internal_name::text), store_id)=(some content block-32067683, 0c6d20a7-d843-44f3-af9c-4a2cf2a47e4c) already exists. </code></pre>  <p>But if PostgreSQL emits another message like the following one, it will take python about 30 seconds in my machine to answer (<a href=""https://regex101.com/r/GZuREV/2"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/2</a>).</p>  <pre><code>ERROR:  null value in column ""active"" violates not-null constraint DETAIL:  Failing row contains (2018-08-16 14:23:52.214591+00, 2018-08-16 14:23:52.214591+00, null, 6f6d1bc9-c47e-46f8-b220-dae49bd58090, bf24d26e-4871-4335-9f18-83c5a52f1b3a, Some Product-a1c03dde-2de9-401c-92d5-5c1500908984, {""de_DE"": ""Fugit tempore voluptas quos est vitae."", ""en_GB"": ""Qu..., {""de_DE"": ""Fuga reprehenderit nobis reprehenderit natus magni es..., {""de_DE"": ""Fuga provident dolorum. Corrupti sunt in tempore quae..., my-product-53077578, SKU-53075778, 600, 4300dc25-04e2-4193-94c0-8ee97b636739, 52553d24-6d1c-4ce6-89f9-4ad765599040, null, 38089c3c-423f-430c-b211-ab7a57dbcc13, 7d7dc30e-b06b-48b7-b674-26d4f705583b, null, {}, 0, null, 9980, 100, 1, 5). </code></pre>  <p>If go to the regex101 link you can see that if you toggle to different languages like php or go, they all return quite fast saying that no match was found but if you choose python or javascript you will get a timeout.</p>  <p>My quick dirty fix was something like this:</p>  <pre><code>match = 'already exists' in error_message and compiled_regex.search(error_message) </code></pre>  <p>What do you think that could be causing that? Could it be the greedy operators to consume until I reach my desired data?</p>  <p>Update 1</p>  <p>Using re.IGNORECASE in python, makes it around 9 seconds slower as it spends too much time lowercasing something.</p>  <p>With ignorecase</p>  <p><a href=""https://i.stack.imgur.com/Stqt4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Stqt4.png"" alt=""With ignorecase""></a></p>  <p>Without ignorecase</p>  <p><a href=""https://i.stack.imgur.com/elaHI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/elaHI.png"" alt=""Without ignorecase""></a></p>  <p><strong>Update 2</strong></p>  <p>Playing around I saw that to make it work and fail a simple change will break</p>  <pre><code>^DETAIL:.[^\(]+?\((.[^\)]+?).[^\(]+?.(.[^\)]+?). already exists                             ^ just changing this to \) make it stop timing out ^DETAIL:.[^\(]+?\((.[^\)]+?)\)[^\(]+?.(.[^\)]+?). already exists </code></pre>"	"<p><strong>TL;DR:</strong> Use this:</p>  <p><code>^DETAIL:\s*+Key[^\(]++\((.+)\)[^\(]+\(([^\)]+)\) already exists</code></p>  <p>See <a href=""https://regex101.com/r/F9VI4c/2/"" rel=""nofollow noreferrer"">matching example</a> and <a href=""https://regex101.com/r/B4VFJP/2/"" rel=""nofollow noreferrer"">non-matching one</a></p>  <p><strong>Explained:</strong></p>  <p>First of all, the original regexp does not seem to match the whole key group, you stopped at <code>lower(internal_name::text</code>, leaving out some columns of the composite key and also an unbalanced parenthesis. If you modify it like this it should work capturing the composite key. If that is not supposed to do so, just let me know:</p>  <p><code>^DETAIL:.[^\(]+.(.+)\)[^\(]+.(.[^\)]+). already exists</code></p>  <p>Just by changing this, the regex is 'runnable', but still quite slow. </p>  <p>One of he main reasons is this <code>[^\(]+</code>. It first matches up to <code>DETAIL:  Failing row contains(space)</code> and follows on with the rest of the regex. It will not match, so It backtracks to one less character, up to <code>DETAIL:  Failing row contains</code> and goes on with the rest of the regexp. It will not match, so will go back to <code>DETAIL:  Failing row contain</code>... etc.</p>  <p>One way to avoid this is use a possessive quantifier. That means that once you fetch something, you cannot go back. So using this <code>[^\(]++</code> instead of this <code>[^\(]+</code> (that is: <code>^DETAIL:.[^\(]++.(.+)\)[^\(]+.(.[^\)]+). already exists</code>) makes the regexp decrease the steps from 28590 to 1290.</p>  <p>But you can still improve it. If you know that your required data uses the keyword <code>key</code>, use it! That way, since It is not present on the failing example, it will make the regex fail soon (once it reads DETAIL and the next word)</p>  <p>So if you use <code>^DETAIL:\s*+Key[^\(]++.(.+)\)[^\(]+.(.[^\)]+). already exists</code> steps are are now just 12.</p>  <p>If you feel like using <code>key</code> is too specific, you could use something less generic trying to find ""not 'Fail'"". Like this:</p>  <p><code>^DETAIL:\s*+(?!Fail)[^\(]++.(.+)\)[^\(]+.(.[^\)]+). already exists</code></p>  <p>That way It is 17 steps.</p>  <p>Finally, you can tune the regex for the matching content.</p>  <p>Change this:</p>  <pre><code>^DETAIL:\s*+Key[^\(]++.(.+)\)[^\(]+ .           # &lt;============= here, use \( instead (.[^\)]+). already exists </code></pre>  <p>by this:</p>  <p><code>^DETAIL:\s*+Key[^\(]++.(.+)\)[^\(]+\((.[^\)]+). already exists</code></p>  <p>That reduces steps from 538 to 215 as you do less backtracking.</p>  <p>Then, after removing several useless dots and replacing some (supposed-to-be-parenthesis) dots by <code>\(</code> or <code>\)</code> (a personal taste) you have the final regex:</p>  <p><code>^DETAIL:\s*+Key[^\(]++\((.+)\)[^\(]+\(([^\)]+)\) already exists</code></p>"
51879956	Slow regex with python and javascript but fast to fail in go and php	javascript|python|regex|go	2018-08-16 14:53:42.140000 UTC	"<p>I wrote a regex to parse PostgreSQL errors to try and show to the user which field had duplicated data. The regex is this one:</p>  <pre><code>^DETAIL:.[^\(]+.(.[^\)]+).[^\(]+.(.[^\)]+). already exists </code></pre>  <p>It will be pretty fast if you run it against the right message like this one (<a href=""https://regex101.com/r/GZuREV/1"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/1</a>):</p>  <pre><code>ERROR:  duplicate key value violates unique constraint ""uq_content_block_internal_name_store_id"" DETAIL:  Key (lower(internal_name::text), store_id)=(some content block-32067683, 0c6d20a7-d843-44f3-af9c-4a2cf2a47e4c) already exists. </code></pre>  <p>But if PostgreSQL emits another message like the following one, it will take python about 30 seconds in my machine to answer (<a href=""https://regex101.com/r/GZuREV/2"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/2</a>).</p>  <pre><code>ERROR:  null value in column ""active"" violates not-null constraint DETAIL:  Failing row contains (2018-08-16 14:23:52.214591+00, 2018-08-16 14:23:52.214591+00, null, 6f6d1bc9-c47e-46f8-b220-dae49bd58090, bf24d26e-4871-4335-9f18-83c5a52f1b3a, Some Product-a1c03dde-2de9-401c-92d5-5c1500908984, {""de_DE"": ""Fugit tempore voluptas quos est vitae."", ""en_GB"": ""Qu..., {""de_DE"": ""Fuga reprehenderit nobis reprehenderit natus magni es..., {""de_DE"": ""Fuga provident dolorum. Corrupti sunt in tempore quae..., my-product-53077578, SKU-53075778, 600, 4300dc25-04e2-4193-94c0-8ee97b636739, 52553d24-6d1c-4ce6-89f9-4ad765599040, null, 38089c3c-423f-430c-b211-ab7a57dbcc13, 7d7dc30e-b06b-48b7-b674-26d4f705583b, null, {}, 0, null, 9980, 100, 1, 5). </code></pre>  <p>If go to the regex101 link you can see that if you toggle to different languages like php or go, they all return quite fast saying that no match was found but if you choose python or javascript you will get a timeout.</p>  <p>My quick dirty fix was something like this:</p>  <pre><code>match = 'already exists' in error_message and compiled_regex.search(error_message) </code></pre>  <p>What do you think that could be causing that? Could it be the greedy operators to consume until I reach my desired data?</p>  <p>Update 1</p>  <p>Using re.IGNORECASE in python, makes it around 9 seconds slower as it spends too much time lowercasing something.</p>  <p>With ignorecase</p>  <p><a href=""https://i.stack.imgur.com/Stqt4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Stqt4.png"" alt=""With ignorecase""></a></p>  <p>Without ignorecase</p>  <p><a href=""https://i.stack.imgur.com/elaHI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/elaHI.png"" alt=""Without ignorecase""></a></p>  <p><strong>Update 2</strong></p>  <p>Playing around I saw that to make it work and fail a simple change will break</p>  <pre><code>^DETAIL:.[^\(]+?\((.[^\)]+?).[^\(]+?.(.[^\)]+?). already exists                             ^ just changing this to \) make it stop timing out ^DETAIL:.[^\(]+?\((.[^\)]+?)\)[^\(]+?.(.[^\)]+?). already exists </code></pre>"	"<blockquote>   <p><a href=""https://golang.org/pkg/regexp/"" rel=""nofollow noreferrer"">Package regexp</a></p>  <pre><code>import ""regexp"" </code></pre>      <p>Package regexp implements regular expression search.</p>      <p>The syntax of the regular expressions accepted is the same general   syntax used by Perl, Python, and other languages. More precisely, it   is the syntax accepted by RE2 and described at   <a href=""https://golang.org/s/re2syntax"" rel=""nofollow noreferrer"">https://golang.org/s/re2syntax</a>, except for \C. For an overview of the   syntax, run</p>  <pre><code>go doc regexp/syntax </code></pre>      <p>The regexp implementation provided by this package is guaranteed to   run in time linear in the size of the input. (This is a property not   guaranteed by most open source implementations of regular   expressions.) For more information about this property, see</p>      <p><a href=""http://swtch.com/~rsc/regexp/regexp1.html"" rel=""nofollow noreferrer"">http://swtch.com/~rsc/regexp/regexp1.html</a></p>      <p>or any book about automata theory.</p> </blockquote>  <hr>  <p>By design, Go regular expressions are guaranteed to run in time linear in the size of the input, a property not guaranteed by some other implementations of regular expressions. See <a href=""http://swtch.com/~rsc/regexp/regexp1.html"" rel=""nofollow noreferrer"">Regular Expression Matching Can Be Simple And Fast</a>.</p>"
51879956	Slow regex with python and javascript but fast to fail in go and php	javascript|python|regex|go	2018-08-16 14:53:42.140000 UTC	"<p>I wrote a regex to parse PostgreSQL errors to try and show to the user which field had duplicated data. The regex is this one:</p>  <pre><code>^DETAIL:.[^\(]+.(.[^\)]+).[^\(]+.(.[^\)]+). already exists </code></pre>  <p>It will be pretty fast if you run it against the right message like this one (<a href=""https://regex101.com/r/GZuREV/1"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/1</a>):</p>  <pre><code>ERROR:  duplicate key value violates unique constraint ""uq_content_block_internal_name_store_id"" DETAIL:  Key (lower(internal_name::text), store_id)=(some content block-32067683, 0c6d20a7-d843-44f3-af9c-4a2cf2a47e4c) already exists. </code></pre>  <p>But if PostgreSQL emits another message like the following one, it will take python about 30 seconds in my machine to answer (<a href=""https://regex101.com/r/GZuREV/2"" rel=""nofollow noreferrer"">https://regex101.com/r/GZuREV/2</a>).</p>  <pre><code>ERROR:  null value in column ""active"" violates not-null constraint DETAIL:  Failing row contains (2018-08-16 14:23:52.214591+00, 2018-08-16 14:23:52.214591+00, null, 6f6d1bc9-c47e-46f8-b220-dae49bd58090, bf24d26e-4871-4335-9f18-83c5a52f1b3a, Some Product-a1c03dde-2de9-401c-92d5-5c1500908984, {""de_DE"": ""Fugit tempore voluptas quos est vitae."", ""en_GB"": ""Qu..., {""de_DE"": ""Fuga reprehenderit nobis reprehenderit natus magni es..., {""de_DE"": ""Fuga provident dolorum. Corrupti sunt in tempore quae..., my-product-53077578, SKU-53075778, 600, 4300dc25-04e2-4193-94c0-8ee97b636739, 52553d24-6d1c-4ce6-89f9-4ad765599040, null, 38089c3c-423f-430c-b211-ab7a57dbcc13, 7d7dc30e-b06b-48b7-b674-26d4f705583b, null, {}, 0, null, 9980, 100, 1, 5). </code></pre>  <p>If go to the regex101 link you can see that if you toggle to different languages like php or go, they all return quite fast saying that no match was found but if you choose python or javascript you will get a timeout.</p>  <p>My quick dirty fix was something like this:</p>  <pre><code>match = 'already exists' in error_message and compiled_regex.search(error_message) </code></pre>  <p>What do you think that could be causing that? Could it be the greedy operators to consume until I reach my desired data?</p>  <p>Update 1</p>  <p>Using re.IGNORECASE in python, makes it around 9 seconds slower as it spends too much time lowercasing something.</p>  <p>With ignorecase</p>  <p><a href=""https://i.stack.imgur.com/Stqt4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Stqt4.png"" alt=""With ignorecase""></a></p>  <p>Without ignorecase</p>  <p><a href=""https://i.stack.imgur.com/elaHI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/elaHI.png"" alt=""Without ignorecase""></a></p>  <p><strong>Update 2</strong></p>  <p>Playing around I saw that to make it work and fail a simple change will break</p>  <pre><code>^DETAIL:.[^\(]+?\((.[^\)]+?).[^\(]+?.(.[^\)]+?). already exists                             ^ just changing this to \) make it stop timing out ^DETAIL:.[^\(]+?\((.[^\)]+?)\)[^\(]+?.(.[^\)]+?). already exists </code></pre>"	"<p>It's not really an answer to the question but I think the problem could be the greedy operators. anyway, I think you should make some part of it lazy to fail fast.</p>  <p>I used this pattern and it's ok on all of the engines of the languages on regex101:</p>  <pre><code>^DETAIL:.+?\((.+)\).+?\((.+)\) already exists. </code></pre>  <p><a href=""https://regex101.com/r/GZuREV/3"" rel=""nofollow noreferrer"">link to the matched error</a></p>  <p><a href=""https://regex101.com/r/GZuREV/4"" rel=""nofollow noreferrer"">link to the error with no match</a></p>"
51891754	Python to click a button/link in JavaScript	python-3.x|selenium|selenium-webdriver|onclick|attributes	2018-08-17 08:55:42.313000 UTC	"<p>I want to show more page by click a button to run a JavaScript function as below:</p>  <pre><code>&lt;div class=""loading"" style=""display:none;""&gt;   &lt;p class=""btn blue""&gt;&lt;span&gt;さらに表示&lt;/span&gt;&lt;/p&gt;   &lt;a href=""javascript:void(0);"" onclick=""get_more();""&gt;&lt;/a&gt; &lt;/div&gt; </code></pre>  <p>I tried the code, it doesn't work, what can I do?</p>  <pre><code>more_info_button = driver.find_element_by_tag_name('a').get('href=javascript:void(0);') more_info_button.click()  </code></pre>"	"<p>If you want to click link that contains attribute <code>@href</code> equal to <code>""javascript:void(0);""</code>, try</p>  <pre><code>more_info_button = driver.find_element_by_xpath('//a[@href=""javascript:void(0);""]') more_info_button.click()  </code></pre>  <p>Same with CSS selector:</p>  <pre><code>more_info_button = driver.find_element_by_css_selector('a[href=""javascript:void(0);""]') </code></pre>  <p>To locate link by text in preceding paragraph:</p>  <pre><code>more_info_button = driver.find_element_by_xpath('//a[preceding-sibling::p[.=""さらに表示""]]') </code></pre>  <p><strong>Update</strong></p>  <p>Try below code to get extended topics list after clicking the button:</p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait  topics_number = len(driver.find_elements_by_class_name('topics')) more_info_button.click() WebDriverWait(driver, 10).until(lambda driver: len(driver.find_elements_by_class_name('topics')) &gt; topics_number) extended_list = driver.find_elements_by_class_name('topics') </code></pre>"
51900395	BigQuery UDF in Python or only in JavaScript	google-bigquery|user-defined-functions	2018-08-17 17:32:52.450000 UTC	"<p>I have been looking into how to write a UDF in BigQuery and found this syntax:</p> <pre><code>CREATE  { TEMPORARY | TEMP }  FUNCTION function_name ([named_parameter[, ...]]) [RETURNS data_type] { [LANGUAGE language AS &quot;&quot;&quot;body&quot;&quot;&quot;] | [AS (function_definition)] }; </code></pre> <p>In <a href=""https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions"" rel=""nofollow noreferrer"">the document</a> I found, there is no clear mention of what languages are supported. In the examples given in the page, it only talks about &quot;js&quot; and I can't find any other language examples so I presume it only supports JavaScript but I am wondering whether anyone knows for sure.</p>"	"<p><a href=""https://cloud.google.com/bigquery/docs/reference/standard-sql/user-defined-functions#supported-external-udf-languages"" rel=""noreferrer"">From that same page</a>:</p>  <h1>Supported external UDF languages</h1>  <blockquote>   <p>External UDFs support code written in JavaScript, which you specify using <code>js</code> as the <code>LANGUAGE</code>.</p> </blockquote>  <p>You can't use languages other than JavaScript.</p>"
51903521	How can I execute javascript to change a date with python and selenium	javascript|python|html|selenium	2018-08-17 22:22:55.167000 UTC	"<p>I'm new to selenium and javascript but I'm trying to write Python that will change a date for sports results. The scoreboard page has a &lt; MM/DD/YYYY > at the top. The ""current"" date (01/05/2018 opens as the default when the page is loaded) is in the middle and &lt; &amp; > have:</p>  <pre><code>    &lt;a href=""javascript:changeDate('01/05/2018');""&gt;&lt;&lt;/a&gt;     "" 01/05/2018 ""      &lt;a href=""javascript:changeDate('01/07/2018);""&gt;&gt;&lt;/a&gt; ==$0      &lt;form name=""params_form"" action=""/team/schedule_list"" method=""post""&gt;     &lt;input id=""params_form_schedule_date"" type=""hidden"" name=""schedule_date""     value=""01/05/2018""&gt; == $0     &lt;/form&gt; </code></pre>  <p>Earlier in the html the site has:</p>  <pre><code>    &lt;script language=""javascript""&gt;             function changeDate(val){                 $('#params_form_schedule_date').val(val);                 document.params_form.submit();             } </code></pre>  <p>In Python I have tried: </p>  <pre><code>    date = input ('Enter Date (mm/dd/yyyy): ')      driver.execute_script('changeDate()', date)      driver.execute_script('''         var date = arguments[0];         changeDate().value;''', date) </code></pre>  <p>I've tried a few others too but nothing works. The loading circle will show that something is happening, but the default date does not change. Any help here would be appreciated.  (Also I tried to follow the proper formatting here, but I apologize for any mistakes, it's my first time posting). </p>"	"<p>Your code does not work because you have to send the paremeter val of changeDate(val) in the driver.execute_script().</p>  <p>You can do as follows:</p>  <pre><code>date = '02/05/2018' driver.execute_script(""changeDate('{}')"".format(date)) # Just pay attention to the "" and the ' in the command </code></pre>  <p>Hope it helps</p>"
51903521	How can I execute javascript to change a date with python and selenium	javascript|python|html|selenium	2018-08-17 22:22:55.167000 UTC	"<p>I'm new to selenium and javascript but I'm trying to write Python that will change a date for sports results. The scoreboard page has a &lt; MM/DD/YYYY > at the top. The ""current"" date (01/05/2018 opens as the default when the page is loaded) is in the middle and &lt; &amp; > have:</p>  <pre><code>    &lt;a href=""javascript:changeDate('01/05/2018');""&gt;&lt;&lt;/a&gt;     "" 01/05/2018 ""      &lt;a href=""javascript:changeDate('01/07/2018);""&gt;&gt;&lt;/a&gt; ==$0      &lt;form name=""params_form"" action=""/team/schedule_list"" method=""post""&gt;     &lt;input id=""params_form_schedule_date"" type=""hidden"" name=""schedule_date""     value=""01/05/2018""&gt; == $0     &lt;/form&gt; </code></pre>  <p>Earlier in the html the site has:</p>  <pre><code>    &lt;script language=""javascript""&gt;             function changeDate(val){                 $('#params_form_schedule_date').val(val);                 document.params_form.submit();             } </code></pre>  <p>In Python I have tried: </p>  <pre><code>    date = input ('Enter Date (mm/dd/yyyy): ')      driver.execute_script('changeDate()', date)      driver.execute_script('''         var date = arguments[0];         changeDate().value;''', date) </code></pre>  <p>I've tried a few others too but nothing works. The loading circle will show that something is happening, but the default date does not change. Any help here would be appreciated.  (Also I tried to follow the proper formatting here, but I apologize for any mistakes, it's my first time posting). </p>"	"<pre><code>input_date = &lt;date in format expected&gt; return_val = driver.execute_script(""return changedate(arguments[0])"", input_date) </code></pre>  <p>This helps you avoid all the nuances working with a strings or "" or '.</p>"
51903521	How can I execute javascript to change a date with python and selenium	javascript|python|html|selenium	2018-08-17 22:22:55.167000 UTC	"<p>I'm new to selenium and javascript but I'm trying to write Python that will change a date for sports results. The scoreboard page has a &lt; MM/DD/YYYY > at the top. The ""current"" date (01/05/2018 opens as the default when the page is loaded) is in the middle and &lt; &amp; > have:</p>  <pre><code>    &lt;a href=""javascript:changeDate('01/05/2018');""&gt;&lt;&lt;/a&gt;     "" 01/05/2018 ""      &lt;a href=""javascript:changeDate('01/07/2018);""&gt;&gt;&lt;/a&gt; ==$0      &lt;form name=""params_form"" action=""/team/schedule_list"" method=""post""&gt;     &lt;input id=""params_form_schedule_date"" type=""hidden"" name=""schedule_date""     value=""01/05/2018""&gt; == $0     &lt;/form&gt; </code></pre>  <p>Earlier in the html the site has:</p>  <pre><code>    &lt;script language=""javascript""&gt;             function changeDate(val){                 $('#params_form_schedule_date').val(val);                 document.params_form.submit();             } </code></pre>  <p>In Python I have tried: </p>  <pre><code>    date = input ('Enter Date (mm/dd/yyyy): ')      driver.execute_script('changeDate()', date)      driver.execute_script('''         var date = arguments[0];         changeDate().value;''', date) </code></pre>  <p>I've tried a few others too but nothing works. The loading circle will show that something is happening, but the default date does not change. Any help here would be appreciated.  (Also I tried to follow the proper formatting here, but I apologize for any mistakes, it's my first time posting). </p>"	"<p>I ended up solving this with:</p>  <pre><code>date = input ('Enter Date (mm/dd/yyyy): ') element=driver.find_element_by_css_selector(""input[id=params_form_schedule_date]"") driver.execute_script('arguments[0].setAttribute(""value"", ""%s"")' % date, element) element.submit() </code></pre>  <p>Thanks to all for the help!</p>"
51910264	coverting javascript to python	javascript|python	2018-08-18 15:48:21.020000 UTC	"<p>I have a yale smart alarm and come across the the below javascript that allows you to access the alarm to get the status and set it. I'm wanting to use this in my home assistant set to which uses python.</p>  <pre><code>const fetch = require('node-fetch'); const setCookie = require('set-cookie-parser');  const urls = {     login: 'https://www.yalehomesystem.co.uk/homeportal/api/login/check_login',     getStatus: 'https://www.yalehomesystem.co.uk/homeportal/api/panel/get_panel_mode',     setStatus: 'https://www.yalehomesystem.co.uk/homeportal/api/panel/set_panel_mode?area=1&amp;mode=', };  function getSessionCookie(username, password) {     let sessionCookie = null;      return fetch(urls.login, {          method: 'POST',          body: `id=${encodeURIComponent(username)}&amp;password=${password}&amp;rememberme=on&amp;notify_id=&amp;reg_id=Name`,         headers: {           'Accept': 'application/json, application/xml, text/plain, text/html, *.*',           'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'         },     })     .then((res) =&gt; {         sessionCookie = res.headers._headers['set-cookie'];          return res.json();     }).then(json =&gt; {         if (json.result === '0') {             return Promise.reject('Incorrect account details');         }         else {             return sessionCookie[0];         }     }) }  function getStatus(sessionCookie) {     return fetch(urls.getStatus, {          method: 'POST',          headers: {           'Cookie': sessionCookie,         },     }).then(res =&gt; res.text()).then(textResponse =&gt; {         // When initially writing this code I found if cookie payload          // was invalid I got this text response so I added this code to         // handle this, shouldn't happen but good to have an error message         // for this use case         if (textResponse === 'Disallowed Key Characters.') {             return Promise.reject('Invalid request');         }         else {             try {                 // Hopefully if we got to this point we can parse the json                 const json = JSON.parse(textResponse);                  if (json.result === '0') {                     return Promise.reject('Unable to get status');                 }                 else {                     return json;                 }             } catch (error) {                 // If you get this error message I likely have not handled                  // a error state that I wasnt aware of                 return Promise.reject('Unable to parse response');             }         }     }); }  function setStatus (sessionCookie, mode) {     return new Promise((resolve, reject) =&gt; {         if (!sessionCookie || sessionCookie.length === 0) {             reject('Please call getSessionCookie to get your session cookie first');         }          if (mode !== 'arm' &amp;&amp; mode !== 'home' &amp;&amp; mode !== 'disarm') {             reject('Invalid mode passed to setStatus');         }          resolve(fetch(`${urls.setStatus}${mode}`, {              method: 'POST',              headers: {               'Cookie': sessionCookie,             },         }));     }); }  module.exports = {     getSessionCookie,     getStatus,     setStatus, } </code></pre>  <p>i'm every new to coding but was able to piece the below together to return the current status of my alarm. the problem is I'm unable to get it to work. based on the above code could someone please tell me what I'm missing, or if I'm going down the wrong rabbit hole....</p>  <pre><code>import requests import webbrowser  url = “https://www.yalehomesystem.co.uk/homeportal/api/login/check_login”  payload = {‘username’: ‘email@domaim.com’, ‘password’: ‘mypass’}  with requests.session() as s: # fetch the login page s.get(url, data=payload)  url1='https://www.yalehomesystem.co.uk/homeportal/api/panel/get_panel_mode'  # post to the login form r = s.post(url1, data=payload) print(r.text) </code></pre>  <p>To add more contexts I'm getting the following error</p>  <p>{""result"":""0"",""message"":""system.permission_denied"",""code"":""999""}</p>"	
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	"<p>I was getting Ipython not defined in jupyter notebook when I tried to display a html formated content in my jupyter notebook, I just imported the function and it worked</p> <pre><code>from IPython.core.display import display, HTML # my imports  annot = coco_dataset.display_image(21, use_url=False) #my function return a html page  HTML(annot) # used for displaying the page </code></pre>"
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	<p>I could solve the same problem by installing <code>ipympl</code>:</p> <pre><code>pip install ipympl </code></pre> <p>And then add <code>%matplotlib ipympl</code> before plot.</p>
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	"<ol> <li><p>Jupyterlab supports jpympl.</p> </li> <li><p>You must put <code>%matplotlib widget</code> in the very beginning of the jupyterlab.</p> </li> </ol> <p>You can change to <code>%matplotlib inline</code> in specific cell, and active <code>%matplotlib widget</code> again if needed.</p> <p>Otherwise, no matter how many times you reinstall the package, you will still get the errors.</p>"
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	"<p>Jupyter Lab does support interactive matplotlib through the <a href=""https://github.com/matplotlib/jupyter-matplotlib"" rel=""noreferrer"">jupyter-matplotlib extension</a>. The installation procedure is slightly more involved, but works fine. Since the ipympl Jupyter Lab version requires NodeJS, and NodeJS requires Windows 8.1, ipympl also has this requirement.</p> <p>As before, it is important to invoke the iPython magic command before plotting:</p> <h1>Usage:</h1> <p><code>%matplotlib widget</code></p> <h1>Installation:</h1> <p>Note: If using this extension with Jupyter Lab, it's recommended to use a version &gt;= 3. For more detailed instructions on installing an old extension than below, see the <a href=""https://github.com/matplotlib/ipympl#use-in-jupyterlab"" rel=""noreferrer"">instructions on ipympl github</a>.</p> <h2>Using conda</h2> <pre class=""lang-sh prettyprint-override""><code>conda install -c conda-forge ipympl  # If using JupyterLab 2 conda install nodejs jupyter labextension install @jupyter-widgets/jupyterlab-manager jupyter lab build  # Later, if updating a previous Lab install: conda install ipympl jupyter lab build </code></pre> <h2>Using pip</h2> <pre class=""lang-sh prettyprint-override""><code>pip install ipympl  # If using JupyterLab 2 pip install nodejs jupyter labextension install @jupyter-widgets/jupyterlab-manager jupyter labextension install jupyter-matplotlib </code></pre>"
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	<p>Encountered similar issue when using backtrader. This fixed it for me:</p> <pre><code>cerebro.plot(iplot = False) </code></pre>
51922480	Javascript Error: IPython is not defined in JupyterLab	javascript|ipython|jupyter-lab	2018-08-19 22:59:07.653000 UTC	"<p>I have the latest/updated Anaconda package. Everytime I try to plot something using python 3.6.6 I get the following error in JupyterLab... </p>  <blockquote>   <p>Javascript Error: IPython is not defined</p> </blockquote>  <p>When I run the same code in Spyder using an ipython kernel, it works just fine. Have been looking all over online but cant seem to figure out what is going on.  Any help would be appreciated. </p>"	"<p>Jupyter Lab does support interactive matplotlib through the <a href=""https://github.com/matplotlib/jupyter-matplotlib"" rel=""noreferrer"">jupyter-matplotlib</a> extension. See <a href=""https://stackoverflow.com/a/56416229/14637""><strong>TomNorway</strong>'s answer</a>.</p> <p><strong>Alternatively</strong>, you can configure matplotlib to use <code>inline</code> instead. <code>inline</code> is not as powerful as <code>interactive</code>, but it can save you.</p> <p>To use <code>inline</code>, add this line before plot the graph:</p> <pre><code>    %matplotlib inline </code></pre> <p><a href=""https://github.com/nteract/nteract/issues/1359"" rel=""noreferrer"">More Info</a></p>"
51941827	python flask and html javascript to return response from mysql and display	python|html|ajax|flask	2018-08-21 04:59:02.483000 UTC	"<p>I am trying to fetch response JSON from mysql DB using python flask and display it in an html page. </p>  <pre><code>@app.route(""/augment_withdate1"", methods=['GET', 'POST']) def augment_withdate1():    query = session.get('query', None)    date = session.get('date', None)    db = pymysql.connect(host=""localhost"",  # your host                      user=""root"",       # username                      passwd="""",     # password                      db=""pythontesting"")   # name of the database     # Create a Cursor object to execute queries.    cur = db.cursor()     # Select data from table using SQL query.    cur.execute(""""""SELECT augment,intent FROM response WHERE query= %s                  AND DATE(date)= %s """""", query, date)     rows = cur.fetchall()    row_headers=[x[0] for x in cur.description] #this will extract row     #headers     json_data=[]    for result in rows:        json_data.append(dict(zip(row_headers,result)))    return json.dumps(json_data) </code></pre>  <p>My html code is :</p>  <pre><code>&lt;html&gt; &lt;script&gt;       function doWork(){         $.ajax({           type: 'post',           url: ""{{ url_for('augment_withdate1') }}"",           contentType: 'application/json;charset=UTF-8',           success: function(result){             alert(result);             },           error: function(result){             console.log(result);             }         });       } &lt;/script&gt; &lt;tr&gt; &lt;td align='center'&gt;&lt;button onclick=""doWork()""&gt;Augment&lt;/button&gt;&lt;/form&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/html&gt; </code></pre>  <p>I would like to know :  1. How can I print the response instead of showing as an alert ? 2. Is there a way fetch all at once from DB and display each column as a button only when user clicks ? </p>  <p>Thanks</p>"	
51949481	"Cross Domain Widget Issue -- Python, PHP, Chrome, JavaScript"	javascript|python|jquery|widget|cross-domain	2018-08-21 13:11:09.627000 UTC	"<p>This should be a rather straight forward widget with the usual HTML js/div plugin code, but the issue here is that it won't display the echoed PHP code (output would be plain html on callback from the Python file in /cgi-bin/) within Chrome (the browser I'm testing on). When I run the python code below from the BASH shell it displays the echoed PHP code as plain HTML, but it is not displaying anything when I run the Plugin/HTML code below from within Chrome.  </p>  <p>cgi.force_redirect = 0 is set within php.ini, so that shouldn't be the issue. Chrome previously threw an error for the PHP code callback due to cgi-bin / php security, but it isn't throwing that error any more with that set in php.ini. </p>  <p>No errors are showing up in Chrome when I run it now, but it just isn't displaying any of the HTML code that should be coming from the PHP echoed code (that should be displayed from the Python callback). There aren't any callback issues as it displays the JSONP when its set to display just a plain string through Python (non-PHP output). So, it's confirmed that it is working to display data across domains. </p>  <p>I don't know Python very well at all, so that could be the issue here. It's a perplexing issue for me and I put in few days trying to figure this all out before coming here to the experts!   </p>  <p>Here is the <strong>Plugin/HTML</strong> code (included on a third party domain (cross domain), not example.com):</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;/head&gt; &lt;body&gt; &lt;script src=""https://example.com/widget/widget.js"" type=""text/javascript""&gt;&lt;/script&gt; &lt;div id=""widget""&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Here is the <strong>JavaScript</strong> Code (widget.js):</p>  <pre><code>(function() {  // Localize jQuery variable var jQuery;  /******** Load jQuery if not present *********/ if (window.jQuery === undefined) {     var script_tag = document.createElement('script');     script_tag.setAttribute(""type"",""text/javascript"");     script_tag.setAttribute(""src"",         ""https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"");     if (script_tag.readyState) {       script_tag.onreadystatechange = function () { // For old versions of IE           if (this.readyState == 'complete' || this.readyState == 'loaded') {               scriptLoadHandler();           }       };     } else {       script_tag.onload = scriptLoadHandler;     }     // Try to find the head, otherwise default to the documentElement     (document.getElementsByTagName(""head"")[0] || document.documentElement).appendChild(script_tag); } else {     // The jQuery version on the window is the one we want to use     jQuery = window.jQuery;     main(); }  /******** Called once jQuery has loaded ******/ function scriptLoadHandler() {     // Restore $ and window.jQuery to their previous values and store the     // new jQuery in our local jQuery variable     jQuery = window.jQuery.noConflict(true);     // Call our main function     main();  }  /******** Our main function ********/ function main() {      jQuery(document).ready(function($) {          /******* Load CSS *******/         var css_link = $(""&lt;link&gt;"", {              rel: ""stylesheet"",              type: ""text/css"",              href: ""widget-styles.css""          });        // css_link.appendTo('head');                      //alert(element);          /******* Load HTML *******/         var jsonp_url = ""https://example.com/cgi-bin/widget-python.py?callback=?"";            $.getJSON(jsonp_url, function(data) {           $('#widget').html(""This data comes from another server: "" + data.html);         });     }); }  })(); // We call our anonymous function immediately </code></pre>  <p>Here is the <strong>Python</strong> code included in /cgi-bin/ and called from widget.js (widget-python.py):</p>  <pre><code>#!/usr/bin/python  import cgi import subprocess  params = cgi.FieldStorage()  print ""Content-Type: text/javascript\n""   proc = subprocess.Popen(""php &lt;pathtophpfile&gt;.php"", shell=True, stdout=subprocess.PIPE) result = proc.stdout.read() jsonp = ""%s ( {'html': "" + result + "" } )""  #jsonp = ""%s ( {'html': 'printastring' } )"" THIS WORKS and prints into Chrome when its commented out, but its just a string, and what I need is the PHP output from the result variable above.    #print result This prints the php code out perfectly into the command line when I run execute the python script from within /cgi-bin  print jsonp % params['callback'].value </code></pre>  <p>AS FOR THE PHP CODE (pathtophpfile.php) that is supposed to be echoed out into Chrome, <strong>its output is pure HTML div to div and it is displaying in the terminal when run, so Python is finding and running the PHP file.</strong>. Thank you for your help, and I hope this is enough information, I'll be adding to it if it is not. </p>"	
51954581	Bcrypt python script and JavaScript with MongoDB/Mongoose not working for two seperate items	javascript|python-3.x|mongodb|mongoose|bcrypt	2018-08-21 18:19:48.323000 UTC	"<p>Ok, I have a python script that does this to create a special account:</p>  <pre><code>salt = bcrypt.gensalt(10) password = (bcrypt.hashpw(password.encode(""utf-8""), salt)).decode(""utf-8"") pin = (bcrypt.hashpw(pin.encode(""utf-8""), salt)).decode(""utf-8"") </code></pre>  <p>I then store it in Mongodb as follows:</p>  <pre><code>data = {         'username' : username,         'password' : password,         'pin'      : pin,         'created'  : t,         'last_log' : t,         'num_fails': 0,         'systemWidePassword' : '[REDACTED]' } result = admins.insert_one(data) </code></pre>  <p>If I check mongo, everything is in there.</p>  <p>I have a Mongoose method that checks the pin and password using bcrypt with the following line of code:</p>  <pre><code>const [pinMatch, passMatch] = await Promise.all([     bcrypt.compare(attemptPin, this.pin),      bcrypt.compare(attemptPass, this.password) ]); </code></pre>  <p>For some reason, my <code>passMatch</code> evaluates to true everytime (with the correct password), <strong>however my <code>pinMatch</code> value is always false with the correct pin.</strong> Why would one work but the other always fail? All fields are handled as strings. </p>"	"<p>The solution is very unexpected. Apparently there is an issue with bcrypt and the '$' symbol. This lead to a situation where a generated password that had a '$' symbol causes a hash mismatch. I added the following to the python script after receiving the input for anything that will run through bcrypt:</p>  <pre><code>def checkBcryptString(self, item):     return item.find('$') </code></pre>  <p>Then if it returns <code>True</code> I accept and with <code>False</code> it recursively asks for the item. </p>"
51958739	Embed tweets using python django + Javascript	javascript|python|django	2018-08-22 01:32:19.693000 UTC	"<p>I'm trying to embed tweets using python django and javascript.</p>  <p>This is my views.py currently:</p>  <pre><code>def tweets(request):  context_dict = {}  tweets_today = Tweet.objects.order_by('-favorites')  tweets_today = tweets_today[:15]  context_dict['tweets_today'] = tweets_today  return render(request, 'summary/tweets.html', context_dict) </code></pre>  <p>And my HTML (base.html has the twitter JS script)</p>  <pre><code>{% extends 'base.html' %}  {% block body_block %} &lt;div class=""container""&gt;     {% for tweet in tweets_today %}          &lt;div class=""block social-block social-twitter""&gt;             &lt;div id=""container_{{ forloop.counter }}""&gt;              &lt;/div&gt;              &lt;a href=""#"" class=""btn btn-round btn-red""&gt;&lt;/a&gt;         &lt;/div&gt;         &lt;script&gt;             window.onload = (function () {                  twttr.widgets.createTweet(                     '{{ tweet.tweet_id }}',                     document.getElementById('container_{{ forloop.counter }}'),                     {                         theme: 'dark'                     }                 );             });         &lt;/script&gt;      {% endfor %}  &lt;/div&gt; {% endblock %} </code></pre>  <p>For some reason this is only embedding one tweet. Is it because of the window.onload? </p>"	
52010016	Web Scraping Extract Javascript Table Selenium+Python	javascript|python|selenium|web-scraping|beautifulsoup	2018-08-24 18:34:18.180000 UTC	"<p>I've read several articles of Web Scraping with but I didn't undestand how to find the elements in the site.</p>  <p>The site I want to scrap the table is below: <a href=""http://www.bmfbovespa.com.br/pt_br/servicos/market-data/cotacoes/mercado-de-derivativos/?symbol=DI1"" rel=""nofollow noreferrer"">http://www.bmfbovespa.com.br/pt_br/servicos/market-data/cotacoes/mercado-de-derivativos/?symbol=DI1</a></p>  <p>I want to scrap the tables: ""TB01, ""TB02, TB03 and TB04"" theses are the ids of the tables</p>  <pre><code>&lt;tbody&gt; == $0   &lt;tr&gt;     &lt;td id=""TB01""&gt;...&lt;/td&gt;     &lt;td id=""TB02""&gt;...&lt;/td&gt;     &lt;td id=""TB03""&gt;...&lt;/td&gt;     &lt;td id=""TB04""&gt;...&lt;/td&gt;   &lt;tr&gt; </code></pre>  <p>I've tried all the <code>find.element</code> functions of the Selenium libraries but none of then works.</p>  <p>Also the site has some load to wait, I've used to the function <code>WebDriverWait</code> but it should be tie with the presence of the table, if the <code>find_element</code> didn't work probably the <code>WebDriverWait</code> neither I guess.</p>"	"<p>It's very simple if you analyze the website and it's working in the backend via chrome developer tools.</p>  <p>Before diving into scraping you need to know about ajax requests in the web. Most websites use ajax requests, therefore, everything is loaded dynamically.</p>  <p>Steps to follow:</p>  <ol> <li>Open the website in a new tab in chrome</li> <li>Open the developer console of chrome</li> <li>Go to Network tab and refresh the page. You can see the calls being by the website as it is loaded dynamically.</li> </ol>  <p>For the website - <a href=""http://www.bmfbovespa.com.br/pt_br/servicos/market-data/cotacoes/mercado-de-derivativos/?symbol=DI1"" rel=""nofollow noreferrer"">http://www.bmfbovespa.com.br/pt_br/servicos/market-data/cotacoes/mercado-de-derivativos/?symbol=DI1</a> ,here's the image.</p>  <p><a href=""https://i.stack.imgur.com/IxPec.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IxPec.png"" alt=""enter image description here""></a></p>  <p>You can see the DL1 API being called. Go to the headers and see the url. Now you get to know the url. Therefore, it's very easy to get the data using python. Here's the code.</p>  <pre><code>import requests, json text = reuqests.get(""http://cotacao.b3.com.br/mds/api/v1/DerivativeQuotation/DI1"").text data = json.loads(text) print(data['Scty']) </code></pre>  <p>The output of the above program will be as follows</p>  <pre><code>[{'SctyQtn': {'avrgPric': 7.7862,    'bottomLmtPric': 7.01,    'curPrc': 7.78,    'maxPric': 7.79,    'minPric': 7.74,    'opngPric': 7.74,    'prvsDayAdjstmntPric': 7.684,    'topLmtPric': 8.525},   'asset': {'AsstSummry': {'grssAmt': 111008714.5,     'mtrtyCode': '2019-06-03',     'opnCtrcts': 36655,     'tradQty': 141,     'traddCtrctsQty': 1175},    'code': 'DI1'},   'buyOffer': {'price': 7.64},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.675},   'symb': 'DI1M19'},  {'SctyQtn': {'avrgPric': 8.1758,    'bottomLmtPric': 7.49,    'curPrc': 8.19,    'maxPric': 8.3,    'minPric': 8.13,    'opngPric': 8.21,    'prvsDayAdjstmntPric': 8.237,    'topLmtPric': 9.2},   'asset': {'AsstSummry': {'grssAmt': 417475320.0,     'mtrtyCode': '2019-10-01',     'opnCtrcts': 769684,     'tradQty': 167,     'traddCtrctsQty': 4550},    'code': 'DI1'},   'buyOffer': {'price': 8.16},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 8.19},   'symb': 'DI1V19'},  {'SctyQtn': {'avrgPric': 6.6549,    'bottomLmtPric': 6.125,    'curPrc': 6.7,    'maxPric': 6.71,    'minPric': 6.645,    'opngPric': 6.68,    'prvsDayAdjstmntPric': 6.669,    'topLmtPric': 7.235},   'asset': {'AsstSummry': {'grssAmt': 245262515.35,     'mtrtyCode': '2018-12-03',     'opnCtrcts': 193484,     'tradQty': 26,     'traddCtrctsQty': 2495},    'code': 'DI1'},   'buyOffer': {'price': 6.68},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 6.695},   'symb': 'DI1Z18'},  {'SctyQtn': {'avrgPric': 12.4511,    'bottomLmtPric': 11.58,    'curPrc': 12.4,    'maxPric': 12.63,    'minPric': 12.39,    'opngPric': 12.45,    'prvsDayAdjstmntPric': 12.533,    'topLmtPric': 13.78},   'asset': {'AsstSummry': {'grssAmt': 995856709.26,     'mtrtyCode': '2027-01-04',     'opnCtrcts': 339175,     'tradQty': 2616,     'traddCtrctsQty': 26466},    'code': 'DI1'},   'buyOffer': {'price': 12.39},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 12.4},   'symb': 'DI1F27'},  {'SctyQtn': {'avrgPric': 10.542,    'bottomLmtPric': 9.61,    'curPrc': 10.6,    'maxPric': 10.6,    'minPric': 10.4,    'opngPric': 10.43,    'prvsDayAdjstmntPric': 10.525,    'topLmtPric': 11.71},   'asset': {'AsstSummry': {'grssAmt': 3667893.9,     'mtrtyCode': '2021-10-01',     'opnCtrcts': 25005,     'tradQty': 10,     'traddCtrctsQty': 50},    'code': 'DI1'},   'buyOffer': {'price': 10.42},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 10.44},   'symb': 'DI1V21'},  {'SctyQtn': {'bottomLmtPric': 11.5,    'prvsDayAdjstmntPric': 12.445,    'topLmtPric': 13.69},   'asset': {'AsstSummry': {'mtrtyCode': '2026-07-01', 'opnCtrcts': 3325},    'code': 'DI1'},   'mkt': {'cd': 'FUT'},   'symb': 'DI1N26'},  {'SctyQtn': {'avrgPric': 8.8308,    'bottomLmtPric': 8.08,    'curPrc': 8.83,    'maxPric': 9,    'minPric': 8.78,    'opngPric': 8.86,    'prvsDayAdjstmntPric': 8.886,    'topLmtPric': 9.94},   'asset': {'AsstSummry': {'grssAmt': 355167456.9,     'mtrtyCode': '2020-04-01',     'opnCtrcts': 647478,     'tradQty': 269,     'traddCtrctsQty': 4065},    'code': 'DI1'},   'buyOffer': {'price': 8.82},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 8.83},   'symb': 'DI1J20'},  {'SctyQtn': {'avrgPric': 7.6,    'bottomLmtPric': 6.86,    'curPrc': 7.6,    'maxPric': 7.6,    'minPric': 7.6,    'opngPric': 7.6,    'prvsDayAdjstmntPric': 7.515,    'topLmtPric': 8.325},   'asset': {'AsstSummry': {'grssAmt': 476031.4,     'mtrtyCode': '2019-05-02',     'opnCtrcts': 47300,     'tradQty': 1,     'traddCtrctsQty': 5},    'code': 'DI1'},   'buyOffer': {'price': 7.46},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.5},   'symb': 'DI1K19'},  {'SctyQtn': {'avrgPric': 10.6572,    'bottomLmtPric': 9.77,    'curPrc': 10.62,    'maxPric': 10.81,    'minPric': 10.57,    'opngPric': 10.6,    'prvsDayAdjstmntPric': 10.695,    'topLmtPric': 11.88},   'asset': {'AsstSummry': {'grssAmt': 2389488485.5,     'mtrtyCode': '2022-01-03',     'opnCtrcts': 744332,     'tradQty': 3539,     'traddCtrctsQty': 33516},    'code': 'DI1'},   'buyOffer': {'price': 10.61},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 10.63},   'symb': 'DI1F22'},  {'SctyQtn': {'avrgPric': 6.8224,    'bottomLmtPric': 6.26,    'curPrc': 6.83,    'maxPric': 6.88,    'minPric': 6.78,    'opngPric': 6.8,    'prvsDayAdjstmntPric': 6.835,    'topLmtPric': 7.47},   'asset': {'AsstSummry': {'grssAmt': 3759849797.05,     'mtrtyCode': '2019-01-02',     'opnCtrcts': 3296622,     'tradQty': 1187,     'traddCtrctsQty': 38465},    'code': 'DI1'},   'buyOffer': {'price': 6.825},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 6.835},   'symb': 'DI1F19'},  {'SctyQtn': {'avrgPric': 12.6441,    'bottomLmtPric': 11.8,    'curPrc': 12.6,    'maxPric': 12.84,    'minPric': 12.6,    'opngPric': 12.67,    'prvsDayAdjstmntPric': 12.753,    'topLmtPric': 14},   'asset': {'AsstSummry': {'grssAmt': 305050246.35,     'mtrtyCode': '2029-01-02',     'opnCtrcts': 87547,     'tradQty': 807,     'traddCtrctsQty': 10415},    'code': 'DI1'},   'buyOffer': {'price': 12.59},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 12.6},   'symb': 'DI1F29'},  {'SctyQtn': {'avrgPric': 7.185,    'bottomLmtPric': 6.57,    'curPrc': 7.185,    'maxPric': 7.185,    'minPric': 7.185,    'opngPric': 7.185,    'prvsDayAdjstmntPric': 7.196,    'topLmtPric': 7.93},   'asset': {'AsstSummry': {'grssAmt': 965104.3,     'mtrtyCode': '2019-03-01',     'opnCtrcts': 42941,     'tradQty': 1,     'traddCtrctsQty': 10},    'code': 'DI1'},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.185},   'symb': 'DI1H19'},  {'SctyQtn': {'bottomLmtPric': 11.29,    'prvsDayAdjstmntPric': 12.236,    'topLmtPric': 13.47},   'asset': {'AsstSummry': {'mtrtyCode': '2025-07-01', 'opnCtrcts': 3485},    'code': 'DI1'},   'mkt': {'cd': 'FUT'},   'symb': 'DI1N25'},  {'SctyQtn': {'avrgPric': 9.6967,    'bottomLmtPric': 8.89,    'curPrc': 9.68,    'maxPric': 9.85,    'minPric': 9.63,    'opngPric': 9.7,    'prvsDayAdjstmntPric': 9.766,    'topLmtPric': 10.9},   'asset': {'AsstSummry': {'grssAmt': 14461876431.2,     'mtrtyCode': '2021-01-04',     'opnCtrcts': 1589400,     'tradQty': 11304,     'traddCtrctsQty': 179775},    'code': 'DI1'},   'buyOffer': {'price': 9.67},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 9.68},   'symb': 'DI1F21'},  {'SctyQtn': {'avrgPric': 9.1373,    'bottomLmtPric': 8.35,    'curPrc': 9.13,    'maxPric': 9.29,    'minPric': 9.08,    'opngPric': 9.1,    'prvsDayAdjstmntPric': 9.186,    'topLmtPric': 10.28},   'asset': {'AsstSummry': {'grssAmt': 1676360397.45,     'mtrtyCode': '2020-07-01',     'opnCtrcts': 1438827,     'tradQty': 2742,     'traddCtrctsQty': 19685},    'code': 'DI1'},   'buyOffer': {'price': 9.12},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 9.13},   'symb': 'DI1N20'},  {'SctyQtn': {'avrgPric': 10.8811,    'bottomLmtPric': 9.96,    'curPrc': 10.97,    'maxPric': 10.97,    'minPric': 10.78,    'opngPric': 10.78,    'prvsDayAdjstmntPric': 10.885,    'topLmtPric': 12.08},   'asset': {'AsstSummry': {'grssAmt': 3106685.3,     'mtrtyCode': '2022-04-01',     'opnCtrcts': 16160,     'tradQty': 7,     'traddCtrctsQty': 45},    'code': 'DI1'},   'buyOffer': {'price': 10.78},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 10.81},   'symb': 'DI1J22'},  {'SctyQtn': {'avrgPric': 11.7735,    'bottomLmtPric': 10.89,    'curPrc': 11.7,    'maxPric': 11.91,    'minPric': 11.69,    'opngPric': 11.74,    'prvsDayAdjstmntPric': 11.836,    'topLmtPric': 13.06},   'asset': {'AsstSummry': {'grssAmt': 88173754.85,     'mtrtyCode': '2024-01-02',     'opnCtrcts': 63830,     'tradQty': 247,     'traddCtrctsQty': 1595},    'code': 'DI1'},   'buyOffer': {'price': 11.69},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 11.71},   'symb': 'DI1F24'},  {'SctyQtn': {'avrgPric': 10.0743,    'bottomLmtPric': 9.1,    'curPrc': 10.08,    'maxPric': 10.08,    'minPric': 10.07,    'opngPric': 10.07,    'prvsDayAdjstmntPric': 9.996,    'topLmtPric': 11.15},   'asset': {'AsstSummry': {'grssAmt': 2730323.55,     'mtrtyCode': '2021-04-01',     'opnCtrcts': 57813,     'tradQty': 5,     'traddCtrctsQty': 35},    'code': 'DI1'},   'buyOffer': {'price': 9.92},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 9.94},   'symb': 'DI1J21'},  {'SctyQtn': {'avrgPric': 11.3251,    'bottomLmtPric': 10.43,    'curPrc': 11.29,    'maxPric': 11.49,    'minPric': 11.24,    'opngPric': 11.27,    'prvsDayAdjstmntPric': 11.375,    'topLmtPric': 12.59},   'asset': {'AsstSummry': {'grssAmt': 2902365222.1,     'mtrtyCode': '2023-01-02',     'opnCtrcts': 643495,     'tradQty': 5563,     'traddCtrctsQty': 46221},    'code': 'DI1'},   'buyOffer': {'price': 11.28},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 11.29},   'symb': 'DI1F23'},  {'SctyQtn': {'bottomLmtPric': 6.043,    'prvsDayAdjstmntPric': 6.394,    'topLmtPric': 6.743},   'asset': {'AsstSummry': {'mtrtyCode': '2018-09-03', 'opnCtrcts': 794385},    'code': 'DI1'},   'buyOffer': {'price': 6.391},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 6.394},   'symb': 'DI1U18'},  {'SctyQtn': {'avrgPric': 10.9889,    'bottomLmtPric': 10.12,    'curPrc': 10.98,    'maxPric': 11.18,    'minPric': 10.96,    'opngPric': 11.01,    'prvsDayAdjstmntPric': 11.055,    'topLmtPric': 12.25},   'asset': {'AsstSummry': {'grssAmt': 751347046.85,     'mtrtyCode': '2022-07-01',     'opnCtrcts': 107601,     'tradQty': 378,     'traddCtrctsQty': 11210},    'code': 'DI1'},   'buyOffer': {'price': 10.98},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 10.99},   'symb': 'DI1N22'},  {'SctyQtn': {'avrgPric': 6.525,    'bottomLmtPric': 6.025,    'curPrc': 6.525,    'maxPric': 6.525,    'minPric': 6.525,    'opngPric': 6.525,    'prvsDayAdjstmntPric': 6.528,    'topLmtPric': 7.025},   'asset': {'AsstSummry': {'grssAmt': 49414005.0,     'mtrtyCode': '2018-11-01',     'opnCtrcts': 388520,     'tradQty': 8,     'traddCtrctsQty': 500},    'code': 'DI1'},   'buyOffer': {'price': 6.51},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 6.56},   'symb': 'DI1X18'},  {'SctyQtn': {'avrgPric': 7.3144,    'bottomLmtPric': 6.695,    'curPrc': 7.32,    'maxPric': 7.41,    'minPric': 7.26,    'opngPric': 7.28,    'prvsDayAdjstmntPric': 7.341,    'topLmtPric': 8.115},   'asset': {'AsstSummry': {'grssAmt': 2331794391.85,     'mtrtyCode': '2019-04-01',     'opnCtrcts': 818987,     'tradQty': 391,     'traddCtrctsQty': 24305},    'code': 'DI1'},   'buyOffer': {'price': 7.315},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.325},   'symb': 'DI1J19'},  {'SctyQtn': {'avrgPric': 6.4435,    'bottomLmtPric': 6.015,    'curPrc': 6.448,    'maxPric': 6.45,    'minPric': 6.435,    'opngPric': 6.45,    'prvsDayAdjstmntPric': 6.447,    'topLmtPric': 6.875},   'asset': {'AsstSummry': {'grssAmt': 6047420821.25,     'mtrtyCode': '2018-10-01',     'opnCtrcts': 2472721,     'tradQty': 133,     'traddCtrctsQty': 60850},    'code': 'DI1'},   'buyOffer': {'price': 6.446},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 6.448},   'symb': 'DI1V18'},  {'SctyQtn': {'avrgPric': 12.2392,    'bottomLmtPric': 11.39,    'curPrc': 12.2,    'maxPric': 12.41,    'minPric': 12.2,    'opngPric': 12.26,    'prvsDayAdjstmntPric': 12.334,    'topLmtPric': 13.57},   'asset': {'AsstSummry': {'grssAmt': 13930258.0,     'mtrtyCode': '2026-01-02',     'opnCtrcts': 78158,     'tradQty': 40,     'traddCtrctsQty': 325},    'code': 'DI1'},   'buyOffer': {'price': 12.19},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 12.21},   'symb': 'DI1F26'},  {'SctyQtn': {'avrgPric': 9.439,    'bottomLmtPric': 8.64,    'curPrc': 9.51,    'maxPric': 9.57,    'minPric': 9.4,    'opngPric': 9.4,    'prvsDayAdjstmntPric': 9.496,    'topLmtPric': 10.61},   'asset': {'AsstSummry': {'grssAmt': 1046752634.45,     'mtrtyCode': '2020-10-01',     'opnCtrcts': 219310,     'tradQty': 62,     'traddCtrctsQty': 12645},    'code': 'DI1'},   'buyOffer': {'price': 9.41},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 9.44},   'symb': 'DI1V20'},  {'SctyQtn': {'bottomLmtPric': 10.56,    'prvsDayAdjstmntPric': 11.509,    'topLmtPric': 12.72},   'asset': {'AsstSummry': {'mtrtyCode': '2023-04-03', 'opnCtrcts': 11610},    'code': 'DI1'},   'mkt': {'cd': 'FUT'},   'symb': 'DI1J23'},  {'SctyQtn': {'avrgPric': 10.2088,    'bottomLmtPric': 9.37,    'curPrc': 10.18,    'maxPric': 10.35,    'minPric': 10.14,    'opngPric': 10.14,    'prvsDayAdjstmntPric': 10.276,    'topLmtPric': 11.45},   'asset': {'AsstSummry': {'grssAmt': 1141539998.05,     'mtrtyCode': '2021-07-01',     'opnCtrcts': 407600,     'tradQty': 989,     'traddCtrctsQty': 15035},    'code': 'DI1'},   'buyOffer': {'price': 10.17},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 10.18},   'symb': 'DI1N21'},  {'SctyQtn': {'avrgPric': 7.0568,    'bottomLmtPric': 6.405,    'curPrc': 7.02,    'maxPric': 7.065,    'minPric': 7.02,    'opngPric': 7.065,    'prvsDayAdjstmntPric': 7.01,    'topLmtPric': 7.7},   'asset': {'AsstSummry': {'grssAmt': 22816998.75,     'mtrtyCode': '2019-02-01',     'opnCtrcts': 198230,     'tradQty': 29,     'traddCtrctsQty': 235},    'code': 'DI1'},   'buyOffer': {'price': 6.99},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.02},   'symb': 'DI1G19'},  {'SctyQtn': {'avrgPric': 7.7849,    'bottomLmtPric': 7.12,    'curPrc': 7.775,    'maxPric': 7.9,    'minPric': 7.715,    'opngPric': 7.73,    'prvsDayAdjstmntPric': 7.817,    'topLmtPric': 8.7},   'asset': {'AsstSummry': {'grssAmt': 3488606085.5,     'mtrtyCode': '2019-07-01',     'opnCtrcts': 791673,     'tradQty': 1523,     'traddCtrctsQty': 37135},    'code': 'DI1'},   'buyOffer': {'price': 7.77},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.78},   'symb': 'DI1N19'},  {'SctyQtn': {'avrgPric': 12.0531,    'bottomLmtPric': 11.16,    'curPrc': 12.01,    'maxPric': 12.23,    'minPric': 11.99,    'opngPric': 12.03,    'prvsDayAdjstmntPric': 12.114,    'topLmtPric': 13.35},   'asset': {'AsstSummry': {'grssAmt': 1748133912.1,     'mtrtyCode': '2025-01-02',     'opnCtrcts': 525980,     'tradQty': 3842,     'traddCtrctsQty': 35941},    'code': 'DI1'},   'buyOffer': {'price': 12},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 12.01},   'symb': 'DI1F25'},  {'SctyQtn': {'avrgPric': 12.725,    'bottomLmtPric': 11.71,    'curPrc': 12.73,    'maxPric': 12.73,    'minPric': 12.72,    'opngPric': 12.72,    'prvsDayAdjstmntPric': 12.658,    'topLmtPric': 13.9},   'asset': {'AsstSummry': {'grssAmt': 327258.25,     'mtrtyCode': '2028-01-03',     'opnCtrcts': 9805,     'tradQty': 2,     'traddCtrctsQty': 10},    'code': 'DI1'},   'buyOffer': {'price': 12.47},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 12.51},   'symb': 'DI1F28'},  {'SctyQtn': {'avrgPric': 8.5217,    'bottomLmtPric': 7.8,    'curPrc': 8.51,    'maxPric': 8.66,    'minPric': 8.46,    'opngPric': 8.51,    'prvsDayAdjstmntPric': 8.576,    'topLmtPric': 9.59},   'asset': {'AsstSummry': {'grssAmt': 12632820547.85,     'mtrtyCode': '2020-01-02',     'opnCtrcts': 2512243,     'tradQty': 7202,     'traddCtrctsQty': 141065},    'code': 'DI1'},   'buyOffer': {'price': 8.51},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 8.52},   'symb': 'DI1F20'},  {'SctyQtn': {'bottomLmtPric': 11.84,    'prvsDayAdjstmntPric': 12.79,    'topLmtPric': 14.03},   'asset': {'AsstSummry': {'mtrtyCode': '2030-01-02', 'opnCtrcts': 5325},    'code': 'DI1'},   'mkt': {'cd': 'FUT'},   'symb': 'DI1F30'},  {'SctyQtn': {'bottomLmtPric': 11.04,    'prvsDayAdjstmntPric': 11.991,    'topLmtPric': 13.21},   'asset': {'AsstSummry': {'mtrtyCode': '2024-07-01', 'opnCtrcts': 25060},    'code': 'DI1'},   'buyOffer': {'price': 11.83},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 11.87},   'symb': 'DI1N24'},  {'SctyQtn': {'bottomLmtPric': 7.27,    'prvsDayAdjstmntPric': 7.974,    'topLmtPric': 8.895},   'asset': {'AsstSummry': {'mtrtyCode': '2019-08-01', 'opnCtrcts': 24280},    'code': 'DI1'},   'buyOffer': {'price': 7.905},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 7.94},   'symb': 'DI1Q19'},  {'SctyQtn': {'avrgPric': 11.292,    'bottomLmtPric': 10.28,    'curPrc': 11.3,    'maxPric': 11.3,    'minPric': 11.29,    'opngPric': 11.29,    'prvsDayAdjstmntPric': 11.22,    'topLmtPric': 12.42},   'asset': {'AsstSummry': {'grssAmt': 1613776.85,     'mtrtyCode': '2022-10-03',     'opnCtrcts': 32880,     'tradQty': 3,     'traddCtrctsQty': 25},    'code': 'DI1'},   'buyOffer': {'price': 11.1},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 11.13},   'symb': 'DI1V22'},  {'SctyQtn': {'avrgPric': 11.5762,    'bottomLmtPric': 10.65,    'curPrc': 11.5,    'maxPric': 11.68,    'minPric': 11.5,    'opngPric': 11.58,    'prvsDayAdjstmntPric': 11.602,    'topLmtPric': 12.82},   'asset': {'AsstSummry': {'grssAmt': 19148925.5,     'mtrtyCode': '2023-07-03',     'opnCtrcts': 22610,     'tradQty': 29,     'traddCtrctsQty': 325},    'code': 'DI1'},   'buyOffer': {'price': 11.5},   'mkt': {'cd': 'FUT'},   'sellOffer': {'price': 11.51},   'symb': 'DI1N23'}] </code></pre>"
52012963	How to retrieve javascript variable in HTML script using Python Regex?	python	2018-08-24 23:56:04.900000 UTC	"<pre><code>&lt;script&gt;     function foo() {         var bar = 'thisisvalue';     }    &lt;/script&gt; </code></pre>  <p>Hi all, I have this function in script tag and I want to get the value of <code>var bar</code> by using Python regular expression. Can anyone help me with this. Thanks</p>"	"<pre><code>for line in html:      if 'var bar =' in line:          thisisvalue = line.split(""'"")[1] </code></pre>"
52012963	How to retrieve javascript variable in HTML script using Python Regex?	python	2018-08-24 23:56:04.900000 UTC	"<pre><code>&lt;script&gt;     function foo() {         var bar = 'thisisvalue';     }    &lt;/script&gt; </code></pre>  <p>Hi all, I have this function in script tag and I want to get the value of <code>var bar</code> by using Python regular expression. Can anyone help me with this. Thanks</p>"	"<p>The pattern I always use in python is this:</p>  <pre><code>import re SEARCHER = re.compile( *regex with captured groups* )  ...later, in a loop over lines...    search = SEARCHER.search(line)   if search:      value = search.group(1) </code></pre>  <p>In your particular case it would be something like this:</p>  <pre><code>import re VARBAR_SEARCHER = re.compile(r""var bar = '([^']*)'"")  ...    search = VARBAR_SEARCHER.search(line)   if search:      value = search.group(1) </code></pre>  <p>This omits the single quotes from the value.  If you wanted those in there you could modify the regular expression.</p>"
52080459	Python like function mock in JavaScript	javascript|python|testing|mocking|jestjs	2018-08-29 14:51:58.640000 UTC	"<p>With <code>Python</code> it's so easy to mock a function that is used in the function under test.</p>  <pre><code># my_module.py def function_a():     return 'a'   def function_b():     return function_a() + 'b'    # tests/test_my_module.py from unittest import TestCase from unittest.mock import patch  from my_module import function_b   class MyModuleTestCase(TestCase):     @patch('my_module.function_a')     def test_function_b(self, mock_function_a):         mock_function_a.return_value = 'c'          self.assertEqual(function_b(), 'cb') </code></pre>  <p>Is something like this possible in <code>JavaScript</code> using, for example, <code>jest</code>?</p>  <pre><code># myModule.js function myFunctionA() {   return 'a'; }  export function myFunctionB() {   return myFunctionA() + 'b'; }    # __test__/test.myModule.js import { myFunctionB } from '../myModule';  describe('myModule tests', () =&gt; {   test('myFunctionB works', () =&gt; {     // Mock `myFunctionA` return value here somehow.      expect(myFunctionB()).toBe('cb')   }); }); </code></pre>  <p>I've read <a href=""https://github.com/facebook/jest/issues/936"" rel=""nofollow noreferrer"">https://github.com/facebook/jest/issues/936</a> and still have no idea how to do it as there are so many (hacky) suggestions (some of them ~2 years old).</p>"	"<p><code>Jest</code> can mock an entire module using <a href=""https://jestjs.io/docs/en/jest-object#jestmockmodulename-factory-options"" rel=""nofollow noreferrer""><code>jest.mock()</code></a> or mock an individual module export using <a href=""https://jestjs.io/docs/en/jest-object#jestspyonobject-methodname"" rel=""nofollow noreferrer""><code>jest.spyOn()</code></a> in combination with functions like <a href=""https://jestjs.io/docs/en/mock-function-api#mockfnmockimplementationfn"" rel=""nofollow noreferrer""><code>mockImplementation()</code></a>.</p>  <p>This makes it easy to mock a function imported from a library:</p>  <pre class=""lang-js prettyprint-override""><code>// ---- lib.js ---- export function myFunctionA() {   return 'a'; }   // ---- myModule.js ---- import { myFunctionA } from './lib';  export function myFunctionB() {   return myFunctionA() + 'b';  // call lib.myFunctionA() }   // ---- myModule.test.js ---- import { myFunctionB } from './myModule'; import * as lib from './lib';  describe('myModule tests', () =&gt; {   test('myFunctionB works', () =&gt; {     const mock = jest.spyOn(lib, 'myFunctionA');  // create a spy on lib.myFunctionA()     mock.mockImplementation(() =&gt; 'c');  // replace the implementation      expect(myFunctionB()).toBe('cb');      mock.mockRestore();  // remove the spy and mock implementation   }); }); </code></pre>  <hr>  <p>In the code sample from the question <code>myModule</code> contains two functions and one calls the other directly.</p>  <p>Because a mock works on either an entire module or a module export, mocking the direct call to <code>myFunctionA()</code> from within <code>myFunctionB()</code> would be very difficult the way the code is written.</p>  <p>The easiest way I have found to work around situations like this is to import the module into itself and use the module when calling the function.  That way it is the module export that is being called and it can be mocked in the test:</p>  <pre class=""lang-js prettyprint-override""><code>// ---- myModule.js ---- import * as myModule from './myModule';  export function myFunctionA() {   return 'a'; }  export function myFunctionB() {   return myModule.myFunctionA() + 'b';  // call myModule.myFunctionA() }   // ---- myModule.test.js ---- import * as myModule from './myModule';  describe('myModule tests', () =&gt; {   test('myFunctionB works', () =&gt; {     const mock = jest.spyOn(myModule, 'myFunctionA');  // create a spy on myModule.myFunctionA()     mock.mockImplementation(() =&gt; 'c');  // replace the implementation      expect(myModule.myFunctionB()).toBe('cb');      mock.mockRestore();  // remove the spy and mock implementation   }); }); </code></pre>"
52082207	Trouble with scraping javascript-powered 'next' buttons with python	python|selenium|web-scraping	2018-08-29 16:31:36.667000 UTC	"<p>I am trying to scrape a website to learn python and web scraping. In particular, I was trying to scrape football data at this page: <a href=""https://www.whoscored.com/Regions/108/Tournaments/5/Seasons/7468/Stages/16548/PlayerStatistics/Italy-Serie-A-2018-2019"" rel=""nofollow noreferrer"">https://www.whoscored.com/Regions/108/Tournaments/5/Seasons/7468/Stages/16548/PlayerStatistics/Italy-Serie-A-2018-2019</a> </p>  <p>My main problem is how to scrape all the pages of the main data table, not just the first one. I am trying to figure it out using selenium and analysing the requests that my browser is sending when I click the 'next' button, but I am having some trouble. Thanks for your attention.</p>"	"<p>Using your browser's network tab when clicking the ""next"" button you can examine the actual xhr (AJAX) request that is being sent on to the server with each click. The request is to this URL:<br></p>  <pre><code>https://www.whoscored.com/StatisticsFeed/1/GetPlayerStatistics?category=summary&amp;subcategory=all&amp;statsAccumulationType=0&amp;isCurrent=true&amp;playerId=&amp;teamIds=&amp;matchId=&amp;stageId=16548&amp;tournamentOptions=5&amp;sortBy=Rating&amp;sortAscending=&amp;age=&amp;ageComparisonType=&amp;appearances=&amp;appearancesComparisonType=&amp;field=Overall&amp;nationality=&amp;positionOptions=&amp;timeOfTheGameEnd=&amp;timeOfTheGameStart=&amp;isMinApp=true&amp;page=2&amp;includeZeroValues=&amp;numberOfPlayersToPick=10 </code></pre>  <p>Notice the ""page"" query string parameter - this increments with every request you make. Also, the response to each request is actually very easy to parse JSON so you're pretty much good to go. </p>"
52084829	Download file via javascript onclick using Python?	python|post|get|onclick|python-requests	2018-08-29 19:30:41.513000 UTC	"<p>On this page there is a button that reads <code>Download CSV</code>: <a href=""http://www.nasdaqomxnordic.com/aktier/microsite?Instrument=CSE77855&amp;name=Pandora&amp;ISIN=DK0060252690"" rel=""nofollow noreferrer"">http://www.nasdaqomxnordic.com/aktier/microsite?Instrument=CSE77855&amp;name=Pandora&amp;ISIN=DK0060252690</a></p>  <p>How can I download the file using Python?</p>  <p>The html of the page reads:</p>  <pre><code>&lt;a class=""floatRight exportTrades"" id=""exportIntradayTradesCSV""&gt;Download CSV&lt;/a&gt;  &lt;script&gt; // #*  var tradesForShare = {     load: function () {         var q = {             ""SubSystem"": ""Prices"",             ""Action"": ""GetInstrument"",             ""inst.an"": ""nm"",             ""inst.e"": ""3"",             ""Exchange"": ""NMF"",             ""Instrument"": webCore.getInstrument(),             ""cache"": ""skip"",             ""app"": location[""pathname""],             ""datasource"": ""prod"",             ""translationFile"": ""translation"",             ""DefaultDecimals"": false         };          $(""#tradesForShareOutput"").loading(""/static/nordic/css/img/loading.gif"");         var nordicRTI = NordicRTI.getInstance();         var url = window.webCore.getWebAPIURL(""prod"", ""MarketData/GetMarketData"", true);         var tradesRTI = new RTIObject(url, q, function (data) {             tradesForShare.parseData(data);                        console.log(tradesRTI);         });         nordicRTI.addRTIObject(tradesRTI);          if($(""tradesForShareTable"").has(""tr.odd"")) {                      $('.exportTrades').removeClass('disabled');                      $('.exportTrades.disabled').css(""pointer-events"",""auto"");                 } else {                      $('.exportTrades').addClass('disabled');                      $('.exportTrades').css(""pointer-events"",""none"");                 }         /*webCore.getMarketData(q, function (data) {             tradesForShare.parseData(data);         }, true);*/          //var url = window.webCore.getWebAPIURL(""prod"", ""MarketData/GetMarketData"", true);         /*$.getJSON(url, q, function (data) {             tradesForShare.parseData(data);         });*/         /*$.ajax({             type: ""get"",             url: url,             data: q,             dataType: ""jsonp"",             cache: true,             success: function (data) {                 tradesForShare.parseData(data);             },             jsonp: ""callback""         });*/          //setTimeout ( tradesForShare.load, 1000*30 );  // update every minute     },     parseData: function (data) {         if(data.instruments != null) {             $(""#tradesForShareOutput"").empty();             var table = $(""&lt;table&gt;&lt;/table&gt;"").attr(""id"", ""tradesForShareTable"").addClass(""tablesorter"");             var thead = $(""&lt;thead&gt;&lt;/thead&gt;"");             var row = $(""&lt;tr&gt;&lt;/tr&gt;"");             var kurs = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""p"", data));// data.attributeTranslations.trades.p.trans[window.currentLanguage]);             var vol = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""v"", data));// data.attributeTranslations.trades.v.trans[window.currentLanguage]);             var name = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""nm"", data));// data.attributeTranslations.trades.nm.trans[window.currentLanguage]);             var buyer = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""b"", data));// data.attributeTranslations.trades.b.trans[window.currentLanguage]);             var seller = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""s"", data));// data.attributeTranslations.trades.s.trans[window.currentLanguage]);             var time = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""t"", data));// data.attributeTranslations.trades.t.trans[window.currentLanguage]);             row.append(kurs).append(vol).append(name).append(buyer).append(seller).append(time);             thead.append(row);             var tbody = $(""&lt;tbody&gt;&lt;/tbody&gt;"");             $.each(data.instruments[webCore.getInstrument().toLowerCase()].trades, function (k, v) {                 row = $(""&lt;tr&gt;&lt;/tr&gt;"");                 kurs = $(""&lt;td&gt;&lt;/td&gt;"").text(webCore.formatNumeric(v.values.p, 3));                 vol = $(""&lt;td&gt;&lt;/td&gt;"").text(window.webCore.formatNumeric(v.values.v, 0));                 name = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.nm);                 buyer = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.b);                 seller = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.s);                 time = $(""&lt;td&gt;&lt;/td&gt;"").text(webCore.getTimeFromDateString(v.values.t));                 row.append(kurs).append(vol).append(name).append(buyer).append(seller).append(time);                 tbody.append(row);             });             table.append(thead).append(tbody);             $(""#tradesForShareOutput"").append(table);             $(""#tradesForShareTable"").tablesorter({widgets: ['zebra']});         }     },     excel: function () {         var instrument = null;         instrument = window.webCore.getInstrument();         var utc = new Date().toJSON().slice(0,10).replace(/-/g,'-');         $(""#xlsForm"").attr( ""action"", webCore.getProxyURL(""prod""));         var xmlquery = webCore.createQuery( Utils.Constants.marketAction.getTrades, {}, {             t__a: ""1,2,5,10,7,8,18"",                          FromDate : utc,                          Instrument : instrument,             ext_contenttype : ""application/vnd.ms-excel"",             ext_contenttypefilename : ""share_export.xls"",             ext_xslt:""t_table_simple.xsl"",             ext_xslt_lang: currentLanguage,                         showall: ""1""         });         console.log(xmlquery);         $(""#xmlquery"").val( xmlquery );         $(""#xlsForm"").submit();     } };  $(function () {     tradesForShare.load(); $(""#exportIntradayTradesCSV"").on({         click: function (e) {                 tradesForShare.excel();             //window.webCore.exportTableToCSVClickEvent($(""#exportIntradayTradesCSV""), $(""#tradesForShareOutput""), '_' + window.webCore.getInstrument() + '.csv');         }     }); });    &lt;/script&gt; </code></pre>  <p>I tried using <code>Inspect</code> in Google Chrome and clicking on <code>Event Listeners</code>.</p>  <p>I got the following output, when clicking the button:</p>  <pre><code>&lt;post&gt; &lt;param name=""SubSystem"" value=""Prices""/&gt; &lt;param name=""Action"" value=""GetTrades""/&gt; &lt;param name=""Exchange"" value=""NMF""/&gt; &lt;param name=""t__a"" value=""1,2,5,10,7,8,18""/&gt; &lt;param name=""FromDate"" value=""2018-08-29""/&gt; &lt;param name=""Instrument"" value=""CSE77855""/&gt; &lt;param name=""ext_contenttype"" value=""application/vnd.ms-excel""/&gt; &lt;param name=""ext_contenttypefilename"" value=""share_export.xls""/&gt; &lt;param name=""ext_xslt"" value=""/nordicV3/t_table_simple.xsl""/&gt; &lt;param name=""ext_xslt_lang"" value=""en""/&gt; &lt;param name=""showall"" value=""1""/&gt; &lt;param name=""app"" value=""/aktier/microsite""/&gt; &lt;/post&gt; </code></pre>  <p>So I thought I could do something similar to the following, but it doesn't work; see output further below.</p>  <pre><code>import requests  url = 'http://www.nasdaqomxnordic.com/WebAPI/api/MarketData/GetMarketData' params = { ""SubSystem"": ""Prices"", ""Action"": ""GetTrades"", ""Exchange"": ""NMF"", ""t__a"": ""1,2,5,10,7,8,18"", ""FromDate"": ""2018-08-29"", ""Instrument"": ""CSE77855"", ""ext_contenttype"": ""application/vnd.ms-excel"", ""ext_contenttypefilename"": ""share_export.xls"", ""ext_xslt"": ""/nordicV3/t_table_simple.xsl"", ""ext_xslt_lang"": ""en"", ""showall"": ""1"", ""app"": ""/aktier/microsite"", }  r = requests.get(url, params=params)  print(r.json()) </code></pre>  <p>I get the following output:</p>  <pre><code>{'linkCall': 'SubSystem=Prices&amp;Action=GetTrades&amp;Exchange=NMF&amp;t.a=1&amp;t.a=2&amp;t.a=5&amp;t.a=10&amp;t.a=7&amp;t.a=8&amp;t.a=18&amp;FromDate=2018-08-29&amp;Instrument=CSE77855&amp;ext_contenttype=application%2fvnd.ms-excel&amp;ext_contenttypefilename=share_export.xls&amp;ext_xslt=%2fnordicV3%2ft_table_simple.xsl&amp;ext_xslt_lang=en&amp;showall=1&amp;app=%2faktier%2fmicrosite', 'instruments': None, 'derivatives': None, 'warrants': None, 'attributeTranslations': {}, 'message': None, 'success': False} </code></pre>  <p>If possible I would like to avoid <code>Selenium</code>.</p>"	"<p>In addition to the excellent solution proposed by t.m.adam, I also had to specify/mock <code>User-Agent</code> in headers to get a response from the post call:</p> <pre><code>headers = {'User-Agent': 'Safari/526.5'} r = requests.post(url, data={'xmlquery': xmlquery}, headers=headers) </code></pre>"
52084829	Download file via javascript onclick using Python?	python|post|get|onclick|python-requests	2018-08-29 19:30:41.513000 UTC	"<p>On this page there is a button that reads <code>Download CSV</code>: <a href=""http://www.nasdaqomxnordic.com/aktier/microsite?Instrument=CSE77855&amp;name=Pandora&amp;ISIN=DK0060252690"" rel=""nofollow noreferrer"">http://www.nasdaqomxnordic.com/aktier/microsite?Instrument=CSE77855&amp;name=Pandora&amp;ISIN=DK0060252690</a></p>  <p>How can I download the file using Python?</p>  <p>The html of the page reads:</p>  <pre><code>&lt;a class=""floatRight exportTrades"" id=""exportIntradayTradesCSV""&gt;Download CSV&lt;/a&gt;  &lt;script&gt; // #*  var tradesForShare = {     load: function () {         var q = {             ""SubSystem"": ""Prices"",             ""Action"": ""GetInstrument"",             ""inst.an"": ""nm"",             ""inst.e"": ""3"",             ""Exchange"": ""NMF"",             ""Instrument"": webCore.getInstrument(),             ""cache"": ""skip"",             ""app"": location[""pathname""],             ""datasource"": ""prod"",             ""translationFile"": ""translation"",             ""DefaultDecimals"": false         };          $(""#tradesForShareOutput"").loading(""/static/nordic/css/img/loading.gif"");         var nordicRTI = NordicRTI.getInstance();         var url = window.webCore.getWebAPIURL(""prod"", ""MarketData/GetMarketData"", true);         var tradesRTI = new RTIObject(url, q, function (data) {             tradesForShare.parseData(data);                        console.log(tradesRTI);         });         nordicRTI.addRTIObject(tradesRTI);          if($(""tradesForShareTable"").has(""tr.odd"")) {                      $('.exportTrades').removeClass('disabled');                      $('.exportTrades.disabled').css(""pointer-events"",""auto"");                 } else {                      $('.exportTrades').addClass('disabled');                      $('.exportTrades').css(""pointer-events"",""none"");                 }         /*webCore.getMarketData(q, function (data) {             tradesForShare.parseData(data);         }, true);*/          //var url = window.webCore.getWebAPIURL(""prod"", ""MarketData/GetMarketData"", true);         /*$.getJSON(url, q, function (data) {             tradesForShare.parseData(data);         });*/         /*$.ajax({             type: ""get"",             url: url,             data: q,             dataType: ""jsonp"",             cache: true,             success: function (data) {                 tradesForShare.parseData(data);             },             jsonp: ""callback""         });*/          //setTimeout ( tradesForShare.load, 1000*30 );  // update every minute     },     parseData: function (data) {         if(data.instruments != null) {             $(""#tradesForShareOutput"").empty();             var table = $(""&lt;table&gt;&lt;/table&gt;"").attr(""id"", ""tradesForShareTable"").addClass(""tablesorter"");             var thead = $(""&lt;thead&gt;&lt;/thead&gt;"");             var row = $(""&lt;tr&gt;&lt;/tr&gt;"");             var kurs = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""p"", data));// data.attributeTranslations.trades.p.trans[window.currentLanguage]);             var vol = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""v"", data));// data.attributeTranslations.trades.v.trans[window.currentLanguage]);             var name = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""nm"", data));// data.attributeTranslations.trades.nm.trans[window.currentLanguage]);             var buyer = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""b"", data));// data.attributeTranslations.trades.b.trans[window.currentLanguage]);             var seller = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""s"", data));// data.attributeTranslations.trades.s.trans[window.currentLanguage]);             var time = $(""&lt;th&gt;&lt;/th&gt;"").text(webCore.getTranslationFor(""trades"", ""t"", data));// data.attributeTranslations.trades.t.trans[window.currentLanguage]);             row.append(kurs).append(vol).append(name).append(buyer).append(seller).append(time);             thead.append(row);             var tbody = $(""&lt;tbody&gt;&lt;/tbody&gt;"");             $.each(data.instruments[webCore.getInstrument().toLowerCase()].trades, function (k, v) {                 row = $(""&lt;tr&gt;&lt;/tr&gt;"");                 kurs = $(""&lt;td&gt;&lt;/td&gt;"").text(webCore.formatNumeric(v.values.p, 3));                 vol = $(""&lt;td&gt;&lt;/td&gt;"").text(window.webCore.formatNumeric(v.values.v, 0));                 name = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.nm);                 buyer = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.b);                 seller = $(""&lt;td&gt;&lt;/td&gt;"").text(v.values.s);                 time = $(""&lt;td&gt;&lt;/td&gt;"").text(webCore.getTimeFromDateString(v.values.t));                 row.append(kurs).append(vol).append(name).append(buyer).append(seller).append(time);                 tbody.append(row);             });             table.append(thead).append(tbody);             $(""#tradesForShareOutput"").append(table);             $(""#tradesForShareTable"").tablesorter({widgets: ['zebra']});         }     },     excel: function () {         var instrument = null;         instrument = window.webCore.getInstrument();         var utc = new Date().toJSON().slice(0,10).replace(/-/g,'-');         $(""#xlsForm"").attr( ""action"", webCore.getProxyURL(""prod""));         var xmlquery = webCore.createQuery( Utils.Constants.marketAction.getTrades, {}, {             t__a: ""1,2,5,10,7,8,18"",                          FromDate : utc,                          Instrument : instrument,             ext_contenttype : ""application/vnd.ms-excel"",             ext_contenttypefilename : ""share_export.xls"",             ext_xslt:""t_table_simple.xsl"",             ext_xslt_lang: currentLanguage,                         showall: ""1""         });         console.log(xmlquery);         $(""#xmlquery"").val( xmlquery );         $(""#xlsForm"").submit();     } };  $(function () {     tradesForShare.load(); $(""#exportIntradayTradesCSV"").on({         click: function (e) {                 tradesForShare.excel();             //window.webCore.exportTableToCSVClickEvent($(""#exportIntradayTradesCSV""), $(""#tradesForShareOutput""), '_' + window.webCore.getInstrument() + '.csv');         }     }); });    &lt;/script&gt; </code></pre>  <p>I tried using <code>Inspect</code> in Google Chrome and clicking on <code>Event Listeners</code>.</p>  <p>I got the following output, when clicking the button:</p>  <pre><code>&lt;post&gt; &lt;param name=""SubSystem"" value=""Prices""/&gt; &lt;param name=""Action"" value=""GetTrades""/&gt; &lt;param name=""Exchange"" value=""NMF""/&gt; &lt;param name=""t__a"" value=""1,2,5,10,7,8,18""/&gt; &lt;param name=""FromDate"" value=""2018-08-29""/&gt; &lt;param name=""Instrument"" value=""CSE77855""/&gt; &lt;param name=""ext_contenttype"" value=""application/vnd.ms-excel""/&gt; &lt;param name=""ext_contenttypefilename"" value=""share_export.xls""/&gt; &lt;param name=""ext_xslt"" value=""/nordicV3/t_table_simple.xsl""/&gt; &lt;param name=""ext_xslt_lang"" value=""en""/&gt; &lt;param name=""showall"" value=""1""/&gt; &lt;param name=""app"" value=""/aktier/microsite""/&gt; &lt;/post&gt; </code></pre>  <p>So I thought I could do something similar to the following, but it doesn't work; see output further below.</p>  <pre><code>import requests  url = 'http://www.nasdaqomxnordic.com/WebAPI/api/MarketData/GetMarketData' params = { ""SubSystem"": ""Prices"", ""Action"": ""GetTrades"", ""Exchange"": ""NMF"", ""t__a"": ""1,2,5,10,7,8,18"", ""FromDate"": ""2018-08-29"", ""Instrument"": ""CSE77855"", ""ext_contenttype"": ""application/vnd.ms-excel"", ""ext_contenttypefilename"": ""share_export.xls"", ""ext_xslt"": ""/nordicV3/t_table_simple.xsl"", ""ext_xslt_lang"": ""en"", ""showall"": ""1"", ""app"": ""/aktier/microsite"", }  r = requests.get(url, params=params)  print(r.json()) </code></pre>  <p>I get the following output:</p>  <pre><code>{'linkCall': 'SubSystem=Prices&amp;Action=GetTrades&amp;Exchange=NMF&amp;t.a=1&amp;t.a=2&amp;t.a=5&amp;t.a=10&amp;t.a=7&amp;t.a=8&amp;t.a=18&amp;FromDate=2018-08-29&amp;Instrument=CSE77855&amp;ext_contenttype=application%2fvnd.ms-excel&amp;ext_contenttypefilename=share_export.xls&amp;ext_xslt=%2fnordicV3%2ft_table_simple.xsl&amp;ext_xslt_lang=en&amp;showall=1&amp;app=%2faktier%2fmicrosite', 'instruments': None, 'derivatives': None, 'warrants': None, 'attributeTranslations': {}, 'message': None, 'success': False} </code></pre>  <p>If possible I would like to avoid <code>Selenium</code>.</p>"	"<p>Inspecting the html I've noticed that the form's action is <code>/webproxy/DataFeedProxy.aspx</code> and the method is <code>post</code>. That means that the form is submitted to: <code>http://www.nasdaqomxnordic.com/webproxy/DataFeedProxy.aspx</code> via POST request. The form has one field with name <code>xmlquery</code> and value the html in your question. The code below should download the file.  </p>  <pre><code>import requests  url = 'http://www.nasdaqomxnordic.com/webproxy/DataFeedProxy.aspx' xmlquery = '''&lt;post&gt; &lt;param name=""SubSystem"" value=""Prices""/&gt; &lt;param name=""Action"" value=""GetTrades""/&gt; &lt;param name=""Exchange"" value=""NMF""/&gt; &lt;param name=""t__a"" value=""1,2,5,10,7,8,18""/&gt; &lt;param name=""FromDate"" value=""2018-08-29""/&gt; &lt;param name=""Instrument"" value=""CSE77855""/&gt; &lt;param name=""ext_contenttype"" value=""application/vnd.ms-excel""/&gt; &lt;param name=""ext_contenttypefilename"" value=""share_export.xls""/&gt; &lt;param name=""ext_xslt"" value=""/nordicV3/t_table_simple.xsl""/&gt; &lt;param name=""ext_xslt_lang"" value=""en""/&gt; &lt;param name=""showall"" value=""1""/&gt; &lt;param name=""app"" value=""/aktier/microsite""/&gt; &lt;/post&gt;'''  r = requests.post(url, data = {'xmlquery': xmlquery}) html = r.text </code></pre>  <p>The file is not csv (neither is the file that I get from my browser), it has .xls extension but contains a large html table. However you could create a csv file with the help of <code>BeautifulSoup</code> and <code>csv</code>.  </p>  <pre><code>from bs4 import BeautifulSoup import csv  soup = BeautifulSoup(html, 'html.parser') names = [i.text for i in soup.select('th')] + ['Name'] values = [     [td.text for td in tr.select('td')] + [tr.td['title'].rstrip(' - ')]     for tr in soup.select('tr')[1:] ]  with open('file.csv', 'w', newline='') as f:     writer = csv.writer(f)     writer.writerow(names)     writer.writerows(values) </code></pre>  <p>Note that it may take some time for <code>BeautifulSoup</code> to parse the file as it is quite large. If you're using Python 2x <code>open</code> doesn't accept the <code>newline</code> parameter. In that case you'll have to open the file in binary mode or it may contain empty lines.</p>  <hr>  <p>As mentioned by <a href=""https://stackoverflow.com/users/778533/tommy-carstensen"">tommy.carstensen</a>, <code>pandas</code> is better for this task. It has the right tools (<a href=""https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_html.html"" rel=""nofollow noreferrer""><code>read_html</code></a> and <a href=""https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html"" rel=""nofollow noreferrer""><code>to_csv</code></a>) and it's faster than <code>BeautifulSoup</code>.  </p>  <pre><code>import pandas as pd  pd.read_html(htm_string, index_col='Time', parse_dates=True)[0].to_csv(path) </code></pre>  <p>The <code>Name</code> column is not included in the file because it's not in the table columns, but it's the value of a <code>title</code> attribute. But we could get this column by other means - from the original url for example. Since it's the same for all columns we could just create a new <code>Name</code> column with the <code>name</code> value of the query string.</p>  <pre><code>import pandas as pd from urllib.parse import urlparse, parse_qs  url = 'http://www.nasdaqomxnordic.com/aktier/microsite?Instrument=CSE77855&amp;name=Pandora&amp;ISIN=DK0060252690' df = pd.read_html(html, index_col='Time', parse_dates=True)[0] df['Name'] = parse_qs(urlparse(url).query)['name'][0] df.to_csv('file.csv') </code></pre>"
52129856	how to run python script from javascript file?	javascript|python|html|google-chrome-extension|brython	2018-09-01 16:00:36.110000 UTC	"<p>I'm trying to run a python script in a chrome extension with brython and I'm stuck because of the content security policy.  The only tutorial I could find recommended I set up an html file like this:</p>  <pre><code>&lt;body onLoad=""""&gt; &lt;iframe src=""C:\\hello.py"" id=""frame"" seamless=""seamless"" scrolling=""no""&gt;&lt;/iframe&gt; &lt;/body&gt; </code></pre>  <p>but an error always pops up in the console saying:</p>  <pre><code>""Refused to execute inline event handler because it violates the following  Content Security Policy directive: ""script-src 'self'"". Either the 'unsafe-  inline' keyword, a hash ('sha256-...'), or a nonce ('nonce-...') is required  to enable inline execution."" </code></pre>  <p>I have this line in my manifest file:</p>  <pre><code>""content_security_policy"": ""script-src 'self' 'unsafe-inline'; object-src 'self'"", </code></pre>  <p>but I assume it's not doing anything since people have said that the 'unsafe-inline"" keyword is deprecated.</p>  <p>Is there any way to do this in a javascript file and not in the html, and is that a way to get around this problem? I'm really not sure what I'm doing here, so can someone please point me in the right direction?</p>"	
52132876	Recursion and Variables in Javascript - Difference with Python	javascript|python|recursion	2018-09-01 23:21:44.847000 UTC	"<p>I have a uncyclic directed graph, represented by a dictionnary (example <code>{1: [2,3] , 2:[], 3: [4], 4:[]}</code> ). </p>  <p>I want to find the size of the longest branch from a given source vertex, let say 1 for this example.</p>  <p>I wrote following javascript recursive function:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function computeLongest(graph, node){     if (graph[node].length === 0){         return 1;     }     else{         var l = [];         for (var i=0; i &lt; graph[node].length; i++){             l.push(computeLongest(graph, graph[node][i]));         }         return 1+Math.max(l);     }          }</code></pre> </div> </div> </p>  <p>If I test this function with previous example, simple tree which looks like :</p>  <pre><code>  1  / \ 2   3      \       4 </code></pre>  <p>My result is 2 and not 3. It looks like my list <code>l</code> is beeing modified in the recursive calls of the function.</p>  <p>If I write the same function in Python, it works fine.</p>  <p>Are there any differences between Python and Javascript in the way we handle recursion and associated variables ? I don't understand why the behaviour is not the same.</p>  <p>Python code:</p>  <pre><code>def c(graph, number):     if len(graph[number]) == 0:         return 1     l = []     for child in graph[number]:         l.append(c(graph, child))     return 1+max(l) </code></pre>"	"<p>Your issue is probably from a difference in <code>max</code> implementation.</p>  <p>The <code>max</code> function in python doesn't behave like <code>Math.max</code> in javascript. If given an array, Python will find a way to get the maximum value out of it. Javascript will not. In javascript, the expected input is a list of arguments, e.g <code>Math.max(1,4,3,2)</code>.</p>  <p>Ex:</p>  <p><strong>Python</strong></p>  <pre><code>max([1,4,3,2]) # returns 4 </code></pre>  <p><strong>Javascript</strong></p>  <pre><code>Math.max([1,4,3,2]) # returns NaN </code></pre>  <p>In fact, I am surprised that your javascript code works.</p>  <hr>  <p><em>Update</em></p>  <p>As stated in the comments, you may use the spread operator <code>...</code> to use <code>Math.max</code> with an array and still, provide the expected input.</p>  <p><code>Math.max(...[1,4,3,2])</code> is equivalent to <code>Math.max(1,4,3,2)</code>, hence <code>Math.max(...l)</code> will expand in <code>Math.max(l[0], l[1]... l[N])</code>.</p>"
52135161	javascript - javascript version of Python's one-line list comprehension code	javascript|python|arrays|list	2018-09-02 08:13:39.967000 UTC	"<p>I'm a Python programmer, and learning how to write clean codes in JavaScript. I want to replicate the following python code using Javascript code:</p>  <pre><code>array = [...] # some array foo = [ x.data for x in array ]  &gt;&gt;&gt; foo = [ obj_1, obj_2, obj_3 ... ]  someDict = {'key_1': [0,1], 'key_2': [3,4], 'key_3': [5,6]}  bar = [{key: someDict[key][i] for key in someDict.keys()} for i in range(2)] &gt;&gt;&gt; bar = [{'key_1': 0, 'key_2': 3, 'key_3': 5},                  {'key_1': 1, 'key_2': 4, 'key_3': 6}] </code></pre>  <p>Is there any 'clean' way translating the above python code into a javascript code? Hopefully in one-line, not using 3-4 lines of for-loop code</p>"	"<p>For the first one, the function you're looking for is <code>.map</code>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const arr = [ { data: 'foo' }, { data: 'bar' } ]; console.log(   arr.map(({ data }) =&gt; data) );</code></pre> </div> </div> </p>  <p>For the second, there isn't really any way around it other than iterating over each entry in the object, and assigning each item in the object values's array to the appropriate place in the accumulator, if you use <code>reduce</code>. Remember to destructure the arguments for minimal syntax noise:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const someDict = {'key_1': [0,1], 'key_2': [3,4], 'key_3': [5,6]}; const result = Object.entries(someDict).reduce(   (a, [key, [v0, v1]]) =&gt; {     a[0][key] = v0;     a[1][key] = v1;     return a;   },   [{},{}] ); console.log(result);</code></pre> </div> </div> </p>  <p>It may not look as clean as list comprehensions, but you'll <em>have</em> to do something like the above to achieve your desired result, assuming you're working with vanilla JS.</p>"
52144860	"ElectronJS, JavaScript and Python - require is not defined tried all the options"	javascript|html|node.js|python-3.x|electron	2018-09-03 07:18:23.093000 UTC	"<p>I have a problem when I try to execute the following line:</p>  <pre><code>var path = require('path')  </code></pre>  <p>i get </p>  <pre><code>Uncaught ReferenceError: require is not defined </code></pre>  <p>all work fine except from require  error, why? </p>  <p>i have 3 files: </p>  <p>translate.js: </p>  <pre><code>function get_translate(){ var path = require('path')  var trans = document.getElementById(""trans"").value document.getElementById(""trans"").value = """"  var options = { scriptPath : path.join(__dirname, '/../engine/'), args : [trans] } translate = PythonShell.run('translate_engine.py', options); translate.on('message', function(message) { swal(message); }) } </code></pre>  <p>translate.html: </p>  <pre><code>&lt;head&gt; &lt;link rel=""stylesheet""  href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css""&gt; &lt;script src=""https://unpkg.com/sweetalert/dist/sweetalert.min.js""&gt;&lt;/script&gt; &lt;script  src=""https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;  &lt;/script&gt; &lt;script src=""linkers/translate.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt; &lt;br&gt; &lt;div class=""container""&gt; &lt;button=""btn btn-info""&gt;&lt;a style=""color:white"" href=""gui.html""&gt;Back&lt;/a&gt;  &lt;/button&gt;  &lt;div class=""jumbotron""&gt;   &lt;h1&gt;Translate App&lt;/h1&gt;   &lt;br&gt;   &lt;label&gt;Enter you word here&lt;/label&gt;   &lt;input id=""trans"" type=""text"" placeholder=""Text""/&gt;   &lt;button class=""but but-success"" onclick=""get_translate()""&gt;Go&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; </code></pre>  <p>translate_engine.py: </p>  <pre><code>import sys trans = sys.argv[1] print(trans) sys.stdout.flush() </code></pre>  <p>thank's</p>"	"<p>Are you trying to execute this code in an electron BrowserWindow?</p>  <p>If yes, check if <code>nodeIntegration</code> isn't set to <code>false</code> when initiating the <code>BrowserWindow</code>. </p>  <pre class=""lang-js prettyprint-override""><code>mainWindow = new BrowserWindow({   minWidth: 370,   minHeight: 520,   webPreferences: {     nodeIntegration: true,   }, }); </code></pre>  <p><code>nodeIntegration</code> is actually <code>true</code> by default, so you can remove this line as well – I'm just trying to make it super obvious ;)</p>  <p>As long as <code>nodeIntegration</code> is <code>true</code> you can run <em>any</em> nodeJS code in the electron render process. </p>  <p>This goes beyond your initial question and it's a little bit more advanced, but If you don't want to enable this as it comes with numerous <a href=""https://github.com/electron/electron/blob/master/docs/tutorial/security.md"" rel=""nofollow noreferrer"">security issues</a>, you can just expose certain nodeJS methods to the render process. You can do this with a preload script.</p>  <pre class=""lang-js prettyprint-override""><code>mainWindow = new BrowserWindow({   ...   webPreferences: {     nodeIntegration: false,     preload: path.join(__dirname, 'preload.js') // here you can re-expose certain methods such as `require`   }, }); </code></pre>  <blockquote>   <p>preload String (optional) - Specifies a script that will be loaded before other scripts run in the page. This script will always have access to node APIs no matter whether node integration is turned on or off. The value should be the absolute file path to the script. When node integration is turned off, the preload script can reintroduce Node global symbols back to the global scope.</p> </blockquote>  <p>More infos can be found here: <a href=""https://electronjs.org/docs/api/process#event-loaded"" rel=""nofollow noreferrer"">https://electronjs.org/docs/api/process#event-loaded</a></p>"
52149938	Python Selenium does not update html after a Javascript execution	selenium|selenium-webdriver	2018-09-03 12:36:57.357000 UTC	"<p>I am testing out the code below to scrape some <a href=""https://marketchameleon.com/Screeners/Options"" rel=""nofollow noreferrer"">Options data</a> from Marketchameleon.com. The original table is sorted by ATM IV % Change, however I would like to sort it by Implied Straddle Premium column. As it is not a button to click I though about (after checking the HTML source) doing it like that:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from bs4 import BeautifulSoup as BSoup browser = webdriver.PhantomJS() browser.get(""https://marketchameleon.com/Screeners/Options"")     bs_obj = BSoup(browser.page_source, 'html.parser').encode(""utf-8"") with open(""Market_Chameleon_Unsorted.html"", ""w"") as file:     file.write(str(bs_obj)) element = browser.find_element_by_xpath(""//th[@aria-label='Implied StraddlePremium %: activate to sort column ascending']"") browser.execute_script(""arguments[0].setAttribute('aria-label','Implied StraddlePremium %: activate to sort column descending')"", element) bs_obj = BSoup(browser.page_source, 'html.parser').encode(""utf-8"") with open(""Market_Chameleon_Sorted.html"", ""w"") as file:     file.write(str(bs_obj)) </code></pre>  <p>The code runs without any errors, but it does not sort the table, i.e the unsorted and the sorted one are the same (I parse the HTML files in R). It seems the page does not really refresh after the html is modified by javascript. If I do a normal refresh, I again get the original html with the unsorted table. How can I explain Selenium to sort the table? Is there another way?</p>"	
52174867	Call Python script from local JavaScript App	javascript|python|electron|method-call|asynchronous-method-call	2018-09-04 22:44:11.060000 UTC	"<p>so I've looked around quite a bit now and wasn't able to find quite the use case I think I am confronted with.</p>  <p>For some background: I'm fairly new to JavaScript and have never had to call any other program/script from it. Now I did develop a Python script that pulls some data from online sources, formats it and dumps it into JSON files. In order to display this data in a proper way I figured I would use Electron.</p>  <p>While handling the JSON files is completely fine (would be quite sad if it wasn't I guess), I need to be able to call the Python script updating the data from my Electron UI. As everything is local, I hoped, that there would be an easier way, than setting up some server for the Python script to run on, just to be able to trigger its execution from my Desktop App. This is especially true, as I don't even need to get or process any returns, I just want to trigger the execution of that script.</p>  <p>So the question now is: is there such an ""easy"" way to execute Python scripts from an Electron/JavaScript based locally saved Desktop app?</p>  <p>Thanks in advance for any answers!</p>"	"<p>Alright, so after being redirected to <a href=""https://stackoverflow.com/questions/23450534/how-to-call-a-python-function-from-node-js"">this thread</a>, which I can only recommend reading through if you have an interest in this issue, I took their solution and altered a little, which took me a bit of time, due to some confusion, which I now would like to spare you guys!</p>  <p>To re-introduce the issue: The goal is to call a python script from a JavaScipt/Electron based UI. The python script only needs to be executed, but it needs to happen onClick, as it is an update function.</p>  <p>Now this is the code I used:</p>  <pre><code>const exec = require(""child_process"").exec;  function triggerUpdateAndRefreshFooter() {   exec('python relativePathToScript/update.py',     function(error, stdout, stderr) {                    //callback function, receives script output       refreshFooter();                                  //don't use the output, but I could here     }   ) } </code></pre>  <p>I did have some issues figuring out all of that const stuff in the other thread, as well as having to guess IF I could just execute my script in a separate function. In the end this did work!</p>  <p>I hope this was helpful!</p>"
52174867	Call Python script from local JavaScript App	javascript|python|electron|method-call|asynchronous-method-call	2018-09-04 22:44:11.060000 UTC	"<p>so I've looked around quite a bit now and wasn't able to find quite the use case I think I am confronted with.</p>  <p>For some background: I'm fairly new to JavaScript and have never had to call any other program/script from it. Now I did develop a Python script that pulls some data from online sources, formats it and dumps it into JSON files. In order to display this data in a proper way I figured I would use Electron.</p>  <p>While handling the JSON files is completely fine (would be quite sad if it wasn't I guess), I need to be able to call the Python script updating the data from my Electron UI. As everything is local, I hoped, that there would be an easier way, than setting up some server for the Python script to run on, just to be able to trigger its execution from my Desktop App. This is especially true, as I don't even need to get or process any returns, I just want to trigger the execution of that script.</p>  <p>So the question now is: is there such an ""easy"" way to execute Python scripts from an Electron/JavaScript based locally saved Desktop app?</p>  <p>Thanks in advance for any answers!</p>"	"<p>Like a previous commenter mentioned, you should be able to follow <a href=""https://stackoverflow.com/questions/23450534/how-to-call-a-python-function-from-node-js"">this SO answer</a> in Node.js (which is what Electron uses).</p>  <p>To expound upon that answer just a bit, I'd recommend using the <a href=""https://docs.python.org/3/library/json.html"" rel=""nofollow noreferrer"">built-in Python JSON utility</a> to dump JSON to the standard out (just printing out the JSON string), and the using the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"" rel=""nofollow noreferrer"">built-in Node.js JSON utility</a> to parse that JSON string into a javascript object for use in your application.</p>"
52176609	How to call python array in Javascript and use it for plotly	javascript|html|python-2.7|plotly.js	2018-09-05 03:26:18.767000 UTC	"<p>I would like to plot many chart in my website but my array that I pass to HTML has about 10-12 data(or more). </p>  <p>This is the source of array:</p>  <pre><code>        dataTrace = chartData.AvgTorque(sql)         global graphJSON         graphJSON = []         for i in range(len(dataTrace)):             graphJSONCreated = json.dumps(dataTrace[i], cls=plotly.utils.PlotlyJSONEncoder)             graphJSON.append(graphJSONCreated)         return render_template('spc_chart.html', graphJSON=graphJSON) </code></pre>  <p>My array that I pass to HTML look like this : </p>  <pre><code>graphJSON = [dataTrace1, dataTrace2, dataTrace3, ... ] </code></pre>  <p>I would like write code about this <strong>but</strong> I don't know how to use Javascript language. :</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>&lt;script type=""text/javascript""&gt;     var graphs1 = {{graphJSON[0] | safe}};     var graphs2 = {{graphJSON[1] | safe}};     var graphs3 = {{graphJSON[2] | safe}};     var graphs4 = {{graphJSON[3] | safe}};     var graphs5 = {{graphJSON[4] | safe}};     var graphs6 = {{graphJSON[5] | safe}};     var graphs7 = {{graphJSON[6] | safe}};     var graphs8 = {{graphJSON[7] | safe}};     var graphs9 = {{graphJSON[8] | safe}};     var graphs10 = {{graphJSON[9] | safe}};     var graphs11 = {{graphJSON[10] | safe}};     var graphs12 = {{graphJSON[11] | safe}};      Plotly.plot('chart1',graphs1,{});             Plotly.plot('chart2',graphs2,{});             Plotly.plot('chart3',graphs3,{});             Plotly.plot('chart4',graphs4,{});             Plotly.plot('chart5',graphs5,{});             Plotly.plot('chart6',graphs6,{});             Plotly.plot('chart7',graphs7,{});             Plotly.plot('chart8',graphs8,{});             Plotly.plot('chart9',graphs9,{});             Plotly.plot('chart10',graphs10,{});             Plotly.plot('chart11',graphs11,{});             Plotly.plot('chart12',graphs12,{});   &lt;/script&gt;</code></pre> </div> </div> </p>  <p><strong>Note : I am not good in English may use the wrong words, or spell.</strong></p>"	"<p>Before using in Javascript, try print the same within some html tag to check if your values are passed to html.</p>  <p>e.g, {{ graphJSON[0] | safe }}</p>  <p>If it is successfull, then try using the same value within <strong>double quotes</strong> inside javascript.</p>  <p>e.g, var graphs1 = ""{{graphJSON[0] | safe}}"";</p>"
52179551	Python data won't load properly in JavaScript Leaflet map	javascript|python|flask|leaflet	2018-09-05 07:33:49.190000 UTC	"<p>I'm trying to take user input of a home address from a text box, geocode the address, and load the data on a leaflet map. I'm getting the correct latitude and longitude, and it's appearing on my html template as intended. However, if I try to pass that python data to JavsScript, the data doesn't load. Not sure if I'm explaining this correctly; I'm very new to programming. Here's my code:</p>  <p><strong>HTML index</strong></p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Examples&lt;/title&gt; &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"" integrity=""sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"" crossorigin=""anonymous""&gt; &lt;/head&gt; &lt;body&gt;     &lt;h1&gt;enter your address&lt;/h1&gt;      &lt;form method=""POST"" action=""/""&gt;         &lt;div class=""form-group""&gt;             &lt;input type=""text"" name=""address""&gt;         &lt;/div&gt;         &lt;input class=""btn btn-primary"" type=""submit"" value=""submit""&gt;     &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p><strong>HTML template that loads after button is clicked</strong></p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;Examples&lt;/title&gt;     &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"" integrity=""sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"" crossorigin=""anonymous""&gt;     &lt;link rel=""stylesheet"" href=""http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css"" /&gt;     &lt;link rel=""stylesheet"" href=""static/style.css""&gt;     &lt;script src=""http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js""&gt;&lt;/script&gt;     &lt;script src=""https://code.jquery.com/jquery-2.1.4.min.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript"" src=""static/map.js""&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt;     &lt;h1&gt;address is {{ userlat, userlng }}&lt;/h1&gt;     &lt;div id=""map""&gt;&lt;/div&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p><strong>Python/Flask file</strong></p>  <pre><code>from flask import Flask, render_template, request from geopy.geocoders import GoogleV3  app = Flask(__name__)  @app.route('/', methods=['GET', 'POST']) def index():     if request.method == 'POST':         address = request.form['address']         geolocator = GoogleV3()         location = geolocator.geocode(address)         userlat = location.latitude         userlng = location.longitude         return render_template('address.html', userlat=userlat, userlng=userlng)     return render_template('index.html')   if __name__ == '__main__':     app.run(debug=True) </code></pre>  <p><strong>Leaflet map</strong></p>  <pre><code>window.onload = function () {    var maplat = '{{ userlat }}'   var mapltd = '{{ userltd }}'   var map = L.map('map').setView([47.60, -122.33], 13);    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {     attribution: '&amp;copy; &lt;a href=""https://www.openstreetmap.org/copyright""&gt;OpenStreetMap&lt;/a&gt; contributors'     }).addTo(map);    L.marker([maplat, mapltd]).addTo(map)     .bindPopup('your address')     .openPopup();    }; </code></pre>  <p>I'm sure it has something to do with var maplat = '{{ userlat }}' and var mapltd = '{{ userltd }}', but I can't seem to figure it out. Thank you!</p>  <p>Edit: I forgot to add that I'm getting an error in the console ""Invalid LatLng object: ({{ userlat }}, {{ userltd }})""</p>"	
52191396	Problem with hex while transforming JavaScript to Python code	javascript|python|node.js|hex|buffer	2018-09-05 18:28:06.460000 UTC	"<p>I have a code below that I need to transform to python code and there is a few problems for me.  First of all not sure if I got the point with Buffer. </p>  <pre><code>var dgram = require(""dgram""); var async = require(""async""); var util = require(""util"");  var server = dgram.createSocket('dod3'); var domestic = require('./utils/domestic');  server.on(""message"", function (mess_data, remote) {     var buf = new Buffer(mess_data, 'hex');      if(buf[22] === 2) {         return;     }      var log_date = new Date().toISOString();      try {         var adress_m = buf.slice(16, 22).toString('hex').toUpperCase();         var status_id = buf.readUInt32BE(4);         var usage = buf.slice(1,2).toString('hex');         //var delta_time = buf.readUInt32BE(8);         var time = parseInt((new Date().getTime() / 1000), 10);     }     catch(ex) {         console.error(util.format('%s PARSE 500 \""%s\""', log_date, ex));     }     async.waterfall([         function(callback){             client.hgetall(ams_id, function (error, domestic){                 if(domestic) {                     callback(null, domestic[""domestic_id""]);                 }                 else {                     console.error(util.format('%s  404 \"" No data found for %s | %s\""', log_date, status_id, error));                     callback(null, null)                 }             })         },         function(domestic_id, callback){             if(domestic_id) {                 callback(null, domestic_id);             }             else {                 domestic.get_domestic_id_by_ams(ams_id, function(result){                         callback(null, result);                 });             }         }     ], function (error, domestic_id) {         if(domestic_id == null) {             return;         }          if(ams_id.toString().length &gt; 4) {             ams_id = ams_id - 16777216;         }          var data = {             ""user"": {                 ""enter"" : false             },             ""device"" : {                 ""type"" : ""fev"",                 ""mac"": adress_m             },             ""event"" : {                 ""origin"" : ""call"",                 ""timestamp"": time,                 ""type"": ""zap"",                 ""product-type"" : ""domestic"",                 ""channel"": {                     ""id"" : domestic_id,                     ""ams-id"": ams_id                 },                 ""content"": {                     ""usage"": usage                 }             }         }; </code></pre>  <p>My python code:</p>  <pre><code>def parse_jspy(mess_data):     buf = (hashlib.sha256(bytearray.fromhex(mess_data)).hexdigest())     buf = int(buf, 16)      buf_check = str(buf)     if buf_check[22] == 2:         pass      datetime_now = datetime.now()     log_date = datetime_now.isoformat()     adress_m = buf_check[16:22]     status_id = buf_check[4:]     usage = buf_check[1:2]     time_a = int(time())     dict_test = {     ""user"": {         ""enter"" : 'false'     },     ""device"" : {         ""type"" : ""net"",         ""adress_m"": adress_m     },     ""event"" : {         ""origin"" : ""flex"",         ""timestamp"": time_a,         ""type"": ""relevant"",         ""product-type"" : ""info"",         ""channel"": {             ""id"" : domestic_id,             ""status_id"": status_id         },         ""content"": {             ""usage"": usage         }     }     };     print dict_test    test_data = ""02 01 01 dc 01 00 02 02 00 01 9a ba 02 01 9a bb 01 04 30 53 23 11 01"" </code></pre>  <p>The main problem is that I can't really well understand javascript code and not sure about this buffer function, and that causes problems in the following functions.<br> Also, I can't understand the code between ""async.waterfall"" and json (var data), help with this would be nice too, but not primary. Buffer and try/catch is the must important.</p>  <p>If there is any question or something I can additionaly provide, here I am. Any kind of help is welcomed, thanks in advance. :) </p>"	"<p>I had to do a similar conversion but the other way, from python to java. I think that the buffer has bytes of data so the slices are access specific bytes and setting to variables. Sorry, I would have just commented but can't because don't have 50 reputation yet.</p>"
52211968	Run a javascript function of a website using Python	javascript|python|html|selenium	2018-09-06 20:48:55.437000 UTC	"<p>I've been wondering whether or not this is possible -</p>  <p>Here is a picture of Chrome's ""inspect element"" on this website. <a href=""https://i.stack.imgur.com/NYSmB.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NYSmB.jpg"" alt=""enter image description here""></a></p>  <p>Is it possible for me to run the ""goCourseDetails"" js function with my own parameters?</p>  <p>I'm using Python and selenium to try and write a script that does that for me, but I don't know how to access the JS function.</p>  <p>Thanks in advance.</p>"	"<p>You can use <code>driver.execute_script()</code> to execute javascript snippet in browser.</p>  <p>The function <code>goCourseDetails</code> can be obtain from browser global variable <code>window</code></p>  <pre><code>driver.execute_script('window.goCourseDetails.call(null, arguments)',       &lt;department&gt;, &lt;degreelevel&gt;, &lt;course&gt;, &lt;detail&gt;, &lt;year&gt;, &lt;semester&gt; ) </code></pre>"
52222334	"How input date as string in javascript client, pass to python server, and store as datetime in myql?"	javascript|python|mysql	2018-09-07 12:13:08.777000 UTC	"<p>I want my users to input date as a <code>string</code>.</p>  <p>The date is passed via a Python backend to a MySQL database where it is stored as <code>datetime</code>.</p>  <p>What is a way of doing this? To clarify, I am asking what kinds of conversions I should do, where, and using what packages.</p>"	"<p>Now a lot of things in this domain depends on your use-case but I'll take a shot. I'm guessing you pass your data to the server after <code>JSON.stringify</code>ing it? </p>  <p>Now we have data on the server. You get everything as json strings, do a json loads and convert them to python strings(unicodes) on your server. From here on, things are easy except for one single problem</p>  <blockquote>   <p>You'll have to know the format of your date beforehand</p> </blockquote>  <p><strong>Why</strong>?</p>  <p>Because you'll have to do a <code>strptime</code> on your date. A simple example of converting a string date to datetime object is -</p>  <pre><code>from datetime import datetime dt = datetime.strptime(""21/11/06 16:30"", ""%d/%m/%y %H:%M"")  # strptime(""date string"", ""format of date"") </code></pre>  <p>The example can be found just below <a href=""https://docs.python.org/3/library/datetime.html#datetime.datetime.__format__"" rel=""nofollow noreferrer"">this</a>. </p>  <p>The format table can be found <a href=""https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior"" rel=""nofollow noreferrer"">here</a> (which is quite handy, I'd bookmark it)</p>  <p>I hope that makes <em>some</em> if not complete sense</p>"
52225155	Issue when sending date JavaScript -> Python -> MySQL: 'unicode' object has no attribute 'isoformat'	javascript|python|mysql|graphql	2018-09-07 14:58:27.850000 UTC	"<p>I have been struggling for a pretty long while now with sending dates <code>JS -&gt; Python -&gt; MySQL</code>.</p>  <p>With the code below I get the error message <code>""query failed - ['unicode' object has no attribute 'isoformat']""</code>. I hope that you know a solution.</p>  <p>Here is the database server code, abridged:</p>  <pre><code>class AddLicenseCode(graphene.Mutation):     class Arguments:         valid_from = graphene.String()         valid_to = graphene.String()      valid_from = graphene.types.datetime.DateTime()     valid_to = graphene.types.datetime.DateTime()      @staticmethod     def mutate(root, info, **args):         context = info.context          valid_from = args.get('valid_from')         valid_to = args.get('valid_to')          licenseCodeResponse = license_service.add_license_code(valid_from, valid_to)          return AddLicenseCode(             valid_from=licenseCodeResponse['valid_from'],             valid_to=licenseCodeResponse['valid_to'])  ...  def add_license_code(self, valid_from, valid_to):     db = self.get_write_db()      variables = {         ""valid_from"": valid_from.isoformat(), &lt;-----ERROR HAPPENS HERE          ""valid_to"": valid_to.isoformat(),      } </code></pre>  <p>Here is the code from a client/server that sits between the frontend and the database server, abridged:</p>  <pre><code>const addLicenseCodeMutation = {     name: 'AddLicenseCodeMutation',     type: addLicenseCodeType,     description: ""Mutation for adding a license code"",     args: {         validFrom: { type: graphql.GraphQLInt },         validTo: { type: graphql.GraphQLInt },     },     resolve: function (source, args, context, _info) {         return licenseService.addLicenseCode(args, context);     } };  addLicenseCode = function(args, context) {     const validFrom = args.validFrom;     const validTo = args.validTo;      const query = 'mutation licenseMutation { addLicenseCode(' +         'validFrom: ""' + validFrom + '"", ' +         'validTo: ""' + validTo + '"", ' +         '){validFrom, validTo}}'       return queryLicenseService(query, requestId, context, function (data) {         return data['addLicenseCode'];     }); </code></pre>  <p>Here is the front end code, abridged:</p>  <pre><code>const variables = {                 validFrom: timeLimit ? null : Date.parse(validFrom),                 validTo: timeLimit ? null : Date.parse(validTo),              };              const result = yield client.mutate({                 mutation: gql`                     mutation licensemutation($validFrom: Int, $validTo: Int) {                         addLicenseCode(validFrom: $validFrom, validTo: $validTo) {                             validFrom,                              validTo                         }                     }                 `,                 variables: {...variables},             }); </code></pre>"	
52231326	Is it possible to minify python code like javascript?	python|minify	2018-09-08 01:53:01.910000 UTC	"<p>Python is a scripting language. It is hard to protect python code from being copied. No 100% protection is required but at least slow down those who have bad intentions. Is it possible to minify/uglify python code the way javascript front-end code is being done today?</p>  <p>EDIT: The python code will be used in Raspberry Pi, not server. On raspberry pi, anyone can take out the SDcard and gain access to the python code.</p>"	"<p>Nuitka.net is a perfect way to convert your python code to compiled object code. This makes reverse engineering and exposing your algorithms extremely hard. Nuitka can also produce an standalone executable that is very portable.</p> <p>While this may be a way to preserve trade secrets, it comes with some hard limitations.</p> <p>a) some python libs are already binary distros which are difficult to bundle in a standalone exe (e.g. xgboost, pytorch).</p> <p>b) wide pip distribution of a binary package is an exercise in deep frustration because it is linked to the cpython lib. manylinux and universal builds are vast wasteland waiting to be mapped and documented.</p> <p>As for the downvotes, please consider that 1) not all python runs on servers - some run on the edge, 2) non-open source authors need to protect their intellectual property, 3) smaller always makes for faster installs.</p>"
52231326	Is it possible to minify python code like javascript?	python|minify	2018-09-08 01:53:01.910000 UTC	"<p>Python is a scripting language. It is hard to protect python code from being copied. No 100% protection is required but at least slow down those who have bad intentions. Is it possible to minify/uglify python code the way javascript front-end code is being done today?</p>  <p>EDIT: The python code will be used in Raspberry Pi, not server. On raspberry pi, anyone can take out the SDcard and gain access to the python code.</p>"	"<p>python is executed server-side.  while sometimes it's fun to intentionally obfuscate code (look into perl obfuscation ;), it should never be necessary for server-side code.</p>  <p>if you're trying to hide your python from someone but they already have access to the directories and files it is stored in, you have bigger problems than code obfuscation.</p>"
52231326	Is it possible to minify python code like javascript?	python|minify	2018-09-08 01:53:01.910000 UTC	"<p>Python is a scripting language. It is hard to protect python code from being copied. No 100% protection is required but at least slow down those who have bad intentions. Is it possible to minify/uglify python code the way javascript front-end code is being done today?</p>  <p>EDIT: The python code will be used in Raspberry Pi, not server. On raspberry pi, anyone can take out the SDcard and gain access to the python code.</p>"	"<p>Sure, you could uglify it, but given the fact that python relies on indentation for syntax, you couldn't do the equivalent minification (which in JS relies largely upon removing all whitespace).</p>  <p>Beside the point, but JS is minified to make it download faster, not obfuscate it.</p>"
52231326	Is it possible to minify python code like javascript?	python|minify	2018-09-08 01:53:01.910000 UTC	"<p>Python is a scripting language. It is hard to protect python code from being copied. No 100% protection is required but at least slow down those who have bad intentions. Is it possible to minify/uglify python code the way javascript front-end code is being done today?</p>  <p>EDIT: The python code will be used in Raspberry Pi, not server. On raspberry pi, anyone can take out the SDcard and gain access to the python code.</p>"	"<ol> <li>What about starting off with only distributing the pyc files? These are files created by Python interpreter for performance reasons--their load times are faster than .pys--but to the casual user they are difficult to decipher.</li> </ol> <pre><code>python -m compileall . </code></pre> <ol start=""2""> <li>Ramp up the security by using Cython to compile your python src.  To &quot;cythonize&quot; your code, run Cython + GCC on each module. The <strong>init</strong>.py files must be left intact to keep module imports working. A silly Hello world example:</li> </ol> <pre class=""lang-py prettyprint-override""><code>$ cython helloworld.py -o helloworld.c $ gcc -shared -pthread -fPIC -fwrapv -O2 -Wall -fno-strict-aliasing -I/usr/include/python3.7 -o helloworld.so helloworld.c </code></pre> <p>YMMV using this approach; I've run into various gotchas using different modules.</p>"
52231326	Is it possible to minify python code like javascript?	python|minify	2018-09-08 01:53:01.910000 UTC	"<p>Python is a scripting language. It is hard to protect python code from being copied. No 100% protection is required but at least slow down those who have bad intentions. Is it possible to minify/uglify python code the way javascript front-end code is being done today?</p>  <p>EDIT: The python code will be used in Raspberry Pi, not server. On raspberry pi, anyone can take out the SDcard and gain access to the python code.</p>"	"<p>I will answer my own question. </p>  <p>I found the following software tools that can do the job. I have not tried them, so I cannot comment on how effective they are. Comments are welcomed on their effectiveness.</p>  <p><a href=""https://liftoff.github.io/pyminifier/"" rel=""noreferrer"">https://liftoff.github.io/pyminifier/</a></p>  <p><a href=""https://mnfy.readthedocs.io/en/latest/"" rel=""noreferrer"">https://mnfy.readthedocs.io/en/latest/</a></p>"
52261050	Interoperation Python JavaScript RSA Encryption	javascript|python|encryption|rsa|transferable	2018-09-10 15:26:02.320000 UTC	"<p>Python with PyCrypto on Server, Tom Wu's JavaScript library on Client. <a href=""http://www-cs-students.stanford.edu/~tjw/jsbn/"" rel=""nofollow noreferrer"">http://www-cs-students.stanford.edu/~tjw/jsbn/</a> I can encrypt and decrypt in Python on Server, and do the same in JavaScript on client. But I cannot encrypt on the client and decrypt the same on the server.  The subject has been discussed earlier, but no solution has been delivered.</p>  <p>in Python:</p>  <pre><code>  key = RSA.generate(2048, e=65537)   pri_key = key.exportKey()   n = key.n    session['S_publicKey']  = n   session['S_privateKey'] = pri_key    publicKey_IntN = session.get('S_publicKey')   publicKey_HexN = hex(publicKey_IntN)[2:].rstrip(""L"")      render_template('Shop.html', t1=publicKey_HexN ) </code></pre>  <p>in Shop.html (JavaScript):</p>  <pre><code>function submitToPython() {   var d1 = document.getElementById('input1').value;   var d2 = document.getElementById('input2').value;    var strJSON = JSON.stringify({data1:d1,data2:d2});      var publicKey_HexStrN = sessionStorage.getItem(""SpublicKey"");    jsonRsa = do_encrypt(strJSON, publicKey_HexStrN);    document.getElementById(""messageJSON"").value = jsonRsa;   document.getElementById('input1').value = """";   document.getElementById('input2').value = """";   document.getElementById(""form1"").action = ""/Order"";   document.getElementById(""form1"").method = ""POST"";   document.getElementById(""form1"").submit(); }  function do_encrypt(strIn, nKey) {   var rsa = new RSAKey();   rsa.setPublic( nKey, ""10001"" );   # also tested ""0x10001""   var strOut = rsa.encrypt(strIn);   return strOut; } </code></pre>  <p>in Python:</p>  <pre><code>  jsonrsa    = request.form['messageJSON']        jsonrsa    = codecs.decode( jsonrsa, 'hex' )    #jsonrsa    = jsonrsa.encode('utf-8')  # in Python 3, must pass bytes     privateKey = session.get('S_privateKey')   jsonStr = decrypt_string(jsonrsa,privateKey)  # ERROR invalid decryption  def decrypt_string(encrypted,private_key):         rsakey = RSA.importKey(private_key)     rsakey = PKCS1_OAEP.new(rsakey)          chunk_size = 256     offset     = 0         decrypted  = """"         while offset &lt; len(encrypted):         decrypted += rsakey.decrypt(encrypted[offset:offset+chunk_size])         offset += chunk_size          return decrypted </code></pre>"	
52261414	Modify webpage element by calling Python function from Javascript	javascript|python|html	2018-09-10 15:49:00.780000 UTC	"<p>My <code>HTML</code> file looks like this:</p>  <pre><code>Sum: &lt;div id=""sum""&gt;?&lt;/div&gt; </code></pre>  <p>And the corresponding JavaScript like this: </p>  <pre><code> function refresh(){      //Wait for request from Amazon Gateway API, then replace 'sum' with result of   Python function var xhttp = new XMLHttpRequest(); xhttp.open(""GET"", ""https://8qp45dk604.execute-api.us-east- 1.amazonaws.com/beta"", true);  xhttp.send(); xhttp.addEventListener(""readystatechange"", processRequest, false); function processRequest(e){     if(xhttp.readyState == 4 &amp;&amp; xhttp.status == 200){          var response = JSON.parse(xhttp.responseText);         var a = response.a;         var b = response.b;         document.getElementById(""sum"").innerHTML =          resultOfPythonFunction('sum.py', 'sum', a, b);     } }     setTimeout(refresh, 3000); } </code></pre>  <p>What should I replace the line <code>resultOfPythonFunction('sum.py', 'sum', a, b);</code> with in order to modify the <code>div</code> with the result of a Python <code>sum</code> function?</p>"	"<p>The browser can't execute python code. To do what you're asking, you would have to set up a python back end that you could send HTTP POST requests to that would perform <code>sum</code> on your request body, and then send back the result. Some common tools for this are <a href=""https://www.djangoproject.com/"" rel=""nofollow noreferrer"">django</a>, <a href=""http://flask.pocoo.org/"" rel=""nofollow noreferrer"">flask</a>, and <a href=""https://trypyramid.com/"" rel=""nofollow noreferrer"">pyramid</a>.</p>  <p>You could then grab this result and set it to the <code>div</code> in the way you did before.</p>"
52264156	Trying to run JavaScript from Python	javascript|python|python-3.x	2018-09-10 19:18:37.390000 UTC	"<p>I am trying to run the below script from Python.</p> <pre><code>import execjs var request = require('request');  var apiHostName='https:/url.com';  emailAddress = 'my.email@company.com' apiKey = 'api_key'  function callback(error, response, body) {   if (!error &amp;&amp; response.statusCode == 200) {     console.log(&quot;Identity with email address &quot; + emailAddress + &quot; found:&quot;);     var b= JSON.parse(body);     console.log(&quot;id=&quot;+b.identityId+&quot;,api key=&quot;+b.apiKey+&quot;,type=&quot;+b.type);   } else{     if (response.statusCode == 401) {       console.log (&quot;Couldn't recognize api key=&quot;+apiKey);     } else if (response.statusCode == 403) {       console.log (&quot;Operation forbidden for api key=&quot;+apiKey);     } else if (response.statusCode == 404) {       console.log (&quot;Email address &quot; +emailAddress + &quot; not found&quot;);     }   } } </code></pre> <p>I did this:</p> <pre><code>pip install py-mini-racer pip install PyExecJS </code></pre> <p>I would think this is pretty close, based on the research that I did, but I don't know for sure.  All I'm getting now is this error: 'SyntaxError: invalid syntax'</p> <p>The error occurs on this line: 'var request = require('request');'</p> <p>Obviously, I am using my actual email and api key.  I am running Python 3.x.</p>"	"<p>First, you're using a library, <a href=""https://github.com/doloopwhile/PyExecJS"" rel=""nofollow noreferrer""><code>PyExecJS</code></a>, which claims to be both no longer maintained, and poorly designed.</p>  <p>So, this probably isn't the best choice in the first place.</p>  <hr>  <p>Second, you're using it wrong.</p>  <p>The examples all include JS code as strings, which are passed to <code>execjs.eval</code> or <code>execjs.compile</code>. </p>  <p>You're trying to include JS code directly inline as if it were Python code. That isn't going to work; it will try to parse the JS code as Python and raise a <code>SyntaxError</code> because they aren't the same language.<sup>1</sup></p>  <p>So, you have to do the same thing as the examples. That might look something like this:</p>  <pre><code>import execjs  jscode = """"""     var request = require('request');      var apiHostName='https:/url.com';      emailAddress = 'my.email@company.com'     apiKey = 'api_key'      function callback(error, response, body) {       if (!error &amp;&amp; response.statusCode == 200) {         console.log(""Identity with email address "" + emailAddress + "" found:"");         var b= JSON.parse(body);         console.log(""id=""+b.identityId+"",api key=""+b.apiKey+"",type=""+b.type);       } else{         if (response.statusCode == 401) {           console.log (""Couldn't recognize api key=""+apiKey);         } else if (response.statusCode == 403) {           console.log (""Operation forbidden for api key=""+apiKey);         } else if (response.statusCode == 404) {           console.log (""Email address "" +emailAddress + "" not found"");         }       }     } """""" execjs.eval(jscode) </code></pre>  <p>Or, probably even better, move the JavaScript to a separate <code>.js</code> file, then run it like this:</p>  <pre><code>import os.path import execjs  dir = os.path.dirname(__file__) with open(os.path.join(dir, 'myscript.js')) as f:     jscode = f.read() execjs.eval(jscode) </code></pre>  <hr>  <p><sub>1. Someone <em>could</em> write an import hook for Python that did something similar to perl's <a href=""https://metacpan.org/pod/distribution/Inline-Python/Python.pod"" rel=""nofollow noreferrer""><code>Inline::Python</code></a>, <a href=""https://metacpan.org/pod/Inline::Java"" rel=""nofollow noreferrer""><code>Inline::Java</code></a>, etc. for Python, allowing you to embed code from other languages directly in your Python scripts. Periodically, someone does try to write such a thing, but they always seem to abandon it as a bad idea before it's even production-ready, or redesign it to be more like <code>PyExecJS</code>.</sub></p>"
52269272	Run local JavaScript functions from Python 3	javascript|python	2018-09-11 05:36:11.893000 UTC	"<p>So, I'm teaching myself various AI techniques, and I figured the best way to do so would be to create my own Python bot which can play the game Pokemon using an online open-source Pokemon simulator.</p>  <p>The issue is that this simulator has all its source code written in JavaScript, whereas my bot uses Python. At first, I solved the problem of grabbing the full list of valid Pokemon and such by simply downloading the server's .js files, which (handily) contained all valid Pokemon/moves as JSON objects that I could easily import into Python. This was all well and good when I just needed Pokemon names and such, but now that I'm building out the actual engine I've discovered that it uses these same JSON files for its actual gameplay code.</p>  <p>For example, here's the Pokemon ""Ability"" <code>Aftermath</code>. Pay attention to <code>onAfterDamage</code>:</p>  <pre class=""lang-js prettyprint-override""><code>""aftermath"": {     desc: ""If this Pokemon is knocked out with a contact move, that move's user loses 1/4 of its maximum HP, rounded down. If any active Pokemon has the Damp Ability, this effect is prevented."",     shortDesc: ""If this Pokemon is KOed with a contact move, that move's user loses 1/4 its max HP."",     id: ""aftermath"",     name: ""Aftermath"",     onAfterDamageOrder: 1,     onAfterDamage: function (damage, target, source, move) {         if (source &amp;&amp; source !== target &amp;&amp; move &amp;&amp; move.flags['contact'] &amp;&amp; !target.hp) {             this.damage(source.maxhp / 4, source, target);         }     },     rating: 2.5,     num: 106, } </code></pre>  <p>As you can see, <code>onAfterDamage</code> is a JavaScript function, one that I can't easily call from Python (to my knowledge). So now I'm at a crossroads:</p>  <ol> <li><p>Stop grabbing the .js files from the server and write my own code entirely in Python, essentially ""translating"" the JavaScript code myself.</p></li> <li><p>Rewrite my entire bot in JavaScript instead of Python, although I'm far less experienced and comfortable in JavaScript.</p></li> <li><p>Find a way to run the JavaScript code I'm downloading from the server from within my Python bot, calling arbitrary functions from within the code and returning the results.</p></li> </ol>  <p>Option 1 has the issue of rapidly becoming out of date -- when new Pokemon mechanics are introduced or new Pokemon are created, I wouldn't get it ""for free"" -- I'd have to figure out what changed and implement the changes myself.</p>  <p>I'd like to avoid Option 2 just because I'm not very comfortable writing JavaScript -- it's something I've dabbled with in the past, but it's far from my favorite language and not something I want to deal with when it's not the primary focus of my project.</p>  <p>I realize that Option 3 is a pretty massive security risk -- while I'm reasonably sure that a man-in-the-middle attack won't happen to a bot that likely nobody will ever use but myself, I'm still just downloading random JavaScript from a server somewhere and trying to execute it.</p>  <p>I've seen things like <a href=""https://github.com/doloopwhile/PyExecJS"" rel=""nofollow noreferrer"">PyExecJS</a>, but they're no longer maintained, and I haven't really seen anyone recommending a good replacement for them. PyExecJS's functionality is exactly what I'm looking for (namely the function <code>execjs.eval(js_code)</code>), but I'm not sure I want to use something that's reached EOL. <a href=""https://stackoverflow.com/questions/52264156/trying-to-run-javascript-from-python/52264692"">I've seen the answers here</a>, but they don't recommend any replacements for PyExecJS; they only show that user that they're using it wrong.</p>  <p>I've also seen people suggest Selenium or running a headless browser, but I'm not sure if I want to deal with all that extra overhead. The very first programming project I ever did outside of school was very similar to this, and I wound up coding it in Java using Selenium. I wasn't happy with that experience, and I'm not looking forward to having to do it again, especially when I only need to execute JavaScript I already have downloaded locally.</p>  <p>Am I completely off-base here? Is there another approach I should take, or should I just get to work translating all this JS code to Python by hand?</p>"	"<p>Ideally you could run your <code>.js</code>-file from cli just like any other executable. With <code>node -e</code> you can execute your JavaScript code on cli.</p>  <p>Relating to this post <a href=""https://stackoverflow.com/a/450329/6478277"">https://stackoverflow.com/a/450329/6478277</a> you could similarly run your script with your local node. </p>  <p><code>node -e ""function func(){console.log(123)};func();""</code></p>  <p><strong>From a file</strong></p>  <p><code>print subprocess.check_output(['node -e ""require(\""./file.js\"").test()""'])</code></p>  <p>Where file.js could be something like </p>  <pre><code>   module.exports = {      test: () =&gt; console.log(123),    } </code></pre>"
52322264	How do I send a Variable into Python from Javascript	javascript|python	2018-09-13 21:49:27.707000 UTC	"<p>This is a simple straight forward question. The code with the JSONP Python callback works (the ?callback=? part). It gets the callback parameter from the Python script on the server. </p>  <p>How do I add a JavaScript variable (varExample) into the data.py line alongside callback=? without breaking the callback. Thanks.</p>  <pre><code>var jsonp_url = ""https://example.com/cgi-bin/data.py?callback=?"";        $.getJSON(jsonp_url, function(data) { $('#widget').html(data.html); }); </code></pre>"	"<p><strong>This works on the JavaScript File Side</strong></p>  <pre><code>var jsonp_url = ""https://example.com/cgi-bin/data.py?varExampleForPython="" +  varExample + ""&amp;callback=?"";        </code></pre>  <p><strong>Retreiving varExamplePython in the Python (.py) File Side</strong></p>  <pre><code>retrievedVarExample = params['varExampleForPython'].value </code></pre>"
52337888	Scraping javascript data within a grid of a webpage using selenium and python	python|selenium|selenium-webdriver|webdriver|webdriverwait	2018-09-14 19:03:35.343000 UTC	"<p>My issue is that I need all the data within the grid containing subdomains from the website <a href=""https://applipedia.paloaltonetworks.com"" rel=""nofollow noreferrer"">https://applipedia.paloaltonetworks.com</a> - (data containing NAME , CATEGORY, SUBCATEGORY, RISK, TECHNOLOGY). What I require is [Example: In line number 5: 2ch has 2 subdomains |_2ch-base and 2ch-posting. Like this I only want to get the list of all apps having subdomains] </p>  <p>Right not whenever I have tried adding anything in the line: </p>  <pre><code>table =wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,    'tbody#bodyScrollingTable tr'))) </code></pre>  <p>I am getting a timeout error.</p>  <p>Below is the script I have as of now which fetches all the data from the grid but I need only the apps and it's containing subdomains.[Example 2ch, 2ch-base, 2ch-posting]. I have found out a pattern through inspect element which is all apps that doesn't have subdomains have ( ) or we can go by the () field which is common for all apps having subdomains. Any help on solving this problem will be much appreciated.</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC   driver   = webdriver.Chrome(executable_path = r'/Users/am/Downloads/chromedriver') driver.maximize_window()  driver.get(""https://applipedia.paloaltonetworks.com/"")   wait = WebDriverWait(driver,30)  table =wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,    'tbody#bodyScrollingTable tr')))  for tab in table:   print(tab.text) </code></pre>"	"<p>As per the url <code>https://applipedia.paloaltonetworks.com/</code> to get the list of all apps having subdomains you need to induce <em>WebDriverWait</em> for the desired <em>elements to be visible</em> and you can use the following solution:</p>  <ul> <li><p>Code Block:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.chrome.options import Options from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC  options = Options() options.add_argument(""start-maximized"") options.add_argument(""disable-infobars"") options.add_argument(""--disable-extensions"") options.add_argument(""--disable-gpu"") driver = webdriver.Chrome(chrome_options=options, executable_path=r'C:\WebDrivers\ChromeDriver\chromedriver_win32\chromedriver.exe') driver.get('https://applipedia.paloaltonetworks.com/') elements = WebDriverWait(driver, 20).until(EC.visibility_of_all_elements_located((By.XPATH, ""//table[@class='btmTable' and @id='dataTable']//tbody[@id='bodyScrollingTable']//tr[not(@ottawagroup='0') and not(@ottawagroup='2')]/td/a""))) for element in elements:     print(element.get_attribute(""innerHTML"")) </code></pre></li> <li><p>Console Output:</p>  <pre><code>DevTools listening on ws://127.0.0.1:12927/devtools/browser/d4a5d576-a4b0-4a3d-959b-9d37aff36fc6                                  2ch                                   51.com                                   adobe-connect                                   adobe-connectnow                                   adobe-creative-cloud                                   aim                                   aim-express                                   ali-wangwang                                   amazon-cloud-drive                                   amazon-music                                   ameba-now                                   assembla                                   autodesk360                                   avaya-webalive                                   bacnet                                   baidu-hi                                   bebo                                   bitbucket                                   boxnet                                   buddybuddy                                   chinaren                                   cisco-spark                                   cloudapp                                   cloudforge                                   cloudinary                                   concur                                   confluence                                   convo                                   cyph                                   daum                                   dcinside                                   diameter                                   dnp3                                   dochub                                   docstoc                                   docusign                                   draw.io                                   dropbox                                   egnyte                                   evernote                                   facebook                                   fetion                                   filestack                                   flickr                                   flixwagon                                   fuze-meeting                                   gatherplace                                   genesys                                   git                                   github                                   gitlab                                   glassdoor                                   globalmeet                                   gmail                                   google-calendar                                   google-cloud-storage                                   google-docs                                   google-hangouts                                   google-plus                                   google-spaces                                   google-talk                                   google-translate                                   google-video                                   gotomypc                                   gotowebinar                                   gtp                                   hadoop                                   hightail                                   hipchat                                   hootsuite                                   huddle                                   hulu                                   hyves                                   iccp                                   icloud                                   iec-60870-5-104                                   imeet                                   imgur                                   instagram                                   instan-t                                   ip-messenger                                   ipsec                                   irc                                   issuu                                   itunes                                   jira                                   join-me                                   jumpshare                                   kaixin                                   kaixin001                                   kakaotalk                                   laiwang                                   landesk                                   linkedin                                   live-mesh                                   lotus-notes                                   lotuslive                                   lucidpress                                   mail.ru                                   mail.ru-agent                                   maytech                                   meebo                                   meetup                                   mega                                   mendeley                                   mercurial                                   mixi                                   modbus                                   ms-ds-smb                                   ms-lync                                   ms-office365                                   ms-onedrive                                   msn                                   myspace                                   nateon-im                                   netease-webdisk                                   netflix                                   ning                                   noteworthy                                   now-tv                                   odnoklassniki                                   onehub                                   owncloud                                   paltalk                                   pastebin                                   pcanywhere                                   pinterest                                   pivotaltracker                                   powow                                   prezi                                   proofhub                                   qik                                   qliksense-cloud                                   qq                                   quip                                   quora                                   rally-software                                   readytalk                                   reddit                                   rediffbol                                   renren                                   rtp                                   salesforce                                   sap-jam                                   screencast                                   scribd                                   second-life                                   secure-data-space                                   sendthisfile                                   service-now                                   sharefile                                   sharepoint                                   sharevault                                   showmax                                   siemens-s7                                   signiant                                   sina-uc                                   sina-weibo                                   skydrive                                   slack                                   slideshare                                   smartsheet                                   snmp                                   softros-messenger                                   solarwinds                                   soundcloud                                   sourceforge                                   spark-im                                   ss7-map                                   stocktwits                                   storify                                   subversion                                   surveymonkey                                   syncplicity                                   tableau                                   teamdrive                                   teamup-calendar                                   teamviewer                                   thwapr                                   torch-browser                                   trello                                   tumblr                                   twitter                                   uc-yun                                   viber                                   vimeo                                   vine                                   virustotal                                   vkontakte                                   vnc                                   watchdox                                   webex                                   wechat                                   weiyun                                   whatsapp                                   windows-azure                                   windows-defender-atp                                   workday                                   yahoo-im                                   yammer                                   youku                                   yousendit                                   youtube                                   yunpan360                                   yy-voice                                   zalo                                   zendesk                                   zenefits                                   zettahost </code></pre></li> </ul>"
52337888	Scraping javascript data within a grid of a webpage using selenium and python	python|selenium|selenium-webdriver|webdriver|webdriverwait	2018-09-14 19:03:35.343000 UTC	"<p>My issue is that I need all the data within the grid containing subdomains from the website <a href=""https://applipedia.paloaltonetworks.com"" rel=""nofollow noreferrer"">https://applipedia.paloaltonetworks.com</a> - (data containing NAME , CATEGORY, SUBCATEGORY, RISK, TECHNOLOGY). What I require is [Example: In line number 5: 2ch has 2 subdomains |_2ch-base and 2ch-posting. Like this I only want to get the list of all apps having subdomains] </p>  <p>Right not whenever I have tried adding anything in the line: </p>  <pre><code>table =wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,    'tbody#bodyScrollingTable tr'))) </code></pre>  <p>I am getting a timeout error.</p>  <p>Below is the script I have as of now which fetches all the data from the grid but I need only the apps and it's containing subdomains.[Example 2ch, 2ch-base, 2ch-posting]. I have found out a pattern through inspect element which is all apps that doesn't have subdomains have ( ) or we can go by the () field which is common for all apps having subdomains. Any help on solving this problem will be much appreciated.</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC   driver   = webdriver.Chrome(executable_path = r'/Users/am/Downloads/chromedriver') driver.maximize_window()  driver.get(""https://applipedia.paloaltonetworks.com/"")   wait = WebDriverWait(driver,30)  table =wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,    'tbody#bodyScrollingTable tr')))  for tab in table:   print(tab.text) </code></pre>"	"<p>With code below you can get list of domains with subdomains fast and clear:</p>  <pre><code>WebDriverWait(driver, 20).until(EC. visibility_of_element_located((By.CSS_SELECTOR, ""[ottawagroup='1'] a""))) domains = driver.execute_script(""return  [...document.querySelectorAll(\""[ottawagroup='1'] a\"")].map(e=&gt;e.textContent.trim())"") </code></pre>"
52341788	Add acrobat javascript to pdf documents in ruby or python	javascript|python|ruby|pdf	2018-09-15 05:15:14.610000 UTC	"<p>I want to add some Acrobat JavaScript to a pdf file. I have seen some answers which suggest using <a href=""https://stackoverflow.com/questions/209972/how-to-programmatically-inject-javascript-in-pdf-files"">iText</a> but I am looking for a solution in either ruby or python. I looked at the <a href=""https://hexapdf.gettalong.org/"" rel=""nofollow noreferrer"">HexaPdf</a> but could not find any mention of Javascript.</p>"	"<p>I ended up using <a href=""https://pdfbox.apache.org/"" rel=""nofollow noreferrer"" title=""pdfbox"">pdfbox</a>, which is a JAVA based pdf library.</p>"
52349932	Convert Wiimote MAC Address to PIN from C++ to Python or Javascript	python|c++|bluetooth|wiimote	2018-09-16 00:22:16.647000 UTC	"<p>In have found the following snippet posted here: <a href=""http://wiibrew.org/wiki/Wiimote#Bluetooth_Pairing"" rel=""nofollow noreferrer"">http://wiibrew.org/wiki/Wiimote#Bluetooth_Pairing</a></p>  <p>There is also another code snippet to convert an Address to pin number here: <a href=""https://www.richlynch.com/2009/11/18/permanently-pair-wiimotewii-balance-board/"" rel=""nofollow noreferrer"">https://www.richlynch.com/2009/11/18/permanently-pair-wiimotewii-balance-board/</a></p>  <p>What this is attempting to do is to convert the mac address of a nintendo wiimote into a pin number that is requested during bluetooth pairing.</p>  <p>I am guessing that this is C or C++ but know nothing at all about C / C++, but I do know javascript and python.</p>  <p>I would like to convert this code into javascript or python so I can generate a valid <strong>STRING</strong> pin number that can be entered when prompted during bluetooth pairing, or even do it manually once I understand what exactly this code does.</p>  <p><strong>This is the original snippit:</strong></p>  <pre><code>Lets assume the Wiimote has the bluetooth address ""00:1E:35:3B:7E:6D"". If you want the PIN for bluetooth pairing in a simple string, do the following:  char pin[6]; pin[0] = 0x6D; pin[1] = 0x7E; pin[2] = 0x3B; pin[3] = 0x35; pin[4] = 0x1E; pin[5] = 0x00;  Now ""pin"" contains your bluetooth pin that should be used for pairing your devices. </code></pre>  <p><strong>Another snippit using a function:</strong></p>  <pre><code>_TCHAR * FormatBTAddress(BLUETOOTH_ADDRESS address) {    static _TCHAR ret[20];    _stprintf(ret, _T(""%02x:%02x:%02x:%02x:%02x:%02x""),       address.rgBytes[5],       address.rgBytes[4],       address.rgBytes[3],       address.rgBytes[2],       address.rgBytes[1],       address.rgBytes[0]       );    return ret; } </code></pre>  <p>Now although I know nothing about C++, I know that this is using some kind of (reversed) 6 byte array, and when I run this code using the MAC address in the sample on repl.it it does produce what appears to be a human readable 4 character string which could be entered as a bluetooth Pin:</p>  <pre><code>m~;5 </code></pre>  <p>However, when I replace the original mac address with my actual mac address, it generates unreadable characters and it seems to me that this code cannot actually work and there must be something omitted by the original poster on wiibrew.org.</p>  <p><strong>This is using my actual MAC Address:</strong></p>  <pre><code>  char xpin[6];   xpin[0] = 0x03;   xpin[1] = 0xF4;   xpin[2] = 0xB9;   xpin[3] = 0x6E;   xpin[4] = 0xAE;   xpin[5] = 0xB8;   printf(xpin); </code></pre>  <p>And this is the result, which includes unprintable characters that definitely not could not be entered when prompted as a valid Bluetooth PIN number:</p>  <pre><code>��n�� @  </code></pre>  <p>Can anyone throw any light on this, as I cannot possibly see how the code provided could create a human readable string that can be used as a bluetooth pin number ??</p>  <p>Ultimately I would like to code this in Javascript or Python, but even being able to do this manually and generate valid strings from mac addresses would be helpful.</p>"	"<p>Referring to <a href=""https://wiibrew.org/wiki/Wiimote"" rel=""nofollow noreferrer"">https://wiibrew.org/wiki/Wiimote</a>:</p> <blockquote> <p>The PIN-Code is the binary bluetooth address of the wiimote backwards.</p> </blockquote> <p>Below seems to be an updated version of what was said above (same source):</p> <blockquote> <p>If connecting by holding down the 1+2 buttons, the PIN is the bluetooth address of the wiimote backwards, if connecting by pressing the &quot;sync&quot; button on the back of the wiimote, then the PIN is the bluetooth address of the host backwards.</p> </blockquote> <p>So both original C and your Python code is correct. In fact, resulting string is not supposed to be readable at all (and always have 6 characters, printable or not). It's up to WiiMote driver to invert MAC string and send it back, as is everything described on that page. So if you are not writing WiiMote driver, find one for your system (on Linux it is already included as BlueZ plugin and should work out-of-box).</p>"
52366418	Python ctypes.c_int to Perl XS (or non-XS) conversion (Javascript signed 32-bit bitwise shift operator conversion)	javascript|python|perl|bitwise-operators	2018-09-17 11:10:26.050000 UTC	"<h2>Background</h2>  <p>We need to convert a Javascript hashing algorithm into Perl code. Therefore, we need to convert Javascript's bitwise shift operators &lt;&lt;, >>, and >>> into Perl. So far, we have the algorithms for doing the conversion, but since Javascript bitwise shift operators operate on 32-bit integers, we also need to emulate this in Perl.</p>  <h2>Python solution</h2>  <p>Based on this post <a href=""https://stackoverflow.com/a/41610348"">https://stackoverflow.com/a/41610348</a> we learned that we can do this in Python using ctypes. For example, to left-shift an integer by x bits:</p>  <pre><code>import ctypes print (ctypes.c_int(integer &lt;&lt; x ^ 0).value) </code></pre>  <h2>Perl question</h2>  <p>My understanding is that we need to use XS to do this. My question is whether anyone has a quick solution to implementing it. We don't know XS. We could start learning it, but from my impression of it, the learning curve is pretty high and it could take a while to gain any mastery of it. Of course, a non-XS solution would be ideal, if one exists. Any solutions or hints would be greatly appreciated.</p>  <h2>Workaround</h2>  <p>Since we have a Python solution already, we could implement this module in Python and then call it from Perl. Performance isn't really an issue, so this ""hack"" is acceptable, although somewhat undesirable. In other words, we would prefer to maintain the whole program (which consists of several modules) in Perl only.</p>"	"<pre><code>sub lshr32 { ( $_[0] &amp; 0xFFFFFFFF ) &gt;&gt; $_[1] }                           # &gt;&gt;&gt; in JS sub lshl32 { ( $_[0] &lt;&lt; $_[1] ) &amp; 0xFFFFFFFF }  sub ashr32 { ( $_[0] - ( $_[0] % ( 1 &lt;&lt; $_[1] ) ) ) / ( 1 &lt;&lt; $_[1] ) }   # &gt;&gt; in JS sub ashl32 { unpack ""l"", pack ""l"", $_[0] * ( 1 &lt;&lt; $_[1] ) }              # &lt;&lt; in JS </code></pre>  <hr>  <p>It doesn't make sense to pass a negative number to a logical shift unless the number isn't really a number but a collection of bits. Given that you are porting a hashing algorithm, this is very likely. It also means you're creating a lot of extra work for yourself by matching JavaScript this closely because you're recreating hacks used to address limits in JavaScript that don't exist in Perl. It should be far simpler to use 32-bit unsigned values, <code>&lt;&lt;</code> truncated using <code>&amp; 0xFFFFFFFF</code>, and <code>&gt;&gt;</code> truncated using <code>&amp; 0xFFFFFFFF</code>.</p>"
52379556	JavaScript Spawn: How to pass variable to FLAG in Spawn python script	javascript|python|node.js|spawn	2018-09-18 05:33:42.603000 UTC	"<p>I have a python script which has two FLAGs <code>--server</code> and <code>--image</code>. </p>  <p>For now, in JavaScript, I can only assign the fixed value to FLAGS using spawn. For example: (This does yield the output)</p>  <pre><code>var pyProg = spawn('python', ['./MLmodel/inception_client.py', '--server=30.220.240.190:9000', '--image=./testImage/DSC00917.JPG']);  pyProg.stdout.on('data', function (data) { console.log('This is result ' + data.toString());}); </code></pre>  <p>However, I want to assign a string variable and pass the string to the FLAG. For example: (This is wrong, it does not yield any output)</p>  <pre><code>var imagePath = './testImage/DSC00917.JPG'  var pyProg = spawn('python', ['./MLmodel/inception_client.py', '--server=30.220.240.190:9000', '--image=imagePath']);  pyProg.stdout.on('data', function (data) { console.log('This is result ' + data.toString());}); </code></pre>  <p>How should I make it work? Thank you in advance!</p>"	"<p>You use string concatenation as you would anywhere else in JavaScript. If you would want <code>console.log</code> to print a variable you would do it like this:</p>  <pre><code>console.log('image path is ' + imagePath); </code></pre>  <p>or if you are using ES6 string interpolation:</p>  <pre><code>console.log(`image path is ${imagePath}`); </code></pre>  <p>The same works for your code example:</p>  <pre><code>var imagePath = './testImage/DSC00917.JPG' var pyProg = spawn('python', ['./MLmodel/inception_client.py', '--server=30.220.240.190:9000', '--image=' + imagePath]); </code></pre>"
52393823	Run python from javascript	javascript|python|iot|pyv8	2018-09-18 20:01:35.760000 UTC	<p>I have implemented an accelerometer Reader in python and I want to execute a function in a javascript file when a new value is read that will:<br> 1 - update the value in a database<br> 2 - broadcast the new value to all connected client ( via Socket.io)  </p>  <p>I was wondering how to do it? I checked PyV8 but it seems not maintained and only working with Python 2.7. My files structure looks like</p>  <pre><code>--JScode ----MyJSCode --PythonCode ----MyPythonCode </code></pre>	"<p>I managed to execute a python script from the javascript file using <code>PythonShell</code> (<a href=""https://www.npmjs.com/package/python-shell"" rel=""nofollow noreferrer"">link to the npm page</a>)  </p>"
52396055	Python to run JavaScript function with two parameters	javascript|python|selenium|beautifulsoup|webdriverwait	2018-09-18 23:52:18.293000 UTC	"<p>There is a link </p>  <pre><code>&lt;a href=""javascript:ga_and_go('//weathernews.jp/s/topics/?fm=onebox', 'topics_more')""&gt;…もっと見る&lt;/a&gt;  </code></pre>  <p>in a html page, I want to click it, I tried code as below, it seems like page can't be parsed, how can I run that function <code>ga_and_go('//weathernews.jp/s/topics/?fm=onebox', 'topics_more')</code>:</p>  <pre><code>more_button = driver.find_element_by_partial_link_text(""…もっと見る"") more_button.click() </code></pre>"	"<p>As per the HTML the element seems to be <em>JavaScript</em> based so you need to induce <em>WebDriverWait</em> and can use either of the following solutions:</p>  <ul> <li><p>Using <code>PARTIAL_LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.PARTIAL_LINK_TEXT, ""もっと見る""))).click() </code></pre></li> <li><p>Using <code>XPATH</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, ""//a[contains(.,'もっと見る')]""))).click() </code></pre></li> </ul>  <p><strong>Note</strong> : You have to add the following imports :</p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC </code></pre>"
52396055	Python to run JavaScript function with two parameters	javascript|python|selenium|beautifulsoup|webdriverwait	2018-09-18 23:52:18.293000 UTC	"<p>There is a link </p>  <pre><code>&lt;a href=""javascript:ga_and_go('//weathernews.jp/s/topics/?fm=onebox', 'topics_more')""&gt;…もっと見る&lt;/a&gt;  </code></pre>  <p>in a html page, I want to click it, I tried code as below, it seems like page can't be parsed, how can I run that function <code>ga_and_go('//weathernews.jp/s/topics/?fm=onebox', 'topics_more')</code>:</p>  <pre><code>more_button = driver.find_element_by_partial_link_text(""…もっと見る"") more_button.click() </code></pre>"	"<p>Can you try using the below xpath to click the element?</p>  <p><code>//a[contains(@href,'javascript:ga_and_go(')]</code></p>  <pre><code>more_button = driver.find_element_by_xpath(""//a[contains(@href,'javascript:ga_and_go(')]"") more_button.click() </code></pre>"
52428674	How can I evaluate Python code in the document context from JavaScript in JupyterLab?	javascript|python|typescript|jupyter-lab	2018-09-20 15:36:04.667000 UTC	"<p>With Jupyter Notebooks, I could have a cell</p>  <pre><code>%%javascript IPython.notebook.kernel.execute('x = 42') </code></pre>  <p>Then, elsewhere in the document a Python code cell with <code>x</code> would show it bound to 42 as expected.</p>  <p>I'm trying to produce something similar with JupyterLab. I understand I'm supposed to write a plugin rather than using ad-hoc JS, and that's fine, but I'm not finding an interface to the kernel similar to the global <code>IPython</code> from notebooks:</p>  <pre><code>import { JupyerLab, JupyterLabPlugin } from '@jupyterlab/application'; const extension: JupyterLabPlugin&lt;void&gt; = {     // ...     requires: [],     activate: (app: JupyterLab) =&gt; {         // can I get to Python evaluation through app?         // by adding another class to `requires` above?     } } export default extension; </code></pre>"	"<p>Here's a hacky attempt that ""works"". Could still use advice if anyone knows where there is a public promise for the kernel being ready, how to avoid the intermediate class, or any other general improvements:</p>  <pre><code>import { JupyterLab, JupyterLabPlugin } from '@jupyterlab/application'; import { DocumentRegistry } from '@jupyterlab/docregistry'; import { INotebookModel, NotebookPanel } from '@jupyterlab/notebook'; import { IDisposable, DisposableDelegate } from '@phosphor/disposable';  declare global {     interface Window {         'execPython': {             'readyState': string,             'exec': (code: string) =&gt; any,             'ready': Promise&lt;void&gt;         } | null     } }  class ExecWidgetExtension implements DocumentRegistry.IWidgetExtension&lt;NotebookPanel, INotebookModel&gt; {     createNew(nb: NotebookPanel, context: DocumentRegistry.IContext&lt;INotebookModel&gt;): IDisposable {         if (window.execPython) {             return;         }         window.execPython = {             'readyState': 'waiting',             'exec': null,             'ready': new Promise((resolve) =&gt; {                 const wait = setInterval(() =&gt; {                     if (!context.session.kernel || window.execPython.readyState === 'ready') {                         return;                     }                     clearInterval(wait);                     window.execPython.readyState = 'ready';                     window.execPython.exec = (code: string) =&gt;                         context.session.kernel.requestExecute({ code }, true);                     resolve();                 }, 50);             })         };         // Usage elsewhere: execPython.ready.then(() =&gt; execPython.exec('x = 42').done.then(console.log, console.error))          return new DisposableDelegate(() =&gt; {});     } }  const extension: JupyterLabPlugin&lt;void&gt; = {     'id': 'jupyterlab_foo',     'autoStart': true,     'activate': (app: JupyterLab) =&gt; {         app.docRegistry.addWidgetExtension('Notebook', new ExecWidgetExtension())     } }; export default extension; </code></pre>"
52438724	How Can I run a python function in script file or in the views.py using javascript for not loading the page	javascript|python|django|django-forms	2018-09-21 07:28:52.427000 UTC	"<p>I have a Django page that has a form that has a button that calls functions in the views.py, but I want to validate some input text of the form via running a python script function (in views.py or I can separate this function in another file) but I don't want to load the page. where and How can I make js code to run this function?   </p>"	"<p>Create a new url to for a the view function which will validate the input. </p>  <pre><code>path('ajax/validate_input/', views.ValidateInput.as_view(), name='my_ajax_url'), </code></pre>  <p>In <code>views.py</code> do your validation then return a <code>JsonResponse</code>.  </p>  <pre><code>from django.views import View from django.http import JsonResponse  class ValidateInput(View):     def post(self, request):         # Do validation         return JsonResponse({             'valid': True,             'message': 'Invalid Characters',         }) </code></pre>  <p>Now in your template write js code that will make ajax requests to that url.</p>  <p>According to received response make changes to your webpage using js in the success of your ajax.</p>  <pre><code>// add jQuery // put the code below inside an event handle, maybe on input change $.ajax({     url: {% url 'my_ajax_url' %},     method: 'POST',     data: {         body: body,         csrfmiddlewaretoken: '{{ csrf_token }}'     },     dataType: 'json',     success: function(data){          console.log(data.valid);         console.log(data.message);         // do stuff to change your webpage here     } }); </code></pre>  <p>I would recommend validating input on input change, but if you want to do it in from submit, then add an event handler for form submit. There use <code>event.preventDeafault</code> to prevent form submit, then do the ajax stuff, and according to the received json do something else. Maybe if <code>valid = true</code> then proceed further or if <code>valid = false</code> then show the message received in json below the input box.</p>"
52438724	How Can I run a python function in script file or in the views.py using javascript for not loading the page	javascript|python|django|django-forms	2018-09-21 07:28:52.427000 UTC	"<p>I have a Django page that has a form that has a button that calls functions in the views.py, but I want to validate some input text of the form via running a python script function (in views.py or I can separate this function in another file) but I don't want to load the page. where and How can I make js code to run this function?   </p>"	"<p>You could render the form in a dedicated Python view and invoke it via Ajax from Javascript.</p>  <p>In this view you should:</p>  <ul> <li>create the form</li> <li>render it to a string</li> <li>return rendered form as json</li> </ul>  <p>If you invoke it via GET method, you render the form with initial values (no warnings or errors messages). </p>  <p>If used method is POST, you get values from the request and render the form (including validation messages).</p>  <p>This could be how the Django view looks like:</p>  <pre><code>import json from django.http import HttpResponse from django.template.loader import render_to_string  def my_view(request):      if request.method == ""GET"":             form = MyForm()     elif request.method == ""POST"":         form = MyForm(data=request.POST)      form_context = {'form': form}         form_html = render_to_string('form.html', form_context)      json_response = json.dumps(form_html, separators=(',', ':'))     return HttpResponse(json_response) </code></pre>  <p>In the Javascript side via GET (using JQuery.getJSON):</p>  <pre><code>$.getJSON('/url/path/to/my-view',           function(data) {               var form_html = decodeURIComponent(data.form);               $(""form#my-form-css-selector"").html(form_html); }); </code></pre>  <p>And in the Javascript side via POST (using JQuery.post):</p>  <pre><code>$.post('/url/path/to/my-view',        $(""form#my-form-css-selector"").serialize(),        function(data) {            var form_html = decodeURIComponent(data.form);            $(""form#my-form-css-selector"").html(form_html);        },        ""json"" ); </code></pre>  <p>You can check <a href=""https://docs.djangoproject.com/en/2.1/topics/http/views/"" rel=""nofollow noreferrer"">Django views</a>, <a href=""https://docs.djangoproject.com/en/2.1/topics/templates/#django.template.loader.render_to_string"" rel=""nofollow noreferrer"">Django render_to_string</a>, <a href=""https://api.jquery.com/jquery.getjson/"" rel=""nofollow noreferrer"">JQuery.getJSON</a>, <a href=""https://api.jquery.com/jquery.post/"" rel=""nofollow noreferrer"">JQuery.post</a> doc pages for further info.</p>"
52447266	Run python code which is served via flask in javascript when a button is clicked	javascript|python|jquery|ajax|flask	2018-09-21 15:51:52.817000 UTC	"<p>I'm trying to run some python code which is served via Flask and I want that python code to return a value to javascript so that I can use it there.</p>  <p>In this case, I have a button in HTML, When I hit it, I want a python code (served via Flask) to run and it should return ""Hello"" which I can use it in HTML like displaying it or storing it another variable.</p>  <p>Here are my codes:</p>  <p><code>ajax.html</code></p>  <pre><code>&lt;!doctype html&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;country&lt;/title&gt;     &lt;script src=""http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"" type=""text/javascript""&gt;&lt;/script&gt;  &lt;/head&gt; &lt;body&gt;  &lt;button id=""btn"" onclick=""flaskcall()""&gt;display&lt;/button&gt; &lt;p id=""display-here""&gt;Display here {{ temp }}&lt;/p&gt; &lt;script&gt;   function flaskcall() {     $.ajax(   {      type: ""POST"",      url: ""/hello"",      dataType: ""html"",      success: function(msg)      {          console.log(msg);              $(""#display-here"").html(msg);       },     error: function (xhr, status, error) {         console.log(error);     }  }); }   &lt;/script&gt;  &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p><code>flaskajax.py</code></p>  <pre><code>from flask import Flask  app = Flask(__name__) @app.route(""/hello"", methods=['GET', 'POST'])   def Hello():     message = ""Hello""     return render_template(""ajax.html"", temp=message)  if __name__ == '__main__':     app.run(debug=True) </code></pre>  <p><code>webserver.py</code></p>  <pre><code>import SimpleHTTPServer import SocketServer  PORT = 8888  Handler = SimpleHTTPServer.SimpleHTTPRequestHandler  httpd = SocketServer.TCPServer(("""", PORT), Handler)  print ""serving at port"", PORT httpd.serve_forever() </code></pre>  <p>What I'm doing is, I'm running <code>webserver.py</code> and I'm navigating to <code>http://localhost:8888/ajax.html</code> and when I press <code>display</code> button I'm seeing this error</p>  <p><a href=""https://i.stack.imgur.com/D0fco.png"" rel=""nofollow noreferrer"">Error Message</a></p>  <p>I don't even know If I'm doing it in the right way or not, I don't understand the GET and POST methods also. If anyone understood what I'm actually trying to do and if they can explain to me what really is happening behind the hood, I will be grateful. Please comment if you need any additional information. </p>"	"<p>It looks like you are running webserver.py which has nothing to do with your flask application. </p>  <p>you should run it as :</p>  <p>python flaskajax.py </p>  <p>which will run its own webserver and listens on default 5000 and you can browse to <a href=""http://localhost:5000/hello"" rel=""nofollow noreferrer"">http://localhost:5000/hello</a></p>  <p>Some issues with your code though, you forgot to import render_template. Here is how it should be,</p>  <pre><code>from flask import Flask from flask import render_template app = Flask(__name__) @app.route(""/hello"", methods=['GET', 'POST'])   def Hello():     message = ""Hello""     return render_template(""ajax.html"", temp=message)  if __name__ == '__main__':     app.run(debug=True) </code></pre>"
52447266	Run python code which is served via flask in javascript when a button is clicked	javascript|python|jquery|ajax|flask	2018-09-21 15:51:52.817000 UTC	"<p>I'm trying to run some python code which is served via Flask and I want that python code to return a value to javascript so that I can use it there.</p>  <p>In this case, I have a button in HTML, When I hit it, I want a python code (served via Flask) to run and it should return ""Hello"" which I can use it in HTML like displaying it or storing it another variable.</p>  <p>Here are my codes:</p>  <p><code>ajax.html</code></p>  <pre><code>&lt;!doctype html&gt; &lt;html&gt; &lt;head&gt;     &lt;title&gt;country&lt;/title&gt;     &lt;script src=""http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"" type=""text/javascript""&gt;&lt;/script&gt;  &lt;/head&gt; &lt;body&gt;  &lt;button id=""btn"" onclick=""flaskcall()""&gt;display&lt;/button&gt; &lt;p id=""display-here""&gt;Display here {{ temp }}&lt;/p&gt; &lt;script&gt;   function flaskcall() {     $.ajax(   {      type: ""POST"",      url: ""/hello"",      dataType: ""html"",      success: function(msg)      {          console.log(msg);              $(""#display-here"").html(msg);       },     error: function (xhr, status, error) {         console.log(error);     }  }); }   &lt;/script&gt;  &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p><code>flaskajax.py</code></p>  <pre><code>from flask import Flask  app = Flask(__name__) @app.route(""/hello"", methods=['GET', 'POST'])   def Hello():     message = ""Hello""     return render_template(""ajax.html"", temp=message)  if __name__ == '__main__':     app.run(debug=True) </code></pre>  <p><code>webserver.py</code></p>  <pre><code>import SimpleHTTPServer import SocketServer  PORT = 8888  Handler = SimpleHTTPServer.SimpleHTTPRequestHandler  httpd = SocketServer.TCPServer(("""", PORT), Handler)  print ""serving at port"", PORT httpd.serve_forever() </code></pre>  <p>What I'm doing is, I'm running <code>webserver.py</code> and I'm navigating to <code>http://localhost:8888/ajax.html</code> and when I press <code>display</code> button I'm seeing this error</p>  <p><a href=""https://i.stack.imgur.com/D0fco.png"" rel=""nofollow noreferrer"">Error Message</a></p>  <p>I don't even know If I'm doing it in the right way or not, I don't understand the GET and POST methods also. If anyone understood what I'm actually trying to do and if they can explain to me what really is happening behind the hood, I will be grateful. Please comment if you need any additional information. </p>"	"<p>Here's your 2nd server, using flask:</p>  <pre><code>from flask import Flask, Response  app = Flask(__name__)   @app.route(""/ajax"") def Hello():     resp = Response(""Hello"")     resp.headers['Access-Control-Allow-Origin'] = '*'     return resp   if __name__ == '__main__':     app.run(debug=True) </code></pre>  <p>Of crucial importance is setting the header as shown, otherwise the browser will not allow the AJAX request since it's to a different server.</p>  <p>In your <code>index.html</code> put this in the <code>&lt;body&gt;</code> for now:</p>  <pre><code>&lt;h1&gt;Hello from Flask.&lt;/h1&gt; &lt;button id=""btn"" onclick=""flaskcall()""&gt;display&lt;/button&gt; &lt;p id=""display-here""&gt;&lt;/p&gt; &lt;script&gt;     function flaskcall() {         fetch(""//localhost:5000/ajax"").then(res =&gt; res.text()).then(res =&gt; {             document.querySelector(""#display-here"").textContent = res;         });     } &lt;/script&gt; </code></pre>  <p>The function will use AJAX to request <code>GET /ajax</code> from the flask server, to which the server will reply <code>Hello</code>. Then the response is inserted into the document (using the non-jQuery version to be safe).</p>"
52484466	Adding delay to Javascript function call by calling python script	javascript|jquery|ajax	2018-09-24 17:27:19.270000 UTC	"<p>I've looked into a great deal of solutions which make use of <code>setInterval</code> and <code>setTimeout</code>, however I thought I could give it a go adding a delay between function calls with use of a python script.  </p>  <p>To explain the code:  </p>  <ul> <li><p>I have a dropdown menu which contains the football matches being played today. When a user selects an option from this dropdown list i.e. it detects a <code>change</code>, then it executes a bunch of code to update the page with the relevant information. </p></li> <li><p>Within this function I have another function <code>liveCommentaryCall()</code> which uses AJAX to get the latest updates in the football match selected from the dropdown menu.</p></li> <li>Of course I need to call this every X seconds to update the webpage regarding the latest events.</li> <li>At the end of the function I make an AJAX <code>POST</code> request to a specific URL <code>/delayRequest</code>, which I then have that route in flask simply perform a <code>sleep()</code>and return.</li> <li>After this I then call the function <code>liveCommentaryCall()</code>again to restart the update procedure.</li> </ul>  <p><strong>JAVASCRIPT</strong></p>  <pre><code>$(""#teamDropdownSelector"").change(function(){     .     .     .     function liveCommentaryCall(){              alert(""called"");             .             . // bunch of code to update the page             .             $.ajax({                 url: ""/delayRequest"",                 type: ""POST"",                 data: JSON.stringify(""""),                 success: function(response) {                 alert(""RESPONSE RECIEVED"");                 },                 error: function(delayError) {                     alert(""Something's gone wrong!"");                 }             });             liveCommentaryCall();         }     //Now out of the function scope.      //Below is the first time the liveCommentaryCall function gets called.     liveCommentaryCall(); }); </code></pre>  <p><strong>PYTHON</strong>  </p>  <pre><code>@app.route(""/delayRequest"", methods=['POST', 'GET'])   def delay():       time.sleep(10)       return;   </code></pre>  <p>However, opposed to calling the function, it running, then having a delay of 10 seconds before being called again, the webpage just peppers me with ""called"" alerts, meaning <code>liveCommentaryCall</code> is just getting called instantly on loop somewhere?  </p>  <p>I can't see anywhere in code which should be causing this, which makes me think theres some underlying principle I'm overlooking.  </p>  <p><strong>Question</strong><br> Is the error in the fact that I cant use a python script like this, or am I just not coding this idea correctly?</p>"	"<p>Instead of implementing <code>liveCommentaryCall</code> recursively, you can use the <code>setInterval</code> function in the <code>script</code>:</p>  <pre><code>&lt;script&gt;   setInterval(""liveCommentaryCall()"",1000); //call every second   function liveCommentaryCall(){          .         . // bunch of code to update the page         .         $.ajax({             url: ""/delayRequest"",             type: ""POST"",             data: JSON.stringify(""""),             success: function(response) {             alert(""RESPONSE RECIEVED"");             },             error: function(delayError) {                 alert(""Something's gone wrong!"");             }         });     } &lt;/script&gt; </code></pre>"
52484647	Sending JSON Data from Python to Javascript and accessing them.	javascript|python|json|ajax|canvasjs	2018-09-24 17:40:50.080000 UTC	"<p>I have a python file that gets the data from database and returns them in the form of JSON.</p>  <pre><code>import pymysql; import json; from flask import Flask, render_template, request, redirect, Response app = Flask(__name__)  @app.route('/test', methods=[""POST"", ""GET""]) def getMySQlData():     tableData = []     connection = pymysql.connect(host='db-auto-performancetesting',                                  user='DBUser',                                  password='*******',                                  database='DbPerformanceTesting',                                  port=3302,                                  charset='utf8mb4',                                  cursorclass=pymysql.cursors.DictCursor)      try:         with connection.cursor() as cursor:             sql = ""SELECT TestcaseName, AverageExecutionTimeInSeconds FROM PASPerformanceData WHERE BuildVersion='38.1a141'""             cursor.execute(sql)             while True:                 row = cursor.fetchone()                 if row == None:                     break                 tableData.append(row)             tableDataInJson =  json.dumps(tableData, indent=2)             print tableDataInJson             return tableDataInJson     finally:         connection.close()  if __name__ == ""__main__"":     app.run() </code></pre>  <p>I need help in collecting this JSON data into HTML &amp; Javascript and use them as the chart data.</p>  <p>I am new to Javascript and ajax. Can someone help me in writing ajax call to python file from Javascript and retrieve the JSON data returned.</p>  <pre><code>&lt;!DOCTYPE HTML&gt; &lt;html style=""height:100%;""&gt; &lt;head&gt; &lt;style type=""text/css""&gt; body {     overflow:hidden; } &lt;/style&gt; &lt;script src=""https://canvasjs.com/assets/script/canvasjs.min.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript""&gt;  window.onload = function () {     var chart1 = new CanvasJS.Chart(""chartContainer1"", {         title:{             text: ""Launch Application""                       },         axisY:{         title: ""Average Execution Time(seconds)""         },         axisX:{         title: ""Software Version"",         labelAngle: 180         },         data: [                       {             // Change type to ""doughnut"", ""line"", ""splineArea"", etc.             indexLabelFontSize: 16,             labelFontSize: 16,             type: ""column"",             dataPoints: [                 { label: ""ReleaseVersion \n (20.1a121)"",  y: ""**Data recieved from JSON, indexLabel**"": ""6.0 s"" },                 { label: ""PreviousVersion \n (38.1a140)"", y: ""**Data recieved from JSON**"", indexLabel: ""5.0 s""  },                 { label: ""CurrentVersion \n (38.1a.141)"", y: ""**Data recieved from JSON**"", indexLabel: ""5.4 s""  }             ]         }         ]     }); </code></pre>  <p>Thanks</p>"	"<p>So let me give you quick overview of how might AJAX and flask work together.</p>  <p>Lets say you have some data that you get from database which is something like this </p>  <pre><code>items=[{""id"":123,""name"":""abc"",""lastname"":""xyz""}] </code></pre>  <p>And you could store something like this with a small piece of code which would be something like this</p>  <pre><code>result = cursor.fetchall() links = [] num = 0 for item in result:     if links.__len__()-1 != num:         links.append({})     links[num]['id'] = item[0]     links[num]['name'] = item[1]     links[num]['lastname'] = item[2]     #links.append({}) extra append should be created     num += 1 </code></pre>  <p>Now the interesting AJAX part</p>  <p>Lets say you have a simple form that you would want to submit.</p>  <pre><code>    &lt;form id=""searchForm"" action=""/"" method=""POST""&gt;     &lt;input type=""text"" id=""search"" name=""search"" placeholder=""Search""&gt;     &lt;input type=""submit"" value=""Search""&gt;     &lt;/form&gt; </code></pre>  <p>To stop default action for submit you can have a script which would be something like this</p>  <pre><code>$(document).ready(function() { //#addLinkForm is nothing but the id of the form (works well if you have multiple forms in your page)     $('#addLinkForm').on('submit',function(event){ //This is where the data is sent     $.ajax({         url: '/adminAJAX',         type: 'POST',         data: $('#addLink'),     }) //this is done when the response is received     .done(function(data) {         console.log(""success "" + data);     });      event.preventDefault(); }); }); </code></pre>  <p>The response would be in your browser console. The data received can be used as you see fit </p>  <p>For this to work you would also need</p>  <pre><code>&lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;&lt;/script&gt; </code></pre>  <p>in your HTML code</p>  <p>One last thing. For all of this to work you would also need your server side which i guess would be flask for you</p>  <pre><code>@app.route('/adminAJAX',methods=['POST']) def adminAJAX(): #your processing logic  items=[{""id"":123,""name"":""abc"",""lastname"":""xyz""}] #just an example  return json.dumps(items) </code></pre>"
52507857	"Python - Selenium cannot click href=""javascript:void(0);"""	python|selenium	2018-09-25 23:23:18.813000 UTC	"<p>Whenever I try to scrape Eastleigh website it does everything it needs to do. it goes to the URL, auto clicks ""Advanced Settings"" Writes in the decision date clicks search and gets all the href links but when it TRIES to go to them it fails... Why? All it needs to do is click the href links but it won't ;-;</p>  <p>Can someone help fix this please?</p>  <p>Code:</p>  <pre><code>import sys import time import config import datetime from selenium import webdriver  print(""1. Custom Date"") print(""2. Last Week"") choice = input(""#: "") if choice == ""1"":     print(""Start Example: 1/8/2018"")     startDate = input(""Start Date: "")     print(""Stop Example: 30/8/2018"")     stopDate = input(""Stop Date: "")  elif choice == ""2"":     sd = str(datetime.datetime.today().day) # Gets day of the month     sm = str(datetime.datetime.today().month) # Gets month of the year     sy = str(datetime.datetime.today().year) # Gets year     nsd = int(sd) # Turns string variable ""sd"" into an integer     startDate = ""%s/%s/%s"" % (nsd-7, sm, sy) # Makes a new date string. Minus 7 off of the original date to go back 1 week     stopDate = ""%s/%s/%s"" % (nsd-1, sm, sy) # Makes a new date string. Minus 1 off of the original date, (Minusing 1 was Steve's idea, not mine.) else:     print(""This is not a choice."")     print(""Press Enter to exit..."")     input("""")     sys.exit()  url = ""https://planning.eastleigh.gov.uk/s/public-register""  driver = webdriver.Chrome(executable_path=r""C:\Users\Goten\Desktop\chromedriver.exe"") driver.get(url)  time.sleep(2)  driver.find_element_by_xpath(""(//li[@class='slds-tabs_default__item'])[1]"").click()  driver.find_element_by_id(""728:0"").click() # This changes for some reason... I cannot quite find a way to make it stay the same... driver.find_element_by_id(""728:0"").send_keys(startDate)  driver.find_element_by_id(""744:0"").click() # This also changes driver.find_element_by_id(""744:0"").send_keys(stopDate)  driver.find_element_by_xpath(""(//button[@name='submit'])[2]"").click()  time.sleep(2)  driver.find_element_by_xpath(""//*[text()='View More']"").click()  result = []  elements = driver.find_elements_by_css_selector("".slds-truncate a"") links = [link.get_attribute(""href"") for link in elements]  result.extend(links)  print(result)  for link in result:     result.remove(link)     driver.get(link)     for i in range(1):         div = driver.find_element_by_id(""slds-form-element__group"").text         log = open(""log.txt"", ""a"")         log.write(div + ""\n"")     log.write(""\n"")  #driver.close() </code></pre>  <p>Output:</p>  <pre><code>[8520:11412:0926/001704.487:ERROR:install_util.cc(603)] Failed to read HKLM\SOFTWARE\Policies\Google\Chrome\MachineLevelUserCloudPolicyEnrollmentToken: The system cannot find the file specified. (0x2)  DevTools listening on ws://127.0.0.1:59340/devtools/browser/bc325d32-310c-43e6-b8cf-dcfceaebf5a5 ['javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);', 'javascript:void(0);'] Traceback (most recent call last):   File ""code/main.py"", line 17, in &lt;module&gt;     import urls.eastleigh   File ""C:\Users\Goten\Anaconda3\code\urls\eastleigh.py"", line 61, in &lt;module&gt;     driver.get(link)   File ""C:\Users\Goten\Anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py"", line 332, in get     self.execute(Command.GET, {'url': url})   File ""C:\Users\Goten\Anaconda3\lib\site-packages\selenium\webdriver\remote\webdriver.py"", line 320, in execute     self.error_handler.check_response(response)   File ""C:\Users\Goten\Anaconda3\lib\site-packages\selenium\webdriver\remote\errorhandler.py"", line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.WebDriverException: Message: unknown error: unsupported protocol   (Session info: chrome=68.0.3440.106)   (Driver info: chromedriver=2.41.578737 (49da6702b16031c40d63e5618de03a32ff6c197e),platform=Windows NT 10.0.17134 x86_64) </code></pre>"	"<p>In fact you cannot count on those ids, as they are generated dynamically, as noted by yourself. A hackie solution would be:</p>  <pre><code>... inputs = driver.find_elements_by_class_name("" input"")  received_from_index = 1 received_to_index = 2 decision_from_index = 3 decision_to_index = 4  received_from = inputs[received_from_index] received_to = inputs[received_to_index]  received_from.clear() received_from.send_keys(startDate)  received_to.clear() received_to.send_keys(stopDate) </code></pre>  <p>This will fill out the fields (not sure if you need to fill all of them). After that, your script would submit and get the results page correctly. </p>  <p>You will need to revise this part of your code:</p>  <pre><code>for link in result:     result.remove(link)     driver.get(link)     ... </code></pre>  <p>For the second part of what you need:</p>  <pre><code>... driver.find_element_by_xpath(""//*[text()='View More']"").click()  links = driver.find_elements_by_xpath(""""""//*[@id=""arcusbuilt__PApplication__c""]/div/div/h4/a"""""")  print ""Total of planning applications : "", len(links)   for link_index in range(1, len(links) +1):     result_link = driver.find_element_by_xpath(""""""//*[@id=""arcusbuilt__PApplication__c""]/div[%d]/div/h4/a""""""%link_index)      result_link.click()     print ""visiting link %d""%link_index      WebDriverWait(driver, 20).until(      EC.presence_of_element_located((By.NAME, ""BackButton"")))      time.sleep(3)     #DO WHAT YOU NEED HERE...      back_btn = driver.find_element_by_name(""BackButton"")     back_btn.click() </code></pre>  <p>Good luck!</p>"
52531068	How do I convert javascript postData to Python list?	javascript|python|html|scrapy	2018-09-27 06:49:24.250000 UTC	"<p>I use Scrapy to mimic Post Request from the page. Need to get payload values from the following extract. I need to get the values(<code>postData</code>) from this JS construction into python list.</p>  <pre><code>&lt;a style=""color: red;font-size: 12px;font-weight: bolder"" target=""_self"" title=""Click here for processing"" onclick=""return postData('714','714','null','','','TADIKONDA','0713006','TADIKONDA','','1044','EXE DNO 1046 LAND','KARLAPUDI ROSAIAH, EEDA ANJI REDDY LAND','EXE BALANCE LAND','NANDIPATI VENKATESWARLU ETC LAND','0','0','01/01/1983','25/09/2018','t','16/02/2018','1')"" href=""#""&gt; Next&lt;/a&gt; </code></pre>  <p>What kind of data type is this <code>postData</code>?</p>  <p>So, what I do is as follows:</p>  <pre><code>s = response.xpath(""//td[@class = 'formbg1']/a/@onclick"").extract()[0].split('Data')[1][1:-1].replace(""'"","""").split(',') </code></pre>  <p>Which returns a list. The problem, however, is that one of the values has <code>,</code> in it, So it is broken into two separate values in a list, which is no good. Like this one is supposed to be a single list value, but appears to be 2 values.</p>  <pre><code>,'KARLAPUDI ROSAIAH, EEDA ANJI REDDY LAND', </code></pre>  <p>So how do convert this <code>postData</code> into python list saving all values as they are?</p>"	"<p>This is no data type, it is an arbitrary javascript function defined by the page you are working with and the values here are arguments to that function which is called when the link is clicked. You could parse it a little ""by hand"" to be seen as json for example like so:</p>  <pre><code>my_list = json.loads('[' + extracted_raw_string[16:-1].replace(""'"", '""') + ']') </code></pre>  <p>Not very robust but does the trick, will fail if there are additional double / single quotes inside the string values. Otherwise check <a href=""https://github.com/scrapinghub/js2xml"" rel=""nofollow noreferrer"">js2xml</a> or <a href=""https://github.com/rspivak/slimit"" rel=""nofollow noreferrer"">slimit</a> for parsing javascript.</p>"
52557365	--javascript-delay for doing a screenshot using imgkit and Python	python|wkhtmltopdf|imgkit	2018-09-28 14:21:58.747000 UTC	"<p>Using Python, imgkit and wkhtmltopdf (2.0) library I'm trying to make a screenshoot for the whole page. After some preparation I'm calling a method make_screenshot: </p>  <pre><code>def make_screenshot(url):    options = {     'format': 'png',     'javascript-delay': '2000', }  return imgkit.from_url(url, False, options=options) </code></pre>  <p>But when it runs I'm obtaining an error like this:</p>  <pre><code>Loading page (1/2) Rendering (2/2)                                                     Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager. This might be an indication of an iframe taking too long to load. Done   </code></pre>  <p>Screenshot, which is created, shows that page isn't fully loaded. How to resolve it?</p>"	
52575131	Executing Javascript on a webpage with python requests	python|encryption|python-requests	2018-09-30 06:07:59.223000 UTC	"<p>I am not sure if this is possible but let me try to explain.</p>  <p>I am trying to post data from a form but before my data gets posted the website encrypts some of it, with a public key, that i am able to achieve from the response.text</p>  <p>I found the javascript that is used   </p>  <pre><code>var myVal = 123                   n = (myVal, ClassName.create(publicKey); n.encrypt(myVal) </code></pre>  <p>The .encrypt returns the string that is passed to the form.  My question is can I somehow bring that javascript into my script so I can execute that .encrypt method to pass that properly to the form?</p>"	"<p>if the script is simple,I will use <code>pyexecjs</code></p>  <pre><code>import execjs js_cmd = ''' function add(x,y){    return x+y } ''' cxt = execjs.compile(js_cmd) print(cxt.eval(""add(3,4)"")) </code></pre>"
52661885	Mathematics expression evaluated by both Python and Javascript	javascript|python-2.7	2018-10-05 08:56:27.597000 UTC	"<p>I am building a web app with Python in backend and Angular for front end. One function is to evaluate math expressions, which need to be done in both server side and UI side. In python, I evaluate the expression with <code>numexpr</code> and intend to use <code>mathjs</code> for js</p>  <p>However, the expression understood by python might not have the same meaning for javascript, e.g. <code>a^b</code> is XOR in python but exponential in js.</p>  <p>What approach should I use to work around this so that for the same expression, js will return the result that python returns.</p>"	
52693786	JavaScript is bogging down Selenium for Python	javascript|python|ajax|selenium|web-scraping	2018-10-07 23:28:05.277000 UTC	"<p>So I want to scrape a website that uses JavaScript/AJAX to generate additional results as you scroll down the page. I am using Python 3.7 with Selenium Chrome running headless. However, as scraping progresses, you end up with an ever expanding amount of code, which slows down my machine until it is at a standstill. Even simple operations like –</p>  <pre><code>code = driver.page_source </code></pre>  <p>– grow to take several seconds. I ran a test to see how much the codebase had grown, after a few hundred results it had expanded from an initial length of about a half-million characters to 25 million characters – 50 fold! My question is this:</p>  <p>1) Is there some way to have Selenium delete prior code (similar to the way you can delete it in Chrome's ""inspect element"" mode) to keep the size manageable?</p>  <p>2) Or is there some other simple solution that I'm overlooking?</p>"	"<p>One suggestion would be to look at the javascript which is being run and execute something similar, in python, rather than simply relying on selenium.</p>  <p>I don't know what website you're doing, but sounds like it's doing a series of AJAX calls, loading another page &amp; another page of results (images /posts /whatever).</p>  <p>Reverse engineer the JS -- it's probably doing the same AJAX call over and over, passing in a parameter or two. Figure out how the JS calculates the passed in parameter (is it a timestamp, or ID of ""last"" element received, etc.)</p>  <p>Then, rather than having selenium do the work, use python requests, doing the equivalent POST. Retrieve the data (likely json or html), parse it for what you need &amp; then repeat.</p>  <p>Depending on the site you're looking at, this can be orders of magnitude faster.</p>"
52695394	How to wrapping function in Python like in JavaScript?	python|python-3.x	2018-10-08 04:29:01.920000 UTC	"<p>I want to create a new function that doing print, only if <code>Debug=True</code>. This how I'm doing it in JavaScript:</p>  <pre><code>function log(...args) {     if (debug) console.log.apply(null,args) } </code></pre>  <p>or</p>  <pre><code> function log() {         if (debug) console.log.apply(null,arguments)     } </code></pre>  <p>How I can do similar things in Python?</p>  <p>The question: How to pass all the arguments I'm getting in Python?</p>"	"<p>To answer your question specifically, something like the following should help you:</p>  <pre><code>def log(**kwargs):     if kwargs.get(""debug"") == True:         print ""{}"".format(kwargs) </code></pre>  <p>In particular, you can read more about <code>*args</code> and <code>**kwargs</code> - <a href=""https://stackoverflow.com/questions/36901/what-does-double-star-asterisk-and-star-asterisk-do-for-parameters"">this SO question is an excellent start</a></p>"
52695394	How to wrapping function in Python like in JavaScript?	python|python-3.x	2018-10-08 04:29:01.920000 UTC	"<p>I want to create a new function that doing print, only if <code>Debug=True</code>. This how I'm doing it in JavaScript:</p>  <pre><code>function log(...args) {     if (debug) console.log.apply(null,args) } </code></pre>  <p>or</p>  <pre><code> function log() {         if (debug) console.log.apply(null,arguments)     } </code></pre>  <p>How I can do similar things in Python?</p>  <p>The question: How to pass all the arguments I'm getting in Python?</p>"	"<p>You can use variable arguments and variable keyword arguments:</p>  <pre><code># assuming debug is a global variable initialized as either True or False def log(*args, **kwargs):     if debug:         print(*args, **kwargs) </code></pre>"
52698552	"Solution to a slow headless browser rendering html, javascript to a screenshot image in python?"	javascript|python|python-3.x|selenium|google-chrome-headless	2018-10-08 08:47:58.830000 UTC	"<p>I've built an API with flask that uses the <a href=""https://developers.google.com/web/updates/2017/04/headless-chrome"" rel=""nofollow noreferrer"">chrome headless</a> driver and <a href=""https://www.seleniumhq.org/"" rel=""nofollow noreferrer"">selenium</a> in python to render a given address containing a simple html page with some javascript and take a snapshot of the rendered page. After deploying to the server the requests take too long because the headless browser has to execute with every request which is slow.</p>  <p>Is there a faster approach to using the headless browser or a replacement that can get the requested html, javascript and render it like a browser in python to obtain a screenshot?</p>  <pre><code>def create_screenshot(id):  options = Options()  options.add_argument('--headless') options.add_argument('--disable-gpu')  # Last I checked this was necessary. options.add_argument('--ignore-certificate-errors') options.add_argument('--no-sandbox') options.add_argument(""--window-size=1920,1920"")  driver = webdriver.Chrome('./chromedriver', chrome_options=options,                         service_args=['--verbose', '--log-path=/tmp/chromedriver.log']) driver.get(""http://127.0.0.1:1234/snippet/{0}"".format(id))  driver.maximize_window()  element = driver.find_element_by_id(""snapArea"") location = element.location size = element.size x = location['x'] y = location['y'] width = location['x']+size['width'] height = location['y']+size['height'] png = driver.get_screenshot_as_png()  im = Image.open(BytesIO(png)) im = im.crop((int(x), int(y), int(width), int(height)))  path = create_folder(id) im.save(path) return path </code></pre>"	"<p>Instead of initializing the driver every time, why not create it at start in a class (ie, as a property called ""self.driver"") and then call it whenever you need it? Something like this:</p>  <pre><code>class DriverContainer:     def __init__(self):         options = Options()          options.add_argument('--headless')         options.add_argument('--disable-gpu')         options.add_argument('--ignore-certificate-errors')         options.add_argument('--no-sandbox')         options.add_argument(""--window-size=1920,1920"")          self.driver = webdriver.Chrome('./chromedriver', chrome_options=options,                         service_args=['--verbose', '--log-path=/tmp/chromedriver.log'])      def take_screenshot(self, id):         self.driver.get(""http://127.0.0.1:1234/snippet/{0}"".format(id))          self.driver.maximize_window()         element = self.driver.find_element_by_id(""snapArea"")         location = element.location         size = element.size         x = location['x']         y = location['y']         width = location['x']+size['width']         height = location['y']+size['height']         png = self.driver.get_screenshot_as_png()          im = Image.open(BytesIO(png))         im = im.crop((int(x), int(y), int(width), int(height)))          path = create_folder(id)         im.save(path) </code></pre>  <p>Then you instantiate it with <code>driver_container = DriverContainer()</code> and just do <code>driver_container.take_screenshot(id)</code> when needed. This way the browser will skip as the slow startup, which is in my experience what's slowest about selenium.</p>"
52699415	Python - Scrapy Javascript Pagination (next_page)	python|scrapy|scrapy-splash	2018-10-08 09:39:19.800000 UTC	"<p>i made this script for this website....but my pagination doesn't work because its just javascript...and when you click nextpage the container loads new data.... i did found the urls for the naxt pages, here's some examples:</p>  <p><a href=""https://www.siriocenter.gr/Proionta/Mpoulonia-ApostatesTroxwn#modelStr=%7B%22VehicleBrandId%22%3A%22%22,%22VehicleYear%22%3A%22%22,%22VehicleModelId%22%3A%22%22,%22VehicleId%22%3A%22%22,%22AntallaktikoCategoryId%22%3A%22%22,%22AntallaktikoProductTypeId%22%3A%22%22,%22AntallaktikoKareId%22%3A%22%22,%22ProductBrandId%22%3A%22%22,%22sortProperty%22%3A%22ItemPrice%22,%22sortDirection%22%3A%22Ascending%22,%22pageNo%22%3A%221%22,%22pageSize%22%3A%2210%22%7D"" rel=""nofollow noreferrer"">Page2</a></p>  <p><a href=""https://www.siriocenter.gr/Proionta/Mpoulonia-ApostatesTroxwn#modelStr=%7B%22VehicleBrandId%22%3A%22%22,%22VehicleYear%22%3A%22%22,%22VehicleModelId%22%3A%22%22,%22VehicleId%22%3A%22%22,%22AntallaktikoCategoryId%22%3A%22%22,%22AntallaktikoProductTypeId%22%3A%22%22,%22AntallaktikoKareId%22%3A%22%22,%22ProductBrandId%22%3A%22%22,%22sortProperty%22%3A%22ItemPrice%22,%22sortDirection%22%3A%22Ascending%22,%22pageNo%22%3A%222%22,%22pageSize%22%3A%2210%22%7D"" rel=""nofollow noreferrer"">Page3</a></p>  <p>But im getting the results from the first page only....:/, i was thinking to use scrapy-splash but im not sure if that will work....</p>  <p>here's is my test code: </p>  <pre><code># -*- coding: utf-8 -*- import scrapy import time  class SiriosbotSpider(scrapy.Spider):     name = 'SiriosBot'     start_urls = ['https://www.siriocenter.gr/Proionta/Mpoulonia-ApostatesTroxwn']     def parse(self, response):         for content in response.css('div.resultItemTxt'):             item = {             'Title' : content.css('th[colspan=""2""] &gt; a::text').extract(),             'Price' : content.css('div.price &gt; span::text').extract(),             'Manufacture' : content.css('tr:nth-child(2)').extract(),             'Model' : content.css('tr:nth-child(3)').extract(),             'Eidos' : content.css('tr:nth-child(4)').extract(),             'Typos' : content.css('tr:nth-child(5)').extract(),             'Kare' : content.css('tr:nth-child(6)').extract(),             'Comments' : content.css('tr:nth-child(7)').extract(),             'ProductLink' : content.css('th[colspan=""2""] &gt; a::attr(href)').extract(),             'Img' : content.css('div.resultItemImage &gt; a').extract(),             'CurrentURL' : response.url             }             yield item          for next_page in response.css('div.paging &gt; a:last-child::attr(href)'):             url = response.urljoin(next_page.extract())             yield scrapy.Request(url, self.parse) </code></pre>"	
52713234	Cannot retrieve next page link with javascript in scrapy and python	javascript|python|pagination|scrapy	2018-10-09 04:07:38.577000 UTC	"<p>I am having an issue getting a next page link with python.</p>  <p><strong>Code</strong></p>  <pre><code>import scrapy from scrapy.http import Request from gharbheti.items import GharbhetiItem from scrapy.contrib.loader import ItemLoader from scrapy.contrib.loader.processor import TakeFirst, Identity, MapCompose, Join, Compose from urllib.parse import urljoin      class ListSpider(scrapy.Spider):     name = 'list'     allowed_domains = ['gharbheti.com']     start_urls = ['https://www.gharbheti.com/sale','https://www.gharbheti.com/rent']          def parse(self, response):             properties=response.xpath('//li[@class=""col-md-6 Search_building""]/descendant::a')             for property in properties:                 link=property.xpath('./@href').extract_first()                 urls=response.urljoin(link)                  yield Request(urls,callback=self.parse_property, meta={'URL':urls, })          def parse_property(self, response):                 l = ItemLoader(item=GharbhetiItem(), response=response)                 URL=response.meta.get('URL')                 l.add_value('URL', response.url)                 l.add_xpath('Title','//div[@class=""product-page-meta""]/h4/em/text()',MapCompose(str.strip,str.title))                 l.add_xpath('Offering','//figcaption[contains(text(), ""For Sale"")]/text()|//figcaption[contains(text(),""For Rent"")]/text()',MapCompose(lambda i:i.replace('For',''),str.strip))                 l.add_xpath('Price','//div[@class=""deal-pricebox""]/descendant::h3/text()',MapCompose(str.strip))                 l.add_xpath('Type','//ul[@class=""suitable-for""]/li/text()',MapCompose(str.strip))                 bike_parking=response.xpath('//i[@class=""fa fa-motorcycle""]/following-sibling::em/text()').extract_first()                 car_parking=response.xpath('//i[@class=""fa fa-car""]/following-sibling::em/text()').extract_first()                 parking=(""Bike Parking: {} Car Parking: {}"".format(bike_parking,car_parking))                 l.add_value('Parking',parking)                 l.add_xpath('Description','//div[@class=""comment more""]/text()',MapCompose(str.strip))                 l.add_xpath('Bedroom','//i[@class=""fa fa-bed""]/following-sibling::text()',MapCompose(lambda i:i.replace('Total Bed Room:',''),str.strip,int))                 l.add_xpath('Livingroom','//i[@class=""fa fa-inbox""]/following-sibling::text()',MapCompose(lambda i:i.replace('Total Living Room:',''),str.strip,int))                 l.add_xpath('Kitchen','//i[@class=""fa fa-cutlery""]/following-sibling::text()',MapCompose(lambda i:i.replace('Total kitchen Room:',''),str.strip,int))                 l.add_xpath('Bathroom','//i[@class=""fa fa-puzzle-piece""]/following-sibling::text()',MapCompose(lambda i:i.replace('Total Toilet/Bathroom:',''),str.strip,int))                 l.add_xpath('Address','//b[contains(text(), ""Map"")]/text()',MapCompose(lambda i:i.replace('Map Loaction :-',''),str.strip))                 l.add_xpath('Features','//div[@class=""list main-list""]/ul/li/text()',MapCompose(str.strip))                  images=response.xpath('//div[@class=""carousel-inner dtl-carousel-inner text-center""]/descendant::img').extract()                 images=[s.replace('&lt;img src=""', '') for s in images]                 images=[i.split('?')[0] for i in images]                 Image=[""http://www.gharbheti.com"" + im for im in images]                 l.add_value('Images',Image)                  return l.load_item() </code></pre>  <p>Cant retrieve next page from the network     For another site, this is what I did (simple pagination without javascript</p>  <pre><code>next_page=response.urljoin(response.xpath('//a[contains(text(), ""Next"")]/@href').extract_first()  yield Request(next_page, callback=self.parse) </code></pre>"	"<p>Because the pagination uses javascript, there is no link in the page's source code.</p>  <p>To see what happening:</p>  <ol> <li>Open your browser's inspector (F12 in Chrome) and go to the network tab</li> <li>Click the 'Load More' button on the webpage UI</li> </ol>  <p>The inspector will show you that the site is sending an async POST form request to <code>https://www.gharbheti.com/RoomRentHome/GetPropertiesForRent</code>, with two values for the form data:</p>  <ol> <li><code>RentTypeId</code>: 0 {not sure what this is but I'm sure you can figure it out if you need to know}</li> <li><code>page</code>: 1 {gets incremented with every click on 'Load More'}</li> </ol>  <p>You'll have to take a programmatic approach using scrapy's <a href=""https://doc.scrapy.org/en/latest/topics/request-response.html#formrequest-objects"" rel=""nofollow noreferrer"">Form Request</a>. Looks like every page yields 10 more properties, so if you want to get the next 1000 after the initial page load you could write</p>  <pre><code>for i in range(1,101):     &lt;send a form request with i as the page value&gt; </code></pre>  <p>I assume that the data format coming back from the POST is not the same as the site homepage, you so may have to define another callback function to parse that data.</p>"
52749559	Dict lookup in python to javascript	javascript|python	2018-10-10 22:21:36.910000 UTC	"<p>Are the following two expressions equivalent?</p>  <pre><code># python PLAN_TO_COST_PER_UNIT.get(planType, value_if_empty)  # javascript PLAN_TO_COST_PER_UNIT[planType] || value_if_empty; </code></pre>  <p>If not, what would be the closest equivalent in javasript to doing the above python dict lookup?</p>"	"<p>You would have to do some sort of check yourself </p>  <p>One method is to define a <code>get</code> function and use that </p>  <p>e.g. </p>  <pre><code>function get(object, key, default_value) {     var result = object[key];     return (typeof result !== ""undefined"") ? result : default_value; } </code></pre>"
52749559	Dict lookup in python to javascript	javascript|python	2018-10-10 22:21:36.910000 UTC	"<p>Are the following two expressions equivalent?</p>  <pre><code># python PLAN_TO_COST_PER_UNIT.get(planType, value_if_empty)  # javascript PLAN_TO_COST_PER_UNIT[planType] || value_if_empty; </code></pre>  <p>If not, what would be the closest equivalent in javasript to doing the above python dict lookup?</p>"	"<p><strong>No</strong>.</p>  <p><strong>Python</strong>. In Python if you write:</p>  <pre><code>PLAN_TO_COST_PER_UNIT.get(planType, value_if_empty) </code></pre>  <p>This means that if the <code>planType</code> key exists, that value is returned, regardless what that value is. In case it can not be found <code>value_if_empty</code> is returned.</p>  <p>For example:</p>  <pre><code>&gt;&gt;&gt; a = {'key': 0} &gt;&gt;&gt; a.get('key', 1425) 0 </code></pre>  <p><strong>JavaScript</strong>. Your JavaScript version does not doe that: it fetches the value for the key, and in case no such key exists, <code>undefined</code> is returned. Then you use <code>||</code> such that if the ""truthiness"" of the result is <code>false</code>, it takes the right operand (<code>value_if_empty</code>).</p>  <p>If you however would construct an object where the value is <code>0</code>, then it would still take the <code>value_if_empty</code>, like:</p>  <pre><code>&gt; a = {key: 0} { key: 0 } &gt; a['key'] || 1425 1425 </code></pre>  <p>I think the closest to the Python version is making a membership check:</p>  <pre><code>function tryget(obj, key, missing) {     if(key in obj) {         return obj[key];     }     else {         return missing;     } } </code></pre>  <p>Then we thus can call it with <code>tryget({a: 0}, 'a', 1425)</code>.</p>"
52753412	Render CSS/Javascript animation as a sequence of image files with Selenium using Python	javascript|python|selenium|selenium-webdriver|css-animations	2018-10-11 06:14:51.203000 UTC	"<p>I want to render some custom-made CSS3/Javascript animated sequences to sets of PNG files on server side to join them into a single video file next.</p> <p>I saw <a href=""https://stackoverflow.com/questions/16031839/render-css3-animation-as-a-sequence-of-image-files-with-phantomjs"">here</a> it was possible with PhantomJS. As I don't have a big background with Selenium, I don't know how to adapt it with Selenium. The only thing I know is how to <a href=""https://stackoverflow.com/questions/18067021/how-do-i-generate-a-png-file-w-selenium-phantomjs-from-a-string"">make a single screenshot</a> with Selenium :</p> <pre><code>driver = webdriver.Chrome() driver.get('mywebpage.com') driver.save_screenshot('out.png') driver.quit() </code></pre> <p>But it only perform a single screenshot.</p> <p>Please how to take a set of screenshots from the beginning to end of a CSS/Javascript animation through Selenium/Python.</p> <p>PS: I use Python 3.5 and chrome as selenium webdriver on a Vagrant VM</p> <p>Many thanks in advance</p>"	"<p>What you try to archive is not possible in Selenium with ease.</p>  <p>The <em>only</em> way to archive this would be to get control over the animation frame. One possible way is described <a href=""https://stackoverflow.com/questions/39322274/how-do-i-set-the-current-frame-or-similar-of-a-css-animation"">here</a>.</p>  <p>Another way would be to access directly the javascript methods who are setting the CSS properties.</p>  <p>So in general, there's no native support.</p>"
52753412	Render CSS/Javascript animation as a sequence of image files with Selenium using Python	javascript|python|selenium|selenium-webdriver|css-animations	2018-10-11 06:14:51.203000 UTC	"<p>I want to render some custom-made CSS3/Javascript animated sequences to sets of PNG files on server side to join them into a single video file next.</p> <p>I saw <a href=""https://stackoverflow.com/questions/16031839/render-css3-animation-as-a-sequence-of-image-files-with-phantomjs"">here</a> it was possible with PhantomJS. As I don't have a big background with Selenium, I don't know how to adapt it with Selenium. The only thing I know is how to <a href=""https://stackoverflow.com/questions/18067021/how-do-i-generate-a-png-file-w-selenium-phantomjs-from-a-string"">make a single screenshot</a> with Selenium :</p> <pre><code>driver = webdriver.Chrome() driver.get('mywebpage.com') driver.save_screenshot('out.png') driver.quit() </code></pre> <p>But it only perform a single screenshot.</p> <p>Please how to take a set of screenshots from the beginning to end of a CSS/Javascript animation through Selenium/Python.</p> <p>PS: I use Python 3.5 and chrome as selenium webdriver on a Vagrant VM</p> <p>Many thanks in advance</p>"	"<p><strong>EDIT4:</strong></p>  <p>As per @Arakis pointed out, what you want (enough screenshots about any given animation to worth making a video) is not possible without taking over the animation in the browser. If you are not able to take over the animation, this is the best you can get:</p>  <ol> <li>load up the page</li> <li>while the animation lasts, create as many screenshots as possible</li> <li>save the data</li> </ol>  <pre class=""lang-py prettyprint-override""><code>import os import time  from selenium import webdriver from selenium.webdriver.chrome.options import Options  TARGET_FOLDER = r'C:\test\animated_you_not_wanted\{}.png' WINDOW_SIZE = 1920, 1080  options = Options() options.add_argument(""--headless"") options.add_argument(""--no-sandbox"") options.add_argument(""start-maximized"") options.add_argument(""disable-infobars"") options.add_argument(""--disable-extensions"")  shots = [] if not os.path.isdir(os.path.dirname(TARGET_FOLDER)):     os.makedirs(os.path.dirname(TARGET_FOLDER))  driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe', options=options,                           service_args=['--ignore-ssl-errors=true', '--ssl-protocol=any']) # driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe') driver.set_window_size(*WINDOW_SIZE) driver.get('https://daneden.github.io/animate.css/')   # we know that the animation duration on this page is 1 sec so we will try to record as many frames as possible in 1 sec start_time = time.time() while time.time() &lt;= start_time + 1:     shots.append(driver.get_screenshot_as_png())  # dumping all captured frames for i in range(len(shots)):     with open(TARGET_FOLDER.format(i), ""wb"") as f:         f.write(shots[i]) </code></pre>  <p>If you run this code above, you will get approx 3 screenshots, maybe 4 if you have a beast machine. </p>  <p>Why is this happening? When selenium grabs a screenshot, the animation in the browser won't stop and wonder if is it feasible to move on, it just runs independent as normal. Selenium in this resolution (1920x1080) is capable of grabbing 3-4 screenshots in a second. If you reduce the screen resolution to 640x480, you'll get 5-7 screenshots per second depending on your machine, but that frame rate is still very-very far form what you probably desire. Selenium interacts with a browser trough an API but does not control the browser. Taking a screenshot takes time and while selenium grabs the rendered page as an image, animation moves on.</p>  <p>If you want to have a smooth animation with high frame rate, you have to take control over the animation by overriding the animation states. You have to:</p>  <ul> <li>set the <code>animation-play-state</code> to <code>paused</code></li> <li>set the <code>animation-duration</code> to a reasonable length</li> <li>set the <code>animation-delay</code> to a negative value to select a given animation state</li> <li>in a <code>for</code> loop adjust the <code>animation-delay</code> and grab a screenshot</li> <li>save screenshot data later</li> </ul>  <p>On the given page (<a href=""https://daneden.github.io/animate.css/"" rel=""nofollow noreferrer"">https://daneden.github.io/animate.css/</a>) in the opening animation there are 2 webelements animated with the same animation. So what the code below does is the list above with the little extra: it 'steps' the animation cycle for both elements. </p>  <pre><code>import os import time  from selenium import webdriver from selenium.webdriver.chrome.options import Options  TARGET_FOLDER = r'C:\test\animated_you_wanted\{}.png' WINDOW_SIZE = 1920, 1080 ANIM_DURATION = 2 FRAMES = 60 BASE_SCR = 'arguments[0].setAttribute(""style"", ""display: block;animation-delay: {}s;animation-duration: {}s; animation-iteration-count: infinite;animation-play-state: paused;"")'  options = Options() options.add_argument(""--headless"") options.add_argument(""--no-sandbox"") options.add_argument(""start-maximized"") options.add_argument(""disable-infobars"") options.add_argument(""--disable-extensions"")  driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe', options=options,                           service_args=['--ignore-ssl-errors=true', '--ssl-protocol=any']) # driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe') driver.set_window_size(*WINDOW_SIZE) driver.get('https://daneden.github.io/animate.css/')  header = driver.find_element_by_xpath('//*[@class=""site__header island""]') content = driver.find_element_by_xpath('//*[@class=""site__content island""]')  shots = [] for frame in range(FRAMES):     for elem in (header, content):         driver.execute_script(BASE_SCR.format((frame / FRAMES) * -ANIM_DURATION, ANIM_DURATION), elem)     shots.append(driver.get_screenshot_as_png())  if not os.path.isdir(os.path.dirname(TARGET_FOLDER)):     os.makedirs(os.path.dirname(TARGET_FOLDER))  # dumping all captured frames for i in range(len(shots)):     with open(TARGET_FOLDER.format(i), ""wb"") as f:         f.write(shots[i]) </code></pre>  <p>This is the best you can get with selenium. </p>  <p><strong>BONUS</strong>: (or edit5?)</p>  <p>I was wondering if is really impossible to squeeze out more than 5-6 frames per second with a completely generic solution (webpage-independent). I was thinking on this: </p>  <ul> <li>there are JS libraries which are capable of converting html elements into images</li> <li>it is possible to inject JS to the page with selenium</li> <li>since there are no API calls , a pure JS screenshot logic could outperform the pure selenium approach</li> </ul>  <p>So I decided to:</p>  <ul> <li>inject the JS library to the page</li> <li>reload the document.body to reset the animation</li> <li>grab the screenshots and save them</li> </ul>  <p>This is the code, contains more JS than python :D :</p>  <pre class=""lang-py prettyprint-override""><code>import base64 import os import time  from selenium import webdriver from selenium.webdriver.chrome.options import Options  TARGET_FOLDER = r'C:\test\animated_you_actually_wanted\{}.png' WINDOW_SIZE = 800, 600 ANIM_DURATION = 1 FRAMES = 15 BASE_SCR = """""" function load_script(){     let ss = document.createElement(""script"");     ss.src = ""https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"";     ss.type = ""text/javascript"";     document.getElementsByTagName(""head"")[0].appendChild(ss); };  load_script(); shots = [];  window.take = function() {   html2canvas(document.body, {     onrendered: function (canvas) {       shots.push(canvas);     }   }) };  window.record = function(times, sleep){     for (let i=0; i&lt;times; i++){         setTimeout(window.take(), sleep*i)         console.log(""issued screenshot with sleep: "" + sleep*i)     } }; """""" + """"""  document.body.setAttribute(""style"", ""width: {width}px; height: {height}px""); """""".format(width=WINDOW_SIZE[1], height=WINDOW_SIZE[0])   RECORD_SCR = """""" document.body.innerHTML = document.body.innerHTML window.record({}, {}) """"""  GRAB_SCR = """"""  function getShots(){     let retval = []     for (let i=0; i&lt;shots.length; i++){         retval.push(shots[i].toDataURL(""image/png""))     }     return retval; }  return getShots() """"""  options = Options() options.add_argument(""--headless"") options.add_argument(""--no-sandbox"") options.add_argument(""start-maximized"") options.add_argument(""disable-infobars"") options.add_argument(""--disable-extensions"")  if not os.path.isdir(os.path.dirname(TARGET_FOLDER)):     os.makedirs(os.path.dirname(TARGET_FOLDER))  driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe', options=options,                           service_args=['--ignore-ssl-errors=true', '--ssl-protocol=any']) # driver = webdriver.Chrome(executable_path=r'c:\_\chromedriver.exe') driver.set_window_size(*WINDOW_SIZE) driver.get('https://daneden.github.io/animate.css/')  driver.execute_script(BASE_SCR) time.sleep(3) driver.execute_script(RECORD_SCR.format(FRAMES, (ANIM_DURATION/FRAMES)*100))  shots = [] while len(shots) &lt; FRAMES:     shots = driver.execute_script(GRAB_SCR)   # dumping all captured frames for i in range(len(shots)):     with open(TARGET_FOLDER.format(i), ""wb"") as f:         f.write(base64.urlsafe_b64decode(shots[i].split('base64,')[1]))  driver.quit()  </code></pre>  <p>Outcome of the html2canvas experiment:</p>  <ul> <li>the sweet-spot regarding frame rate is around 15-ish on the page mentioned above. More frames cause bottlenecks, especially in the first few frames where the text float-in initial position increases the document.body size </li> <li>target element (document.body) dimension heavily impacts the performance</li> <li>bottlenecks everywhere. I've tried to avoid magic numbers, wasn't easy</li> <li>rendered image may contain glitches, like texts outside their container</li> <li>it may be worth trying a different library, others may perform better</li> <li>this result is still lightyears away from the 60fps frame rate one can achieve with a non-generic solution</li> <li>one can get more frames in headless mode </li> </ul>"
52753412	Render CSS/Javascript animation as a sequence of image files with Selenium using Python	javascript|python|selenium|selenium-webdriver|css-animations	2018-10-11 06:14:51.203000 UTC	"<p>I want to render some custom-made CSS3/Javascript animated sequences to sets of PNG files on server side to join them into a single video file next.</p> <p>I saw <a href=""https://stackoverflow.com/questions/16031839/render-css3-animation-as-a-sequence-of-image-files-with-phantomjs"">here</a> it was possible with PhantomJS. As I don't have a big background with Selenium, I don't know how to adapt it with Selenium. The only thing I know is how to <a href=""https://stackoverflow.com/questions/18067021/how-do-i-generate-a-png-file-w-selenium-phantomjs-from-a-string"">make a single screenshot</a> with Selenium :</p> <pre><code>driver = webdriver.Chrome() driver.get('mywebpage.com') driver.save_screenshot('out.png') driver.quit() </code></pre> <p>But it only perform a single screenshot.</p> <p>Please how to take a set of screenshots from the beginning to end of a CSS/Javascript animation through Selenium/Python.</p> <p>PS: I use Python 3.5 and chrome as selenium webdriver on a Vagrant VM</p> <p>Many thanks in advance</p>"	"<p>First of all: export it into separate files:</p>  <pre><code>driver = webdriver.Chrome() driver.get('mywebpage.com') for count in range(1, (number_of_frames + 1)):     driver.save_screenshot('out_{}.png'.format(count)) driver.quit() </code></pre>"
52761225	How to find load time of the website using python or javascript	javascript|python|load-time	2018-10-11 13:25:17.247000 UTC	"<p>I need to find the load time of a website that I am currently building. I have hosted the site locally. How can I find its load time using python or javascript? I tried the following code, but I think it is for response time.</p>  <pre><code>from time import time from urllib.request import urlopen  stream = urlopen('https://01c92730.ngrok.io/index.html') cream = urlopen('https://01c92730.ngrok.io/Webpage.html') start_time = time() output = stream.read() end_time = time() stream.close() print(round(end_time-start_time, 3))  start = time() output = cream.read() end = time() cream.close() print(round(end-start, 3))` </code></pre>"	"<p><strong>Just put var start = Date.now() at the start of the page and (Date.now() - start) at the end of the page to get the loading time.</strong></p>  <p>Case 1# without loading a library </p>  <pre><code>&lt;doctype html&gt; &lt;html&gt;     &lt;head&gt;          &lt;script type=""text/javascript""&gt;             var start = Date.now();         &lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;          &lt;script type=""text/javascript""&gt;             document.write(""Page load time "" + (Date.now() - start) + ""  milliseconds"");         &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Output: Page load time 0 milliseconds(Sometimes 1 millisecond)</p>  <p>Case 2# loading jquery library </p>  <pre><code>&lt;doctype html&gt; &lt;html&gt;     &lt;head&gt;          &lt;script type=""text/javascript""&gt;             var start = Date.now();         &lt;/script&gt;         &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;          &lt;script type=""text/javascript""&gt;             document.write(""Page load time "" + (Date.now() - start) + ""  milliseconds"");         &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Output: Page load time 24 milliseconds( sometimes 22,23)</p>"
52773349	Python Selenium Clicking a javascript Radio Button	python|selenium|web|screen-scraping	2018-10-12 06:13:43.697000 UTC	"<p>I am right at the end of my script and this must be the last page I have to go through and I am stuck. I have spend 3hrs with different combination and different methods trying to load the elements.</p>  <p>the page is heavly javascript so when I try and get page source it gives me </p>  <blockquote>   <p><code>This page uses frames, but your browser doesn't support them.</code></p> </blockquote>  <p>I have identified there are two frames inside the window and tried to apply all the attempts against both frames.</p>  <p>The result when I try and select to the frame</p>  <pre><code>**driver.find_element_by_xpath('''//*[@id=""three""]/tbody/tr[2]/td/div[2]/a/input''').click()**  error  **Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""//*[@id=""three""]/tbody/tr[2]/td/div[2]/a/input""}** </code></pre>  <p>i have also tried the below with or without the <code>[0]</code> on all frames still the same issue</p>  <pre><code>**driver.find_element_by_xpath('.//input[@type=""radio"" and @value=""05""]')[0].click** </code></pre>  <p>I have tried this but also get the same error</p>  <pre><code>**element = driver.find_element_by_id(""reason"")** </code></pre>  <p>Below is a screenshot of the code in the inspector window. <a href=""https://i.stack.imgur.com/pqN6v.png"" rel=""nofollow noreferrer"">screenshot of inspector</a></p>"	"<p>Try with driver click on radio button</p>  <pre><code>element = driver.find_element_by_xpath(""//table[@id=""three""]//input[@name=""reason""]"") element.click(); </code></pre>  <p>or javascript executor</p>  <pre><code>element = driver.find_element_by_xpath(""//table[@id=""three""]//input[@name=""reason""]"") driver.execute_script(""arguments[0].click();"", element) </code></pre>"
52773349	Python Selenium Clicking a javascript Radio Button	python|selenium|web|screen-scraping	2018-10-12 06:13:43.697000 UTC	"<p>I am right at the end of my script and this must be the last page I have to go through and I am stuck. I have spend 3hrs with different combination and different methods trying to load the elements.</p>  <p>the page is heavly javascript so when I try and get page source it gives me </p>  <blockquote>   <p><code>This page uses frames, but your browser doesn't support them.</code></p> </blockquote>  <p>I have identified there are two frames inside the window and tried to apply all the attempts against both frames.</p>  <p>The result when I try and select to the frame</p>  <pre><code>**driver.find_element_by_xpath('''//*[@id=""three""]/tbody/tr[2]/td/div[2]/a/input''').click()**  error  **Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""//*[@id=""three""]/tbody/tr[2]/td/div[2]/a/input""}** </code></pre>  <p>i have also tried the below with or without the <code>[0]</code> on all frames still the same issue</p>  <pre><code>**driver.find_element_by_xpath('.//input[@type=""radio"" and @value=""05""]')[0].click** </code></pre>  <p>I have tried this but also get the same error</p>  <pre><code>**element = driver.find_element_by_id(""reason"")** </code></pre>  <p>Below is a screenshot of the code in the inspector window. <a href=""https://i.stack.imgur.com/pqN6v.png"" rel=""nofollow noreferrer"">screenshot of inspector</a></p>"	"<p>try to switch to the containing frame first:</p>  <pre><code>parent_frame=driver.find_element_by_css_selector('your selector') driver.switch_to.frame(parent_frame)  #select the button after </code></pre>  <p><a href=""https://stackoverflow.com/questions/20069737/how-to-identify-and-switch-to-the-frame-in-selenium-webdriver-when-frame-does-no"">How to identify and switch to the frame in selenium webdriver when frame does not have id</a></p>"
52788198	How to emit message from python server to javascript client in python-socketio?	javascript|python|websocket|socket.io|python-socketio	2018-10-12 23:31:20.360000 UTC	"<p>The socketio client successfully connects to the server and sends messages with <code>emit</code> to the server but the other direction server to the client fails. I cannot find the source of error. It is </p>  <p>Here is the server python in <code>app.py</code> based on the example in <a href=""https://python-socketio.readthedocs.io/"" rel=""nofollow noreferrer"">python-socketio</a> website:</p>  <pre><code>from aiohttp import web import socketio  sio = socketio.AsyncServer() app = web.Application() sio.attach(app)  async def index(request):     """"""Serve the client-side application.""""""     with open('index.html') as f:         return web.Response(text=f.read(), content_type='text/html')  @sio.on('connect', namespace='/chat') def connect(sid, environ):     print(""connect"", sid)  @sio.on('chat message', namespace='/chat') async def message(sid, data):     print(""server received message!"", data)     await sio.emit('reply', data)     await sio.send(data)  @sio.on('disconnect', namespace='/chat') def disconnect(sid):     print('disconnect', sid)  app.router.add_static('/static', 'static') app.router.add_get('/', index)  if __name__ == '__main__':     web.run_app(app) </code></pre>  <p>I tried commenting one of <code>await sio.emit('reply', data)</code> or <code>await sio.send(data)</code> but result was the same. Here is the javascript client in <code>index.html</code>:</p>  <pre><code>&lt;html&gt;   &lt;head&gt;     &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js""&gt;&lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;form id=""the_form""&gt;       &lt;input type=""input"" name=""msg"" id=""msg""&gt;&lt;/input&gt;       &lt;input type=""submit"" value=""➤""&gt;&lt;/input&gt;     &lt;/form&gt;     &lt;script&gt;       var socket = io('http://localhost:8080/chat');        socket.on('connect', function(){console.log('connect!')});       socket.on('message', function(msg){console.log('message!', msg)});       socket.on('disconnect', function(){console.log('disconnect!')});       socket.on('reply', function(msg){console.log('reply!', msg)});        document.getElementById('the_form').onsubmit = function(e) {         let msg = document.getElementById('msg').value;         document.getElementById('msg').value = '';          // send it to the server         socket.emit('chat message', msg);          return false       };     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>On the terminal window, I run the server. Then, I open two browser windows (Chrome Version 69.0.3497.100 (Official Build) (64-bit)) and send 'test' from one of them. Here is what I see on each window:</p>  <p><strong>Terminal</strong></p>  <pre><code>$ python3 app.py  ======== Running on http://0.0.0.0:8080 ======== (Press CTRL+C to quit) connect 9b18034f7b8b4d4c857dec394ef01429 connect 3adea48a3e00459f807855da0337599c server received message! test </code></pre>  <p><strong>Window 1 (console log)</strong></p>  <pre><code>connect! </code></pre>  <p><strong>Window 2 (console log)</strong></p>  <pre><code>connect! </code></pre>"	"<p>Based on the examples <a href=""http://github.com/miguelgrinberg/python-socketio/tree/master/examples"" rel=""nofollow noreferrer"">here</a> suggested in <a href=""https://stackoverflow.com/questions/52788198/how-to-emit-message-from-python-server-to-javascript-client-in-python-socketio?noredirect=1#comment92504363_52788198"">comments by evgeni-fotia</a>, the namespace argument is necessary here. It seems the default namespace, at least on this version, is not the namespace of the async function. So, the correct way to broadcast with echo back a message is the following:</p>  <pre><code>@sio.on('chat message', namespace='/chat') async def message(sid, data):     print(""server received message!"", data)     await sio.emit('reply', data, namespace='/chat') </code></pre>"
52793745	"Recursive Python function translation to Javascript not working, issue with arrays"	javascript|python|arrays|math|recursion	2018-10-13 14:04:49.103000 UTC	"<p>I want to translate a Python program (which solves a certain basic combinatorial problem) to Javascript. The goal is to evaluate <em>my_function(200, [1,2,5,10,20,50,100,200])</em>, and the result is that the Python program returns the correct answer (~70k), but my attempted Javascript translation returns a wrong answer (~60k).</p>  <p>The function <em>my_function</em> is defined recursively, and in particular the second input, a list, is truncated in the recursion step (see second-to-last line of code). I may not have handled this well in the JS version.</p>  <p><strong>Python function:</strong></p>  <pre><code>import math  coin_sizes = [1,2,5,10,20,50,100,200]  def my_function(amount, coins_list):     if amount == 0:         return 1     elif len(coins_list) == 0:         return 0     elif len(coins_list) == 1:         return 1     else:         top_coin = coins_list[-1]         d = math.floor(amount/top_coin)         total = 0         for i in range(0,d+1):             total += my_function(amount - i*top_coin, coins_list[:-1])         return total </code></pre>  <p><strong>Javascript function:</strong></p>  <pre><code>var coin_sizes = [1,2,5,10,20,50,100,200];  var sublist = function(mylist) {     var new_list = Array(mylist.length-1);     for (var i = 0; i &lt; mylist.length-1; i++){         new_list[i] = mylist[i];     }     return new_list };  var my_function = function(amount, coins_list) {     if (amount == 0) return 1;     else if (coins_list.length == 0) return 0;     else if (coins_list.length == 1) return 1;     else {         var top_coin = coins_list[(coins_list.length-1)];         d = Math.floor(amount/top_coin);         var total = 0;         for (var i = 0; i &lt; d+1; i++) {         total += my_function(amount - i*top_coin, sublist(coins_list));         };         return total;     }; }; </code></pre>  <p>I tried writing a similar program in Java, but got too many stack overflow errors.</p>  <p><strong>Question:</strong> What's going on? Why do I get the wrong answer, and is there a better way to translate this Python program to Javascript? </p>  <p>Note: The original combinatorial problem can be solved dynamically/without recursion, and then I would have no problem translating it to Javascript. I want to learn how to write something similar to the Python function above.</p>"	"<p>You miss to declare <code>d</code>.</p>  <p>BTW, you could use exit early paradigm <code>if ... return ...</code> and go on without <code>else</code> and for the last block, you need to declare all variables, because if not, the variable is global and the value changes with the recursive call.</p>  <p>Another hint, after block statements <code>{ ... }</code>, like with <code>for</code> or <code>else</code>, you need no semicolon.</p>  <p>And finaly, you could use <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"" rel=""nofollow noreferrer""><code>Array#slice</code></a> for getting a copy from start until end - 1 by using <code>-1</code> as <em>to</em> parameter (the second one).</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var coin_sizes = [1, 2, 5, 10, 20, 50, 100, 200],     sublist = function(mylist) {         return mylist.slice(0, -1);     },     my_function = function(amount, coins_list) {         if (amount == 0) return 1;         if (coins_list.length == 0) return 0;         if (coins_list.length == 1) return 1;         var top_coin = coins_list[(coins_list.length - 1)],             d = Math.floor(amount / top_coin),             total = 0;         for (var i = 0; i &lt; d + 1; i++) {             total += my_function(amount - i * top_coin, sublist(coins_list));         }         return total;     };  console.log(my_function(200, [1, 2, 5, 10, 20, 50, 100, 200]));</code></pre> </div> </div> </p>"
52812680	Python convert sting to dict from javascript variable	python|json	2018-10-15 08:36:10.440000 UTC	"<p>I've scraped data from web page. I got such content page, how I can convert this object to python dict? Json can not use, because because it's not valid json structure.  </p>  <blockquote> <pre><code>{                     id: 37429,                     debug: true,                     title: '37429',                     filters: {                         3: {                             title: '3',                             all: true,                             values: {                                 2006: {                                     title: '2006',                                     order: 0,                                     checked: true                                 }                             },                             indicator: false                         },                         58835: {                             title: '58835',                             all: false,                             values: {                                 1785924: {                                     title: '1785924',                                     checked: true                                 }                             },                             indicator: false                         },                         58423: {                             title: '58423',                             all: false,                             values: {                                 1785900: {                                     title: '1785900',                                     checked: true                                 }                             },                             indicator: false                         }                     }                 } </code></pre> </blockquote>"	"<p>It actually depends on how you want to approach the problem. Does all the results of the scraped pages have invalid json formats? if yes then you should probably write a code to automatically correct json formats and such is answered <a href=""https://stackoverflow.com/questions/18514910/how-do-i-automatically-fix-an-invalid-json-string"">here</a>. </p>  <p>On the other hand, if it seems like it happened once and the instance is the one that you have posted in your question, you could fixing the format yourself manually and then do <code>json.loads(your_string)</code>. </p>  <p>Personally I would advise you to figure out why you the result of your scraper wasn't in the correct json format to make your life easier in the future. Kudos!</p>"
52870923	WebKit2 and DomDocument/JavaScriptCore (Python3)	python-3.x|domdocument|webkit2	2018-10-18 09:23:36.557000 UTC	"<p>I am converting a Python3 application to use WebKit2 instead of WebKit (which is no longer available in Debian Buster).</p>  <p>In the application the user can (de)select check boxes which I read from the Python3 application. In the original code I could simply get the DomDocument of the Webview and iterate through the child objects to return the value of the object with a given name (sample code below).</p>  <p>In WebKit2 the <a href=""https://webkitgtk.org/reference/webkitgtk/stable/webkitgtk-webkitwebview.html#webkit-web-view-get-dom-document"" rel=""nofollow noreferrer"">get_dom_document</a> function is no longer available and the <a href=""https://webkitgtk.org/reference/webkit2gtk/stable/"" rel=""nofollow noreferrer"">WebKit2 documentation</a> is not clear on how to proceed.</p>  <p>Does anybody know how to get the DomDocument from a WebKit2 Webview or another way to iterate through all objects by name and get their value?</p>  <p><strong>Sample code DomDocument from WebKit Webview:</strong></p>  <pre><code>def get_element_values(self, element_name):     values = []     doc = self.get_dom_document()     elements = doc.get_elements_by_name(element_name)     for i in range(elements.get_length()):         child = elements.item(i)         value = child.get_value().strip()         if not child.get_checked():             value = ''         if value:             values.append(value)     return values </code></pre>  <p>Note: ""self"" is the WebKit.Webview.</p>  <p><strong>[EDIT]</strong></p>  <p>I have been experimenting with this. First I tried to get the DomDocument by getting the WebPage object first. I found WebView.get_page_id() and WebKit2WebExtension.get_page(page_id) but unfortunately that gave me this error: AttributeError: 'gi.repository.WebKit2WebExtension' object has no attribute 'get_page'.</p>  <p>After that I tried JavaScriptCore and insert JavaScript with WebView.run_javascript() and WebView.run_javascript_finish(). I get a JavaScriptResult object back but when I try to get the value with .get_value() I get this error: TypeError: Couldn't find foreign struct converter for 'JavaScriptCore.Value'.</p>  <p>There was a user with the same issue <a href=""https://stackoverflow.com/questions/37553701/webkit2-javascriptresult-get-value-throws-exception-typeerror-couldnt-find"">here</a>, but the proposed solution was too complicated for me as well.</p>  <p>Here's the code I used for testing (check the get_element_values() and javascript_finished() functions):</p>  <pre><code>#! /usr/bin/env python3  # WebKit2 reference: https://webkitgtk.org/reference/webkit2gtk/stable # Code examples: https://github.com/sidus-dev/poseidon/blob/master/poseidon.py  import gi gi.require_version('WebKit2', '4.0') gi.require_version('WebKit2WebExtension', '4.0') from gi.repository import WebKit2, WebKit2WebExtension, Gtk from os.path import exists import webbrowser import re   class SimpleBrowser(WebKit2.WebView):     def __init__(self):         WebKit2.WebView.__init__(self)          # Get version         self.webkit_ver = WebKit2.get_major_version(), WebKit2.get_minor_version(), WebKit2.get_micro_version()         print((""WebKit2 Version: {0}"".format('.'.join(map(str, self.webkit_ver)))))          # Signals         self.connect('decide-policy', self.on_decide_policy)         #self.connect(""load_changed"", self.on_load_changed)         self.connect(""load-failed"", self.on_load_failed)         self.connect('button-press-event', lambda w, e: e.button == 3)          # Settings         s = self.get_settings()         s.set_property('allow_file_access_from_file_urls', True)         s.set_property('enable-spatial-navigation', False)         s.set_property('enable_javascript', True)       def show_html(self, html_or_url):         if exists(html_or_url):             matchObj = re.search('^file:\/\/', html_or_url)             if not matchObj:                 html_or_url = ""file://{0}"".format(html_or_url)         matchObj = re.search('^[a-z]+:\/\/', html_or_url)         if matchObj:             self.load_uri(html_or_url)         else:             self.load_html(html_or_url)         self.show()      def get_element_values(self, object, element_name):         # JavaScript &gt; dead end :(         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript         js = 'var e = document.getElementsByName(""' + element_name + '""); var r = []; var c = 0; ' \              'for (var i = 0; i &lt; e.length; i++) { if (e[i].checked) { r[c] = e[i].value; c++;} }'         self.run_javascript(js, None, self.javascript_finished, None);         return          # DOM &gt; dead end :(         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebPage.html         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-get-page-id         page_id = self.get_page_id()         print((page_id))         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebExtension.html#webkit-web-extension-get-page         # AttributeError: 'gi.repository.WebKit2WebExtension' object has no attribute 'get_page'         web_page = WebKit2WebExtension.get_page(page_id)         print((web_page))      def javascript_finished(self, webview, result, user_data):         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript-finish         js_result = self.run_javascript_finish(result)         print((""&gt;&gt;&gt; js_result = %s"" % str(js_result)))         # TypeError: Couldn't find foreign struct converter for 'JavaScriptCore.Value'         value = js_result.get_value()         print((""&gt;&gt;&gt; value = %s"" % str(value)))      def on_decide_policy(self, webview, decision, decision_type):         # User clicked on a &lt;a href link: open uri in new tab or new default webview         if (decision_type == WebKit2.PolicyDecisionType.NAVIGATION_ACTION):             action = decision.get_navigation_action()             action_type = action.get_navigation_type()             if action_type == WebKit2.NavigationType.LINK_CLICKED:                 decision.ignore()                 uri = action.get_request().get_uri()                 # Open link in default browser                 webbrowser.open_new_tab(uri)         else:             if decision is not None:                 decision.use()      def on_load_changed(webview, event):         # TODO: get html of loaded page         if event == WebKit2.LoadEvent.FINISHED:             resource = webview.get_main_resource()             resource.get_data()             html = resource.get_data_finish(None)             print(html)      def on_load_failed(webview, event, url, error):         print(""Error loading"", url, ""-"", error)  html = '&lt;html&gt;&lt;body style=""background-color:#E6E6E6;""&gt;&lt;h1&gt;WebKit2 Test&lt;/h1&gt;' \        '&lt;p&gt;&lt;a href=""https://solydxk.com""&gt;link&lt;/a&gt;&lt;/p&gt;&lt;form onsubmit=""return false;""&gt;' \        '&lt;input type=""checkbox"" name=""chktst"" value=""checkbox1"" checked /&gt; CheckBox 1&lt;br /&gt;' \        '&lt;input type=""checkbox"" name=""chktst"" value=""checkbox2"" /&gt; CheckBox 2&lt;br /&gt;' \        '&lt;button onclick=""alert(show_values());""&gt;JS Show Values&lt;/button&gt;' \        '&lt;/form&gt;' \        '&lt;script&gt;' \        'function show_values() {' \        'var e = document.getElementsByName(""chktst""); var r = []; var c = 0;' \        'for (var i = 0; i &lt; e.length; i++) {' \        '    if (e[i].checked) { r[c] = e[i].value; c++;}' \        '}return r;}' \        '&lt;/script&gt;' \        '&lt;/body&gt;&lt;/html&gt;'   win = Gtk.Window() win.connect(""delete-event"", Gtk.main_quit) win.set_default_size(600,400)  webview = SimpleBrowser() webview.show_html(html) box = Gtk.Box.new(Gtk.Orientation.VERTICAL, 0) button = Gtk.Button(label=""Python Show Values"") button.connect(""clicked"", webview.get_element_values, 'chktst')  win.add(box) box.pack_start(webview, True, True, 0) box.pack_start(button, False, False, 1)  win.show_all()  Gtk.main()  </code></pre>  <p><strong>[EDIT2]</strong></p>  <p>In Debian Stretch you need to install the packages from backports:</p>  <pre><code>sudo apt-get install -t stretch-backports gir1.2-javascriptcoregtk-4.0 gir1.2-webkit2-4.0 libjavascriptcoregtk-4.0-18 libwebkit2gtk-4.0-37  libwebkit2gtk-4.0-37-gtk2 </code></pre>  <p>Now, WebKit2.JavascriptResult.get_js_value() will return a JavaScriptCore.Value object. I will test this further and post back an answer if I find one.</p>  <p>Check this bug report: <a href=""https://bugs.webkit.org/show_bug.cgi?id=136989"" rel=""nofollow noreferrer"">https://bugs.webkit.org/show_bug.cgi?id=136989</a></p>"	"<p>I found out that if I would return the <code>getElementsByClassName</code> object itself the following error was thrown: </p>  <blockquote>   <p>GLib.Error: WebKitJavascriptError:  (699)</p> </blockquote>  <p>Which only tells me it failed.</p>  <p>I could however let the JavaScript function return a string or array with values and convert that to a string in Python. </p>  <p>Not ideal, but it is workable for what I need it to do.</p>  <p>Here's the example code (check the comments for further information):</p>  <pre><code>#! /usr/bin/env python3  # WebKit2 reference: https://webkitgtk.org/reference/webkit2gtk/stable  import gi gi.require_version('Gtk', '3.0') gi.require_version('WebKit2', '4.0') from gi.repository import Gtk from gi.repository import WebKit2 from gi.repository import GObject from os.path import exists import webbrowser import re import sys   class SimpleBrowser(WebKit2.WebView):     # Create custom signals     __gsignals__ = {         ""js-finished"" : (GObject.SignalFlags.RUN_LAST, GObject.TYPE_NONE, ()),         ""html-response-finished"" : (GObject.SignalFlags.RUN_LAST, GObject.TYPE_NONE, ())     }      def __init__(self):         WebKit2.WebView.__init__(self)          # Get version         webkit_ver = WebKit2.get_major_version(), WebKit2.get_minor_version(), WebKit2.get_micro_version()         print((""WebKit2 Version: {0}"".format('.'.join(map(str, webkit_ver)))))         if webkit_ver[0] &lt; 2 or \            webkit_ver[1] &lt; 22:                print((""ERROR: upgrade WebKit2 to version 2.22.x or higher""))                sys.exit()          # Store JS output         self.js_value = None         # Store html response         self.html_response = None          # WebKit2 Signals         self.connect('decide-policy', self.on_decide_policy)         self.connect(""load_changed"", self.on_load_changed)         self.connect(""load-failed"", self.on_load_failed)         self.connect('button-press-event', lambda w, e: e.button == 3)          # Settings         s = self.get_settings()         s.set_property('allow_file_access_from_file_urls', True)         s.set_property('enable-spatial-navigation', False)         s.set_property('enable_javascript', True)      def show_html(self, html_or_url):         if exists(html_or_url):             matchObj = re.search('^file:\/\/', html_or_url)             if not matchObj:                 html_or_url = ""file://{0}"".format(html_or_url)         matchObj = re.search('^[a-z]+:\/\/', html_or_url)         if matchObj:             self.load_uri(html_or_url)         else:             self.load_html(html_or_url)         self.show()      def js_run(self, function_name, js_return=True):         # JavaScript         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript         run_js_finish = self._js_finish if js_return else None         self.run_javascript(function_name, None, run_js_finish, None);      def _js_finish(self, webview, result, user_data=None):         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript-finish         js_result = self.run_javascript_finish(result)         if js_result is not None:             # https://webkitgtk.org/reference/jsc-glib/stable/JSCValue.html              # TypeError: Couldn't find foreign struct converter for 'JavaScriptCore.Value':             # Make sure you have WebKit2 2.22.x or higher installed.             # For Debian Stretch you need the backports packages:             # apt install -t stretch-backports gir1.2-javascriptcoregtk-4.0 gir1.2-webkit2-4.0 libjavascriptcoregtk-4.0-18 libwebkit2gtk-4.0-37  libwebkit2gtk-4.0-37-gtk2              # Couldn't handle anything but string :(             # If returning the getElementsByClassName object itself: GLib.Error: WebKitJavascriptError:  (699)             value = js_result.get_js_value()             self.js_value = value.to_string()             #print((self.js_value))             self.emit('js-finished')      def on_decide_policy(self, webview, decision, decision_type):         # User clicked on a &lt;a href link: open uri in new tab or new default webview         if (decision_type == WebKit2.PolicyDecisionType.NAVIGATION_ACTION):             action = decision.get_navigation_action()             action_type = action.get_navigation_type()             if action_type == WebKit2.NavigationType.LINK_CLICKED:                 decision.ignore()                 uri = action.get_request().get_uri()                 # Open link in default browser                 webbrowser.open_new_tab(uri)         else:             if decision is not None:                 decision.use()      def on_load_changed(self, webview, event):         # Get html of loaded page         if event == WebKit2.LoadEvent.FINISHED:             resource = webview.get_main_resource()             resource.get_data(None, self._get_response_data_finish, None)      def  _get_response_data_finish(self, resource, result, user_data=None):         self.html_response = resource.get_data_finish(result)         self.emit('html-response-finished')      def on_load_failed(webview, event, url, error):         print(""Error loading"", url, ""-"", error)  html = '&lt;html&gt;' \        '&lt;script&gt;' \        'function get_checked_values(class_name) {' \        'var e = document.getElementsByClassName(class_name); var r = []; var c = 0;' \        'if (e.length == 0) { e = document.getElementsById(class_name); }' \        'for (var i = 0; i &lt; e.length; i++) {' \        '    if (e[i].checked) { r[c] = e[i].value; c++;}' \        '}return r;}' \        '&lt;/script&gt;' \        '&lt;/head&gt;&lt;body style=""background-color:#E6E6E6;""&gt;&lt;h1&gt;WebKit2 JavaScript Test&lt;/h1&gt;' \        '&lt;p&gt;&lt;a href=""https://solydxk.com""&gt;link&lt;/a&gt;&lt;/p&gt;&lt;form onsubmit=""return false;""&gt;' \        '&lt;input type=""checkbox"" class=""chktst"" value=""checkbox1"" checked /&gt; CheckBox 1&lt;br /&gt;' \        '&lt;input type=""checkbox"" class=""chktst"" value=""checkbox2"" /&gt; CheckBox 2&lt;br /&gt;' \        '&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;'  # Create test window win = Gtk.Window() webview = SimpleBrowser() win.set_default_size(600,400) button = Gtk.Button(label=""Python Show Checked Values"") box = Gtk.Box.new(Gtk.Orientation.VERTICAL, 0) box.pack_start(webview, True, True, 0) box.pack_start(button, False, False, 1) win.add(box)  # Functions def get_element_values(self, element_name):     webview.js_run('get_checked_values(""{0}"")'.format(element_name))  def show_js_value(object):     print((webview.js_value))  def show_html_response(object):     print((webview.html_response))  # Signals win.connect(""delete-event"", Gtk.main_quit) button.connect(""clicked"", get_element_values, 'chktst') webview.connect(""js-finished"", show_js_value) #webview.connect(""html-response-finished"", show_html_response)  # Load html and show window webview.show_html(html) win.show_all()  Gtk.main()  </code></pre>"
52870923	WebKit2 and DomDocument/JavaScriptCore (Python3)	python-3.x|domdocument|webkit2	2018-10-18 09:23:36.557000 UTC	"<p>I am converting a Python3 application to use WebKit2 instead of WebKit (which is no longer available in Debian Buster).</p>  <p>In the application the user can (de)select check boxes which I read from the Python3 application. In the original code I could simply get the DomDocument of the Webview and iterate through the child objects to return the value of the object with a given name (sample code below).</p>  <p>In WebKit2 the <a href=""https://webkitgtk.org/reference/webkitgtk/stable/webkitgtk-webkitwebview.html#webkit-web-view-get-dom-document"" rel=""nofollow noreferrer"">get_dom_document</a> function is no longer available and the <a href=""https://webkitgtk.org/reference/webkit2gtk/stable/"" rel=""nofollow noreferrer"">WebKit2 documentation</a> is not clear on how to proceed.</p>  <p>Does anybody know how to get the DomDocument from a WebKit2 Webview or another way to iterate through all objects by name and get their value?</p>  <p><strong>Sample code DomDocument from WebKit Webview:</strong></p>  <pre><code>def get_element_values(self, element_name):     values = []     doc = self.get_dom_document()     elements = doc.get_elements_by_name(element_name)     for i in range(elements.get_length()):         child = elements.item(i)         value = child.get_value().strip()         if not child.get_checked():             value = ''         if value:             values.append(value)     return values </code></pre>  <p>Note: ""self"" is the WebKit.Webview.</p>  <p><strong>[EDIT]</strong></p>  <p>I have been experimenting with this. First I tried to get the DomDocument by getting the WebPage object first. I found WebView.get_page_id() and WebKit2WebExtension.get_page(page_id) but unfortunately that gave me this error: AttributeError: 'gi.repository.WebKit2WebExtension' object has no attribute 'get_page'.</p>  <p>After that I tried JavaScriptCore and insert JavaScript with WebView.run_javascript() and WebView.run_javascript_finish(). I get a JavaScriptResult object back but when I try to get the value with .get_value() I get this error: TypeError: Couldn't find foreign struct converter for 'JavaScriptCore.Value'.</p>  <p>There was a user with the same issue <a href=""https://stackoverflow.com/questions/37553701/webkit2-javascriptresult-get-value-throws-exception-typeerror-couldnt-find"">here</a>, but the proposed solution was too complicated for me as well.</p>  <p>Here's the code I used for testing (check the get_element_values() and javascript_finished() functions):</p>  <pre><code>#! /usr/bin/env python3  # WebKit2 reference: https://webkitgtk.org/reference/webkit2gtk/stable # Code examples: https://github.com/sidus-dev/poseidon/blob/master/poseidon.py  import gi gi.require_version('WebKit2', '4.0') gi.require_version('WebKit2WebExtension', '4.0') from gi.repository import WebKit2, WebKit2WebExtension, Gtk from os.path import exists import webbrowser import re   class SimpleBrowser(WebKit2.WebView):     def __init__(self):         WebKit2.WebView.__init__(self)          # Get version         self.webkit_ver = WebKit2.get_major_version(), WebKit2.get_minor_version(), WebKit2.get_micro_version()         print((""WebKit2 Version: {0}"".format('.'.join(map(str, self.webkit_ver)))))          # Signals         self.connect('decide-policy', self.on_decide_policy)         #self.connect(""load_changed"", self.on_load_changed)         self.connect(""load-failed"", self.on_load_failed)         self.connect('button-press-event', lambda w, e: e.button == 3)          # Settings         s = self.get_settings()         s.set_property('allow_file_access_from_file_urls', True)         s.set_property('enable-spatial-navigation', False)         s.set_property('enable_javascript', True)       def show_html(self, html_or_url):         if exists(html_or_url):             matchObj = re.search('^file:\/\/', html_or_url)             if not matchObj:                 html_or_url = ""file://{0}"".format(html_or_url)         matchObj = re.search('^[a-z]+:\/\/', html_or_url)         if matchObj:             self.load_uri(html_or_url)         else:             self.load_html(html_or_url)         self.show()      def get_element_values(self, object, element_name):         # JavaScript &gt; dead end :(         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript         js = 'var e = document.getElementsByName(""' + element_name + '""); var r = []; var c = 0; ' \              'for (var i = 0; i &lt; e.length; i++) { if (e[i].checked) { r[c] = e[i].value; c++;} }'         self.run_javascript(js, None, self.javascript_finished, None);         return          # DOM &gt; dead end :(         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebPage.html         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-get-page-id         page_id = self.get_page_id()         print((page_id))         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebExtension.html#webkit-web-extension-get-page         # AttributeError: 'gi.repository.WebKit2WebExtension' object has no attribute 'get_page'         web_page = WebKit2WebExtension.get_page(page_id)         print((web_page))      def javascript_finished(self, webview, result, user_data):         # https://webkitgtk.org/reference/webkit2gtk/stable/WebKitWebView.html#webkit-web-view-run-javascript-finish         js_result = self.run_javascript_finish(result)         print((""&gt;&gt;&gt; js_result = %s"" % str(js_result)))         # TypeError: Couldn't find foreign struct converter for 'JavaScriptCore.Value'         value = js_result.get_value()         print((""&gt;&gt;&gt; value = %s"" % str(value)))      def on_decide_policy(self, webview, decision, decision_type):         # User clicked on a &lt;a href link: open uri in new tab or new default webview         if (decision_type == WebKit2.PolicyDecisionType.NAVIGATION_ACTION):             action = decision.get_navigation_action()             action_type = action.get_navigation_type()             if action_type == WebKit2.NavigationType.LINK_CLICKED:                 decision.ignore()                 uri = action.get_request().get_uri()                 # Open link in default browser                 webbrowser.open_new_tab(uri)         else:             if decision is not None:                 decision.use()      def on_load_changed(webview, event):         # TODO: get html of loaded page         if event == WebKit2.LoadEvent.FINISHED:             resource = webview.get_main_resource()             resource.get_data()             html = resource.get_data_finish(None)             print(html)      def on_load_failed(webview, event, url, error):         print(""Error loading"", url, ""-"", error)  html = '&lt;html&gt;&lt;body style=""background-color:#E6E6E6;""&gt;&lt;h1&gt;WebKit2 Test&lt;/h1&gt;' \        '&lt;p&gt;&lt;a href=""https://solydxk.com""&gt;link&lt;/a&gt;&lt;/p&gt;&lt;form onsubmit=""return false;""&gt;' \        '&lt;input type=""checkbox"" name=""chktst"" value=""checkbox1"" checked /&gt; CheckBox 1&lt;br /&gt;' \        '&lt;input type=""checkbox"" name=""chktst"" value=""checkbox2"" /&gt; CheckBox 2&lt;br /&gt;' \        '&lt;button onclick=""alert(show_values());""&gt;JS Show Values&lt;/button&gt;' \        '&lt;/form&gt;' \        '&lt;script&gt;' \        'function show_values() {' \        'var e = document.getElementsByName(""chktst""); var r = []; var c = 0;' \        'for (var i = 0; i &lt; e.length; i++) {' \        '    if (e[i].checked) { r[c] = e[i].value; c++;}' \        '}return r;}' \        '&lt;/script&gt;' \        '&lt;/body&gt;&lt;/html&gt;'   win = Gtk.Window() win.connect(""delete-event"", Gtk.main_quit) win.set_default_size(600,400)  webview = SimpleBrowser() webview.show_html(html) box = Gtk.Box.new(Gtk.Orientation.VERTICAL, 0) button = Gtk.Button(label=""Python Show Values"") button.connect(""clicked"", webview.get_element_values, 'chktst')  win.add(box) box.pack_start(webview, True, True, 0) box.pack_start(button, False, False, 1)  win.show_all()  Gtk.main()  </code></pre>  <p><strong>[EDIT2]</strong></p>  <p>In Debian Stretch you need to install the packages from backports:</p>  <pre><code>sudo apt-get install -t stretch-backports gir1.2-javascriptcoregtk-4.0 gir1.2-webkit2-4.0 libjavascriptcoregtk-4.0-18 libwebkit2gtk-4.0-37  libwebkit2gtk-4.0-37-gtk2 </code></pre>  <p>Now, WebKit2.JavascriptResult.get_js_value() will return a JavaScriptCore.Value object. I will test this further and post back an answer if I find one.</p>  <p>Check this bug report: <a href=""https://bugs.webkit.org/show_bug.cgi?id=136989"" rel=""nofollow noreferrer"">https://bugs.webkit.org/show_bug.cgi?id=136989</a></p>"	"<pre><code>  self.webView.run_javascript(""document.documentElement.outerHTML"", None, self.on_file_save_finish, None)  def on_file_save_finish(self, webview, result, user_data=None):   document_html = self.webView.run_javascript_finish(result).get_js_value().to_string() </code></pre>  <p>This is used in KeiEditor.py here</p>  <p><a href=""https://github.com/orchardguides/Kei-HTML-Editor"" rel=""nofollow noreferrer"">https://github.com/orchardguides/Kei-HTML-Editor</a></p>"
52883492	How can I extract URLs from within Javascript code? - Python	python|beautifulsoup|html-parsing	2018-10-18 22:30:58.340000 UTC	"<p>A site of mine went offline a while ago and I need to recover the images. I've managed to write some python that extracts the code from a script tag with Beautiful Soup. I now need to parse some urls from the extracted text. The urls needed relates to the <code>""large""</code> image. I'm unsure how to incorporate the loop for all images and not just the first and remove the speech marks. Any help would be greatly appreciated </p>  <p>Extracted Text:</p>  <pre><code>var gallery_items = [{     ""type"": ""image"",     ""medium"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755-400x267.jpg"",     ""medium-height"": 267,     ""medium-width"": 400,     ""large"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755-675x450.jpg"",     ""large-height"": 450,     ""large-width"": 675,     ""awp-gallery"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755.jpg"",     ""caption"": """" }, {     ""type"": ""image"",     ""medium"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715-400x267.jpg"",     ""medium-height"": 267,     ""medium-width"": 400,     ""large"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715-675x450.jpg"",     ""large-height"": 450,     ""large-width"": 675,     ""awp-gallery"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715.jpg"",     ""caption"": """" }]; </code></pre>  <p>Python Script</p>  <pre><code>from bs4 import BeautifulSoup import urllib.request as request import re  folder = r'./gallery' URL = 'https://web.archive.org/web/20180324152250/http://www.example.com:80/project/test-museum-visitors-center/' response = request.urlopen(URL) soup = BeautifulSoup(response, 'html.parser')  scriptCnt = soup.find('div', {'class': 'posts-wrapper'}) script = scriptCnt.find('script').text  try:     found = re.search('""large"":(.+?)""', script).group(1) except AttributeError:     found = 'None Found!'   print(found) </code></pre>  <p>Output</p>  <pre><code>""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755-675x450.jpg </code></pre>"	"<p>The given data is in JSON format which will be easy to parse with Python's JSON library.  All you need to do is to extract the JSON alone carefully and to supply to the JSON parser. The code might look something like,</p>  <pre><code>import json script_str = '''var gallery_items = [{ ""type"": ""image"", ""medium"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755-400x267.jpg"", ""medium-height"": 267, ""medium-width"": 400, ""large"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755-675x450.jpg"", ""large-height"": 450, ""large-width"": 675, ""awp-gallery"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5755.jpg"", ""caption"": """" }, { ""type"": ""image"", ""medium"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715-400x267.jpg"", ""medium-height"": 267, ""medium-width"": 400, ""large"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715-675x450.jpg"", ""large-height"": 450, ""large-width"": 675, ""awp-gallery"": ""https:\/\/web.archive.org\/web\/20180324152250\/http:\/\/www.example.com\/wp-content\/uploads\/2017\/06\/test_hhf_5715.jpg"", ""caption"": """" }];''' json_str = script_str[str(script_str).find('var gallery_items = '):str(script_str).find(';')].replace('var gallery_items = ', '') json_str = json.loads(json_str) for item in json_str:     print(item['large']) </code></pre>  <p>Hope this helps! Cheers!</p>"
52980886	Apply javascript function on all data in table (which data is derived with python)	javascript|python|html|css	2018-10-25 03:23:37.497000 UTC	"<p>I am applying show/hide function on two columns of my table, but only the first row is shown and I think it’s because of the for in python, what can I do? </p>  <p>here's the codes:</p>  <p>html:</p>  <pre><code>&lt;ul class=""w3-ul""&gt;   &lt;tr&gt;     &lt;th onclick=""sortTable(0)""&gt; one &lt;/th&gt;     &lt;th id=""wtitle"" class=""word_title"" onclick=""sortTable(6)""&gt; seven &lt;/th&gt;     &lt;th id=""gtitle"" class=""sentence_title"" onclick=""sortTable(7)""&gt; eight &lt;/th&gt;   &lt;/tr&gt;     {% for item in object_list %}   &lt;tr&gt;      &lt;td&gt;{{ item.one }}&lt;/td&gt;      &lt;td id=""wcolumn"" class=""word_column""&gt; {{ item.seven }}&lt;/div&gt;&lt;/td&gt;      &lt;td id=""gcolumn"" class=""sentence_column""&gt;{{ item.eight }}&lt;/td&gt;   &lt;/tr&gt;     {% endfor %} &lt;/ul&gt; </code></pre>  <p>Css:</p>  <pre><code>  .word_title, .sentence_title, word_column, sentence_column{     display: none;     width:100px;   }   .y, .x, .show{     width:100px;     z-index:100;   } </code></pre>  <p>Javascript:</p>  <pre><code>  function showcolumns()   {       document.getElementById('wtitle').setAttribute(""class"", ""y"");       document.getElementById('wcolumn').setAttribute(""class"", ""y"");       document.getElementById('gtitle').setAttribute(""class"", ""y"");       document.getElementById('gcolumn').setAttribute(""class"", ""y"");   } </code></pre>"	
53017372	How to parse JSON data set from a defined HTML Javascript block using Python?	python|json|beautifulsoup	2018-10-26 23:17:08.550000 UTC	"<p>I am trying to scrape some online sales data from from <a href=""https://www.timbuk2.com/collections/sale"" rel=""nofollow noreferrer"">https://www.timbuk2.com/collections/sale</a>. I am able to narrow it down to extract the script block that contains the JSON data set, but I am struggle to extract the json data.</p>  <p>Here's what I have so far</p>  <pre><code>import requests from bs4 import BeautifulSoup import re import json import pandas as pd  URL = 'https://www.timbuk2.com/collections/sale' response = requests.get(URL) soup = BeautifulSoup(response.content, 'html.parser')  scripts = soup(text=re.compile(r'products:'))[0].parent print(scripts) </code></pre>  <p>My goal here is to parse out the BOLD.collection_filter.config dictionary</p>  <pre><code>BOLD.collection_filter.config = {       products: [{     ""order"":0,     ""id"":1431161864234,     ""title"":""Command Messenger Bag"",     ""vendor"":""Timbuk2-Sale"",     ""type"": ""Messenger"",""tags"": [""category-Messenger"",""collections-bestsellers"",""collections-bike"",""collections-work"",""gender-Mens"",""gender-Womens"",""madetype-Finished Good"",""site-Sale"",""product_type-Messenger"",""occasions-Bike"",""occasions-Travel"",""occasions-Work""],     ""handle"": ""174-command-messenger-bag-sale"",""image"": ""1/2572/9458/products/timbuk2-messenger-command-messenger-bag-nautical-adobe_174-4-7480_front-sale-ffe38181818183ff-1989.jpg?v=1539383378"",""created_at"": ""2018-04-20 15:14:13 -0700"",     ""published_at"": ""2018-04-20 15:14:13 -0700"",""image_aspect_ratio"": ""1.2006003001500751"",     ""image_width"":2400,     ""image_height"":1999,     ""option_values"":[[""S"",""Midway""],[""M"",""Jet Black""],[""M"",""Midway""],[""M"",""Surplus""],[""M"",""Black\/Gunmetal""],[""M"",""Carbon Full-Cycle Twill""],[""M"",""Black\/Red Devil""],[""M"",""Abyss""],[""M"",""Carbon and Molasses""],[""M"",""Oxide and Adobe""],[""L"",""Midway""],[""M"",""Nautical\/Adobe""]],     ""options"":[""Size"",""Color""],     ""insights"":null,""variants"": [ </code></pre>  <p>Thanks.</p>"	"<p>First get a string that is valid JSON. Fiddle around with an online JSON formatter (eg. <a href=""https://jsonformatter.org/"" rel=""nofollow noreferrer"">https://jsonformatter.org/</a> )</p>  <p>The following is valid JSON:</p>  <pre><code>{     ""products"": [{     ""order"":0,     ""id"":1431161864234,     ""title"":""Command Messenger Bag"",     ""vendor"":""Timbuk2-Sale"",     ""type"": ""Messenger"",""tags"": [""category-Messenger"",""collections-bestsellers"",""collections-bike"",""collections-work"",""gender-Mens"",""gender-Womens"",""madetype-Finished Good"",""site-Sale"",""product_type-Messenger"",""occasions-Bike"",""occasions-Travel"",""occasions-Work""],     ""handle"": ""174-command-messenger-bag-sale"",""image"": ""1/2572/9458/products/timbuk2-messenger-command-messenger-bag-nautical-adobe_174-4-7480_front-sale-ffe38181818183ff-1989.jpg?v=1539383378"",""created_at"": ""2018-04-20 15:14:13 -0700"",     ""published_at"": ""2018-04-20 15:14:13 -0700"",""image_aspect_ratio"": ""1.2006003001500751"",     ""image_width"":2400,     ""image_height"":1999,     ""option_values"":[[""S"",""Midway""],[""M"",""Jet Black""],[""M"",""Midway""],[""M"",""Surplus""],[""M"",""Black\/Gunmetal""],[""M"",""Carbon Full-Cycle Twill""],[""M"",""Black\/Red Devil""],[""M"",""Abyss""],[""M"",""Carbon and Molasses""],[""M"",""Oxide and Adobe""],[""L"",""Midway""],[""M"",""Nautical\/Adobe""]],     ""options"":[""Size"",""Color""] }] } </code></pre>  <p>So maybe adapt your regular expression a little bit.</p>  <p>Then use</p>  <pre><code>import json from pprint import pprint  data = json.loads(your_string)  pprint(data) </code></pre>"
53017372	How to parse JSON data set from a defined HTML Javascript block using Python?	python|json|beautifulsoup	2018-10-26 23:17:08.550000 UTC	"<p>I am trying to scrape some online sales data from from <a href=""https://www.timbuk2.com/collections/sale"" rel=""nofollow noreferrer"">https://www.timbuk2.com/collections/sale</a>. I am able to narrow it down to extract the script block that contains the JSON data set, but I am struggle to extract the json data.</p>  <p>Here's what I have so far</p>  <pre><code>import requests from bs4 import BeautifulSoup import re import json import pandas as pd  URL = 'https://www.timbuk2.com/collections/sale' response = requests.get(URL) soup = BeautifulSoup(response.content, 'html.parser')  scripts = soup(text=re.compile(r'products:'))[0].parent print(scripts) </code></pre>  <p>My goal here is to parse out the BOLD.collection_filter.config dictionary</p>  <pre><code>BOLD.collection_filter.config = {       products: [{     ""order"":0,     ""id"":1431161864234,     ""title"":""Command Messenger Bag"",     ""vendor"":""Timbuk2-Sale"",     ""type"": ""Messenger"",""tags"": [""category-Messenger"",""collections-bestsellers"",""collections-bike"",""collections-work"",""gender-Mens"",""gender-Womens"",""madetype-Finished Good"",""site-Sale"",""product_type-Messenger"",""occasions-Bike"",""occasions-Travel"",""occasions-Work""],     ""handle"": ""174-command-messenger-bag-sale"",""image"": ""1/2572/9458/products/timbuk2-messenger-command-messenger-bag-nautical-adobe_174-4-7480_front-sale-ffe38181818183ff-1989.jpg?v=1539383378"",""created_at"": ""2018-04-20 15:14:13 -0700"",     ""published_at"": ""2018-04-20 15:14:13 -0700"",""image_aspect_ratio"": ""1.2006003001500751"",     ""image_width"":2400,     ""image_height"":1999,     ""option_values"":[[""S"",""Midway""],[""M"",""Jet Black""],[""M"",""Midway""],[""M"",""Surplus""],[""M"",""Black\/Gunmetal""],[""M"",""Carbon Full-Cycle Twill""],[""M"",""Black\/Red Devil""],[""M"",""Abyss""],[""M"",""Carbon and Molasses""],[""M"",""Oxide and Adobe""],[""L"",""Midway""],[""M"",""Nautical\/Adobe""]],     ""options"":[""Size"",""Color""],     ""insights"":null,""variants"": [ </code></pre>  <p>Thanks.</p>"	"<p>This question appear to ask how to extract how a specific javascrip variable. Try this with other examples</p>  <pre><code>scripts = soup(text=re.compile(r'products:'))[0].parent variable_name = ""BOLD.collection_filter.config"" re.search(r""(?&lt;=%s).*?(\{.*)(?=\;|&lt;\/script&gt;)""%variable_name,str(scripts),re.S).group(1) </code></pre>"
53036697	Converting python list to a specific javascript format	python|django|list	2018-10-28 22:39:54.503000 UTC	"<p>Using Django, I have the following model:</p>  <pre><code>class Score(models.Model):     team = models.ForeignKey(Team, on_delete=models.CASCADE)     month = models.CharField(max_length=255)     points = models.FloatField(null=True, blank=True) </code></pre>  <p>I have the following data in this table:</p>  <pre><code>Team    Date    Points A   Jan 2015    100 A   Feb 2015    150 A   Mar 2015    200 B   Jan 2015    120 B   Feb 2015    200 B   Mar 2015    300 C   Jan 2015    111 C   Feb 2015    122 C   Mar 2015    133 </code></pre>  <p>So, I my view I can run:</p>  <pre><code>data = Score.objects.all() </code></pre>  <p>This will return a list with all the aforementioned records. So far, so good. However, I want to show this as a graph in javascript. This requires a very specific format. Firstly, I need to get all the x-axis labels separated (""Jan 2015"", ""Feb 2015"", ""Mar 2015""), and then I need to group all the scores by team. This is what the final js should look like:</p>  <pre><code>&lt;script&gt;    var timeXAxis = [""Jan 2015"", ""Feb 2015"", ""Mar 2015""]      var timeSeries = [      {        name: ""Team 1"",        data: [          [""Jan 2015"", 100],          [""Feb 2015"", 150],          [""Mar 2015"", 200],        ]      },      {        name: ""Team 2"",        data: [          [""Jan 2015"", 120],          [""Feb 2015"", 200],          [""Mar 2015"", 300],        ]      },      {        name: ""Team 3"",        data: [          [""Jan 2015"", 111],          [""Feb 2015"", 222],          [""Mar 2015"", 333],        ]      }    ]; &lt;/script&gt; </code></pre>  <p>This is where it gets tricky. I am new to python and not sure what the right way is of doing this. I assume I should prepare the variables in my view, and not do much of this in my template. But how should I go about this? Do I create two lists (one for the x-axis labels, and then another for the data)? Do I use multidimensional lists? Or dictionaries? </p>"	"<p>What you want to have the data be represented as is JSON format. For this, your data gathered from <code>data = Score.objects.all()</code> should be <strong><em>serialized</em></strong> and passed to template as JSON. </p>  <p>Small example:</p>  <pre><code>from django.core import serializers  def get_modelAPI(request):     SomeModel_json = serializers.serialize(""json"", SomeModel.objects.all())     data = {""SomeModel_json"": SomeModel_json}     return JsonResponse(data) </code></pre>  <p>For more, you should read <a href=""https://docs.djangoproject.com/en/2.1/topics/serialization/"" rel=""nofollow noreferrer"">this</a>.</p>"
53077230	Problem in Creating Antlr4 Compiler in JavaScript: Unexpected Output when Transforming JavaScript to Python	javascript|python|antlr4	2018-10-31 06:05:35.047000 UTC	"<p>I followed <a href=""https://medium.com/dailyjs/compiler-in-javascript-using-antlr-9ec53fd2780f"" rel=""nofollow noreferrer"">this tutorial</a> which describes how to create a JavaScript Compiler for a ANTLR4 grammar (ECMAScript.g4). As an example, it also describes how to transform something from JavaScript to Python using visit(), visitChildren(), visitTerminal(), and visitErrorNode() methods implemented using functions of the ECMAScriptVisitor.js file. </p>  <p>For this, an expression <code>{x: 1}</code> is given as the input from JavaScript where the output should be <code>{'x': 1}</code> to match the Python-accepted format of expressions.</p>  <p>Everything worked fine till I ran the program where I got the below output:</p>  <p><a href=""https://i.stack.imgur.com/K3L9E.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/K3L9E.png"" alt=""enter image description here""></a></p>  <p>What might be the reason for this error to appear? <a href=""https://github.com/SharkJ/My-JScript-Compiler-for-ANTLR4.git"" rel=""nofollow noreferrer"">This is the link</a> to the github repo where I have uploaded the part of the project I've completed so far. Here's the index.js:</p>  <pre><code>const antlr4 = require('antlr4'); const ECMAScriptLexer = require('./lib/ECMAScriptLexer.js'); const ECMAScriptParser = require('./lib/ECMAScriptParser.js'); const PythonGenerator = require('./codegeneration/PythonGenerator.js');  const input = '{x: 1}';  const chars = new antlr4.InputStream(input); const lexer = new ECMAScriptLexer.ECMAScriptLexer(chars);  lexer.strictMode = false; // do not use js strictMode  const tokens = new antlr4.CommonTokenStream(lexer); const parser = new ECMAScriptParser.ECMAScriptParser(tokens); const tree = parser.program();  console.log('JavaScript input:'); console.log(input); console.log('Python output:');  const output = new PythonGenerator().start(tree);  console.log(output); </code></pre>  <p>And here's PythonGenerator.js:</p>  <pre><code>const ECMAScriptVisitor = require('../lib/ECMAScriptVisitor').ECMAScriptVisitor;  class Visitor extends ECMAScriptVisitor {   start(ctx) {     return this.visitExpressionSequence(ctx);   }  visitChildren(ctx) {   let code = '';    for (let i = 0; i &lt; ctx.getChildCount(); i++) {     code += this.visit(ctx.getChild(i));   }    return code.trim(); }  visitTerminal(ctx) {   return ctx.getText(); }  visitPropertyExpressionAssignment(ctx) {   const key = this.visit(ctx.propertyName());   const value = this.visit(ctx.singleExpression());    return `'${key}': ${value}`; }  } module.exports = Visitor; </code></pre>  <p>Thanks in advance!</p>"	"<p>The first thing of note is that you call <code>start</code> with a  <code>ProgContext</code> object and then call <code>visitExpressionSequence</code> on it. This does not actually make a difference in this case because you override neither <code>vistExpressionSequence</code> nor <code>visitProg</code>, so both actually default to just calling <code>visitChildren</code>, so it makes no difference which one you call. Still, you should really only ever call <code>visit</code> explicitly, not any of the <code>visitFoo</code> methods. <code>visit</code> will then always make sure that the correct <code>visitFoo</code> method is called.</p>  <p>Moving on to the actual issue, you've got two problems: First the key in your output does not have quotes around it even though your <code>visitPropertyExpressionAssignment</code> method should accomplish exactly that. And secondly there's an <code>&lt;EOF&gt;</code> at the end of the output, which I assume you do not want.</p>  <p>The first problem is because your input produces a syntax error when parsed. This is because <code>{x: 1}</code> is not actually a valid JavaScript program because a <code>{</code> at the beginning of a statement is seen as the start of a block, not an object literal. You'd need to put parentheses around the literal to make it valid at the beginning of a statement.</p>  <p>The second problem is because the <code>prog</code> rule is terminated by the end of file, producing an <code>EOF</code> token. To avoid printing that, you can simply override <code>visitProg</code> to only call <code>visit</code> on its statement list and not on the <code>EOF</code> token.</p>  <p>You've fixed the first problem by only invoking the <code>expressionSequence</code> rule in your parser instead of <code>prog</code>. If to parse an expression instead of a program, that's fine (though in a REPL-like context, you might instead want to try to parse the input as an expression and, if that fails, parse it as a statement). Doing so may seem like it also fixes your second problem, but that's not quite the case:</p>  <p>You no longer get an <code>&lt;EOF&gt;</code> in the output because you no longer match the end of file. What this means is that if the input consists of a valid expression, followed by total garbage (say <code>const input = '{x: 1} krgsfkjhwruei';</code>), this will not cause a syntax error, but instead happily parse the <code>{x: 1}</code> part and then completely ignore the garbage part without any indication of a problem. That's almost never what you want. Instead you could define a new rule in your grammar that matches an expression, followed by the end of file, like this:</p>  <pre><code>expressionInput: expressionSequence EOF; </code></pre>  <p>Now if the input contains garbage after a valid expression, you'd get a syntax error. However this will re-introduce the problem of the <code>&lt;EOF&gt;</code> in the output. But again, you can just fix that by overriding <code>visitExpressionInput</code> and then only calling <code>visit(ctx.expressionSequence);</code>.</p>"
53077230	Problem in Creating Antlr4 Compiler in JavaScript: Unexpected Output when Transforming JavaScript to Python	javascript|python|antlr4	2018-10-31 06:05:35.047000 UTC	"<p>I followed <a href=""https://medium.com/dailyjs/compiler-in-javascript-using-antlr-9ec53fd2780f"" rel=""nofollow noreferrer"">this tutorial</a> which describes how to create a JavaScript Compiler for a ANTLR4 grammar (ECMAScript.g4). As an example, it also describes how to transform something from JavaScript to Python using visit(), visitChildren(), visitTerminal(), and visitErrorNode() methods implemented using functions of the ECMAScriptVisitor.js file. </p>  <p>For this, an expression <code>{x: 1}</code> is given as the input from JavaScript where the output should be <code>{'x': 1}</code> to match the Python-accepted format of expressions.</p>  <p>Everything worked fine till I ran the program where I got the below output:</p>  <p><a href=""https://i.stack.imgur.com/K3L9E.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/K3L9E.png"" alt=""enter image description here""></a></p>  <p>What might be the reason for this error to appear? <a href=""https://github.com/SharkJ/My-JScript-Compiler-for-ANTLR4.git"" rel=""nofollow noreferrer"">This is the link</a> to the github repo where I have uploaded the part of the project I've completed so far. Here's the index.js:</p>  <pre><code>const antlr4 = require('antlr4'); const ECMAScriptLexer = require('./lib/ECMAScriptLexer.js'); const ECMAScriptParser = require('./lib/ECMAScriptParser.js'); const PythonGenerator = require('./codegeneration/PythonGenerator.js');  const input = '{x: 1}';  const chars = new antlr4.InputStream(input); const lexer = new ECMAScriptLexer.ECMAScriptLexer(chars);  lexer.strictMode = false; // do not use js strictMode  const tokens = new antlr4.CommonTokenStream(lexer); const parser = new ECMAScriptParser.ECMAScriptParser(tokens); const tree = parser.program();  console.log('JavaScript input:'); console.log(input); console.log('Python output:');  const output = new PythonGenerator().start(tree);  console.log(output); </code></pre>  <p>And here's PythonGenerator.js:</p>  <pre><code>const ECMAScriptVisitor = require('../lib/ECMAScriptVisitor').ECMAScriptVisitor;  class Visitor extends ECMAScriptVisitor {   start(ctx) {     return this.visitExpressionSequence(ctx);   }  visitChildren(ctx) {   let code = '';    for (let i = 0; i &lt; ctx.getChildCount(); i++) {     code += this.visit(ctx.getChild(i));   }    return code.trim(); }  visitTerminal(ctx) {   return ctx.getText(); }  visitPropertyExpressionAssignment(ctx) {   const key = this.visit(ctx.propertyName());   const value = this.visit(ctx.singleExpression());    return `'${key}': ${value}`; }  } module.exports = Visitor; </code></pre>  <p>Thanks in advance!</p>"	"<p>I found out that, by replacing the <code>const tree = parser.program();</code> statement in <code>index.js</code> by <code>const tree = parser.expressionSequence();</code> the problem is solved.</p>"
53082683	Is it possible to update a variable in python from JavaScript?	javascript|python|bokeh	2018-10-31 11:50:53.210000 UTC	"<p>I have a bokeh server application that displays data in a graph. </p>  <p>I want to be able to get a value from JavaScript and pass it to the bokeh server script and run a function with that new information that will manipulate the graph.</p>  <p>For example; </p>  <p>I have a series of buttons in JavaScript, when the button is pushed, I want to change the data from 'The number of Icecreams sold.' to 'the number of pizzas' by manipulating a variable. </p>  <p>I know that we can achieve this using bokeh's built-in buttons, but I'm really looking for a way for a way to achieve that from an 'on click' from the java side. </p>  <p>From my research, it seems there are plenty of ways to get python to do something to java, but not the other way around. </p>  <p>Is there any advice out there that might set me down the path?</p>"	"<p>You can define your own Javascript callbacks in the Python code. See the bokeh docs describing this <a href=""https://bokeh.pydata.org/en/latest/docs/user_guide/interaction/callbacks.html"" rel=""nofollow noreferrer"">here</a>.</p>"
53083605	Sending data from Python to Javascript using only one URL in Flask	javascript|python|flask	2018-10-31 12:42:32.497000 UTC	"<p>I am currently working in a Python application that has to send some data (latitude, longitude) to a Javascript file in order to show the current position of a device in a map. I am sending the data as JSON and I am using Flask to send it, but I faced a problem and I have not found a solution yet. </p>  <p>I know how to send data using Flask:</p>  <pre><code>app = Flask(__name__)  @app.route('/myRoute') def sendData():     myDict = {'latitude':46.6205, 'longitude':-15.3826}     myDictJson = json.dumps(myDict)      return myDictJson  if __name__ == '__main__': app.run(host:'localhost', port=9999) </code></pre>  <p>But the thing is that the latitude and the longitude are not fixed, they will change every X seconds and I also need the URL to be fixed. How can I implement it? Should I use something different from Flask?</p>"	"<p><code>@app.route(/myRoute)</code> should be: <code>@app.route('/myRoute', methods=[""GET""])</code>, by adding <code>methods=[""GET""]</code> you can browse the link and see the <em>return</em> in your browser. The <em>URL</em> will be fixed since you specify it in <em>Flask</em>. Since latitude and longitude change all the time this information should be stored somewhere, just use it in your <em>myDict</em> and request the data over and over again in your <em>javascript</em>.</p>"
53086160	JavaScript output showing up before Python in execute_js	javascript|python|node.js|shell	2018-10-31 14:50:10.707000 UTC	"<p>So I am using the python library <code>Naked</code> and am using their provided <code>execute_js</code> function to execute a NodeJS file from my python script. However, my JavaScript file outputs first and then my python outputs show up. I'm not sure if Javascript is being executed first or not but I need my python outputs to be in sequence. For example:</p>  <p><code>print(""Start of file"") execute_js('helloworld.js') print(""End of File"")</code></p>  <p>Outputs as this in the console:</p>  <p><code>Hello World Start of file End of file</code></p>  <p>Is there a way to fix this?</p>"	"<p>You will need to flush the output of Python from its buffers:</p>  <pre><code>print(""Start of file"") sys.stdout.flush() execute_js('helloworld.js') print(""End of File"") </code></pre>  <p>This should make the Python output appear on the <code>stdout</code> filehandle before the Javascript output gets there.</p>  <h3>See also</h3>  <p><a href=""https://stackoverflow.com/questions/230751/how-to-flush-output-of-print-function"">How to flush output of print function?</a></p>  <p><a href=""https://stackoverflow.com/questions/49081942/why-doesnt-python3s-print-statement-flush-output-when-end-keyword-is-specified"">Why doesn&#39;t python3&#39;s print statement flush output when end keyword is specified?</a></p>"
53094974	How to parse a Javascript rendered webpage with Python (BS4?)	javascript|python-3.x|selenium|web-scraping|beautifulsoup	2018-11-01 03:48:51.433000 UTC	"<p>All - I am using BS4 currently to parse a webpage.  BS4 returns this block which is coded in JS as a string and cannot recognize the urls I am trying to extract.</p>  <p>I believe the part I am attempting to extract in BS4 is here:</p>  <pre><code>              var vd1=""\x3c\x73\x6f\x75\x72\x63\x65\x20\x73\x72\x63\x3d\x27"";               var vd2=""\x27\x20\x74\x79\x70\x65\x3d\x27\x76\x69\x64\x65\x6f\x2f\x6d\x70\x34\x27\x3e"";                var luu=pkl(""uggc://navzrurnira.rh/tvs.cuc?vcqrgrpgrq"");                       var soienfu=""\x61\x78\x66\x52\x33\x64\x54\x46\x33\x72\x6b\x36\x36\x2f\x67\x4f\x65\x46\x4d\x6b\x49\x2f\x67\x6a\x77\x42\x67\x45\x66\x61\x62\x78\x33\x58\x66\x6c\x43\x44\x78\x70\x6c\x2b\x7a\x76\x38\x6b\x6c\x6a\x6b\x53\x41\x63\x4f\x34\x4a\x77\x47\x47\x78\x35\x2f\x7c\x71\x6e\x47\x49\x55\x4d\x6a\x34\x54\x48\x69\x34\x41\x45\x75\x4c\x78\x35\x58\x46\x4a\x37\x62\x65\x42\x52\x61\x37\x36\x53\x34\x6e\x46\x6f\x75\x49\x47\x55\x42\x7a\x57\x4e\x44\x61\x4a\x6a\x45\x55\x59\x56\x47\x54\x30\x3d""; soienfu=soienfu.replace(/\|/g,""1""); soienfu=vkl(soienfu); soienfu=dfgsr(soienfu);                       var iusfdb=""\x61\x78\x66\x52\x33\x64\x54\x46\x33\x72\x6b\x35\x36\x2b\x4d\x4f\x64\x46\x6b\x6b\x49\x2f\x67\x6a\x77\x42\x67\x45\x66\x61\x62\x78\x33\x58\x66\x6c\x43\x44\x78\x70\x6c\x2b\x7a\x76\x38\x6b\x6c\x6a\x6b\x53\x41\x63\x4f\x34\x4a\x77\x47\x47\x78\x35\x2f\x7c\x71\x6e\x47\x49\x55\x4d\x6a\x34\x54\x48\x69\x34\x41\x45\x75\x4c\x78\x35\x58\x46\x4a\x37\x62\x65\x42\x52\x61\x37\x36\x53\x34\x6e\x46\x6f\x75\x49\x47\x55\x42\x7a\x57\x4e\x44\x61\x4a\x6a\x45\x55\x59\x56\x47\x54\x30\x3d""; iusfdb=iusfdb.replace(/\|/g,""1""); iusfdb=vkl(iusfdb); iusfdb=dfgsr(iusfdb);                       var ufbjhse=""\x61\x78\x66\x52\x33\x64\x54\x46\x33\x72\x6b\x34\x36\x66\x45\x65\x50\x7c\x6c\x6b\x4b\x2f\x73\x76\x78\x52\x67\x4e\x62\x71\x4c\x70\x6c\x6e\x79\x2b\x51\x6e\x35\x30\x6b\x4c\x57\x7a\x74\x6b\x67\x2f\x6b\x48\x77\x32\x64\x61\x7c\x6a\x43\x45\x46\x55\x77\x57\x65\x71\x58\x4d\x51\x51\x6c\x59\x44\x64\x6b\x35\x77\x64\x76\x62\x46\x38\x56\x46\x70\x37\x59\x4f\x6b\x36\x44\x49\x54\x2f\x34\x58\x4d\x2b\x37\x70\x2b\x66\x57\x57\x7a\x43\x54\x75\x6f\x68\x45\x55\x52\x58""; ufbjhse=ufbjhse.replace(/\|/g,""1""); ufbjhse=vkl(ufbjhse); ufbjhse=dfgsr(ufbjhse);                 document.write(""&lt;video ""+"" class='vid'  id='videodiv' width='100%' autoplay='autoplay' preload='none'&gt;""+ vd1 +soienfu+ vd2 + vd1+iusfdb+ vd2 + vd1+ufbjhse+ vd2 +""Your browser does not support the video tag.&lt;/video&gt; "");               } </code></pre>  <p>However, if I see this in the HTML on the website, I get this:</p>  <p>Your browser does not support the video tag.</p>  <p>Ideally, I'd like to pull the video address out of the html block.</p>  <p><a href=""http://s4tyh.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w75"" rel=""nofollow noreferrer"">http://s4tyh.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w75</a></p>  <p>The code I'm using to get there looks like this.</p>  <pre><code>import requests,bs4,re,sys,os url=""http://animeheaven.eu/watch.php?a=Fairy%20Tail&amp;e=55"" mainsite=""http://animeheaven.eu/"" r2=requests.get(url) r2.raise_for_status() soup2=bs4.BeautifulSoup(r2.text,""html.parser"") dlink=soup2.select(""script"") </code></pre>  <p>Now in theory what I'd want to do here is parse dlink for the url, however the JS seems to be causing issues.  I am not very familiar with JS and new to web scraping so this is where I get caught up.</p>  <pre><code># would extract standard url mylink=re.compile(r""href='(.*)'"") downlink=mylink.search(str(dlink[3]))[1] </code></pre>"	"<p>This webpage is a javascript rendered webpage and the content you have in the script there is called 'minified content' which is unreadable to humans (and beautiful soup). </p>  <p><a href=""https://selenium-python.readthedocs.io/"" rel=""nofollow noreferrer"">Selenium</a> is a way of executing the javascript used to render the site and then we can process the content there. </p>  <p>I'll walk through the steps of getting and using selenium:</p>  <p>1.Get selenium with <code>pip install selenium</code></p>  <p>2.Install a <a href=""https://selenium-python.readthedocs.io/installation.html#drivers"" rel=""nofollow noreferrer"">driver</a>  ( I used the <a href=""https://sites.google.com/a/chromium.org/chromedriver/downloads"" rel=""nofollow noreferrer"">chrome driver</a> )</p>  <p>3.Take a look at the video element with 'inspect element' (right click and you'll see it) with your browser of choice and look for something to identify the video src with, in this case the video has an <code>id</code> with value <code>videodiv</code>. If we inspect this html it looks like: </p>  <pre><code>&lt;video id=""videodiv"" width=""100%"" height=""100%"" style=""display: block; cursor: none;"" autoplay=""autoplay"" preload=""none""&gt;   &lt;source src=""http://s5vkxea.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w130"" type=""video/mp4""&gt;   &lt;source src=""http://s4tyh.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w130"" type=""video/mp4""&gt;   &lt;source src=""http://s3sd.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w130"" type=""video/mp4""&gt;Your browser does not support the video tag.&lt;/video&gt; </code></pre>  <p><a href=""https://i.stack.imgur.com/EyF2m.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EyF2m.png"" alt=""enter image description here""></a></p>  <p>4.Using the id and tag we just found above we can now write some python to retrieve it:</p>  <pre><code>from selenium import webdriver browser = webdriver.Chrome(executable_path=""C:\Users\yourname\Desktop\chromedriver.exe"") url=""http://animeheaven.eu/watch.php?a=Fairy%20Tail&amp;e=55"" browser.get(url) viddiv = browser.find_element_by_id('videodiv') source = viddiv.find_element_by_tag_name('source') source.get_attribute('src') </code></pre>  <p>Output: </p>  <pre><code>'http://s5vkxea.animeheaven.eu/720kl/msl/Fairy_Tail--55--1449108237__2b0af6.mp4?ww5w130' </code></pre>"
53106021	Python: How to group statements like how JavaScript is able to with parenthesis	javascript|python	2018-11-01 17:06:12.157000 UTC	"<p>Can I group statements into a single expression similar to how I can in Javascript? In JavaScript, I can do things like this with parenthesis:</p>  <pre><code>let value = (a &amp;&amp; a.constructor === Array || false); let expression = ( (a.constructor === Number &amp;&amp; a &gt; 5) &amp;&amp; (b.constructor === Number &amp;&amp; b &gt; 5) ) || null; </code></pre>  <p>Can things like that be done in Python?</p>  <p>Thanks</p>"	"<p>Python does have this functionality. For example, if you have an if statement, you could write something like the following:</p>  <pre><code>age = 30 if (age != 0 and age &gt;= 16):     print(""You can drive!"") else:     print(""You can't drive. Maybe later."") # This example ends up printing out ""You can drive!"" # Instead of using &amp;&amp; and ||, you normally use `and` as well as `or` </code></pre>  <p>Parentheses work the same in Python.</p>"
53106021	Python: How to group statements like how JavaScript is able to with parenthesis	javascript|python	2018-11-01 17:06:12.157000 UTC	"<p>Can I group statements into a single expression similar to how I can in Javascript? In JavaScript, I can do things like this with parenthesis:</p>  <pre><code>let value = (a &amp;&amp; a.constructor === Array || false); let expression = ( (a.constructor === Number &amp;&amp; a &gt; 5) &amp;&amp; (b.constructor === Number &amp;&amp; b &gt; 5) ) || null; </code></pre>  <p>Can things like that be done in Python?</p>  <p>Thanks</p>"	"<p>Python does have much to offer in this realm: e.g. you can combine boolean operations like this <code>(a &amp;&amp; (b || c))</code> in js and can do <code>(a and (b or c))</code> in python. You can do ternary operations <code>a ? b : c</code> (if <code>a</code> is true, evaluate to <code>b</code> else to <code>c</code>) in js and <code>b if a else c</code> in python (same). You can do <code>a &amp;&amp; b</code> in js (if <code>a</code> evaluates to true, the expression evaluates to <code>b</code>) and <code>a and b</code> in python. Similarly for <code>a || b</code> in js and <code>a or b</code> in python. Although they might not behave exactly the same since they are two different languages but largely corresponds.</p>"
53128411	Problem clicking an href=javascript using selenium web drive python	python|selenium|selenium-webdriver|xpath|webdriver	2018-11-03 04:30:16.740000 UTC	"<p>I am having an problem with clicking an menu item that has an link with an href with selenium web drive. </p>  <pre><code>&lt;a class=""a-link-normal"" href=""javascript:;""&gt;Fiction&lt;/a&gt; </code></pre>  <p>Here is my code:</p>  <pre><code>driver.find_element_by_xpath('//*[@id=""div-fiction""]/span/a').click() </code></pre>  <p>This only seem to hover over the linked name and highlight it but does not trigger the javascript. I tried reading all the other solutions but it all lead to just using the click() method. Does anyone know what is wrong or a different approach to this.</p>"	"<p>You may try this:</p>  <pre><code>driver.execute_script(""arguments[0].click();"", webelement to click) </code></pre>"
53128411	Problem clicking an href=javascript using selenium web drive python	python|selenium|selenium-webdriver|xpath|webdriver	2018-11-03 04:30:16.740000 UTC	"<p>I am having an problem with clicking an menu item that has an link with an href with selenium web drive. </p>  <pre><code>&lt;a class=""a-link-normal"" href=""javascript:;""&gt;Fiction&lt;/a&gt; </code></pre>  <p>Here is my code:</p>  <pre><code>driver.find_element_by_xpath('//*[@id=""div-fiction""]/span/a').click() </code></pre>  <p>This only seem to hover over the linked name and highlight it but does not trigger the javascript. I tried reading all the other solutions but it all lead to just using the click() method. Does anyone know what is wrong or a different approach to this.</p>"	"<p>The desired element seems to be a <a href=""https://www.javascript.com/"" rel=""nofollow noreferrer"">JavaScript</a> enabled element so you need to induce <em>WebDriverWait</em> for the desired <em>element to be clickable</em> and you can use either of the following solutions:</p>  <ul> <li><p><code>LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.LINK_TEXT, ""Fiction""))).click() </code></pre></li> <li><p><code>XPATH</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, ""//a[@class='a-link-normal' and contains(.,'Fiction')]""))).click() </code></pre></li> </ul>"
53161836	Internal Server Error when sending json data from javascript to python	javascript|python|ajax|flask	2018-11-05 20:36:08.987000 UTC	"<p>I have a page written in PHP that has a portion of javascript in it, and I am trying to get a function to send some JSON data to a python file. I am really new to Flask and though I've read the documentation, nothing has worked for me. This is my Javascript function:</p>  <pre><code>&lt;script src=""js/jquery.min.js""&gt;&lt;/script&gt; &lt;script src=""js/bootstrap.min.js""&gt;&lt;/script&gt; &lt;script src=""js/jquery.validate.min.js""&gt;&lt;/script&gt; &lt;script&gt; $(document).ready(function () { . . . function encrypt() {   $.ajax({     type: ""POST"",     url: ""/crypt"",     contentType: ""application/json"",     data: JSON.stringify(generateParamsU()),     dataType: ""json"",     success: function(response) {         console.log(response);     },     error: function(err) {         console.log(err);     }   }); }  </code></pre>  <p>My corresponding python code is:</p>  <pre><code>from flask import Flask  app = Flask(__name__)  from app import routes  @app.route('/crypt', methods=['POST', 'GET']) def crypt():     data = request.get_json()     return jsonify(data) </code></pre>  <p>I've set up something really simple just to receive/send data. This is on a server (it's on <a href=""https://cpanel.com/"" rel=""nofollow noreferrer"">cpanel</a>), and both files are on the same directory.</p>  <p>When I have it setup the way it is NOW, I get this error: </p>  <blockquote>   <p><a href=""http://www.myweb.org/crypt"" rel=""nofollow noreferrer"">http://www.myweb.org/crypt</a> 404 (Not Found)</p> </blockquote>  <p>When I change the AJAX post <code>url</code> to be <code>url: ""crypt.py""</code> (the name of the file), I get this error: </p>  <blockquote>   <p>POST <a href=""http://www.myweb.org/custom/crypt.py"" rel=""nofollow noreferrer"">http://www.myweb.org/custom/crypt.py</a> 500 (Internal Server   Error)</p> </blockquote>  <p>I really have no idea what the cause of this is. I am assuming that I am routing things wrong, but this is the way I've seen it done online everywhere. I am not sure...</p>  <p>One thing I think is the problem is that I am not in any way running the python file. If I am not running the python file, the Flask server won't spin up, right? I am not sure. Any help would be appreciated.</p>  <p>Thank you</p>"	"<p>Some things to clarify first. </p>  <p>I don't know cpanel in detail, but i guess you are missing some details. Apache or nginx, which might be running at your server on port 80 don't have a default handler for python, especially not for integrating a flask app, that's the reason you are getting a 500 when calling crypt.py</p>  <p>You should first start running Flask as standalone, flask is by default listening on port 5000. In order to run your flask app as standalone, add the following to your code.</p>  <pre><code>app.run(host='0.0.0.0', debug=True) </code></pre>  <p>Run method accepts further arguments: <a href=""http://flask.pocoo.org/docs/1.0/api/#flask.Flask.run"" rel=""nofollow noreferrer"">http://flask.pocoo.org/docs/1.0/api/#flask.Flask.run</a></p>  <p>Now you can start your flask standalone server with</p>  <pre><code>python crypt.py </code></pre>  <p>and the flask server will start listening on port 5000.</p>  <p>You should be able to POST the data to <a href=""http://www.myweb.org:5000/crypt"" rel=""nofollow noreferrer"">http://www.myweb.org:5000/crypt</a> now.</p>  <p>If you wan't to integrate your flask app into apache or nginx, you should have a look configuring a reverse proxy or uwsgi, but both are more advanced. First you should understand the basics and get your app running as standalone in flask debug mode.</p>  <p>As your flask app is now listening on port 5000 and not 80, you also need to change your ajax request to post to:  <a href=""http://www.myweb.org:5000/crypt"" rel=""nofollow noreferrer"">http://www.myweb.org:5000/crypt</a>, i am not famliar with javascript/ajax, but i guess <pre>url: ""<a href=""http://www.myweb.org:5000/crypt"" rel=""nofollow noreferrer"">http://www.myweb.org:5000/crypt</a>"",</pre> should be sufficient.</p>"
53178722	How to drag and drop a file from pc to webpage using selenium with python/javascript	javascript|python|selenium|drag-and-drop	2018-11-06 19:28:41.600000 UTC	<p>I have some files sored on my desktop and I want to drag and drop them to a webpage (there is a zone inside the webpage in which you can drag and drop your files)</p>  <p>I want to do that by using selenium with python or javascript I know about the existence of ActionChains but I don't know if I can use it to simulate what i require... </p>	
53188773	How to pass JSON object from Javascript to Python CGI script	javascript|python|json|cgi	2018-11-07 11:41:14.353000 UTC	"<p>I'm working on a python <code>CGI</code> script. A <code>JSON</code> file is hosted from the server. And I was able to get the data of the file as a <code>JSON</code> object. Now I need to pass this <code>JSON</code> object into a CGI script.</p>  <pre><code>function cert_server() {     var link = $(""#link"").val();     var data;     $.getJSON(link, function(data) {         console.log(data);     }); } </code></pre>  <p>My JSON object is now stored in the variable ""data"". How could I pass it into a Python CGI ?</p>"	
53189657	Trailing garbage after Python decryption of JavaScript AES-GCM	javascript|aes|python|pycrypto	2018-11-07 01:49:01.550000 UTC	"<p>I have JavaScript tied to an HTMl button, which does an AES-GCM encoding and logs the useful info to the console.</p>  <pre><code>            function strToArrayBuffer(str) {                 let buf = new ArrayBuffer(str.length * 2);                 let bufView = new Uint16Array(buf);                 for (let i = 0, strLen = str.length; i &lt; strLen; i++) {                     bufView[i] = str.charCodeAt(i);                 }                 return buf;             }              function arrayBufferToString(buf) {                 return String.fromCharCode.apply(null, new Uint16Array(buf));             }              function arrayBufferToHex(buf) {                 return Array.from(new Uint8Array(buf)).map(b =&gt; b.toString(16).padStart(2, ""0"")).join("""");             }              let iv = window.crypto.getRandomValues(new Uint8Array(12));             console.log('nonce/iv: ' + arrayBufferToHex(iv));              let algoEncrypt = {                 name: 'AES-GCM',                 iv: iv,                 tagLength: 128             };              let plainText =                 ""Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer imperdiet pretium leo, et auctor velit fermentum nec. Mauris eu finibus orci."";             console.log('Input Text: ' + plainText);              let secretKey = null;             window.crypto.subtle.generateKey(                 {name: 'AES-GCM', length: 256},                 true,                 ['encrypt', 'decrypt']             ).then(function (key) {                 secretKey = key;                 return window.crypto.subtle.encrypt(algoEncrypt, key, strToArrayBuffer(plainText));             }).then(function (cipherText) {                 console.log('Encrypted Hex:\n' + arrayBufferToHex(cipherText));                 return window.crypto.subtle.decrypt(algoEncrypt, secretKey, cipherText);             }).then(function (newPlainText) {                 if (arrayBufferToString(newPlainText) == plainText) {                     console.log(""decryption matches"");                 } else {                     console.log(""decryption ERROR:"" + arrayBufferToHex(newPlainText));                 }                 return window.crypto.subtle.exportKey(""raw"", secretKey);             }).then(function (keyData) {                 console.log('Password Hex:\n' + arrayBufferToHex(keyData));             }).catch(function (err) {                 console.log('Error: ' + err.message);             }); </code></pre>  <p>Sample Console output:</p>  <pre><code>nonce/iv: b17eb886854af06d9d43d4d7  Input Text: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer imperdiet pretium leo, et auctor velit fermentum nec. Mauris eu finibus orci.   Encrypted Hex: facdbb0b024b059d0c78a2634bd6592c04feba0ecb833eee03c7e2c8135854d8ba5bcb80cac1ce8a1c7396fc684e4aa1a44c8b30e9bc800a033ff7ca1a7542a219c42208449232aa671e6443d92c87eca16fb4c06a61d965f455822d8131c26d8bfc6fdfbb5eaae7409516653f33a2c207affdd1539e29e65e236a232b98efc3056e69526115a71837d99f2235d92f6bc64b020e160f44d7281d307ab5cc33791d37bca8423d94f21bf4eccc1717a33891381cb116bbd8dc1f2ae953d94b00f4eef0bc237a7998d99a1a46b9581c34199aeda20cf68158cce43c8492370eccec55dc0f207a495d320aa7d7d8c3bf49c50726046b02ac6e9a9ce6d10d679ff07cff3462bdda051597f0ff5a1f6fb411be3048b72c2d7fe4242783d61d4115a576fcaae05016e6c4648d835b11  decryption matches encrypt  Password Hex: ce24825df74a15e84597a9446c4821e384661fb790281abec94eab4e5cd95b1b </code></pre>  <p>I then try to decrypt using Python 2.7:</p>  <pre><code>import sys                                                                                           import binascii                                                                                      import datetime                                                                                      import time                                                                                           from cryptography.hazmat.backends import default_backend                                             from cryptography.hazmat.primitives.ciphers import (Cipher, algorithms, modes)                       from Cryptodome.Cipher import AES  hexdata = ""facdbb0b024b059d0c78a2634bd6592c04feba0ecb833eee03c7e2c8135854d8ba5bcb80cac1ce8a1c7396fc684e4aa1a44c8b30e9bc800a033ff7ca1a7542a219c42208449232aa671e6443d92c87eca16fb4c06a61d965f455822d8131c26d8bfc6fdfbb5eaae7409516653f33a2c207affdd1539e29e65e236a232b98efc3056e69526115a71837d99f2235d92f6bc64b020e160f44d7281d307ab5cc33791d37bca8423d94f21bf4eccc1717a33891381cb116bbd8dc1f2ae953d94b00f4eef0bc237a7998d99a1a46b9581c34199aeda20cf68158cce43c8492370eccec55dc0f207a495d320aa7d7d8c3bf49c50726046b02ac6e9a9ce6d10d679ff07cff3462bdda051597f0ff5a1f6fb411be3048b72c2d7fe4242783d61d4115a576fcaae05016e6c4648d835b11""                                                                                   noncehex = ""b17eb886854af06d9d43d4d7""                                                                keyhex = ""ce24825df74a15e84597a9446c4821e384661fb790281abec94eab4e5cd95b1b""                           nonce = binascii.unhexlify(noncehex)                                                                 assert(len(nonce) == 12)                                                                              key = binascii.unhexlify(keyhex)                                                                     assert(len(key) == 32)                                                                                binary = binascii.unhexlify(hexdata)                                                                  cipher = Cipher(algorithms.AES(key), None, backend=default_backend())                                                                                                    cipher.mode = modes.GCM(nonce)                                                                       text = cipher.decryptor().update(binary)                                                             print(text)  decryptor = AES.new(key=key, mode=AES.MODE_GCM, nonce=nonce)                                         text = decryptor.decrypt(binary)                                                                     print(text)  </code></pre>  <p>The result is very close, but has trailing noise using two different Python decryptors: </p>  <pre><code>%&gt; ./pydecrypt.py  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer imperdiet pretium leo, et auctor velit fermentum nec. Mauris eu finibus orci.���7P��&amp;���ջq� Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer imperdiet pretium leo, et auctor velit fermentum nec. Mauris eu finibus orci.���7P��&amp;���ջq� </code></pre>  <p>What am I doing wrong to cause the noise at the end? Am I missing something that is appended to the data? (The iv/nonce is 12 characters, but the extra noise is 14 characters, and the values don't seem to match, so I don't think its that.)</p>"	"<p>As noted in <a href=""https://crypto.stackexchange.com/a/63539/63408"">this post</a> it is the MAC tag used for verification of the block. I see it in the example code above because I am calling <code>decrypt</code> rather than <code>decrypt_and_verify</code> as shown in that post.</p>"
53194190	Extract data from javascript variable JSON.parse using python	javascript|python|json	2018-11-07 16:54:43.680000 UTC	"<p>very new to python and trying to web scrape a website table, but I think the table data is seemingly from a Javascript variable with a JSON.parse. However the parse is not what I am used to and am unsure of how to use it in python. </p>  <p>The code is from <a href=""https://understat.com/league/EPL"" rel=""nofollow noreferrer"">this website</a>, specifically it is <code>var playersData = JSON.parse('\x5B\x7B\x22id\x3A,...</code> (roughly 250,000 characters) nestled in a script tag. </p>  <p>So far I have managed to scrape the website using bs4, find the specific script and attempt to use re.search to find just the JSON.parse and find this <code>&lt;re.Match object; span=(2, 259126), match=""var playersData\t= JSON.parse('\\x5B\\x7B\\x22id\&gt;</code> from the search.</p>  <p>I would then like to export the data somewhere else after loading the JSON parse.</p>  <p>Here is my code so far:</p>  <pre><code>import requests from bs4 import BeautifulSoup import json import re  response = requests.get('https://understat.com/league/EPL/2018') soup = BeautifulSoup(response.text, 'lxml')  playerscript = soup.find_all('script')[3].string m = re.search(""var playersData  = (.*)"", playerscript) </code></pre>  <p>Thanks for any help.</p>"	"<p>you don't need BeautifulSoup. in python <code>json.loads</code> same as  <code>JSON.parse</code> and you need to convert the string using <code>.decode('string_escape')</code> or <code>bytes('....', 'utf-8').decode('unicode_escape')</code> for python 3</p>  <pre><code>import requests import json import re  response = requests.get('https://understat.com/league/EPL/2018') playersData = re.search(""playersData\s+=\s+JSON.parse\('([^']+)"", response.text) # python 2.7 # decoded_string = playersData.groups()[0].decode('string_escape') decoded_string = bytes(playersData.groups()[0], 'utf-8').decode('unicode_escape') playerObj = json.loads(decoded_string)  print(playerObj[0]['player_name']) </code></pre>"
53199365	How can I pass Python list to Javascript in HTML level	javascript|python|django	2018-11-07 23:18:36.373000 UTC	"<p>I'm trying to pass Python list to use it as Javascript array in HTML file, but when I check the passed Python list in Javascript level, the console log says it's string.</p>  <p>I'm trying to do that in Django environment.</p>  <p><strong>Django views.py</strong></p>  <pre><code>def get_context_data(self, **kwargs):     context = super().get_context_data(**kwargs)     context['names'] = list(         Store.objects.values_list('businessName', flat=True))      return context </code></pre>  <p><strong>index.html</strong></p>  <pre><code>&lt;span data-names=""{{ names }}""&gt;...&lt;/span&gt; &lt;script&gt;     console.log(type($('span').attr('data-names'))); &lt;/script&gt; </code></pre>  <p>The console says it's string type. Did I miss any middle step there?</p>  <p><strong>console.log result</strong></p>  <pre><code>['Michael Kors', 'Luca + Grae', 'Rebecca Minkoff', 'Aritzia', 'Nest Boutique', 'Ruby Claire Boutique', 'Bella Ella Boutique', 'Called to Surf', 'Adidas', 'Lime Lush', 'Farfetch', 'AGACI', 'The Mint Julep Boutique', 'Free People', 'Current Boutique', 'Hazel and Olive', 'DownEast Basics', 'Roolee', 'J.Crew'] </code></pre>"	<pre><code>&lt;script&gt;     var names = {{ names|safe }} &lt;/script&gt; </code></pre>  <p><code>safe</code> tag is one option.</p>
53199365	How can I pass Python list to Javascript in HTML level	javascript|python|django	2018-11-07 23:18:36.373000 UTC	"<p>I'm trying to pass Python list to use it as Javascript array in HTML file, but when I check the passed Python list in Javascript level, the console log says it's string.</p>  <p>I'm trying to do that in Django environment.</p>  <p><strong>Django views.py</strong></p>  <pre><code>def get_context_data(self, **kwargs):     context = super().get_context_data(**kwargs)     context['names'] = list(         Store.objects.values_list('businessName', flat=True))      return context </code></pre>  <p><strong>index.html</strong></p>  <pre><code>&lt;span data-names=""{{ names }}""&gt;...&lt;/span&gt; &lt;script&gt;     console.log(type($('span').attr('data-names'))); &lt;/script&gt; </code></pre>  <p>The console says it's string type. Did I miss any middle step there?</p>  <p><strong>console.log result</strong></p>  <pre><code>['Michael Kors', 'Luca + Grae', 'Rebecca Minkoff', 'Aritzia', 'Nest Boutique', 'Ruby Claire Boutique', 'Bella Ella Boutique', 'Called to Surf', 'Adidas', 'Lime Lush', 'Farfetch', 'AGACI', 'The Mint Julep Boutique', 'Free People', 'Current Boutique', 'Hazel and Olive', 'DownEast Basics', 'Roolee', 'J.Crew'] </code></pre>"	"<p><a href=""https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes#JavaScript_access"" rel=""nofollow noreferrer"">According to the MDN Docs</a> all <code>data-*</code> attributes are saved as strings. To get a proper JSON type object you will need to use <code>JSON.parse</code></p>  <pre><code>&lt;span data-names=""{{ names }}""&gt;...&lt;/span&gt; &lt;script&gt;     const data = JSON.parse($('span').attr('data-names'));     console.log(data); &lt;/script&gt; </code></pre>  <p><a href=""https://stackoverflow.com/questions/2428092/creating-a-json-response-using-django-and-python"">According to this question</a> you can pass JSON from django (version >= 1.7) like</p>  <pre><code>from django.http import JsonResponse return JsonResponse({'foo':'bar'}) </code></pre>"
53219865	Python Selenium: Can selenium driver be identified via javascript?	python|selenium	2018-11-09 04:25:32.287000 UTC	"<p>This is the site that I want to login into: <a href=""https://nid.naver.com/nidlogin.login"" rel=""nofollow noreferrer"">https://nid.naver.com/nidlogin.login</a></p>  <p>When I tried to log in this site using <code>selenium</code> webdriver, it showed CAPTCHA.</p>  <p>But when I type id/pw by myself, keyboard typing, the CAPTCHA didn't show up!</p>  <p>How can selenium driver be detected?</p>"	"<p>It depends on your driver. Chromedriver does set specific js variables when it starts the browser. I'm sure other driver vendors have something similar. So, in short, yes. There are different ways it can determine that you are running via webdriver.</p>"
53223785	Convert Blob data from javascript to read using opencv in python	javascript|python|numpy|opencv|blob	2018-11-09 10:16:02.907000 UTC	"<p>I am using javascript to send the video from a client to a backend server using web socket.I am converting the video as blob files and sending it. The function for converting image to blob is given below.</p>  <pre><code>function dataURItoBlob(dataURI) {     // convert base64 to raw binary data held in a string     var byteString = atob(dataURI.split(',')[1]);      // separate out the mime component     var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];      // write the bytes of the string to an ArrayBuffer     var arrayBuffer = new ArrayBuffer(byteString.length);     var _ia = new Uint8Array(arrayBuffer);     for (var i = 0; i &lt; byteString.length; i++) {         _ia[i] = byteString.charCodeAt(i);     }     var dataView = new DataView(arrayBuffer);     var blob = new Blob([dataView], { type: mimeString });     return blob; } </code></pre>  <p>Now, I need to convert the image received back in python back-end to numpy array and process using opencv. How can I convert Blob to image array in python. </p>"	"<p>The blob data will be stored in request.body( I am using tornado as web app framework ), with type <code>bytes</code>.</p>  <pre><code>arr = np.asarray( bytearray( request.body ,'utf-8'), dtype = np.uint8 ) bgr_image = cv2.imdecode( arr, -1 ) # load it as it is </code></pre>  <p>This works.</p>"
53223975	"Get JSON response in Python, but in original JavaScript format"	python|json|python-requests	2018-11-09 10:28:50.157000 UTC	"<p>I am putting a JSON response into a variable via <code>requests.json()</code> like this:</p>  <pre><code>response = requests.get(some_url, params=some_params).json() </code></pre>  <p>This however converts JSON's original <code>""</code> to Python's <code>'</code>, <code>true</code> to <code>True</code>, <code>null</code> to <code>None</code>.</p>  <p>This poses a problem when trying to save the response as text and the convert it back to JSON - sure, I can use <code>.replace()</code> for all conversions mentioned above, but even once I do that, I get other funny json decoder errors.</p>  <p>Is there any way in Python to get JSON response and keep original JavaScript format?</p>"	"<p>You can get the raw text of your response with <code>requests.get(some_url, params=some_params).text</code></p>  <p>It is the <code>json</code> method which converts to a Python friendly format.</p>"
53223975	"Get JSON response in Python, but in original JavaScript format"	python|json|python-requests	2018-11-09 10:28:50.157000 UTC	"<p>I am putting a JSON response into a variable via <code>requests.json()</code> like this:</p>  <pre><code>response = requests.get(some_url, params=some_params).json() </code></pre>  <p>This however converts JSON's original <code>""</code> to Python's <code>'</code>, <code>true</code> to <code>True</code>, <code>null</code> to <code>None</code>.</p>  <p>This poses a problem when trying to save the response as text and the convert it back to JSON - sure, I can use <code>.replace()</code> for all conversions mentioned above, but even once I do that, I get other funny json decoder errors.</p>  <p>Is there any way in Python to get JSON response and keep original JavaScript format?</p>"	"<p><a href=""http://docs.python-requests.org/en/master/user/quickstart/#json-response-content"" rel=""nofollow noreferrer""><code>json()</code></a> is the JSON <strong><em>decoder</em></strong> method. You are looking at a Python object, that is why it looks like Python.</p>  <p>Other formats are listed on the same page, starting from <a href=""http://docs.python-requests.org/en/master/user/quickstart/#response-content"" rel=""nofollow noreferrer"">Response Content</a></p>  <ul> <li><code>.text</code>: text - it has no separate link/paragraph, it is right under ""Response Content""</li> <li><a href=""http://docs.python-requests.org/en/master/user/quickstart/#binary-response-content"" rel=""nofollow noreferrer""><code>.content</code></a>: binary, as bytes</li> <li><a href=""http://docs.python-requests.org/en/master/user/quickstart/#json-response-content"" rel=""nofollow noreferrer""><code>.json()</code></a>: decoded JSON, as Python object</li> <li><a href=""http://docs.python-requests.org/en/master/user/quickstart/#raw-response-content"" rel=""nofollow noreferrer""><code>.raw</code></a>: streamed bytes (so you can get parts of content as it comes)</li> </ul>  <p>You need <code>.text</code> for getting text, including JSON data.</p>"
53283742	Getting javascript variable value while scraping with python	python|web-scraping|beautifulsoup|python-3.6	2018-11-13 14:55:38.027000 UTC	"<p>I know this is asked before also, but I am a newbie in scraping and python. Please help me and it would be very much helpful in my learning path.</p>  <p>I am scraping a news site using python with packages such as <strong>Beautiful Soup</strong> and etc.</p>  <p>I am facing difficulty while getting the value of <code>java script</code> variable which is declared in <code>script</code> tag and also it is getting updated there.</p>  <p>Here is the part of HTML page which I am scraping:(containing only script part)</p>  <pre><code>&lt;!-- Eliminate render-blocking JavaScript and CSS in above-the-fold content --&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js""&gt;&lt;/script&gt;   &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js""&gt;&lt;/script&gt;    &lt;script type=""text/javascript"" src=""/dist/scripts/index.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript"" src=""/dist/scripts/read.js""&gt;&lt;/script&gt;   &lt;script src=""/dist/scripts/jquery.scrolldepth.min.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript""&gt;      var min_news_id = ""d7zlgjdu-1""; // line 1     function loadMoreNews(){       $(""#load-more-btn"").hide();       $(""#load-more-gif"").show();       $.post(""/en/ajax/more_news"",{'category':'politics','news_offset':min_news_id},function(data){           data = JSON.parse(data);           min_news_id = data.min_news_id||min_news_id; // line 2           $("".card-stack"").append(data.html);       })       .fail(function(){alert(""Error : unable to load more news"");})       .always(function(){$(""#load-more-btn"").show();$(""#load-more-gif"").hide();});     }     jQuery.scrollDepth();   &lt;/script&gt; </code></pre>  <p>From the above part, I want to get the value of <code>min_news_id</code> in python. I should also get the value of same variable if updated from line 2.</p>  <p>Here is how I am doing it:</p>  <pre><code>    self.pattern = re.compile('var min_news_id = (.+?);') // or self.pattern = re.compile('min_news_id = (.+?);')     page = bs(htmlPage, ""html.parser"")     //find all the scripts tag     scripts = page.find_all(""script"")     for script in scripts:         for line in script:             scriptString = str(line)             if ""min_news_id"" in scriptString:                 scriptString.replace('""', '\\""')                 print(scriptString)                 if(self.pattern.match(str(scriptString))):                     print(""matched"")                     data = self.pattern.match(scriptString)                     jsVariable = json.loads(data.groups()[0])                     InShortsScraper.newsOffset = jsVariable                     print(InShortsScraper.newsOffset) </code></pre>  <p>But I am never getting the value of the variable. Is it problem with my regular expression or any other? Please help me. Thank You in advance.</p>"	"<p>thank you for the response, Finally I solved using <code>requests</code> package after reading its documentation,</p>  <p>here is my code :</p>  <pre><code>if InShortsScraper.firstLoad == True:             self.pattern = re.compile('var min_news_id = (.+?);')         else:             self.pattern = re.compile('min_news_id = (.+?);')         page = None         # print(""Pattern: "" + str(self.pattern))         if news_offset == None:             htmlPage = urlopen(url)             page = bs(htmlPage, ""html.parser"")         else:             self.loadMore['news_offset'] = InShortsScraper.newsOffset             # print(""payload : "" + str(self.loadMore))             try:                 r = myRequest.post(                     url = url,                     data = self.loadMore                 )             except TypeError:                 print(""Error in loading"")              InShortsScraper.newsOffset = r.json()[""min_news_id""]             page = bs(r.json()[""html""], ""html.parser"")         #print(page)         if InShortsScraper.newsOffset == None:             scripts = page.find_all(""script"")             for script in scripts:                 for line in script:                     scriptString = str(line)                     if ""min_news_id"" in scriptString:                         finder = re.findall(self.pattern, scriptString)                         InShortsScraper.newsOffset = finder[0].replace('min_news_id = ', '').replace('""','').replace(';','').strip() </code></pre>"
53283742	Getting javascript variable value while scraping with python	python|web-scraping|beautifulsoup|python-3.6	2018-11-13 14:55:38.027000 UTC	"<p>I know this is asked before also, but I am a newbie in scraping and python. Please help me and it would be very much helpful in my learning path.</p>  <p>I am scraping a news site using python with packages such as <strong>Beautiful Soup</strong> and etc.</p>  <p>I am facing difficulty while getting the value of <code>java script</code> variable which is declared in <code>script</code> tag and also it is getting updated there.</p>  <p>Here is the part of HTML page which I am scraping:(containing only script part)</p>  <pre><code>&lt;!-- Eliminate render-blocking JavaScript and CSS in above-the-fold content --&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js""&gt;&lt;/script&gt;   &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js""&gt;&lt;/script&gt;    &lt;script type=""text/javascript"" src=""/dist/scripts/index.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript"" src=""/dist/scripts/read.js""&gt;&lt;/script&gt;   &lt;script src=""/dist/scripts/jquery.scrolldepth.min.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript""&gt;      var min_news_id = ""d7zlgjdu-1""; // line 1     function loadMoreNews(){       $(""#load-more-btn"").hide();       $(""#load-more-gif"").show();       $.post(""/en/ajax/more_news"",{'category':'politics','news_offset':min_news_id},function(data){           data = JSON.parse(data);           min_news_id = data.min_news_id||min_news_id; // line 2           $("".card-stack"").append(data.html);       })       .fail(function(){alert(""Error : unable to load more news"");})       .always(function(){$(""#load-more-btn"").show();$(""#load-more-gif"").hide();});     }     jQuery.scrollDepth();   &lt;/script&gt; </code></pre>  <p>From the above part, I want to get the value of <code>min_news_id</code> in python. I should also get the value of same variable if updated from line 2.</p>  <p>Here is how I am doing it:</p>  <pre><code>    self.pattern = re.compile('var min_news_id = (.+?);') // or self.pattern = re.compile('min_news_id = (.+?);')     page = bs(htmlPage, ""html.parser"")     //find all the scripts tag     scripts = page.find_all(""script"")     for script in scripts:         for line in script:             scriptString = str(line)             if ""min_news_id"" in scriptString:                 scriptString.replace('""', '\\""')                 print(scriptString)                 if(self.pattern.match(str(scriptString))):                     print(""matched"")                     data = self.pattern.match(scriptString)                     jsVariable = json.loads(data.groups()[0])                     InShortsScraper.newsOffset = jsVariable                     print(InShortsScraper.newsOffset) </code></pre>  <p>But I am never getting the value of the variable. Is it problem with my regular expression or any other? Please help me. Thank You in advance.</p>"	"<p>you can't monitor javascript variable change using <code>BeautifulSoup</code>, here how to get next page news using <code>while</code> loop, <code>re</code> and <code>json</code></p>  <pre><code>from bs4 import BeautifulSoup import requests, re  page_url = 'https://inshorts.com/en/read/politics' ajax_url = 'https://inshorts.com/en/ajax/more_news'  htmlPage = requests.get(page_url).text # BeautifulSoup extract article summary # page = BeautifulSoup(htmlPage, ""html.parser"") # ...  # get current min_news_id min_news_id = re.search('min_news_id\s+=\s+""([^""]+)', htmlPage).group(1) # result: d7zlgjdu-1  customHead = {'X-Requested-With': 'XMLHttpRequest', 'Referer': page_url}  while min_news_id:     # change ""politics"" if in different category     reqBody = {'category' : 'politics', 'news_offset' : min_news_id }     # get Ajax next page     ajax_response = requests.post(ajax_url, headers=customHead, data=reqBody).json() # parse string to json     # again, do extract article summary     page = BeautifulSoup(ajax_response[""html""], ""html.parser"")     # ....     # ....      # new min_news_id     min_news_id = ajax_response[""min_news_id""]      # remove this to loop all page (thousand?)     break </code></pre>"
53283742	Getting javascript variable value while scraping with python	python|web-scraping|beautifulsoup|python-3.6	2018-11-13 14:55:38.027000 UTC	"<p>I know this is asked before also, but I am a newbie in scraping and python. Please help me and it would be very much helpful in my learning path.</p>  <p>I am scraping a news site using python with packages such as <strong>Beautiful Soup</strong> and etc.</p>  <p>I am facing difficulty while getting the value of <code>java script</code> variable which is declared in <code>script</code> tag and also it is getting updated there.</p>  <p>Here is the part of HTML page which I am scraping:(containing only script part)</p>  <pre><code>&lt;!-- Eliminate render-blocking JavaScript and CSS in above-the-fold content --&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js""&gt;&lt;/script&gt;   &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js""&gt;&lt;/script&gt;    &lt;script type=""text/javascript"" src=""/dist/scripts/index.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript"" src=""/dist/scripts/read.js""&gt;&lt;/script&gt;   &lt;script src=""/dist/scripts/jquery.scrolldepth.min.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript""&gt;      var min_news_id = ""d7zlgjdu-1""; // line 1     function loadMoreNews(){       $(""#load-more-btn"").hide();       $(""#load-more-gif"").show();       $.post(""/en/ajax/more_news"",{'category':'politics','news_offset':min_news_id},function(data){           data = JSON.parse(data);           min_news_id = data.min_news_id||min_news_id; // line 2           $("".card-stack"").append(data.html);       })       .fail(function(){alert(""Error : unable to load more news"");})       .always(function(){$(""#load-more-btn"").show();$(""#load-more-gif"").hide();});     }     jQuery.scrollDepth();   &lt;/script&gt; </code></pre>  <p>From the above part, I want to get the value of <code>min_news_id</code> in python. I should also get the value of same variable if updated from line 2.</p>  <p>Here is how I am doing it:</p>  <pre><code>    self.pattern = re.compile('var min_news_id = (.+?);') // or self.pattern = re.compile('min_news_id = (.+?);')     page = bs(htmlPage, ""html.parser"")     //find all the scripts tag     scripts = page.find_all(""script"")     for script in scripts:         for line in script:             scriptString = str(line)             if ""min_news_id"" in scriptString:                 scriptString.replace('""', '\\""')                 print(scriptString)                 if(self.pattern.match(str(scriptString))):                     print(""matched"")                     data = self.pattern.match(scriptString)                     jsVariable = json.loads(data.groups()[0])                     InShortsScraper.newsOffset = jsVariable                     print(InShortsScraper.newsOffset) </code></pre>  <p>But I am never getting the value of the variable. Is it problem with my regular expression or any other? Please help me. Thank You in advance.</p>"	"<pre><code>html = '''&lt;!-- Eliminate render-blocking JavaScript and CSS in above-the-fold content --&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js""&gt;&lt;/script&gt;   &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js""&gt;&lt;/script&gt;    &lt;script type=""text/javascript"" src=""/dist/scripts/index.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript"" src=""/dist/scripts/read.js""&gt;&lt;/script&gt;   &lt;script src=""/dist/scripts/jquery.scrolldepth.min.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript""&gt;      var min_news_id = ""d7zlgjdu-1""; // line 1     function loadMoreNews(){       $(""#load-more-btn"").hide();       $(""#load-more-gif"").show();       $.post(""/en/ajax/more_news"",{'category':'politics','news_offset':min_news_id},function(data){           data = JSON.parse(data);           min_news_id = data.min_news_id||min_news_id; // line 2           $("".card-stack"").append(data.html);       })       .fail(function(){alert(""Error : unable to load more news"");})       .always(function(){$(""#load-more-btn"").show();$(""#load-more-gif"").hide();});     }     jQuery.scrollDepth();   &lt;/script&gt;'''  finder = re.findall(r'min_news_id = .*;', html) print(finder)  Output: ['min_news_id = ""d7zlgjdu-1"";', 'min_news_id = data.min_news_id||min_news_id;'] </code></pre>  <h1>#2 OR YOU CAN USE</h1>  <pre><code>print(finder[0].replace('min_news_id = ', '').replace('""','').replace(';','').strip())  Output: d7zlgjdu-1 </code></pre>  <h1>#3 OR YOU CAN USE</h1>  <pre><code>finder = re.findall(r'[a-z0-9]{8}-[0-9]', html) print(finder)     Output: ['d7zlgjdu-1']  </code></pre>"
53296370	"I am passing a list from python to JavaScript in Flask, I want the output as Object in JavaScript"	javascript|python|flask	2018-11-14 09:02:15.430000 UTC	"<p>My python function:</p> <pre><code>def somefunction(self):   x1 = ['reduced','fully automatic','years']   return x1 </code></pre> <p>In Flask app.py file</p> <pre><code>keyword = somefunction()    </code></pre> <p>JavaScript in html:</p> <pre><code>&lt;script&gt; var javaword = '{{ keyword }}'; somefunction { alert(typeof(javaword)); alert(javaword); }  ---------- Output - String [&amp;#39;reduced&amp;#39;, &amp;#39;fully automatic&amp;#39;, &amp;#39;years&amp;#39;] </code></pre> <p>I want the output as</p> <pre><code>Object ['reduced','fully automatic','years'] </code></pre> <hr /> <h1>Solved</h1> <p>I figured it out and changed the following</p> <pre><code>var javaword =JSON.parse('{{ keyword|tojson }}'); </code></pre>"	"<p>Three things. Firstly, you need to send it as JSON, not a Python string; secondly, you need to disable Jinja2 autoescaping for that variable; and finally, your JS needs to parse it from a JSON string to a JS object. So:</p>  <pre><code>return jsonify(x1) </code></pre>  <p>...</p>  <pre><code>var javaword = JSON.parse('{{ keyword|safe }}'); </code></pre>"
53304665	Proper way to communicate with a running python from javascript	javascript|python|ajax|windows|flask	2018-11-14 16:24:36.770000 UTC	"<p>My goal:</p>  <ol> <li>A running <strong>python</strong> keeps changing the value of a variable.</li> <li>Real-time showing the changing value on browser using <strong>html and javascript</strong> as long as the python is changing the value.</li> </ol>  <p>The following is my googled solution:</p>  <ol> <li>Write the python code using <strong>Flask</strong></li> <li>Request to run the python via <strong>Ajax</strong> from javascript</li> <li>The python responds the variable as JSON back to javascript</li> </ol>  <p>Base on this solution, I have the following questions and feel free to correct me if there were any misunderstandings.</p>  <ol> <li><p>The python has to be executed manually first, then the javascript can send a ajax request to <code>http://localhost:5000/[...some @app.route()]</code>. I need the python <strong>starts running infinitely</strong>(while loop) after the first ajax request.</p></li> <li><p>The Flask python <strong>can not have a while loop</strong>. Not sure the mechanism of <code>app.run()</code> in Flask.</p></li> <li><p>Once the first point is achieved, the javascript also has to <strong>keep updating</strong> the html once the python is changing the variable. Now it seems that I have to keep sending ajax request to get the variable from the python.</p></li> </ol>  <p>Really appreciate any information to address my questions!</p>"	"<p>Basically, you need three parts</p>  <ul> <li>your python loop A</li> <li>a web application B</li> <li>and a javascript application C</li> </ul>  <p>You can combine A+B into one process, in which case you'll have to run the loop in a separate thread, or you can use any IPC means available, like shared memory/pipes/sockets, to communicate between A and B. A simple solution would be to use a database server, to which A writes and from which B reads.</p>  <p>If A and B are separate, then B doesn't have to be python, you can write it in js or php or everything else. </p>  <p>To avoid polling on the client side, you can use <a href=""https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"" rel=""nofollow noreferrer"">WebSockets</a> to communicate between B and C.</p>"
53304665	Proper way to communicate with a running python from javascript	javascript|python|ajax|windows|flask	2018-11-14 16:24:36.770000 UTC	"<p>My goal:</p>  <ol> <li>A running <strong>python</strong> keeps changing the value of a variable.</li> <li>Real-time showing the changing value on browser using <strong>html and javascript</strong> as long as the python is changing the value.</li> </ol>  <p>The following is my googled solution:</p>  <ol> <li>Write the python code using <strong>Flask</strong></li> <li>Request to run the python via <strong>Ajax</strong> from javascript</li> <li>The python responds the variable as JSON back to javascript</li> </ol>  <p>Base on this solution, I have the following questions and feel free to correct me if there were any misunderstandings.</p>  <ol> <li><p>The python has to be executed manually first, then the javascript can send a ajax request to <code>http://localhost:5000/[...some @app.route()]</code>. I need the python <strong>starts running infinitely</strong>(while loop) after the first ajax request.</p></li> <li><p>The Flask python <strong>can not have a while loop</strong>. Not sure the mechanism of <code>app.run()</code> in Flask.</p></li> <li><p>Once the first point is achieved, the javascript also has to <strong>keep updating</strong> the html once the python is changing the variable. Now it seems that I have to keep sending ajax request to get the variable from the python.</p></li> </ol>  <p>Really appreciate any information to address my questions!</p>"	"<p>You will have to run the while loop in another thread or process, for example using <a href=""http://flask.pocoo.org/docs/0.12/patterns/celery/"" rel=""nofollow noreferrer"">flask-celery</a></p>  <p>the javascript updating can be achieved with <a href=""https://www.w3schools.com/jsref/met_win_settimeout.asp"" rel=""nofollow noreferrer"">setTimeout</a></p>"
53312859	Mimicking Pass-By-Reference in Python/Javascript Using Wrappers - Good Practice?	javascript|python|pass-by-value	2018-11-15 05:15:55.413000 UTC	"<p>Say I want to modify a number or some other primitive inside of a function. For example, something like this (note: pseudocode):</p>  <pre><code>// apply fn to every value in a tree, in-order traversal function treeReduce (tree, fn, result):     if (tree == undefined) return     treeReduce(tree.left, fn, result)     result = fn(result, tree.value)     treeReduce(tree.right, fn, result)  sum = 0 treeReduce(myTree, +, sum) </code></pre>  <p>obviously this won't work, because <code>result</code> is just being reassigned, and the <code>sum</code> passed in won't see the modifications. So a common way I have gotten around this (in any pass-by-value language like Python or Javascript) is using wrappers:</p>  <pre><code>// apply fn to every value in a tree, in-order traversal function treeReduce (tree, fn, result):     if (tree == undefined) return     treeReduce(tree.left, fn, result)     result[0] = fn(result[0], tree.value)     treeReduce(tree.right, fn, result)  sumWrapper = [0] treeReduce(myTree, +, sumWrapper) </code></pre>  <p>However, I recently searched the internet to see if this is a common pattern, and can't find much information about it. Specifically, I'd like to know three things:</p>  <ol> <li>is this a common pattern?</li> <li>is this good practice?</li> <li>if not, any alternatives?</li> </ol>"	"<p>It <em>could</em> be done like that, however it increases <a href=""https://en.wikipedia.org/wiki/Side_effect_(computer_science)"" rel=""nofollow noreferrer"">""sideeffects""</a> of your function which most coders would advise to minimise as much as possible. Instead you could use the function's <em>return</em> value for it. Your code would then still pass the ""previous"" (or ""start"") value as a primitive, but <em>return</em> the result.</p>  <p>Here is how it would look in JS (I took a less trivial <code>fn</code> to demonstrate it performs an in-order execution):</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>// apply fn to every value in a tree, in-order traversal function treeReduce (tree, fn, start) {     if (tree === undefined) return start     let result = treeReduce(tree.left, fn, start)     result = fn(result, tree.value)     result = treeReduce(tree.right, fn, result)     return result }  let myTree = { value: 1, left: { value: 2 }, right: { value: 3 } }  let result = treeReduce(myTree, (a,b) =&gt; a*a+b, 0) console.log(result)</code></pre> </div> </div> </p>  <p>Note that the above can be written more concisely now:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>// apply fn to every value in a tree, in-order traversal function treeReduce (tree, fn, start) {     return !tree ? start         : treeReduce(tree.right, fn, fn(treeReduce(tree.left, fn, start), tree.value)) }  let myTree = { value: 1, left: { value: 2 }, right: { value: 3 } }  let result = treeReduce(myTree, (a,b) =&gt; a*a+b, 0) console.log(result)</code></pre> </div> </div> </p>  <p>In Python:</p>  <pre class=""lang-py prettyprint-override""><code>import collections Tree = collections.namedtuple('Tree', ['value', 'left', 'right'])  # apply fn to every value in a tree, in-order traversal def treeReduce (tree, fn, start):     return start if not tree else (          treeReduce(tree.right, fn, fn(treeReduce(tree.left, fn, start), tree.value))     )  myTree = Tree(1, Tree(2,None,None), Tree(3,None,None))  result = treeReduce(myTree, lambda a,b: a*a+b, 0)  print(result) </code></pre>  <p>Both JS and Python also allow to extend this to the case where you would need to set multiple primitive values: functions can return arrays/lists/tuples/objects, which can then be assigned by unpacking/destructuring them into separate variables.</p>"
53320459	Can one use python to download a javascript generated CSV file online?	javascript|python|ajax|scrapy|cryptocurrency	2018-11-15 13:22:44.037000 UTC	"<p>I am trying to download the CSV file on this website: <a href=""https://enroyd.com/Sentiment/"" rel=""nofollow noreferrer"">https://enroyd.com/Sentiment/</a> with python script, in order to then analyse the results with python. The file is generated when the link is clicked. </p>  <p>I have tried a bunch on online solutions but none seem to be working. I am sorry for the open ended question but does anyone have any suggestions?</p>  <p>I have tried this script but it does not work</p>  <pre><code>import os from selenium import webdriver  browser_profile = webdriver.FirefoxProfile('path')  # add the file_formats to download file_formats = ','.join([""text/plain"",                          ""application/pdf"",                          ""application/x-pdf"",                          ""application/force-download""])  preferences = {     ""browser.download.folderList"": 2,     ""browser.download.manager.showWhenStarting"": False,     ""browser.download.dir"": os.getcwd(),  # will download to current directory     ""browser.download.alertOnEXEOpen"": False,     ""browser.helperApps.neverAsk.saveToDisk"": file_formats,     ""browser.download.manager.focusWhenStarting"": False,     ""browser.helperApps.alwaysAsk.force"": False,     ""browser.download.manager.showAlertOnComplete"": False,     ""browser.download.manager.useWindow"": False,     ""services.sync.prefs.sync.browser.download.manager.showWhenStarting"": False,     ""pdfjs.disabled"": True }  for pref, val in preferences.items():     browser_profile.set_preference(pref, val)  browser_binary = webdriver.firefox.firefox_binary.FirefoxBinary() browser = webdriver.Firefox(firefox_binary=browser_binary,                             firefox_profile=browser_profile)  # set the file name that will be saved as when you download is complete file_name = 'data.csv'  # goto the link to download the file from it will be automatically # downloaded to the current directory file_url = 'https://enroyd.com/Sentiment' browser.find_element_by_class_name('dt-button buttons-csv buttons-html5 DTTT_button DTTT_button_csv').click()  # verify if the expected file name exists in the current directory path = os.path.join(os.getcwd(), file_name) assert os.path.isfile(path) </code></pre>"	
53341796	Get javascript variable with python	python|regex|python-3.x	2018-11-16 16:23:48.630000 UTC	"<p>Banging my head here..</p>  <p>I am trying to parse the html source for the entire contents of javascript variable 'ListData' with regex which starts with the declaration <code>var Listdata =</code> and ends with <code>};</code>.</p>  <p>I found a solution which is similar:</p>  <p><a href=""https://stackoverflow.com/questions/24118337/fetch-data-of-variables-inside-script-tag-in-python-or-content-added-from-js"">Fetch data of variables inside script tag in Python or Content added from js</a></p>  <p>But I am unable to get it to match the entire regex.</p>  <p>Code:</p>  <pre><code># Need the ListData object pat = re.compile('var ListData = (.*?);')  string = """"""QuickLaunchMenu == null) QuickLaunchMenu = $create(UI.AspMenu,  null, null, null, $get('QuickLaunchMenu')); } ExecuteOrDelayUntilScriptLoaded(QuickLaunchMenu, 'Core.js'); var ListData = { ""Row"" :  [{ ""ID"": ""159"", ""PermMask"": ""0x1b03cc312ef"", ""FSObjType"": ""0"", ""ContentType"": ""Item"" }; moretext; moretext""""""  #Returns NoneType instead of match object print(type(pat.search(string))) </code></pre>  <p>Not sure what is going wrong here. Any help would be appreaciated.</p>"	"<p>In your regex, <code>(.*?);</code> part matches any 0+ chars other than line break chars up to the first <code>;</code>. If there is no <code>;</code> on the line, you will have no match.</p>  <p>Basing on the fact your expected match ends with the first <code>};</code> at the end of a line, you may use</p>  <pre><code>'(?sm)var ListData = (.*?)};$' </code></pre>  <p>Here,</p>  <ul> <li><code>(?sm)</code> - enables <code>re.S</code> (it makes <code>.</code> match any char) and <code>re.M</code> (this makes <code>$</code> match the end of a line, not just the whole string and makes <code>^</code> match the start of line positions) modes</li> <li><code>var ListData = </code></li> <li><code>(.*?)</code> - Group 1: any 0+ chars, as few as possible, up to the first...</li> <li><code>};$</code> - <code>};</code> at the end of a line</li> </ul>"
53355715	How do i execute JavaScript code in Python Selenium and then call it back in my Python code?	javascript|python-3.x|selenium-webdriver	2018-11-17 21:23:35.897000 UTC	"<p>Here i have some Python code that opens my JavaScript file and executes it into the webpage. I saw posts saying <code>execute_async_script()</code> allows for handling of callbacks in JavaScript but i didn't really understand it.</p>  <pre><code>with open(""script.js"") as f:     script_source = f.read()  wait.until(EC.element_to_be_clickable((By.CLASS_NAME, ""textArea-2Spzkt"")))  script_exc = driver.execute_async_script(script_source) print(""test"", script_exc) </code></pre>  <p>Here is the JavaScript that Selenium is injecting. It listens for a change in a specific class and outputs a string to the console when it detects a change. </p>  <pre><code>// Select the node that will be observed for mutations var targetNode = document.getElementsByClassName('messagesWrapper-3lZDfY')[0];  // Options for the observer (which mutations to observe) var config = { attributes: false, childList: true, subtree: true };  // Callback function to execute when mutations are observed var callback = function(mutationsList, observer) {     for(var mutation of mutationsList) {         if (mutation.type == 'childList') {             console.log('A child node has been added or removed.');         }         else if (mutation.type == 'attributes') {             console.log('The ' + mutation.attributeName + ' attribute was modified.');         }     } };  // Create an observer instance linked to the callback function var observer = new MutationObserver(callback);  // Start observing the target node for configured mutations observer.observe(targetNode, config); </code></pre>  <p>I want to be able to get JavaScript to return a string in the Python console saying <code>""node change detected""</code> when a node change is detected. So in my Python code where it say <code>print(""test"", script_exc)</code>, i want it to print <code>test</code> and <code>node change detected</code>. I'm pretty new to JavaScript as a whole and kinda beginner to Python too. I saw people saying to use <code>arguments[0]</code> with JavaScript but i didn't know how that would relate in my Python code. </p>"	"<p>Use <strong>arguments[0]</strong> with JavaScript means the callback is done.</p>  <pre><code>script=""var a = 1;"" // if return a, use execute_script() a = driver.execute_script(""return a;"") // or use execute_async_script() async_script=""return arguments[0](a)"" a = driver.execute_async_script(async_script) </code></pre>"
53361999	Data extraction from javascript rendered webpage with python	python|selenium|dropdown	2018-11-18 14:34:21.023000 UTC	"<p>I'm trying to extract all the data from ""<a href=""http://www.tesourotransparente.gov.br/visualizacoes/series-temporais"" rel=""nofollow noreferrer"">http://www.tesourotransparente.gov.br/visualizacoes/series-temporais</a>"", but can't figure out how to get the dropdown options names and jsons urls. I know how to find them by inspecting elements, but I'd like to automate the download for all the data instead of manually looking for each.</p>"	
53363568	Can't get javascript generated html using python & Selenium webdriver	python|python-3.x|selenium-webdriver|web-scraping	2018-11-18 17:23:24.067000 UTC	"<p>I am trying to get the list of trainings from a link using below Python code:</p>  <pre><code>from selenium import webdriver url = 'https://www.cbtnuggets.com/search' browser = webdriver.Chrome() browser.get(url) browser.implicitly_wait(30) print(browser.find_element_by_tag_name(""table"").text) browser.quit() </code></pre>  <p>Mostly, I am only getting the table header as output:</p>  <blockquote>   <p>COURSE TITLE TRAINER RATING VENDOR IT PATH SKILL LEVEL</p> </blockquote>  <p>But this output is not consistent, once or twice (in 20 tries) the entire table was printed (listing all the trainings from the webpage), but I am unable to get a consistent output.</p>  <p>I tweaked the implicitly_wait(30) between 30-60 secs but without resolution. Also I can see that the AJAX contents gets loaded well within the 30 sec timer.</p>  <p>My Requirements:</p>  <ol> <li>Get the list of trainings</li> <li>Also add the hyperlink of each training page in another column. For e.g. the first training in the table has the link <code>https://www.cbtnuggets.com/it-training/isc2-cissp-2015</code></li> </ol>  <p>So the output should have following table headers</p>  <ul> <li>Course Title</li> <li>Trainer  </li> <li>Rating   </li> <li>Vendor   </li> <li>IT Path   </li> <li>Skill Level</li> <li>course url (to be extracted from the href tag)</li> </ul>"	"<p>You can do this by recreating the XHR API request made on the page, which retrieves the catalogue info, and handling the JSON response. I would welcome suggestions on how to remove the repeated loops over <code>data</code>. I thought about using unpacking in a single loop but thought, even if did work, would be hard to follow. It is however, still fast.</p>  <pre><code>import requests import pandas as pd  base = 'https://www.cbtnuggets.com/it-training/'  response  = requests.get('https://api.cbtnuggets.com/site-gateway/v1/all/courses/for/search?archive=false') data = response.json() titles = [item['title'] for item in data] trainers = [item['trainers'][0]['name'] for item in data] ratings = [item['rating'] for item in data] vendors = [item['vendors'][0]['display'] if len(item['vendors']) != 0 else 'N/A' for item in data] paths = [item['paths'][0]['path_label'] for item in data] skillLevel = [item['difficulty']['display'] for item in data] links = [base + item['seoslug'] for item in data]  df=  pd.DataFrame(     {'Course Title': titles,      'Trainer': trainers,      'Rating': ratings,      'Vendor': vendors,      'IT Path': paths,      'Skill Level': skillLevel,      'Course URL': links     })  print(df) df.to_csv(r'C:\Users\User\Desktop\Data.csv', sep=',', encoding='utf-8',index = False ) </code></pre>"
53363568	Can't get javascript generated html using python & Selenium webdriver	python|python-3.x|selenium-webdriver|web-scraping	2018-11-18 17:23:24.067000 UTC	"<p>I am trying to get the list of trainings from a link using below Python code:</p>  <pre><code>from selenium import webdriver url = 'https://www.cbtnuggets.com/search' browser = webdriver.Chrome() browser.get(url) browser.implicitly_wait(30) print(browser.find_element_by_tag_name(""table"").text) browser.quit() </code></pre>  <p>Mostly, I am only getting the table header as output:</p>  <blockquote>   <p>COURSE TITLE TRAINER RATING VENDOR IT PATH SKILL LEVEL</p> </blockquote>  <p>But this output is not consistent, once or twice (in 20 tries) the entire table was printed (listing all the trainings from the webpage), but I am unable to get a consistent output.</p>  <p>I tweaked the implicitly_wait(30) between 30-60 secs but without resolution. Also I can see that the AJAX contents gets loaded well within the 30 sec timer.</p>  <p>My Requirements:</p>  <ol> <li>Get the list of trainings</li> <li>Also add the hyperlink of each training page in another column. For e.g. the first training in the table has the link <code>https://www.cbtnuggets.com/it-training/isc2-cissp-2015</code></li> </ol>  <p>So the output should have following table headers</p>  <ul> <li>Course Title</li> <li>Trainer  </li> <li>Rating   </li> <li>Vendor   </li> <li>IT Path   </li> <li>Skill Level</li> <li>course url (to be extracted from the href tag)</li> </ul>"	"<p>Try this to get the required content. Whether you wait to get the table or not, it is always there with the headers. However, the tbody content generates dynamically so you should make your script wait for that to be available.</p>  <pre><code>from selenium import webdriver  url = 'https://www.cbtnuggets.com/search'  browser = webdriver.Chrome() browser.get(url) browser.implicitly_wait(30) for items in browser.find_elements_by_css_selector(""table tbody tr""):     data = [item.get_attribute(""href"") for item in items.find_elements_by_css_selector(""a"")]     print(data) browser.quit() </code></pre>  <p>To make the execution time faster, you can use <code>BeautifulSoup</code> in combination with <code>selenium</code> like below:</p>  <pre><code>from bs4 import BeautifulSoup from selenium import webdriver  url = 'https://www.cbtnuggets.com/search'  driver = webdriver.Chrome() driver.get(url) driver.implicitly_wait(30) table = driver.find_elements_by_css_selector(""table tbody"") soup = BeautifulSoup(driver.page_source,""lxml"") #if you haven't installed ""lxml"" yet, try replacing it with ""html.parser"" for items in soup.select(""table tbody tr""):     data = [item.get(""href"") for item in items.select(""a"")]     print(data) driver.quit() </code></pre>"
53400718	Python Parsing Javascript with beautifulsoup	javascript|python|beautifulsoup|python-requests|html-parsing	2018-11-20 20:04:04.847000 UTC	"<p>I am trying to parse content within JavaScript. I have an idea of how to do it, but I am not entirely sure. I have read up on some examples, and I am thinking that using the re library might be the way to go.</p>  <p>Here is my code so far:</p>  <pre><code>import requests import json import re from bs4 import BeautifulSoup  url = r'https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=13&amp;rver=6.7.6643.0&amp;wp=MBI_SSL&amp;wreply=https:%2f%2faccount.xbox.com%2fen-us%2faccountcreation%3freturnUrl%3dhttps:%252f%252fwww.xbox.com:443%252fen-US%252f%26pcexp%3dtrue%26uictx%3dme%26rtc%3d1&amp;lc=1033&amp;id=292543&amp;aadredir=1'   s = requests.Session()   soup = BeautifulSoup(s.get(url).content, 'html.parser')   print(soup.find_all(""script"", type=""text/javascript"")[5].prettify()) </code></pre>  <p>Here is just a snippet of the parsed content. I am trying to get access to this data, particularly ""value""</p>  <pre><code>&lt;input type=""hidden"" name=""PPFT"" id=""i0327"" value=""Dd**Lkp2L3EKDvGi3u6PEweEQUhvW*1jPrA3FgGSdeYoY8FERluiTqDef6QF3V5NkN*4yPg7vvxI3jo5oKPRelhfU3rYGFkxbxyvSBssiwFA!8LwocAbVDtrDq11Wk3F4LzRBQck3H4ca5r3Qhv8b0h4CxcEZgAnGAkcWE7fExGn1dBwGoY8sZVL2!ZBMjnJEanidLF!Yi975frkQ6Cys2oUb863xoLxdvZGuLQRxRLjjKubaCHlWQbD0b*Wzq49EA$$""/&gt; </code></pre>  <p>I appreciate all responses in advance. Thanks!</p>"	"<pre><code>from bs4 import BeautifulSoup as bs import requests import re url = 'https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=13&amp;rver=6.7.6643.0&amp;wp=MBI_SSL&amp;wreply=https:%2f%2faccount.xbox.com%2fen-us%2faccountcreation%3freturnUrl%3dhttps:%252f%252fwww.xbox.com:443%252fen-US%252f%26pcexp%3dtrue%26uictx%3dme%26rtc%3d1&amp;lc=1033&amp;id=292543&amp;aadredir=1' page = requests.get(url) html = bs(page.text, 'lxml') input = html.findAll('script', type=""text/javascript"")[5].prettify() value = re.findall(r'value="".+""/', input) #value = str(value).replace('value=""', '').replace('""/','') value = str(value).replace('value=""', '').replace('""/','').replace(""['"",'').replace(""']"",'') print(value) Output: DVSXQahhtomXS2Y4k2itS5MPP52mJgUkC7LH!W*1DmjHiWk*npajBfgXK5yp3*!bu3Wuvvs7xavleUV3nIbjLZHckj73QMe8wipwXhCqpXuUZQ2wnJvNYAVNCg9XxKPuIovp7!sLbumrufuYefyzM6UQLkMb5c7MuImDofVhLlKxpI7Pohe8sO2x8r63TtFCTDphWzqXKJE3B8DRK*AhMbFsmdP0sj2CXMZ7dyTfLJSr1zWBlaHTqJPLvhgzLSiaEg$$ </code></pre>"
53401579	Does Javascript have something similar to python's dict comprehension?	javascript|arrays|sorting|object|dictionary-comprehension	2018-11-20 21:09:41.397000 UTC	"<p>I have a set of data I'm collecting that outputs something like this: <br/></p>  <pre><code>[     {         hostName: 'server1',         service: 'service1',         perfData: 'unique string5',         state: 1     },     {         hostName: 'server1',         service: 'service2',         perfData: 'unique string4',         state: 1     },     {         hostName: 'server1',         service: 'service3',         perfData: 'unique string3',         state: 1     },     {         hostName: 'server2',         service: 'service1',         perfData: 'unique string2',         state: 1     },     {         hostName: 'server2',         service: 'service2',         perfData: 'unique string1',         state: 1     } ] </code></pre>  <p>I'm trying to loop through this array of objects with javascript to output the following:<br/></p>  <pre><code>let desiredOutput = [{'server1': [{         service: 'service1',         perfData: 'unique string1',         state: 1         },         {         service: 'service2',         perfData: 'unique string1',         state: 1         },         {         service: 'service3',         perfData: 'unique string1',         state: 1         }],     'server2': {         service: 'service1',         perfData: 'unique string1',         state: 1     } }]; </code></pre>  <p>Does Javascript have something similar to dict comprehension? Not sure how to loop through an array of objects and merge them and make them an object with an array of objects. In python I could use something like this:</p>  <pre><code>raw_data = [{'hostName': 'server1', 'serviceName': 'service1'}, {'hostName': 'server1', 'serviceName': 'service2'}, {'hostName': 'server1', 'serviceName': 'service3'}, {'hostName': 'server2', 'serviceName': 'service1'}, {'hostName': 'server2', 'serviceName': 'service2'}] services = defaultdict(list) for service in raw_data:     host_name = service.get('hostName')     service_name = service.get('service')     new_dict = {'hostName': host_name, 'serviceName': service_name}     services[new_dict['hostName']].append(new_dict) print(services) </code></pre>  <p>I found something close with this <a href=""https://stackoverflow.com/questions/33850412/merge-javascript-objects-in-array-with-same-key"">Merge javascript objects in array with same key</a> but not quite what I'm looking for.</p>"	"<p>Your output structure is a bit strange (an array of one element?). Using <code>reduce</code> is a reasonable approach, building arrays for each unique key:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const data = [ { hostName: 'server1', service: 'service1', perfData: 'unique string5', state: 1 }, { hostName: 'server1', service: 'service2', perfData: 'unique string4', state: 1 }, { hostName: 'server1', service: 'service3', perfData: 'unique string3', state: 1 }, { hostName: 'server2', service: 'service1', perfData: 'unique string2', state: 1 }, { hostName: 'server2', service: 'service2', perfData: 'unique string1', state: 1 } ];  console.log([data.reduce((a, e) =&gt; {   const name = e.hostName;   delete e.hostName;   a[name] = name in a ? a[name].push(e) &amp;&amp; a[name] : [e];   return a; }, {})]);</code></pre> </div> </div> </p>"
53418350	Python Flask not displaying Javascript	javascript|python|flask	2018-11-21 18:23:05.063000 UTC	"<p>I'm trying to display a javascript file in a python flask project. I'm using blocks in the html file which is calling the javascript file.  It is just not displaying on the webpage.</p>  <p>If I remove the base.html part of the project and just put everything into the snake.html file it runs fine, which says to me the Javascript is fine, I'm just misunderstanding the Flask parts.</p>  <p>Any assistance you could give me, would be greatly appreciated.</p>  <p>base.html</p>  <pre><code>&lt;html&gt;   &lt;head&gt;     {% if title %}     &lt;title&gt;{{ title }}&lt;/title&gt;     {% else %}     &lt;title&gt;Unseen Arcade&lt;/title&gt;     {% endif %}     &lt;meta charset=""utf-8""&gt;     &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;     &lt;style&gt; body {padding: 10; margin: 10;} &lt;/style&gt;     &lt;script src=""p5.min.js""&gt;&lt;/script&gt;     &lt;script src=""addons/p5.dom.min.js""&gt;&lt;/script&gt;     &lt;script src=""addons/p5.sound.min.js""&gt;&lt;/script&gt;     {% block scripts %}{% endblock scripts %}   &lt;/head&gt;   &lt;body&gt;     &lt;div&gt;Unseen Arcade: &lt;a href=""/index""&gt;Home&lt;/a&gt;&lt;/div&gt;     &lt;hr&gt;     {% block content %}{% endblock content %}   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>snake.html</p>  <pre><code>{% extends ""base.html"" %} {% block scripts %}   &lt;script src=""{{url_for('static', filename='snake/snake.js')}}""&gt;&lt;/script&gt; {% endblock %}  {% block content %}   &lt;body&gt;     &lt;h2&gt; Snake Game:&lt;/h2&gt;     &lt;p&gt;Use the keys W, A, S, and D to control the direction of the snake, if you get onto the leaderboard with a score above 50 you will receive a hint on the locations of other secret arcades in London.$   &lt;/body&gt; {% endblock %} </code></pre>  <p>folder layout:</p>  <pre><code>FlaskApp/ FlaskApp/     forms.py     __init__.py     routes.py     static/       p5.min.js       addons/         p5.dom.min.js         p5.sound.min.js       snake/         snake.js     templates/         base.html       snake/         snake.html   flaskapp.wsgi </code></pre>"	"<p>Thanks to Kstullich I found out that the path I was using in base.html was incorrect, and swapped the script paths to use url_for.  Also didn't think about viewing the js console in the browser.</p>"
53434555	python requests enable cookies/javascript	python|cookies|browser|python-requests	2018-11-22 15:56:07.260000 UTC	"<p>I try to download an excel file from a specific website. In my local computer it works perfectly:</p>  <pre><code>&gt;&gt;&gt; r = requests.get('http://www.health.gov.il/PublicationsFiles/IWER01_2004.xls') &gt;&gt;&gt; r.status_code 200 &gt;&gt;&gt; r.content b'\xd0\xcf\x11\xe0\xa1\xb1...\x00\x00' # Long binary string </code></pre>  <p>But when I connect to a remote ubuntu server, I get a message related to enabling cookies/javascript.</p>  <pre><code>r = requests.get('http://www.health.gov.il/PublicationsFiles/IWER01_2004.xls') &gt;&gt;&gt; r.status_code 200 &gt;&gt;&gt; r.content b'&lt;HTML&gt;\n&lt;head&gt;\n&lt;script&gt;\nChallenge=141020;\nChallengeId=120854618;\nGenericErrorMessageCookies=""Cookies must be enabled in order to view this page."";\n&lt;/script&gt;\n&lt;script&gt;\nfunction test(var1)\n{\n\tvar var_str=""""+Challenge;\n\tvar var_arr=var_str.split("""");\n\tvar LastDig=var_arr.reverse()[0];\n\tvar minDig=var_arr.sort()[0];\n\tvar subvar1 = (2 * (var_arr[2]))+(var_arr[1]*1);\n\tvar subvar2 = (2 * var_arr[2])+var_arr[1];\n\tvar my_pow=Math.pow(((var_arr[0]*1)+2),var_arr[1]);\n\tvar x=(var1*3+subvar1)*1;\n\tvar y=Math.cos(Math.PI*subvar2);\n\tvar answer=x*y;\n\tanswer-=my_pow*1;\n\tanswer+=(minDig*1)-(LastDig*1);\n\tanswer=answer+subvar2;\n\treturn answer;\n}\n&lt;/script&gt;\n&lt;script&gt;\nclient = null;\nif (window.XMLHttpRequest)\n{\n\tvar client=new XMLHttpRequest();\n}\nelse\n{\n\tif (window.ActiveXObject)\n\t{\n\t\tclient = new ActiveXObject(\'MSXML2.XMLHTTP.3.0\');\n\t};\n}\nif (!((!!client)&amp;&amp;(!!Math.pow)&amp;&amp;(!!Math.cos)&amp;&amp;(!![].sort)&amp;&amp;(!![].reverse)))\n{\n\tdocument.write(""Not all needed JavaScript methods are supported.&lt;BR&gt;"");\n\n}\nelse\n{\n\tclient.onreadystatechange  = function()\n\t{\n\t\tif(client.readyState  == 4)\n\t\t{\n\t\t\tvar MyCookie=client.getResponseHeader(""X-AA-Cookie-Value"");\n\t\t\tif ((MyCookie == null) || (MyCookie==""""))\n\t\t\t{\n\t\t\t\tdocument.write(client.responseText);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar cookieName = MyCookie.split(\'=\')[0];\n\t\t\tif (document.cookie.indexOf(cookieName)==-1)\n\t\t\t{\n\t\t\t\tdocument.write(GenericErrorMessageCookies);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.location.reload(true);\n\t\t}\n\t};\n\ty=test(Challenge);\n\tclient.open(""POST"",window.location,true);\n\tclient.setRequestHeader(\'X-AA-Challenge-ID\', ChallengeId);\n\tclient.setRequestHeader(\'X-AA-Challenge-Result\',y);\n\tclient.setRequestHeader(\'X-AA-Challenge\',Challenge);\n\tclient.setRequestHeader(\'Content-Type\' , \'text/plain\');\n\tclient.send();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;noscript&gt;JavaScript must be enabled in order to view this page.&lt;/noscript&gt;\n&lt;/body&gt;\n&lt;/HTML&gt;' </code></pre>  <p>On local I run from MACos that has Chrome installed (I'm not actively using it for the script, but maybe it's related?), on remote I run ubuntu on digital ocean without any GUI browser installed.</p>"	"<pre><code>you can use this code to avoid block  url = 'your url come here' s = HTMLSession()  s.headers['user-agent'] = 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36' r = s.get(url) r.html.render(timeout=8000) print(r.status_code) print(r.content) </code></pre>"
53434555	python requests enable cookies/javascript	python|cookies|browser|python-requests	2018-11-22 15:56:07.260000 UTC	"<p>I try to download an excel file from a specific website. In my local computer it works perfectly:</p>  <pre><code>&gt;&gt;&gt; r = requests.get('http://www.health.gov.il/PublicationsFiles/IWER01_2004.xls') &gt;&gt;&gt; r.status_code 200 &gt;&gt;&gt; r.content b'\xd0\xcf\x11\xe0\xa1\xb1...\x00\x00' # Long binary string </code></pre>  <p>But when I connect to a remote ubuntu server, I get a message related to enabling cookies/javascript.</p>  <pre><code>r = requests.get('http://www.health.gov.il/PublicationsFiles/IWER01_2004.xls') &gt;&gt;&gt; r.status_code 200 &gt;&gt;&gt; r.content b'&lt;HTML&gt;\n&lt;head&gt;\n&lt;script&gt;\nChallenge=141020;\nChallengeId=120854618;\nGenericErrorMessageCookies=""Cookies must be enabled in order to view this page."";\n&lt;/script&gt;\n&lt;script&gt;\nfunction test(var1)\n{\n\tvar var_str=""""+Challenge;\n\tvar var_arr=var_str.split("""");\n\tvar LastDig=var_arr.reverse()[0];\n\tvar minDig=var_arr.sort()[0];\n\tvar subvar1 = (2 * (var_arr[2]))+(var_arr[1]*1);\n\tvar subvar2 = (2 * var_arr[2])+var_arr[1];\n\tvar my_pow=Math.pow(((var_arr[0]*1)+2),var_arr[1]);\n\tvar x=(var1*3+subvar1)*1;\n\tvar y=Math.cos(Math.PI*subvar2);\n\tvar answer=x*y;\n\tanswer-=my_pow*1;\n\tanswer+=(minDig*1)-(LastDig*1);\n\tanswer=answer+subvar2;\n\treturn answer;\n}\n&lt;/script&gt;\n&lt;script&gt;\nclient = null;\nif (window.XMLHttpRequest)\n{\n\tvar client=new XMLHttpRequest();\n}\nelse\n{\n\tif (window.ActiveXObject)\n\t{\n\t\tclient = new ActiveXObject(\'MSXML2.XMLHTTP.3.0\');\n\t};\n}\nif (!((!!client)&amp;&amp;(!!Math.pow)&amp;&amp;(!!Math.cos)&amp;&amp;(!![].sort)&amp;&amp;(!![].reverse)))\n{\n\tdocument.write(""Not all needed JavaScript methods are supported.&lt;BR&gt;"");\n\n}\nelse\n{\n\tclient.onreadystatechange  = function()\n\t{\n\t\tif(client.readyState  == 4)\n\t\t{\n\t\t\tvar MyCookie=client.getResponseHeader(""X-AA-Cookie-Value"");\n\t\t\tif ((MyCookie == null) || (MyCookie==""""))\n\t\t\t{\n\t\t\t\tdocument.write(client.responseText);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar cookieName = MyCookie.split(\'=\')[0];\n\t\t\tif (document.cookie.indexOf(cookieName)==-1)\n\t\t\t{\n\t\t\t\tdocument.write(GenericErrorMessageCookies);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.location.reload(true);\n\t\t}\n\t};\n\ty=test(Challenge);\n\tclient.open(""POST"",window.location,true);\n\tclient.setRequestHeader(\'X-AA-Challenge-ID\', ChallengeId);\n\tclient.setRequestHeader(\'X-AA-Challenge-Result\',y);\n\tclient.setRequestHeader(\'X-AA-Challenge\',Challenge);\n\tclient.setRequestHeader(\'Content-Type\' , \'text/plain\');\n\tclient.send();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;noscript&gt;JavaScript must be enabled in order to view this page.&lt;/noscript&gt;\n&lt;/body&gt;\n&lt;/HTML&gt;' </code></pre>  <p>On local I run from MACos that has Chrome installed (I'm not actively using it for the script, but maybe it's related?), on remote I run ubuntu on digital ocean without any GUI browser installed.</p>"	"<p>The behavior of <code>requests</code> has nothing to do with what browsers are installed on the system, it does not depend on or interact with them in any way.</p>  <p>The problem here is that the resource you are requesting has some kind of ""bot mitigation"" mechanism enabled to prevent just this kind of access. It returns some javascript with logic that needs to be evaluated, and the results of that logic are then used for an additional request to ""prove"" you're not a bot.</p>  <p>Luckily, it appears that this specific mitigation mechanism has been <a href=""https://github.com/niryariv/opentaba-server/blob/master/lib/helpers.py"" rel=""noreferrer"">solved before</a>, and I was able to quickly get this request working utilizing the challenge-solving functions from that code:</p>  <pre><code>from math import cos, pi, floor  import requests  URL = 'http://www.health.gov.il/PublicationsFiles/IWER01_2004.xls'   def parse_challenge(page):     """"""     Parse a challenge given by mmi and mavat's web servers, forcing us to solve     some math stuff and send the result as a header to actually get the page.     This logic is pretty much copied from https://github.com/R3dy/jigsaw-rails/blob/master/lib/breakbot.rb     """"""     top = page.split('&lt;script&gt;')[1].split('\n')     challenge = top[1].split(';')[0].split('=')[1]     challenge_id = top[2].split(';')[0].split('=')[1]     return {'challenge': challenge, 'challenge_id': challenge_id, 'challenge_result': get_challenge_answer(challenge)}   def get_challenge_answer(challenge):     """"""     Solve the math part of the challenge and get the result     """"""     arr = list(challenge)     last_digit = int(arr[-1])     arr.sort()     min_digit = int(arr[0])     subvar1 = (2 * int(arr[2])) + int(arr[1])     subvar2 = str(2 * int(arr[2])) + arr[1]     power = ((int(arr[0]) * 1) + 2) ** int(arr[1])     x = (int(challenge) * 3 + subvar1)     y = cos(pi * subvar1)     answer = x * y     answer -= power     answer += (min_digit - last_digit)     answer = str(int(floor(answer))) + subvar2     return answer   def main():     s = requests.Session()     r = s.get(URL)      if 'X-AA-Challenge' in r.text:         challenge = parse_challenge(r.text)         r = s.get(URL, headers={             'X-AA-Challenge': challenge['challenge'],             'X-AA-Challenge-ID': challenge['challenge_id'],             'X-AA-Challenge-Result': challenge['challenge_result']         })          yum = r.cookies         r = s.get(URL, cookies=yum)      print(r.content)   if __name__ == '__main__':     main() </code></pre>"
53437705	Javascript Equivalent of Python's operator.add	javascript|python	2018-11-22 20:34:39.777000 UTC	"<p>Does javascript have an equivalent to Python's <code>operator.add</code>, or any other binary operators?</p>  <p>In Python: </p>  <pre><code>from operator import add from functools import reduce  # prints 15, requires defining the addition operator print(reduce(lambda a, b: a + b, [1, 2, 3, 4, 5]))  # prints 15, does not require defining the addition operator print(reduce(add, [1, 2, 3, 4, 5])) </code></pre>  <p>In Javascript:</p>  <pre class=""lang-js prettyprint-override""><code>// prints 15, requires defining the addition operator console.log([1, 2, 3, 4, 5].reduce((a,b) =&gt; a + b))  // is there a way to do this without defining the addition operator? console.log([1, 2, 3, 4, 5].reduce(???) </code></pre>"	"<p>The way you have done it is the most concise way that I'm aware of in JavaScript.  You might want to supply a default value for your <code>reduce</code> to protect against an empty input array:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>console.log([1,2,3,4,5].reduce((a,b) =&gt; a + b, 0))  // throws a TypeError... console.log([].reduce((a,b) =&gt; a + b))</code></pre> </div> </div> </p>"
53437705	Javascript Equivalent of Python's operator.add	javascript|python	2018-11-22 20:34:39.777000 UTC	"<p>Does javascript have an equivalent to Python's <code>operator.add</code>, or any other binary operators?</p>  <p>In Python: </p>  <pre><code>from operator import add from functools import reduce  # prints 15, requires defining the addition operator print(reduce(lambda a, b: a + b, [1, 2, 3, 4, 5]))  # prints 15, does not require defining the addition operator print(reduce(add, [1, 2, 3, 4, 5])) </code></pre>  <p>In Javascript:</p>  <pre class=""lang-js prettyprint-override""><code>// prints 15, requires defining the addition operator console.log([1, 2, 3, 4, 5].reduce((a,b) =&gt; a + b))  // is there a way to do this without defining the addition operator? console.log([1, 2, 3, 4, 5].reduce(???) </code></pre>"	"<p>Javascript is a low level language : no way until you define it.</p>  <p>See <a href=""https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array/reduce"" rel=""nofollow noreferrer"">Array.prototype.reduce</a></p>  <pre><code>const add = (acc, item) =&gt; {     return acc = acc + item; });  console.log([1, 2, 3, 4, 5].reduce(add, 0)); </code></pre>"
53442828	Passing video feed from Javascript to OpenCV in Python	javascript|python|opencv|computer-vision|video-streaming	2018-11-23 08:12:24.807000 UTC	"<p>I am trying to create a web application that takes detects faces in a live video feed. I have written the webcam feed code with Javascript as I would like to later host the application.</p>  <p>Code for getting the feed with Javascript</p>  <pre><code>var video = document.querySelector(""#videoElement"");  if (navigator.mediaDevices.getUserMedia) {     navigator.mediaDevices.getUserMedia({video: true}).then(function(stream) {       video.srcObject = stream;   }).catch(function(err0r) {       console.log(""Something went wrong!"");   }); } </code></pre>  <p>And my Python code for opening the camera and detecting faces is as follows</p>  <pre><code>import cv2  cascade = cv2.CascadeClassifier('./haarcascade_frontalface_default.xml')  cam = cv2.VideoCapture(0)   while True:     ret, frame = cam.read()     frame = cv2.flip(frame, 1)      if ret:         gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)          faces = cascade.detectMultiScale(gray, scaleFactor=1.3, minNeighbors=3)          for (x, y, w, h) in faces:             cropped = cv2.resize(frame[y:y+h, x:x+w], (198,198))             cv2.rectangle(frame, (x, y), (x+w, y+h), (255, 0, 0), 2)          if cv2.waitKey(1) &amp; 0xFF == ord('q'):             break             cv2.destroyAllWindows()          cv2.imshow('Stream', frame) </code></pre>  <p>My question is instead of opening the webcam in Python can I somehow pass the feed from Javascript to Python. I guess I will have to change this line to include the code from Javascript</p>  <pre><code>cam = cv2.VideoCapture(0) </code></pre>  <p>Any help is appreciated. Thank you in advance</p>"	"<p>You can check out <a href=""https://docs.opencv.org/3.4/dd/d00/tutorial_js_video_display.html"" rel=""nofollow noreferrer"">this tutorial</a> in the OpenCV documentation. The syntax is not really that different.</p> <p>If you do want to use Python you will need to send an AJAX request for the video feed. Stream it someplace and use it as a source for your <code>&lt;video&gt;</code>.</p>"
53449865	No glGenFramebuffersin python but available in javascript	python|opengl|framebuffer	2018-11-23 16:08:51.267000 UTC	"<p>I am trying to port <a href=""https://github.com/Formlabs/hackathon-slicer"" rel=""nofollow noreferrer"">hackathon-slicer</a> to python3 with the OpenGL library. The hackathon slicer is programmed in node/javascript and runs fine on my older laptop. </p>  <p>However when I port it to python using the OpenGL library, I get an error on 'glGenFramebuffers' because glGenFramebuffers is not available. I checked and the OpenGL library has the function available. Also since it runs fine in node/javascript my laptops graphics card also has FrameBuffer available.</p>  <p>So what is the real problem and how to solve this? Any help greatly appreciated!</p>"	"<p>Found the problem. You apparently only have glGenFramebuffers after creating an OpenGL context. The context is now created in the class init.</p>  <pre><code>class Viewport: def display(self):     # Clear the color and depth buffers     glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)      # ... render stuff in here ...     # It will go to an off-screen frame buffer.      # Copy the off-screen buffer to the screen.     glutSwapBuffers()  def __init__(self):     glutInit(sys.argv)      # Create a double-buffer RGBA window.   (Single-buffering is possible.     # So is creating an index-mode window.)     glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH)      # Create a window, setting its title     glutCreateWindow('interactive')      # Set the display callback.  You can set other callbacks for keyboard and     # mouse events.     glutDisplayFunc(self.display) </code></pre>  <p>After this the following code does work:</p>  <pre><code>    def renderSlice(self):     glDisable(GL_DEPTH_TEST)     glEnable(GL_STENCIL_TEST)     glViewport(0, 0, 2560,1440)#printer.resolution.x, printer.resolution.y)      # Bind the target framebuffer     sliceFbo = glGenFramebuffers(1) </code></pre>"
53472976	javascript/python/flask - formData not sending uploaded file to server	javascript|python|flask|multipartform-data	2018-11-25 23:16:07.250000 UTC	"<p>I'm trying to send a user uploaded file to my server through an <code>axios</code> POST request with <code>formData</code> and it is not working.</p>  <p>What doesn't work:</p>  <pre><code>const formData = new FormData(); formData.append('batch', batch); formData.append('file', files[i]);  console.log(formData.get('batch')); // outputs 894489 correctly console.log(formData.get('file')); // outputs fileObject correctly  axios.post('/api/upload', formData, {     headers: {         'Content-Type': 'multipart/form-data'         }     }); </code></pre>  <p>response from python</p>  <pre><code>print(request.form) # ImmutableMultiDict([('batch', '894489')]) # Why is the file missing? </code></pre>  <p>What does work:</p>  <pre><code>const formData = new FormData(); formData.append('batch', batch); formData.append('file', 'test');  console.log(formData.get('batch')); // outputs 894489 correctly console.log(formData.get('file')); // outputs 'test' correctly  axios.post('/api/upload', formData, {     headers: {         'Content-Type': 'multipart/form-data'         }     }); </code></pre>  <p>response from python</p>  <pre><code>print(request.form) # ImmutableMultiDict([('batch', '894489'), ('file', 'test')]) # Why is the file appearing? </code></pre>  <p>My <code>files[i]</code> is a valid file and is being recognized in JS. This is confirmed with the <code>console.log(formData.get('file'));</code> which always outputs the correct file. </p>  <p>Somewhere along the way the file is lost and unavailable to python yet strangely if I append a string instead, it works. Any ideas?</p>"	"<p>From inside Flask, the files should be accessible using this:</p>  <pre><code>request.files['file'] </code></pre>"
53474169	"how do i parse <script type=""text/javascript""> python beautifulsoup4"	python|beautifulsoup	2018-11-26 02:47:33.997000 UTC	"<pre><code>&lt;script type=""text/javascript""&gt; document.location = 'content_that_I_want_to_parse'; &lt;/script&gt; </code></pre>  <p>it is simple but I couldn't find something like this as most of questions were made for json</p>  <p>could someone guide me how to parse this?</p>  <pre><code>page = s.get('http://theaddress.com') soup=bs(page.text,'html.parser') result = soup.find('script'}.get('value') </code></pre>  <p>the result i want is as below</p>  <pre><code>content_that_I_want_to_parse </code></pre>"	"<p>Here, tested: <code>print(soup.script.text)</code></p>"
53504126	How to integrate python api request and response with javascript	javascript|python|html|api|file-upload	2018-11-27 16:32:01.610000 UTC	"<p>I have set of api's in server.py namely for file upload, pre-processing data for analytics etc. I want to integrate and make the api calls via the UI. I am not able to start even with the file upload since i am not able to interact with the API through my UI. Kindly help me in understanding how to integrate the UI with the API. </p>  <p>API is returning output in JSON file:</p>  <p>code snippet server.py:   </p>  <pre><code>from flask import Flask, render_template, request from flask_restplus import Resource, Api, fields, reqparse import os import pandas import json from werkzeug.contrib.fixers import ProxyFix from waitress import serve from werkzeug.datastructures import FileStorage import parser import uuid import importlib @app.route('/dashboard') def dashboard(): return render_template('dashboard.html') @api.route('/api/v1/fileupload') class upload_file(Resource): @api.expect(file_upload_model) def post(self):     try:         requestid = uuid.uuid4().hex         parser = reqparse.RequestParser()         parser.add_argument('file', type=FileStorage, location='files',          required=True)         args = parser.parse_args()         # checking if the file is present or not.         #if 'file' not in request.files:         #    return ""No file found""         file = args.get('file')          #file = request.files['file']          path = os.path.join(os.path.join(server_path, requestid + ""\\"" +          ""rawdata""))         if os.path.exists(path):             pass         else:             os.makedirs(path)          abs_path = path + ""\\"" + file.filename         file.save(abs_path)         return {""requestid"": requestid, ""upload_status"": ""success"",          ""location"": abs_path}, 200         except Exception as e:         requestid = None         return {""requestid"": requestid, ""upload_status"": ""failed::"" + str(e)          , ""location"": """"} </code></pre>  <p>code snippet for dashboard.html</p>  <pre><code>&lt;form class=""navbar-brand"" method=""POST""&gt;     &lt;script type=""text/javascript"" language=""javascript""&gt;         function checkfile(sender) {             var validExts = new Array("".csv"");             var fileExt = sender.value;             fileExt = fileExt.substring(fileExt.lastIndexOf('.'));             if (validExts.indexOf(fileExt) &lt; 0) {                 alert(""Invalid file selected, please select only"" +                     validExts.toString() +""file"");                 return false;             }             else return true;         }     &lt;/script&gt;     &lt;div&gt;Select a file to Upload: &lt;br&gt;         &lt;input type=""file"" name=""fileupload""                value=""fileupload"" id=""fileupload"" onchange=checkfile(this) /&gt; &lt;br&gt;         &lt;small&gt;please select .csv file only&lt;/small&gt;     &lt;/div&gt; &lt;/form&gt; </code></pre>"	"<p>You appear to be missing the entire part where you upload the file. This code should get you there.</p>  <ul> <li>Removed your <code>checkfile</code> function, and used the <code>accept</code> attribute</li> <li>Added an event listener for the form submit and upload</li> <li>Prevent the page from redirecting, you can decide what to display</li> <li>The <code>output</code> div will show an upload status.</li> </ul>  <h3>Solution</h3>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var form = document.forms.namedItem(""upload-form"");  form.addEventListener('submit', function(e) {   var output = document.getElementById(""output"");   var data = new FormData(this);   var request = new XMLHttpRequest();    request.open(""POST"", ""/api/v1/fileupload"", true);   request.onload = function(e) {     if (request.status == 200) {       output.innerHTML = ""Uploaded!"";     } else {       output.innerHTML = ""Error "" + request.status + "" occurred when trying to upload your file.&lt;br \/&gt;"";     }   };    request.send(data);   e.preventDefault(); }, false);</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;form class=""navbar-brand"" name=""upload-form"" enctype=""multipart/form-data""&gt;   &lt;div&gt;Select a file to Upload: &lt;br&gt;       &lt;input         type=""file""         name=""fileupload""         id=""fileupload""         accept="".csv""       /&gt; &lt;br&gt;       &lt;small&gt;please select .csv file only&lt;/small&gt;   &lt;/div&gt;   &lt;button type=""submit""&gt;Upload&lt;/button&gt; &lt;/form&gt; &lt;div id=""output""&gt;&lt;/div&gt;</code></pre> </div> </div> </p>"
53507059	Porting JavaScript/WebGL to Python/OpenGL	javascript|python|node.js|opengl|webgl	2018-11-27 19:47:16.923000 UTC	"<p>I am porting some WebGL code in node/javascript to PyOpenGL code in python3. Although the python code does open an OpenGL window, it does not display the rectangle with the grid pattern. I have reduced the program to its minimum for troubleshooting, but cannot find the problem. Any ideas/pointers?</p>  <p>Below the python code and below that the original javascript code.</p>  <p>Python3:</p>  <pre><code>import OpenGL from OpenGL.GL import * from OpenGL.GLU import * from OpenGL.GLUT import * from OpenGL.GL.shaders import * from OpenGL.GL.framebufferobjects import * import numpy  class Viewport:     base = None     # Model object     window=None     windowsize=(256*3,144*3)      def buildShader(self,txt, type):         #print (""buildShader"",txt,type)         s = glCreateShader(type)         glShaderSource(s, txt)         glCompileShader(s)          if (not glGetShaderiv(s, GL_COMPILE_STATUS)):             raise RuntimeError (""Could not compile shader:"" , glGetShaderInfoLog(s))         return s      def setUniforms(self,prog,modelvar,names):         modelvar['uniform'] = {}         for u in names:             modelvar['uniform'][u] = glGetUniformLocation(prog, u)         return modelvar      def setAttribs(self,prog, modelvar,names):         modelvar['attrib'] = {}         for attrib in names:             modelvar['attrib'][attrib]=glGetAttribLocation(prog,attrib)         return modelvar      def makeProgram(self,modelvar,vert, frag, uniforms, attribs):         v = self.buildShader(vert, GL_VERTEX_SHADER)         f = self.buildShader(frag, GL_FRAGMENT_SHADER)          prog = glCreateProgram()         glAttachShader(prog, v)         glAttachShader(prog, f)         glLinkProgram(prog)          #if (not glGetProgramParameter(prog, GL_LINK_STATUS)):         if (not glGetProgramiv(prog, GL_LINK_STATUS)):             raise RuntimeError(""Could not link program:"" + glGetProgramInfoLog(prog))          self.setUniforms(prog, modelvar, uniforms)         self.setAttribs(prog, modelvar, attribs)          return prog      def makeBase(self):         self.base = {}         self.base['prog'] = self.makeProgram(             self.base,             open('base.vert').read(),             open('base.frag').read(),             ['view', 'zmin', 'aspect'], ['v'])          self.base['vert'] = glGenBuffers(1) #createBuffer()         glBindBuffer(GL_ARRAY_BUFFER, self.base['vert'])         glBufferData(             GL_ARRAY_BUFFER,             numpy.array([-1, -1,                         -1,  1,                         1, -1,                         1,  1],dtype=numpy.float32),             GL_STATIC_DRAW)          self.base['frac'] = 0.5         return self.base      def drawBase(self,base):         glUseProgram(self.base['prog'])         M=numpy.array([ 0.26 , 0.22 , 0.18 , 0, -0.4 , 0.13 , 0.11 , 0, 0 , 0.42 , -0.1 , 0, 0 , 0 , 0 , 1])         glUniformMatrix4fv(self.base['uniform']['view'], 1, False, M)#self.viewMatrix())         printer_aspectRatio=1.6         glUniform1f(self.base['uniform']['aspect'], printer_aspectRatio)          glBindBuffer(GL_ARRAY_BUFFER, self.base['vert'])         glEnableVertexAttribArray(self.base['attrib']['v'])         glVertexAttribPointer(self.base['attrib']['v'], 2, GL_FLOAT, False, 0, 0)          glDrawArrays(GL_TRIANGLE_STRIP, 0, 4)       def draw(self):          glClearColor(1, 1, 1, 1)         glClear(GL_COLOR_BUFFER_BIT)         self.drawBase(self.base)         glutSwapBuffers()        def __init__(self):          glutInit(sys.argv)         glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH)          glutInitWindowSize(self.windowsize[0],self.windowsize[1])             glutInitWindowPosition(0,0)             self.window=glutCreateWindow('hackathon-slicer')         glutDisplayFunc(self.draw)          glEnable(GL_DEPTH_TEST)          self.base=self.makeBase()          glutMainLoop()         self.draw() </code></pre>  <p>The file base.frag:</p>  <pre><code>varying /*mediump*/ vec2 uv;  void main() {    /*mediump*/ float u = mod(uv.x * 10.0, 1.0);    /*mediump*/ float v = mod(uv.y * 10.0, 1.0);    /*mediump*/ float t = (u &gt; 0.1 &amp;&amp; u &lt; 0.9 &amp;&amp;                    v &gt; 0.1 &amp;&amp; v &lt; 0.9) ? 0.3 : 0.5;    gl_FragColor = vec4(t, t, t, 1); } </code></pre>  <p>The file base.vert:</p>  <pre><code>attribute vec2 v; // Vertex position  uniform mat4 view; // Model transform matrix uniform /*mediump*/ float zmin; // Z position of plane uniform /*mediump*/ float aspect; // Aspect ratio  varying /*mediump*/ vec2 uv;  void main() {    gl_Position = view * vec4(v.x * aspect, v.y, zmin - 0.01, 1);    gl_Position.w = (gl_Position.z + 1.0);    uv = (vec2(v.x * aspect, v.y) + 1.0) / 2.0; } </code></pre>  <p>The javascript code uses the same base.frag and vert files however the mediump words are not commented out. </p>  <p>The original javascript code:</p>  <pre><code>'use strict';  let _ = require('underscore'); let glslify = require('glslify');  let ui = require('./ui.js'); let printer = require('./printer.js');  let canvas = document.getElementById(""canvas""); let gl = canvas.getContext(""experimental-webgl"");  let base = makeBase();  function buildShader(txt, type){     let s = gl.createShader(type);     gl.shaderSource(s, txt);     gl.compileShader(s);     return s; }  function setUniforms(prog, u){     prog.uniform = {};     _.each(u, function(u){ prog.uniform[u] = gl.getUniformLocation(prog, u); }); }  function setAttribs(prog, a){     prog.attrib = {};     _.each(a, function(a){ prog.attrib[a] = gl.getAttribLocation(prog, a); }); }  function makeProgram(vert, frag, uniforms, attribs){     let v = buildShader(vert, gl.VERTEX_SHADER);     let f = buildShader(frag, gl.FRAGMENT_SHADER);      let prog = gl.createProgram();     gl.attachShader(prog, v);     gl.attachShader(prog, f);     gl.linkProgram(prog);      setUniforms(prog, uniforms);     setAttribs(prog, attribs);      return prog; }  function makeBase(){     let base = {};     base.prog = makeProgram(         glslify(__dirname + '/../shaders/base.vert'),         glslify(__dirname + '/../shaders/base.frag'),         ['view', 'zmin', 'aspect'], ['v']);      base.vert = gl.createBuffer();     gl.bindBuffer(gl.ARRAY_BUFFER, base.vert);     gl.bufferData(         gl.ARRAY_BUFFER,         new Float32Array([-1, -1,                           -1,  1,                            1, -1,                            1,  1]),         gl.STATIC_DRAW);      base.frac = 0.5;     return base; }   function drawBase(base){     gl.useProgram(base.prog);     let M=[ 0.26 , 0.22 , 0.18 , 0, -0.4 , 0.13 , 0.11 , 0, 0 , 0.42 , -0.1 , 0, 0 , 0 , 0 , 1];     gl.uniformMatrix4fv(base.prog.uniform.view, false, M);     gl.uniform1f(base.prog.uniform.aspect, printer.aspectRatio());      gl.bindBuffer(gl.ARRAY_BUFFER, base.vert);     gl.enableVertexAttribArray(base.prog.attrib.v);     gl.vertexAttribPointer(base.prog.attrib.v, 2, gl.FLOAT, false, 0, 0);      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4); }   function draw(){     gl.clearColor(1, 1, 1, 1);     gl.clear(gl.COLOR_BUFFER_BIT);     drawBase(base); }  function init(){     gl.enable(gl.DEPTH_TEST);     draw(); }  module.exports = {'init': init}; </code></pre>"	<p>I found that I do need to comment out <code>glEnable(GL_DEPTH_TEST)</code> in <strong>init</strong>. I do not understand why but it works :-)</p>
53507059	Porting JavaScript/WebGL to Python/OpenGL	javascript|python|node.js|opengl|webgl	2018-11-27 19:47:16.923000 UTC	"<p>I am porting some WebGL code in node/javascript to PyOpenGL code in python3. Although the python code does open an OpenGL window, it does not display the rectangle with the grid pattern. I have reduced the program to its minimum for troubleshooting, but cannot find the problem. Any ideas/pointers?</p>  <p>Below the python code and below that the original javascript code.</p>  <p>Python3:</p>  <pre><code>import OpenGL from OpenGL.GL import * from OpenGL.GLU import * from OpenGL.GLUT import * from OpenGL.GL.shaders import * from OpenGL.GL.framebufferobjects import * import numpy  class Viewport:     base = None     # Model object     window=None     windowsize=(256*3,144*3)      def buildShader(self,txt, type):         #print (""buildShader"",txt,type)         s = glCreateShader(type)         glShaderSource(s, txt)         glCompileShader(s)          if (not glGetShaderiv(s, GL_COMPILE_STATUS)):             raise RuntimeError (""Could not compile shader:"" , glGetShaderInfoLog(s))         return s      def setUniforms(self,prog,modelvar,names):         modelvar['uniform'] = {}         for u in names:             modelvar['uniform'][u] = glGetUniformLocation(prog, u)         return modelvar      def setAttribs(self,prog, modelvar,names):         modelvar['attrib'] = {}         for attrib in names:             modelvar['attrib'][attrib]=glGetAttribLocation(prog,attrib)         return modelvar      def makeProgram(self,modelvar,vert, frag, uniforms, attribs):         v = self.buildShader(vert, GL_VERTEX_SHADER)         f = self.buildShader(frag, GL_FRAGMENT_SHADER)          prog = glCreateProgram()         glAttachShader(prog, v)         glAttachShader(prog, f)         glLinkProgram(prog)          #if (not glGetProgramParameter(prog, GL_LINK_STATUS)):         if (not glGetProgramiv(prog, GL_LINK_STATUS)):             raise RuntimeError(""Could not link program:"" + glGetProgramInfoLog(prog))          self.setUniforms(prog, modelvar, uniforms)         self.setAttribs(prog, modelvar, attribs)          return prog      def makeBase(self):         self.base = {}         self.base['prog'] = self.makeProgram(             self.base,             open('base.vert').read(),             open('base.frag').read(),             ['view', 'zmin', 'aspect'], ['v'])          self.base['vert'] = glGenBuffers(1) #createBuffer()         glBindBuffer(GL_ARRAY_BUFFER, self.base['vert'])         glBufferData(             GL_ARRAY_BUFFER,             numpy.array([-1, -1,                         -1,  1,                         1, -1,                         1,  1],dtype=numpy.float32),             GL_STATIC_DRAW)          self.base['frac'] = 0.5         return self.base      def drawBase(self,base):         glUseProgram(self.base['prog'])         M=numpy.array([ 0.26 , 0.22 , 0.18 , 0, -0.4 , 0.13 , 0.11 , 0, 0 , 0.42 , -0.1 , 0, 0 , 0 , 0 , 1])         glUniformMatrix4fv(self.base['uniform']['view'], 1, False, M)#self.viewMatrix())         printer_aspectRatio=1.6         glUniform1f(self.base['uniform']['aspect'], printer_aspectRatio)          glBindBuffer(GL_ARRAY_BUFFER, self.base['vert'])         glEnableVertexAttribArray(self.base['attrib']['v'])         glVertexAttribPointer(self.base['attrib']['v'], 2, GL_FLOAT, False, 0, 0)          glDrawArrays(GL_TRIANGLE_STRIP, 0, 4)       def draw(self):          glClearColor(1, 1, 1, 1)         glClear(GL_COLOR_BUFFER_BIT)         self.drawBase(self.base)         glutSwapBuffers()        def __init__(self):          glutInit(sys.argv)         glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE | GLUT_DEPTH)          glutInitWindowSize(self.windowsize[0],self.windowsize[1])             glutInitWindowPosition(0,0)             self.window=glutCreateWindow('hackathon-slicer')         glutDisplayFunc(self.draw)          glEnable(GL_DEPTH_TEST)          self.base=self.makeBase()          glutMainLoop()         self.draw() </code></pre>  <p>The file base.frag:</p>  <pre><code>varying /*mediump*/ vec2 uv;  void main() {    /*mediump*/ float u = mod(uv.x * 10.0, 1.0);    /*mediump*/ float v = mod(uv.y * 10.0, 1.0);    /*mediump*/ float t = (u &gt; 0.1 &amp;&amp; u &lt; 0.9 &amp;&amp;                    v &gt; 0.1 &amp;&amp; v &lt; 0.9) ? 0.3 : 0.5;    gl_FragColor = vec4(t, t, t, 1); } </code></pre>  <p>The file base.vert:</p>  <pre><code>attribute vec2 v; // Vertex position  uniform mat4 view; // Model transform matrix uniform /*mediump*/ float zmin; // Z position of plane uniform /*mediump*/ float aspect; // Aspect ratio  varying /*mediump*/ vec2 uv;  void main() {    gl_Position = view * vec4(v.x * aspect, v.y, zmin - 0.01, 1);    gl_Position.w = (gl_Position.z + 1.0);    uv = (vec2(v.x * aspect, v.y) + 1.0) / 2.0; } </code></pre>  <p>The javascript code uses the same base.frag and vert files however the mediump words are not commented out. </p>  <p>The original javascript code:</p>  <pre><code>'use strict';  let _ = require('underscore'); let glslify = require('glslify');  let ui = require('./ui.js'); let printer = require('./printer.js');  let canvas = document.getElementById(""canvas""); let gl = canvas.getContext(""experimental-webgl"");  let base = makeBase();  function buildShader(txt, type){     let s = gl.createShader(type);     gl.shaderSource(s, txt);     gl.compileShader(s);     return s; }  function setUniforms(prog, u){     prog.uniform = {};     _.each(u, function(u){ prog.uniform[u] = gl.getUniformLocation(prog, u); }); }  function setAttribs(prog, a){     prog.attrib = {};     _.each(a, function(a){ prog.attrib[a] = gl.getAttribLocation(prog, a); }); }  function makeProgram(vert, frag, uniforms, attribs){     let v = buildShader(vert, gl.VERTEX_SHADER);     let f = buildShader(frag, gl.FRAGMENT_SHADER);      let prog = gl.createProgram();     gl.attachShader(prog, v);     gl.attachShader(prog, f);     gl.linkProgram(prog);      setUniforms(prog, uniforms);     setAttribs(prog, attribs);      return prog; }  function makeBase(){     let base = {};     base.prog = makeProgram(         glslify(__dirname + '/../shaders/base.vert'),         glslify(__dirname + '/../shaders/base.frag'),         ['view', 'zmin', 'aspect'], ['v']);      base.vert = gl.createBuffer();     gl.bindBuffer(gl.ARRAY_BUFFER, base.vert);     gl.bufferData(         gl.ARRAY_BUFFER,         new Float32Array([-1, -1,                           -1,  1,                            1, -1,                            1,  1]),         gl.STATIC_DRAW);      base.frac = 0.5;     return base; }   function drawBase(base){     gl.useProgram(base.prog);     let M=[ 0.26 , 0.22 , 0.18 , 0, -0.4 , 0.13 , 0.11 , 0, 0 , 0.42 , -0.1 , 0, 0 , 0 , 0 , 1];     gl.uniformMatrix4fv(base.prog.uniform.view, false, M);     gl.uniform1f(base.prog.uniform.aspect, printer.aspectRatio());      gl.bindBuffer(gl.ARRAY_BUFFER, base.vert);     gl.enableVertexAttribArray(base.prog.attrib.v);     gl.vertexAttribPointer(base.prog.attrib.v, 2, gl.FLOAT, false, 0, 0);      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4); }   function draw(){     gl.clearColor(1, 1, 1, 1);     gl.clear(gl.COLOR_BUFFER_BIT);     drawBase(base); }  function init(){     gl.enable(gl.DEPTH_TEST);     draw(); }  module.exports = {'init': init}; </code></pre>"	"<p>If a array buffer is bound, then the 6th parameter of <a href=""https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml"" rel=""nofollow noreferrer""><code>glVertexAttribPointer</code></a> is treated as a byte offset into the buffer object's data store. But the type of the parameter has to be a pointer.</p>  <p>In your case the offset is 0. This means, either you have to use the built-in constant <a href=""https://docs.python.org/3/library/constants.html"" rel=""nofollow noreferrer""><code>None</code></a></p>  <pre><code>glVertexAttribPointer(self.base['attrib']['v'], 2, GL_FLOAT, False, 0, None) </code></pre>  <p>or you have to use a <a href=""https://docs.python.org/3/library/ctypes.html"" rel=""nofollow noreferrer""><code>ctypes.cast</code></a>, which casts 0 to the type <code>ctypes.c_void_p</code>: </p>  <pre><code>glVertexAttribPointer(self.base['attrib']['v'], 2, GL_FLOAT, False, 0,     ctypes.cast(0, ctypes.c_void_p)) </code></pre>  <hr>  <p>Since the depth test is enabled by</p>  <pre><code>glEnable(GL_DEPTH_TEST) </code></pre>  <p>you have to clear the depth buffer too, at the begin of every frame:</p>  <pre><code>glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT ) </code></pre>"
53510125	How can I visually display a block of Python code utilizing HTML/CSS and Javascript?	javascript|html|css	2018-11-28 00:05:16.110000 UTC	"<p>I would like to display blocks of code as a site like StackOverflow does:</p>  <pre><code>def func(A):     result = 0     n = len(A)     while n &gt; 1:         n = n/2         result = result + min(A[1,...,n])     return result </code></pre>  <p>It properly colors, formats and spaces all the code once it has been designated as a code block. I would like this to happen in my site as well. All code blocks will be python, by the way.</p>  <p>The font, background and spacing seem easy enough to implement (just designate a class in which the background is grey, the font is that font and the spacing is monospace).</p>  <p>However, I am wondering how to color the text appropriately? I am assuming I would need to use JavaScript, and loop through all the words in the code block, checking if they match a list of words that I have preset to become certain colors.</p>  <p>Let me know if I made any incorrect assumptions anywhere here, or things that may complicate my approach.</p>"	"<h1>Update 2021-05-14:</h1> <ul> <li>Updated code snippets so they can run when the <code>file://</code> protocol is used</li> <li>Changed CodeMirror's links to point to a proper CDN</li> </ul> <p>Snippets still require an internet connection to be able to download CodeMirror</p> <h1>Update 2020-11-09:</h1> <p>It's been quite some time but if the only thing you want is to highlight code there's a lighter alternative than implementing a read-only, fully-fledged code editor:</p> <p>CodeMirror has an addon that does precisely the highlighting part without all of the fancy functionality of the full editor, the only downside is that you don't get the option to render line numbers but well...</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=""utf-8""&gt;     &lt;title&gt;CodeMirror RunMode Highlighting Example&lt;/title&gt;     &lt;link rel=""stylesheet"" href=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/lib/codemirror.min.css""&gt;     &lt;script src=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/addon/runmode/runmode-standalone.min.js""&gt;&lt;/script&gt;     &lt;script src=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/mode/python/python.min.js""&gt;&lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;pre&gt;&lt;code id=""python_code""&gt;def func(A):     result = 0     n = len(A)     while n &gt; 1:         n = n/2         result = result + min(A[1,...,n])     return result&lt;/code&gt;&lt;/pre&gt;     &lt;script type=""text/javascript""&gt;         window.onload = function(){             var codeElement = document.getElementById('python_code');             // Add code mirror class for coloring (default is the theme)             codeElement.classList.add( 'cm-s-default' );             var code = codeElement.innerText;              codeElement.innerHTML = """";              CodeMirror.runMode(               code,               'python',               codeElement             );         };     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt;</code></pre> </div> </div> </p> <p><strong>Source</strong>: <a href=""https://codemirror.net/demo/runmode.html"" rel=""nofollow noreferrer"">https://codemirror.net/demo/runmode.html</a></p> <p>P.S. There's also a &quot;colorizer&quot; addon that colorizes <code>pre</code> elements automatically, look on how to implement it in the CodeMirror manual</p> <h1>Original Answer</h1> <p>You can use CodeMirror's read-only mode in a <code>code</code> element. Code Mirror itself has several languages to pick, in the example I use the python mode to colorize the code as python. Basically what0 I'm doing in the example is load the library, load the language mode for the coloring, and whenever the page is loaded, we get the element with an id, get the code, then delete the contents of that element and generate a colorized version of the code, you can tweak the <code>lineNumbers</code>if you want. Hope this works for you :)</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset=""utf-8""&gt;     &lt;title&gt;CodeMirror Read-only Highlighting Example&lt;/title&gt;     &lt;link rel=""stylesheet"" href=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/lib/codemirror.min.css""&gt;     &lt;script src=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/lib/codemirror.min.js""&gt;&lt;/script&gt;     &lt;script src=""https://cdn.jsdelivr.net/npm/codemirror@5.61.0/mode/python/python.min.js""&gt;&lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;pre&gt;&lt;code id=""python_code""&gt;def func(A):     result = 0     n = len(A)     while n &gt; 1:         n = n/2         result = result + min(A[1,...,n])     return result&lt;/code&gt;&lt;/pre&gt;     &lt;script type=""text/javascript""&gt;         window.onload = function(){             var codeElement = document.getElementById('python_code');             var code = codeElement.innerText;                        codeElement.innerHTML = """";                        var codeMirror = CodeMirror(               codeElement,               {                 value: code,                 mode: ""python"",                 theme: ""default"",                 lineNumbers: false,                 readOnly: true               }             );         };     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt;</code></pre> </div> </div> </p>"
53510734	Use Python to run a javascript in background using Thread	javascript|python|node.js|pyqt|pyqt5	2018-11-28 01:28:10.133000 UTC	"<p>I am currently working on building a simple word editor using PYQT5 as the main GUI and using Node.js as the text area and do some words filtering stuffs. Here are my code for the PYQT part:</p>  <pre><code>import threading  from PyQt5 import QtCore, QtGui, QtWidgets from Naked.toolshed.shell import execute_js, muterun_js  class Ui_MainWindow(object):     def setupUi(self, MainWindow):         MainWindow.setObjectName(""MainWindow"")         MainWindow.resize(1090, 780)         self.centralwidget = QtWidgets.QWidget(MainWindow)         self.centralwidget.setObjectName(""centralwidget"")         self.gridLayout = QtWidgets.QGridLayout(self.centralwidget)         self.gridLayout.setObjectName(""gridLayout"")         self.webView = QtWebEngineWidgets.QWebEngineView(self.centralwidget)         self.webView.setUrl(QtCore.QUrl(""http://127.0.0.1:3000/""))         self.webView.setObjectName(""webView"")         self.gridLayout.addWidget(self.webView, 0, 0, 1, 1)         MainWindow.setCentralWidget(self.centralwidget)          self.retranslateUi(MainWindow)         QtCore.QMetaObject.connectSlotsByName(MainWindow)      def retranslateUi(self, MainWindow):         _translate = QtCore.QCoreApplication.translate         MainWindow.setWindowTitle(_translate(""MainWindow"", ""MainWindow""))  from PyQt5 import QtWebEngineWidgets   def loadJS():     #try to use threading here to run it in background but still no effects      js = threading.Thread(target=execute_js(""../Editor/Engine/index.js""))     js.daemon=True     js.start()    def loadGUI():     app = QtWidgets.QApplication(sys.argv)     MainWindow = QtWidgets.QMainWindow()     ui = Ui_MainWindow()     ui.setupUi(MainWindow)     MainWindow.show()     sys.exit(app.exec_())    if __name__ == ""__main__"":     import sys     loadJS()     loadGUI() </code></pre>  <p>My expected result is using WebView in PYQT5 to load my localhost so I can get something like this:</p>  <p>Expected output</p>  <p><img src=""https://i.stack.imgur.com/1mA3k.png"" alt=""""></p>  <p>My Node.js script runs just fine and does all its job, but there's no way to run my main GUI. From my understanding, when run, the system waits for loadJS() to finish its job then call loadGUI(). So I tried to use Threading to put loadJS() into background and keep it running while the loadGUI() in the front. However, it seems to have no effects. I am not sure if I am using Threading wrong or misunderstand its purpose. Any help is appreciated. </p>"	"<p>In your initial code you are invoking directly in the function in main thread, instead you have to pass as target to the name of the function and in args to the arguments as a tuple.</p>  <pre><code>js = threading.Thread(target=execute_js, args=(""../Editor/Engine/index.js"",)) js.daemon=True js.start() </code></pre>"
53512646	Returning var from JavaScript to Python	javascript|python|jquery|python-webbrowser	2018-11-28 05:23:04.560000 UTC	"<p>I have an HTML container like this:</p>  <pre><code>&lt;div class=""col-6""&gt;   &lt;div class=""card ""&gt;     &lt;div class=""card-header py-2""&gt;Container Left&lt;/div&gt;     &lt;div id=""leftContainer"" class=""list-group"" style=""height:225px; overflow-y: scroll""&gt;         {% for item in item_history %}            &lt;a href=""#"" data-set=""5000"" id = ""{{forloop.counter}}"" class=""list-group-item py-0 list-group-item-action""&gt;{{ item }}&lt;/a&gt;         {% endfor %}                           &lt;/div&gt;   &lt;/div&gt; &lt;/div&gt;  &lt;p id = ""output""&gt;&lt;/p&gt;    &lt;!-- For DEBUG output --&gt; </code></pre>  <p>And I have a JS like this of which half is mine. I am able to print the value in the var <code>item_selected</code> back to the HTML page where the <code>&lt;p id=""output&gt;""</code> is at.</p>  <pre><code>&lt;script&gt;     $(""#leftContainer &gt; a"").click(function(event){         event.preventDefault();         $(""#leftContainer &gt; a"").removeClass(""active"");         $(this).addClass(""active"");          var leftDataSet = parseInt($(this).attr(""data-set""));                 var item_selected = $(this).text();         document.getElementById(""output"").innerHTML = item_selected          // Found this while googling, supposed to send data back to Python.         var xmlhttp;         if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari             xmlhttp=new XMLHttpRequest();         }         // xmlhttp.onreadystatechange=function(){ // really not sure what this block does?!         //     if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){         //         document.getElementById(""output"").innerHTML=xmlhttp.responseText;         //     }         // }         xmlhttp.open(""GET"",item_selected,true);  // just send item_selected         xmlhttp.send();     }); &lt;/script&gt; </code></pre>  <p>I want to send the selection from the list box/container upon selection, which is currently stored in the JavaScript in the variable <code>item_selected</code>. I want to send this info back to Python which renders this page/template.</p>  <p>Can you help; I know Python 3, suck at JS/JQuery. My Framework used is Django. I render this page from the backend using <code>render</code> method like this:</p>  <pre><code># myapp/views.py def render_view_results(self, request, projectid):     return render(request, 'myapp/index.html',{'item_history':items}) </code></pre>  <p>Also, I do not want to send info back from HTML/JS to Python using the GET method suggested <a href=""https://stackoverflow.com/questions/32350511/send-data-from-javascript-to-python"">here</a></p>"	
53517242	click and select value of javascript drop down menu using python 2 selenium	javascript|python|selenium|drop-down-menu	2018-11-28 10:26:43.730000 UTC	"<p>I am trying to click on following code and select value ""SLAHOLD""</p>  <pre><code>&lt;div aria-live=""polite"" id=""mx5050_holder"" class=""bc""&gt;&lt;input aria-required=""true"" role=""combobox"" aria-autocomplete=""none"" id=""mx5050"" class=""fld text cbt  ibfld fld_req"" ctype=""textbox"" li=""mx5051"" liclick=""1"" maxlength=""10"" style="";width:75.0px;"" sue=""1"" readonly=""readonly"" type=""text"" title=""New Status"" value="""" ov="""" work=""1"" fldinfo=""{&amp;quot;length&amp;quot;:&amp;quot;10&amp;quot;,&amp;quot;inttype&amp;quot;:&amp;quot;1&amp;quot;,&amp;quot;eventpriority&amp;quot;:1,&amp;quot;required&amp;quot;:true}"" originalvalue="""" prekeyvalue="""" stoptcclick=""false"" keydown=""true""&gt;&lt;/div&gt; </code></pre>  <p>Here is javascript code, which I need to select from above menu:</p>  <pre><code>javascript: topLevelMenus['shared'].menuClick({""id"":""0_SLAHOLD_OPTION"",""text"":""SLA Hold"",""value"":""0_SLAHOLD_OPTION"",""target"":""incident_STATUS_menus"",""event"":""click""}); </code></pre>  <p>I tried few options but it rather does nothing, here is what I got now:</p>  <pre><code>driver.find_element_by_xpath(""//*[@id='mx5050']"").click()    time.sleep(2) driver.find_element_by_xpath(""//*[@id='menuholdertd']"").click()   time.sleep(2) </code></pre>  <p>Python version is 2.7.5</p>  <p>Many thanks in advance. </p>"	"<p>Regardless of my earlier comments, what happens if you try sending these keys to the combobox:</p>  <pre><code>elem = driver.find_element_by_id(""mx5050"")  elem.send_keys(""SLA Hold"") </code></pre>"
53522417	is python's json.dumps output safe for javascript?	javascript|python|json	2018-11-28 15:04:09.603000 UTC	<p>I want to know if python's <code>json.dumps</code> method's output is safe for rendering directly into html/js script without escaping.</p>  <pre><code>my_dict = {...} my_dict_json_str = json.dumps(my_dict) </code></pre>  <p>and then rendering this</p>  <pre><code>&lt;script&gt;     var my_dict = {{my_dict_json_str}}; &lt;/script&gt; </code></pre>  <p>Does this work every time or are there some characters that will break it?</p>	"<p><code>json.dumps</code> is not safe for html use without proper escaping.</p>  <pre><code>&gt;&gt;&gt; json.dumps({""one"": ""&lt;/script&gt;""}) '{""one"": ""&lt;/script&gt;""}' </code></pre>  <p>This behaviour can break your html.</p>"
53532488	Python html-requests render() doesn't render javascript elements	python|python-3.x|web-scraping|python-requests|python-requests-html	2018-11-29 05:36:08.610000 UTC	"<p>I am attempting to scrape a website which as well as requiring a login, the core data is rendered with javascript and XHR files. I am using the <code>html-requests</code> library, however the <code>render()</code> function appears to have no effect on the webpage. Here is my code:</p>  <pre><code>import requests_html as requests import bs4 as bs  # variables...  # def createForm()...  with requests.HTMLSession() as session:             print(""retrieving page..."")             initial_response = session.get(login_url)              print(""logging in..."")             response = session.post(url = login_url, data = createForm(initial_response))             page_html = session.get(target_url)              page = bs.BeautifulSoup(page_html.content, 'lxml')             html_before = page.prettify()              print('rendering...')             page_html.html.render(sleep = 5)              page_rendered = bs.BeautifulSoup(page_html.content, 'lxml')             html_after = page_rendered.prettify()              if html_before == html_after:                 print(""they are the same"") </code></pre>  <p>This is the html returned (the important bits):</p>  <pre><code>&lt;!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""&gt; &lt;html xmlns=""http://www.w3.org/1999/xhtml""&gt;  &lt;head&gt;   &lt;title&gt;    Home | Compass   &lt;/title&gt;   &lt;meta content=""IE=Edge"" http-equiv=""X-UA-Compatible""/&gt;   &lt;script src=""/cdn-cgi/apps/head/nXBUbHOMoxcWCnUqQqrCuyGGJ4s.js""&gt;   &lt;/script&gt;      Boring CSS...    &lt;meta content=""text/html;charset=utf-8"" http-equiv=""Content-type""/&gt;  &lt;/head&gt;  &lt;body class=""greyBody""&gt;      Dull JSON...  Compass.assemblyVersion = ""11.44.1.0"";Compass.isDev = false;Compass.organisationUserId = 1921;Compass.organisationUserSussiId = ""SAGE.ALLEN"";Compass.organisationUserBaseRole = 1;Compass.organisationUserRoles = { ""AfterHoursAccess"": true, ""MyFilesBase"": true, ""StaffStudentsMisc"": true, ""StudentsMisc"": true};Compass.schoolId = ""shenton.wa.edu.au"";Compass.schoolName = ""Shenton College"";Compass.schoolPrimaryFqdn = ""shenton-wa.compass.education"";Compass.headAncestorId = ""shenton.wa.edu.au"";Compass.hasChildOrganisations = false;Compass.isInHierarchy = false;Compass.isTargetingAncestry = false;   &lt;/script&gt;   &lt;a href=""/Communicate/Documentation/Help.aspx"" style=""position: absolute; left: -999px""&gt;    Help   &lt;/a&gt;   &lt;form action=""./"" id=""aspnetForm"" method=""post""&gt;    &lt;div class=""aspNetHidden""&gt;     &lt;input id=""__EVENTTARGET"" name=""__EVENTTARGET"" type=""hidden"" value=""""/&gt;     &lt;input id=""__EVENTARGUMENT"" name=""__EVENTARGUMENT"" type=""hidden"" value=""""/&gt;     &lt;input id=""__VIEWSTATE"" name=""__VIEWSTATE"" type=""hidden"" value=""cUphbVG2sD46yFu7rFLU15w0eiJn+7KXkA6I6Cg/7RQ9m3rwlz5poc6KdcuOMApzHcafUPq70DbpviYl6V7vDYHgLMx23YF8OtMtdcmxVSk=""/&gt;    &lt;/div&gt;    &lt;script type=""text/javascript""&gt;     //&lt;![CDATA[ var theForm = document.forms['aspnetForm']; theForm = document.aspnetForm; } }heForm.submit();GUMENT.value = eventArgument;= false)) { } //]]&gt;    &lt;/script&gt;    &lt;script src=""/WebResource.axd?d=pynGkmcFUV13He1Qd6_TZMBp8pi1aG3kj_Rrf_NckYpQU5qPM8p1FZ-Rik-uln5rcqPDnR_gxYalKXvDaBNyhg2&amp;amp;t=636165368714134089"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""/ScriptResource.axd?d=NJmAwtEo3Ipnlaxl6CMhvk3jMxAVfdhwj8EfOKm3TxozcZHxkgtaPL9w9WaPcaq30sskp_Glm4jiP922KJP1an86NqAQUdSFO5rhKIKoAuO5v3uoNlAezbrUkCluOH1LV_F9OB_HI13vUK6I2eQlLQ80jzjIESOQbg5oZuzg3A01&amp;amp;t=ffffffffd416f7fc"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""/ScriptResource.axd?d=dwY9oWetJoJoVpgL6Zq8OJy60eKvb9zs3HNOFEuh2HK-a1JlTWrINdUt4GmfnVpd-vC-hGQfNOA-_hpGAIQxLJ6TRvLcoTQZ7vzC5ouXwZ7EB1Rqgo_p4dWNsoX1AAW-I0gKht_6IBwAHOTP4LV38H7v4PjwKJBs7h2NgozR47s1&amp;amp;t=ffffffffd416f7fc"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/System/Scripts/4ed8095_javascript-resource-manager.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Common/Scripts/62cdce8_utility.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/System/Scripts/7c66c7e_ravenjs-loader.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/ext-js4.2.2/5de6c0f_ext-all.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/ce7ba4b_jquery-1.8.3.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Common/Scripts/81a11e3_autosuggest-widget.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/ef94bb5_jquery-json-2.3.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/5fee56b_jquery.elastic.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/b9aa653_jquery.simplemodal.1.4.3.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/moment/cdeefcf_moment-and-data.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/ext-js4.2.2/resources/js/8f9f704_ext-extensions-and-theme.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Common/Scripts/d3ac6df_impersonate-widget.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Common/Scripts/0d786b6_compass.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/System/Scripts/bb8b963_request-capture.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/System/Scripts/17975e6_external-resource-monitor.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/ckeditor/0d3caaa_ckeditor.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/Calendar/Scripts/625070f_calendar-and-extensions.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/PageScripts/583fb06_HomePage.Chronicle.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script src=""https://assets.compass.education/StaticAssetsK/PageScripts/9571a67_HomePage.min.js"" type=""text/javascript""&gt;    &lt;/script&gt;    &lt;script type=""text/javascript""&gt;     //&lt;![CDATA[ Sys.WebForms.PageRequestManager._initialize('ctl00$ctl04', 'aspnetForm', [], [], [], 90, 'ctl00'); //]]&gt;         &lt;/script&gt;        &lt;script type=""text/javascript""&gt;     });ersonateWindow.show();xt.create('Compass.widgets.ImpersonateWidget',   {});, function(e) {ggestions?sessionstate=readonly"",   Unremarkable HTML...  Encrypted:6SeqWGbwjzN6ZfMnVVAU1sXLmHGC06o6K+A6lAhEBFCLQgeQq6ZU810mqSzy0zNyMwUhKnrAlYfvvlTuy5xpIj4OkW4pGBLFN6PVai3RoevYQkgbvy9vqVBanzrNVfRGsMIE8kgq+8pJGtNiCveqQAvzLfhgHhm5QQ8/k4ShskzjZdRPX9MUNpa--&gt;kHWHQOxCM73dFIgYrWM6PexC+wA31RdtyPTEp7gRCb7ulIlQFSKresH2xPmdHNeLhA7mCefNrbBDMG7eJ5kqhLsh3QqbxMQ1IABdA42nGGSdw1GFkmRJYS06mNS4Cjp44cmQBt            &lt;script src=""https://assets.compass.education/StaticAssetsK/Scripts/Lib/e0c3e6b_LazyLoad.min.js"" type=""text/javascript""&gt;            &lt;/script&gt;            &lt;script type=""text/javascript""&gt;            &lt;/script&gt;            &lt;div class=""aspNetHidden""&gt;             &lt;input id=""__VIEWSTATEGENERATOR"" name=""__VIEWSTATEGENERATOR"" type=""hidden"" value=""CA0B0334""/&gt;            &lt;/div&gt;           &lt;/form&gt;          &lt;/body&gt;         &lt;/html&gt; </code></pre>  <p>I have not managed to decipher all the scripts as I am not experienced in javascript, although they appear to be fetching the data. Any explanation as to why these scripts are not running or any alternative solution (which is adequately fast) is appreciated. </p>"	
53552389	"Javascript on Python Django, hosted on pythonanywhere"	javascript|django	2018-11-30 06:27:53.977000 UTC	"<p>I'm teaching myself Django, and decided to try out some JS functionality. I included a simple text-changing function (from w3schools) in a JS script to try things out. The app is <code>blog</code>, and the JS script lives in <code>blog/static/blog/test.js</code>. There's only one function in there:</p>  <pre><code>function myFunction() {    document.getElementById(""demo-btn"").innerHTML = ""Text changed.""; } </code></pre>  <p>Which is linked to a button in <code>blog/templates/blog/post_list.html</code>, <code>id=""demo-btn""</code>.</p>  <p>Website live here: <a href=""http://andreyito.pythonanywhere.com"" rel=""nofollow noreferrer"">http://andreyito.pythonanywhere.com</a></p>  <p>It works fine on my localhost, but when I push it to <code>pythonanywhere</code>, nothing happens (clicking on the <code>Click me</code> button is supposed to change the text just above the button.) </p>  <p>This feels like a minor thing that I'm leaving out, but I haven't been able to easily troubleshoot this. Repo here:<a href=""https://github.com/Don86/djgirls"" rel=""nofollow noreferrer"">https://github.com/Don86/djgirls</a></p>"	"<p>Your <code>test.js</code> file is not loading in the pythonanywhere hosting:</p>  <p><a href=""https://i.stack.imgur.com/whcpN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/whcpN.png"" alt=""enter image description here""></a></p>  <p>You can see their documentation on how they work with static files. Also maybe you did not run <code>python manage.py collectstatic</code> which loads the file in the static directory. Please see the <a href=""https://docs.djangoproject.com/en/2.1/ref/contrib/staticfiles/"" rel=""nofollow noreferrer"">documentation</a> for more details. Also you can check how they setup the static files in this <a href=""https://help.pythonanywhere.com/pages/DjangoStaticFiles/"" rel=""nofollow noreferrer"">documentation</a>.</p>"
53555946	Extract javascript variables using Python regex	python|regex	2018-11-30 10:45:30.070000 UTC	"<p>I want to scrape some data from javascript in a website. I have used <code>Beautiful Soup</code> to extract all the comments of the webpage. However, since I could not find any good Javascript parser for Python, I am planning to extract the variables of interest and then eventually use <code>eval</code> to convert them to Python variables. However, I am not good at regular expressions and unable to write the code to extract the JS arrays.</p>  <p>Here is a sample of the data:</p>  <pre><code>var FirstColumnInGrid = ""partnername""; var strFlow4Display = ""Sell""; var strProduct4Display = ""Product"";  var strLanguage = ""en""; var col0 = [""World"",""Albania"",""Antigua and Barbuda"",""Argentina"",""Aruba"",""Australia"",""Austria"",""Bahrain"",""Barbados"",""Belgium"",""Belize"",""Bermuda"",""Bolivia"",""Bosnia and Herzegovina"",""Brazil"",""Canada"",""Cayman Islands"",""Chile"",""China"",""Colombia"",""Cote d'Ivoire"",""Croatia"",""Cuba"",""Curaçao"",""Cyprus"",""Denmark"",""Dominica"",""Dominican Republic"",""East Asia &amp; Pacific"",""Ecuador"",""Egypt, Arab Rep."",""El Salvador"",""Ethiopia(excludes Eritrea)"",""Europe &amp; Central Asia"",""Finland"",""France"",""Gabon"",""Georgia"",""Germany"",""Ghana"",""Greece"",""Grenada"",""Guam"",""Guatemala"",""Guyana"",""Haiti"",""Honduras"",""Hong Kong, China"",""India"",""Indonesia"",""North America"",""Norway"",""Oman"",""Other Asia, nes"",""Pakistan"",""Panama"",""Paraguay"",""Peru"",""Philippines"",""Poland"",""Portugal"",""Qatar"",""Romania""]; var col1 = [""2865381.57"",""82.56"",""95.26"",""212.68"",""1275.13"",""11229.17"",""2.92"",""39.09"",""4.06"",""211279.63"",""4.06"",""15.84"",""33.98"",""13.45"",""126.10"",""20007.63"",""1.21"",""6995.31"",""4220.84"",""1459.76"",""73.12"",""222.49"",""281.74"",""83.09"",""27.48"",""4308.36"",""94.65"",""2127.18"",""49178.45"",""352.75"",""43.11""]; var col2 = [""28.92"",""68.08"",""19.23"",""2.79"",""6.56"",""46.53"",""0.53"",""95.64"",""0.04"",""39.70"",""0.04"",""4.72"",""1.52"",""97.82"",""0.37"",""23.41"",""0.23"",""20.23"",""9.28"",""2.08"",""24.65"",""67.17"",""0.87"",""2.63"",""32.37"",""96.81"",""99.52"",""57.44"",""1.52"",""98.16"",""9.41"",""100.00"",""1.64"",""7.91"",""0.30"",""1.25"",""0.15"",""1.04"",""0.25"",""99.66"",""24.53"",""81.02"",""92.67"",""3.24"",""12.87"",""4.91"",""87.97"",""68.20"",""44.46"",""22.99"",""100.00"",""6.59"",""19.10"",""1.94"",""100.00"",""96.63"",""59.02"",""40.89""]; var col3 = [""10.34"",""5.98"",""4.60"",""0.02"","""",""10.17"","""",""2.87"",""0.34"",""10.13"",""0.00"",""0.93"","""",""15.98"",""0.06"",""17.06"","""",""6.34"",""0.20"",""0.29"","""",""3.87"","""","""",""7.00"",""22.05"","""",""0.17"","""",""0.22"",""7.30"",""0.63"",""0.33"",""""]; for (var i = 0; i &lt; 116; i++) { var row = {};row[""col0""] = col0[i]; row[""col1""] = col1[i]; row[""col2""] = col2[i]; row[""col3""] = col3[i]; row[""col4""] = col4[i]; row[""col5""] = col5[i]; partData[i] = row; } </code></pre>  <p>I want to extract the arrays <code>col1, col2, ...</code>. I have used the regex:</p>  <pre><code>col\d =  </code></pre>  <p>to match the first part, but I cannot seem to get it to match till the end, that is, till <code>]</code>.</p>  <p>I have tried using:</p>  <pre><code>col\d = \[*\] </code></pre>  <p>But, it says that it is an invalid expression.</p>  <p>Specifically, I want to extract the arrays as:</p>  <pre><code>col0 = [""World"",""Albania"",""Antigua and Barbuda"",""Argentina"",""Aruba"",""Australia"",""Austria"",""Bahrain"",""Barbados"",""Belgium"",""Belize"",""Bermuda"",""Bolivia"",""Bosnia and Herzegovina"",""Brazil"",""Canada"",""Cayman Islands"",""Chile"",""China"",""Colombia"",""Cote d'Ivoire"",""Croatia"",""Cuba"",""Curaçao"",""Cyprus"",""Denmark"",""Dominica"",""Dominican Republic"",""East Asia &amp; Pacific"",""Ecuador"",""Egypt, Arab Rep."",""El Salvador"",""Ethiopia(excludes Eritrea)"",""Europe &amp; Central Asia"",""Finland"",""France"",""Gabon"",""Georgia"",""Germany"",""Ghana"",""Greece"",""Grenada"",""Guam"",""Guatemala"",""Guyana"",""Haiti"",""Honduras"",""Hong Kong, China"",""India"",""Indonesia"",""North America"",""Norway"",""Oman"",""Other Asia, nes"",""Pakistan"",""Panama"",""Paraguay"",""Peru"",""Philippines"",""Poland"",""Portugal"",""Qatar"",""Romania""] </code></pre>  <p>so that I can potentially use <code>eval</code> to convert them to Python lists.</p>"	"<p>What you are doing right now does not mean the right thing. You're probably using a wildcard <code>*</code> in the hope of matching whatever comes between two brackets <code>\[*\]</code> but in Regular Expression world <code>*</code> depends on the previous pattern so <code>\[*</code> means zero or more occurrences of opening bracket.</p>  <p>What you are looking for is:</p>  <pre><code>col\d = \[[^\]]*\] </code></pre>  <p>I replaced <code>*</code> with <code>[^\]]*</code> which for engine means try to match anything but a closing bracket.</p>  <p>See <a href=""https://regex101.com/r/UJHee6/1"" rel=""nofollow noreferrer"">live demo here</a></p>"
53557202	Phone Number REX python/javascript validation	javascript|python|regex	2018-11-30 12:02:43.827000 UTC	"<p>I create a regular expression but one type of number is not acceptable. <a href=""https://jsfiddle.net/ofn9knay/1/"" rel=""nofollow noreferrer"">https://jsfiddle.net/ofn9knay/1/</a></p>  <pre><code>Result for 9820098200 false Result for 9820098200#301 false Result for +919820098200 false Result for +91-982-009-8200 false Result for +1 (866) 582-2655 true Result for +91 444 741 4000 true Result for (+91-66) 6852 3522 false </code></pre>  <p>But it not accepting the <code>(+91-79) 6652 3952</code></p>  <p>REGEX which I used is:</p>  <pre><code>/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/ </code></pre>"	"<p>If you figure out what beginning string will be, so regex will be easier than you thought. <a href=""https://regex101.com/r/70V8m3/2"" rel=""nofollow noreferrer"">regex101</a></p>  <pre><code>(.\d+|\(.\d+-\d+\))(\s\d{1,4})+ </code></pre>"
53567349	different results between javascript and python when using bitwise operators	javascript|python|python-3.x|bit-manipulation|bitwise-operators	2018-12-01 02:49:02.647000 UTC	"<p>I am trying to translate some js code into python and having trouble converting bitwise operators. I already introduced <code>ctypes.c_int</code> in python but the results still do not match. For the <code>&gt;&gt;&gt;</code> in js I used as suggested <a href=""https://stackoverflow.com/a/20028765/9309705"">here</a>.</p>  <p>A minimal example of my (not working) code:</p>  <p>Javascript:</p>  <pre><code>let R = [7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21] let K = [3614090360, 3905402710, 606105819, 3250441966, 4118548399, 1200080426, 2821735955, 4249261313, 1770035416, 2336552879, 4294925233, 2304563134, 1804603682, 4254626195, 2792965006, 1236535329, 4129170786, 3225465664, 643717713, 3921069994, 3593408605, 38016083, 3634488961, 3889429448, 568446438, 3275163606, 4107603335, 1163531501, 2850285829, 4243563512, 1735328473, 2368359562, 4294588738, 2272392833, 1839030562, 4259657740, 2763975236, 1272893353, 4139469664, 3200236656, 681279174, 3936430074, 3572445317, 76029189, 3654602809, 3873151461, 530742520, 3299628645, 4096336452, 1126891415, 2878612391, 4237533241, 1700485571, 2399980690, 4293915773, 2240044497, 1873313359, 4264355552, 2734768916, 1309151649, 4149444226, 3174756917, 718787259, 3951481745] let blocks = [1819043144, 1919899503, 8414316, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0];  let h0 = 1732584193, h1 = 4023233417, h2 = 2562383102, h3 = 271733878, length = blocks.length; for (let i = 0; length &gt; i; i += 16) {     var f, g, tmp, x, y, a = h0, b = h1, c = h2, d = h3;     for (let j = 0; 64 &gt; j; ++j) {         if (16 &gt; j) {             f = d ^ b &amp; (c ^ d);             g = j;             tmp = d;             d = c;             c = b;             x = a + f + K[j] + blocks[i + g];             y = R[j];             b += x &lt;&lt; y | x &gt;&gt;&gt; 32 - y;             a = tmp;         }     } } </code></pre>  <p>Python:</p>  <pre><code>import ctypes  R = [7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21] K = [3614090360, 3905402710, 606105819, 3250441966, 4118548399, 1200080426, 2821735955, 4249261313, 1770035416, 2336552879, 4294925233, 2304563134, 1804603682, 4254626195, 2792965006, 1236535329, 4129170786, 3225465664, 643717713, 3921069994, 3593408605, 38016083, 3634488961, 3889429448, 568446438, 3275163606, 4107603335, 1163531501, 2850285829, 4243563512, 1735328473, 2368359562, 4294588738, 2272392833, 1839030562, 4259657740, 2763975236, 1272893353, 4139469664, 3200236656, 681279174, 3936430074, 3572445317, 76029189, 3654602809, 3873151461, 530742520, 3299628645, 4096336452, 1126891415, 2878612391, 4237533241, 1700485571, 2399980690, 4293915773, 2240044497, 1873313359, 4264355552, 2734768916, 1309151649, 4149444226, 3174756917, 718787259, 3951481745] blocks = [1819043144, 1919899503, 8414316, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0]  h0 = 1732584193 h1 = 4023233417 h2 = 2562383102 h3 = 271733878 length = len(blocks)  i = 0 while length &gt; i:     a = h0     b = h1     c = h2     d = h3      j = 0     while 64 &gt; j:          if 16 &gt; j:             f = ctypes.c_int(c ^ d &amp; (b ^ c)).value             g = j             tmp = d             d = c             c = b             x = a + f + K[j] + blocks[i + g]             y = R[j]             b += ctypes.c_int(x &lt;&lt; y | ((x &amp; 0xffffffff) &gt;&gt; 32 - y)).value # was &gt;&gt;&gt;             a = tmp          j += 1      i += 16   print('a', a) print('b', b) </code></pre>  <p>js returns 7727443648 and python returns 4225785507 for a</p>"	"<p>Your values are outside JS limits :</p>  <p><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators</a></p>  <blockquote>   <p>The numbers -2147483648 and 2147483647 are the minimum and the maximum integers representable through a 32bit signed number.</p> </blockquote>"
53576842	How to use $.getJSON in JavaScript to retrieve a python file data?	javascript|python|jquery|json|get	2018-12-02 02:38:17.527000 UTC	"<p>How to use $.getJSON in JavaScript to retrieve a python file data?</p>  <pre><code>$.getJSON('data.py', function (keyData) { //code }) </code></pre>  <p>data.py</p>  <pre><code>import urllib.request, json  def jsonURL():     with urllib.request.urlopen(""https://cdn.rawgit.com/highcharts/highcharts/057b672172ccc6c08fe7dbb27fc17ebca3f5b770/samples/data/usdeur.json"") as url:     data = json.loads(url.read().decode())     return data </code></pre>"	"<p>Use <code>$.ajax</code> instead to get the Python file:</p>  <pre><code>$.ajax({     type: ""get"",     url: ""data.py"",     success: function(response) {         //Do stuff     } }); </code></pre>  <p>This will query the Python file. However, as shown <a href=""https://stackoverflow.com/questions/34158737/get-return-value-from-python-via-javascript-ajax"">here</a>, you need to tell your web server to execute the file instead of returning the contents.</p>"
53599683	"Python - flask server with angularjs front end, can't locate javascript or css files in index.html"	javascript|python|angularjs	2018-12-03 18:27:14.797000 UTC	"<p>I'm building a basic website that works with a python backend in Flask and an Angularjs frontend. I'm currently running into 404 issues when the index template is loading js files and css files</p>  <p>My directory structure is as follows:</p>  <pre><code>-console/ ---lib/    ---css/        ---bootstrap.css ---app.module.js ---index.html -src/ ---_init_.py ---api.py </code></pre>  <p>My code for server <code>api.py</code> is as follows:</p>  <pre><code>from flask import (Flask, jsonify, request, abort, render_template)  app = Flask(__name__, template_folder='../console')   @app.route('/', methods=['GET']) def index():     return render_template('index.html') </code></pre>  <p>This locates the index file with no issues, but when the index file tries to load the necessary css and js files, it fails to locate them. My current code for the basic index page is as follows:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html ng-app=""championsLeague"" lang=""en-US""&gt;  &lt;head&gt;     &lt;title&gt;Champions League&lt;/title&gt;      &lt;link rel=""stylesheet"" href=""lib/css/bootstrap.css"" /&gt;     &lt;script src=""https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js""&gt;&lt;/script&gt;     &lt;script src=""app.module.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;      &lt;div ng-view&gt;         &lt;p&gt;test&lt;/p&gt;     &lt;/div&gt; &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p>When I start my server and navigate to my localhost, these errors appear in the console:</p>  <pre><code>127.0.0.1/:7 GET http://127.0.0.1:5000/lib/css/bootstrap.css net::ERR_ABORTED 404 (NOT FOUND) 2127.0.0.1/:9 GET http://127.0.0.1:5000/app.module.js net::ERR_ABORTED 404 (NOT FOUND) angular.js:88 Uncaught Error: [$injector:modulerr] http://errors.angularjs.org/1.6.9/$injector/modulerr?p0=championsLeague&amp;p1=Error%3A%20%5B%24injector%3Anomod%5D%20http%3A%2F%2Ferrors.angularjs.org%2F1.6.9%2F%24injector%2Fnomod%3Fp0%3DchampionsLeague%0A%20%20%20%20at%20https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A7%3A76%0A%20%20%20%20at%20https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A26%3A408%0A%20%20%20%20at%20b%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A25%3A439)%0A%20%20%20%20at%20https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A26%3A182%0A%20%20%20%20at%20https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A42%3A332%0A%20%20%20%20at%20r%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A8%3A7)%0A%20%20%20%20at%20g%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A42%3A180)%0A%20%20%20%20at%20gb%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A46%3A250)%0A%20%20%20%20at%20c%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A22%3A19)%0A%20%20%20%20at%20Uc%20(https%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fangularjs%2F1.6.9%2Fangular.min.js%3A22%3A332)     at angular.js:88     at angular.js:5023     at r (angular.js:408)     at g (angular.js:4983)     at gb (angular.js:4900)     at c (angular.js:1955)     at Uc (angular.js:1976)     at we (angular.js:1861)     at angular.js:34354     at HTMLDocument.b (angular.js:3488) </code></pre>  <p>I'm assuming the angular error is being caused by the app.module.js file not being found. Any ideas on what the issue could be? It's a requirement that I use flask as my server for this task, so other servers aren't an option.</p>"	"<p>Your js files are not <em>templates</em>, but static resources. Try this:</p>  <pre><code>app = Flask(__name__,          template_folder='../console',         static_url_path='../console') </code></pre>  <p>Another problem could be that your Flask app is in a subdirectory. It should be a the root of your application files.</p>  <p>More info: <a href=""https://stackoverflow.com/questions/20646822/how-to-serve-static-files-in-flask"">How to serve static files in Flask</a> </p>  <hr>  <p><em>Side note</em>: personally I would use a slightly different structure. There are some conventions on how to structure a Flask app, as explained here:</p>  <ul> <li><a href=""http://flask.pocoo.org/docs/1.0/tutorial/layout/"" rel=""nofollow noreferrer"">http://flask.pocoo.org/docs/1.0/tutorial/layout/</a></li> <li><a href=""http://flask.pocoo.org/docs/1.0/patterns/packages/"" rel=""nofollow noreferrer"">http://flask.pocoo.org/docs/1.0/patterns/packages/</a></li> </ul>  <p>This was really helpful to me.</p>"
53616853	python-shell javascript not finding my Module	javascript|python|node.js|python-3.x	2018-12-04 15:59:41.543000 UTC	"<p>I'm trying to call my Python script with python3. The script uses a third party library installed with pip3 called webuntis.</p>  <p>The python script works perfectly on the command line so no errors there.</p>  <p><strong>My Javascript code:</strong> const python = require('python-shell').PythonShell</p>  <pre><code>python.run('./app/api/webuntis.py', {     mode: ""json"",     pythonPath: ""/usr/bin/python3"",  }, (err, results) =&gt; {     console.log(err)     console.log(results); }) </code></pre>  <p><strong>The Error: It doesn't find packages, obviously</strong> <a href=""https://i.stack.imgur.com/7trVq.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7trVq.png"" alt=""Error""></a></p>"	<p>Somehow the <strong>pycache</strong> folder in the same directory didn't let my python script import anything. I had to delete the folder AND rename the file since the folder created itself at runtime.</p>
53616970	Apache Thrift : Python server with Javascript client	javascript|python|thrift	2018-12-04 16:05:20.543000 UTC	"<p>I'm currently using Apache Thrift for an API project.</p>  <p>I started with a little test project in order to understand how Thrift works. So, I would like to use a python server with a browser-based javascript Client.</p>  <p>I've read the documentation entirely, but I still have an issue I can't resolve :( :</p>  <p><a href=""https://i.stack.imgur.com/kZ1Us.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kZ1Us.png"" alt=""Error with google chrome inspector""></a></p>  <p>Server output :</p>  <pre><code>127.0.0.1 - - [04/Dec/2018 17:04:34] code 501, message Unsupported method ('OPTIONS') 127.0.0.1 - - [04/Dec/2018 17:04:34] ""OPTIONS / HTTP/1.1"" 501 - </code></pre>  <p><strong>test.thrift</strong></p>  <pre><code>enum Modulation {   BPSK   QPSK   APSK16   APSK32 }  struct Coordinate {   1: i32 X,   2: i32 Y }  struct Constellation {   1: string name,   2: i32 timestamp,   3: list&lt;Coordinate&gt; coordinates }  service Dealer {   Constellation getConstellation()    Modulation getModulation()   void setModulation(1: Modulation new_modulation)   i32 getTimestamp() } </code></pre>  <p><strong>server.py</strong></p>  <pre><code>import glob import sys sys.path.append('gen-py')  from TApp import Dealer from TApp.ttypes import *  from thrift.transport import TSocket from thrift.transport import TTransport from thrift.protocol import * from thrift.server import TServer, THttpServer  import time  class DealerHandler:     def __init__(self):         self.modulation = Modulation.BPSK      def getConstellation(self):         c = Constellation()         c.name = ""Test""         c.timestamp = self.getTimestamp()         c.coordinates = []          return c      def getModulation(self):         return self.modulation      def setModulation(self, new_modulation):         self.modulation = new_modulation      def getTimestamp(self):         return int(str(time.time()).split('.')[0])   if __name__ == '__main__':     handler = DealerHandler()     processor = Dealer.Processor(handler)      port = 9090     host = '127.0.0.1'      # HTTP SERVER     tfactory = TTransport.TBufferedTransportFactory()     pfactory = TJSONProtocol.TJSONProtocolFactory()     # List of all protocols : https://thrift-tutorial.readthedocs.io/en/latest/thrift-stack.html      #server = TServer.TSimpleServer(processor, transport, tfactory, pfactory)     server = THttpServer.THttpServer(processor, (host, port), pfactory)     server.serve() </code></pre>  <p><strong>index.html</strong></p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;Test&lt;/title&gt; &lt;link rel=""stylesheet"" href=""https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css""&gt;  &lt;/head&gt;  &lt;body&gt;   &lt;div id=""timestamp"" style=""margin:auto; width:70%; padding:15px; text-align:center; border:1px solid black;""&gt;     No Value   &lt;/div&gt;   &lt;br /&gt;   &lt;button type=""button"" name=""button"" class=""btn btn-info"" style=""width:100%"" onclick=""update_timestamp()""&gt;Start connection&lt;/button&gt; &lt;/body&gt;  &lt;script src=""https://code.jquery.com/jquery-3.3.1.min.js""               integrity=""sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=""               crossorigin=""anonymous""&gt;&lt;/script&gt; &lt;script src=""https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"" charset=""utf-8""&gt;&lt;/script&gt;   &lt;script src=""thrift.js"" charset=""utf-8""&gt;&lt;/script&gt; &lt;script src=""test_types.js"" charset=""utf-8""&gt;&lt;/script&gt; &lt;script src=""Dealer.js"" charset=""utf-8""&gt;&lt;/script&gt;  &lt;script type=""text/javascript""&gt;   function update_timestamp() {     var transport = new Thrift.TXHRTransport(""http://localhost:9090"");     var protocol  = new Thrift.TJSONProtocol(transport);      var client = new DealerClient(protocol);     var val = client.getTimestamp();      document.getElementById(""timestamp"").innerHTML = val; } &lt;/script&gt;  &lt;/html&gt; </code></pre>"	
53640671	PyQt5 listen to javascript event inside QWebView to be used with python	javascript|python-3.x|pyqt5|qwebkit	2018-12-05 21:01:03.140000 UTC	"<p>I have a web app inside a QWebView in a python code, this html/javascript code have a button with a click event, I would like to get that event once is triggered so it can be used for an aplicacion outside the QWebView.</p>  <p>tl;dr: is there a way to capture a javascript's click event to be used in the python code?</p>"	
53642615	Data from javascript to python(using post)	javascript|python	2018-12-05 23:56:58.917000 UTC	"<p>I am trying to give data from javascript to python, using post </p>  <p>On my Javascript</p>  <pre><code>$('ABC').on(""click"", function(){     $.post( '/user',         {             user: 'here'         }     )}); </code></pre>  <p>And giving this to python</p>  <pre><code>@app.route(""/user"", methods=['GET', 'POST']) def user():     id = user     return id </code></pre>  <p>Above code should show html with just user.</p>  <p>But page does not move when on click..</p>  <p>Any idea?</p>"	"<p>You need to provide a callback function in <code>$.post</code></p>  <pre><code>$('ABC').on(""click"", function() {   $.post('/user', {     user: 'here'   }, function(response) {     $(""#result"").html(response);   }); }); </code></pre>  <p>You can also abbreviate this to the <code>.load()</code> method:</p>  <pre><code>$('ABC').on(""click"", function() {   $(""#result"").load('/user', {     user: 'here'   }); }); </code></pre>"
53670514	Passing value from javascript to python with ajax	javascript|python|html|flask	2018-12-07 13:24:32.117000 UTC	"<p>From <code>function pass_values()</code> is copy pasted from one of answers from <a href=""https://stackoverflow.com/questions/2894946/passing-javascript-variable-to-python"">this post</a> except for data part.</p>  <p>What I'm trying to do with this code below is get the current location of the client (variable <code>pos</code>) , store the location data to variable <code>clientPosition</code> and send it to python code through <code>pass_values</code>.</p>  <p>I would have been surprised if it worked as I just squeezed in a variable <code>clientPoisiton</code> without any knowledge on javascript but the function <code>getPosition()</code> wasn't even called. </p>  <p><strong>javascript</strong> (edited)</p>  <pre><code>// some setting for google maps var clientPoisiton; if (navigator.geolocation)  {   navigator.geolocation.getCurrentPosition(function(position){     var pos = {lat: position.coords.latitude,lng: position.coords.longitude};     clientPosition=pos;   }   // some exception handling }  function pass_values() {   $.ajax   (     {       type:'POST',       contentType:'application/json;charset-utf-08',       dataType:'json',       url:'http://127.0.0.1:5000/getPosition',       data: JSON.stringify(clientPosition),       success:function (data) {         var reply=data.reply;         if (reply==""success"") {return;}         else {alert(""some error ocured in session agent"")}       }     }   ); }  pass_values.call(clientPosition); </code></pre>  <p><strong>Python</strong></p>  <pre><code>@app.route('/getPosition',methods=['POST']) def getPosition():     data = request.get_json()     print(data)     return jsonify({'reply':'success'}) </code></pre>"	"<p><code>pos</code> aka <code>clientPosition</code> isn't a simple value, it's an object with lat and long properties.  You won't be able to jam it on to the end of your url like that.  You will either need to accept a JSON representation of an object in your python script, or have ajax send two numeric values (lat and long) and receive them appropriately.</p>  <p>You're not calling pass_values - So, where would you want to call that?  The place that makes most sense to me is in the geolocation success function.  You might as well pass in your lat/long values as a parameter to pass_values, and avoid using a global variable.</p>  <p>Since you are using POST, you might as well POST the data.  Currently you use post and add the data to the URL string (the technique used with GET requests).  That defeats the purpose of using POST.</p>  <p>So:</p>  <pre><code>// some setting for google maps if (navigator.geolocation)  {   navigator.geolocation.getCurrentPosition(function(position){     pass_values(position.coords.latitude, position.coords.longitude);   });   // some exception handling }  function pass_values(lat, long) {   $.ajax   (     {       type:'POST',       contentType:'application/json;charset-utf-08',       dataType:'json',       url:'http://127.0.0.1:5000/getPosition',       data: {         lat: lat,         long: long       },       success:function (data) {         var reply=data.reply;         if (reply==""success"") {return;}         else {alert(""some error ocured in session agent"")}       }     }   ); } </code></pre>  <p>Now, I don't really do python so this part is sort of a guess - it must accept a json post and retrieve the two values stored inside.</p>  <pre><code>@app.route('/getPosition',methods=['POST']) def getPosition():     data=request.get_json()     lat = data.get('lat', '')     long = data.get('long', '')     return jsonify({'reply':'success'}) </code></pre>"
53678667	Python extract text from javascript using regex	javascript|python|regex	2018-12-08 01:18:57.123000 UTC	<p>I have some javascript text:</p>  <pre><code>NCIA.username = 'filler@school.edu';  NCIA.user_id = '5bad4c16260c175e8660ae19';  NCIA.user_rights = '1'*1;  if (empty(NCIA.lti_info) || NCIA.lti_info.valid_connection == false) NCIA.catalog_cookie=true;  NCIA.alias_activity_id=''; NCIA.activity_id='560a8cc65e4ef62276c1a2f0'; </code></pre>  <p>I'd like to use regex to extract the values for NCIA.username and NCIA.activity_id. Is there a good way to extract both?</p>	"<p>This should do what you want. The regex looks for <code>NCIA</code> at the start of the line (or possibly after some whitespace); a <code>.</code>; one of <code>username</code> or <code>activity_id</code>; followed by <code>=</code>, possibly surrounded by whitespace; and finally a value inside single quotes:</p>  <pre><code>import re js = """"""NCIA.username = 'filler@school.edu';  NCIA.user_id = '5bad4c16260c175e8660ae19';  NCIA.user_rights = '1'*1;  if (empty(NCIA.lti_info) || NCIA.lti_info.valid_connection == false) NCIA.catalog_cookie=true;  NCIA.alias_activity_id=''; NCIA.activity_id='560a8cc65e4ef62276c1a2f0';"" """""" regex = re.compile('^\s*NCIA\.(username|activity_id)\s*=\s*\'([^\']+)\';', re.MULTILINE) print regex.findall(js) </code></pre>  <p>Output</p>  <pre><code>[('username', 'filler@school.edu'), ('activity_id', '560a8cc65e4ef62276c1a2f0')] </code></pre>  <p><a href=""https://rextester.com/WWG15734"" rel=""nofollow noreferrer"">Demo on rextester</a></p>"
53690404	WebScraping & python: Rendering javascript in html?	python|selenium|web-scraping|web-crawler	2018-12-09 07:49:43.853000 UTC	"<p>I'm trying to build a webcrawler to get the trending stocks from the tsx page.  I currently get all the trending link, now I'm trying to scrape the information  on the individual pages. Based on my code, when I try to output the ""quote_wrapper"" in the getStockDetails() it returns an empty list. I suspect it's because the JavaScript has not been rendered on the page yet? Not sure if that's a thing. Anyway, I tried to output all the html on the page to debug and I don't see it either. I read that only way to ""render"" the JavaScript is to use Selenium and use browser.execute_script(""return document.documentElement.outerHTML""). It worked for the index page so I tried to use it on the others. I also made a comment about it in the code as well. Thanks for your help, if you can.</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from bs4 import BeautifulSoup as soup from urllib2 import urlopen as uReq  import time import random import requests   def getTrendingQuotes(source_code):     # grabs all the trending quotes for that day     links = []     page_soup = soup(source_code, ""lxml"")     trendingQuotes = page_soup.findAll(""div"", {""id"": ""trendingQuotes""})     all_trendingQuotes = trendingQuotes[0].findAll('a')     for link in all_trendingQuotes:         url = link.get('href')         name = link.text         # print(name)         links.append(url)     return links   def getStockDetails(url, browser):     print(url)     source_code = browser.execute_script(         ""return document.documentElement.outerHTML"")      #What is the correct syntax here?     #I'm trying to get the innerHTML of whole page in selenium driver     #It seems I can only access the JavaScript for the entire page this way      # source_code = browser.execute_script(     #    ""return"" + url +"".documentElement.outerHTML"")      page_soup = soup(source_code, ""html.parser"")     # print(page_soup)     quote_wrapper = page_soup.findAll(""div"", {""class"": ""quoteWrapper""})     print(quote_wrapper)   def trendingBot(browser):      while True:         source_code = browser.execute_script(             ""return document.documentElement.outerHTML"")         trending = getTrendingQuotes(source_code)         for trend in trending:             browser.get(trend)             getStockDetails(trend, browser)         break         # print(trend)   def Main():      url = 'https://www.tmxmoney.com/en/index.html'     browser = webdriver.Chrome(         r""C:\Users\austi\OneDrive\Desktop\chromeDriver\chromedriver_win32\chromedriver.exe"")     browser.get(url)      print(""[+] Success! Bot Starting!"")     trendingBot(browser)     browser.quit()   if __name__ == ""__main__"":     Main() </code></pre>"	"<p>Please do not mix BeautifulSoup and Selenium its unnecessary. To render page with javascript you need to wait until the element generated, use <code>WebDriverWait</code> and get page source with <code>browser.page_source</code> but it not used here.</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.support.ui import WebDriverWait   def getTrendingQuotes(browser):     # wait until trending links appear, not really needed only for example     all_trendingQuotes = WebDriverWait(browser, 10).until(         lambda d: d.find_elements_by_css_selector('#trendingQuotes a')     )      return [link.get_attribute('href') for link in all_trendingQuotes]  def getStockDetails(url, browser):     print(url)     browser.get(url)     quote_wrapper = browser.find_element_by_css_selector('div.quote-wrapper')     print(quote_wrapper.text)     #print(quote_wrapper.get_attribute('outerHTML'))  def trendingBot(url, browser):     browser.get(url)     trending = getTrendingQuotes(browser)     for trend in trending:         getStockDetails(trend, browser)  def Main():     url = 'https://www.tmxmoney.com/en/index.html'     browser = webdriver.Chrome(         r""C:\Users\austi\OneDrive\Desktop\chromeDriver\chromedriver_win32\chromedriver.exe"")     print(""[+] Success! Bot Starting!"")     trendingBot(url, browser)     browser.quit()  if __name__ == ""__main__"":     Main() </code></pre>"
53694709	Passing Javascript array in Python Flask	javascript|python|flask	2018-12-09 17:14:17.697000 UTC	"<p>I'm developing and application with <code>python flask</code> and I want to send the return value of a <code>Javascript</code> function(an array) to a <code>python</code> function. Given below is the code.</p>  <p><strong>Javascript</strong></p>  <pre><code>&lt;script&gt;   function getVals(){       a = [ab, cd];       return a;   } &lt;/script&gt; </code></pre>  <p><strong>HTML</strong></p>  <pre><code>&lt;a href=""/end_stu_live_session""&gt;End This&lt;/a&gt; </code></pre>  <p><strong>Python</strong></p>  <pre><code>@app.route('/end_stu_live_session') def end_stu_live_session():    return render_template('stu_dashboard.html') </code></pre>  <p>I want the array from the Javascript function <code>getVals()</code> to be passed to the python function <code>end_stu_live_session</code>. Any help is highly appreciated. Thanks.</p>"	"<ul> <li>You can send the return value of a Javascript function(an array) to a Python method via Ajax as JSON.</li> <li>Send <code>contentType: 'application/json'</code> from AJAX and receiving the data as <code>request.json</code> in Flask.</li> </ul>  <p><strong>app.py:</strong></p>  <pre><code>from flask import Flask, render_template, request, jsonify  app = Flask(__name__)  @app.route('/end_stu_live_session',methods=[""GET"", ""POST""]) def end_stu_live_session():     if request.method == 'POST':         data = request.json         return jsonify(data)     return render_template(""home.html"")  app.run(debug=True) </code></pre>  <p><strong>home.html:</strong></p>  <pre><code>&lt;html&gt;     &lt;head&gt;         &lt;title&gt;Flask Ajax&lt;/title&gt;         &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div id=""data""&gt;&lt;/div&gt;                &lt;button id=""demo_btn""&gt;Dummy button&lt;/button&gt;         &lt;script&gt;             function getVals(){                   a = [""ab"", ""cd""];                   return a;             }             $(document).ready(function () {                 $(""#demo_btn"").on(""click"", function() {                     var js_data = JSON.stringify(getVals());                     $.ajax({                                                 url: '/end_stu_live_session',                         type : 'post',                         contentType: 'application/json',                         dataType : 'json',                         data : js_data                     }).done(function(result) {                         console.log(result);                         $(""#data"").html(result);                     }).fail(function(jqXHR, textStatus, errorThrown) {                         console.log(""fail: "",textStatus, errorThrown);                     });                 });             });         &lt;/script&gt;            &lt;/body&gt; &lt;/html&gt; </code></pre>  <p><strong>Output:</strong></p>  <p><a href=""https://i.stack.imgur.com/4UTZD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4UTZD.png"" alt=""flask ajax request""></a></p>"
53696647	Get python data in an html/javascript webpage	python|jquery|json	2018-12-09 21:00:52.480000 UTC	"<p>So I'm trying to make a problem for a ctf, and for a problem, I need to send data from a python script to the javascript. Can anyone tell me how? </p>  <p>My html code is:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;      &lt;/head&gt;      &lt;body&gt;         &lt;h1 class=""text""&gt;text&lt;/h1&gt;         &lt;script&gt;             $.get(""[website]/cgi-bin/challenge.py"",                  function(data) {                 $("".text"").html(data);             });         &lt;/script&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>I replaced the website with [website].  The python code is like this: </p>  <pre><code>#!/usr/bin/python import json  print ""Content-type: text/html\n\n"" json.dumps(""It works!"") </code></pre>"	"<pre><code>#!/usr/bin/python import json  text = json.dumps(""It works!"")  print ""Content-Type: application/json\n"" print text </code></pre>"
53696647	Get python data in an html/javascript webpage	python|jquery|json	2018-12-09 21:00:52.480000 UTC	"<p>So I'm trying to make a problem for a ctf, and for a problem, I need to send data from a python script to the javascript. Can anyone tell me how? </p>  <p>My html code is:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;      &lt;/head&gt;      &lt;body&gt;         &lt;h1 class=""text""&gt;text&lt;/h1&gt;         &lt;script&gt;             $.get(""[website]/cgi-bin/challenge.py"",                  function(data) {                 $("".text"").html(data);             });         &lt;/script&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>I replaced the website with [website].  The python code is like this: </p>  <pre><code>#!/usr/bin/python import json  print ""Content-type: text/html\n\n"" json.dumps(""It works!"") </code></pre>"	"<p>you can try: <a href=""https://www.zerorpc.io/"" rel=""nofollow noreferrer"">https://www.zerorpc.io/</a> , zerorpc is a communication between server-side processes that lets you transfer data from a server to a client.</p>  <p>in your situation, if you want to transfer data from python to node.js you cand do it like this:</p>  <p>in your python file as a server do:</p>  <pre><code>import zerorpc  class HelloRPC(object): def hello(self, name):     return ""Hello, %s"" % name  s = zerorpc.Server(HelloRPC()) s.bind(""tcp://0.0.0.0:4242"") s.run() </code></pre>  <p>and in your node.js code as a client:</p>  <pre><code> var zerorpc = require(""zerorpc"");   var client = new zerorpc.Client();  client.connect(""tcp://127.0.0.1:4242"");   client.invoke(""hello"", ""RPC"", function(error, res, more) {    console.log(res);  }); </code></pre>  <p>this will print ""hello RPC"" on the console.</p>"
53697459	Get python data from javascript	javascript|python|jquery	2018-12-09 22:48:40.323000 UTC	"<p>So I'm trying to make a problem for a ctf, and for a problem, I need to send data from a python script to the javascript. Can anyone tell me how? </p>  <p>Thanks!</p>  <p>My html code is:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;      &lt;/head&gt;      &lt;body&gt;         &lt;h1 class=""text""&gt;text&lt;/h1&gt;         &lt;script&gt;             $.get(""http://[website]/cgi-bin/challenge.py"",                  function(data) {                 $("".text"").html(data);             });         &lt;/script&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>I replaced the website name with [website] The python code is like this: </p>  <pre><code>#!/usr/bin/python import json  print ""Content-type: text/html\n\n"" text = ""It works!"" json.dumps(text) </code></pre>  <p><strong>Edit:</strong> I expected the python file to return ""It works!"", however after going into the network tab to see the result, it returned nothing. The text in the h1 also disappeared. </p>  <p>This is an image from the network tab: <a href=""https://i.stack.imgur.com/8JSMO.png"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/8JSMO.png</a></p>"	"<p>You missing <code>print()</code> and content-type <code>application/json</code> because <code>json.dumps()</code> will not print output or set header to JSON. </p>  <pre><code>#!/usr/bin/python import json  text = json.dumps(""It works!"")  print ""Content-Type: application/json\n"" print(text) </code></pre>"
53710406	Javascript-like array-method chaining in Python?	python	2018-12-10 17:08:37.157000 UTC	"<p>I'm coming into python from a javascript background. In JS we can do array-method chaining, and it's awesome (especially with arrow functions):</p>  <pre><code>someArray .filter(x =&gt; x.count &gt; 10) .sort((a, b) =&gt; a.count - b.count) .map(x =&gt; x.name) </code></pre>  <p>Is something like array-method chaining possible in python and, if not, then why on earth not?</p>"	"<p>Yes, it does work.</p>  <p>Method chaining works in several languages. Usually you would return this or self or whatever the current object is from the method. </p>  <pre><code>class Foo(object):     def bar(self):         print ""Foo.bar called""         return self     def baz(self):         print ""Foo.baz called""         return self  foo = Foo() foo2 = foo.bar().baz() </code></pre>  <p>A lot of inbuilt python list methods modify list inplace, so it is difficult to chain on top of them. But you can create wrapper classes around them if you want functionality</p>"
53710406	Javascript-like array-method chaining in Python?	python	2018-12-10 17:08:37.157000 UTC	"<p>I'm coming into python from a javascript background. In JS we can do array-method chaining, and it's awesome (especially with arrow functions):</p>  <pre><code>someArray .filter(x =&gt; x.count &gt; 10) .sort((a, b) =&gt; a.count - b.count) .map(x =&gt; x.name) </code></pre>  <p>Is something like array-method chaining possible in python and, if not, then why on earth not?</p>"	"<p>in python you could do something like a data pipeline like this (which is quite the opposite of method chaining...):</p>  <pre><code>a1 = (item for item in someArray if item.count &gt; 10) a2 = sorted(a1, key=lambda x: x.count) a3 = [item.name for item in a2] </code></pre>  <p>note that <code>a1</code> is a generator expression (and not a <code>list</code>); it does not store the elements but generate them on the fly.</p>  <p>you could of course string that together (which is much less readable for my taste):</p>  <pre><code>[item.name for item in sorted(  (item for item in someArray if item.count &gt; 10), key=lambda x: x.count)] </code></pre>  <hr>  <p>note that in python it is customary for methods that change the instance (e.g. <code>list.sort()</code>) to return <code>None</code>. so simple method chaining does not work for a <code>list</code>.</p>  <p>if you work with a library that returns <code>self</code> for those functions, method chaining will work.</p>"
53710406	Javascript-like array-method chaining in Python?	python	2018-12-10 17:08:37.157000 UTC	"<p>I'm coming into python from a javascript background. In JS we can do array-method chaining, and it's awesome (especially with arrow functions):</p>  <pre><code>someArray .filter(x =&gt; x.count &gt; 10) .sort((a, b) =&gt; a.count - b.count) .map(x =&gt; x.name) </code></pre>  <p>Is something like array-method chaining possible in python and, if not, then why on earth not?</p>"	"<p>You can do <strong>method chaining</strong> but the builtin <code>list</code> type does not support the operations you are requesting as methods (e.g. <code>map</code> is a builtin). @Felix's excellent answer looks right to me in terms of doing the operations you gave in your example. If you want to chain methods, all that's required is that each method returns an object which implements the next method. </p>  <p>Simple example:</p>  <pre><code>list(""234"").copy( # Copy once   ).copy( # Twice     ).append(""Dog"" # Returns None, so we can't continue chaining       ).copy( # AttributeError because None has no method ""copy""         ) </code></pre>"
53710406	Javascript-like array-method chaining in Python?	python	2018-12-10 17:08:37.157000 UTC	"<p>I'm coming into python from a javascript background. In JS we can do array-method chaining, and it's awesome (especially with arrow functions):</p>  <pre><code>someArray .filter(x =&gt; x.count &gt; 10) .sort((a, b) =&gt; a.count - b.count) .map(x =&gt; x.name) </code></pre>  <p>Is something like array-method chaining possible in python and, if not, then why on earth not?</p>"	"<p>In Python, you'd do:</p>  <pre><code>from operator import attrgetter map(lambda x: x.name,      sorted(filter(lambda x: x.count &gt; 10, someArray),             key=attrgetter(""count"")) </code></pre>  <p>Syntax is slightly different, but it should basically do the same. Does this answer your question?</p>  <p><strong>Edit</strong></p>  <p>If you really want a more ""chain-like"" syntax, you can take a look at <a href=""https://github.com/pytoolz/toolz"" rel=""nofollow noreferrer""><code>toolz</code></a>. From their <a href=""https://toolz.readthedocs.io/en/latest/streaming-analytics.html"" rel=""nofollow noreferrer"">docs</a>:</p>  <pre><code>&gt;&gt;&gt; from toolz.curried import pipe, map, filter, get &gt;&gt;&gt; pipe(accounts, filter(lambda acc: acc[2] &gt; 150), ...                map(get([1, 2])), ...                list) </code></pre>  <p><strong>Edit 2</strong></p>  <p>Thanks to @mpium for suggesting <code>PyFunctional</code>, which seems to have an even cooler syntax for this:</p>  <pre><code>from functional import seq  seq(1, 2, 3, 4)\     .map(lambda x: x * 2)\     .filter(lambda x: x &gt; 4)\     .reduce(lambda x, y: x + y) # 14 </code></pre>"
53716428	"pass variable from javascript to python, without reloading page"	javascript|python|jquery|ajax	2018-12-11 02:14:59.667000 UTC	"<p>I'm using cherrypy as a webserver and JS to loop over python objects(concatenating them as string to JS code) and fill optionS,radioS etc. on the webpage user picks  from , I'm stuck on passing option_value to python(???)</p>  <p>I've read similar posts and as suggested I use ajax snippet but it reloads whole page and data being lost. UPDATE: with change in AJAX alert pops with option_value, but main question is the same- how to pass it to python(backend) from JS(frontend) ??</p>  <pre><code>import cherrypy class HelloWorld(object):     @cherrypy.expose     def index(self, *args, **kwargs):         print(args)         print(kwargs)         html = ''' &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta name=""viewport"" content=""width=device-width, initial-scale=1""&gt; &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js""&gt;&lt;/script&gt; &lt;script src=""https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js""&gt;&lt;/script&gt; &lt;link rel=""stylesheet"" href=""https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css""&gt; &lt;/head&gt; &lt;body&gt; &lt;form&gt;     &lt;select name='test'&gt;         &lt;option value=""change""&gt;Change it&lt;/option&gt;         &lt;option value=""verify""&gt;Verify it&lt;/option&gt;     &lt;/select&gt; &lt;/form&gt; &lt;br&gt; &lt;p&gt;change above form and after submit below form verify that above still the same&lt;/p&gt;         &lt;form method=""POST"" id=""form1""&gt;             &lt;select name=""cars"" id=""u_choice""&gt;                 &lt;option value=""volvo""&gt;VOLVO&lt;/option&gt;                 &lt;option value=""audi""&gt;AUDI&lt;/option&gt;             &lt;/select&gt;           &lt;input type=""submit""&gt;         &lt;/form&gt; &lt;script&gt; $('form#form1').submit(function (e) {     e.preventDefault();     alert(e.target[0].value));     return false;     }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;'''         return html  cherrypy.quickstart(HelloWorld()) </code></pre>"	
53729828	Import Python list of strings into Javascript script (HTML file)	javascript|python	2018-12-11 17:59:29.593000 UTC	"<p>I have an HTML file including an embedded script (Javascript). I need to import some lists from Python as variables and I'm having trouble with one that contains strings. To give an example, I have something like the following:</p>  <pre><code># In Python list_of_floatnums = [2.5, 3.5, 4.5] list_of_strings = [""January"", ""February"", ""March""] </code></pre>  <p>Then in the script, I do something like this:</p>  <pre><code>&lt;!-- Embedded JS script --&gt; &lt;script&gt;     var i = 0;     var js_floatnums = JSON.parse('{{ list_of_floatnums }}');     var js_strings = JSON.parse(['{{ list_of_strings }}']);     for (i = 0; i &lt; '{{ number_of_cycles }}'; i++) {         // Do something     } &lt;/script&gt; </code></pre>  <p>However, I get nothing as output. If I skip the JSON.parse() for the string array:</p>  <pre><code>var js_strings = ['{{ list_of_strings }}']; </code></pre>  <p>Then I get everything else to work, except that array of strings (everything is assigned to the first element). For example:</p>  <pre><code>In [""January"", ""February"", ""March""] you got 2.5 points. In undefined you got 3.5 points. In undefined you got 4.5 points. </code></pre>  <p>Of course what I would require is:</p>  <pre><code>In January you got 2.5 points. In February you got 3.5 points. In March you got 4.5 points. </code></pre>  <p>Any clues on what I don't know and I'm doing wrong? I had always imported single variables with {{ variable }}, and that is straightforward.</p>  <p>EDIT:</p>  <ol> <li>I am using Flask.</li> <li>number_of_cycles is an integer variable also imported from Python. number_of_cycles = 3 in this case.</li> </ol>"	"<p>Try this </p>  <pre><code>&lt;script&gt;     var i = 0;     var integer_value = parseInt('{{number_of_cycles}}')     var js_floatnums= JSON.parse(""{{ list_of_floatnums }}""); // or you can use var js_floatnums= { list_of_floatnums |tojson }};     var js_strings =JSON.parse(""{{ list_of_strings }}""); // or you can use var list_of_strings ={{ list_of_strings |tojson }};      for (i = 0; i &lt; integer_value ; i++) {          // Do something     } &lt;/script&gt; </code></pre>  <p>Actually, you can use one of these methods</p>  <pre><code>var js_floatnums= { list_of_floatnums |tojson }}; var js_floatnums= { list_of_floatnums |tojson |safe}}; var js_floatnums=JSON.parse(""{{ js_floatnums}}""); var js_floatnums=JSON.dumps(""{{ js_floatnums}}""); </code></pre>"
53735099	Python equivalent in javascript's valueOf()	javascript|python	2018-12-12 02:10:25.073000 UTC	<p>My legacy javascript code is below.  </p>  <pre><code>let today = new Date(Date.now()); let todayStr = today.getFullYear() + '-' + addZero(today.getMonth()+1) + '-' + addZero(today.getDate()); let todayStart = (new Date(todayStr + ' 00:00:00')).valueOf() console.log(todayStart) </code></pre>  <p>It's result is <code>1544454000000</code>.  That is my server's valid input format.</p>  <p>So I want to migrate this code to Python. My trial was that use <code>datetime.fromtimestamp</code>.<br> But result was not same to javascript's.</p>  <p>Thanks in advance.</p>	<p>Python doesn't use milliseconds like JavaScript - it uses seconds. So <code>1000</code> in JavaScript would be <code>1</code> in Python. So all you have to do is:</p>  <pre><code>int(datetime.fromtimestamp) * 1000 </code></pre>  <p>To fix the language difference.</p>
53768753	How to handle javascript alert/pop up window: Python+Selenium IE webdriver	python|selenium|internet-explorer|webdriver	2018-12-13 19:23:54.530000 UTC	"<p>The webpage I need to go to has a javascript popup message with an OK button that appears before the page can finish loading. There's ways to get rid of the message by either clicking the button, pressing enter, pressing the x to close, or pressing ALT+F4.  But all attempts to either click or press keys fails and just remains on the page with the popup.</p>  <p>I must be missing something. Everything is current and installed, even the registry additions for the IE server executable.</p>  <p>Thanks</p>"	"<p>If this Java popup is generated by IE you could be able to handle it using Alert(driver).accept() I have run into this issue a couple of times where the popup is not part of IE at all and this does not work. there are a couple different methods you can try to get around this:</p>  <ol> <li>try switching your browser to phantomJS (this is a headless browser that works with selenium and runs in the background so you will not be able to see what selenium does anymore but it often will eliminate popups and is good if you don't actually need to click the popup)</li> <li>try using the <a href=""https://pypi.org/project/mouse/"" rel=""nofollow noreferrer"">mouse</a> or <a href=""https://pypi.org/project/keyboard/"" rel=""nofollow noreferrer"">keyboard</a> packages to hit that button. </li> </ol>"
53768966	javascript Multiple Ajax requests to Flask-python - Only! one received	javascript|python|ajax|flask|flask-uploads	2018-12-13 19:40:18.663000 UTC	"<p>i'm trying to loop through <strong>multiple forms</strong> with input file type and <strong>Ajax</strong> them to <strong>Flask</strong></p>  <p><strong>javascript look like this :-</strong></p>  <p>I've a list of forms under variable <code>var upFC = document.getElementsByClassName('uploadImage');</code></p>  <p>each form look like this :-</p>  <pre><code>&lt;form method=​""post"" action=​""/​upload"" enctype=​""multipart/​form-data"" id=​""f_x"" class=​""uploadImage""&gt;    &lt;input type=​""file"" id=​""u_x""&gt;​    &lt;input type=​""submit"" value=​""Submit"" id=​""s_x""&gt;​ &lt;/form&gt;​` </code></pre>  <p>where  <code>x = [ 0 - 100 ]</code></p>  <p>then to Ajax the files i used this method </p>  <pre><code>for (i = 0; i &lt; upFC.length; i++) {     var cFile = upFC[i].elements[0].files;    var fileName = upFC[i].elements[0].value;     const fd = new FormData();    fd.append('file', cFile[i], rightName);    const fdx = new XMLHttpRequest();    fdx.open('post' , ""/uploadIds"" , true);    fdx.send(fd);    } </code></pre>  <p><strong>Flask code look like this :-</strong></p>  <pre><code>@app.route('/uploadIds', methods=['POST' , 'GET']) def handle_uploadIds():    d = os.path.join(root,'uploads/')    allImages = request.files.to_dict();    print(""\n\n activated - ids \n\n "")    print(""\n\n all images \n\n  == &gt; "", allImages  )       for file in allImages:        print(f""----\n\n {allImages[file]} \n\n"")        fileName = allImages[file].filename        dest = ""/"".join([d, fileName ])        print(f""\n\n upload 1 is active :{fileName}\n\n"")        allImages[file].save(dest)  return '', 204 </code></pre>  <p>no matter what method i try on flask I always get the first file correctly and the rest of the loops are just empty .. no errors</p>  <p>I've also added logs on <strong>Javascript</strong> side to see if the <code>formData</code> is sending the right file every time it loops and yes it does.</p>  <p>for some reason flask receives the first file and never the rest.</p>  <p>after applying  this code to trace the formData before sending.</p>  <pre><code>for (var pair of fd.entries()) { console.log(pair[0]+ ', ' + pair[1]);} } </code></pre>  <p><strong>on chrome console i get this</strong></p>  <pre><code>file, [object File] 2 file,  </code></pre>  <p><strong>Printed output from flask according to my code</strong></p>  <pre><code>     all images    == &gt;  {'file': &lt;FileStorage: 'PHNZIH1062_id.png' ('image/png')&gt;} ----   &lt;FileStorage: 'PHNZIH1062_id.png' ('image/png')&gt;   activated - ids   all images   == &gt;   upload 1 is active :PHNZIH1062_id.png  {}   activated - ids     all images   == &gt;  {} 127.0.0.1 - - [13/Dec/2018 21:06:15] ""POST /uploadIds HTTP/1.1"" 204 - 127.0.0.1 - - [13/Dec/2018 21:06:15] ""POST /uploadIds HTTP/1.1"" 204 - 127.0.0.1 - - [13/Dec/2018 21:06:15] ""POST /uploadIds HTTP/1.1"" 204 - </code></pre>  <p>methods I've tried :</p>  <ul> <li><code>request.files.getlist('file'):</code></li> <li><code>request.files.to_dict():</code></li> <li><code>request.files.items():</code></li> </ul>  <p>some of the highlighted methods I've tried : <a href=""https://stackoverflow.com/questions/11817182/uploading-multiple-files-with-flask"">all 3 methods in this link </a></p>  <p>I'm not sure if the problem is within <strong>flask</strong> or <strong>ajax</strong> but probably it lies within <strong>flask</strong>'s code</p>"	"<p>turned out to be pretty simple , it was client side after all , all i had to do is to change this</p>  <pre><code>var cFile = upFC[i].elements[0].files; </code></pre>  <p>to </p>  <pre><code>var cFile = upFC[0].elements[0].files; </code></pre>  <p>because that was the <code>[file object]</code> location.</p>"
53795060	Converting JavaScript back to readable HTML in Python script	javascript|python|html|web-scraping	2018-12-15 16:27:29.117000 UTC	"<p>I am using Python to scrape a website. The return is JS code in between  tags. What is the best approach to convert this back to readable HTML or anything humanely readable again? This is what was returned after I scraped the web page.</p>  <pre><code>&lt;script type=""text/javascript""&gt;window.NREUM||(NREUM={});NREUM.info={""beacon"":""bam.nr-data.net"",""errorBeacon"":""bam.nr-data.net"",""licenseKey"":""3eaa5bdc0e"",""applicationID"":""90760185"",""transactionName"":""cAoMEUBcDQ4BFxoXVFIGFkpQUhIH"",""queueTime"":0,""applicationTime"":6,""agent"":""""}&lt;/script&gt; &lt;script type=""text/javascript""&gt;(window.NREUM||(NREUM={})).loader_config={xpid:""VQQPWFNQCRAJVFZUBwAPUw==""};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if(""function""==typeof __nr_require)return __nr_require;for(var o=0;o&lt;e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&amp;&amp;console.log(t)}catch(n){}}var o,i=t(""ee""),a=t(16),s={};try{o=localStorage.getItem(""__nr_flags"").split("",""),console&amp;&amp;""function""==typeof console.log&amp;&amp;(s.console=!0,o.indexOf(""dev"")!==-1&amp;&amp;(s.dev=!0),o.indexOf(""nr_dev"")!==-1&amp;&amp;(s.nrDev=!0))}catch(c){}s.nrDev&amp;&amp;i.on(""internal-error"",function(t){r(t.stack)}),s.dev&amp;&amp;i.on(""fn-err"",function(t,n,e){r(e.stack)}),s.dev&amp;&amp;(r(""NR AGENT IN DEVELOPMENT MODE""),r(""flags: ""+a(s,function(t,n){return t}).join("", "")))},{}],2:[function(t,n,e){function r(t,n,e,r,s){try{p?p-=1:o(s||new UncaughtException(t,n,e),!0)}catch(f){try{i(""ierr"",[f,c.now(),!0])}catch(d){}}return""function""==typeof u&amp;&amp;u.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||""Uncaught error with no additional information"",this.sourceURL=n,this.line=e}function o(t,n){var e=n?null:c.now();i(""err"",[t,e])}var i=t(""handle""),a=t(17),s=t(""ee""),c=t(""loader""),f=t(""gos""),u=window.onerror,d=!1,l=""nr@seenError"",p=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(h){""stack""in h&amp;&amp;(t(8),t(7),""addEventListener""in window&amp;&amp;t(5),c.xhrWrappable&amp;&amp;t(9),d=!0)}s.on(""fn-start"",function(t,n,e){d&amp;&amp;(p+=1)}),s.on(""fn-err"",function(t,n,e){d&amp;&amp;!e[l]&amp;&amp;(f(e,l,function(){return!0}),this.thrown=!0,o(e))}),s.on(""fn-end"",function(){d&amp;&amp;!this.thrown&amp;&amp;p&gt;0&amp;&amp;(p-=1)}),s.on(""internal-error"",function(t){i(""ierr"",[t,c.now(),!0])})},{}],3:[function(t,n,e){t(""loader"").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&amp;&amp;window.performance.timing&amp;&amp;window.performance.getEntriesByType){var o=t(""ee""),i=t(""handle""),a=t(8),s=t(7),c=""learResourceTimings"",f=""addEventListener"",u=""resourcetimingbufferfull"",d=""bstResource"",l=""resource"",p=""-start"",h=""-end"",m=""fn""+p,v=""fn""+h,w=""bstTimer"",y=""pushState"",g=t(""loader"");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&amp;&amp;(this.bstStart=g.now())}),o.on(v,function(t,n){var e=t[0];e instanceof b&amp;&amp;i(""bst"",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(v,function(t,n){i(w,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(v,function(t,n){i(w,[n,this.bstStart,g.now(),""requestAnimationFrame""])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i(""bstHist"",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&amp;&amp;(window.performance[""c""+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance[""c""+c]()},!1):window.performance[f](""webkit""+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance[""webkitC""+c]()},!1)),document[f](""scroll"",r,{passive:!0}),document[f](""keypress"",r,!1),document[f](""click"",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&amp;&amp;!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&amp;&amp;o(n)}function o(t){s.inPlace(t,[u,d],""-"",i)}function i(t,n){return t[1]}var a=t(""ee"").get(""events""),s=t(19)(a,!0),c=t(""gos""),f=XMLHttpRequest,u=""addEventListener"",d=""removeEventListener"";n.exports=a,""getPrototypeOf""in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&amp;&amp;(o(window),o(f.prototype)),a.on(u+""-start"",function(t,n){var e=t[1],r=c(e,""nr@wrapped"",function(){function t(){if(""function""==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,""function"":e}[typeof e];return n?s(n,""fn-"",null,n.name||""anonymous""):e});this.wrapped=t[1]=r}),a.on(d+""-start"",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t(""ee"").get(""history""),o=t(19)(r);n.exports=r,o.inPlace(window.history,[""pushState"",""replaceState""],""-"")},{}],7:[function(t,n,e){var r=t(""ee"").get(""raf""),o=t(19)(r),i=""equestAnimationFrame"";n.exports=r,o.inPlace(window,[""r""+i,""mozR""+i,""webkitR""+i,""msR""+i],""raf-""),r.on(""raf-start"",function(t){t[0]=o(t[0],""fn-"")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],""fn-"",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],""fn-"",this,e)}var i=t(""ee"").get(""timer""),a=t(19)(i),s=""setTimeout"",c=""setInterval"",f=""clearTimeout"",u=""-start"",d=""-"";n.exports=i,a.inPlace(window,[s,""setImmediate""],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,""clearImmediate""],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,[""onreadystatechange""],""fn-"",s)}function o(){var t=this,n=u.context(t);t.readyState&gt;3&amp;&amp;!n.resolved&amp;&amp;(n.resolved=!0,u.emit(""xhr-resolved"",[],t)),d.inPlace(t,y,""fn-"",s)}function i(t){g.push(t),h&amp;&amp;(x?x.then(a):v?v(a):(E=-E,O.data=E))}function a(){for(var t=0;t&lt;g.length;t++)r([],g[t]);g.length&amp;&amp;(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t(""ee""),u=f.get(""xhr""),d=t(19)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,v=l.SI,w=""readystatechange"",y=[""onload"",""onerror"",""onabort"",""onloadstart"",""onloadend"",""onprogress"",""ontimeout""],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit(""new-xhr"",[n],n),n.addEventListener(w,o,!1)}catch(e){try{u.emit(""internal-error"",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,[""open"",""send""],""-xhr-"",s),u.on(""send-xhr-start"",function(t,n){r(t,n),i(n)}),u.on(""open-xhr-start"",r),h){var x=m&amp;&amp;m.resolve();if(!v&amp;&amp;!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on(""fn-end"",function(t){t[0]&amp;&amp;t[0].type===w||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r&lt;d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&amp;&amp;(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader(""X-NewRelic-App-Data"");c&amp;&amp;(n.cat=c.split("", "").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit(""xhr-done"",[t],t),s(""xhr"",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if(""json""===e&amp;&amp;null!==n)return n;var r=""arraybuffer""===e||""blob""===e||""json""===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+"":""+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t(""loader"");if(a.xhrWrappable){var s=t(""handle""),c=t(11),f=t(""ee""),u=[""load"",""error"",""abort"",""timeout""],d=u.length,l=t(""id""),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on(""new-xhr"",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&amp;&amp;(p&gt;34||p&lt;10)||window.opera||t.addEventListener(""progress"",function(t){n.lastSize=t.loaded},!1)}),f.on(""open-xhr-start"",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on(""open-xhr-end"",function(t,n){""loader_config""in NREUM&amp;&amp;""xpid""in NREUM.loader_config&amp;&amp;this.sameOrigin&amp;&amp;n.setRequestHeader(""X-NewRelic-ID"",NREUM.loader_config.xpid)}),f.on(""send-xhr-start"",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&amp;&amp;r){var i=h(r);i&amp;&amp;(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{""abort""===t.type&amp;&amp;(o.params.aborted=!0),(""load""!==t.type||o.called===o.totalCbs&amp;&amp;(o.onloadCalled||""function""!=typeof n.onload))&amp;&amp;o.end(n)}catch(e){try{f.emit(""internal-error"",[e])}catch(r){}}};for(var s=0;s&lt;d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on(""xhr-cb-time"",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&amp;&amp;""function""==typeof e.onload||this.end(e)}),f.on(""xhr-load-added"",function(t,n){var e=""""+l(t)+!!n;this.xhrGuids&amp;&amp;!this.xhrGuids[e]&amp;&amp;(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on(""xhr-load-removed"",function(t,n){var e=""""+l(t)+!!n;this.xhrGuids&amp;&amp;this.xhrGuids[e]&amp;&amp;(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on(""addEventListener-end"",function(t,n){n instanceof m&amp;&amp;""load""===t[0]&amp;&amp;f.emit(""xhr-load-added"",[t[1],t[2]],n)}),f.on(""removeEventListener-end"",function(t,n){n instanceof m&amp;&amp;""load""===t[0]&amp;&amp;f.emit(""xhr-load-removed"",[t[1],t[2]],n)}),f.on(""fn-start"",function(t,n,e){n instanceof m&amp;&amp;(""onload""===e&amp;&amp;(this.onload=!0),(""load""===(t[0]&amp;&amp;t[0].type)||this.onload)&amp;&amp;(this.xhrCbStart=a.now()))}),f.on(""fn-end"",function(t,n){this.xhrCbStart&amp;&amp;f.emit(""xhr-cb-time"",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement(""a""),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split(""://"");!r.port&amp;&amp;o[1]&amp;&amp;(r.port=o[1].split(""/"")[0].split(""@"").pop().split("":"")[1]),r.port&amp;&amp;""0""!==r.port||(r.port=""https""===o[0]?""443"":""80""),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],""/""!==r.pathname.charAt(0)&amp;&amp;(r.pathname=""/""+r.pathname);var i=!n.protocol||"":""===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&amp;&amp;n.port===e.port;return r.sameOrigin=i&amp;&amp;(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t(""handle""),a=t(16),s=t(17),c=t(""ee"").get(""tracer""),f=t(""loader""),u=NREUM;""undefined""==typeof window.newrelic&amp;&amp;(newrelic=u);var d=[""setPageViewName"",""setCustomAttribute"",""setErrorHandler"",""finished"",""addToTrace"",""inlineHit"",""addRelease""],l=""api-"",p=l+""ixn-"";a(d,function(t,n){u[n]=o(l+n,!0,""api"")}),u.addPageAction=o(l+""addPageAction"",!0),u.setCurrentRouteName=o(l+""routeName"",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o=""function""==typeof n;return i(p+""tracer"",[f.now(),t,e],r),function(){if(c.emit((o?"""":""no-"")+""fn-start"",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}catch(t){throw c.emit(""fn-err"",[arguments,this,t],e),t}finally{c.emit(""fn-end"",[f.now()],e)}}}};a(""actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get"".split("",""),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t){""string""==typeof t&amp;&amp;(t=new Error(t)),i(""err"",[t,f.now()])}},{}],13:[function(t,n,e){n.exports=function(t){if(""string""==typeof t&amp;&amp;t.length)return t.length;if(""object""==typeof t){if(""undefined""!=typeof ArrayBuffer&amp;&amp;t instanceof ArrayBuffer&amp;&amp;t.byteLength)return t.byteLength;if(""undefined""!=typeof Blob&amp;&amp;t instanceof Blob&amp;&amp;t.size)return t.size;if(!(""undefined""!=typeof FormData&amp;&amp;t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&amp;&amp;(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){if(!o)return!1;if(t!==o)return!1;if(!n)return!0;if(!i)return!1;for(var e=i.split("".""),r=n.split("".""),a=0;a&lt;r.length;a++)if(r[a]!==e[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var s=navigator.userAgent,c=s.match(a);c&amp;&amp;s.indexOf(""Chrome"")===-1&amp;&amp;s.indexOf(""Chromium"")===-1&amp;&amp;(o=""Safari"",i=c[1])}n.exports={agent:o,version:i,match:r}},{}],16:[function(t,n,e){function r(t,n){var e=[],r="""",i=0;for(r in t)o.call(t,r)&amp;&amp;(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],17:[function(t,n,e){function r(t,n,e){n||(n=0),""undefined""==typeof e&amp;&amp;(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o&lt;0?0:o);++r&lt;o;)i[r]=t[n+r];return i}n.exports=r},{}],18:[function(t,n,e){n.exports={exists:""undefined""!=typeof window.performance&amp;&amp;window.performance.timing&amp;&amp;""undefined""!=typeof window.performance.timing.navigationStart}},{}],19:[function(t,n,e){function r(t){return!(t&amp;&amp;t instanceof Function&amp;&amp;t.apply&amp;&amp;!t[a])}var o=t(""ee""),i=t(17),a=""nr@original"",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s=""function""==typeof e?e(r,a):e||{}}catch(f){l([f,"""",[r,a,o],s])}u(n+""start"",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+""err"",[r,a,d],s),d}finally{u(n+""end"",[r,a,c],s)}}return r(t)?t:(n||(n=""""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="""");var a,s,c,f=""-""===o.charAt(0);for(c=0;c&lt;n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&amp;&amp;Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&amp;&amp;(n[o]=t[o]);return n}function l(n){try{t.emit(""internal-error"",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&amp;&amp;t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&amp;&amp;t(e,r,o);for(var a=n(o),s=m(e),c=s.length,f=0;f&lt;c;f++)s[f].apply(a,r);var d=u[g[e]];return d&amp;&amp;d.push([b,e,r,a]),a}}function p(t,n){y[t]=m(t).concat(n)}function h(t,n){var e=y[t];if(e)for(var r=0;r&lt;e.length;r++)e[r]===n&amp;&amp;e.splice(r,1)}function m(t){return y[t]||[]}function v(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||""feature"",g[e]=n,n in u||(u[n]=[])})}var y={},g={},b={on:p,addEventListener:p,removeEventListener:h,emit:e,get:v,listeners:m,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&amp;&amp;(l.aborted=!0,u=l.backlog={})}var s=""nr@context"",c=t(""gos""),f=t(16),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&amp;&amp;Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t(""ee"").get(""handle"");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||""object""!==n&amp;&amp;""function""!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i=""nr@id"",a=t(""gos"");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!E++){var t=x.info=NREUM.info,n=p.getElementsByTagName(""script"")[0];if(setTimeout(u.abort,3e4),!(t&amp;&amp;t.licenseKey&amp;&amp;t.applicationID&amp;&amp;n))return u.abort();f(g,function(n,e){t[n]||(t[n]=e)}),c(""mark"",[""onload"",a()+x.offset],null,""api"");var e=p.createElement(""script"");e.src=""https://""+t.agent,n.parentNode.insertBefore(e,n)}}function o(){""complete""===p.readyState&amp;&amp;i()}function i(){c(""mark"",[""domContent"",a()+x.offset],null,""api"")}function a(){return O.exists&amp;&amp;performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-x.offset}var s=(new Date).getTime(),c=t(""handle""),f=t(16),u=t(""ee""),d=t(15),l=window,p=l.document,h=""addEventListener"",m=""attachEvent"",v=l.XMLHttpRequest,w=v&amp;&amp;v.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:v,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var y=""""+location,g={beacon:""bam.nr-data.net"",errorBeacon:""bam.nr-data.net"",agent:""js-agent.newrelic.com/nr-1099.min.js""},b=v&amp;&amp;w&amp;&amp;w[h]&amp;&amp;!/CriOS/.test(navigator.userAgent),x=n.exports={offset:s,now:a,origin:y,features:{},xhrWrappable:b,userAgent:d};t(12),p[h]?(p[h](""DOMContentLoaded"",i,!1),l[h](""load"",r,!1)):(p[m](""onreadystatechange"",o),l[m](""onload"",r)),c(""mark"",[""firstbyte"",s],null,""api"");var E=0,O=t(18)},{}]},{},[""loader"",2,10,4,3]);&lt;/script&gt; </code></pre>  <p>Edit 1:</p>  <p>The website I'm trying to extract is <a href=""https://upbit.com/service_center/notice"" rel=""nofollow noreferrer"">https://upbit.com/service_center/notice</a> Its their news page. It is protected by cloudflare so I'm using the a library to handle that bypass. </p>  <p>Code below:</p>  <pre><code>import cfscrape  scraper = cfscrape.create_scraper(delay=15)  # returns a CloudflareScraper instance # Or: scraper = cfscrape.CloudflareScraper()  # CloudflareScraper inherits from requests.Session print scraper.get(""https://upbit.com/service_center/notice"").content  # =&gt; ""&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;..."" </code></pre>  <p>I see the script tags on the web page when I inspect it along with a lot more content but only the script tags and some external static html show up when I print out the contents from the scrape. </p>"	
53823388	Python - How can I scrape with bs4 a javascript code)?	python|beautifulsoup	2018-12-17 21:42:16.320000 UTC	"<p>So I have been trying to scrape out a value from a html that is a javascript. There is alot of javascript in the code but I just want to be able to print out this one:</p>  <pre><code>var spConfig=newProduct.Config({   ""attributes"": {     ""531"": {       ""id"": ""531"",       ""options"": [         {           ""id"": ""18"",           ""hunter"": ""0"",           ""products"": [             ""128709""           ]         },         {           ""label"": ""40 1\/2"",           ""hunter"": ""0"",           ""products"": [             ""120151""           ]         },         {           ""id"": ""33"",           ""hunter"": ""0"",           ""products"": [             ""120152""           ]         },         {           ""id"": ""36"",           ""hunter"": ""0"",           ""products"": [             ""128710""           ]         },         {           ""id"": ""42"",           ""hunter"": ""0"",           ""products"": [             ""125490""           ]         }       ]     }   },    ""Id"": ""120153"",  }); </code></pre>  <p>So I started by doing a code that looks like:</p>  <pre><code>test = bs4.find_all('script', {'type': 'text/javascript'}) print(test) </code></pre>  <p>The output I am getting is pretty huge so I am not able to post it all here but one of them is the javascript as I mentioned at the top and I want to print out only <code>var spConfig=newProduct.Config</code>.</p>  <p>How am I able to do that, to be able to just print out <code>var spConfig=newProduct.Config....</code>  which I later can use json.loads that convert it to a json where I later on can scrape it more easier?</p>  <p><em>For any question or something I haven't explained well. I will apprecaite everything in the comment where I can improve myself aswell here in stackoverflow! :)</em></p>  <p>EDIT:</p>  <p>More example of what bs4 prints out for javascripts</p>  <pre><code>&lt;script type=""text/javascript""&gt;varoptionsPrice=newProduct.Options({   ""priceFormat"": {     ""pattern"": ""%s\u00a0\u20ac"",     ""precision"": 2,     ""requiredPrecision"": 2,     ""decimalSymbol"": "","",     ""groupSymbol"": ""\u00a0"",     ""groupLength"": 3,     ""integerRequired"": 1   },   ""showBoths"": false,   ""idSuffix"": ""_clone"",   ""skipCalculate"": 1,   ""defaultTax"": 20,   ""currentTax"": 20,   ""tierPrices"": [    ],   ""tierPricesInclTax"": [    ],   ""swatchPrices"": null });&lt;/script&gt;, &lt;script type=""text/javascript""&gt;var spConfig=newProduct.Config({   ""attributes"": {     ""531"": {       ""id"": ""531"",       ""options"": [         {           ""id"": ""18"",           ""hunter"": ""0"",           ""products"": [             ""128709""           ]         },         {           ""label"": ""40 1\/2"",           ""hunter"": ""0"",           ""products"": [             ""120151""           ]         },         {           ""id"": ""33"",           ""hunter"": ""0"",           ""products"": [             ""120152""           ]         },         {           ""id"": ""36"",           ""hunter"": ""0"",           ""products"": [             ""128710""           ]         },         {           ""id"": ""42"",           ""hunter"": ""0"",           ""products"": [             ""125490""           ]         }       ]     }   },    ""Id"": ""120153"" });&lt;/script&gt;, &lt;scripttype=""text/javascript""&gt;document.observe('dom:loaded', function(){   varswatchesConfig=newProduct.ConfigurableSwatches(spConfig); });&lt;/script&gt; </code></pre>  <p>EDIT update 2:</p>  <pre><code>try:     product_li_tags = bs4.find_all('script', {'type': 'text/javascript'}) except Exception:     product_li_tags = []   for product_li_tag in product_li_tags:    try:         pat = ""product.Config\((.+)\);""         json_str = re.search(pat, product_li_tag, flags=re.DOTALL).group(1)         print(json_str)    except:        pass  #json.loads(json_str) print(""Nothing"") sys.exit() </code></pre>"	"<p>You can use the <code>.text</code> function to get the content within each tag.  Then, if you know that you want to grab the code that specifically starts with ""<code>varoptionsPrice</code>"", you can filter for that:</p>  <pre><code>soup = BeautifulSoup(myhtml, 'lxml')  script_blocks = soup.find_all('script', {'type': 'text/javascript'}) special_code = '' for s in script_blocks:     if s.text.strip().startswith('varOptionsPrice'):         special_code = s.text         break  print(special_code) </code></pre>  <p>EDIT: To answer your question in the comments, there are a couple of different ways of extracting the part of the text that has the JSON.  You could pass it through a regexp to grab everything between the first left parentheses and before the <code>);</code> at the end.  Though if you want to avoid regexp completely, you could do something like:</p>  <pre><code>json_stuff = special_code[special_code.find('(')+1:special_code.rfind(')')] </code></pre>  <p>Then to make a usable dictionary out of it:</p>  <pre><code>import json j = json.loads(json_stuff) print(j['defaultTax'])  # This should return a value of 20 </code></pre>"
53823388	Python - How can I scrape with bs4 a javascript code)?	python|beautifulsoup	2018-12-17 21:42:16.320000 UTC	"<p>So I have been trying to scrape out a value from a html that is a javascript. There is alot of javascript in the code but I just want to be able to print out this one:</p>  <pre><code>var spConfig=newProduct.Config({   ""attributes"": {     ""531"": {       ""id"": ""531"",       ""options"": [         {           ""id"": ""18"",           ""hunter"": ""0"",           ""products"": [             ""128709""           ]         },         {           ""label"": ""40 1\/2"",           ""hunter"": ""0"",           ""products"": [             ""120151""           ]         },         {           ""id"": ""33"",           ""hunter"": ""0"",           ""products"": [             ""120152""           ]         },         {           ""id"": ""36"",           ""hunter"": ""0"",           ""products"": [             ""128710""           ]         },         {           ""id"": ""42"",           ""hunter"": ""0"",           ""products"": [             ""125490""           ]         }       ]     }   },    ""Id"": ""120153"",  }); </code></pre>  <p>So I started by doing a code that looks like:</p>  <pre><code>test = bs4.find_all('script', {'type': 'text/javascript'}) print(test) </code></pre>  <p>The output I am getting is pretty huge so I am not able to post it all here but one of them is the javascript as I mentioned at the top and I want to print out only <code>var spConfig=newProduct.Config</code>.</p>  <p>How am I able to do that, to be able to just print out <code>var spConfig=newProduct.Config....</code>  which I later can use json.loads that convert it to a json where I later on can scrape it more easier?</p>  <p><em>For any question or something I haven't explained well. I will apprecaite everything in the comment where I can improve myself aswell here in stackoverflow! :)</em></p>  <p>EDIT:</p>  <p>More example of what bs4 prints out for javascripts</p>  <pre><code>&lt;script type=""text/javascript""&gt;varoptionsPrice=newProduct.Options({   ""priceFormat"": {     ""pattern"": ""%s\u00a0\u20ac"",     ""precision"": 2,     ""requiredPrecision"": 2,     ""decimalSymbol"": "","",     ""groupSymbol"": ""\u00a0"",     ""groupLength"": 3,     ""integerRequired"": 1   },   ""showBoths"": false,   ""idSuffix"": ""_clone"",   ""skipCalculate"": 1,   ""defaultTax"": 20,   ""currentTax"": 20,   ""tierPrices"": [    ],   ""tierPricesInclTax"": [    ],   ""swatchPrices"": null });&lt;/script&gt;, &lt;script type=""text/javascript""&gt;var spConfig=newProduct.Config({   ""attributes"": {     ""531"": {       ""id"": ""531"",       ""options"": [         {           ""id"": ""18"",           ""hunter"": ""0"",           ""products"": [             ""128709""           ]         },         {           ""label"": ""40 1\/2"",           ""hunter"": ""0"",           ""products"": [             ""120151""           ]         },         {           ""id"": ""33"",           ""hunter"": ""0"",           ""products"": [             ""120152""           ]         },         {           ""id"": ""36"",           ""hunter"": ""0"",           ""products"": [             ""128710""           ]         },         {           ""id"": ""42"",           ""hunter"": ""0"",           ""products"": [             ""125490""           ]         }       ]     }   },    ""Id"": ""120153"" });&lt;/script&gt;, &lt;scripttype=""text/javascript""&gt;document.observe('dom:loaded', function(){   varswatchesConfig=newProduct.ConfigurableSwatches(spConfig); });&lt;/script&gt; </code></pre>  <p>EDIT update 2:</p>  <pre><code>try:     product_li_tags = bs4.find_all('script', {'type': 'text/javascript'}) except Exception:     product_li_tags = []   for product_li_tag in product_li_tags:    try:         pat = ""product.Config\((.+)\);""         json_str = re.search(pat, product_li_tag, flags=re.DOTALL).group(1)         print(json_str)    except:        pass  #json.loads(json_str) print(""Nothing"") sys.exit() </code></pre>"	"<p>I can think of possible 3 options - which one you use might depend on the size of the project and how flexible you need it to be</p>  <ul> <li><p>Use Regex to extract the objects from the script (fastest, least flexible)</p></li> <li><p>Use ANTLR or similar (eg. <a href=""https://github.com/PiotrDabkowski/pyjsparser"" rel=""nofollow noreferrer"">pyjsparser</a>) to parse the js grammar</p></li> <li><p>Use Selenium or other headless browsers that can interpret the JS for you. With this option, you can use selenium to execute a call to get the value of the variable <a href=""https://stackoverflow.com/questions/10455130/can-selenium-web-driver-have-access-to-javascript-global-variables"">like this</a></p></li> </ul>  <h3>Regex Example (#1)</h3>  <pre><code>&gt;&gt;&gt; script_body = """"""     var x=product.Config({         ""key"": {""a"":1} }); """""" &gt;&gt;&gt; pat = ""product.Config\((.+)\);"" &gt;&gt;&gt; json_str = re.search(pat, script_body, flags=re.DOTALL).group(1) &gt;&gt;&gt; json.loads(json_str) {'key': {'a': 1}} &gt;&gt;&gt; json.loads(json_str)['key']['a'] 1 </code></pre>"
53855443	"How to disable javascript when loading a webpage with python, without using selenium?"	python|selenium|web-scraping|python-requests	2018-12-19 16:32:04.790000 UTC	"<p>I manage a web scraping project which scrapes from websites with no javascript, in which case I use the requests library, and websites with javascript, in which case I use Selenium and Chromedriver. However Selenium is very slow, and I believe the javascript websites have 'javascript disabled' versions of their webpages, which contain all the data I need. how can I load the 'javascript disabled' version of the webpage without using Selenium?</p>  <p>This is one of the websites: <a href=""https://www.sainsburys.co.uk/shop/gb/groceries"" rel=""nofollow noreferrer"">https://www.sainsburys.co.uk/shop/gb/groceries</a></p>  <p>For example, I want to extract all products from the following page:</p>  <p><a href=""https://www.sainsburys.co.uk/shop/gb/groceries/bakery/all-cakes---tarts#langId=44&amp;storeId=10151&amp;catalogId=10123&amp;categoryId=340930&amp;parent_category_rn=12320&amp;top_category=12320&amp;pageSize=36&amp;orderBy=FAVOURITES_ONLY%7CSEQUENCING%7CTOP_SELLERS&amp;searchTerm=&amp;beginIndex=0"" rel=""nofollow noreferrer"">https://www.sainsburys.co.uk/shop/gb/groceries/bakery/all-cakes---tarts#langId=44&amp;storeId=10151&amp;catalogId=10123&amp;categoryId=340930&amp;parent_category_rn=12320&amp;top_category=12320&amp;pageSize=36&amp;orderBy=FAVOURITES_ONLY%7CSEQUENCING%7CTOP_SELLERS&amp;searchTerm=&amp;beginIndex=0</a></p>  <p>To do this, I use the xpath ""//div[@id='productLister']/ul[contains(@class, 'productLister')]/li/div[contains(@class, 'product')]""</p>  <p>If you load the page in your browser with Javascript, this selector works with no issue.</p>  <p>If you disable javascript on the webpage using a browser extension (I use Quick Javascript Switcher for Chrome), you can see that the products still load, and you can still use the selector. This means that Sainsbury's has a 'javascript disabled' version of the webpage, which still contains all the data I need.</p>  <p>However, if I try and use requests and this xpath to extract the data, it doesn't work.</p>"	
53866070	"Python API, consumed by JavaScript, sending JSON data"	javascript|python|json|api	2018-12-20 09:47:33.013000 UTC	"<p>I have REST API made with Python, and i want to use it via JavaScript. The API needs some data to be send from the the front-end as JSON, so i make the call like this:</p>  <pre><code>var xhttp = new XMLHttpRequest(),     dataToSend = '{""key"":""value""}';  xhttp.onreadystatechange = function() {     // Some logic..... };  xhttp.open(""POST"", ""URL to the API"", true); xhttp.setRequestHeader(""Content-type"", ""application/json""); xhttp.send(dataToSend); </code></pre>  <p>From the server i get 500 with this as reason: </p>  <p><strong>""TypeError: the JSON object must be str, not 'dict'""</strong></p>  <p>I tried to change the MIME type to be ""text/plain"", ""text/html"" and several others but it just changed the response to:</p>  <p><strong>TypeError: the JSON object must be str, not 'NoneType'</strong></p>  <p>The back-end people, said that the API works fine, and that they tested it with the following python code</p>  <pre><code>request_result = requests.post('API URL', json=request_data_jsn).json(); </code></pre>  <p>Any idea what can I do so that it works?</p>"	"<p>You must convert dataToSend to string. Example: using <em>JSON.stringify</em></p>  <pre><code>var xhttp = new XMLHttpRequest(),     dataToSend = {""key"":""value""}  xhttp.onreadystatechange = function(data) {     console.log(data); };  dataToSend = JSON.stringify(dataToSend); xhttp.open(""POST"", ""URL to the API"", true) xhttp.setRequestHeader(""Content-type"", ""application/json"") xhttp.send(dataToSend); </code></pre>"
53875003	Python Web Scraper - limited results per page defined by page JavaScript	javascript|python|web-scraping|beautifulsoup	2018-12-20 19:37:45.740000 UTC	"<p>I'm having trouble getting the full results of searches on this website: <a href=""https://www.gasbuddy.com/home?search=67401&amp;fuel=1"" rel=""nofollow noreferrer"">https://www.gasbuddy.com/home?search=67401&amp;fuel=1</a> This link is one of the search results I'm having trouble with. The problem is that it only displays the first 10 results (I know, that's a common issue that has been described in multiple threads on stackoverflow - but the solutions found elsewhere haven't worked here.) The page's html seems to be generated by a javascript function, which doesn't embed all of the results into the page. I've tried using a function to access the link provided in the ""More [...] Gas Prices"" button, but that doesn't yield the full results either.  Is there a way to access this full list, or am I out of luck?</p>  <p>Here's the Python I'm using to get the information: </p>  <pre><code># Gets the prices from gasbuddy based on the zip code. def get_prices(zip_code, store):      search = zip_code     # Establishes the search params to be passed to the website.     params ={'search': search, 'fuel': 1}     # Contacts website and make the search.       r = requests.get('https://www.gasbuddy.com/home', params=params, cookies={'DISPLAYNUM': '100000000'})      # Turn the results of the above into Beautiful Soup object.     soup = BeautifulSoup(r.text, 'html.parser')      # Searches out the div that contains the gas station information.     results = soup.findAll('div', {'class': 'styles__stationListItem___xKFP_'}) </code></pre>"	"<p>Use <a href=""http://chromedriver.chromium.org/getting-started"" rel=""nofollow noreferrer"">selenium</a>. It's a little bit of work to set up, but it sounds like it's what you need. </p>  <p><a href=""https://github.com/lmeninato/GoFundMe/blob/master/python/get_categories_and_urls.py"" rel=""nofollow noreferrer"">Here</a> I used it to click on a website's ""show more"" button. See more at my exact project. </p>  <pre><code>from selenium import webdriver url = 'https://www.gofundme.com/discover' driver = webdriver.Chrome('C:/webdriver/chromedriver.exe') driver.get(url) for elem in driver.find_elements_by_link_text('Show all categories'):         try:             elem.click()             print('Succesful click')         except:             print('Unsuccesful click')  source = driver.page_source  driver.close() </code></pre>  <p>So basically you need to find the name of the element you need to click to show more info, or you need to use a webdriver to scroll down the webpage.</p>"
53885186	Python / Django fails at decoding file encoded as base64 by javascript	javascript|python|django|base64	2018-12-21 12:57:15.633000 UTC	"<p>I'm using this, in react, to base64 encode an image file:</p>  <pre><code>  fileToBase64 = (filename, filepath) =&gt; {     return new Promise(resolve =&gt; {       var file = new File([filename], filepath);       var reader = new FileReader();       reader.onload = function(event) {         resolve(event.target.result);       };       reader.readAsDataURL(file);     });   }; </code></pre>  <p>Which gets called by this:</p>  <pre><code>  handleChangeFile = event =&gt; {     const { name, files } = event.target;     if (files.length) {       const file = files[0];       let fields = this.state.fields;       this.fileToBase64(file).then(result =&gt; {         fields[name].value = result;       });       fields[name].isFilled = true;        this.setState({         fields: fields       });     }   }; </code></pre>  <p>And the whole fields variable gets posted to a django server, no issues so far.</p>  <p>On the python django end:</p>  <pre><code>str_encoded = request.data[""file""] str_decoded = base64.b64decode(str_encoded) </code></pre>  <p>The second line returns an error that <code>binascii.Error: Invalid base64-encoded string: length cannot be 1 more than a multiple of 4</code>. I've googled and read that this is probably a padding issue, but I don't know how to fix it.</p>"	"<p>You will have to strip the <code>base64</code> string from the prefix added by <code>javascript</code>. The prefix is sth like <code>data:{type};base64,{actual-base64-string-follows}</code></p>  <p>In php, where I had same issue, I tested if string starts with <code>""data:""</code> prefix and I strip it from start of string up to the position of the <code>;</code> (semicolon) plus 8 characters (to catch the final "";base64,"").</p>  <p>Then you can use python to decode the <code>base64</code> string remaining as it is now a valid <code>base64</code> string.</p>"
53892534	Creating javascript list from python list using jinja2	javascript|python|html|jinja2	2018-12-22 02:11:53.563000 UTC	"<p>I am trying to create a javascript list from a python list using jinja2. My current implementation is this:</p>  <pre><code>var go_words = [{{""\"""" + user.names | join('\"",\""') + ""\""""}}] </code></pre>  <p>which yields:</p>  <pre><code>var go_words = [&amp;#39;Name 1&amp;#39;, ...] </code></pre>  <p>For some reason the <code>""</code> character is not being interpreted correctly and thus my script is failing. Is there anyway to fix this? Note that my code for this javascript is in an html <code>&lt;script&gt;</code> tag which is included from another html template.</p>  <p>Even an inline list in the jinja brackets yields and incorrect list</p>  <pre><code>var go_words = {{[""test"", ""test1"", ""test2""]}}   var go_words = [&amp;#39;test&amp;#39;, &amp;#39;test1&amp;#39;, &amp;#39;test2&amp;#39;] </code></pre>"	<p>You can use the <code>safe</code> filter to prevent Jinja from escaping templated values. For example:</p>  <pre><code>var goWords = {{ user.names|safe }}; </code></pre>
53893835	Parsing list of strings in javascript sent from Python	parsing	2018-12-22 07:24:22.840000 UTC	"<p>I am sending a list from Python to Javascript like  lis=['w','d'] and calling str(lis) in python.In javascript I am not able to parse this list </p>"	
53898672	Sending a string from a Javascript client to a Python server(without the use of a Web Framework)?	javascript|python|google-chrome-extension|webserver	2018-12-22 19:24:01.310000 UTC	"<p>I want to send a url from a chrome extension to a python server. I am currently working with the websockets and asyncio modules on python and the WebSocket for Javascript but whenever my python server receives anything it just says 'undefined.' Anyways, I do not want to use a Web Framework, a lot of the answers to this kind of question I have seen use Web Frameworks which I would like to avoid as much as possible. Here is my current Python code:</p>  <pre><code>import asyncio import websockets  async def hello(websocket, path):     name = await websocket.recv()     print(f""&lt; {name}"") start_server = websockets.serve(hello, 'localhost', 12345)  asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() </code></pre>  <p>And here is my Javascript code:</p>  <pre><code>var websocket; var url; var data; websocket = new WebSocket(""ws://127.0.0.1:12345""); websocket.addEventListener(""DOMContentLoaded"", sendUrl());  function encode_utf8(s) {   return unescape(encodeURIComponent(s)); }  function sendUrl() {   chrome.tabs.query({'active': true, 'lastFocusedWindow': true}, function (tabs) {     url = tabs[0].url;     data = encode_utf8(url)     console.log(url);   });    websocket.onopen = () =&gt; websocket.send(data); } </code></pre>"	
53918187	"Python Requests - ""To continue your browser has to accept cookies and has to have JavaScript enabled."""	python|python-3.x|web-scraping|cookies|python-requests	2018-12-24 22:49:50.600000 UTC	"<p>I would like to scrape some ads for personal use from mobile.de. </p>  <p>I am using python 3.6 with requests lib, but I am facing issue with some bot inspection. How could I pass this gateway from their website?</p>  <pre><code>import requests from bs4 import BeautifulSoup  r = requests.get(""https://www.mobile.de/?lang=en"") bs = BeautifulSoup(r.content, 'lxml') print(bs) </code></pre>  <p>This part of code displays me following:</p>  <pre><code>&lt;p&gt;To continue your browser has to accept cookies and has to have JavaScript enabled.&lt;/p&gt; </code></pre>  <p>Where can I find the logic that I need to solve in order to pass this?</p>"	"<p>They could be doing this a number of different ways, ranging from trivial to tricky to bypass at scale. One approach would be to modify your <code>User-Agent</code>, as their simplest approach would be to deny requests based on that.</p>  <pre><code>r = requests.get(     'https://yoursite.com',     headers = {         'User-Agent': 'Popular browser\'s user-agent',     } ) </code></pre>  <p>It doesn't look like it from the example URL you show, but they could be expecting that URL to be hit <em>after</em> hitting another page on the site that drops a cookie. If that's the case, make the earlier request and provide the cookie in your <code>requests</code> call.</p>"
53918187	"Python Requests - ""To continue your browser has to accept cookies and has to have JavaScript enabled."""	python|python-3.x|web-scraping|cookies|python-requests	2018-12-24 22:49:50.600000 UTC	"<p>I would like to scrape some ads for personal use from mobile.de. </p>  <p>I am using python 3.6 with requests lib, but I am facing issue with some bot inspection. How could I pass this gateway from their website?</p>  <pre><code>import requests from bs4 import BeautifulSoup  r = requests.get(""https://www.mobile.de/?lang=en"") bs = BeautifulSoup(r.content, 'lxml') print(bs) </code></pre>  <p>This part of code displays me following:</p>  <pre><code>&lt;p&gt;To continue your browser has to accept cookies and has to have JavaScript enabled.&lt;/p&gt; </code></pre>  <p>Where can I find the logic that I need to solve in order to pass this?</p>"	"<p>In order for <strong>requests</strong> can handle and keep cookies sent by the server, you must use <code>request.Session()</code></p> <p>so, instead of</p> <pre><code>r = requests.get(&quot;https://www.mobile.de/?lang=en&quot;)  </code></pre> <p>use it like this:</p> <pre><code>req = requests.Session() req.get(&quot;https://www.mobile.de/?lang=en&quot;) </code></pre>"
53918187	"Python Requests - ""To continue your browser has to accept cookies and has to have JavaScript enabled."""	python|python-3.x|web-scraping|cookies|python-requests	2018-12-24 22:49:50.600000 UTC	"<p>I would like to scrape some ads for personal use from mobile.de. </p>  <p>I am using python 3.6 with requests lib, but I am facing issue with some bot inspection. How could I pass this gateway from their website?</p>  <pre><code>import requests from bs4 import BeautifulSoup  r = requests.get(""https://www.mobile.de/?lang=en"") bs = BeautifulSoup(r.content, 'lxml') print(bs) </code></pre>  <p>This part of code displays me following:</p>  <pre><code>&lt;p&gt;To continue your browser has to accept cookies and has to have JavaScript enabled.&lt;/p&gt; </code></pre>  <p>Where can I find the logic that I need to solve in order to pass this?</p>"	"<p>The reason you got unexpected content is you do not have a valid header. Just like @afit said. But <code>To continue your browser has to accept cookies and has to have JavaScript enabled.</code> is making sense, because if you do not enable JavaScript you won't load full of content. </p>  <p>Note: I recommend you use <code>selenium</code> to do this. <code>requests_html</code> can't access website successfully dues to lack of suitable header while it is rendering. Btw, if you want to access the url inside JavaScript and grab content, it will be tough job.</p>  <pre><code>from bs4 import BeautifulSoup from selenium import webdriver  dr = webdriver.Chrome() dr.get(""https://www.mobile.de/?lang=en"") bs = BeautifulSoup(dr.page_source,""lxml"") </code></pre>"
53923782	Webpage (in php) i.e Javascript websocket client is not connecting to Python Websocket Server	javascript|python|websocket|server|client	2018-12-25 15:53:11.543000 UTC	"<p>It is showing this: WebSocket connection to 'ws://10.14.79.58:1030/websocket' failed: Error during WebSocket handshake: Unexpected response code: 404</p>  <p>This is my sample python server code for client:</p>  <pre><code>import tornado.ioloop import tornado.web import tornado.websocket from tornado.options import define, options, parse_command_line  #define(1020, default=8888, type=int)   class IndexHandler(tornado.web.RequestHandler):     def get(self):         self.render(""test.html"")   class WebSocketHandler(tornado.websocket.WebSocketHandler):     def open(self, *args):         print (""New connection"")         self.write_message(""Welcome!"")      def on_message(self, message):         print (""New message {}"".format(message))         self.write_message(message.upper())      def on_close(self):         print (""Connection closed"")   app = tornado.web.Application([     (r'/webscoket/', WebSocketHandler), ])   if __name__ == '__main__':     app.listen(1030)     tornado.ioloop.IOLoop.instance().start() </code></pre>  <hr>  <p>This is my <code>php</code> file in which <code>js</code> is used for connection:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;head&gt;  &lt;/head&gt; &lt;body&gt; &lt;h1&gt;This is connect file&lt;/h1&gt; &lt;script&gt; var connection = new WebSocket('ws://10.14.79.58:1030/websocket');           connection.onmessage = function (e) {         //document.getElementById(""text"").innerHTML = e.data;         alert(""Connection to the websocket established!!""); }  &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>"	
53925081	Python Jinja2 Assign javascript var from backend	javascript|python|jinja2	2018-12-25 19:26:06.960000 UTC	<p>I'm having a for loop where i need to assign a python value to a javascript variable and i can't really make it work:(</p>  <pre><code>{% for row in temp %}     var year = {{ row[0]|safe }} {% endfor %} </code></pre>  <p>I've tried in many ways but it will always give me </p>  <pre><code>Uncaught SyntaxError: Unexpected token var </code></pre>  <p>What's the right syntax for this?</p>	"<p>The new line before the closing of the for loop is not inserted into the document, so the code running on the client side (e.g. for a loop of length 2) is this:</p>  <pre><code>var year = '2018'var year = '2019' </code></pre>  <p>If you try running this code, the exception you mentioned is raised. So this is a <em>client-side</em> error. The simplest solution is to add a <strong>semicolon</strong> at the end of the row, which allows multiple javacript declarations on the same row:</p>  <pre><code>{% for row in temp %}     var year = {{ row[0]|safe }}; {% endfor %} </code></pre>  <p>Resulting in (for my example):</p>  <pre><code>var year = '2018';var year = '2019' </code></pre>  <p>I must say though, I do not understand the logic behind your code, as the variable 'year' gets overwritten upon each iteration.</p>"
53964604	Python code to get a value from javascript	javascript|python|html	2018-12-28 21:47:19.780000 UTC	"<p>I want to run this code in JavaScript <strong><em>from PYTHON</em></strong> maybe with  (PyV8, js2py, BeautifulSoup or seleniumto) to get the image path and print or store it in csv file, so I want to print image path like ""data:image/png;base64,iVBORw0KGgo~~""</p>  <p>Thanks a lot and happy new year!</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;  &lt;head&gt;   &lt;script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript""&gt;     google.charts.load('current', {       'packages': ['corechart']     });     google.charts.setOnLoadCallback(drawChart);      function drawChart() {       var data = google.visualization.arrayToDataTable([         ['Year', 'Sales', 'Expenses'],         ['2004', 1000, 400],         ['2005', 1170, 460],         ['2006', 660, 1120],         ['2007', 1030, 540]       ]);        var options = {         title: 'Company Performance',         curveType: 'function',         legend: {           position: 'bottom'         }       };        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));       google.visualization.events.addListener(chart, 'ready', function() {         curve_chart.innerHTML = '&lt;img  src=""' + chart.getImageURI() + '""&gt;';         console.log(curve_chart.innerHTML);       });       chart.draw(data, options);     }   &lt;/script&gt; &lt;/head&gt;  &lt;body&gt;   &lt;div id=""curve_chart"" style=""width: 900px; height: 500px""&gt;&lt;/div&gt; &lt;/body&gt;  &lt;/html&gt;</code></pre> </div> </div> </p>"	
53965454	How do I send data from Javascript to python in this instance?	javascript|python|flask	2018-12-28 23:40:19.863000 UTC	"<p>I coded a simple blackjack game based on Javascript and HTMl5, but I would like to send data from the game to my python code.</p>  <p>I am currently utilizing Flask to create the web app version of blackjack, but I am confused on how I can relay information from blackjack to python when the player wins. </p>  <p>Ie. After the Player wins the hand, From the JS code, send the python code ""won"",  from here my Python code can add the winnings amount to the players total and save this in the mongo database. From here refresh the blackjack page.</p>  <p>JS code function:</p>  <pre><code>if (dealerTotal &gt; 21) {   $(""#message"").html('Dealer Bust!');    clearInterval(keepDealing);   /// Pay up   var bet = $(""#bet"").html();   var money = $(""#money"").html();   var winnings = bet * 2; }  if (dealerTotal &gt;= 17) {   /// You Win   if (playerTotal &gt; dealerTotal) {      $(""#message"").html('You Win!');      /// Pay up     var bet = $(""#bet"").html();     var money = $(""#money"").html();     var winnings = bet * 2; **     How to relay winnings to python **    }    /// You Lose   if (playerTotal &lt; dealerTotal) {      $(""#message"").html('You Lose!');     /// Pay up     var bet = $(""#bet"").html();     var money = $(""#money"").html();     var winnings = 0; **     How to relay winnings to python **   }    if (playerTotal == dealerTotal) {     //I can work on this later.   } } </code></pre>  <p>All my python code does is need a way to accept a javascript input. For example html form inputs are accepted in flask as <code>request.form['whatever']</code> but how would I accept a javascript variable. </p>  <p>If there is anything to be clarified please let me know</p>  <p>Thanks </p>"	"<p>I hope you are using Flask.You can use Ajax in jquery to post to that endpoint and then at that point You have to specify the</p>  <pre><code>@app.route(""/end-point"") def endpoint():     if request.is_xhr:         #specify what input you want to get from request.form['whatever'] </code></pre>  <p>and in ajax part with jquery, use </p>  <pre><code>$.ajax({ url: ""/end-point"" method:method // where method is POST, GET, PUT or any tou want data: formData  }) </code></pre>  <p>If you have any further question let me know in comments</p>"
53965454	How do I send data from Javascript to python in this instance?	javascript|python|flask	2018-12-28 23:40:19.863000 UTC	"<p>I coded a simple blackjack game based on Javascript and HTMl5, but I would like to send data from the game to my python code.</p>  <p>I am currently utilizing Flask to create the web app version of blackjack, but I am confused on how I can relay information from blackjack to python when the player wins. </p>  <p>Ie. After the Player wins the hand, From the JS code, send the python code ""won"",  from here my Python code can add the winnings amount to the players total and save this in the mongo database. From here refresh the blackjack page.</p>  <p>JS code function:</p>  <pre><code>if (dealerTotal &gt; 21) {   $(""#message"").html('Dealer Bust!');    clearInterval(keepDealing);   /// Pay up   var bet = $(""#bet"").html();   var money = $(""#money"").html();   var winnings = bet * 2; }  if (dealerTotal &gt;= 17) {   /// You Win   if (playerTotal &gt; dealerTotal) {      $(""#message"").html('You Win!');      /// Pay up     var bet = $(""#bet"").html();     var money = $(""#money"").html();     var winnings = bet * 2; **     How to relay winnings to python **    }    /// You Lose   if (playerTotal &lt; dealerTotal) {      $(""#message"").html('You Lose!');     /// Pay up     var bet = $(""#bet"").html();     var money = $(""#money"").html();     var winnings = 0; **     How to relay winnings to python **   }    if (playerTotal == dealerTotal) {     //I can work on this later.   } } </code></pre>  <p>All my python code does is need a way to accept a javascript input. For example html form inputs are accepted in flask as <code>request.form['whatever']</code> but how would I accept a javascript variable. </p>  <p>If there is anything to be clarified please let me know</p>  <p>Thanks </p>"	"<p>Personally, I would manifest a json file which the javascript could upload its data to and python could read it from. This method is probably not the most efficient but has more capability (such as storing the data and analyzation) than others.</p>  <p>-Ryan</p>"
53989420	Issue clicking Javascript button with python/Selenium	python|selenium|web-scraping	2018-12-31 16:17:01.137000 UTC	"<p>I am trying to click the button labled ""Pickup"" at the following link :</p>  <p><a href=""https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=01291"" rel=""nofollow noreferrer"">https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=01291</a></p>  <p>My code is below but does nothing until it fails with the error </p>  <blockquote>   <p>element not interactable</p> </blockquote>  <pre><code>pickupurl = 'https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=1291'  driver = webdriver.Chrome('d:\\chromedriver\\chromedriver.exe') driver.implicitly_wait(80) driver.get(pickupurl)    button = driver.find_elements_by_xpath('//*[@id=""ctl00_ctl00_PickupButton""]') button.click() </code></pre>  <p>The code appears to locate an element as when I print 'button' I get an element object.</p>  <p>I've tried using driver.execute_script to execute the onclick= attribute but this does nothing as well.</p>  <p>Any help is appreciated.</p>"	"<p>Using <a href=""https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html"" rel=""nofollow noreferrer""><code>WebDriverWait</code></a> and <a href=""https://seleniumhq.github.io/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.expected_conditions.html"" rel=""nofollow noreferrer""><code>expected_conditions</code></a> is a good practice! </p>  <p>see <a href=""https://selenium-python.readthedocs.io/waits.html#explicit-waits"" rel=""nofollow noreferrer"">explicit-waits</a>.</p>  <p>This works for me:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  pickupurl = 'https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=1291' driver = webdriver.Chrome('d:\\chromedriver\\chromedriver.exe') driver.get(pickupurl) wait = WebDriverWait(driver, 10) pickup_button = wait.until(EC.element_to_be_clickable((By.XPATH, ""//div[@id='btnPickupDiv']/div[@class='Button']"")))  pickup_button.click() loacter = wait.until(EC.presence_of_element_located((By.CLASS_NAME, ""AddressZipLabelDiv""))) driver.quit() </code></pre>  <p>The issue you had probably had something to do with <code>find_elements_by_xpath</code> you should use <code>find_element_by_xpath</code> without the <code>s</code>...</p>"
53989420	Issue clicking Javascript button with python/Selenium	python|selenium|web-scraping	2018-12-31 16:17:01.137000 UTC	"<p>I am trying to click the button labled ""Pickup"" at the following link :</p>  <p><a href=""https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=01291"" rel=""nofollow noreferrer"">https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=01291</a></p>  <p>My code is below but does nothing until it fails with the error </p>  <blockquote>   <p>element not interactable</p> </blockquote>  <pre><code>pickupurl = 'https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=1291'  driver = webdriver.Chrome('d:\\chromedriver\\chromedriver.exe') driver.implicitly_wait(80) driver.get(pickupurl)    button = driver.find_elements_by_xpath('//*[@id=""ctl00_ctl00_PickupButton""]') button.click() </code></pre>  <p>The code appears to locate an element as when I print 'button' I get an element object.</p>  <p>I've tried using driver.execute_script to execute the onclick= attribute but this does nothing as well.</p>  <p>Any help is appreciated.</p>"	"<p>The following works for me</p>  <pre><code>from selenium import webdriver  d = webdriver.Chrome() url = 'https://firehouse.alohaorderonline.com/StartOrder.aspx?SelectMenuType=Retail&amp;SelectMenu=1000560&amp;SelectSite=01291' d.get(url) d.execute_script('document.getElementById(""ctl00_ctl00_Content_Content_btnPickup"").click();') </code></pre>  <hr>  <p>Helpful warning from @Andersson</p>  <p><em>element.click() executed via execute_script doesn't really makes a click, but just triggers onclick action of element (link, input, button, etc). So if you're using this approach for web-testing you might miss tons of bugs</em></p>"
