8703945	Download a file from a site (partly written in Javascript) using Python	javascript|python|selenium|download	2012-01-02 18:12:46.143000 UTC	"<p>I'm trying to use Python to download a voice file (mp3) from <a href=""http://ivona.com/pl/"" rel=""nofollow noreferrer"">this</a> site:</p>  <p>I've tried to use mechanize and twill but I haven't got the proper result. I've heard about selenium as well. Anyway, I don't even know if it makes sense technically (mechanize + Javascript).</p>  <p>I was looking for an answer and finally I've found this <a href=""https://stackoverflow.com/a/8289068/1126604"">solution</a>.</p>  <p>It seems like a similar problem to mine but I have absoutely no idea what should I put instead of the 4th line.</p>  <p>If you have any proposition (maybe completely different to mine) I'll be glad to see it.</p>"	8704187	"<p><em>(Moving to answer to get more space)</em></p>  <p>Thanks for pointing me to selenium, I didn't know that and it looks cool; anyways: I had a quick look and the js seems to fire an ajax request, that yields no apparent result -- I guess the audio transfer is done some way in the background via flash or so; anyways: what about using the service they offer: developer.ivona.com instead of trying hacking your webservice out of the demo interface..?</p>  <p>Anyways, here it is the hacked web-service you asked for:</p>  <p>This is the URL you want to GET:</p>  <pre><code>""http://www.ivona.com/voicetest.php?rtr=1&amp;t2r=%(the_text)s..&amp;v2r=dXNfc2FsbGk.&amp;lang=us"" % dict(     the_text=base64.b64encode(""Hello, world!""),     the_voice=base64.b64encode(""us_salli""),     ) </code></pre>  <p>You can test that with, for example, mplayer:</p>  <pre><code>mplayer ""http://www.ivona.com/voicetest.php?rtr=1&amp;t2r=SGVsbG8sIHdvcmxkIQ==..&amp;v2r=dXNfc2FsbGk.&amp;lang=us"" </code></pre>  <p>And, from Python, use urllib to retrieve and store somewhere.</p>  <p>Beware that, since this is an unauthorized use, you might get blocked / incur in legal issues / etc. -- don't use in a production application!</p>"
8725401	Difference between Python and Javascript in evaluating a regular expression	javascript|python|regex	2012-01-04 10:36:25.583000 UTC	"<p>First of all, this is not a dupe of <a href=""https://stackoverflow.com/questions/636485/whats-different-between-python-and-javascript-regular-expressions"">this question</a>.</p>  <p>In Javascript this expression seems to be evaluated correctly:</p>  <pre><code>\\/(omniture|mbox|hbx|omniunih)(.*)? </code></pre>  <p>If I pass it to Python <code>re</code> module, bad things happen. In fact, the following returns an error:</p>  <pre><code>import re re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?')  In [101]: re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?') --------------------------------------------------------------------------- error                                     Traceback (most recent call last) /home/fakk/spider.io/1/&lt;ipython-input-101-b5b19eb3b66e&gt; in &lt;module&gt;() ----&gt; 1 re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?')  /usr/lib/python2.7/re.pyc in compile(pattern, flags)     188 def compile(pattern, flags=0):     189     ""Compile a regular expression pattern, returning a pattern object."" --&gt; 190     return _compile(pattern, flags)     191      192 def purge():  /usr/lib/python2.7/re.pyc in _compile(*key)     242         p = sre_compile.compile(pattern, flags)     243     except error, v: --&gt; 244         raise error, v # invalid expression     245     if len(_cache) &gt;= _MAXCACHE:     246         _cache.clear()  error: nothing to repeat </code></pre>  <p>Python complains about the <code>(.*)?</code> part, which me myself am not able to understand.</p>  <p>My questions are:</p>  <ol> <li>What does <code>(.*)?</code> do in JS? Match zero or one (<code>?</code>) of zero or more (<code>*</code>) chars (<code>.</code>)? What's the point?</li> <li>How can I translate it in Python?</li> </ol>"	8725512	"<p>The question mark is superfluous, as you reflect yourself, it doesn't really make any sense, remove it and you should be in business.</p>"
8725401	Difference between Python and Javascript in evaluating a regular expression	javascript|python|regex	2012-01-04 10:36:25.583000 UTC	"<p>First of all, this is not a dupe of <a href=""https://stackoverflow.com/questions/636485/whats-different-between-python-and-javascript-regular-expressions"">this question</a>.</p>  <p>In Javascript this expression seems to be evaluated correctly:</p>  <pre><code>\\/(omniture|mbox|hbx|omniunih)(.*)? </code></pre>  <p>If I pass it to Python <code>re</code> module, bad things happen. In fact, the following returns an error:</p>  <pre><code>import re re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?')  In [101]: re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?') --------------------------------------------------------------------------- error                                     Traceback (most recent call last) /home/fakk/spider.io/1/&lt;ipython-input-101-b5b19eb3b66e&gt; in &lt;module&gt;() ----&gt; 1 re.compile (u'\\/(omniture|mbox|hbx|omniunih)(.*)?')  /usr/lib/python2.7/re.pyc in compile(pattern, flags)     188 def compile(pattern, flags=0):     189     ""Compile a regular expression pattern, returning a pattern object."" --&gt; 190     return _compile(pattern, flags)     191      192 def purge():  /usr/lib/python2.7/re.pyc in _compile(*key)     242         p = sre_compile.compile(pattern, flags)     243     except error, v: --&gt; 244         raise error, v # invalid expression     245     if len(_cache) &gt;= _MAXCACHE:     246         _cache.clear()  error: nothing to repeat </code></pre>  <p>Python complains about the <code>(.*)?</code> part, which me myself am not able to understand.</p>  <p>My questions are:</p>  <ol> <li>What does <code>(.*)?</code> do in JS? Match zero or one (<code>?</code>) of zero or more (<code>*</code>) chars (<code>.</code>)? What's the point?</li> <li>How can I translate it in Python?</li> </ol>"	8725560	"<p>Your regular expression does not make sense, the <code>?</code> at the end of your string is not needed and will in fact never match anything. In addition I suggest you use <code>r''</code> to make your expression easier to read:</p>  <pre><code>import re my_regex = re.compile(r'\/(omniture|mbox|hbx|omniunih)(.*)') </code></pre>"
8838334	How can I debug txJSON-Rpc calls using a javascript client and Python server?	python|rpc|json-rpc	2012-01-12 16:13:54.087000 UTC	"<p>I have implemented a wxPython app, that also has a Twisted txJSONrpc server in it. This is my RPC ""server""; I can call it using a TCP socket and issue commands.  </p>  <p>There is a Python test script called client_subhandled.py in txjsonrpc that I used to test, and it calls and receives an answer from the RPC server, so Python client/server communication works.  </p>  <p>However, I need to make JSON RPC calls from javascript, not from Python. To do that I have used a small java applet that allows you to open a TCP socket from javascript and read and write to/from it (java_socket_bridge.js). This also works, I have tested it not using the JSON RPC protocol, but sending and receiving plain text using a simple twisted echo protocol.</p>  <p>The problem is that using javascript as a client, I can't seem to get rpc JSON calls to work. Is there a way to debug incoming JSON rpc calls in txJSONrpc? I would ideally like to see what JSON objects come in in the server to see if they're compliant.  </p>  <p>Thanks!</p>  <pre><code>from twisted.internet import wxreactor  # socket library wxreactor.install()                     # for using twisted along with wxPython  # using netstring TCP protocol from txjsonrpc.netstring import jsonrpc from twisted.web import server  # import twisted reactor *only after* installing wxreactor from twisted.internet import reactor  myreactor = reactor  def register(application):     # initialise and run the TWISTED reactor     reactor.registerWxApp(application)     #rpcCom.myreactor.listenTCP(9000, rpcCom.EchoServerFactory())     reactor.listenTCP(9000, factory)     reactor.run()  class Example(jsonrpc.JSONRPC):     """"""An example object to be published.""""""      def jsonrpc_echo(self, x):         """"""Return all passed args.""""""         print ""echo called""         return x  class Testing(jsonrpc.JSONRPC):      def jsonrpc_getList(self):         """"""Return a list.""""""         return [1,2,3,4,'a','b','c','d']  class Math(jsonrpc.JSONRPC):     """"""     An example object to be published.     """"""     def jsonrpc_add(self, a, b):         """"""         Return sum of arguments.         """"""         return a + b  factory = jsonrpc.RPCFactory(Example) factory.putSubHandler('math', Math) factory.putSubHandler('testing', Testing)  factory.addIntrospection() </code></pre>"	8852161	"<p>have you tried using <a href=""http://www.wireshark.org"" rel=""nofollow"">Wireshark</a> ?</p>  <p>Be careful, it seems like there are some issues when capturing on localhost ;)</p>"
8898961	Python BeautifulSoup on javascript tables with multiple pages	javascript|python|screen-scraping|beautifulsoup	2012-01-17 17:23:55.010000 UTC	"<p>I used to have a python script that pulled data from the below table properly using Mechanize and BeautifulSoup.  However, this site has recently changed the encoding of the table to javascript, and I'm having trouble working with it because there are multiple pages to the table.</p>  <p><a href=""http://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=bat&amp;lg=all&amp;qual=0&amp;type=8&amp;season=2011&amp;month=0&amp;season1=&amp;ind=0&amp;team=25&amp;players=0"" rel=""nofollow"">http://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=bat&amp;lg=all&amp;qual=0&amp;type=8&amp;season=2011&amp;month=0&amp;season1=&amp;ind=0&amp;team=25&amp;players=0</a></p>  <p>For example, in the link above, how could I grab the data from both page 1 and page 2 of the table? FWIW, The URL doesn't change.</p>"	8899034	"<p>Mechanize doesn't handle javascript.</p>  <p>You could observe what requests are made when you click the button (using Firebug in Firefox or Developer Tools in Chrome). Than try to reverse engineer the javascript running behind the page and try to do the similar thing using your python code, for that take a look at <a href=""http://code.google.com/p/python-spidermonkey/"" rel=""nofollow"">Spidermonkey</a> or</p>  <p>Try using <code>Selenium</code>.</p>  <blockquote>   <p>Selenium is a funcitonal testing framework which automates the browser to perform certain operations which in turn test the underlying actions of your code</p> </blockquote>"
8898961	Python BeautifulSoup on javascript tables with multiple pages	javascript|python|screen-scraping|beautifulsoup	2012-01-17 17:23:55.010000 UTC	"<p>I used to have a python script that pulled data from the below table properly using Mechanize and BeautifulSoup.  However, this site has recently changed the encoding of the table to javascript, and I'm having trouble working with it because there are multiple pages to the table.</p>  <p><a href=""http://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=bat&amp;lg=all&amp;qual=0&amp;type=8&amp;season=2011&amp;month=0&amp;season1=&amp;ind=0&amp;team=25&amp;players=0"" rel=""nofollow"">http://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=bat&amp;lg=all&amp;qual=0&amp;type=8&amp;season=2011&amp;month=0&amp;season1=&amp;ind=0&amp;team=25&amp;players=0</a></p>  <p>For example, in the link above, how could I grab the data from both page 1 and page 2 of the table? FWIW, The URL doesn't change.</p>"	8899172	"<p>Your best bet is to run a headless browser e.g <a href=""http://www.phantomjs.org/"" rel=""nofollow"">phantomjs</a> which understands all the intricacies of JavaScript, DOM etc but you will have to write your code in Javascript, benefit is that you can do whatever you want, parsing html using BeautifulSoup is cool for a while but is headache in long term. So why scrape when you can access the DOM</p>"
8922206	Python - clicking a javascript button	javascript|python|html|post	2012-01-19 07:02:15.180000 UTC	"<p>I have a button on a page that needs to be clicked for me to move on to the next page in a sequence, and I was wondering how this is possible with Python. The button seems to be the mix of an HTTP POST request and Javascript, here is the code for the button:</p>  <pre><code>&lt;FORM name=""ff"" action=""nq2.phtml"" method=""post""&gt;   &lt;INPUT type=""hidden"" name=""target"" value=""-1""&gt;   &lt;INPUT type=""hidden"" name=""fact"" value=""""&gt;   &lt;INPUT type=""hidden"" name=""parm"" value=""""&gt;   &lt;INPUT type=""hidden"" name=""use_id"" value=""-1""&gt;   &lt;INPUT type=""hidden"" name=""nxactor"" value=""1""&gt;   &lt;TD align=""center"" valign=""top""&gt;   &lt;DIV class=""pr""&gt;   &lt;A href=""javascript:;"" onClick=""settarget(5); setch(ch5); return false;""&gt; </code></pre>  <p>I honestly have no idea how to approach something like this and was wondering if anyone had some insight about how I would go about doing it.</p>"	8922376	"<p>To simulate the submission of a form, you can send the same POST request that your browser will send to the site once the submit button is clicked. One way to do this is use <code>urllib.urlencode</code> to encode the form data from a dictionary and <code>urllib2.urlopen</code> to send the request:</p>  <pre><code>import urllib, urllib2 form_data = urllib.urlencode({'target': &lt;value&gt;, 'fact': &lt;value&gt;, ...}) urllib2.urlopen(""np2.phtml"", form_data) </code></pre>"
8928785	Options to parse a JavaScript web app in Python	javascript|python	2012-01-19 15:33:36.857000 UTC	"<p>Have to write a Python app to communicate and fetch some data from a password protected, JavaScript enabled web app.</p>  <p>The webapp unfortunately requires JavaScript to run, and refuses to work if JavaScript is disabled.  Therefore, 'urllib2' and 'requests' don't work when trying to fetch data.</p>  <p>What are my options at this point?  If I grabbed HTTP traffic via some tool such as Firebug, and tried re-playing this traffic via some Python method, would this work?  All I need for the script to do is:</p>  <ol> <li>Login into website</li> <li>Change a dropdown item</li> <li>Grab a single line of text and logout</li> </ol>"	8929166	"<p>Your best bet is to run a headless browser like <a href=""http://pypi.python.org/pypi/PyPhantomJS"" rel=""nofollow"">PyPhantomJS</a> which understands javascript. You have to write your code in javascript and than you can do whatever you want.</p>  <blockquote>   <p>It has fast and native support for DOM handling, CSS selector and of course JavaScript.</p> </blockquote>"
8937190	Trigger Javascript event on remote website with Python	javascript|python|dom|web-scraping	2012-01-20 05:38:33.210000 UTC	"<p>I wrote some basic Python code to scrape a remote webpage and grab a few pieces of data. On a different page I'm trying to scrape, the data is hidden from view, and only appears after changing the value of a <code>&lt;select&gt;</code> box. </p>  <p>After de-minifying and digging through the remote website's javascript, I confirmed that it is using AJAX (custom implementation of Prototype I think) to switch the <code>&lt;tbody&gt;</code> of the <code>&lt;table&gt;</code> I'm interested in scraping.</p>  <p>Is there a way to use Python (or Javascript via Python) to trigger the onChange event of that select box so I can ""refresh"" the DOM and grab the new HTML?</p>"	8943959	<p>Figure out the AJAX request URL and request it directly.  :-)</p>
8960288	Get page generated with Javascript in Python	javascript|python|html|download|urllib2	2012-01-22 09:59:23.947000 UTC	<p>I'd like to download web page generated by <code>Javascript</code> and store it to string variable in <code>Python</code> code. The page is generated when you click on button.</p>  <p>If I would know the resulting URL I would use <code>urllib2</code> but this is not the case.</p>  <p>thank you</p>	8960386	"<p>You could use <a href=""http://seleniumhq.org/docs/03_webdriver.html"" rel=""noreferrer"">Selenium Webdriver</a>:</p>  <pre><code>#!/usr/bin/env python from contextlib import closing from selenium.webdriver import Firefox # pip install selenium from selenium.webdriver.support.ui import WebDriverWait  # use firefox to get page with javascript generated content with closing(Firefox()) as browser:      browser.get(url)      button = browser.find_element_by_name('button')      button.click()      # wait for the page to load      WebDriverWait(browser, timeout=10).until(          lambda x: x.find_element_by_id('someId_that_must_be_on_new_page'))      # store it to string variable      page_source = browser.page_source print(page_source) </code></pre>"
9013400	"Use python to a open web browser (on windows), trigger javascript actions, and get the html contents?"	javascript|python|windows	2012-01-26 02:47:53.487000 UTC	"<p>Yes that sounds overly complicated.</p>  <p>I am trying to mine data from pages on our intranet. The pages are secure. The connection is refused when I try to get the contents with urllib.urlopen().</p>  <p>So I would like to use python to open a web browser to open the site then click some links that trigger javascript pop ups containing tables of info that I want to collect.</p>  <p>Any suggestions on where to begin?</p>  <p>I know the format of the page. It is something like this:</p>  <pre><code>&lt;div id=""list""&gt;     &lt;ul id=""list item""&gt;         &lt;li&gt;&lt;a onclict=""Openpopup('1');""&gt;blah&lt;/a&gt;&lt;/li&gt;     &lt;/ul&gt;     &lt;ul&gt;&lt;/ul&gt;     etc </code></pre>  <p>Then a hidden frame becomes visible and the fields in the table within are filled.</p>  <pre><code>&lt;div&gt;     &lt;table&gt;        &lt;tr&gt;&lt;td&gt;&lt;span id=""info_i_want""&gt;... </code></pre>"	9013425	"<p>First off, I suggest that it's better to figure out what the page needs that JS is providing, and fake that - you'll have an easier time scraping the page if a browser isn't involved.</p>  <p>If it's <em>just</em> Javascript making an XMLHttpRequest, you can find the page from which the Javascript fetches the <code>iframe</code> data and connect directly to that.</p>  <p>But in spite of that you may need a library that does Javascript execution (if the reverse-engineering is too hard or it uses challenge tokens). A web-rendering framework like Gecko or WebKit might be appropriate.</p>  <p>Take a good look at <a href=""http://seleniumhq.org/"" rel=""noreferrer"">Selenium</a> if you insist on using a true web browser or cannot get the programmatic methods to work.</p>  <p>Once you've gotten the page contents via whatever method, you need an <em>HTML parser</em> (such as <code>sgmllib</code> or [almost] <code>xml.dom</code>). I suggest a DOM library. Parse the DOM and extract the contents from the appropriate node in the resulting tree.</p>"
9013400	"Use python to a open web browser (on windows), trigger javascript actions, and get the html contents?"	javascript|python|windows	2012-01-26 02:47:53.487000 UTC	"<p>Yes that sounds overly complicated.</p>  <p>I am trying to mine data from pages on our intranet. The pages are secure. The connection is refused when I try to get the contents with urllib.urlopen().</p>  <p>So I would like to use python to open a web browser to open the site then click some links that trigger javascript pop ups containing tables of info that I want to collect.</p>  <p>Any suggestions on where to begin?</p>  <p>I know the format of the page. It is something like this:</p>  <pre><code>&lt;div id=""list""&gt;     &lt;ul id=""list item""&gt;         &lt;li&gt;&lt;a onclict=""Openpopup('1');""&gt;blah&lt;/a&gt;&lt;/li&gt;     &lt;/ul&gt;     &lt;ul&gt;&lt;/ul&gt;     etc </code></pre>  <p>Then a hidden frame becomes visible and the fields in the table within are filled.</p>  <pre><code>&lt;div&gt;     &lt;table&gt;        &lt;tr&gt;&lt;td&gt;&lt;span id=""info_i_want""&gt;... </code></pre>"	9013429	"<p>First of all, you should really find out why the connection is refused when you access the page with Python. Most likely, you'll have to perform HTTP authentication or specify a different User-Agent.</p>  <p>Firing up a browser, navigating, and getting the HTML back is a complex task. Luckily, you can implement it using <a href=""http://code.google.com/p/selenium/wiki/PythonBindings"" rel=""nofollow"">selenium</a>.</p>"
9013400	"Use python to a open web browser (on windows), trigger javascript actions, and get the html contents?"	javascript|python|windows	2012-01-26 02:47:53.487000 UTC	"<p>Yes that sounds overly complicated.</p>  <p>I am trying to mine data from pages on our intranet. The pages are secure. The connection is refused when I try to get the contents with urllib.urlopen().</p>  <p>So I would like to use python to open a web browser to open the site then click some links that trigger javascript pop ups containing tables of info that I want to collect.</p>  <p>Any suggestions on where to begin?</p>  <p>I know the format of the page. It is something like this:</p>  <pre><code>&lt;div id=""list""&gt;     &lt;ul id=""list item""&gt;         &lt;li&gt;&lt;a onclict=""Openpopup('1');""&gt;blah&lt;/a&gt;&lt;/li&gt;     &lt;/ul&gt;     &lt;ul&gt;&lt;/ul&gt;     etc </code></pre>  <p>Then a hidden frame becomes visible and the fields in the table within are filled.</p>  <pre><code>&lt;div&gt;     &lt;table&gt;        &lt;tr&gt;&lt;td&gt;&lt;span id=""info_i_want""&gt;... </code></pre>"	9013508	"<p><code>The connection is refused when I try to get the contents with urllib.urlopen().</code> probably means you have to make a post request using python urllib module.I would suggest you use <a href=""http://docs.python.org/library/urllib2.html"" rel=""nofollow"">urllib2</a>.You may also need to handle <a href=""http://docs.python.org/library/cookielib.html"" rel=""nofollow"">cookies</a>, <code>referrer,user-agent</code> from your python code.</p>  <p>To see all the post request fired from your browser use firefox's <a href=""https://addons.mozilla.org/en-US/firefox/addon/live-http-headers/"" rel=""nofollow"">live-http-headers</a>.</p>  <p>For the javascript part,</p>  <p>Your best bet is to run a headless browser e.g <a href=""http://www.phantomjs.org/"" rel=""nofollow"">phantomjs</a> which understands all the intricacies of JavaScript, DOM etc but you will have to write your code in Javascript, benefit is that you can do whatever you want.</p>  <p>As, @phihag mentioned <code>selenium</code> is also a good option.</p>"
9013400	"Use python to a open web browser (on windows), trigger javascript actions, and get the html contents?"	javascript|python|windows	2012-01-26 02:47:53.487000 UTC	"<p>Yes that sounds overly complicated.</p>  <p>I am trying to mine data from pages on our intranet. The pages are secure. The connection is refused when I try to get the contents with urllib.urlopen().</p>  <p>So I would like to use python to open a web browser to open the site then click some links that trigger javascript pop ups containing tables of info that I want to collect.</p>  <p>Any suggestions on where to begin?</p>  <p>I know the format of the page. It is something like this:</p>  <pre><code>&lt;div id=""list""&gt;     &lt;ul id=""list item""&gt;         &lt;li&gt;&lt;a onclict=""Openpopup('1');""&gt;blah&lt;/a&gt;&lt;/li&gt;     &lt;/ul&gt;     &lt;ul&gt;&lt;/ul&gt;     etc </code></pre>  <p>Then a hidden frame becomes visible and the fields in the table within are filled.</p>  <pre><code>&lt;div&gt;     &lt;table&gt;        &lt;tr&gt;&lt;td&gt;&lt;span id=""info_i_want""&gt;... </code></pre>"	9028251	"<p>Consider taking a look at <a href=""http://splinter.cobrateam.info/"" rel=""nofollow"">splinter</a> which is a simpler webdriver API than Selenium.</p>"
9142911	How to fetch complete webpage (using javascript) in python	javascript|python|webpage	2012-02-04 17:41:05.460000 UTC	"<p>I'm trying to use urllib2 to fetch webpage from a website. After I managed to log on and retrieve the page, I found out the page has some <code>&lt;script&gt;.....&lt;/script&gt;</code> inside. How can I save the rendered the output (the complete content of the webpage, not the script)?</p>"	9143052	"<p>Javascript can't be easily handled if you are using urllib.</p>  <p>What you need is a headless browser, for ex. WebKit.</p>  <p>A simple example can be found <a href=""http://sitescraper.net/blog/Scraping-JavaScript-webpages-with-webkit/"" rel=""nofollow"">here.</a> </p>  <p>If you don't want yourself to be limited to python, try <a href=""http://www.phantomjs.org/"" rel=""nofollow"">Phantomjs</a></p>"
9142911	How to fetch complete webpage (using javascript) in python	javascript|python|webpage	2012-02-04 17:41:05.460000 UTC	"<p>I'm trying to use urllib2 to fetch webpage from a website. After I managed to log on and retrieve the page, I found out the page has some <code>&lt;script&gt;.....&lt;/script&gt;</code> inside. How can I save the rendered the output (the complete content of the webpage, not the script)?</p>"	9143296	"<p>I'd also like to mention <a href=""http://code.google.com/p/pywebkitgtk/"" rel=""nofollow"">pywebkitgtk</a> (which I've been using a lot lately as an embedded browser), and <a href=""http://pypi.python.org/pypi/selenium"" rel=""nofollow"">Selenium</a>.</p>"
9200526	python list to javascript array	javascript|python|arrays|mod-python	2012-02-08 20:01:40.560000 UTC	"<p>Probably a quick answer from you experts, but i am stumbling upon a interesting challenge that I can't wrap my head around.</p>  <p>I have a python .psp file that contains both a list <strong>mylist[]</strong> which gets populated on runtime and a javascript function expecting a list to dynamically crreate a form object and send it when the user clicks a button. There is a reason for the button as it is part of a table that has been generated on runtime. Each row contains a different set of items created from it's own <strong>myList[]</strong>  I would like to pass the rows <strong>myList[]</strong> list to the javascript function basically if the user clicks the button.</p>  <p>Here's some of my code to help illustrate:</p>  <p>Javascript:</p>  <pre><code>function post(path, paramaters, method) {     method = method || ""post"";      var form = document.createElement(""form"");     form.setAttribute(""method"", method);     form.setAttribute(""action"", path);     for(var key in parameters){         var hiddenField = document.createElement(""input"");         hiddenField.setAttribute(""type"", ""hidden"");         hiddenField.setAttribute(""name"", key);         hiddenField.setAttribute(""value"", parameters[key]);         form.appendChild(hiddenField);     }      //create form and submit     document.body.appendChild(form);     form.submit(); } </code></pre>  <p>python Server Pages (PSP) using mod_python</p>  <pre><code> &lt;%     myList['item1', 'item2', 'item3', 'item3']      req.write(&lt;input type=""button"" value=""Upload"" onclick=""postCert(\'/support/upload.psp\', myList,\'post\');"" /&gt;)      %&gt; </code></pre>  <p><strong>upload.psp is expecting the the four items in the list....</strong></p>  <p>Thanks for you help on this one.</p>  <p>-Jim</p>"	9201007	"<p>Try this:</p>  <pre><code>&lt;%   import json   myList['item1', 'item2', 'item3', 'item3'] %&gt;  &lt;input type=""button"" value=""Upload"" onclick=""postCert('/support/upload.psp', &lt;%= json.dumps(myList) %&gt;, 'post');"" /&gt; </code></pre>"
9239685	execute external method python in javascript	javascript|python|html|plone	2012-02-11 11:02:23.543000 UTC	"<p>I have this:</p>  <pre><code>&lt;ul tal:repeat=""record context/all_users""&gt;   &lt;li tal:content=""record/name""&gt;&lt;/li&gt; &lt;/ul&gt; </code></pre>  <p>and this external method:<code>tal:content=""python:context.getresource('')""</code> I wanto to put the <code>element(name)</code>  that I will select from the list in the external method</p>  <p>But I am not able to do this.</p>  <p>I tought to use <code>&lt;tal:define-macro:""""&gt;</code> for each element in the list:</p>  <pre><code>&lt;ul tal:repeat=""record context/all_users""&gt;   &lt;div tal:define-macro=""element""&gt;     &lt;a href=""""&gt;       &lt;li tal:content=""record/name""&gt;&lt;/li&gt;     &lt;/a&gt;   &lt;/div&gt; &lt;/ul&gt; </code></pre>  <p>but itis not correct.I don't know how to declare the macro in the dynam list and how to put the value in the external method.</p>  <p>I tried this:</p>  <pre><code>function getWord(field) {   var word = field.innerHTML;    var t = python:context.getresource(word) } </code></pre>  <p>but it doesn't work too.</p>"	9262992	"<p>If you need to pass dynamic data from PYthon to Javascript here is a technique how to do it:</p>  <p><a href=""http://collective-docs.readthedocs.org/en/latest/templates_css_and_javascripts/javascript.html#passing-dynamic-settings-to-javascripts"" rel=""nofollow"">http://collective-docs.readthedocs.org/en/latest/templates_css_and_javascripts/javascript.html#passing-dynamic-settings-to-javascripts</a></p>"
9303024	How to execute a javascript in a Python webdriver	javascript|python|selenium|webdriver	2012-02-15 23:13:36.440000 UTC	"<p>Selenium 2 Python webdriver:</p>  <p>I was trying to click on an element which is hidden due to the hover effect and was looking for options to unhide and be able to select the element. To do this, I referred to some examples like below:</p>  <p>In java:</p>  <pre><code>JavascriptExecutor je = (JavascriptExecutor) webDriver(); </code></pre>  <p>Another example:</p>  <pre><code>browser.execute_script(""document.getElementsByClassName('classname').style.display='block'"") </code></pre>  <p>When I ran the above example, I got the following exception:</p>  <pre><code>selenium.common.exceptions.WebDriverException: Message: ''  </code></pre>  <p>I am not sure if I had to include any class for executing the javascript. Please let me know if there is anything iam missing.</p>"	9310187	<p>That is because <code>getElementsByClassName</code> returns array of DOM elements. If you need to access first one change your JS to <code>document.getElementsByClassName('classname')[0].style.display='block'</code></p>
9303024	How to execute a javascript in a Python webdriver	javascript|python|selenium|webdriver	2012-02-15 23:13:36.440000 UTC	"<p>Selenium 2 Python webdriver:</p>  <p>I was trying to click on an element which is hidden due to the hover effect and was looking for options to unhide and be able to select the element. To do this, I referred to some examples like below:</p>  <p>In java:</p>  <pre><code>JavascriptExecutor je = (JavascriptExecutor) webDriver(); </code></pre>  <p>Another example:</p>  <pre><code>browser.execute_script(""document.getElementsByClassName('classname').style.display='block'"") </code></pre>  <p>When I ran the above example, I got the following exception:</p>  <pre><code>selenium.common.exceptions.WebDriverException: Message: ''  </code></pre>  <p>I am not sure if I had to include any class for executing the javascript. Please let me know if there is anything iam missing.</p>"	37698731	"<p>I am using below command in python to click on  an element which is hidden</p>  <pre><code>element=driver.find_element_by_xpath(""//div[2]/div/div[2]/div[1]"")  driver.execute_script(""arguments[0].click();"", element) </code></pre>"
9329904	Parsing python docstring from javascript	javascript|python|docstring	2012-02-17 14:23:15.057000 UTC	"<p>I need to parse docstring from several python files and I need to do this with Javascript.</p>  <p>I couldn't find any reference for this, any ideas?</p>  <p>EDIT: I'm working with Titanium SDK and jquery. PyDoc is not the solution that I'm looking for because I don't want to include some process on the middle of the javascript and the python source code.</p>  <p>EDIT 2: SOLVED - Titanium can use python and javascript at the same time, so I can use python to parse the docstring from the python files.</p>"	9330099	"<p>Check out how the lexer of <a href=""http://alexgorbatchev.com/SyntaxHighlighter/"" rel=""nofollow"">SyntaxHighlighter</a> works. That should give you some idea on how to proceed. There are some other syntax highlighters to study as well in case this doesn't fit your purposes.</p>"
9329904	Parsing python docstring from javascript	javascript|python|docstring	2012-02-17 14:23:15.057000 UTC	"<p>I need to parse docstring from several python files and I need to do this with Javascript.</p>  <p>I couldn't find any reference for this, any ideas?</p>  <p>EDIT: I'm working with Titanium SDK and jquery. PyDoc is not the solution that I'm looking for because I don't want to include some process on the middle of the javascript and the python source code.</p>  <p>EDIT 2: SOLVED - Titanium can use python and javascript at the same time, so I can use python to parse the docstring from the python files.</p>"	9330347	"<p>There is no ""hard"" enforced docstring format, but as with most of Python, only a ""best practice"" document. See the following PEP for the specification of how to use Docstrings and what they are, along with many Links for followup reading: <a href=""http://www.python.org/dev/peps/pep-0257/"" rel=""nofollow"">http://www.python.org/dev/peps/pep-0257/</a></p>  <p>You can also try looking at <a href=""http://docs.python.org/library/pydoc.html"" rel=""nofollow"">PyDoc</a>, which is used internally by Python to display Docstrings. It can output HTML, but even if that is not sufficient, you should be able to transfer the Python <a href=""http://hg.python.org/cpython/file/2.7/Lib/pydoc.py"" rel=""nofollow"">source</a> into JavaScript to write your own parser.</p>"
9403337	Python and the Spidermonkey Javascript engine on Linux	javascript|python|linux|spidermonkey	2012-02-22 21:29:38.073000 UTC	"<p>I have successfully installed Spidermonkey JS engine on my Linux machine ( Ubuntu ).  Basically my goal is to make it execute Ajax (js) scripts and return the result back to my Python script. I'm basically trying to build a good O.O. web scraper. But it's pretty hard for me to get all of this working. </p>  <p>I'm now at the point where when I type JS in my terminal I can start executing Javascript. I've been Googling and found this little snipet on Stackoverflow : </p>  <pre><code>import urllib2 import spidermonkey js = spidermonkey.Runtime() js_ctx = js.new_context() script = urllib2.urlopen('http://etherhack.co.uk/hashing/whirlpool/js/whirlpool.js').read() js_ctx.eval_script(script) js_ctx.eval_script('var s=""abc""') js_ctx.eval_script('print(HexWhirpool(s))') </code></pre>  <p>but it failed to run with the error that module Spidermonkey can not be found. </p>  <p>I'm a bit lost now. Anyone able to help?</p>"	9954351	"<p>You need to try libnspr4. If that doesn't work, you can always download it from Mozilla and build the code yourself. </p>  <p>It is not difficult to type <code>./config &amp;&amp; make &amp;&amp; make install</code> to build the library yourself after untarring the source. If you build yourself, files will likely be in  </p>  <blockquote>   <p>/usr/local/{include,lib} </p> </blockquote>  <p>Also just try Googling for ""YOUR_OS_NAME install nspr4"". </p>  <ul> <li>I believe someone wrote a C/C++ header file translator for Python ctypes. Although I can't say much else because I don't use Python.</li> <li>SpiderMonkey also has its own implementation of ctypes modeled after Python. So technically if you know javascript you could forego using Python altogether since you want to do some ajax with it. You will need to brush up on the NSPR or C runtime sockets to meet the requirements for your projects using only Spidermonkey.</li> </ul>  <p>OR a web search for Python +AJAX might turn up exactly what you need.</p>"
9403337	Python and the Spidermonkey Javascript engine on Linux	javascript|python|linux|spidermonkey	2012-02-22 21:29:38.073000 UTC	"<p>I have successfully installed Spidermonkey JS engine on my Linux machine ( Ubuntu ).  Basically my goal is to make it execute Ajax (js) scripts and return the result back to my Python script. I'm basically trying to build a good O.O. web scraper. But it's pretty hard for me to get all of this working. </p>  <p>I'm now at the point where when I type JS in my terminal I can start executing Javascript. I've been Googling and found this little snipet on Stackoverflow : </p>  <pre><code>import urllib2 import spidermonkey js = spidermonkey.Runtime() js_ctx = js.new_context() script = urllib2.urlopen('http://etherhack.co.uk/hashing/whirlpool/js/whirlpool.js').read() js_ctx.eval_script(script) js_ctx.eval_script('var s=""abc""') js_ctx.eval_script('print(HexWhirpool(s))') </code></pre>  <p>but it failed to run with the error that module Spidermonkey can not be found. </p>  <p>I'm a bit lost now. Anyone able to help?</p>"	16478119	"<p>Recently i got a task need to do something like Web scraping, and for the javascript part, currently want to try using python-spidermonkey to resolve it and see if this might work for me ...</p> <p>and i seem to meet situation might alike, after i think i finished install python-spidermonkey, i execute the script above, i got this error:</p> <pre><code>Traceback (most recent call last):   File &quot;spidermonkeytest.py&quot;, line 2, in &lt;module&gt;     import spidermonkey ImportError: libjs.so: cannot open shared object file: No such file or directory </code></pre> <p>then after some searching by google...i found the solution probably in the end of here: <a href=""http://hi.baidu.com/peizhongyou/item/ec1575c3f0e00e31e80f2e48"" rel=""nofollow noreferrer"">http://hi.baidu.com/peizhongyou/item/ec1575c3f0e00e31e80f2e48</a></p> <p>i setup these things:</p> <pre><code>$sudo vi /etc/ld.so.conf.d/libjs.so.conf </code></pre> <p>fill in this line:</p> <pre><code>/usr/local/lib/ </code></pre> <p>save &amp; exit, execute ldconfig:</p> <pre><code>$sudo ldconfig </code></pre> <p>then i can run the script provided above by @Synbitz Prowduczions don't know if this is the answer you need, or this still helps?</p>"
9403337	Python and the Spidermonkey Javascript engine on Linux	javascript|python|linux|spidermonkey	2012-02-22 21:29:38.073000 UTC	"<p>I have successfully installed Spidermonkey JS engine on my Linux machine ( Ubuntu ).  Basically my goal is to make it execute Ajax (js) scripts and return the result back to my Python script. I'm basically trying to build a good O.O. web scraper. But it's pretty hard for me to get all of this working. </p>  <p>I'm now at the point where when I type JS in my terminal I can start executing Javascript. I've been Googling and found this little snipet on Stackoverflow : </p>  <pre><code>import urllib2 import spidermonkey js = spidermonkey.Runtime() js_ctx = js.new_context() script = urllib2.urlopen('http://etherhack.co.uk/hashing/whirlpool/js/whirlpool.js').read() js_ctx.eval_script(script) js_ctx.eval_script('var s=""abc""') js_ctx.eval_script('print(HexWhirpool(s))') </code></pre>  <p>but it failed to run with the error that module Spidermonkey can not be found. </p>  <p>I'm a bit lost now. Anyone able to help?</p>"	37255069	"<p>I also tried <code>easy_install python-spidermonkey</code> with no luck, for <code>libnspr-dev</code> package is absent.</p>  <p>So, I've built package from source. <a href=""https://code.google.com/archive/p/python-spidermonkey/"" rel=""nofollow noreferrer"">Instructions from project page</a> (Debian Stretch):</p>  <h2>Building</h2>  <ol> <li>Check out the Python-Spidermonkey module from the SVN repository ( I downloaded it as source archive, <a href=""https://storage.googleapis.com/google-code-archive-source/v2/code.google.com/python-spidermonkey/source-archive.zip"" rel=""nofollow noreferrer"">direct link</a> )</li> <li>Unpack, and cd to <code>./python-spidermonkey/trunk</code></li> <li><code>CPPFLAGS=""-Wno-format-security"" python setup.py build</code> (these flags for Debian)</li> <li><p>Error <code>jsemit.h:508:32: error: expected ‘(’ before ‘)’ token uintN decltype);</code> means that <code>decltype</code> cannot be used as variable (maybe it's a macro or something else), fix it this way:</p>  <p>sed -e 's/decltype/dectyp/' -i.ORIG ./js/src/jsemit.h</p>  <p>sed -e 's/decltype/dectyp/' -i.ORIG ./js/src/jsemit.cpp </p></li> <li><p>Error <code>jsemit.cpp:6490:1: error: narrowing conversion of ‘-1’ from ‘int’ to ‘uint8 {aka unsigned char}’ inside { } [-Wnarrowing]</code> means illegal variable conversion, recompile it manually:</p>  <p>cd js/src                                                                                                                 </p>  <p>g++ -o Linux_All_DBG.OBJ/jsemit.o -c -Wall -Wno-narrowing -Wno-format -MMD -g3 -DXP_UNIX -DSVR4 -DSYSV -D_BSD_SOURCE -DPOSIX_SOURCE -DHAVE_LOCALTIME_R -DHAVE_VA_COPY -DVA_COPY=va_copy -DPIC -fPIC  -DDEBUG -DDEBUG_user -DEDITLINE -ILinux_All_DBG.OBJ  jsemit.cpp</p></li> <li><p>Error <code>spidermonkey.c:1:2: error: #error Do not use this file, it is the result of a failed Pyrex compilation.</code> - some trouble with pyrex. There is <a href=""https://storage.googleapis.com/google-code-attachments/python-spidermonkey/issue-14/comment-4/cinit.patch"" rel=""nofollow noreferrer"">a patch</a>. Do it this way:</p>  <p>wget -O - <a href=""https://storage.googleapis.com/google-code-attachments/python-spidermonkey/issue-14/comment-4/cinit.patch"" rel=""nofollow noreferrer"">https://storage.googleapis.com/google-code-attachments/python-spidermonkey/issue-14/comment-4/cinit.patch</a> | patch -p1 ./spidermonkey.pyx</p></li> </ol>  <h2>Installation</h2>  <p><code>su</code>, and <code>python setup.py install</code> as root.</p>  <h2>Running</h2>  <ol> <li>By default, setup script installs <code>libjs.so</code> to <code>/usr/local/lib/</code>, so I did <code>ln -s /usr/local/lib/libjs.so /usr/lib/libjs.so</code> (but you'd better use <a href=""https://stackoverflow.com/a/16478119/2056178"">solution from Seagal82</a>)</li> </ol>  <p>Without this step, python keeps complaining about import <code>ImportError: libjs.so: cannot open shared object file: No such file or directory</code></p>  <ol start=""2""> <li>I also had an error <code>ImportError: cannot import name Runtime</code> after <code>from spidermonkey import Runtime</code>. The reason possibly was in old easy_install data in <code>~/.local/lib/python2.7/site-packages/spidermonkey/</code>. After removing it, all runs smooth</li> </ol>"
9434524	Javascript / Python Character ASCII Checking	javascript|python|html|django|ascii	2012-02-24 16:37:18.390000 UTC	"<p>I am kind of stuck.  I have Python code that talks to a C++ Wrapper that has a Boost Library that uses String as a parameter.  In my python code I can talk to this wrapper correctly if I use str(x).  The problem is if I use str(""£"") it returns an escape code.</p>  <p>How can I let this pass into the C++ Method as string if the string itself returns a hex code.</p>  <p>My first idea is to use an encoder and remove the character.  And the second idea is to put on javascript serverside code to stop the user in the first instance entering a non ascii character.</p>  <p>Here is the JS Lint.  <a href=""http://jsfiddle.net/M5Xqg/"" rel=""nofollow"">http://jsfiddle.net/M5Xqg/</a>  Can someone adjust to why its returning a '£' as a valid ascii character.</p>"	9436147	"<p>If the library is wrapped in Python code, why not do the check in Python, rather than Javascript? The mistake is one Python wouldn't let you make. In your if statement:</p>  <pre><code>(asciiNumber = 20) </code></pre>  <p>Should be:</p>  <pre><code>(asciiNumber == 20) </code></pre>"
9434524	Javascript / Python Character ASCII Checking	javascript|python|html|django|ascii	2012-02-24 16:37:18.390000 UTC	"<p>I am kind of stuck.  I have Python code that talks to a C++ Wrapper that has a Boost Library that uses String as a parameter.  In my python code I can talk to this wrapper correctly if I use str(x).  The problem is if I use str(""£"") it returns an escape code.</p>  <p>How can I let this pass into the C++ Method as string if the string itself returns a hex code.</p>  <p>My first idea is to use an encoder and remove the character.  And the second idea is to put on javascript serverside code to stop the user in the first instance entering a non ascii character.</p>  <p>Here is the JS Lint.  <a href=""http://jsfiddle.net/M5Xqg/"" rel=""nofollow"">http://jsfiddle.net/M5Xqg/</a>  Can someone adjust to why its returning a '£' as a valid ascii character.</p>"	9436208	"<p>You get this '\xc2\xa3' with str(""£"") because your Python interpreter converts ""£"" symbol to UTF-8 (it's you default locale I think). If you want to get ASCII string, you should do ""£"".encode('ascii') but you will get an UnicodeDecodeError exception because it's not an ASCII character, so you need some filtering.</p>  <p>Even if you make check on client-side with JS the request still can be made straight-forward using curl tool or anything similar, so it would be better to have check on client side and filtering on server side.</p>  <p>On server side you can do something like that:</p>  <pre><code>&gt;&gt;&gt; s = ""ascii text 123 £ 456 go go"" &gt;&gt;&gt; t = filter(lambda x: x.isalnum(), s) &gt;&gt;&gt; print t ""ascii text 123  456 go go"" </code></pre>  <p>But this code will filter all non-alphanumeric characters. If you want to allow all printable ASCII chars, try this instead:</p>  <pre><code>&gt;&gt;&gt; import string &gt;&gt;&gt; string.printable '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!""#$%&amp;\'()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~ \t\n\r\x0b\x0c' &gt;&gt;&gt; t = filter(lambda x: x in string.printable, s) &gt;&gt;&gt; print t 'ascii text 123  456 go go' </code></pre>"
9517572	Navigate through content generated by Javascript using Python in Selernium?	javascript|python|selenium|webdriver	2012-03-01 14:04:25.713000 UTC	"<p>I've written a script to test a process involving data input &amp; several pages, but after writing it I've found the forms &amp; main content to be generated from javascript. The following is a snippet of the script I wrote, and after that initial link the content is generated by JS (its my first python script so excuse any mistakes);</p>  <pre><code>from selenium import webdriver from selenium.common.exceptions import NoSuchElementException from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.action_chains import ActionChains import time  browser = webdriver.Firefox() browser.get('http://127.0.0.1:46727/?ajax=1') assert ""Home"" in browser.title # Find and click the Employer Database link empDatabaseLink = browser.find_element_by_link_text('Employer Database') click = ActionChains(browser).click(on_element = empDatabaseLink) click.perform() # Content loaded by the above link is generated by the JS # Find and click the Add Employer button addEmployerButton = browser.find_element_by_id('Add Employer') addEmployer = ActionChains(browser).click(on_element = addEmployerButton) addEmployer.perform() browser.save_screenshot(r'images\Add_Employer_Form.png') # Input Employer name employerName = browser.find_element_by_id('name') employerName.send_keys(""Selenium"") browser.save_screenshot(r'images\Entered_Employer_Name.png') # Move to next nextButton = broswer.find_element_by_name('button_next') moveForward = ActionChains(browser).click(on_element = nextButton) # Move through various steps # Then # Move to Finish moveForward = ActionChains(browser).click(on_element = nextButton) </code></pre>  <p>How do you access page elements that aren't in the source? I've been looking around &amp; found GetEval but not found anything that I can use :/</p>"	9520853	"<p>Well, to the people of the future, our above conversation appears to have lead to the conclusion that xpath is what mark was looking for.  So remember to try xpath, and to use the Selenium IDE and Firebug to locate particularly obstinate page elements.</p>"
9526033	Using python to login a site using javascript and https	javascript|python|https|web	2012-03-01 23:50:04.437000 UTC	"<p>I would like to use python to login to a site that uses both javascript and https encrypted comm. Specifically - it's this site:</p>  <p><a href=""https://registration.orange.co.il/he-il/login/login/?TYPE=100663297&amp;REALMOID=06-73b4ebbc-5fd9-4b19-b3f4-42671c0df793&amp;GUID=&amp;SMAUTHREASON=0&amp;METHOD=GET&amp;SMAGENTNAME=vmwebadmin3&amp;TARGET=-SM-http%3a%2f%2fwww1%2eorange%2eco%2eil%2fSendSMS%2f"" rel=""nofollow"">https://registration.orange.co.il/he-il/login/login/?TYPE=100663297&amp;REALMOID=06-73b4ebbc-5fd9-4b19-b3f4-42671c0df793&amp;GUID=&amp;SMAUTHREASON=0&amp;METHOD=GET&amp;SMAGENTNAME=vmwebadmin3&amp;TARGET=-SM-http%3a%2f%2fwww1%2eorange%2eco%2eil%2fSendSMS%2f</a></p>  <p>All I wish to do is writing a python script, successfully logging in, and later on to transfer the algorithm to java.</p>  <p>Every solution I've tried so far, just got me back to the same login form.</p>  <p>Thank you all!</p>"	9526074	"<p>You should check <a href=""http://code.google.com/p/spynner/"" rel=""nofollow"">spynner</a> module, you can process javascript and https.</p>"
9526033	Using python to login a site using javascript and https	javascript|python|https|web	2012-03-01 23:50:04.437000 UTC	"<p>I would like to use python to login to a site that uses both javascript and https encrypted comm. Specifically - it's this site:</p>  <p><a href=""https://registration.orange.co.il/he-il/login/login/?TYPE=100663297&amp;REALMOID=06-73b4ebbc-5fd9-4b19-b3f4-42671c0df793&amp;GUID=&amp;SMAUTHREASON=0&amp;METHOD=GET&amp;SMAGENTNAME=vmwebadmin3&amp;TARGET=-SM-http%3a%2f%2fwww1%2eorange%2eco%2eil%2fSendSMS%2f"" rel=""nofollow"">https://registration.orange.co.il/he-il/login/login/?TYPE=100663297&amp;REALMOID=06-73b4ebbc-5fd9-4b19-b3f4-42671c0df793&amp;GUID=&amp;SMAUTHREASON=0&amp;METHOD=GET&amp;SMAGENTNAME=vmwebadmin3&amp;TARGET=-SM-http%3a%2f%2fwww1%2eorange%2eco%2eil%2fSendSMS%2f</a></p>  <p>All I wish to do is writing a python script, successfully logging in, and later on to transfer the algorithm to java.</p>  <p>Every solution I've tried so far, just got me back to the same login form.</p>  <p>Thank you all!</p>"	9526105	"<p>Is using a browser automation tool too far off from what you're trying to do? Without knowing the exact goal this could be way off base, but what about using something like <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a>? You can use Selenium from Java, Python, C#, and Ruby.</p>  <p>I've used Selenium to automatically log in to a private wiki and retrieve, edit, and submit changes to articles. If that's similar to what you're trying to do, it could work.</p>  <p>It's a pretty heavyweight approach though, since you actually have to be running a realtime browser to do the work.</p>"
9584631	Python vs JavaScript - UTC time from ordinal time	javascript|python|time|timezone|python-datetime	2012-03-06 13:28:32.933000 UTC	"<p>In Python:</p>  <pre><code>&gt;&gt;&gt; import datetime &gt;&gt;&gt; datetime.datetime.fromtimestamp(1329429600) datetime.datetime(2012, 2, 17, 0, 0) </code></pre>  <p>In JavaScript:</p>  <pre><code>&gt;&gt;&gt; (new Date(1329429600000)).toUTCString() ""Thu, 16 Feb 2012 22:00:00 GMT"" </code></pre>  <p>If what I'm looking for is UTC\GMT, which of the two is correct?<br> How can I fix the other one?</p>"	9584656	"<p>you should use this:</p>  <pre><code>&gt;&gt;&gt; datetime.datetime.utcfromtimestamp(1329429600) datetime.datetime(2012, 2, 16, 22, 0) </code></pre>"
9584631	Python vs JavaScript - UTC time from ordinal time	javascript|python|time|timezone|python-datetime	2012-03-06 13:28:32.933000 UTC	"<p>In Python:</p>  <pre><code>&gt;&gt;&gt; import datetime &gt;&gt;&gt; datetime.datetime.fromtimestamp(1329429600) datetime.datetime(2012, 2, 17, 0, 0) </code></pre>  <p>In JavaScript:</p>  <pre><code>&gt;&gt;&gt; (new Date(1329429600000)).toUTCString() ""Thu, 16 Feb 2012 22:00:00 GMT"" </code></pre>  <p>If what I'm looking for is UTC\GMT, which of the two is correct?<br> How can I fix the other one?</p>"	9584820	"<p>Pythons fromtimestamp gives you a localized date</p>  <p>If you want the UTC time, you'd like to use</p>  <pre><code>&gt;&gt;&gt; datetime.datetime.utcfromtimestamp(1329429600) datetime.datetime(2012, 2, 16, 22, 0) </code></pre>"
9642259	How can I run a python script through a webserver and return results to javascript?	php|javascript|python|gearman	2012-03-09 23:18:15.487000 UTC	"<p>I want to take results from a web page, sent from dom as json through ajax, then send this data to a python script, run it, then return the new results back as json. I was told a php script running gearman would be a good bet, but I'm still not sure how that would work.</p>"	9642671	"<p>Put your Python script in your CGI directory and use the <code>cgi</code> and <code>json</code> modules in your script to read AJAX from post/get params. Of course you <em>can</em> do a system call from PHP to run a Python script, but I can't think of a good reason why you would.</p>"
9642259	How can I run a python script through a webserver and return results to javascript?	php|javascript|python|gearman	2012-03-09 23:18:15.487000 UTC	"<p>I want to take results from a web page, sent from dom as json through ajax, then send this data to a python script, run it, then return the new results back as json. I was told a php script running gearman would be a good bet, but I'm still not sure how that would work.</p>"	9642778	"<p>Here is my example using <code>twisted</code> and <code>jquery</code>.</p>  <pre><code>#!/usr/local/bin/python import json import time  from twisted.internet import reactor from twisted.web.server import Site from twisted.web.resource import Resource   class DataPage(Resource):         isLeaf = True          def render_GET(self, request):                  htmlFile = open(""template.html"")                 html = open(""template.html"").read()                 htmlFile.close()                  return html          def render_POST(self, request):                 print request.args                 data = request.args['data'][0]                 print data                 return json.dumps(data[::-1])  resource = DataPage() factory = Site(resource) reactor.listenTCP(38123, factory) reactor.run() </code></pre>  <p>and the html</p>  <pre><code>&lt;html&gt; &lt;head&gt;     &lt;script src=""//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"" type=""text/javascript""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;         function flipData(){              $.post(""http://localhost:38123/"", { data: ""makeitbackwards"" },             function(data){                     alert(data);             }, ""json"");         }     &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;a href=""javascript:void(0)"" onclick=""flipData()""&gt;Get Time&lt;/a&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>"
9735074	Executing JavaScript in href of links with Python	javascript|python|mechanize|urllib|web-crawler	2012-03-16 09:55:00.257000 UTC	"<p>I am trying to download some PDF's automatically on a site (<a href=""http://bibliotecadigitalhispanica.bne.es"" rel=""noreferrer"">http://bibliotecadigitalhispanica.bne.es</a>) using Python.</p>  <p>I've tried using the urllib/urllib2/mechanize modules (which I have been using for other sites: this includes the standard functions like urlopen, urlretrieve, etc.), but here, the links have JavaScript embedded in their href attributes that does some processing and opens up the PDF, which these modules don't seem to be able to handle, at least from what I have read here. For example, when I do the following:</p>  <pre><code>request = mechanize.Request('the example url below') response = mechanize.urlopen(request) </code></pre>  <p>it just get back the containing HTML page - I just can't seem to extract the PDF (there are no links to it inside that page, either).</p>  <p>I know by looking through the headers in a real browser (using the LiveHTTPHeaders extension in Firefox) that a lot of HTTP requests are made and eventually the PDF is returned (and displayed in the browser). I would like to be able to intercept this and download it. Concretely, I get a series of 302 and 304 responses, eventually leading to the PDF.</p>  <p>Here is an example of a link attribute that I am crawling: href='javascript:open_window_delivery(""<a href=""http://bibliotecadigitalhispanica.bne.es:80/verylonglinktoaccess"" rel=""noreferrer"">http://bibliotecadigitalhispanica.bne.es:80/verylonglinktoaccess</a>"");'</p>  <p>It seems that if I execute this JavaScript embedded in the href attribute, I can eventually reach the PDF document itself. I've tried with selenium, but it is a tad confusing - I'm not quite sure how to use it upon reading its documentation. Can someone suggest a way (either through a module I haven't tried or through one that I have) that I can do this?</p>  <p>Thank you very much for any help with this.</p>  <p>P.S.: in case you would like to see what I am trying to replicate, I am trying to access the PDF links mentioned above on the following page (the ones with the PDF icons):): <a href=""http://bibliotecadigitalhispanica.bne.es/R/9424CFL1MDQGLGBB98QSV1HFAD2APYDME4GQKCBSLXFX154L4G-01075?func=collections-result&amp;collection_id=1356"" rel=""noreferrer"">http://bibliotecadigitalhispanica.bne.es/R/9424CFL1MDQGLGBB98QSV1HFAD2APYDME4GQKCBSLXFX154L4G-01075?func=collections-result&amp;collection_id=1356</a></p>"	9762682	"<p>javascript:open_window_delivery(""http://bibliotecadigitalhispanica.bne.es:80/webclient/DeliveryManager?application=DIGITOOL-3&amp;owner=resourcediscovery&amp;custom_att_2=simple_viewer&amp;forebear_coll=1333&amp;user=GUEST&amp;pds_handle=&amp;pid=1673416&amp;con_lng=SPA&amp;rd_session=http://bibliotecadigitalhispanica.bne.es:80/R/7IUR42HNR5J19AY1Y3QJTL1P9M2AN81RCY4DRFE8JN5T22BI7I-03416"");</p>  <p>That URL leads to a 302 page. If you follow it, you end up at a frame page, where the bottom frame is the content page.</p>  <p><a href=""http://bibliotecadigitalhispanica.bne.es///exlibris/dtl/d3_1/apache_media/L2V4bGlicmlzL2R0bC9kM18xL2FwYWNoZV9tZWRpYS8xNjczNDE2.pdf"" rel=""nofollow"">http://bibliotecadigitalhispanica.bne.es///exlibris/dtl/d3_1/apache_media/L2V4bGlicmlzL2R0bC9kM18xL2FwYWNoZV9tZWRpYS8xNjczNDE2.pdf</a></p>  <p>(lib)curl can follow 302 pages. </p>  <p>Javascript isn't the problem so far. Then you are at single_viewer_toolbar2.jsp, where the function setLabelMetadataStream puts together the url for the pdf, before submitting that to its iframe ""sendRequestIFrame"".</p>  <p>I see 3 possibilities:</p>  <ol> <li>the javascript-execution approach: High complexity, need to program lots of code, probably brittle</li> <li>Something based on a browser: Selenium is probably good. I know elinks2 has javascript support, and according to its wikipedia page it can be scripted in ""Perl, Ruby, Lua and GNU Guile"".</li> <li>Ask the web administrator for help. You should do this anyways to understand their policy/attitude towards bots. Perhaps they can provide you (and others) with an interface/API.</li> </ol>  <p>I recommend learning more about Selenium, it seems the easiest.</p>"
9752965	Using Python mechanize on specific form with javascript	javascript|python|screen-scraping|mechanize	2012-03-17 19:19:58.083000 UTC	"<p>I'm trying to use the Python mechanize module to retrieve data through this form: <a href=""http://archive.stsci.edu/kepler/data_search/search.php?form=fuf"" rel=""nofollow"">http://archive.stsci.edu/kepler/data_search/search.php?form=fuf</a></p>  <p>The thing I'm having trouble with is ""Output Columns"" area in the lower left, which uses javascript to specify the output format. I'd like to be able to select a specific list of items, which would normally be selected with the surrounding javascript buttons.</p>  <p>I'm new to mechanize and haven't looked at javascript in ages. I've been looking through the responsible javascript but am unsure of what to do. Any tips? </p>  <p>More specifically: Is there a way to use mechanize to modify the elements in a list?</p>"	9755314	"<p>I recommend making the POST call directly to that form, rather than interacting with the form somehow through <code>mechanize</code>.  Here is how I would do this with <code>mechanize</code>:</p>  <pre><code>import mechanize from urllib import urlencode opener = mechanize.build_opener() data = {""resolver"":""NED"",""radius"":""0.02"",""equinox"":""J2000"",""ktc_target_type[]"":""LC"",""ktc_target_type[]"":""SC"",""extra_column_name_1"":""ktc_kepler_id"",""extra_column_value_1"":"""",""extra_column_name_2"":""ktc_kepler_id"",""extra_column_value_2"":"""",""extra_column_name_3"":""ktc_kepler_id"",""extra_column_value_3"":"""",""extra_column_name_4"":""ktc_kepler_id"",""extra_column_value_4"":"""",""selectedColumnsCsv"":""Mark,ktc_kepler_id,ktc_investigation_id,sci_data_set_name,ktc_target_type"",""selectedColumnsList[]"":""ktc_target_type"",""availableColumns"":""Mark"",""ordercolumn1"":""ang_sep"",""ordercolumn2"":""ktc_kepler_id"",""ordercolumn3"":"""",""coordformat"":""sex"",""outputformat"":""HTML_Table"",""max_records"":""1001"",""max_rpp"":""100"",""action"":""Search""} d = urlencode(data) url = 'http://archive.stsci.edu/kepler/data_search/search.php' stuff = opener.open(url,d) info_i_want = stuff.read() </code></pre>  <p>Basically, put the contents of your search in a dictionary, make a POST call to the server, and read your response.</p>"
9761092	JavaScript form validation - to check for an empty textbox - using Python and CGI	javascript|python|cgi	2012-03-18 18:36:16.343000 UTC	"<p>I am developing a web application using Python and CGI. For form validation, I intend to use JavaScript. Here is the scenario - There is a textbox where in user enters the name of the project and clicks the submit button. I want to catch if nothing is entered in the textbox and throw an alert.</p>  <p>For the JavaScript function, I have used parameters, project_form (for the form) and project_name for the textbox. But what I am not clear about is where to put this function. As of now, I am trying to put it in the form tag itself. But it is not working. I somehow think that I have to pass the project_form and project_name parameters to the function and due to th e code structure, it is not possible for me to put the function in the 'head' section. I am pasting my code here. Thanks for the help.</p>  <pre><code>&lt;form action=""create_project.py"" method=""POST"" name=""project_form""&gt;   &lt;input type=""text"" name=""project_name"" size=""40"" onclick=""javascript:document.project_form.submit.disabled=false""   id=""acpro_inp0""&gt;   &lt;br&gt;   &lt;script type=""text/javascript""&gt;     function ValidateTextbox(project_form, project_name) {       var tb_value = project_form.project_name.value;       if (tb_value == null || tb_value.trim() == """") {         alert(""Please enter something"");         project_form.project_name.focus();         return false;       }       return true;     }   &lt;/script&gt;   return ValidateTextbox('project_form','project_name')   &lt;p&gt;   &lt;/p&gt;   &lt;input type=""submit"" name=""submit"" value=""Submit"" onsubmit=""return ValidateTextbox('project_form','project_name')""   disabled=""""&gt; &lt;/form&gt; </code></pre>  <p>Here is the related Python code -</p>  <pre><code>import yate import jshelper  print yate.start_response() print yate.include_header(""Create a new project."") #Section to create a new project print yate.start_form(""create_project.py"",""project_form"") print yate.text_box(""project_name"",form_name=""project_form"") jshelper.JSTextBoxValidate(""project_form"",""project_name"") print yate.end_form(""Submit"",is_disabled = 'True', onsubmit_callback = ""return ValidateTextbox('project_form','project_name')"") print yate.include_footer(({""Home"": ""../index.html""})) </code></pre>  <p>Here is another piece of Python code, where I try to create the JS function on the fly.</p>  <pre><code>def JSTextBoxValidate(form_name,tb_name):     print '&lt;script type=""text/javascript""&gt;'     print 'function ValidateTextbox' + '(' + form_name + ',' + tb_name + ')'     print '{'      print 'var tb_value = ' + form_name + '.' + tb_name + '.' + 'value;'      print 'if (tb_value==null || tb_value.trim()=="""")'     print '{'      print 'alert(""Please enter something"");'     print form_name + '.' + tb_name + '.' + 'focus();'      print 'return false;'     print '}'      print 'return true;'     print '}'     print '&lt;/script&gt;' </code></pre>  <p>Somehow I have a feeling that I am probably not on the right track in this process and there has to be a better way. So I will be thankful for helping me to get this thing to work. Note - The package yate is from Head First Python and I am using and extending the template from that code. I have put similar note in my project's documentation. This is my personal project.</p>"	9763973	"<p>Rewriting your HTML code the way it should work:</p>  <pre><code>&lt;script type=""text/javascript""&gt;   function ValidateTextbox(input) { //we take an object representation of the HTML &lt;input&gt; tag (not just a string)     if (input.value.trim() == """") { //the attribute value is already defined in the tag now, so it couldn't be null       alert(""Please enter something"");       input.focus(); //move the cursor to the incriminated input       return false; //preventing from submitting the form (assuming the function is called as a return value)     }     return true; //allowing the form to be submitted (assuming the function is called as a return value)   }   //function added a you seemed to need something like that   function DisableFormSubmit(theForm, e) { //we take the form object as argument, and e may be the event object given from the keypress event     var submitButton=theForm.submit; //to ease typing this code, the submit button is assigned to a local variable     if(theForm.project_name.value.trim()=='') { //if we have no value for the project_name input of the form       submitButton.disabled=true; //we disable the submit button       submitButton.value=""Submit - enter a name first""; //and we give a hint why it is disabled in the text printed on the button     } else { //in this case project_name has a valid value       submitButton.disabled=false; //the submit button is enabled       submitButton.value=""Submit""; //we remove the hint we gave     }     //processing the event now, to know what to return (key 13 is Enter, returning false on it will prevent the form from being submitted by pressing Enter)     if(window.event) //MSIE compatibility       return window.event.keyCode!=13;     else if(e) //web browser's behavior       return e.which!=13;     }   } &lt;/script&gt; &lt;form action=""create_project.py"" method=""POST"" name=""project_form"" onsubmit=""return ValidateTextBox(this.project_name);""&gt;   &lt;input type=""text"" name=""project_name"" value="""" size=""40"" onkeypress=""return DisableFormSubmit(this.form, event);"" id=""acpro_inp0""&gt;   &lt;br&gt;    &lt;input type=""submit"" name=""submit"" value=""""&gt; &lt;/form&gt; &lt;script type='text/javascript'&gt;   DisableFormSubmit(document.forms['project_form']); //we call this function once after the &lt;form&gt; has loaded so that we init the submit button with a standard way &lt;/script&gt; </code></pre>  <p>For the Python code, I can't tell as I don't know this language, but you don't need to create as JS function ""on the fly"" to do a client-side check of the form's validity. Mind the client-side thing, meaning not secure, meaning if you absolutely need a value in that field, do a second check server-side (with Python apparently). Your problem is that:</p>  <ul> <li>you try to make a Javascript instruction out of <code>&lt;script&gt;&lt;/script&gt;</code> tags</li> <li>you give strings as arguments while you actually need object representations of HTML tags: instead of giving <code>'project_form'</code> and <code>'project_name'</code> - notice the quotes - you needed something like <code>document.project_form</code> or <code>document.forms['project_form']</code> and one of the previous with <code>.project_name</code> appended. Notice the lack of quotes here.</li> <li>you used the attribute <code>onsubmit</code> in an <code>&lt;input&gt;</code> while its place should be in the <code>&lt;form&gt;</code> (this point may not be a cause of error though)</li> </ul>  <p>Hope this helps ;)</p>"
9802969	Execute JavaScript code inside Python/PyMongo map/reduce	mapreduce|pymongo	2012-03-21 10:44:54.350000 UTC	<p>I need to execute dynamically created map/reduce javascript functions inside python code on MongoDB ( in python I create strings-javascript code for map/reduce). How to call those strings( javascript functions)  inside Python code and execute ?</p>	9815233	"<p>You will need to use <a href=""http://api.mongodb.org/python/1.6/api/pymongo/code.html"" rel=""nofollow"">pymongo.code.Code</a> where you instantiate <code>Code</code> objects using your Javascript code as a single string argument in the following way:</p>  <pre><code>maper = Code('function () { for (var key in this) { emit(key, 1); }}') reducer = Code('function(key, values) { return 1; }') result = collection.map_reduce(maper, reducer, 'results') </code></pre>  <p>Where <code>result</code> is a <code>Collection</code> instance that will contain the results of your map/reduce.I have put some dummy code within both <code>mapper</code> and <code>reducer</code> to illustrate the point. You can consult <a href=""http://api.mongodb.org/python/1.3/examples/map_reduce.html"" rel=""nofollow"">Map/Reduce Example</a> in the <code>pymongo</code> documentation for more information.</p>"
9887372	Call python from javascript	javascript|jquery|c++|python|ajax	2012-03-27 10:04:47.970000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/1901093/calling-python-from-javascript"">Calling Python from JavaScript</a>  </p> </blockquote>    <p>I have a <code>test.py</code> and <code>test.js</code>.</p>  <p>I want to be able to run my <code>test.py</code> by opening <code>test.js</code>. I don't know how to create an api because it's not a web app, it's just 2 files sitting on my linux mint desktop.</p>  <p>I don't want to use npapi, because it's just a simple task, i don't want to use pyjamas because it's too hard to install the pyjamas desktop, so how to do it?</p>  <p>please note that i can use php, ajax, jquery instead of javascript, if it could be done with these languages. I am also able to use C++ or C instead of python. I just want to know a simple way to do it.</p>  <p>I know this can be done if i use java instead of python, but i want to know if i can do it with python, C or C++.</p>"	9890194	"<p>If you put your test.py file where ever you put your cgi files, (I think it's /usr/lib/cgi-bin by default for apache on ubuntu linux), you should be able to run the python file just by making a request to it's address. </p>  <p>If you just want to run the python file, and not use its output in the browser afterward, you could probably get away with something like:</p>  <pre><code>document.write('&lt;img src=""http://localhost/cgi-bin/test.py"" /&gt;'); </code></pre>  <p>if you want to use the output in the browser, you will probably be best served by using jQuery or some other library to do an easy ajax call.</p>  <p>something like:</p>  <pre><code>jQuery.get('/cgi-bin/test.py', function(data) {     //do stuff with the data }) </code></pre>  <p>would probably do you just fine.</p>  <p>the second method would require that you also use apache, or equivalent, to serve the test.js file from localhost because jQuery ajax generally requires requests to go to the same domain that the script is running on.</p>"
9893408	Submit a javascript form with PyQuery in Python	javascript|python|forms|pyquery	2012-03-27 16:08:56.267000 UTC	"<p>I'm trying to use a combination of Python, PyQuery and Paste to submit a javacript from in a web page.</p>  <p>I know a bit of Python, but I'm really new to javascript.</p>  <p>What I tried was the following:</p>  <pre><code>from pyquery import PyQuery as pq import urllib d = pq(url='http://www.optimustag.pt/' f = d(""#login-form"") f.attr[""login-user""] = ""somename"" f.attr[""login-pass""] = ""somepass"" </code></pre>  <p>But I stop here, I can't find anyway of submitting this form.</p>  <p>If I do a: <code>print f</code>, I get:</p>  <pre><code>&lt;form id=""login-form"" action=""javascript:doLogin();""&gt;                 &lt;input id=""login-user"" type=""text"" style=""border: 0px solid #fff;width:120px; &amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;height:20px; font-family:Arial;font-size:14px;&amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;position:absolute;top:43px;left:17px;"" value=""""/&gt;&lt;input id=""login-pass"" type=""password"" style=""border: 0px solid #fff;width:120px; &amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;height:20px; font-family:Arial;font-size:14px;&amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;position:absolute; top:43px; left:154px;"" value=""""/&gt;&lt;input id=""login-remember"" type=""checkbox"" style=""position:absolute;top:73px;left:20px; &amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;border: 0px solid #fff;""/&gt;&lt;a href=""javascript:Registration.recover();"" style=""position:absolute;top: 75px; left: 151px; &amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;font-family:Arial;font-size:11px;font-decoration:underline;&amp;#10;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;&amp;#9;color:#000;width:80px; height:15px;""/&gt;                 &lt;input type=""image"" value="""" id=""login_enter_submit"" src=""css/blank.gif""/&gt;&lt;/form&gt; </code></pre>  <p>This is my form.</p>  <p>Of course that if there is some way to do this in Python without PyQuery it would be ok as well.</p>"	9893554	<p>There is no way to do that. PyQuery has no js emulator.</p>
9941957	Python to JavaScript Persistant connection	javascript|python|networking	2012-03-30 11:21:13.077000 UTC	"<p>I have a webapp all that is communicateing with a python script via a simple HTML form(I use the bottle microframework). The problem is, creating a new request for each piece of data creates a lot of overhead. </p>  <p>So the question is, how can I create a persistent connection bewtween my webapp and my python program? Is there any tools or library's you would suggest?</p>"	9942121	"<p>If you're sure that the connection overhead really is the part which is slowing you down, then you will have to get the Python script to run as a daemon, and you'll probably want to use it by opening a WebSocket which can hold onto your persistent connections. See for example:</p>  <p><a href=""http://popdevelop.com/2010/03/a-minimal-python-websocket-server/"" rel=""nofollow"">http://popdevelop.com/2010/03/a-minimal-python-websocket-server/</a></p>  <p>A quick search on DuckDuckGo <a href=""http://dev.enekoalonso.com/2010/05/22/more-websockets-now-with-python/"" rel=""nofollow"">also</a> <a href=""http://dan.bravender.us/2010/1/15/WebSocket_Games_in_Python_with_Tornado.html"" rel=""nofollow"">turns</a> <a href=""http://mumrah.net/websockets-in-python"" rel=""nofollow"">up</a> <a href=""http://gehrcke.de/2011/06/the-best-and-simplest-tools-to-create-a-basic-websocket-application-with-flash-fallback-and-python-on-the-server-side/"" rel=""nofollow"">these</a> <a href=""http://pypi.python.org/pypi/django-websocket"" rel=""nofollow"">examples</a>. Good luck!</p>"
9947262	Convert Python None to JavaScript null	javascript|python|django	2012-03-30 16:53:53.270000 UTC	"<p>In a Django view I am generating a data set something like this:</p>  <pre><code>data = [22, 23, 18, 19, 21, None, 22, 20] </code></pre>  <p>I am passing this data to a JavaScript variable using:</p>  <pre><code>data_json = simplejson.dumps(data) </code></pre>  <p>For use in a High Charts script.</p>  <p>Unfortunately JavaScript is stumbling when it encounters the <code>None</code> value because actually what I need is <code>null</code>. How can I best replace <code>None</code> with <code>null</code>, and where should I handle this - in the Django View or in the JavaScript?</p>"	9947311	"<p>If you're using Python 2.6 or later, you can use the built-in json module:</p>  <pre><code>&gt;&gt;&gt; import json &gt;&gt;&gt; json.dumps([1, 2, 3, None, 4]) '[1, 2, 3, null, 4]' </code></pre>  <p>See <a href=""http://docs.python.org/library/json.html"" rel=""noreferrer"">http://docs.python.org/library/json.html</a></p>"
9947262	Convert Python None to JavaScript null	javascript|python|django	2012-03-30 16:53:53.270000 UTC	"<p>In a Django view I am generating a data set something like this:</p>  <pre><code>data = [22, 23, 18, 19, 21, None, 22, 20] </code></pre>  <p>I am passing this data to a JavaScript variable using:</p>  <pre><code>data_json = simplejson.dumps(data) </code></pre>  <p>For use in a High Charts script.</p>  <p>Unfortunately JavaScript is stumbling when it encounters the <code>None</code> value because actually what I need is <code>null</code>. How can I best replace <code>None</code> with <code>null</code>, and where should I handle this - in the Django View or in the JavaScript?</p>"	64750306	"<p>When I tried the accepted solution <code>json.dumps()</code> returned NaN values rather than the null JavaScript is looking for. Therefore I found another solution that does not use json or simplejson packages. The following solution uses type checking of None in Django. The solution that inspired me can be found <a href=""https://stackoverflow.com/questions/59665771/check-for-none-in-an-array-in-flask-jinja-template"">here</a>.</p> <p>I used it in my code as follows to populate a Javascript array correctly:</p> <pre><code>[ {% for val in data %}      {% if val is none %}          null,      {% else %}          {{ val }},      {% endif %} {% endfor %} ], </code></pre> <p>The none object in Django will check the None value offered by python. It doesn't seem to correctly handle np.NaN objects though.</p>"
9950805	"Serialized Python object to JSON, but its function not working in javascript"	jquery|python|django|json|django-models	2012-03-30 21:46:32.347000 UTC	"<p>I'm trying to use .get() in jQuery to send a request to server and return a python object using Django framework.  By using </p>  <pre><code>data = serializers.serialize('json', ExampleModel.objects.all()) return HttpResponse(data, 'application/json') </code></pre>  <p>I can get a collection of objects at javascript end like this: [object Object][object Object] But it seems impossible to call any parameters or functions from those objects. I've tried this:</p>  <pre><code>for (x in data){     alert(data[x].parameter); } </code></pre>  <p>I just get several ""undefined"" as a result. Can anybody explain why? Thanks.</p>"	9952511	"<p>Django's JSON serializer puts each object in complex structure like <code>{'id': 123, 'model': 'app.Model', fields:{'name': 'blah', 'active': true}}</code> so you'll need to retrieve values properly in JS. You can use Firebug for Firefox or Web Inspector for Chrome to set a breakpoint inside your callback and introspect received data. </p>"
9950805	"Serialized Python object to JSON, but its function not working in javascript"	jquery|python|django|json|django-models	2012-03-30 21:46:32.347000 UTC	"<p>I'm trying to use .get() in jQuery to send a request to server and return a python object using Django framework.  By using </p>  <pre><code>data = serializers.serialize('json', ExampleModel.objects.all()) return HttpResponse(data, 'application/json') </code></pre>  <p>I can get a collection of objects at javascript end like this: [object Object][object Object] But it seems impossible to call any parameters or functions from those objects. I've tried this:</p>  <pre><code>for (x in data){     alert(data[x].parameter); } </code></pre>  <p>I just get several ""undefined"" as a result. Can anybody explain why? Thanks.</p>"	9952962	"<p>Because you was accessing undefined <code>parameter</code>. Take ilvar's example,</p>  <pre><code>eval('data='+""{'id': 123, 'model': 'app.Model', fields:{'name': 'blah', 'active': true}}"") for (var x in data){     console.info(x, '=&gt;', data[x]) } // will outputs id =&gt; 123 model =&gt; app.Model fields =&gt; Object </code></pre>  <p>None of the <code>123</code>, <code>""app.Model""</code> or <code>Object</code> has <code>parameter</code> property</p>"
9953332	how to access javascript variables in python	javascript|python	2012-03-31 05:40:25.313000 UTC	"<p>I am creating a facebook app and it uses Javascript API to store username and other details in js variables. And this app is created under Python(using Google App Engine). I want to access the js variables in Python and store the values in Db. How to do this?</p>  <pre><code>class MainPage(webapp2.RequestHandler):   def get(self):     self.response.out.write(""""""  &lt;html xmlns=""http://www.w3.org/1999/xhtml"" xmlns:fb=""http://ogp.me/ns/fb#""&gt;     &lt;head&gt;       &lt;title&gt;Captain Pandey&lt;/title&gt;     &lt;/head&gt;     &lt;body&gt;       &lt;div id=""fb-root""&gt;&lt;/div&gt;       &lt;script&gt;         window.fbAsyncInit = function() {           FB.init({             appId      : '185318768251247',             channelURL : 'http://localhost:8080/channel.html',             status     : true,              cookie     : true,             xfbml      : true,             oauth      : true,           });             FB.getLoginStatus(function(response) {           if (response.status === 'connected') {             // the user is logged in and has authenticated your             // app, and response.authResponse supplies             // the user's ID, a valid access token, a signed             // request, and the time the access token              // and signed request each expire             var uid = response.authResponse.userID;             var accessToken = response.authResponse.accessToken;             FB.api('/me', function(apiResponse) {               var name = apiResponse.name;             });           }            else if (response.status === 'not_authorized') {             // the user is logged in to Facebook,              // but has not authenticated your app           }           else {           // the user isn't logged in to Facebook.           }        });          };          (function(d){            var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}            js = d.createElement('script'); js.id = id; js.async = true;            js.src = ""//connect.facebook.net/en_US/all.js"";            d.getElementsByTagName('head')[0].appendChild(js);          }(document));       &lt;/script&gt;       &lt;div class=""fb-login-button"" data-show-faces=""true"" data-width=""200"" data-max-rows=""1"" scope=""email""&gt;Login to Facebook&lt;/div&gt;     &lt;/body&gt;  &lt;/html&gt;     """""") </code></pre>  <p>and template used is webapp2</p>"	9954066	"<p>Design the Javascript code so that it makes an AJAX request that sends the data, and write a Python handler for that request.</p>"
9957453	How to delete useless JavaScript code using Python or Lisp	javascript|python|lisp	2012-03-31 16:01:34.613000 UTC	"<p>The JavaScript code is as follows:</p>  <pre><code>   &lt;script&gt;     a={name:""abc""};     b={xyz:""123""};     this.c='aaa';     this.cc='bbb';     d=new Date();     var e=new Array();     var f=false;     this.g=123;     this.g++;     document.write(b.xyz+this.cc);     &lt;/script&gt; </code></pre>  <p>Only the variables <code>b(b={xyz:""123""};)</code> and <code>cc(this.cc='bbb';)</code> are used above.</p>  <p>Does anyone know if there is a way to delete unused variables with Python or Lisp?  </p>"	9957902	"<p>Try the <code>closure compiler</code> to remove redundant code and useless whitespaces from <code>javascript</code> code: I ran your code(<code>158 bytes</code>) on <code>closure compiler</code> and I got this(<code>89 bytes</code>):</p>  <pre><code>a={name:""abc""};b={b:""123""};this.a=""bbb"";d=new Date;document.write(b.b+this.a); </code></pre>  <p><a href=""http://closure-compiler.appspot.com"" rel=""nofollow"">http://closure-compiler.appspot.com</a></p>"
9957453	How to delete useless JavaScript code using Python or Lisp	javascript|python|lisp	2012-03-31 16:01:34.613000 UTC	"<p>The JavaScript code is as follows:</p>  <pre><code>   &lt;script&gt;     a={name:""abc""};     b={xyz:""123""};     this.c='aaa';     this.cc='bbb';     d=new Date();     var e=new Array();     var f=false;     this.g=123;     this.g++;     document.write(b.xyz+this.cc);     &lt;/script&gt; </code></pre>  <p>Only the variables <code>b(b={xyz:""123""};)</code> and <code>cc(this.cc='bbb';)</code> are used above.</p>  <p>Does anyone know if there is a way to delete unused variables with Python or Lisp?  </p>"	9958556	"<p>In Common Lisp land there's <a href=""http://marijnhaverbeke.nl/parse-js/"" rel=""nofollow"">parse-js</a> to parse JavaScript code. There's also <a href=""http://marijnhaverbeke.nl/cl-javascript/"" rel=""nofollow"">CL-JavaScript</a> interpreter, built on top of it, if you want to interactively evaluate JavaScript code and perform some kind of dynamic analysis. As for static analysis, there's <a href=""https://github.com/mishoo/cl-uglify-js"" rel=""nofollow"">cl-uglify-js</a>, also built on top of <a href=""http://marijnhaverbeke.nl/parse-js/"" rel=""nofollow"">parse-js</a> - either it does dead code elimination, or you can try to modify it to do that...</p>"
9957453	How to delete useless JavaScript code using Python or Lisp	javascript|python|lisp	2012-03-31 16:01:34.613000 UTC	"<p>The JavaScript code is as follows:</p>  <pre><code>   &lt;script&gt;     a={name:""abc""};     b={xyz:""123""};     this.c='aaa';     this.cc='bbb';     d=new Date();     var e=new Array();     var f=false;     this.g=123;     this.g++;     document.write(b.xyz+this.cc);     &lt;/script&gt; </code></pre>  <p>Only the variables <code>b(b={xyz:""123""};)</code> and <code>cc(this.cc='bbb';)</code> are used above.</p>  <p>Does anyone know if there is a way to delete unused variables with Python or Lisp?  </p>"	9959057	"<p>Quick and dirty text based hack in TXR:</p>  <p><code>script.txr:</code></p>  <pre><code>@(collect) @prolog @(last) &lt;script&gt; @(end) @(collect :vars (code)) @  (block occurs) @    (cases) @{decl /(var )?/}@{var /[a-z]+/}=@expr @      (trailer) @      (skip) @      (cases) @        (skip)@var@(skip) @        (bind code `@decl@var=@expr`) @      (or) &lt;/script&gt; @        (fail occurs) @      (end) @    (or) @code @    (end) @  (end) @(last) &lt;/script&gt; @(end) @(collect) @epilog @(end) @(output) @{prolog ""\n""} &lt;script&gt; @{code ""\n""} &lt;/script&gt; @{epilog ""\n""} @(end) </code></pre>  <p>Test case <code>script.html</code>:</p>  <pre><code>verbatim text &lt;script&gt; a={name:""abc""}; b={xyz:""123""}; this.c='aaa'; this.cc='bbb'; d=new Date(); var e=new Array(); var f=false; this.g=123; this.g++; &lt;/script&gt; left alone </code></pre>  <p>Run:</p>  <pre><code>$ txr script.txr script.html verbatim text &lt;script&gt; a={name:""abc""}; b={xyz:""123""}; this.c='aaa'; this.cc='bbb'; var e=new Array(); this.g=123; this.g++; &lt;/script&gt; left alone </code></pre>  <p>As you can see, some condensing was achieved.</p>  <p>Howver, the code thinks that <code>aaa</code> constitutes a use of the variable <code>a</code>. The variable <code>e</code> is retained because <code>e</code> occurs in <code>var f=false</code>; but you don't see that any more because that line itself is deleted since <code>f</code> does not occur.</p>  <p>If you want more than dumb text based hacks, you have to parse the Javascript. (Possible in a clear and disciplined grammar-based way in TXR also, but coding all the grammar rules is tedious.)</p>"
10052465	Scraping javascript-generated data using Python	javascript|python|screen-scraping|web-scraping	2012-04-07 06:56:36.343000 UTC	"<p>I want to scrape some data of following url using Python. <a href=""http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340"" rel=""noreferrer"">http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340</a></p>  <p>It's about a summary of company information. </p>  <p>What I want to scrape is not shown on the first page.  By clicking tab named ""재무제표"", you can access financial statement. And clicking tab named ""현금흐름표', you can access ""Cash Flow"". </p>  <p>I want to scrape the ""Cash Flow"" data. </p>  <p>However, Cash flow data is generated by javascript across the url. The following link is that url which is hidden, <a href=""http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth="" rel=""noreferrer"">http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth=</a></p>  <p>Cash flow data is generated by submitting some option value and cookie to this url.</p>  <p>As you perceived, itemcode=078340 in the first link means stock code and there are as many as 1680 stocks that I want gather cash flow data. I want make it a loop structure.</p>  <p>Is there good way to scrape cash flow data? I tried scrapy but scrapy is difficult to cope with my another scraping code already I'm using.</p>"	10053589	"<p>If you need to scape the page content which is updated with AJAX and you are not in the control of this AJAX interface I would use Selenium browser automator for the task:</p>  <p><a href=""http://code.google.com/p/selenium/"" rel=""nofollow"">http://code.google.com/p/selenium/</a></p>  <ul> <li><p>Selenium has Python bindings</p></li> <li><p>It launches a real browser instance so it can do and scrape 100% the same thing as you see with your own eyes</p></li> <li><p>Get HTML document content after AJAX updates thru Selenium API</p></li> <li><p>Use lxml + xpath / CSS selectors to parse out the relevant parts out of the document</p></li> </ul>"
10052465	Scraping javascript-generated data using Python	javascript|python|screen-scraping|web-scraping	2012-04-07 06:56:36.343000 UTC	"<p>I want to scrape some data of following url using Python. <a href=""http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340"" rel=""noreferrer"">http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340</a></p>  <p>It's about a summary of company information. </p>  <p>What I want to scrape is not shown on the first page.  By clicking tab named ""재무제표"", you can access financial statement. And clicking tab named ""현금흐름표', you can access ""Cash Flow"". </p>  <p>I want to scrape the ""Cash Flow"" data. </p>  <p>However, Cash flow data is generated by javascript across the url. The following link is that url which is hidden, <a href=""http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth="" rel=""noreferrer"">http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth=</a></p>  <p>Cash flow data is generated by submitting some option value and cookie to this url.</p>  <p>As you perceived, itemcode=078340 in the first link means stock code and there are as many as 1680 stocks that I want gather cash flow data. I want make it a loop structure.</p>  <p>Is there good way to scrape cash flow data? I tried scrapy but scrapy is difficult to cope with my another scraping code already I'm using.</p>"	10053618	"<p>There's also <a href=""https://github.com/niklasb/dryscrape"" rel=""noreferrer"">dryscape</a> (a library written by me, so the recommendation is a bit biased, obviously :) which uses a fast Webkit-based in-memory browser to navigate around. It understands Javascript, too, but is a lot more lightweight than Selenium.</p>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	10057449	"<p>Small &amp; simple workaround to try out:</p>  <ol> <li>Convert JSON-like data to strings.</li> <li>Replace "",,"" with "",null,"". </li> <li>Convert it to whatever is your representation.</li> <li><p>Let JSONDecoder(), do the heavy lifting.</p>  <ol> <li>&amp; 3. can be omitted if you already deal with strings.</li> </ol></li> </ol>  <p>(And if converting to string is impractical, update your question with this info!)</p>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	10057494	"<p>Since what you're trying to parse isn't JSON <em>per se</em>, but rather a different language that's very much like JSON, you may need your own parser.</p>  <p>Fortunately, this isn't as hard as it sounds. You can use a Python parser generator like <a href=""http://pyparsing.wikispaces.com/"">pyparsing</a>. JSON can be fully specified with a fairly simple context-free grammar (I found one <a href=""http://www.xerial.org/svn/project/XerialJ/trunk/xerial-core/src/main/java/org/xerial/json/impl/JSON.g"">here</a>), so you should be able to modify it to fit your needs.</p>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	10057518	"<p>It's a hackish way of doing it, but one solution is to simply do some string modification on the JSON-ish data to get it in line before parsing it.</p>  <pre><code>import re import json  not_quite_json = '[""foo"",,,""bar"",[1,,3,4]]' not_json = True while not_json:     not_quite_json, not_json = re.subn(r',\s*,', ', null, ', not_quite_json) </code></pre>  <p>Which leaves us with:</p>  <pre><code>'[""foo"", null, null, ""bar"",[1, null, 3,4]]' </code></pre>  <p>We can then do:</p>  <pre><code>json.loads(not_quite_json) </code></pre>  <p>Giving us:</p>  <pre><code>['foo', None, None, 'bar', [1, None, 3, 4]] </code></pre>  <p>Note that it's not as simple as a replace, as the replacement also inserts commas that can need replacing. Given this, you have to loop through until no more replacements can be made. Here I have used a simple regex to do the job.</p>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	10057585	"<p>You can do the comma replacement of <a href=""https://stackoverflow.com/a/10057518/344821"">Lattyware's</a>/<a href=""https://stackoverflow.com/a/10057449/344821"">przemo_li's</a> answers in one pass by using a lookbehind expression, i.e. ""replace all commas that are preceded by just a comma"":</p>  <pre><code>&gt;&gt;&gt; s = '[""foo"",,,""bar"",[1,,3,4]]'  &gt;&gt;&gt; re.sub(r'(?&lt;=,)\s*,', ' null,', s) '[""foo"", null, null,""bar"",[1, null,3,4]]' </code></pre>  <p>Note that this will work for small things where you can assume there aren't consecutive commas in string literals, for example. In general, regular expressions aren't enough to handle this problem, and <a href=""https://stackoverflow.com/a/10057494/344821"">Taymon's approach</a> of using a real parser is the only fully correct solution.</p>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	10058192	"<p>I've had a look at Taymon recommendation, pyparsing, and I successfully hacked the example provided <a href=""http://pyparsing.wikispaces.com/file/view/jsonParser.py"" rel=""nofollow"">here</a> to suit my needs. It works well at simulating Javascript <code>eval()</code> but <strong>fails one situation</strong>: trailing commas. There should be a optional trailing comma – see tests below – but I can't find any proper way to implement this.</p>  <pre><code>from pyparsing import *  TRUE = Keyword(""true"").setParseAction(replaceWith(True)) FALSE = Keyword(""false"").setParseAction(replaceWith(False)) NULL = Keyword(""null"").setParseAction(replaceWith(None))  jsonString = dblQuotedString.setParseAction(removeQuotes) jsonNumber = Combine(Optional('-') + ('0' | Word('123456789', nums)) +                     Optional('.' + Word(nums)) +                     Optional(Word('eE', exact=1) + Word(nums + '+-', nums)))  jsonObject = Forward() jsonValue = Forward() # black magic begins commaToNull = Word(',,', exact=1).setParseAction(replaceWith(None)) jsonElements = ZeroOrMore(commaToNull) + Optional(jsonValue) + ZeroOrMore((Suppress(',') + jsonValue) | commaToNull) # black magic ends jsonArray = Group(Suppress('[') + Optional(jsonElements) + Suppress(']')) jsonValue &lt;&lt; (jsonString | jsonNumber | Group(jsonObject) | jsonArray | TRUE | FALSE | NULL) memberDef = Group(jsonString + Suppress(':') + jsonValue) jsonMembers = delimitedList(memberDef) jsonObject &lt;&lt; Dict(Suppress('{') + Optional(jsonMembers) + Suppress('}'))  jsonComment = cppStyleComment jsonObject.ignore(jsonComment)  def convertNumbers(s, l, toks):     n = toks[0]     try:         return int(n)     except ValueError:         return float(n)  jsonNumber.setParseAction(convertNumbers)  def test():     tests = (         '[1,2]',       # ok         '[,]',         # ok         '[,,]',        # ok         '[  , ,  , ]', # ok         '[,1]',        # ok         '[,,1]',       # ok         '[1,,2]',      # ok         '[1,]',        # failure, I got [1, None], I should have [1]         '[1,,]',       # failure, I got [1, None, None], I should have [1, None]     )     for test in tests:         results = jsonArray.parseString(test)         print(results.asList()) </code></pre>"
10057375	Python: parsing JSON-like Javascript data structures (w/ consecutive commas)	javascript|python|json|parsing	2012-04-07 18:56:27.377000 UTC	"<p>I would like to parse JSON-like strings. Their lone difference with normal JSON is the presence of <em>contiguous commas</em> in arrays. When there are two such commas, it implicitly means that <code>null</code> should be inserted in-between. Example:</p>  <pre><code>       JSON-like:  [""foo"",,,""bar"",[1,,3,4]]       Javascript:  [""foo"",null,null,""bar"",[1,null,3,4]] Decoded (Python):  [""foo"", None, None, ""bar"", [1, None, 3, 4]] </code></pre>  <p>The native <code>json.JSONDecoder</code> class doesn't allow me to change the behavior of the array parsing. I can only modify the parser for objects (dicts), ints, floats, strings (by giving kwargs functions to <code>JSONDecoder()</code>, please see <a href=""http://docs.python.org/library/json.html#json.JSONDecoder"" rel=""nofollow"">the doc</a>).</p>  <p>So, does it mean I have to write a JSON parser from scratch? The Python code of <code>json</code> is available but it's quite a mess. I would prefer to use its internals instead of duplicating its code!</p>"	52234930	"<p>For those looking for something quick and dirty to convert general JS objects (to dicts). Some part of the page of one real site gives me some object I'd like to tackle. There are 'new' constructs for dates, and it's in one line, no spaces in between, so two lines suffice:</p>  <pre><code>data=sub(r'new Date\(([^)])*\)', r'\1', data) data=sub(r'([,{])(\w*):', r'\1""\2"":', data) </code></pre>  <p>Then json.loads() worked fine. Your mileage may vary:)</p>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	10073592	<p>You could convert it to JSON and use that in that template</p>  <p>In your python code do</p>  <pre><code>import json ... ... return {'parameters': json.dumps(parameters)} #This data goes into your template </code></pre>
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	10073713	"<p>Python and javascript both have different ideas about how to represent a dictionary, which means that you need a intermediate representation in order to pass data between them. The most common way to do this is <a href=""http://www.json.org/"">JSON</a>, which is a simple lightweight data-interchange format.</p>  <p>Use the <a href=""http://docs.python.org/library/json.html"">python json library</a> to convert (or dump) your python dict into a JSON string. Then in the javascript parse the JSON string into a javascript dict. (If you are using JQuery, then use <a href=""http://api.jquery.com/jQuery.parseJSON/"">jQuery.parseJSON</a>)</p>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	10076679	"<p>As others have already suggested, converting your dictionary to JSON in your view and then passing the JSON to the template context instead is really your best approach, but if you want to keep it as a python dictionary in your template, you can; you just need to manually create the javascript version (i.e. you can't just dump it with <code>{{ parameters }}</code>)</p>  <pre><code>&lt;script&gt;     var js_dict = {         {% for k, v in parameters %}         ""{{ k }}"": ""{{ v }}""{% if not forloop.last %},{% endif %}         {% endfor %}     } &lt;/script&gt; </code></pre>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	15382268	"<p>A working example inspired by Chris Patt's answer below (note the difference):</p>  <pre><code> 42     var js_dict = [  43         {% for k, v in parameters.iteritems %}  44             [""{{ k }}"",""{{ v }}""] {% if not forloop.last %},{% endif %}  45         {% endfor %}  46     ]; </code></pre>  <p>The default python's json lib doesn't seem to work for me when dealing with variables in template in Django.</p>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	46415943	"<p>You can use <code>json.dumps(parameters)</code> with <code>mark_safe()</code></p>  <pre><code>def custom_view(request):     ...     return render(request, 'tmpl.html', {'parameters': mark_safe(json.dumps(parameters))}) </code></pre>  <p>With <code>mark_safe()</code> I get unescaped code in template.</p>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	48017320	"<p>You don't need to send the dictionary.</p>  <p>Here is how I implemented this:</p>  <p><strong>views.py</strong></p>  <pre><code>def mess_opi(request):     data = Opi_calculated.objects.all()  return render(request,'hab_app/opi_student_portal.html', {'data': data}) </code></pre>  <p><strong>my template(for morris.html):</strong></p>  <pre><code>data: [{% for item in data %}     { ""y"": '{{ item.hostelName }}', ""a"": '{{ item.opi_value }}' }{% if not forloop.last %},{% endif %} {% endfor %}], </code></pre>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	50293347	"<p>How handled this case by passing object on template page instead on passing the dict from py file and i created the required dict on template itself. like: </p>  <p>on my py:</p>  <pre><code>def abc(request):       conf = assessment_master.objects.all()      return render(request, ""enter_scheme.html"", {'conf':conf}) </code></pre>  <p>on my django template: within my script tag:</p>  <pre><code>&lt;script&gt;            var conf_dict_list = {};            {% for obj in conf_dict_list %}                conf_dict_list[""{{ obj.short_name }}""] = ""{{ obj.select }}""            {% endfor %}              alert(JSON.stringify(conf_dict_list));             // alert('key' in conf_dict_list); to check key is present in dict  &lt;/script&gt; </code></pre>"
10073564	How can I convert Python dictionary to JavaScript hash table?	javascript|python|django|django-templates	2012-04-09 12:59:22.817000 UTC	<p>I have passed to template regular Python dictionary and I need to inside   </p>  <p><code>$(document).ready(function() {.. }</code></p>  <p>to convert that Python dictionary to JavaScript dictionary. I tried  like </p>  <pre><code>var js_dict={{parameters}}; </code></pre>  <p>but I got errors  ( <strong>&#39;</strong> instead of <strong>'</strong> and all strings start with <strong>u'</strong> ). How can I convert Python dictionary to JavaScript hash table ?</p>	58245041	"<p>I have found that this helps for strings that contain [ ' ] as well</p>  <pre><code>const convertPythonDictToJSON = function (data) {     let d = data.replace(new RegExp(`(?&lt;=[a-zA-Z])'(?=[a-zA-Z ])`, ""g""), '__')     d = d.replace(new RegExp(""'"", 'g'), '""')     d = d.replace(new RegExp(""__"", 'g'), ""'"")     d = d.replace(new RegExp(""None"", 'g'), 'null')     d = d.replace(new RegExp(""False"", 'g'), 'false')     d = d.replace(new RegExp(""True"", 'g'), 'true')     return JSON.parse(d) } </code></pre>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	10136615	"<p>Using <a href=""https://code.google.com/p/pyv8/"" rel=""noreferrer"">PyV8</a>, I can do this. However, I have to replace <code>document.write</code> with <code>return</code> because there's no DOM and therefore no <code>document</code>.</p>  <pre><code>import PyV8 ctx = PyV8.JSContext() ctx.enter()  js = """""" function escramble_758(){ var a,b,c a='+1 ' b='84-' a+='425-' b+='7450' c='9' document.write(a+c+b) } escramble_758() """"""  print ctx.eval(js.replace(""document.write"", ""return "")) </code></pre>  <p>Or you could create a mock document object</p>  <pre><code>class MockDocument(object):      def __init__(self):         self.value = ''      def write(self, *args):         self.value += ''.join(str(i) for i in args)   class Global(PyV8.JSClass):     def __init__(self):         self.document = MockDocument()  scope = Global() ctx = PyV8.JSContext(scope) ctx.enter() ctx.eval(js) print scope.document.value </code></pre>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	30537286	"<p>You can also use Js2Py which is written in pure python and is able to both execute and translate javascript to python. Supports virtually whole JavaScript even labels, getters, setters and other rarely used features. </p>  <pre><code>import js2py  js = """""" function escramble_758(){ var a,b,c a='+1 ' b='84-' a+='425-' b+='7450' c='9' document.write(a+c+b) } escramble_758() """""".replace(""document.write"", ""return "")  result = js2py.eval_js(js)  # executing JavaScript and converting the result to python string  </code></pre>  <p>Advantages of Js2Py include portability and extremely easy integration with python (since basically JavaScript is being translated to python). </p>  <p>To install:</p>  <pre><code>pip install js2py </code></pre>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	49402261	"<p>One more solution as PyV8 seems to be unmaintained and dependent on the old version of libv8. </p>  <p><a href=""https://github.com/sqreen/PyMiniRacer"" rel=""noreferrer"">PyMiniRacer</a> It's a wrapper around the v8 engine and it works with the new version and is actively maintained.</p>  <p><code>pip install py-mini-racer</code></p>  <pre><code>from py_mini_racer import py_mini_racer ctx = py_mini_racer.MiniRacer() ctx.eval("""""" function escramble_758(){     var a,b,c     a='+1 '     b='84-'     a+='425-'     b+='7450'     c='9'     return a+c+b; } """""") ctx.call(""escramble_758"") </code></pre>  <p>And yes, you have to replace <code>document.write</code> with <code>return</code> as others suggested</p>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	52359306	"<p>You can use js2py context to execute your js code and get output from document.write with mock document object:</p>  <pre><code>import js2py  js = """""" var output; document = {     write: function(value){         output = value;     } } """""" + your_script  context = js2py.EvalJs() context.execute(js) print(context.output) </code></pre>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	58637725	"<p>quickjs should be the best option after quickjs come out.  Just <code>pip install quickjs</code> and you are ready to go.</p>  <p>modify based on the example on README.</p>  <pre><code>from quickjs import Function  js = """""" function escramble_758(){ var a,b,c a='+1 ' b='84-' a+='425-' b+='7450' c='9' document.write(a+c+b) escramble_758() } """"""  escramble_758 = Function('escramble_758', js.replace(""document.write"", ""return ""))  print(escramble_758()) </code></pre>  <p><a href=""https://github.com/PetterS/quickjs"" rel=""nofollow noreferrer"">https://github.com/PetterS/quickjs</a></p>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	61104170	"<p>You can use <a href=""https://github.com/psf/requests-html"" rel=""noreferrer"">requests-html</a> which will download and use chromium underneath.</p>  <pre class=""lang-py prettyprint-override""><code>from requests_html import HTML  html = HTML(html=""&lt;a href='http://www.example.com/'&gt;"")  script = """""" function escramble_758(){     var a,b,c     a='+1 '     b='84-'     a+='425-'     b+='7450'     c='9'     return a+c+b; } """"""  val = html.render(script=script, reload=False) print(val) # +1 425-984-7450 </code></pre>  <p>More on this read <a href=""https://requests-html.kennethreitz.org/#using-without-requests"" rel=""noreferrer"">here</a></p>"
10136319	Executing Javascript from Python	javascript|python|screen-scraping	2012-04-13 06:39:40.993000 UTC	"<p>I have HTML webpages that I am crawling using xpath. The <code>etree.tostring</code> of a certain node gives me this string:</p>  <pre><code>&lt;script&gt; &lt;!-- function escramble_758(){   var a,b,c   a='+1 '   b='84-'   a+='425-'   b+='7450'   c='9'   document.write(a+c+b) } escramble_758() //--&gt; &lt;/script&gt; </code></pre>  <p>I just need the output of <code>escramble_758()</code>. I can write a regex to figure out the whole thing, but I want my code to remain tidy. What is the best alternative?</p>  <p>I am zipping through the following libraries, but I didnt see an exact solution. Most of them are trying to emulate browser, making things snail slow.</p>  <ul> <li><a href=""http://code.google.com/p/python-spidermonkey/"">http://code.google.com/p/python-spidermonkey/</a> (clearly says <code>it's not yet possible to call a function defined in Javascript</code>)</li> <li><a href=""http://code.google.com/p/webscraping/"">http://code.google.com/p/webscraping/</a> (don't see anything for Javascript, I may be wrong)</li> <li><a href=""http://pypi.python.org/pypi/selenium"">http://pypi.python.org/pypi/selenium</a> (Emulating browser)</li> </ul>  <p>Edit: <em>An example will be great.. (barebones will do)</em></p>"	72969311	"<p>Really late to the party but you can use a successor of pyv8 which is regularly maintained by a reputable organization (Subjective) named CloudFlare. Here is the repository URL:</p> <p><a href=""https://github.com/cloudflare/stpyv8"" rel=""nofollow noreferrer"">https://github.com/cloudflare/stpyv8</a></p>"
10152804	"Is there a tool to convert Java, JavaScript or Python to PHP?"	php	2012-04-14 10:17:56.183000 UTC	"<p>I am interested in usging the library <a href=""http://code.google.com/p/google-diff-match-patch/"" rel=""nofollow"">google-diff-match-patch</a> with PHP. Unfortunately it is not available in this language. It is available ""only"" in Java, JavaScript, Dart, C++, C#, Objective C, Lua and Python. </p>  <p>So is there a tool to automatically convert one of those language into PHP ? Do you have other suggestions how I could use this library with PHP. I would like to avoid calling it via <code>exec()</code> to make the installation of my program simpler.</p>"	10152859	"<p>Automatic conversion? Will that ever work? Here is a PHP port: <a href=""https://github.com/mikkorantalainen/diff_match_patch-php"" rel=""nofollow"">diff_match_patch-php</a>.</p>"
10152804	"Is there a tool to convert Java, JavaScript or Python to PHP?"	php	2012-04-14 10:17:56.183000 UTC	"<p>I am interested in usging the library <a href=""http://code.google.com/p/google-diff-match-patch/"" rel=""nofollow"">google-diff-match-patch</a> with PHP. Unfortunately it is not available in this language. It is available ""only"" in Java, JavaScript, Dart, C++, C#, Objective C, Lua and Python. </p>  <p>So is there a tool to automatically convert one of those language into PHP ? Do you have other suggestions how I could use this library with PHP. I would like to avoid calling it via <code>exec()</code> to make the installation of my program simpler.</p>"	17444994	"<p>Yes, it's possible to convert Java to PHP, but it does still require some manual intervention. See here: <a href=""http://javatophp.com"" rel=""nofollow"">http://javatophp.com</a></p>"
10154568	Postpone code for later execution in python (like setTimeout in javascript)	python	2012-04-14 15:01:00.273000 UTC	"<p>I have to do a program in python that needs to execute for some time and then (does not matter where it was executing) it must dump information to a file, close the file and then exit.</p>  <p>The behavior here is equivalent in JavaScript to using <code>setTimeout(func, 1000000)</code> where its first parameter (func) would be a pointer to the function with the exit code and its second parameter would be the time available to the program to execute.</p>  <p>I know how to make this program in C (using SO signals) but with python </p>"	10154915	"<p>You can use signals in python as well (unix only)</p>  <pre><code>import signal, sys  # install a SIGALRM handler   def handler(signum, frame):     print ""got signal, exiting""     sys.exit(1)  signal.signal(signal.SIGALRM, handler)  # emit SIGALRM after 5 secs  signal.setitimer(signal.ITIMER_REAL, 5)  # do stuff  i = 1 while True:     if i % 100000 == 0:         print i     i += 1 </code></pre>  <p>Docs: <a href=""http://docs.python.org/library/signal.html"" rel=""noreferrer"">http://docs.python.org/library/signal.html</a></p>"
10154568	Postpone code for later execution in python (like setTimeout in javascript)	python	2012-04-14 15:01:00.273000 UTC	"<p>I have to do a program in python that needs to execute for some time and then (does not matter where it was executing) it must dump information to a file, close the file and then exit.</p>  <p>The behavior here is equivalent in JavaScript to using <code>setTimeout(func, 1000000)</code> where its first parameter (func) would be a pointer to the function with the exit code and its second parameter would be the time available to the program to execute.</p>  <p>I know how to make this program in C (using SO signals) but with python </p>"	15456828	"<p>In practice, a <a href=""http://docs.python.org/2/library/threading.html#timer-objects"" rel=""noreferrer"">Timer</a> is probably the simplest way to do what you want. </p>  <p>This code will do the following:</p>  <ul> <li>After 1 second, it prints ""arg1 arg2""</li> <li>After 2 seconds, it prints ""OWLS OWLS OWLS""</li> </ul>  <p>===</p>  <pre><code>from threading import Timer  def twoArgs(arg1,arg2):     print arg1     print arg2     print """"  def nArgs(*args):     for each in args:         print each  #arguments:  #how long to wait (in seconds),  #what function to call,  #what gets passed in r = Timer(1.0, twoArgs, (""arg1"",""arg2"")) s = Timer(2.0, nArgs, (""OWLS"",""OWLS"",""OWLS""))  r.start() s.start() </code></pre>  <p>===</p>  <p>The above code will most likely solve your problem.</p>  <p>But! There is alternative way, that doesn't use multithreading. It works much more like Javascript, which is single-threaded. </p>  <p>For this single-thread version, all you need to do is store the function and its arguments in an object, along with the time at which the function should be run.</p>  <p>Once you have the object containing the function call and the timeout, just periodically check if the function is ready to execute. </p>  <p>The right way to do this is by making a <a href=""http://en.wikipedia.org/wiki/Priority_queue"" rel=""noreferrer"">priority queue</a> to store all of the functions we want to run in the future, as shown in the code below. </p>  <p>Just like in Javascript, this approach makes no guarantee that the function will be run exactly on time. A function that takes a very long time to run will delay the functions after it. But it does guarantee that a function will be run <em>no sooner</em> than its timeout.</p>  <p>This code will do the following:</p>  <ul> <li>After 1 second, it prints ""20""</li> <li>After 2 seconds, it prints ""132""</li> <li>After 3 seconds, it quits. </li> </ul>  <p>===</p>  <pre><code>from datetime import datetime, timedelta import heapq  # just holds a function, its arguments, and when we want it to execute. class TimeoutFunction:     def __init__(self, function, timeout, *args):         self.function = function         self.args = args         self.startTime = datetime.now() + timedelta(0,0,0,timeout)       def execute(self):         self.function(*self.args)  # A ""todo"" list for all the TimeoutFunctions we want to execute in the future # They are sorted in the order they should be executed, thanks to heapq class TodoList:      def __init__(self):         self.todo = []      def addToList(self, tFunction):         heapq.heappush(self.todo, (tFunction.startTime, tFunction))      def executeReadyFunctions(self):         if len(self.todo) &gt; 0:             tFunction = heapq.heappop(self.todo)[1]             while tFunction and datetime.now() &gt; tFunction.startTime:                 #execute all the functions that are ready                 tFunction.execute()                 if len(self.todo) &gt; 0:                     tFunction = heapq.heappop(self.todo)[1]                 else:                     tFunction = None                                 if tFunction:                 #this one's not ready yet, push it back on                 heapq.heappush(self.todo, (tFunction.startTime, tFunction))  def singleArgFunction(x):     print str(x)  def multiArgFunction(x, y):     #Demonstration of passing multiple-argument functions     print str(x*y)  # Make some TimeoutFunction objects # timeout is in milliseconds a = TimeoutFunction(singleArgFunction, 1000, 20) b = TimeoutFunction(multiArgFunction, 2000, *(11,12)) c = TimeoutFunction(quit, 3000, None)  todoList = TodoList() todoList.addToList(a) todoList.addToList(b) todoList.addToList(c)  while True:     todoList.executeReadyFunctions() </code></pre>  <p>===</p>  <p>In practice, you would likely have more going on in that while loop than just checking if your timeout functions are ready to go. You might be polling for user input, controlling some hardware, reading data, etc.</p>"
10154568	Postpone code for later execution in python (like setTimeout in javascript)	python	2012-04-14 15:01:00.273000 UTC	"<p>I have to do a program in python that needs to execute for some time and then (does not matter where it was executing) it must dump information to a file, close the file and then exit.</p>  <p>The behavior here is equivalent in JavaScript to using <code>setTimeout(func, 1000000)</code> where its first parameter (func) would be a pointer to the function with the exit code and its second parameter would be the time available to the program to execute.</p>  <p>I know how to make this program in C (using SO signals) but with python </p>"	51994436	"<p>There is a nice solution using <code>asyncio</code> in python 3:</p> <pre><code>import asyncio  def async_call_later(seconds, callback):     async def schedule():         await asyncio.sleep(seconds)          if asyncio.iscoroutinefunction(callback):             await callback()         else:             callback()      asyncio.ensure_future(schedule())  async def do_something_async():     await asyncio.sleep(0.5)     print('Now! async')  async def main():     print('Scheduling...')      async_call_later(3, do_something_async)     async_call_later(3, lambda: print('Now!'))      print('Waiting...')      await asyncio.sleep(4)  loop = asyncio.get_event_loop() loop.run_until_complete(main()) </code></pre> <p>Note that the sleep and similar functions in python expect a number of seconds, so I have replicated that. But you can supply fractions if you need milliseconds. (e.g 0.5 =&gt; 500ms).</p> <p>An advantage of this approach over <a href=""https://docs.python.org/3/library/asyncio-eventloop.html?highlight=call_later#asyncio.loop.call_later"" rel=""nofollow noreferrer"">asyncio.call_later</a> is that <code>call_later</code> only works with a synchronous callback. This implementation <code>awaits</code>  if the callback is a coroutine so it is slightly more robust.</p>"
10154568	Postpone code for later execution in python (like setTimeout in javascript)	python	2012-04-14 15:01:00.273000 UTC	"<p>I have to do a program in python that needs to execute for some time and then (does not matter where it was executing) it must dump information to a file, close the file and then exit.</p>  <p>The behavior here is equivalent in JavaScript to using <code>setTimeout(func, 1000000)</code> where its first parameter (func) would be a pointer to the function with the exit code and its second parameter would be the time available to the program to execute.</p>  <p>I know how to make this program in C (using SO signals) but with python </p>"	53143306	"<p>You could use the <code>call_later</code> method of python3's asyncio event loop. Below example will just work. </p>  <pre><code>import asyncio  loop = asyncio.get_event_loop()  def callback():     print(""callback"")     loop.call_later(1, callback)  loop.call_later(1, callback)  async def main():     while True:         await asyncio.sleep(1)  loop.run_until_complete(main()) </code></pre>"
10163987	Use python to execute javascript on a given list of websites and output result to a csv	javascript|python	2012-04-15 16:47:19.953000 UTC	"<p>I have an input file which contains a list of URLs. I am trying to execute a script on each of  those URLs and output the result of that script to a CSV. </p>  <p>An example is trying to find if a given list of sites are using Google Analytics. The script below when run in the context of the page will return a JSON like ""{'GA': true}"".  </p>  <pre><code>var scripts = document.getElementsByTagName(""script""); var source = []; for (var i = 0; i &lt; scripts.length; i ++) {     var s = scripts[i];     if (!s.src) continue;     source.push(s.src); } checkforGA();   function checkforGA() {     var tools = {};     for (var j = 0 ; j &lt; source.length; j ++) {         if (/google-analytics.com\/(ga|urchin).js/i.test(source))         {             tools.GA = true;             return JSON.stringify(tools);         }         else          {             tools.GA = false;             return JSON.stringify(tools);         }     } } </code></pre>  <p>My input is a csv file which has a list of sites</p>  <pre><code>Google, http://google.com Wikipedia, http://wikipedia.com Techcrunch, http://techcrunch.com Stackoverflow, http://stackoverflow.com Yahoo, http://yahoo.com </code></pre>  <p>My desired output is </p>  <pre><code>Google, http://google.com, {'GA': false} Wikipedia, http://wikipedia.com, {'GA': false} Techcrunch, http://techcrunch.com, {'GA': true} Stackoverflow, http://stackoverflow.com, {'GA': true} Yahoo, http://yahoo.com, {'GA': false} </code></pre>  <p>I am not sure if it is possible to run js from within a python script but i am looking for some idea on how to get started. </p>"	10164054	<p>Your best bet would be to load the text of the page and then use the re module to search for your regular expression.</p>
10163987	Use python to execute javascript on a given list of websites and output result to a csv	javascript|python	2012-04-15 16:47:19.953000 UTC	"<p>I have an input file which contains a list of URLs. I am trying to execute a script on each of  those URLs and output the result of that script to a CSV. </p>  <p>An example is trying to find if a given list of sites are using Google Analytics. The script below when run in the context of the page will return a JSON like ""{'GA': true}"".  </p>  <pre><code>var scripts = document.getElementsByTagName(""script""); var source = []; for (var i = 0; i &lt; scripts.length; i ++) {     var s = scripts[i];     if (!s.src) continue;     source.push(s.src); } checkforGA();   function checkforGA() {     var tools = {};     for (var j = 0 ; j &lt; source.length; j ++) {         if (/google-analytics.com\/(ga|urchin).js/i.test(source))         {             tools.GA = true;             return JSON.stringify(tools);         }         else          {             tools.GA = false;             return JSON.stringify(tools);         }     } } </code></pre>  <p>My input is a csv file which has a list of sites</p>  <pre><code>Google, http://google.com Wikipedia, http://wikipedia.com Techcrunch, http://techcrunch.com Stackoverflow, http://stackoverflow.com Yahoo, http://yahoo.com </code></pre>  <p>My desired output is </p>  <pre><code>Google, http://google.com, {'GA': false} Wikipedia, http://wikipedia.com, {'GA': false} Techcrunch, http://techcrunch.com, {'GA': true} Stackoverflow, http://stackoverflow.com, {'GA': true} Yahoo, http://yahoo.com, {'GA': false} </code></pre>  <p>I am not sure if it is possible to run js from within a python script but i am looking for some idea on how to get started. </p>"	10165382	"<p>Running through HTML with RE can sometimes present problems in complicated documents. Why don't you try using <a href=""http://www.crummy.com/software/BeautifulSoup/"" rel=""nofollow"">BeautifulSoup</a> instead for something like this?It's made for it. I included an example for trying this on SO, using the <a href=""http://docs.python-requests.org/en/latest/index.html"" rel=""nofollow"">requests</a> module. </p>  <pre><code>from bs4 import BeautifulSoup import requests  r = requests.get('http://www.stackoverflow.com')  soup = BeautifulSoup(r.text)  alist =  soup.find_all('script') for script in alist:     try:         if script.text.find('var _gaq=_gaq') != -1:             print 'found'         else:             print 'not found'     except KeyError:         print 'no src' </code></pre>  <p>BTW, this methodology will not catch everything, in case of people putting their GA inits in other scripts... You may want to use Selenium to check for the presence of a '_gaq' var instead...</p>"
10163987	Use python to execute javascript on a given list of websites and output result to a csv	javascript|python	2012-04-15 16:47:19.953000 UTC	"<p>I have an input file which contains a list of URLs. I am trying to execute a script on each of  those URLs and output the result of that script to a CSV. </p>  <p>An example is trying to find if a given list of sites are using Google Analytics. The script below when run in the context of the page will return a JSON like ""{'GA': true}"".  </p>  <pre><code>var scripts = document.getElementsByTagName(""script""); var source = []; for (var i = 0; i &lt; scripts.length; i ++) {     var s = scripts[i];     if (!s.src) continue;     source.push(s.src); } checkforGA();   function checkforGA() {     var tools = {};     for (var j = 0 ; j &lt; source.length; j ++) {         if (/google-analytics.com\/(ga|urchin).js/i.test(source))         {             tools.GA = true;             return JSON.stringify(tools);         }         else          {             tools.GA = false;             return JSON.stringify(tools);         }     } } </code></pre>  <p>My input is a csv file which has a list of sites</p>  <pre><code>Google, http://google.com Wikipedia, http://wikipedia.com Techcrunch, http://techcrunch.com Stackoverflow, http://stackoverflow.com Yahoo, http://yahoo.com </code></pre>  <p>My desired output is </p>  <pre><code>Google, http://google.com, {'GA': false} Wikipedia, http://wikipedia.com, {'GA': false} Techcrunch, http://techcrunch.com, {'GA': true} Stackoverflow, http://stackoverflow.com, {'GA': true} Yahoo, http://yahoo.com, {'GA': false} </code></pre>  <p>I am not sure if it is possible to run js from within a python script but i am looking for some idea on how to get started. </p>"	10168173	"<p>Why not just do it all in JS - e.g. using PhantomJS - <a href=""https://code.google.com/p/phantomjs/"" rel=""nofollow"">https://code.google.com/p/phantomjs/</a>?</p>"
10201607	"Python Crawler - Check to see if a javascript line exists and if so, parse it"	python	2012-04-18 01:34:10.647000 UTC	"<p>I am scraping a page in python 2.7 using lxml.html and I need to do the following...</p>  <p>1) find out if this line is on the page.  I am actually looking to see if parent_asin exists.  Its not on every page.</p>  <pre><code>DetailPage.StateController.setState('parent_asin', 'B0000DB87U'); </code></pre>  <p>2) If it does exist, the how to I get B0000DB87U?  That will change for every page when parent_asin is in the page.  This is all in javascript and I am using lxml to fetch and parse html.  Need another approach for JS.</p>"	10202686	"<p>You can use lxml to extract all the content of <code>&lt;script&gt;</code> tag, then parse them with regex. </p>  <p>Untested example:</p>  <pre><code>doc = lxml.html.parse(url) scripts = doc.xpath('//script') for script in scripts:     match = re.findall(r""DetailPage\.StateController\.setState\('parent_asin', '(.*)'\);"", script.text)     if match:         print match[0] </code></pre>"
10222642	Read JavaScript variables from a file with Python	javascript|python	2012-04-19 06:19:48.857000 UTC	"<p>I use some Python scripts on server-side to compile JavaScript files to one file and also add information about these files into database. For adding the information about the scripts I now have yaml file for each js file with some info inside it looking like this:</p>  <pre><code>title: Script title alias: script_alias </code></pre>  <p>I would like to throw away yaml that looks redundant here to me if I can read these variables directly from JavaScript that I could place in the very beginning of the file like this:</p>  <pre><code>var title = ""Script title""; var alias = ""script_alias""; </code></pre>  <p>Is it possible to read these variables with Python easily?</p>"	10222767	"<p>Have you tried storing the variables in a JSON format? Then, both javascript and python can easily parse the data and get the variables.</p>"
10222642	Read JavaScript variables from a file with Python	javascript|python	2012-04-19 06:19:48.857000 UTC	"<p>I use some Python scripts on server-side to compile JavaScript files to one file and also add information about these files into database. For adding the information about the scripts I now have yaml file for each js file with some info inside it looking like this:</p>  <pre><code>title: Script title alias: script_alias </code></pre>  <p>I would like to throw away yaml that looks redundant here to me if I can read these variables directly from JavaScript that I could place in the very beginning of the file like this:</p>  <pre><code>var title = ""Script title""; var alias = ""script_alias""; </code></pre>  <p>Is it possible to read these variables with Python easily?</p>"	10222778	"<p>Assuming you only want the two lines, and they are at the top of the file...</p>  <pre><code>import re  js = open(""yourfile.js"", ""r"").readlines()[:2]  matcher_rex = re.compile(r'^var\s+(?P&lt;varname&gt;\w+)\s+=\s+""(?P&lt;varvalue&gt;[\w\s]+)"";?$') for line in js:     matches = matcher_rex.match(line)     if matches:         name, value = matches.groups()         print name, value </code></pre>"
10233401	javascript Date and python datetime object	javascript|python|datetime	2012-04-19 17:23:18.080000 UTC	"<p>In javascript console ,I tried this</p>  <pre><code>d=new Date() t=d.getTime() </code></pre>  <p>When I printed t,it gave</p>  <pre><code>&gt;&gt;1334855220112 </code></pre>  <p>As per documentation ,it must be <code>the number of milliseconds since 1970/01/01</code></p>  <p>In python ,I created a <code>datetime.datetime</code> object as</p>  <pre><code>nowdtime=datetime.datetime.today() print str(int(nowdtime.strftime(""%s""))*1000) </code></pre>  <p>This gave the result:</p>  <pre><code>'1334855221000' </code></pre>  <p>This value looks very close to the result I got from javascript console.</p>  <p>the value of nowdtime is </p>  <pre><code>datetime.datetime(2012, 4, 19, 22, 37, 1, 866262) </code></pre>  <p>My doubt is why <code>nowdtime.strftime(""%s"")</code> returns number of seconds since epoch?  </p>  <p>If I give  <code>nowdtime.strftime(""%H"")</code> ,it will only return <code>22</code> which is the hour according to 24 hr clock.</p>"	10233735	"<p>The <code>%s</code> must be some sort of platform specific (ie, not documented at <a href=""http://docs.python.org/library/time.html#time.strftime"" rel=""nofollow"">http://docs.python.org/library/time.html#time.strftime</a>) directive:</p>  <blockquote>   <p>Additional directives may be supported on certain platforms, but only   the ones listed here have a meaning standardized by ANSI C.</p> </blockquote>  <p>Ie, Win7 Python 2.6.6 iPython console:</p>  <pre><code>import datetime d = datetime.datetime(2012, 4, 19, 22, 37, 1, 866262) d.strftime(""%s"") # gives: '' </code></pre>  <p>I'm not sure if this answers your question, because I'm not sure what your question is.</p>"
10233401	javascript Date and python datetime object	javascript|python|datetime	2012-04-19 17:23:18.080000 UTC	"<p>In javascript console ,I tried this</p>  <pre><code>d=new Date() t=d.getTime() </code></pre>  <p>When I printed t,it gave</p>  <pre><code>&gt;&gt;1334855220112 </code></pre>  <p>As per documentation ,it must be <code>the number of milliseconds since 1970/01/01</code></p>  <p>In python ,I created a <code>datetime.datetime</code> object as</p>  <pre><code>nowdtime=datetime.datetime.today() print str(int(nowdtime.strftime(""%s""))*1000) </code></pre>  <p>This gave the result:</p>  <pre><code>'1334855221000' </code></pre>  <p>This value looks very close to the result I got from javascript console.</p>  <p>the value of nowdtime is </p>  <pre><code>datetime.datetime(2012, 4, 19, 22, 37, 1, 866262) </code></pre>  <p>My doubt is why <code>nowdtime.strftime(""%s"")</code> returns number of seconds since epoch?  </p>  <p>If I give  <code>nowdtime.strftime(""%H"")</code> ,it will only return <code>22</code> which is the hour according to 24 hr clock.</p>"	18528712	<p>You can also just use the time method from time module <code>time.time()</code> to get a float that indicates the time in seconds since epoch.</p>
10235354	Convert a HTML/CSS/Javascript file to PDF using Python?	javascript|python|html|css|pdf	2012-04-19 19:27:24.247000 UTC	"<p>I need to convert a HTML+CSS+Javascript file to PDF from a Django View and therefor using Python.</p>  <p>I could use xhtml2pdf/PISA but it only supports HTML &amp; CSS, not Javascript, which is required.</p>  <p>Another option would be py-wkhtmltox, but it's getting pretty old and I haven't been able to get it to work yet, I just get ""ImportError: libwkhtmltox.so.0: cannot open shared object file: No such file or directory"", not sure where to get that file other then just to out of the blue rename libwkhtmltox.so to libwkhtmltox.so.0, but then I just get:</p>  <pre><code>Traceback (most recent call last):   File ""pdf_test1.py"", line 5, in &lt;module&gt;     pdf.set_object_setting('path', 'http://www.google.com')   File ""wkhtmltox.pyx"", line 118, in wkhtmltox.Pdf.__getattr__ (wkhtmltox.c:1228) AttributeError: 'wkhtmltox._Pdf' object has no attribute 'set_object_setting' </code></pre>  <p>Yet another option would be to use webkit ( <a href=""http://bharatikunal.wordpress.com/2010/01/31/converting-html-to-pdf-with-python-and-qt/"" rel=""nofollow"">http://bharatikunal.wordpress.com/2010/01/31/converting-html-to-pdf-with-python-and-qt/</a> ) but I can't execute ""sys.exit(app.exec_())"" from a Django view.</p>  <p>The only thing I can think of right now is to create a seperate webkit python script and os.system it from the django view, making ""sys.exit(app.exec_())"" possible and therefor the resultin PDF. But I'm open to other suggestions, seams a bit strange to use os.system from a django view.</p>  <p>Any ideas?</p>"	10236207	"<p>I suggest using <a href=""https://code.google.com/p/wkhtmltopdf/"" rel=""nofollow"">wkhtmltopdf</a>. It's available as a static binary for linux, so you shouldn't run into any shared object problems. wkhtmltopdf wraps webkit and supports javascript, and you can even tell it for how long to run any JS code before the rendering takes place. I've used it successfully to make PDFs of pages that had some complicated chart generating code on them. Just launch it using <code>subprocess.call()</code>.</p>"
10240190	Javascript library for displaying Python console app output	python|console|comet|javascript	2012-04-20 04:14:38.907000 UTC	"<p>I'm writing a <strong>simple web-based front-end</strong> for a Python <strong>console program</strong> that runs on a local machine. The interactions are extremely simple. Essentially, the web front-end needs to:</p>  <ol> <li>Accept input from the user (through an AJAX form or something).</li> <li>Pass this input to the Python program and run it.</li> <li>Display the output of the Python console program <em>while it is running</em>, until it terminates. </li> </ol>  <p>The first two can be accomplished quite easily (though suitable AJAX library recommendations would be helpful). </p>  <p><strong>Question</strong>: What Javascript library would I need to accomplish No. 3? </p>  <hr>  <p><strong>Remarks</strong>: </p>  <ul> <li>I am aware of packages like <code>AJAXterm</code> and <code>Shellinabox</code>, but instead of a full-shell, I just want to <em>display</em> the output of the Python console program; essentially I'd like a way to pipe Python's stdout to a web-page in real-time. </li> </ul>"	10242074	"<p>You are probably looking for a <a href=""http://en.wikipedia.org/wiki/Comet_%28programming%29"" rel=""nofollow"">comet</a> implementation or another server push protocol, because of the unpredictable timing of python code output. So on the server side you have a thread that is reading from your python process' <code>stdout</code> and pushing out the output to your client via comet. </p>  <p><a href=""http://cometd.org/"" rel=""nofollow"">cometd</a> may be your best bet for the client &amp; server components.</p>"
10264384	retrieving javascript cookies in google app engine (python)	python|google-app-engine	2012-04-22 01:02:24.003000 UTC	"<p>Does anyone know how to retrieve javascript cookies in gae python? I've seen complicated examples around the web, like cookiejar, but I think that module is too much for my simple site. I'm just trying to make a shopping cart that will take js cookies, send it to server-side code (python) for verification, and then post the data to google checkout.</p>  <p>Thanks :)</p>"	10264604	"<p>Hope this code would help with your problem, <a href=""https://developers.google.com/appengine/docs/python/tools/webapp/requestclass"" rel=""nofollow"">w/ helpful link</a>:</p>  <pre><code>from google.appengine.ext import webapp  class MyRequestHandler(webapp.RequestHandler):     def get(self):         self.response.out.write(self.request.cookies.get('cookiename')) </code></pre>  <p>If you are little bit confused JS cookies and the HTTP cookies are just the same. See <a href=""http://www.nczonline.net/blog/2009/05/05/http-cookies-explained/"" rel=""nofollow"">this article</a> for more clear explanation. Cookies are always transferred between <code>server</code> and <code>client</code> within the <code>HTTP header</code>. In this code we are just using the '<code>Set-cookie</code>' header within the request from client in server. <code>request.cookies</code> is a Python <code>dict</code> with cookies inside.</p>"
10286224	JavaScript timestamp to Python datetime conversion	javascript|python|timestamp	2012-04-23 18:33:48.123000 UTC	"<p>To get timestamp in JavaScript we use </p>  <pre><code>var ts = new Date().getTime() </code></pre>  <p>What is the proper way to convert it to a Python <code>datetime</code> so far I use the following code</p>  <pre><code>&gt;&gt;&gt; jsts = 1335205804950 &gt;&gt;&gt; dt = datetime.datetime.fromtimestamp(jsts/1000) &gt;&gt;&gt; dt datetime.datetime(2012, 4, 24, 0, 30, 4) </code></pre>  <p>I divide timestamp by 1000 because I get error like </p>  <pre><code>ValueError                                Traceback (most recent call last) 1 d = datetime.datetime.fromtimestamp(a) ValueError: year is out of range </code></pre>  <p>Sultan.</p>"	10286261	"<p>Your current method is correct, dividing by 1000 is necessary because your JavaScript returns the timestamp in milliseconds, and <code>datetime.datetime.fromtimestamp()</code> expects a timestamp in seconds.</p>  <p>To preserve the millisecond accuracy you can divide by <code>1000.0</code>, so you are using float division instead of integer division:</p>  <pre><code>&gt;&gt;&gt; dt = datetime.datetime.fromtimestamp(jsts/1000.0) &gt;&gt;&gt; dt datetime.datetime(2012, 4, 23, 11, 30, 4, 950000) </code></pre>"
10286224	JavaScript timestamp to Python datetime conversion	javascript|python|timestamp	2012-04-23 18:33:48.123000 UTC	"<p>To get timestamp in JavaScript we use </p>  <pre><code>var ts = new Date().getTime() </code></pre>  <p>What is the proper way to convert it to a Python <code>datetime</code> so far I use the following code</p>  <pre><code>&gt;&gt;&gt; jsts = 1335205804950 &gt;&gt;&gt; dt = datetime.datetime.fromtimestamp(jsts/1000) &gt;&gt;&gt; dt datetime.datetime(2012, 4, 24, 0, 30, 4) </code></pre>  <p>I divide timestamp by 1000 because I get error like </p>  <pre><code>ValueError                                Traceback (most recent call last) 1 d = datetime.datetime.fromtimestamp(a) ValueError: year is out of range </code></pre>  <p>Sultan.</p>"	10286275	"<p>The way you do it is the correct way, because js includes milliseconds in the date/time. Python (and PHP) as far as I know, don't. For more precision you could use <code>/1000.0</code>.</p>"
10286224	JavaScript timestamp to Python datetime conversion	javascript|python|timestamp	2012-04-23 18:33:48.123000 UTC	"<p>To get timestamp in JavaScript we use </p>  <pre><code>var ts = new Date().getTime() </code></pre>  <p>What is the proper way to convert it to a Python <code>datetime</code> so far I use the following code</p>  <pre><code>&gt;&gt;&gt; jsts = 1335205804950 &gt;&gt;&gt; dt = datetime.datetime.fromtimestamp(jsts/1000) &gt;&gt;&gt; dt datetime.datetime(2012, 4, 24, 0, 30, 4) </code></pre>  <p>I divide timestamp by 1000 because I get error like </p>  <pre><code>ValueError                                Traceback (most recent call last) 1 d = datetime.datetime.fromtimestamp(a) ValueError: year is out of range </code></pre>  <p>Sultan.</p>"	46687300	"<p>For others still getting an error: I had a similar issue but the unix timestamp was in microseconds, i.e. I had to divide the timestamp by 1000000 to get the correct result.</p>  <pre><code>dt = datetime.datetime.fromtimestamp(1502360499615921) </code></pre>"
10286224	JavaScript timestamp to Python datetime conversion	javascript|python|timestamp	2012-04-23 18:33:48.123000 UTC	"<p>To get timestamp in JavaScript we use </p>  <pre><code>var ts = new Date().getTime() </code></pre>  <p>What is the proper way to convert it to a Python <code>datetime</code> so far I use the following code</p>  <pre><code>&gt;&gt;&gt; jsts = 1335205804950 &gt;&gt;&gt; dt = datetime.datetime.fromtimestamp(jsts/1000) &gt;&gt;&gt; dt datetime.datetime(2012, 4, 24, 0, 30, 4) </code></pre>  <p>I divide timestamp by 1000 because I get error like </p>  <pre><code>ValueError                                Traceback (most recent call last) 1 d = datetime.datetime.fromtimestamp(a) ValueError: year is out of range </code></pre>  <p>Sultan.</p>"	66113698	"<p>I've had the same issue, thanks to @andrew-clark for the answer, i've build a small example to handle both cases:</p> <pre><code>     try:         # when timestamp is in seconds         date = datetime.fromtimestamp(timestamp)     except (ValueError):         # when timestamp is in miliseconds         date = datetime.fromtimestamp(timestamp / 1000) </code></pre>"
10290074	can httplib (python) interact with a page and its javascript?	javascript|python|web|httplib	2012-04-24 00:12:22.183000 UTC	"<p>I want to write a python script that will ask for reddit post url, go to the page, login with a specified account and upvote the post and the logout. </p>  <p>A) can this be done with python? </p>  <p>B) How would I do this? If you can provide code that would be great, but don't kill yourself.  </p>"	10290103	"<p>Do you really need to interact with JavaScript?</p>  <p>You can reverse engineer Reddit code by looking at AJAX requests made using Firebug or any other debugger, checking cookies, request parameters, etc. </p>  <p>After this you can simulate this requests using Python's urllib by setting same request type (GET vs POST), request parameters and cookies.</p>  <p>Also check this post <a href=""https://stackoverflow.com/questions/2081586/web-scraping-with-python"">web-scraping-with-python</a></p>"
10290074	can httplib (python) interact with a page and its javascript?	javascript|python|web|httplib	2012-04-24 00:12:22.183000 UTC	"<p>I want to write a python script that will ask for reddit post url, go to the page, login with a specified account and upvote the post and the logout. </p>  <p>A) can this be done with python? </p>  <p>B) How would I do this? If you can provide code that would be great, but don't kill yourself.  </p>"	10290150	"<p>Besides @Maksym's great suggestion above, you could also use a browser testing tool like <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> (which has python bindings) to write a script to interact with the Reddit page directly.  The downside is that it would open a copy of your browser every time it runs, and I'm not sure if that would be an issue for you.</p>"
10291772	to submit request in python mechanize for javascript	javascript|python|mechanize	2012-04-24 04:32:49.923000 UTC	"<p>I am working with the page<br> <a href=""http://index.cepd.gov.tw/inQuery.aspx?lang=2&amp;type=it02"" rel=""nofollow"">http://index.cepd.gov.tw/inQuery.aspx?lang=2&amp;type=it02</a></p>  <p>in this page, I am submitting values using python mechanize.<br> but, when I submit it, it gives me the same url.<br> I want the url of the next page after submit.  </p>  <p>Is it due to javascript?<br> Is any way to work with javascript to get next url? </p>"	10295453	"<p>If after submission you are getting the same page, I assume the javascript is setting some hidden field after validation.</p>  <p>Try stopping javascript execution in your browser and submitting the form (from the browser). If it doesn't work, then mechanize won't be enough (since it doesn't support javascript execution) and you will need some browser automation tool.</p>"
10299774	Downloading a file from Javascript onclick function in python	javascript|python|html	2012-04-24 14:14:26.913000 UTC	"<p>Suppose i had an anchor tag named ""Click to download"" on a page which downloads a csv file when clicked </p>  <p>The HTML Code is</p>  <pre><code>&lt;span id=""tag_id""&gt;     &lt;a class=""classA"" onclick=""calling_an_excel_function()"" href=""#""&gt; Click here to download all records.&lt;/a&gt; &lt;/span&gt;  </code></pre>  <p>Actually it is calling an Javascript Onclick function and generating a csv file and the code of onclick function is</p>  <pre><code>function calling_an_excel_function() {     var exampleA = document.getElementById('exampleA.value');     var exampleB = document.getElementById('exampleB.value');     var exampleC = document.getElementById('exampleC.value');     var exampleD = document.getElementById('exampleD.value');     window.open('indices_main_excel.aspx?ind=' + exampleA.value + '&amp;fromDate=' + exampleB.value + '&amp;toDate=' + examplec.value + '&amp;DMY=' + exampleD.value, '_blank', 'toolbar=yes,location=no, directories=no, status=no, menubar=yes,scrollbars=yes, resizable=yes ,copyhistory=no, width=800, height=600'); }  </code></pre>  <p>I can expect that in onclick function <strong>window.open()</strong> method is generating a new file with some values given. Now i am unable to get <strong>csv</strong> file downloading <strong>url</strong> from the above onclick function  Can i know how to get the csv file downloading link </p>"	10299835	<p>(Just guessing)</p>  <p>But you probably want</p>  <pre><code>document.getElementById('exampleA'); </code></pre>  <p>instead of</p>  <pre><code>document.getElementById('exampleA.value'); </code></pre>
10299774	Downloading a file from Javascript onclick function in python	javascript|python|html	2012-04-24 14:14:26.913000 UTC	"<p>Suppose i had an anchor tag named ""Click to download"" on a page which downloads a csv file when clicked </p>  <p>The HTML Code is</p>  <pre><code>&lt;span id=""tag_id""&gt;     &lt;a class=""classA"" onclick=""calling_an_excel_function()"" href=""#""&gt; Click here to download all records.&lt;/a&gt; &lt;/span&gt;  </code></pre>  <p>Actually it is calling an Javascript Onclick function and generating a csv file and the code of onclick function is</p>  <pre><code>function calling_an_excel_function() {     var exampleA = document.getElementById('exampleA.value');     var exampleB = document.getElementById('exampleB.value');     var exampleC = document.getElementById('exampleC.value');     var exampleD = document.getElementById('exampleD.value');     window.open('indices_main_excel.aspx?ind=' + exampleA.value + '&amp;fromDate=' + exampleB.value + '&amp;toDate=' + examplec.value + '&amp;DMY=' + exampleD.value, '_blank', 'toolbar=yes,location=no, directories=no, status=no, menubar=yes,scrollbars=yes, resizable=yes ,copyhistory=no, width=800, height=600'); }  </code></pre>  <p>I can expect that in onclick function <strong>window.open()</strong> method is generating a new file with some values given. Now i am unable to get <strong>csv</strong> file downloading <strong>url</strong> from the above onclick function  Can i know how to get the csv file downloading link </p>"	10299878	"<p>You don't need to use Window.open. Change the href to equal the file path (yes, it's coming from you server code) or use window.location. Make sure you set the content-disposition header.</p>  <p>I don't know how to set headers in python, but you'll want to set a header that looks like this:</p>  <p>Content-Disposition: attachment; filename=""filename.csv""</p>"
10358499	how to use python with javascript?	javascript|python|django-models	2012-04-27 22:08:22.163000 UTC	"<p>I have an object ""company"". When I use company inside of html, it works fine. But when I tried to use that object inside javascript I get the ""Uncaught SyntaxError: Unexpected token &amp;"".</p>  <p>What I am trying to do is getting the objects from db then display them on html page then change up some divs using js.</p>  <p>the url:</p>  <pre><code>('^all_companies$', 'companies.views.all_companies') </code></pre>  <p>the view:</p>  <pre><code>def all_companies(request):      companies = Company.objects.all().order_by('id')[:5];        return direct_to_template(request, 'all_companies.html', {'companies': companies} ); </code></pre>  <p>the html:</p>  <pre><code>{% block sidebar %}     &lt;div id=""sidebar""&gt;         &lt;!-- like google maps, short list of company info --&gt;         &lt;ul&gt;             {% for comp in companies %}                 &lt;li&gt;{{ comp }}&lt;/li&gt;                              {% endfor %}         &lt;/ul&gt;     &lt;/div&gt; {% endblock %} </code></pre>  <p>the js:</p>  <pre><code>var tmp = {{ companies }} </code></pre>"	10358605	"<p>You can add a template filter like that one: <a href=""http://djangosnippets.org/snippets/201/"" rel=""nofollow"">http://djangosnippets.org/snippets/201/</a></p>  <p>and use </p>  <pre><code>{{ companies | jsonify }} </code></pre>  <p>but I'm not sure it's a good idea to do that directly on a db object, it will be better to map them to a simple map of properties you need</p>"
10360817	Is there any Python module that helps to crawl data from DOM loaded by Javascript?	python|web-crawler|web-scraping	2012-04-28 05:14:58.587000 UTC	"<p>I want to scrape data from a page which loads DOM elements using Ajax call.</p>  <p>I have tried with the old solution line PyQt4-based scraping, which loads the DOM after it's fully loaded, but the problem is that I need to do a POST request and it's only available for GET.</p>  <p>The new Python module <a href=""http://jeanphix.me/Ghost.py/"" rel=""nofollow"">ghost.py</a> has time out issues: when it fetches a large DOM tree it raises a time out exception.</p>  <p>If anyone knows any specific way or tools that can help me to do a POST request and grab the data after fully loaded DOM, that will help me a lot.</p>"	10360892	"<p>You can use <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> to automate browser and access dom. Selenium has python driver hence you can write code in python to navigate to the page. click buttons and wait for ajax call to complete before you start scrapping.</p>"
10360817	Is there any Python module that helps to crawl data from DOM loaded by Javascript?	python|web-crawler|web-scraping	2012-04-28 05:14:58.587000 UTC	"<p>I want to scrape data from a page which loads DOM elements using Ajax call.</p>  <p>I have tried with the old solution line PyQt4-based scraping, which loads the DOM after it's fully loaded, but the problem is that I need to do a POST request and it's only available for GET.</p>  <p>The new Python module <a href=""http://jeanphix.me/Ghost.py/"" rel=""nofollow"">ghost.py</a> has time out issues: when it fetches a large DOM tree it raises a time out exception.</p>  <p>If anyone knows any specific way or tools that can help me to do a POST request and grab the data after fully loaded DOM, that will help me a lot.</p>"	24184155	"<p>For emulating Javascript and automate browser, I recommend `<a href=""https://pypi.python.org/pypi/spynner"" rel=""nofollow""><strong>Spynner</strong></a>. You can run it with or without a Xserver and the syntax is quite simple to use. You can load jquery too.</p>"
10363902	Executing JavaScript in pure Python environment	javascript|python|google-app-engine	2012-04-28 13:24:15.763000 UTC	<p>I want to run existing simple (no special tricks) JavaScript code (several thousand lines) in a pure Python environment (Google AppEngine).</p>  <p>The code runs fine with PyV8 (but it is not pure Python).</p>  <p>Is PyJON mature enough for this?</p>  <p>Can I define custom objects in Python and use them in JavaScript (like in PyV8)?</p>	10390235	"<p>You can use <a href=""http://gae-init.appspot.com"" rel=""nofollow"">gae-init</a>, where you can access you datastore objects in JSON format.</p>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395415	"<p>How about adding appropriate quotes around <code>%s</code>, i.e.:</p>  <pre><code>'function dosomething () { return ""%s"".toLowerCase(); }' % jsstring </code></pre>  <p>Here's a command-line session to clarify the difference:</p>  <pre><code>In [10]: joe = 'somestring'  In [11]: '%s.toLowerCase();' % joe Out[11]: 'somestring.toLowerCase();'  In [12]: '""%s"".toLowerCase();' % joe Out[12]: '""somestring"".toLowerCase();' </code></pre>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395417	"<p>Step through your code:</p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>Now, if <code>jsstring</code> is <code>""Foo""</code>, what does it produce?</p>  <pre><code>function dosomething () { return Foo.toLowerCase(); } </code></pre>  <p>Of course this will fail. There is no variable called <code>Foo</code> set in the javascript function.</p>  <p>In all likelihood, you wanted a string literal:</p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return ""%s"".toLowerCase(); }' % jsstring </code></pre>  <p>Of course, you'll need to make sure nothing goes wrong if <code>jsstring</code> includes quotes, linebreaks and other sensitive characters. I'll leave that to you.</p>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395465	"<p>You better quote the string appropriately what ever you are passing to the function. This will keep things simple</p>  <p>For the example mentioned</p>  <pre><code>&gt;&gt;&gt; convert('""javascript""') 'function dosomething () { return ""javascript"".toLowerCase(); }' </code></pre>  <p>And if you want to pass a quoted string, escape it appropiately</p>  <pre><code>&gt;&gt;&gt; print convert(""\""javascript\""\"""") function dosomething () { return ""javascript"""".toLowerCase(); } </code></pre>  <p>And  remember if you want the raw representation, always use <code>repr</code>, you will get what you are intending</p>  <pre><code>&gt;&gt;&gt; repr(convert(""\""javascript\""\"""")) '\'function dosomething () { return ""javascript"""".toLowerCase(); }\'' </code></pre>  <p>or to keep it transparent, add the repr inside the function.</p>  <pre><code>&gt;&gt;&gt; def convert(jsstring=''):     return repr('function dosomething () { return %s.toLowerCase(); }' % jsstring)  &gt;&gt;&gt; convert(""\""javascript\""\"""") '\'function dosomething () { return ""javascript"""".toLowerCase(); }\'' </code></pre>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395472	"<p>Use <code>repr</code>, or else your string will not work if it contains "" or '. For example:</p>  <pre><code>... % repr(jsstring) </code></pre>  <p>Failure to use <code>repr</code> may also be a security vulnerability (via injection of "" or ' or other characters). Failure to use <code>repr</code> may also cause your javascript to fail if your string contains those characters. Though if security is a concern, you will also want to avoid text like <code>&lt;/script&gt;</code>, and other things, by putting it through a proper escaping system, or encode it in something like base64.</p>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395491	"<p>You want <a href=""http://docs.python.org/library/json.html"" rel=""nofollow"">json</a>:</p>  <pre><code>import json  jsstring = """"""     foo ""bar"" """"""  print 'function dosomething () { return %s.toLowerCase(); }' % json.dumps(jsstring) </code></pre>  <p>Suggested <code>repr</code> won't work with unicode strings:</p>  <pre><code>jsstring = u""\u1234"" print 'function dosomething () { return %s.toLowerCase(); }' % repr(jsstring)  </code></pre>  <p>returns</p>  <pre><code>function dosomething () { return u'\u1234'.toLowerCase(); } </code></pre>  <p>which is not valid javascript.</p>"
10395319	python convert str to javascript literal string	javascript|python	2012-05-01 08:27:57.933000 UTC	"<p>I want to use python to generate javascript code dynamiclly. </p>  <pre><code>def convert(jsstring=''):     return 'function dosomething () { return %s.toLowerCase(); }' % jsstring </code></pre>  <p>The problem is <code>jsstring</code> is a python string.</p>  <p>How can i convert it back to javascript string literal to make <code>dosomething</code> a valid javascript function ?</p>  <p>for example</p>  <p>call</p>  <pre><code>convert(""javascript"") </code></pre>  <p>now output</p>  <pre><code> function dosomething () { return javascript.toLowerCase(); } </code></pre>  <p>which is not a valid javascript function</p>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript"".toLowerCase(); } </code></pre>  <p>another example, call</p>  <pre><code>convert(""javascript\'"") </code></pre>  <p>expected output</p>  <pre><code> function dosomething () { return ""javascript\'"".toLowerCase(); } </code></pre>  <p>Thanks a lot.</p>"	10395541	"<p>Use repr inside string interpolation:</p>  <pre><code>&gt;&gt;&gt; 'This is a string: %r' % ('python string') 'This is a string: ""python string""' </code></pre>  <p>So just replace %s with %r in your code. <code>repr()</code> will do the work for you.</p>"
10398315	Converting JavaScript into Python bytecode	javascript|python|google-app-engine	2012-05-01 13:26:24.190000 UTC	"<p>I am trying to execute simple JavaScript code in a pure Python environment (Google AppEngine).</p>  <p>I've tried PYJON, but it does not seem mature enough for real use(it does not handle eg forward referenced functions or do-while and it hangs on array usage).</p>  <p>One idea would be to use pynarcissus to convert JavaScript into a syntax tree and than convert this tree jnto a Python AST which could be compiled into Python bytecode.</p>  <p>Has anybody done this before? Any problems with this idea?</p>"	10399744	"<p>I did something similar using <a href=""http://www.dabeaz.com/ply/"" rel=""nofollow"">ply</a>, for VBScript and for a new language I've been working on for a while, but instead of building the AST and then convert to a Python AST, I'd build the Python AST straight on, using its node classes and occasionally subclassing and overriding some that wouldn't fit particularly well.</p>  <p>Since you can rely on pynarcissus to build an AST for Javascript, converting the AST is probably easier, but I think it's worth checking if using its parser to build a Python AST isn't a better approach. </p>  <p>There are no inherent problems with this approach, as far as I know, as long as the languages can be syntactically reduced to a common dialect. It's hard work, but it can be done. I did this because I didn't have a parser available and writing one to just build an AST would make no sense. For VBScript I was dealing only with recorded macros, so code was very stable, mostly one-liners.</p>"
10398315	Converting JavaScript into Python bytecode	javascript|python|google-app-engine	2012-05-01 13:26:24.190000 UTC	"<p>I am trying to execute simple JavaScript code in a pure Python environment (Google AppEngine).</p>  <p>I've tried PYJON, but it does not seem mature enough for real use(it does not handle eg forward referenced functions or do-while and it hangs on array usage).</p>  <p>One idea would be to use pynarcissus to convert JavaScript into a syntax tree and than convert this tree jnto a Python AST which could be compiled into Python bytecode.</p>  <p>Has anybody done this before? Any problems with this idea?</p>"	10406398	"<p>To my knowledge, there are no complete and robust implementations of Javascript interpreters on Python. Your best option is probably to deploy an alternate version of your app with the Rhino interpreter in Java, and call this as a web service with the main version of your app.</p>"
10435021	python decorator with javascript	javascript|decorator	2012-05-03 15:56:37.557000 UTC	<p>What I want to do is the following :</p>  <p>I have a function that alert something :</p>  <pre><code>myfunction = function(foobar) {                   alert(foobar);               }; </code></pre>  <p>Now I want to decorate it so that :</p>  <pre><code>decorate = function(callback) {                return function(foobar) {                    callback(foobar);                    console.log(foobar);             };  }; </code></pre>  <p>So then I can write :</p>  <pre><code>myfunction = decorate(myfunction); </code></pre>  <p>And then myfunction will do the normal + log in the console.</p>  <p>How can I make it works with Javascript ?</p>	10435046	"<p>Yes, you can. And in fact, you have, your implementation works perfectly: <a href=""http://jsbin.com/ojaram"" rel=""noreferrer"">Live example</a> | <a href=""http://jsbin.com/ojaram/edit"" rel=""noreferrer"">source</a></p>  <pre><code>var myfunction = function(foobar) { alert(foobar); };  var decorate = function(callback) { return function(foobar) { callback(foobar); console.log(foobar); }; };  var result = decorate(myfunction);  result(""Hi there""); </code></pre>  <p>I would recommend using function <em>declarations</em> rather than function <em>expressions</em>, though:</p>  <pre><code>function myfunction(foobar) {     alert(foobar); }  function decorate(callback) {     return function(foobar) {         callback(foobar);         console.log(foobar);     }; }  var result = decorate(myfunction);  result(""Hi there""); </code></pre>  <p>And if you want to create a more generic version, look at using <code>apply</code> (<a href=""https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply"" rel=""noreferrer"">MDN</a> | <a href=""http://es5.github.com/#x15.3.4.3"" rel=""noreferrer"">spec</a>) and the <code>arguments</code> pseudo-array (<a href=""https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope/arguments"" rel=""noreferrer"">MDN</a> | <a href=""http://es5.github.com/#x10.6"" rel=""noreferrer"">spec</a>): <a href=""http://jsbin.com/ojaram/2"" rel=""noreferrer"">Live example</a> | <a href=""http://jsbin.com/ojaram/2"" rel=""noreferrer"">source</a></p>  <pre><code>function decorate(original, wrapper, context) {     return function() {         try {             original.apply(this, arguments);         }         catch (e) {         }         try {             wrapper.apply(context || this, arguments);         }         catch (e) {         }     }; }  function myFunction(arg1, arg2) {     alert(""arg1 = "" + arg1 + "", arg2 = "" + arg2); }  var newFunction = decorate(myFunction, function(arg1, arg2) {     console.log(""arg1 = "" + arg1 + "", arg2 = "" + arg2); });  newFunction(1, 2); </code></pre>  <p>That version does a couple of things:</p>  <ol> <li><p>Lets you supply the callback as an argument to one central <code>decorate</code> function.</p></li> <li><p>Lets you optionally supply a ""context"" (<code>this</code> value) to use when calling the callback.</p></li> <li><p>Preserves the value of <code>this</code> when calling both the original and (if you don't supply <code>context</code>) the callback.</p></li> </ol>  <p>...which an be handy when decorating object functions (sometimes called methods).</p>"
10435021	python decorator with javascript	javascript|decorator	2012-05-03 15:56:37.557000 UTC	<p>What I want to do is the following :</p>  <p>I have a function that alert something :</p>  <pre><code>myfunction = function(foobar) {                   alert(foobar);               }; </code></pre>  <p>Now I want to decorate it so that :</p>  <pre><code>decorate = function(callback) {                return function(foobar) {                    callback(foobar);                    console.log(foobar);             };  }; </code></pre>  <p>So then I can write :</p>  <pre><code>myfunction = decorate(myfunction); </code></pre>  <p>And then myfunction will do the normal + log in the console.</p>  <p>How can I make it works with Javascript ?</p>	10435249	"<p>More generic using arguments and apply :</p>  <pre><code>function myfunction(foobar) {      alert(foobar);  }  function decorate(callback) {      return function() {          callback.apply(null, arguments);          console.log(arguments);      };  }  var result = decorate(myfunction);  result(""Hi there""); </code></pre>"
10438291	Fill out javascript with python?	python	2012-05-03 19:42:35.883000 UTC	"<p>I am trying to parse an html page but I need to filter the results before I parse the page.</p>  <p>For instance, 'http://www.ksl.com/index.php?nid=443' is a classified listing of cars in Utah. Instead of parsing ALL the cars, I'd like to filter it first (ie find all BMWs) and then only parse those pages. Is it possible to fill in a javascript form with python?</p>  <p>Here's what I have so far:</p>  <pre><code>import urllib  content = urllib.urlopen('http://www.ksl.com/index.php?nid=443').read() f = open('/var/www/bmw.html',""w"") f.write(content) f.close() </code></pre>"	10438328	"<p>If you're using python, <a href=""http://www.crummy.com/software/BeautifulSoup/"" rel=""nofollow"">Beautifull Soup</a> is what you're looking for. </p>"
10438291	Fill out javascript with python?	python	2012-05-03 19:42:35.883000 UTC	"<p>I am trying to parse an html page but I need to filter the results before I parse the page.</p>  <p>For instance, 'http://www.ksl.com/index.php?nid=443' is a classified listing of cars in Utah. Instead of parsing ALL the cars, I'd like to filter it first (ie find all BMWs) and then only parse those pages. Is it possible to fill in a javascript form with python?</p>  <p>Here's what I have so far:</p>  <pre><code>import urllib  content = urllib.urlopen('http://www.ksl.com/index.php?nid=443').read() f = open('/var/www/bmw.html',""w"") f.write(content) f.close() </code></pre>"	10438936	"<p>Here is the way to do it. First download the page, scrape it to find the models that you are looking for, then you can get links to the new pages to scrape. There is no need for javascript here. This model and the BeautifulSoup documentation will get you going.</p>  <pre><code>from BeautifulSoup import BeautifulSoup import urllib2  base_url = 'http://www.ksl.com' url = base_url + '/index.php?nid=443' model = ""Honda"" # this is the name of the model to look for  # Load the page and process with BeautifulSoup handle = urllib2.urlopen(url) html = handle.read() soup = BeautifulSoup(html)  # Collect all the ad detail boxes from the page divs = soup.findAll(attrs={""class"" : ""detailBox""})  # For each ad, get the title # if it contains the word ""Honda"", get the link for div in divs:     title = div.find(attrs={""class"" : ""adTitle""}).text     if model in title:         link = div.find(attrs={""class"" : ""listlink""})[""href""]         link = base_url + link         # Now you have a link that you can download and scrape         print title, link     else:         print ""No match: "", title </code></pre>  <p>At the moment of answering, this code snippet is looking for Honda models and returns the following:</p>  <pre><code>1995-  Honda Prelude http://www.ksl.com/index.php?sid=0&amp;nid=443&amp;tab=list/view&amp;ad=8817797 No match:  1994-  Ford Escort No match:  2006-  Land Rover Range Rover Sport No match:  2006-  Nissan Maxima No match:  1957-  Volvo 544 No match:  1996-  Subaru Legacy No match:  2005-  Mazda Mazda6 No match:  1995-  Chevrolet Monte Carlo 2002-  Honda Accord http://www.ksl.com/index.php?sid=0&amp;nid=443&amp;tab=list/view&amp;ad=8817784 No match:  2004-  Chevrolet Suburban (Chevrolet) 1998-  Honda Civic http://www.ksl.com/index.php?sid=0&amp;nid=443&amp;tab=list/view&amp;ad=8817779 No match:  2004-  Nissan Titan 2001-  Honda Accord http://www.ksl.com/index.php?sid=0&amp;nid=443&amp;tab=list/view&amp;ad=8817770 No match:  1999-  GMC Yukon No match:  2007-  Toyota Tacoma </code></pre>"
10464936	"How automatically check for erros in the code (PHP, Python, HTML, Javascript) in Sublime Text 2?"	php|python|plugins|package|sublimetext2	2012-05-05 18:48:46.327000 UTC	"<p>How can I automatically check errors in my code when I'm using <code>Sublime Text 2</code>? Or,is there <code>Sublime Text 2</code> packages/plugins to check if the code have errors?</p>  <p>My main languages is Python, PHP, Javascript, HTML, so, I mainly searching for things that can help with them.</p>  <p>-- Examples to understood the tool needed:</p>  <pre><code>&lt;?php     echa 'test' ?&gt; </code></pre>  <p>The tool shold return (or with something similar) that there isn't <code>echa</code> method and the colon(<code>;</code>) is missing.</p>  <pre><code>&lt;html&gt;     &lt;h1&gt;Test&lt;/h1&gt; &lt;/.html&gt; </code></pre>  <p>The tool should return (or with something similar) that the <code>HTML</code> tag was not closed and there's no tag named <code>.html</code>.</p>  <pre><code>&lt;script type='text/javascript'&gt;     function(){         document.writ('Test');     } &lt;/script&gt; </code></pre>  <p>The tool should return (or with something similar) that there isn't <code>writ</code> method.</p>  <p>This simples examples is just to explain a bit more.</p>"	10465051	"<p>I mainly use sublime2 for Python programming and SublimeLinter is awesome for that, finds unused imports/variables and makes you follow the PEP8</p>  <p>Apparently it support PHP aswell :)</p>  <p><a href=""https://github.com/Kronuz/SublimeLinter"" rel=""nofollow"">https://github.com/Kronuz/SublimeLinter</a></p>  <p>Here is also a plugin for some nice python autocompletion <a href=""https://github.com/JulianEberius/SublimeRope"" rel=""nofollow"">https://github.com/JulianEberius/SublimeRope</a></p>"
10484347	What is the correct way to encode HTML in JAVASCRIPT + JSON and decode it in PYTHON?	python|json|encoding|decoding	2012-05-07 15:00:27.250000 UTC	"<p>I have a JAVASCRIPT array allPois which contains several pois objects with the structure below:</p>  <pre><code>    var poi = {         title:  pois[x].title,         lat:    pois[x].position.lat(),         lng:    pois[x].position.lng(),         html:   pois[x].html     }; </code></pre>  <p>This is the JAVASCRIPT function that calls my server:</p>  <pre><code>function save(){      var jsonizedData = JSON.stringify({theArray:allPois});      jQuery.ajax({         type:       'POST',         url:        'http://localhost:8000/save',         contentType:'application/json; charset=utf-8',         dataType:   'json',         data:       mydata,         async:      true     }); } </code></pre>  <p>This is function on the server side that process the request:</p>  <pre><code>def save(request):    for object in request.POST:       my_data = simplejson.loads(object)     return none    </code></pre>  <p>What is the best way to encode/decode the parameter 'html' (that contains actually html code) so that it can be loaded properly in the server?</p>"	10485188	"<p>Since the value of the property <code>.html</code> is <code>string</code>, you don't need to do anything. JSON can handle string values all right. Any modifications by you will only make things worse.</p>  <p>Your problem is probably how you get the value from the text area. <a href=""http://jsfiddle.net/jtngP/2/"" rel=""nofollow"">See this jsfiddle how special characters are handled</a>.</p>  <p>But in modern browsers, no encoding/decoding is necessary at any step.</p>  <p>Oh, and make sure you clean the HTML to avoid <a href=""https://en.wikipedia.org/wiki/Cross-site_scripting"" rel=""nofollow"">XSS and other attacks</a>.</p>"
10517070	passing json data from python (bottle.py) to leaflet's javascript library to display on a slippy map	jquery|python|json|bottle|leaflet	2012-05-09 13:24:42.847000 UTC	"<p>I'm working on what I thought would be a simple side project.  It turns out that I am a bit out of my comfort zone since I know nothing about python (PHP is what I work with).  I am trying to create a slippy map (using cloudemade's leaflet) that displays a set of points of interests.  I have a CSV file containing name, latitude and longitude of the POIs.  </p>  <p>So far I am able to read the CSV data and convert it to JSON data and display a dump of the JSON data in a web page using bottle.py.  </p>  <p>My question is how do I pass bottle.py's JSON data to leaflet's javascript library via jquery??</p>  <p>Chris</p>"	10577726	"<p>leaflet supports GEOJSON, which makes it easy to display vector data with leaflet.</p>  <p>See:</p>  <p><a href=""http://leaflet.cloudmade.com/examples/geojson.html"" rel=""nofollow"">http://leaflet.cloudmade.com/examples/geojson.html</a></p>  <p>The python <a href=""http://pypi.python.org/pypi/geojson/"" rel=""nofollow"">geojson</a> library supports geojson as well, so there's not a lot you need to do on the python side other than get it into the appropriate object and add any additional properties you want before serving the resulting JSON to leaflet.</p>  <p>Just use a standard XMLHttpRequest() to get the JSON objects from whereever you're serving it.</p>  <pre><code>function loadData(){      // retrieve and load features to a layer     var xhrequest = new XMLHttpRequest();     xhrequest.onreadystatechange = function(){         if (xhrequest.readyState == 4){             if (xhrequest.status == 200){                 var geojsonLayer = new L.GeoJSON();                 geojsonLayer.on(""featureparse"", function(e){                     if (e.properties &amp;&amp; e.properties.name &amp;&amp; e.properties.value){                         var popupContent = ""Whatever added properties you want to display"";                         e.layer.bindPopup(popupContent);                                          };                      // any styles you've added                     if (e.properties &amp;&amp; e.properties.style &amp;&amp; e.layer.setStyle){                         e.layer.setStyle(e.properties.style);                                           };                                       });                     var layerItems =  JSON.parse(xhrequest.responseText);                 // add features to layer                 for (i=0; i&lt;layerItems.length;i++){                     var geojsonFeature = layerItems[i];                     geojsonLayer.addGeoJSON(geojsonFeature);                                        };                 map.addLayer(geojsonLayer);              };                         };                 };     var url= ""&lt;url of where you are serving the GEOJSON data&gt;"";      xhrequest.open('GET', url, true);     xhrequest.send(null);             } </code></pre>"
10537508	Embedding Gecko in Python with custom Javascript bindings	javascript|python|embed|gecko	2012-05-10 15:37:55.650000 UTC	"<p>Is it possible to embed Gecko in Python so that I can display HTML documents. And then possibly create custom Javascript bindings so that, I can call my own Javascript functions in the HTML document that will do some task that are not normally allowed in the browser, like making system calls. This will be done by the underlying python program.</p>"	10538283	"<p>There are a variety of ways to do this, actually.  First, are you using another GUI library (e.g. wxPython, Tkinter, PyGTK, etc.) and you want to embed Gekco into a window that you create in one of those frameworks?  i.e.  Are you trying to embed a Gecko frame into a Tkinter (or wxPython, or PyGTK, or...) window?</p>  <p>Is using <strong>ONLY</strong> Gecko for the GUI a viable alternative?  If so, you might want to take a look at <a href=""https://developer.mozilla.org/en/XUL"" rel=""nofollow"">XUL (and xulrunner)</a>.  Gecko can interface with the outside world via XPCOM, and there is some integration of Python with XPCOM (see <a href=""http://code.google.com/p/pythonext/"" rel=""nofollow"">pythonext at Google Code</a>).  So, it's possible to write a mixed application where the UI elements are described in XUL with active javascript and signals are sent to/from the UI and your python code (which runs locally and can execute arbitrary system calls, etc.)</p>  <p>Along the same lines, but somewhat more straightforward, you can create a python script that launches a xulrunner app AND a locally running webserver.  The xulrunner app hosts the GUI, along with active javascript code, while your locally running webserver executes arbitrary python code (including local system calls).  I've used the (""batteries included"") BaseHTTPServer many times to do something similar and I'm confident that you'll find it relatively straightforward to do so.</p>"
10563047	accessing a python dictionary in javascript	javascript|django|django-templates	2012-05-12 10:48:42.033000 UTC	"<p>I need to access a dictionary (country_stat) within javascript in a django template. I'm using google charts api that have this javascript code. The below code runs great and prints a neat map. But the values are static. </p>  <pre><code>function drawRegionsMap() {   var data = google.visualization.arrayToDataTable([     ['Country', 'Popularity'],     ['Germany', 2],     ['United States', 3],     ['Brazil', 4],     ['Canada', 5],     ['France', 6],     ['RU', 7]   ]); </code></pre>  <p>Printing country_stat within content block is successful. </p>  <pre><code>{% for key, value in country_stat.items %} {{key}}, {{value}} {% endfor %} </code></pre>  <p>prints,</p>  <pre><code>India, 2 Russia, 1  </code></pre>  <p>But I don't know how to plug this into the javascript code.</p>"	10563085	"<p>Either ask for the data by AJAX, or plop down literal JSON inside your JavaScript from the template - set a context variable in your view:</p>  <pre><code>import simplejson as json context['thingy_json'] = json.dumps(thingy) </code></pre>  <p>Then include that variable in your template:</p>  <pre><code>&lt;script&gt;     var data = {{ thingy_json }}; &lt;/script&gt; </code></pre>"
10563047	accessing a python dictionary in javascript	javascript|django|django-templates	2012-05-12 10:48:42.033000 UTC	"<p>I need to access a dictionary (country_stat) within javascript in a django template. I'm using google charts api that have this javascript code. The below code runs great and prints a neat map. But the values are static. </p>  <pre><code>function drawRegionsMap() {   var data = google.visualization.arrayToDataTable([     ['Country', 'Popularity'],     ['Germany', 2],     ['United States', 3],     ['Brazil', 4],     ['Canada', 5],     ['France', 6],     ['RU', 7]   ]); </code></pre>  <p>Printing country_stat within content block is successful. </p>  <pre><code>{% for key, value in country_stat.items %} {{key}}, {{value}} {% endfor %} </code></pre>  <p>prints,</p>  <pre><code>India, 2 Russia, 1  </code></pre>  <p>But I don't know how to plug this into the javascript code.</p>"	10563122	"<p>Actually solved it. </p>  <pre><code>  var data = google.visualization.arrayToDataTable([     ['Country', 'Popularity'],     {% for key, value in country_stat.items %}     ['{{key}}', {{value}}],     {% endfor %}   ]); </code></pre>  <p>The problem was silly - i missed the single quotes around {{key}}</p>"
10628169	Parse a Python datetime string in Javascript	javascript|python|date|date-parsing	2012-05-16 23:38:38.947000 UTC	"<p>I need to parse a Python-generated datetime string into a Javascript Date object. I went the simplest route:</p>  <p><strong>In Python:</strong></p>  <pre><code>dstring = str(mydate) </code></pre>  <p>example dstring = '2012-05-16 19:20:35.243710-04:00'</p>  <p><strong>In Javascript (with <a href=""http://www.datejs.com/"" rel=""nofollow"">datejs</a> library):</strong></p>  <pre><code>d = new Date(dstring); </code></pre>  <p>This gets me a correct date object in Chrome, but an ""Invalid Date"" error in Firefox and Safari (on Mac). </p>"	10628222	"<p>You need to parse the string into a JS Date. The <code>Date</code> constructor is not enough. Maybe you should consider using a library such as datejs:</p>  <p><a href=""http://www.datejs.com/"" rel=""nofollow"">http://www.datejs.com/</a></p>  <p>Datejs extends the <code>Date</code> object with useful methods such as:</p>  <pre><code>Date.parse('Thu, 1 July 2004 22:30:00'); </code></pre>  <p>Needless to say that date/time formats are customizable.</p>"
10641893	Convert Javascript array to python list?	python	2012-05-17 19:00:25.803000 UTC	"<p>I want to make google trasnlate script. I am making a request to translate.google.com and google return an array  but the array contains undefined items.You can imagine response comes as string. I can remove commas if there is more than one consecutive with regex etc. but I am looking best solution :)</p>  <p>How can I convert this javascript array to python list?</p>  <pre><code>[""a"",""b"",,,""e""] </code></pre>  <p>My script : <a href=""http://ideone.com/jhjZe"" rel=""noreferrer"">http://ideone.com/jhjZe</a></p>"	10641983	"<h2>JavaScript part - encoding</h2>  <p>In Javascript you do:</p>  <pre class=""lang-js prettyprint-override""><code>var arr = [""a"",""b"",,,""e""]; var json_string = JSON.stringify(arr); </code></pre>  <p>then you somehow pass <code>json_string</code> (now equal to ""<code>[""a"",""b"",null,null,""e""]</code>"" string) from JavaScript to Python.</p>  <h2>Python part - decoding</h2>  <p>Then, on Python side do:</p>  <pre class=""lang-py prettyprint-override""><code>json_string = '[""a"",""b"",null,null,""e""]'  # passed from JavaScript  try:     import simplejson as json except (ImportError,):     import json  result = json.loads(json_string) </code></pre>  <p>As a result you get <code>[u'a', u'b', None, None, u'e']</code> in Python.</p>  <h2>More links</h2>  <p>See below:</p>  <ul> <li><a href=""http://jsfiddle.net/Gtehr/"">demo of JavaScript part</a>,</li> <li><a href=""https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/stringify"">Documentation on JSON.stringify() at Mozilla Developer Network</a>,</li> <li><a href=""http://ideone.com/oqnQZ"">demo of Python part</a>,</li> </ul>  <h2>Dependencies</h2>  <p>The above solutions require:</p>  <ul> <li><code>JSON.stringify()</code> in JavaScript, which is in all mobile browsers, Chrome, Firefox, Opera, Safari and in IE since version 8.0 (more detailed list of compatible browsers is <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Browser_compatibility"">here</a>),</li> <li><code>json</code> Python library (the above code will use <code>simplejson</code> optionally, if available, but is not required), which comes in standard library,</li> </ul>  <p>So, in short <strong>there are no external dependencies</strong>.</p>"
10647741	Executing Javascript functions using scrapy in python	python|scrapy	2012-05-18 06:26:20.450000 UTC	"<p>I am very new to ""<strong>scrapy</strong>"", i am scrapping a website and in that i had some anchor tags which consists of href attributes with <strong>java script SubmitForm functions</strong>. When i clicked that javascript function a page is opening from which i need to fetch data.I used <strong>Xpath</strong> and found href for particular anchor tags but unable to execute that href attribute that contains javascript function. Can anyone tell me how to execute javascript Submit functions of anchor tags in scrapy python.My HTML code is</p>  <pre><code>   &lt;table class=""Tbl"" cellspacing=""2"" cellpadding=""0"" border=""0""&gt;      &lt;tbody&gt;         &lt;tr&gt;            &lt;td class=""TblOddRow""&gt;              &lt;table cellspacing=""0"" cellpadding=""0"" border=""0""&gt;                &lt;tbody&gt;                  &lt;tr&gt;                    &lt;td valign=""middle"" nowrap=""""&gt;                         &lt;a class=""Page"" alt=""Click to view job description"" title=""Click to view job description"" href=""javascript:sysSubmitForm('frmSR1');""&gt;Accountant&amp;nbsp;&lt;/a&gt;                    &lt;/td&gt;                  &lt;/tr&gt;                &lt;/tbody&gt;              &lt;/table&gt;            &lt;/td&gt;         &lt;/tr&gt;       &lt;/tbody&gt;   &lt;/table&gt;                       </code></pre>  <p>And spider code is </p>  <pre><code>class MountSinaiSpider(BaseSpider):    name = ""mountsinai""    allowed_domains = [""mountsinaicss.igreentree.com""]    start_urls = [        ""https://mountsinaicss.igreentree.com/css_external/CSSPage_SearchAndBrowseJobs.ASP?T=20120517011617&amp;"",    ]    def parse(self, response):        return [FormRequest.from_response(response,                                         formdata={ ""Type"":""CSS"",""SRCH"":""Search&amp;nbsp;Jobs"",""InitURL"":""CSSPage_SearchAndBrowseJobs.ASP"",""RetColsQS"":""Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤"",""RetColsGR"":""Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤"",""ResultSort"":"""" },                                         callback=self.parse_main_list)]    def parse_main_list(self, response):        hxs = HtmlXPathSelector(response)        firstpage_urls = hxs.select(""//table[@class='Tbl']/tr/td/table/tr/td"")     for link in firstpage_urls:        hrefs = link.select('a/@href').extract() </code></pre>"	25444370	<p>Use built-in FormRequest or FormRequest.from_response functions - inside them specify what data to submit to the form.</p>
10647741	Executing Javascript functions using scrapy in python	python|scrapy	2012-05-18 06:26:20.450000 UTC	"<p>I am very new to ""<strong>scrapy</strong>"", i am scrapping a website and in that i had some anchor tags which consists of href attributes with <strong>java script SubmitForm functions</strong>. When i clicked that javascript function a page is opening from which i need to fetch data.I used <strong>Xpath</strong> and found href for particular anchor tags but unable to execute that href attribute that contains javascript function. Can anyone tell me how to execute javascript Submit functions of anchor tags in scrapy python.My HTML code is</p>  <pre><code>   &lt;table class=""Tbl"" cellspacing=""2"" cellpadding=""0"" border=""0""&gt;      &lt;tbody&gt;         &lt;tr&gt;            &lt;td class=""TblOddRow""&gt;              &lt;table cellspacing=""0"" cellpadding=""0"" border=""0""&gt;                &lt;tbody&gt;                  &lt;tr&gt;                    &lt;td valign=""middle"" nowrap=""""&gt;                         &lt;a class=""Page"" alt=""Click to view job description"" title=""Click to view job description"" href=""javascript:sysSubmitForm('frmSR1');""&gt;Accountant&amp;nbsp;&lt;/a&gt;                    &lt;/td&gt;                  &lt;/tr&gt;                &lt;/tbody&gt;              &lt;/table&gt;            &lt;/td&gt;         &lt;/tr&gt;       &lt;/tbody&gt;   &lt;/table&gt;                       </code></pre>  <p>And spider code is </p>  <pre><code>class MountSinaiSpider(BaseSpider):    name = ""mountsinai""    allowed_domains = [""mountsinaicss.igreentree.com""]    start_urls = [        ""https://mountsinaicss.igreentree.com/css_external/CSSPage_SearchAndBrowseJobs.ASP?T=20120517011617&amp;"",    ]    def parse(self, response):        return [FormRequest.from_response(response,                                         formdata={ ""Type"":""CSS"",""SRCH"":""Search&amp;nbsp;Jobs"",""InitURL"":""CSSPage_SearchAndBrowseJobs.ASP"",""RetColsQS"":""Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤"",""RetColsGR"":""Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤"",""ResultSort"":"""" },                                         callback=self.parse_main_list)]    def parse_main_list(self, response):        hxs = HtmlXPathSelector(response)        firstpage_urls = hxs.select(""//table[@class='Tbl']/tr/td/table/tr/td"")     for link in firstpage_urls:        hrefs = link.select('a/@href').extract() </code></pre>"	54458101	"<p>Scrapy does not let you “execute javascript Submit functions”. For that you would have to use Splash or a similar alternative that supports interaction with JavaScript. Scrapy works only with the underlying HTML.</p>  <p>What you can do to solve the issue with Scrapy is to figure out how the JavaScript code builds a request, and reproduce such a request with Scrapy.</p>  <p>To figure out what the JavaScript code does, you have two options:</p>  <ul> <li><p>Find the definition of <code>sysSubmitForm()</code> in the page JavaScript code, and find out what it does by reading the JavaScript code yourself.</p></li> <li><p>Use the Network tab of the Developer Tools of your web browser to watch what request is sent to the server when you trigger that JavaScript code, and inspect the request to figure out how to build a similar request yourself.</p></li> </ul>"
10648644	Executing Javascript Submit form functions using scrapy in python	python|scrapy	2012-05-18 07:42:20.227000 UTC	"<p>I am scrapping a site using scrapy framework and having trouble clicking on a javascript link for opening another page. </p>  <p>I can identify the code on the page as:</p>  <pre><code>&lt;a class=""Page"" alt=""Click to view job description"" title=""Click to view job description"" href=""javascript:sysSubmitForm('frmSR1');""&gt;Accountant&amp;nbsp;&lt;/a&gt; </code></pre>  <p>can any one suggest me how to execute that javascript in scaroy and get another page through i can fetch data from that page.</p>  <p>Thanks in advance</p>"	10648964	"<p>As far as I know, scrappy crawler implemented over urrlib2 and urllib obviously dont work with js. For working with js you can use qt webkit or selenium for example. Or you could find all ajax links on page and see how implemented a data exchange with the server and send response to server api indirectly. </p>"
10648644	Executing Javascript Submit form functions using scrapy in python	python|scrapy	2012-05-18 07:42:20.227000 UTC	"<p>I am scrapping a site using scrapy framework and having trouble clicking on a javascript link for opening another page. </p>  <p>I can identify the code on the page as:</p>  <pre><code>&lt;a class=""Page"" alt=""Click to view job description"" title=""Click to view job description"" href=""javascript:sysSubmitForm('frmSR1');""&gt;Accountant&amp;nbsp;&lt;/a&gt; </code></pre>  <p>can any one suggest me how to execute that javascript in scaroy and get another page through i can fetch data from that page.</p>  <p>Thanks in advance</p>"	10651243	"<p>Checkout the below snipped on how to use scrapy with selenium. Crawling will be slower as you aren't just downloading the html but you will get full access to the DOM. </p>  <p>Note: I have copy-pasted this snippet as the links previously provided no longer work.</p>  <pre><code># Snippet imported from snippets.scrapy.org (which no longer works)  from scrapy.contrib.spiders import CrawlSpider, Rule from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor from scrapy.selector import HtmlXPathSelector from scrapy.http import Request  from selenium import selenium  class SeleniumSpider(CrawlSpider):     name = ""SeleniumSpider""     start_urls = [""http://www.domain.com""]      rules = (         Rule(SgmlLinkExtractor(allow=('\.html', )),         callback='parse_page',follow=True),     )      def __init__(self):         CrawlSpider.__init__(self)         self.verificationErrors = []         self.selenium = selenium(""localhost"", 4444, ""*chrome"", ""http://www.domain.com"")         self.selenium.start()      def __del__(self):         self.selenium.stop()         print self.verificationErrors         CrawlSpider.__del__(self)      def parse_page(self, response):         item = Item()          hxs = HtmlXPathSelector(response)         #Do some XPath selection with Scrapy         hxs.select('//div').extract()          sel = self.selenium         sel.open(response.url)          #Wait for javscript to load in Selenium         time.sleep(2.5)          #Do some crawling of javascript created content with Selenium         sel.get_text(""//div"")         yield item </code></pre>"
10648644	Executing Javascript Submit form functions using scrapy in python	python|scrapy	2012-05-18 07:42:20.227000 UTC	"<p>I am scrapping a site using scrapy framework and having trouble clicking on a javascript link for opening another page. </p>  <p>I can identify the code on the page as:</p>  <pre><code>&lt;a class=""Page"" alt=""Click to view job description"" title=""Click to view job description"" href=""javascript:sysSubmitForm('frmSR1');""&gt;Accountant&amp;nbsp;&lt;/a&gt; </code></pre>  <p>can any one suggest me how to execute that javascript in scaroy and get another page through i can fetch data from that page.</p>  <p>Thanks in advance</p>"	17518842	"<p>If you want to check out a fairly huge, functional code base which uses scrapy and selenium, check out <a href=""https://github.com/nicodjimenez/bus_catchers"" rel=""noreferrer"">https://github.com/nicodjimenez/bus_catchers</a>.  Here is a simpler example.  </p>  <pre><code># stripped down BoltBus script  from selenium import webdriver from selenium.common.exceptions import TimeoutException from selenium.webdriver.support.ui import WebDriverWait  from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.keys import Keys from scrapy.selector import HtmlXPathSelector from scrapy.http import Response  from scrapy.http import TextResponse  import time  # set dates, origin, destination  cityOrigin=""Baltimore"" cityDeparture=""New York"" day_array=[0] browser = webdriver.Firefox()  # we are going the day of the days of the month from 15,16,...,25 # there is a discrepancy between the index of the calendar days and the day itself: for example day[10] may correspond to Feb 7th for day in day_array:      # Create a new instance of the Firefox driver     browser.get(""http://www.boltbus.com"")      # click on ""region"" tab     elem_0=browser.find_element_by_id(""ctl00_cphM_forwardRouteUC_lstRegion_textBox"")     elem_0.click()     time.sleep(5)       # select Northeast     elem_1=browser.find_element_by_partial_link_text(""Northeast"")     elem_1.click()     time.sleep(5)      # click on origin city     elem_2=browser.find_element_by_id(""ctl00_cphM_forwardRouteUC_lstOrigin_textBox"")     elem_2.click()     time.sleep(5)      # select origin city     elem_3=browser.find_element_by_partial_link_text(cityOrigin)     elem_3.click()     time.sleep(5)      # click on destination city      elem_4=browser.find_element_by_id(""ctl00_cphM_forwardRouteUC_lstDestination_textBox"")     elem_4.click()     time.sleep(5)      # select destination city      elem_5=browser.find_element_by_partial_link_text(cityDeparture)     elem_5.click()     time.sleep(5)      # click on travel date     travel_date_elem=browser.find_element_by_id(""ctl00_cphM_forwardRouteUC_imageE"")     travel_date_elem.click()          # gets day rows of table     date_rows=browser.find_elements_by_class_name(""daysrow"")       # select actual day (use variable day)     # NOTE: you must make sure these day elements are ""clickable""     days=date_rows[0].find_elements_by_xpath(""..//td"")     days[day].click()     time.sleep(3)       # retrieve actual departure date from browser     depart_date_elem=browser.find_element_by_id(""ctl00_cphM_forwardRouteUC_txtDepartureDate"")     depart_date=str(depart_date_elem.get_attribute(""value""))      # PARSE TABLE      # convert html to ""nice format""     text_html=browser.page_source.encode('utf-8')     html_str=str(text_html)      # this is a hack that initiates a ""TextResponse"" object (taken from the Scrapy module)     resp_for_scrapy=TextResponse('none',200,{},html_str,[],None)      # takes a ""TextResponse"" object and feeds it to a scrapy function which will convert the raw HTML to a XPath document tree     hxs=HtmlXPathSelector(resp_for_scrapy)      # the | sign means ""or""     table_rows=hxs.select('//tr[@class=""fareviewrow""] | //tr[@class=""fareviewaltrow""]')     row_ct=len(table_rows)      for x in xrange(row_ct):          cur_node_elements=table_rows[x]         travel_price=cur_node_elements.select('.//td[@class=""faresColumn0""]/text()').re(""\d{1,3}\.\d\d"")          # I use a mixture of xpath selectors to get me to the right location in the document, and regular expressions to get the exact data          # actual digits of time          depart_time_num=cur_node_elements.select('.//td[@class=""faresColumn1""]/text()').re(""\d{1,2}\:\d\d"")          # AM or PM (time signature)         depart_time_sig=cur_node_elements.select('.//td[@class=""faresColumn1""]/text()').re(""[AP][M]"")          # actual digits of time          arrive_time_num=cur_node_elements.select('.//td[@class=""faresColumn2""]/text()').re(""\d{1,2}\:\d\d"")          # AM or PM (time signature)         arrive_time_sig=cur_node_elements.select('.//td[@class=""faresColumn2""]/text()').re(""[AP][M]"")          print ""Depart date: "" + depart_date         print ""Depart time: "" + depart_time_num[0] + "" "" + depart_time_sig[0]            print ""Arrive time: "" + arrive_time_num[0] + "" "" + arrive_time_sig[0]         print ""Cost: "" + ""$"" + travel_price[0]          print ""\n"" </code></pre>"
10693630	How to pass a boolean from javascript to python?	javascript|python	2012-05-21 22:46:05.893000 UTC	"<p>The following seems to pass a string instead of a boolean value. How would I pass a boolean?</p>  <pre class=""lang-javascript prettyprint-override""><code>$.post('/ajax/warning_message/', {'active': false}, function() {             return        }); </code></pre>  <pre class=""lang-python prettyprint-override""><code>def warning_message(request):     active  = request.POST.get('active')     print active     return HttpResponse() </code></pre>"	10693655	"<p>Assuming that you could send boolean value to the server as <code>true/false</code> or <code>1/0</code>, on the server-side you can check both cases with <code>in</code>:</p>  <pre><code>def warning_message(request):     active = request.POST.get('active') in ['true', '1']     print active     return HttpResponse() </code></pre>  <hr>  <p>Otherwise, if you are sure that your boolean will be only <code>true/false</code> use:</p>  <pre><code>def warning_message(request):     active = request.POST.get('active') == 'true'     print active     return HttpResponse() </code></pre>"
10693630	How to pass a boolean from javascript to python?	javascript|python	2012-05-21 22:46:05.893000 UTC	"<p>The following seems to pass a string instead of a boolean value. How would I pass a boolean?</p>  <pre class=""lang-javascript prettyprint-override""><code>$.post('/ajax/warning_message/', {'active': false}, function() {             return        }); </code></pre>  <pre class=""lang-python prettyprint-override""><code>def warning_message(request):     active  = request.POST.get('active')     print active     return HttpResponse() </code></pre>"	10693668	"<p>In your Python code do this:</p>  <pre><code>active = True if request.POST.get('active') == 'true' else False </code></pre>  <p>Or even simpler:</p>  <pre><code>active = request.POST.get('active') == 'true' </code></pre>  <p>Be aware that the <code>get()</code> function will always return a string, so you need to convert it according to the actual type that you need.</p>"
10693630	How to pass a boolean from javascript to python?	javascript|python	2012-05-21 22:46:05.893000 UTC	"<p>The following seems to pass a string instead of a boolean value. How would I pass a boolean?</p>  <pre class=""lang-javascript prettyprint-override""><code>$.post('/ajax/warning_message/', {'active': false}, function() {             return        }); </code></pre>  <pre class=""lang-python prettyprint-override""><code>def warning_message(request):     active  = request.POST.get('active')     print active     return HttpResponse() </code></pre>"	50675143	"<p>The answer by Oscar is a 1-liner and I'd like to take nothing from it but, comparing strings is not the cleanest way to do this.</p>  <p>I like to use the <a href=""http://simplejson.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">simplejson</a> library.  Specifically <a href=""http://simplejson.readthedocs.io/en/latest/#simplejson.loads"" rel=""nofollow noreferrer"">loads</a> parses the natural json form of JavaScript to native Python types. So this technique can be used for a wider set of cases. </p>  <p>This will give you <strong>uniform code techniques</strong> which are easier to <strong>read, understand &amp; maintain</strong>. </p>  <p>From the docs: </p>  <blockquote>   <p>Deserialize s (a str or unicode instance containing a JSON document) to a Python object. </p> </blockquote>  <pre><code>import simplejson as sjson valid_python_var = sjson.loads(json_str_to_parse) </code></pre>  <p>Or in the likely scenario that you are receiving it via parameter passing:</p>  <pre><code>var_to_parse = request.POST.get('name_of_url_variable') #get url param     if var_to_parse is not None: #check if param was passed, not required         parsed_var = sjson.loads(var_to_parse) # loads does the work </code></pre>  <p>Note: Import libraries using common sense, if you are going to use them once there is no need for it.</p>"
10753926	python with javascript	javascript|python|html|mechanize	2012-05-25 11:50:57.410000 UTC	"<p>I am working on parsing a html page.</p>  <p>I tried spynner, selenium, mechanize but didnt able to solve issue with javascript with this case. Can anyone let me know how can i work with such issue to fetch the data to next page?   </p>  <p>when I worked on selenium, in this url first we have to get the data in other select box and then proceed but using selenium I am able to get only same url after click on the next page, same incase of spynner too.</p>"	10757808	"<p>From what I can tell, mechanize doesn't support javascript.  So, if you're doing any automation with javascript heavy sites, mechanize is probably not the way to go.  Rather, you probably need python to script a fully functional web browser.  You can do this with Mozilla via <a href=""https://developer.mozilla.org/en/PyXPCOM"" rel=""nofollow"">PyXPCOM</a>, with <a href=""http://watir.com/"" rel=""nofollow"">Ruby and WATIR</a>, or with <a href=""http://code.google.com/p/spynner/"" rel=""nofollow"">spynner</a>.  Of these options, I'd probably try spynner, first, as spynner is well integrated with python.</p>  <p>Good luck with your project, and happy coding!</p>"
10803991	Parse JavaScript href with Python	python|parsing|beautifulsoup	2012-05-29 17:36:33.947000 UTC	"<p>Been having a lot of trouble with this... new to Python so sorry if I just don't know the proper search terms to find the info myself.  I'm not even positive it's because of the JS but that's the best idea I've got.</p>  <p>Here's the section of HTML I'm parsing:</p>  <pre><code>... &lt;div class=""promotion""&gt;     &lt;div class=""address""&gt;         &lt;a href=""javascript:PropDetail2('57795471:MRMLS')"" title=""View property detail for 5203 Alhama Drive""&gt;5203 Alhama Drive&lt;/a&gt;     &lt;/div&gt; &lt;/div&gt; ... </code></pre>  <p>...and the Python I'm using to do it (this version is the closest I've gotten to success):</p>  <pre><code>homeFinderSoup = BeautifulSoup(open(""homeFinderHTML.html""), ""html5lib"") addressClass = homeFinderSoup.find_all('div', 'address') for row in addressClass:     print row.get('href') </code></pre>  <p>...which returns</p>  <pre><code>None None None </code></pre>"	10804350	"<pre><code># Create soup from the html. (Here I am assuming that you have already read the file into # the variable ""html"" as a string). soup = BeautifulSoup(html)  # Find all divs with class=""address"" address_class = soup.find_all('div', {""class"": ""address""}) # Loop over the results for row in address_class:   # Each result has one &lt;a&gt; tag, and we need to get the href property from it.   print row.find('a').get('href') </code></pre>"
10836994	Encode Javascript variable name in Python JSON	python|json	2012-05-31 15:50:03.043000 UTC	"<p>I am writing a program that generates JSON and outputs it to the file. The first content that I output to the file is the following JSON string:</p>  <pre><code>var jsonStyle = {'color': '#004070',     'weight': 2,     'opacity': 0.9} </code></pre>  <p>Then I use the Python JSON library to generate JSON output. This is the Python object that I pass into <code>json.dumps</code>:</p>  <pre><code>js = {'type': 'Feature',       'properties':           {'style': 'jsonStyle'},       'geometry': geomJSON} </code></pre>  <p>What I want the text output to be is:</p>  <pre><code>js = {'type': 'Feature',       'properties':           {'style': jsonStyle},       'geometry': geomJSON} </code></pre>  <p>This way I can edit <code>jsonStyle</code> at the top of my output file to change the style for all subsequent JSON elements. The issue is, the current way I structure the JSON object outputs <code>'jsonStyle'</code>, which is a string, not the Javascript variable name. If I instead set the style key to a dictionary version of the style string I output, it will include that JSON object for every subsequent JSON element. I don't know how to let <code>style</code> reference a Javascript variable name when I encode it in Python.</p>  <p>I would prefer not to have to do string manipulation for this, but I could fall back on that.</p>  <h2>Edit:</h2>  <p>I suppose that I am not actually using JSON. I output them as variables to a Javascript file so that I can include them as JSON objects in another Javascript file. Looks like I'll either need to use YAML or just do some sort of string editing and abandon strict JSON encoding.</p>"	10837362	"<p>How about sending the first jsonStyle JSON using <code>json.dumps</code>? Change the variable <code>jsonStylePyObject</code> and it gets reflected in all further JSONs. Something like the below:</p>  <pre><code>jsonStylePyObject = {'color': '#004070',     'weight': 2,     'opacity': 0.9} myFile.write(json.dumps(jsonStyle))  #then use it normally js = {'type': 'Feature',       'properties':           {'style': jsonStylePyObj},       'geometry': geomJSON} myFile.write(json.dumps(jsonStr)) </code></pre>  <p>Or you could use string substitution. This is actually <strong>bad</strong> and not really suggested. You can have an unique string in the <code>style</code> field something like `""MY_UNIQUE_STRING$#!@#"" and do a string replace on it. Something like:</p>  <pre><code>jsonStr = json.dumps({'type': 'Feature',           'properties':               {'style': ""MY_UNIQUE_STRING$#!@#""},           'geometry': geomJSON}) quotes_char = ""\'"" jsonStr = jsonStr.replace(""%sMY_UNIQUE_STRING$#!@#%s""%(quotes_char, quotes_char), ""jsonStyle"") myFile.write(jsonStr)  </code></pre>"
10836994	Encode Javascript variable name in Python JSON	python|json	2012-05-31 15:50:03.043000 UTC	"<p>I am writing a program that generates JSON and outputs it to the file. The first content that I output to the file is the following JSON string:</p>  <pre><code>var jsonStyle = {'color': '#004070',     'weight': 2,     'opacity': 0.9} </code></pre>  <p>Then I use the Python JSON library to generate JSON output. This is the Python object that I pass into <code>json.dumps</code>:</p>  <pre><code>js = {'type': 'Feature',       'properties':           {'style': 'jsonStyle'},       'geometry': geomJSON} </code></pre>  <p>What I want the text output to be is:</p>  <pre><code>js = {'type': 'Feature',       'properties':           {'style': jsonStyle},       'geometry': geomJSON} </code></pre>  <p>This way I can edit <code>jsonStyle</code> at the top of my output file to change the style for all subsequent JSON elements. The issue is, the current way I structure the JSON object outputs <code>'jsonStyle'</code>, which is a string, not the Javascript variable name. If I instead set the style key to a dictionary version of the style string I output, it will include that JSON object for every subsequent JSON element. I don't know how to let <code>style</code> reference a Javascript variable name when I encode it in Python.</p>  <p>I would prefer not to have to do string manipulation for this, but I could fall back on that.</p>  <h2>Edit:</h2>  <p>I suppose that I am not actually using JSON. I output them as variables to a Javascript file so that I can include them as JSON objects in another Javascript file. Looks like I'll either need to use YAML or just do some sort of string editing and abandon strict JSON encoding.</p>"	10837364	"<p>The format you want to write <a href=""http://www.json.org/"" rel=""nofollow"">is not JSON</a>. The format is very specific of what can be a value in a json object, and it doesn't have the concept of a javascript variable. What you're trying to write is javascript, not JSON - and that's not the same.</p>  <p>So you can eiter simply try to remove the quotes around your special variables, or write your own serializer.</p>"
10858172	UDP communication between JavaScript and Python	javascript|python|udp|multiplayer	2012-06-01 22:38:00.810000 UTC	"<p>I am planning to make a multiplayer game with a JavaScript based Client UI and Python on the server side. The game will be dynamic, so communication speed is very important - consequently I have decided to use UDP. Does anyone have any tips on implementations I could utilize. What tools would you recommend for this project?</p>"	10858211	"<p>I recommend doing the <strike>dumbest</strike> simplest thing to get your project to work, meaning probably http and Json. Then deal with any performance problems. Otherwise you'll spend much of your project on a hard optimization problem that might not really matter.</p>"
10858172	UDP communication between JavaScript and Python	javascript|python|udp|multiplayer	2012-06-01 22:38:00.810000 UTC	"<p>I am planning to make a multiplayer game with a JavaScript based Client UI and Python on the server side. The game will be dynamic, so communication speed is very important - consequently I have decided to use UDP. Does anyone have any tips on implementations I could utilize. What tools would you recommend for this project?</p>"	10858488	"<p>I've been using SockJS + Tornado for this sort of thing. Easy to get started with, and well supported in modern browsers.</p>"
10861185	Interpreting Javascript from Python	javascript|python|interpreter	2012-06-02 09:25:40.727000 UTC	"<p>I want to be able to interpret or compile Javascript files, catching errors, etc. from Python programs. Javascript Files use the following syntax for ex.:</p>  <pre><code>var a; function Mul (){   prompt(b);   document.write(a*b); } </code></pre>  <p>I tried with SpiderMonkey but it seems to be unable to interpret ""prompt"", ""document.write"", etc. Help please.</p>"	10861235	"<p>Stuff like <code>document.write</code> can't work since SpiderMonkey is not a browser. So there's no document, and no DOM. Likewise, you don't have a window, so no alerts or prompts. All this wouldn't make much sense in a command-line script...</p>  <p>You could build your own DOM parser in Python (assuming you actually have a web page to parse in the first place), and create a <code>document</code> object yourself, but that would probably be a lot of work for very little return.</p>"
10870160	Executing a prompt Javascript from Python	javascript|python|prompt	2012-06-03 12:03:33.727000 UTC	"<p>I'm using PyV8 to execute Javascript programs from Python. I had a problem executing ""document.write"", but found the solution here (using Mock Document): <a href=""https://stackoverflow.com/questions/10136319/executing-javascript-from-python"">Executing Javascript from Python</a></p>  <p>Now,I'm facing an other problem. I want to execute a prompt command javascript from python. The effect of the result should be like a simple python raw_input. I give an example:</p>  <pre><code>var a, b, c, d; prompt(a); c = a prompt(b); c = c + b d = a * b document.write(c) document.write(d) </code></pre>  <p>using PyV8, the evaluation of this script should evaluate the first line, stop at prompt(a) asking me to introduce the value of a (DOS line command), then resume the evaluation till next prompt, and so on. Thks in advance.</p>"	10903477	"<p>if there is no <code>prompt()</code> function in PyV8 then you could add it the same way as <code>document</code> object is added in <a href=""https://stackoverflow.com/questions/10136319/executing-javascript-from-python"">the example you cited</a>.</p>"
10870160	Executing a prompt Javascript from Python	javascript|python|prompt	2012-06-03 12:03:33.727000 UTC	"<p>I'm using PyV8 to execute Javascript programs from Python. I had a problem executing ""document.write"", but found the solution here (using Mock Document): <a href=""https://stackoverflow.com/questions/10136319/executing-javascript-from-python"">Executing Javascript from Python</a></p>  <p>Now,I'm facing an other problem. I want to execute a prompt command javascript from python. The effect of the result should be like a simple python raw_input. I give an example:</p>  <pre><code>var a, b, c, d; prompt(a); c = a prompt(b); c = c + b d = a * b document.write(c) document.write(d) </code></pre>  <p>using PyV8, the evaluation of this script should evaluate the first line, stop at prompt(a) asking me to introduce the value of a (DOS line command), then resume the evaluation till next prompt, and so on. Thks in advance.</p>"	10997820	"<p>Injecting a Python function into JavaScript context is actually very simple - you assign that function to a local variable via <code>JSContext.locals</code> object:</p>  <pre class=""lang-python prettyprint-override""><code>ctx = PyV8.JSContext() ctx.enter() ctx.locals.prompt = raw_input  ctx.eval('var a = prompt(""js&gt; "");') </code></pre>  <p>And all the sudden you can use that Python function from JavaScript exactly like you would do it in Python.</p>  <p>I would normally link to the documentation but <a href=""http://pyv8.googlecode.com/svn/trunk/doc/build/html/api/context.html"" rel=""nofollow"">PyV8 documentation</a> doesn't appear to be available anywhere with the proper MIME type.</p>"
10925494	passing \n from javascript to python	javascript|python	2012-06-07 04:02:10.463000 UTC	"<p>I finally overcame the problem of passing full <code>utf-8</code> strings from javascript to python, but now the carriage return <code>""\n""</code> which is present on the Javascript side is missing when the string is received in python.  Is there something I'm supposed to do to achieve this?</p>  <pre><code>function saveMeetingComments(){     var komments = $('#cmt_t').val()     var d = new Date();     var commentsText  = $('#cmt_t').val()     var abc = ''     var request = par_makeHttpObject();     commentsText = stringTranslate(commentsText,""'"",'`');     request.open(""POST"", ""saveMeetingNote?clientID=""+clid_+              ""&amp;co_ID=""+coid_+              ""&amp;msgDate=""+dateFormat(d, ""dddd, mmmm dS, yyyy, h:MM TT"")+              ""&amp;MeetType=""+AGM_+              ""&amp;MeetDate=""+meetdate+""-""+              ""&amp;Comments=""+commentsText , false);     request.send();     $('#cmt_t').val('');     parkAll(); } </code></pre>  <p>Comments is the only variable which may have carriage returns.  On the Python side the code is as follows:</p>  <pre><code>def saveMeetingNote(self, **kwargs):     clientID         = kwargs['clientID']     co_ID            = kwargs['co_ID']     MessageDate      = kwargs['msgDate']     MeetingType      = kwargs['MeetType']     MeetingDate      = kwargs['MeetDate']     Comments_        = kwargs['Comments']     coName = dennislib.CompanyCoID2NAME(co_ID)[0]['FName']     ret = dennislib.saveMeetingNotes(clientID,co_ID,MessageDate,MeetingType,MeetingDate,Comments_,coName)     return  saveMeetingNote.exposed = True </code></pre>  <p>Inspecting Comments_ shows that the <code>\n</code> are all gone...</p>  <p>TIA</p>  <p>Dennis</p>"	10925517	<p>Use <code>encodeURIComponent()</code> on all of the variables before you concatenate them into your POST request.</p>
10925494	passing \n from javascript to python	javascript|python	2012-06-07 04:02:10.463000 UTC	"<p>I finally overcame the problem of passing full <code>utf-8</code> strings from javascript to python, but now the carriage return <code>""\n""</code> which is present on the Javascript side is missing when the string is received in python.  Is there something I'm supposed to do to achieve this?</p>  <pre><code>function saveMeetingComments(){     var komments = $('#cmt_t').val()     var d = new Date();     var commentsText  = $('#cmt_t').val()     var abc = ''     var request = par_makeHttpObject();     commentsText = stringTranslate(commentsText,""'"",'`');     request.open(""POST"", ""saveMeetingNote?clientID=""+clid_+              ""&amp;co_ID=""+coid_+              ""&amp;msgDate=""+dateFormat(d, ""dddd, mmmm dS, yyyy, h:MM TT"")+              ""&amp;MeetType=""+AGM_+              ""&amp;MeetDate=""+meetdate+""-""+              ""&amp;Comments=""+commentsText , false);     request.send();     $('#cmt_t').val('');     parkAll(); } </code></pre>  <p>Comments is the only variable which may have carriage returns.  On the Python side the code is as follows:</p>  <pre><code>def saveMeetingNote(self, **kwargs):     clientID         = kwargs['clientID']     co_ID            = kwargs['co_ID']     MessageDate      = kwargs['msgDate']     MeetingType      = kwargs['MeetType']     MeetingDate      = kwargs['MeetDate']     Comments_        = kwargs['Comments']     coName = dennislib.CompanyCoID2NAME(co_ID)[0]['FName']     ret = dennislib.saveMeetingNotes(clientID,co_ID,MessageDate,MeetingType,MeetingDate,Comments_,coName)     return  saveMeetingNote.exposed = True </code></pre>  <p>Inspecting Comments_ shows that the <code>\n</code> are all gone...</p>  <p>TIA</p>  <p>Dennis</p>"	10925519	"<p>Looks like you're not URL-encoding the data before sticking it in the POST request URL. Newlines aren't the only thing which could be lost. What happens when someone types an <code>&amp;</code> in the comment field?</p>  <p>Use <a href=""https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/encodeURIComponent"" rel=""nofollow""><code>encodeURIComponent</code></a> to fix this:</p>  <pre><code>// ... ""&amp;Comments="" + encodeURIComponent(commentsText)    // ... </code></pre>  <p>On the server side, to decode this use:</p>  <pre><code>import urllib # ... Comments_ = urllib.unquote(kwargs['Comments']).decode('utf-8')) </code></pre>"
10974969	Passing python list to javascript function	javascript|python|json	2012-06-11 05:46:26.907000 UTC	"<p>I want to pass python list as an argument to a JS function. No matter what I try, it gives me ""unterminated string literal"". I don't know whats going wrong.</p>  <p>My python code is (.py file):</p>  <pre><code>request.filter+= '&lt;input type=""checkbox"" name=""select_all"" onclick=selectAll(%s) /&gt;Select All &lt;br/&gt;' %(str(list)) </code></pre>  <p>My .pt file has javascript function, <code>selectAll(type)</code>.</p>  <p>I tried to convert list to json format by using <code>simplejson.JSONEncoder().encode(list)</code> which is also not helping. </p>  <p>Kindly help ...</p>  <p>Thanks , Shreya </p>"	10975474	"<p>Hope this helps:</p>  <pre><code>import simplejson request.filter+= '''&lt;input type=""checkbox"" name=""select_all"" onclick='selectAll(%s)' /&gt;Select All &lt;br/&gt;''' % simplejson.dumps(list) </code></pre>"
10996357	scrape data through xpath from div that contains javascript in scrapy python	javascript|python|xpath|scrapy	2012-06-12 12:08:40.207000 UTC	"<p>I am working on scrapy , i am scraping a site and using <code>xpath</code> to scrape items. But some of the <code>div</code> contains <code>javascript</code>, so when i used xpath until the <code>div id</code> that contains javascript code is returning an empty list,and without including that div element(which contains javascript) can able to fetch HTML data</p>  <p>HTML code</p>  <pre><code>&lt;div class=""subContent2""&gt;        &lt;div id=""contentDetails""&gt;        &lt;div class=""eventDetails""&gt;             &lt;h2&gt;                 &lt;a href=""javascript:;"" onclick=""jdevents.getEvent(117032)""&gt;Some data&lt;/a&gt;             &lt;/h2&gt;        &lt;/div&gt;    &lt;/div&gt; &lt;/div&gt;  </code></pre>  <p>Spider Code</p>  <pre><code>class ExampleSpider(BaseSpider):     name = ""example""     domain_name = ""www.example.com""     start_urls = [""http://www.example.com/jkl/index.php""]       def parse(self, response):          hxs = HtmlXPathSelector(response)          required_data = hxs.select('//div[@class=""subContent2""]/div[@id=""contentDetails""]/div[@class=""eventDetails""]') </code></pre>  <p>So how can i get <code>text(Some data)</code> from the <code>anchor tag</code> inside the <code>h2 element</code> as mentioned above, is there any alternate way for fetching data from the elements that contains javascript in scrapy  </p>"	10998181	"<pre><code>&lt;div class=""subContent2""&gt;        &lt;div id=""contentDetails""&gt;        &lt;div class=""eventDetails""&gt;             &lt;h2&gt;                 &lt;a href=""javascript:;"" onclick=""jdevents.getEvent(117032)""&gt;Some data&lt;/a&gt;             &lt;/h2&gt;        &lt;/div&gt;    &lt;/div&gt; &lt;/div&gt;  </code></pre>  <p>The problem is not the javascript code in this case to get 'Some data' string.</p>  <p>You need either to get the subnode:</p>  <pre><code>required_data = hxs.select('//div[@class=""subContent2""]/div[@id=""contentDetails""]/div[@class=""eventDetails""]/h2/a/text()') </code></pre>  <p><img src=""https://i.stack.imgur.com/qAF7D.png"" alt=""enter image description here""></p>  <p>or use <code>string</code> function:</p>  <pre><code>required_data = hxs.select('string(//div[@class=""subContent2""]/div[@id=""contentDetails""]/div[@class=""eventDetails""])') </code></pre>"
11006165	my python code - for javascript?	javascript|python	2012-06-12 23:13:23.560000 UTC	"<p>I was wondering if someone could give me advice on this code.  I have done it in python but I think I need to have it in javascript as it is for a website.  I am new to programming so please be kind! </p>  <p>Aims of the site:</p>  <ul> <li>The user will have to answer 6 multiple choice questions.  (Q1 has 7 possible answers but the others only have 2).</li> <li>Depending on their inputs they will receive an outcome (I have just put the outcomes as range(1,225) for now but there will be different outcomes depending on the input</li> <li>The outcomes and the possible input combinations are all fixed and will not change</li> </ul>  <p>I am pretty sure I have not done it the best way as I don't have much experience, but it seems to work so far.</p>  <p>Does the code look ok? Do you think I will be able to translate this into javascript easily enough? Should I have the table of outcomes/inputs fixed in some way so it doesn't need to be worked out by the computer every time or is it ok as it is?</p>  <p>Any advice or help is very much appreciated indeed.</p>  <pre><code>#list of possible inputs  list = [[23,24,25,26,27,28,29],[""male"",""female""],[""true"",""false""],[""true"",""false""], [""true"",""false""],[""true"",""false""]]  #make a list of outcomes outcome=[] for i in range(1,225):     outcome.append(i)   #make a table of all possible list input combinations r=[[]] for e in list:     table = []     for item in e:             for i in r:                 table.append(i+[item])     r = table  #make a dictionary where the input is the key and outcome is the value adict = dict((str(r), outcome) for r, outcome in zip(r, outcome))  #dummy inputs as an example    input1 = 27 input2 = ""male"" input3 = ""true"" input4=""true"" input5=""true"" input6=""true""  #put all the inputs into one string &amp; look up outcome in adict new_input = [] new_input.extend([input1,input2,input3,input4,input5,input6]) print adict.get(str(new_input)) </code></pre>"	11006461	"<p>There is no need to rewrite it in javascript; instead try using one of the Python web frameworks like <a href=""http://flask.pocoo.org/"" rel=""nofollow"">Flask</a> or <a href=""https://www.djangoproject.com/"" rel=""nofollow"">Django</a>.</p>"
11024340	Python Mechanize for form with options populated by Javascript	python|screen-scraping|mechanize	2012-06-13 22:37:03.307000 UTC	"<p>I'm trying to use mechanize to grab prices for New York's metro-north railroad from this site: <a href=""http://as0.mta.info/mnr/fares/choosestation.cfm"" rel=""nofollow"">http://as0.mta.info/mnr/fares/choosestation.cfm</a></p>  <p>The problem is that when you select the first option, the site uses javascript to populate your list of possible destinations. I have written equivalent code in python, but I can't seem to get it all working. Here's what I have so far:</p>  <pre><code>import mechanize import cookielib from bs4 import BeautifulSoup  br = mechanize.Browser() br.set_handle_robots(False) br.addheaders = [('User-agent', 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.1)     Gecko/2008071615 Fedora/3.0.1-1.fc9 Firefox/3.0.1')]  br.open(""http://as0.mta.info/mnr/fares/choosestation.cfm"")  br.select_form(name=""form1"") br.form.set_all_readonly(False)  origin_control = br.form.find_control(""orig_stat"", type=""select"") origin_control_list = origin_control.items origin_control.value = [origin_control.items[0].name]  destination_control_list = reFillList(0, origin_control_list)  destination_control = br.form.find_control(""dest_stat"", type=""select"") destination_control.items = destination_control_list destination_control.value = [destination_control.items[0].name]  response = br.submit() response_text = response.read() print response_text </code></pre>  <p>I know I didn't give you code for the reFillList() method, because it's long, but assume it correctly creates a list of mechanize.option objects. Python doesn't complain about me about anything, but on submit I get the html for this alert:</p>  <p>""Fare information for travel between two lines is not available on-line.  Please contact our Customer Information Center at 511 and ask to speak to a representative for further information.""</p>  <p>Am I missing something here? Thanks for all the help!</p>"	11046701	<p>It can't really be done without trying to make sense of the crazy logic in that function. I suggest a js solution or a full browser like selenium.</p>
11025122	How to pass null to javascript from python using jinja	javascript|python|google-app-engine|google-visualization|jinja2	2012-06-14 00:07:39.530000 UTC	"<p>I was doing it something like this in google app engine:</p>  <pre><code>self.render('hello.html', value=null) </code></pre>  <p>But obviously since python doesn't understand null it thinks it's an undefined variable and gives an error.</p>  <p>If I send it as a string (value=""null"") then javascript doesn't know that I mean null and not a string ""null"".</p>  <p>So what's the way to get around this?</p>  <p>And if it's any bit pertinent, I'm trying to pass the value null to a google scatter chart in javascript.</p>"	11025997	"<p>assuming your template looks something like:</p>  <pre><code>plotdata = [0.1, {{value}}, null, 0.5] </code></pre>  <p>(depending on the template engine you are using), then:</p>  <pre><code>self.render('hello.html', { ""value"": ""null"" }) </code></pre>  <p>should result in the rendered template producing:</p>  <pre><code>plotdata = [0.1, null, null, 0.5] </code></pre>  <p>If this is not working, please tell us the template engine you are using, the values you've tried sending, and the exact result of rendering..</p>"
11025122	How to pass null to javascript from python using jinja	javascript|python|google-app-engine|google-visualization|jinja2	2012-06-14 00:07:39.530000 UTC	"<p>I was doing it something like this in google app engine:</p>  <pre><code>self.render('hello.html', value=null) </code></pre>  <p>But obviously since python doesn't understand null it thinks it's an undefined variable and gives an error.</p>  <p>If I send it as a string (value=""null"") then javascript doesn't know that I mean null and not a string ""null"".</p>  <p>So what's the way to get around this?</p>  <p>And if it's any bit pertinent, I'm trying to pass the value null to a google scatter chart in javascript.</p>"	11026556	"<p>I'm assuming your are doing something like:</p>  <pre><code>self.render('hello.html', value=[0.1, None, None, 0.5]) </code></pre>  <p>and having the template engine convert that to a string, so you end up with:</p>  <pre><code> [0.1, None, None, 0.5] </code></pre>  <p>If so, you should have python convert it to javascript before passing to jinja:</p>  <pre><code>import json self.render('hello.html', value=json.dumps([0.1, None, None, 0.5])) </code></pre>  <p>That'll give you:</p>  <pre><code>[0.1, null, null, 0.5] </code></pre>  <p>which is what I think you are after.  </p>  <p>A even better solution would be to add a <a href=""http://jinja.pocoo.org/docs/api/#custom-filters"">custom filter to jinja</a> to handle javascript escaping.  That would look something like:</p>  <pre><code>import json def jsonfilter(value):     return json.dumps(value)  environment.filters['json'] = jsonfilter </code></pre>  <p>Then in your template you could just do</p>  <pre><code>{{value|json}} </code></pre>"
11039693	Python mechanize javascript	python|mechanize|mechanize-python	2012-06-14 19:03:21.137000 UTC	"<p>I'm trying to use mechanize to grab prices for New York's metro-north railroad from this site:<br> <a href=""http://as0.mta.info/mnr/fares/choosestation.cfm"" rel=""nofollow"">http://as0.mta.info/mnr/fares/choosestation.cfm</a></p>  <p>The problem is that when you select the first option, the site uses javascript to populate your list of possible destinations. I have written equivalent code in python, but I can't seem to get it all working. Here's what I have so far:</p>  <pre><code>import mechanize import cookielib from bs4 import BeautifulSoup  br = mechanize.Browser() br.set_handle_robots(False) br.addheaders = [('User-agent', 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.1)     Gecko/2008071615 Fedora/3.0.1-1.fc9 Firefox/3.0.1')]  br.open(""http://as0.mta.info/mnr/fares/choosestation.cfm"")  br.select_form(name=""form1"") br.form.set_all_readonly(False)  origin_control = br.form.find_control(""orig_stat"", type=""select"") origin_control_list = origin_control.items origin_control.value = [origin_control.items[0].name]  destination_control_list = reFillList(0, origin_control_list)  destination_control = br.form.find_control(""dest_stat"", type=""select"") destination_control.items = destination_control_list destination_control.value = [destination_control.items[0].name]  response = br.submit() response_text = response.read() print response_text </code></pre>  <p>I know I didn't give you code for the <code>reFillList()</code> method, because it's long, but assume it correctly creates a list of mechanize.option objects. Python doesn't complain about me about anything, but on submit I get the html for this alert:</p>  <p>""Fare information for travel between two lines is not available on-line. Please contact our Customer Information Center at 511 and ask to speak to a representative for further information.""</p>  <p>Am I missing something here? Thanks for all the help!</p>"	11040056	"<p>If you know the station IDs, it is easier to POST the request yourself:</p>  <pre><code>import mechanize import urllib  post_url = 'http://as0.mta.info/mnr/fares/get_fares.cfm'  orig = 295 #BEACON FALLS dest = 292 #ANSONIA  params = urllib.urlencode({'dest_stat':dest, 'orig_stat':orig }) rq = mechanize.Request(post_url, params)  fares_page = mechanize.urlopen(rq)  print fares_page.read() </code></pre>  <p>If you have the code to find the list of destination IDs for a given starting ID (i.e. a variant of <code>refillList()</code>), you can then run this request for each combination:</p>  <pre><code>import mechanize import urllib, urllib2 from bs4 import BeautifulSoup  url = 'http://as0.mta.info/mnr/fares/choosestation.cfm' post_url = 'http://as0.mta.info/mnr/fares/get_fares.cfm'  def get_fares(orig, dest):     params = urllib.urlencode({'dest_stat':dest, 'orig_stat':orig })     rq = mechanize.Request(post_url, params)      fares_page = mechanize.urlopen(rq)     print(fares_page.read())  pool = BeautifulSoup(urllib2.urlopen(url).read())  #let's keep our stations organised stations = {}  # dict by station id for option in pool.find('select', {'name':'orig_stat'}).findChildren():     stations[option['value']] = {'name':option.string}  #iterate over all routes for origin in stations:     destinations = get_list_of_dests(origin) #use your code for this     stations[origin]['dests'] = destinations      for destination in destinations:         print('Processing from %s to %s' % (origin, destination))         get_fares(origin, destination) </code></pre>"
11047348	Is this possible to load the page after the javascript execute using python?	javascript|python-3.x|beautifulsoup	2012-06-15 08:45:05.810000 UTC	"<p>Here is the page I read:</p>  <pre><code>&lt;html&gt; &lt;head&gt; &lt;script type=""text/javascript""&gt;     document.write(""Hello World"") &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>As you can see, the <code>Hello World</code> is added on the HTML page using javascript, when I use the HTML parser, like the <code>BeautifulSoup</code> to parse it, it can't parse the <code>Hello World</code>, it is possible to me parse the actually result on how the client side really see....? Thanks.</p>"	11047421	"<p>For a correct representation of what the DOM looks like after javascript manipulation, you'll have to actually execute the javascript. This has to be done by something that has a javascript engine and a DOM (rather than text/markup) representation of the document - typically, a browser.</p>"
11047348	Is this possible to load the page after the javascript execute using python?	javascript|python-3.x|beautifulsoup	2012-06-15 08:45:05.810000 UTC	"<p>Here is the page I read:</p>  <pre><code>&lt;html&gt; &lt;head&gt; &lt;script type=""text/javascript""&gt;     document.write(""Hello World"") &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>As you can see, the <code>Hello World</code> is added on the HTML page using javascript, when I use the HTML parser, like the <code>BeautifulSoup</code> to parse it, it can't parse the <code>Hello World</code>, it is possible to me parse the actually result on how the client side really see....? Thanks.</p>"	11238391	"<p>I ran into a similar problem when writing web scrapers in python, and I found <a href=""http://seleniumhq.org/"" rel=""noreferrer"">Selenium Web Driver</a> in combination with BeautifulSoup very useful. The code ends up looking something like this:</p>  <pre><code>from selenium import webdriver browser = webdriver.Firefox() browser.get(""http://www.yoursite.com"") soup = BeautifulSoup(browser.page_source, ""html.parser"") ... </code></pre>  <p>With Selenium WebDriver, there's also functionally for a ""wait until a certain DOM element has loaded"", which makes the timing with javascript elements easier too.</p>"
11048283	Naive bayes python - php - javascript (node)	php|python|algorithm|bayesian-networks|categorization	2012-06-15 09:44:41.477000 UTC	"<p>I'm trying to create a data extractor algoritm from group buying sites to build an agregator for deals. First I need an algorith that will extract title,price,discount,image,coordinates.</p>  <p>I have solution for image,discount and coordinates but for title and category recognition I need to create an naive bayes algorithm. What is best language to do this: php? python? js? node.js?</p>  <p>What do I need to create an algorithm? </p>  <p>An model with examples? etc. I give 100 titles and then give all web content from some sites and do script can recognize what sentence is a title?</p>  <p>So I dont need a word. I need an sentence and that sentence is sometimes <code>&lt;h1&gt; - &lt;h2&gt;</code> and somethings other.</p>"	11048482	"<p>I seriously cannot understand much of your post, but since naive bayes is something very commonly requested here on SO, I created a simple piece of code which can be used without any additional library (like NLTK) in python (and is also way faster than NLTK for training). You can find it <a href=""https://github.com/luke14free/sentipy"" rel=""nofollow"">here</a>.</p>"
11048283	Naive bayes python - php - javascript (node)	php|python|algorithm|bayesian-networks|categorization	2012-06-15 09:44:41.477000 UTC	"<p>I'm trying to create a data extractor algoritm from group buying sites to build an agregator for deals. First I need an algorith that will extract title,price,discount,image,coordinates.</p>  <p>I have solution for image,discount and coordinates but for title and category recognition I need to create an naive bayes algorithm. What is best language to do this: php? python? js? node.js?</p>  <p>What do I need to create an algorithm? </p>  <p>An model with examples? etc. I give 100 titles and then give all web content from some sites and do script can recognize what sentence is a title?</p>  <p>So I dont need a word. I need an sentence and that sentence is sometimes <code>&lt;h1&gt; - &lt;h2&gt;</code> and somethings other.</p>"	11048530	"<p>If you don't have any experience with AI algorithms and you want to add some algoritm that can learn I suggest you should use google prediction API:</p>  <p><a href=""https://developers.google.com/prediction/"" rel=""nofollow"">https://developers.google.com/prediction/</a></p>"
11058331	Javascript and css file search path while running python SimpleHTTPServer	javascript|python	2012-06-15 21:20:09.800000 UTC	"<p>I am running a python SimpleHTTPServer and serving a html file. That html file includes couple of javascript files. When the html file is served by the server I get the following errors.</p>  <pre><code>1.0.0.127.in-addr.arpa - - [15/Jun/2012 13:42:54] code 404, message File not found 1.0.0.127.in-addr.arpa - - [15/Jun/2012 13:42:54] ""GET /lib/jquery-ui/jquery-ui.min.js  </code></pre>  <p>Html file contents (only relevant lines shown):</p>  <pre><code>&lt;script type=""text/javascript"" src=""../../lib/jquery-ui/jquery-ui.min.js""&gt;&lt;/script&gt; </code></pre>  <p>Python command used to run the server. It is run in the directory where index.html is present</p>  <pre><code>python -m SimpleHTTPServer 8000 </code></pre>  <p>I have the files jquery-ui-min.js in my local filesystem. But the search somehow is stripping the ../.. and searching in /lib/jquery-ui/jquery-ui.min.js </p>"	11058396	"<p>If you run SimpleHTTPServer from a directory, it won't go above the root directory you run it from. This is a security feature.</p>  <p>For example, assuming the following layout:</p>  <pre><code>/foo/bar/baz/index.html /foo/lib/jquery-ui/jquery-ui.min.js </code></pre>  <p>If you run SimpleHTTPServer from <code>/foo/bar/baz</code>, you won't be able to access any files above <code>/foo/bar/baz</code>. You could instead run the server from <code>/foo/</code> and it would work. You could also add symlinks in the baz directory up to the JavaScript you want to include.</p>"
11166483	"JavaScript: Is there any ""python's Generator"" equivalent in JavaScript?"	javascript|iteration	2012-06-23 03:07:04.137000 UTC	"<p><em>Is there any ""python's Generator"" equivalent in JavaScript?</em><br></p>  <p><em>PS:</em> Python's Generator is very memory efficient when we need to do <strong>one time</strong> iterate through a <strong>big</strong> array, hash... <br> <em>""Generators are iterables, but you <strong>can only read them once</strong>. It's because they do not store all the values in memory, <strong>they generate the values on the fly</strong>""</em></p>  <p>(Python's Generator explained in this thread: <a href=""https://stackoverflow.com/questions/231767/the-python-yield-keyword-explained"">What does the &quot;yield&quot; keyword do in Python?</a> )</p>"	11166515	"<p>Not in a standard way. Some browsers <a href=""https://developer.mozilla.org/en/JavaScript/Guide/Iterators_and_Generators"" rel=""nofollow"">already implement</a> python-style generators, but they require extensions that need to be explicitly activated. There are proposals to <a href=""http://wiki.ecmascript.org/doku.php?id=proposals%3aiterators_and_generators"" rel=""nofollow"">add generators</a> to a next version of the ECMAScript spec, but I wouldn't see that being useable very soon.</p>  <p>So far, the best you can do is to use the old school <a href=""https://en.wikipedia.org/wiki/Iterator"" rel=""nofollow"">external iterator</a> pattern. It is just as powerful, although it is a pain to write in more complicated cases.</p>"
11166483	"JavaScript: Is there any ""python's Generator"" equivalent in JavaScript?"	javascript|iteration	2012-06-23 03:07:04.137000 UTC	"<p><em>Is there any ""python's Generator"" equivalent in JavaScript?</em><br></p>  <p><em>PS:</em> Python's Generator is very memory efficient when we need to do <strong>one time</strong> iterate through a <strong>big</strong> array, hash... <br> <em>""Generators are iterables, but you <strong>can only read them once</strong>. It's because they do not store all the values in memory, <strong>they generate the values on the fly</strong>""</em></p>  <p>(Python's Generator explained in this thread: <a href=""https://stackoverflow.com/questions/231767/the-python-yield-keyword-explained"">What does the &quot;yield&quot; keyword do in Python?</a> )</p>"	11166522	<p>In JavaScript 1.7:</p>  <pre><code>function rangeGen(n) {     for (let i = 0; i &lt; n; i++)         yield i; } </code></pre>
11166483	"JavaScript: Is there any ""python's Generator"" equivalent in JavaScript?"	javascript|iteration	2012-06-23 03:07:04.137000 UTC	"<p><em>Is there any ""python's Generator"" equivalent in JavaScript?</em><br></p>  <p><em>PS:</em> Python's Generator is very memory efficient when we need to do <strong>one time</strong> iterate through a <strong>big</strong> array, hash... <br> <em>""Generators are iterables, but you <strong>can only read them once</strong>. It's because they do not store all the values in memory, <strong>they generate the values on the fly</strong>""</em></p>  <p>(Python's Generator explained in this thread: <a href=""https://stackoverflow.com/questions/231767/the-python-yield-keyword-explained"">What does the &quot;yield&quot; keyword do in Python?</a> )</p>"	11166714	"<p>It's not super practical, but you can achieve the same basic effect like this:</p>  <pre><code>function make_generator(start, end) {   var i=start;   return function() {     if (i&lt;end) {       output = i;       i += 1;       return output;     }     else {       return null;     }   } } var out = document.getElementById('out'); var generator = make_generator(1,10); var g = generator(); while (g) {   if (out.innerHTML)     out.innerHTML = out.innerHTML + '&lt;br&gt;' + g;   else     out.innerHTML = g;   g = generator(); } </code></pre>"
11166483	"JavaScript: Is there any ""python's Generator"" equivalent in JavaScript?"	javascript|iteration	2012-06-23 03:07:04.137000 UTC	"<p><em>Is there any ""python's Generator"" equivalent in JavaScript?</em><br></p>  <p><em>PS:</em> Python's Generator is very memory efficient when we need to do <strong>one time</strong> iterate through a <strong>big</strong> array, hash... <br> <em>""Generators are iterables, but you <strong>can only read them once</strong>. It's because they do not store all the values in memory, <strong>they generate the values on the fly</strong>""</em></p>  <p>(Python's Generator explained in this thread: <a href=""https://stackoverflow.com/questions/231767/the-python-yield-keyword-explained"">What does the &quot;yield&quot; keyword do in Python?</a> )</p>"	71071454	"<p>You can use the <code>yield</code> keyword. You can read more about it <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield"" rel=""nofollow noreferrer"">here</a> (MDN).</p> <blockquote> <p>The yield keyword is used to pause and resume a generator function</p> </blockquote> <pre class=""lang-js prettyprint-override""><code>function* range(n) {     for (let i = 0; i &lt; n; i++) {         yield i;     } }  const generator = range(10);  console.log(generator.next());  // { value: 0, done: false } console.log(generator.next());  // { value: 1, done: false } ... console.log(generator.next());  // { value: 9, done: false } console.log(generator.next());  // { value: undefined, done: true } </code></pre> <p>Notice the <code>*</code> after the <code>function</code> keyword.</p> <p>It's widely supported now: <a href=""https://caniuse.com/es6-generators"" rel=""nofollow noreferrer"">caniuse</a>, <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield#browser_compatibility"" rel=""nofollow noreferrer"">MDN</a></p> <hr /> <p>TypeScript notation:</p> <pre><code>function* range(n: number): IterableIterator&lt;number&gt; {     for (let i = 0; i &lt; n; i++) {         yield i;     } } </code></pre>"
11187214	Cutting image in smaller pieces Python or JavaScript	javascript|python|image-processing	2012-06-25 10:05:55.050000 UTC	"<p>Is there any way to cut an image into smaller pieces using JavaScript? Like, if the user clicks on a button for example, the image (initial dimensions are 100x100 for example) will be cut into 10 pieces of 10x10, and if they click more, those small pieces will be cut in more and smaller pieces as well. So it's same operation called in a recursive way. Is there any JavaScript image manipulation library or anything?  Or is it possible to do the same thing using Python? </p>"	11188659	"<p>You might want to have a look at the <strong>crop</strong> functions in <a href=""http://www.imagemagick.org/script/command-line-options.php#crop"" rel=""nofollow"">ImageMagick</a> (no, it's not JavaScript) or the <a href=""http://effbot.org/imagingbook/image.htm"" rel=""nofollow"">Python Imaging Library</a>.</p>"
11187214	Cutting image in smaller pieces Python or JavaScript	javascript|python|image-processing	2012-06-25 10:05:55.050000 UTC	"<p>Is there any way to cut an image into smaller pieces using JavaScript? Like, if the user clicks on a button for example, the image (initial dimensions are 100x100 for example) will be cut into 10 pieces of 10x10, and if they click more, those small pieces will be cut in more and smaller pieces as well. So it's same operation called in a recursive way. Is there any JavaScript image manipulation library or anything?  Or is it possible to do the same thing using Python? </p>"	11191009	"<p>as klaus mentioned, ImageMagick for python, and for javascript, try looking into the canvas; <a href=""https://developer.mozilla.org/en/Canvas_tutorial/Using_images"" rel=""nofollow"">https://developer.mozilla.org/en/Canvas_tutorial/Using_images</a> there is a section on slicing images</p>"
11216390	How to pass data by 'POST' method to from Javascript to Python	javascript|python|ajax|post|webapp2	2012-06-26 21:42:30.710000 UTC	"<p>I have this part of script from my GAE application which uses webapp2, which accepts data from a form using post,</p>  <pre><code>class RenderMarksheet(webapp2.RequestHandler):    def post(self):      regno = self.request.get('content')  # Here's where I extract the data from the form      ...      ...      ...      self.response.out.write(template.render(templates/render.html, template_values)) </code></pre>  <p>And the web form which posts to this script,</p>  <pre><code>&lt;form action=""/sign"" method=""post"" name=""inputform"" onsubmit=""return validate()""&gt;     Register No : &lt;input type=""number"" name=""regno"" placeholder=""Your Register No.""/&gt;                    &lt;input type=""submit"" value=""Get-My-GPA!"" &gt; &lt;/form&gt; </code></pre>  <p>Now, I want to manually pass a specific data (a register no.), without using the submit button from the form, to the python script( or the url, perhaps) , using Javascript, say a button that triggers a javascript method.</p>  <p>I have to POST the data using javascript(to implement AJAX). In python I do this, to post the data to a url,</p>  <pre><code>import http.client, urllib.parse params = urllib.parse.urlencode({'regno':10109104021}) headers = {""Content-type"": ""application/x-www-form-urlencoded"",        ""Accept"": ""text/plain""} conn = http.client.HTTPConnection(""mydomain:8888"") conn.request(""POST"", ""/sign"", params, headers) response = conn.getresponse() print(response.status, response.reason) data = response.read() </code></pre>  <p>How can I post the data to the url, via Jquery or Javascript?</p>"	11216418	<p>fastest is to use jQuery and use <code>$.post()</code></p>
11216390	How to pass data by 'POST' method to from Javascript to Python	javascript|python|ajax|post|webapp2	2012-06-26 21:42:30.710000 UTC	"<p>I have this part of script from my GAE application which uses webapp2, which accepts data from a form using post,</p>  <pre><code>class RenderMarksheet(webapp2.RequestHandler):    def post(self):      regno = self.request.get('content')  # Here's where I extract the data from the form      ...      ...      ...      self.response.out.write(template.render(templates/render.html, template_values)) </code></pre>  <p>And the web form which posts to this script,</p>  <pre><code>&lt;form action=""/sign"" method=""post"" name=""inputform"" onsubmit=""return validate()""&gt;     Register No : &lt;input type=""number"" name=""regno"" placeholder=""Your Register No.""/&gt;                    &lt;input type=""submit"" value=""Get-My-GPA!"" &gt; &lt;/form&gt; </code></pre>  <p>Now, I want to manually pass a specific data (a register no.), without using the submit button from the form, to the python script( or the url, perhaps) , using Javascript, say a button that triggers a javascript method.</p>  <p>I have to POST the data using javascript(to implement AJAX). In python I do this, to post the data to a url,</p>  <pre><code>import http.client, urllib.parse params = urllib.parse.urlencode({'regno':10109104021}) headers = {""Content-type"": ""application/x-www-form-urlencoded"",        ""Accept"": ""text/plain""} conn = http.client.HTTPConnection(""mydomain:8888"") conn.request(""POST"", ""/sign"", params, headers) response = conn.getresponse() print(response.status, response.reason) data = response.read() </code></pre>  <p>How can I post the data to the url, via Jquery or Javascript?</p>"	11216491	"<p>I'm not 100% sure what you're trying to do, but after several rereads here's what I think you're trying to do. </p>  <p>you'll need to import urllib2</p>  <pre><code>#import google classes import urllib2  class RenderMarksheet(webapp2.RequestHandler):    def parseResponse(self, response):         #run some code in here to parse the results since it's an HTML document ... beautifulsoup, perhaps?      def post(self):      regno = self.request.get('content')        rawlink = ""http://result.annauniv.edu/cgi-bin/result/result11gr.pl?regno=""        link = rawlink+regno       try:        result = urllib2.urlopen(link)        gpa = parseResponse(result)      except urllib2.URLError, e:        self.response.out.write(e)       template_values =  {'gpa': gpa}       self.response.out.write(template.render(templates/render.html, template_values)) </code></pre>  <p>This method will </p>  <ol> <li>Take the input from the form</li> <li>Build the link</li> <li>Request information from the annauniv webserver</li> <li>Parse the response from that server (you're on your own parsing that, but you'd have to do it regardless)</li> <li>Store the GPA a templates dictionary for use in your template</li> </ol>"
11223794	storing result after executing javascript with selenium in python	javascript|python|selenium	2012-06-27 10:08:22.620000 UTC	"<p>I am am trying to execute javascript functions inside anchor tags with selenium and trying to store that result somewhere</p>  <p><strong>HTML code</strong>:</p>  <pre><code>&lt;td&gt; &lt;td&gt;   &lt;ul class=""compare""&gt;     &lt;li class=""floatRight dividLineLeft category_page_navigation""&gt;        &lt;div class=""page_navigation""&gt;            &lt;span id=""ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_pager1""&gt;                &lt;a style=""width: 22px; height: 22px;"" disabled=""disabled""&gt;                &lt;a style=""width: 22px; height: 22px;"" href=""javascript:__doPostBack('ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$pager1$ctl00$ctl01','')""&gt;            &lt;/span&gt;        &lt;/div&gt;     &lt;/li&gt;   &lt;/ul&gt; &lt;/td&gt; </code></pre>  <p></p>  <p><strong>Below is my code</strong></p>  <pre><code>from selenium import webdriver driver = webdriver.Chrome('/usr/bin/chromedriver') driver.get(""http://www.e3050.com/Items.aspx?cat=SON""); anchor_tags = driver.find_element_by_xpath(""//div[@class='page_navigation']/span[@id='ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_pager1']"") anchor_tags_res = anchor_tags.find_elements_by_tag_name(""a"") for anchor_tag in anchor_tags_res:       href=[]       href.append(anchor_tag.get_attribute(""href""))       for i in href:           element = driver.execute_script(i)           print element </code></pre>  <p>Here i am able to get the href from the anchor tags but when i try to execute like shown above it is showing the below error. And when i used click()  function like </p>  <pre><code>for anchor_tag in anchor_tags:       anchor_tag.click() </code></pre>  <p>The javascript is executing fine, but i want to store the result of the execution, because in the code above the javascript function is nothing but which generates pagination</p>  <p><strong>Result:</strong></p>  <pre><code>--------------------------------------------------------------------------- WebDriverException                        Traceback (most recent call last)  /home/local/&lt;ipython console&gt; in &lt;module&gt;()  /usr/lib/python2.7/site-packages/selenium-2.21.3-py2.7.egg/selenium/webdriver/remote/webdriver.pyc in execute_script(self, script, *args)     383         converted_args = list(args)     384         return self.execute(Command.EXECUTE_SCRIPT, --&gt; 385             {'script': script, 'args':converted_args})['value']     386      387     def execute_async_script(self, script, *args):  /usr/lib/python2.7/site-packages/selenium-2.21.3-py2.7.egg/selenium/webdriver/remote/webdriver.pyc in execute(self, driver_command, params)     151         response = self.command_executor.execute(driver_command, params)     152         if response: --&gt; 153             self.error_handler.check_response(response)     154             response['value'] = self._unwrap_value(     155                 response.get('value', None))  /usr/lib/python2.7/site-packages/selenium-2.21.3-py2.7.egg/selenium/webdriver/remote/errorhandler.pyc in check_response(self, response)     123             if exception_class == ErrorInResponseException:     124                 raise exception_class(response, value) --&gt; 125             raise exception_class(value)     126         message = ''     127         if 'message' in value:  WebDriverException: Message: '{""sessionId"":""ed4b6f549a9902254bc49399cddbe79a"",""status"":400,""value"":{""message"":""No script specified""}}' </code></pre>  <p>So how to store the result after executing javascript in selenium</p>  <p>Thanks in advance........................</p>  <p><strong>Edited Code</strong>:</p>  <pre><code>from selenium import webdriver driver = webdriver.Chrome('/usr/bin/chromedriver') driver.get(""http://www.e3050.com/Items.aspx?cat=SON""); anchor_tags = driver.find_element_by_xpath(""//div[@class='page_navigation']/span[@id='ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_pager1']"") all_options = anchor_tags.find_elements_by_tag_name(""a"") hrefs = all_options[1].get_attribute(""href"") res = hrefs.encode('utf-8') element = driver.execute_script('%s'%res) WebDriverWait(driver, timeout=10).until(lambda x: x.find_element_by_id('ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_itemslv_ctrl0_Counterlbl')) print element,""Here should be the result"" </code></pre>  <p>I edited code and i had run this code from a file through terminal, i am not getting any errors, but the result is none. Actually i want to save the result after javascript execution.Please let me know why the result is empty .............. </p>  <p>Thanks in advance................</p>"	11226095	"<p>To get the result after the click, just call an appropriate <code>find_element_by*</code> method. You might need <code>selenium.webdriver.support.ui.WebDriverWait</code> to wait for the results to load.</p>"
11230743	How to parse a Javascript regexp in Python?	javascript|python|regex	2012-06-27 16:18:11.910000 UTC	"<p>First of all, I am not the one who is writing the regexps, so I can't just rewrite them. I am pulling in several Javascript regexps, and trying to parse them, but there seems to be some difference between them. Testing the example regexp on W3Schools, Javascript shows this:</p>  <pre><code>var str=""Visit W3Schools""; var patt1=/w3schools/i; alert(str.match(patt1)) </code></pre>  <p>which alerts ""W3Schools"". However, in Python, I get:</p>  <pre><code>import re str=""Visit W3Schools"" patt1=re.compile(r""/w3schools/i"") print patt1.match(str) </code></pre>  <p>which prints <code>None</code>. Is there some library I can use to convert the Javascript regexps to Python ones?</p>"	11230813	"<p>In python <a href=""http://docs.python.org/library/re.html#re.match"" rel=""nofollow""><code>.match</code></a> only matches <em>at the start of the string</em>.</p>  <p>What you want to use is instead is <a href=""http://docs.python.org/library/re.html#re.search"" rel=""nofollow""><code>.search</code></a>.</p>  <p>Moreover, you do not need to include the '/' characters, and you need to use a separate argument to re.compile to make the search case insensitive:</p>  <pre><code>&gt;&gt;&gt; import re &gt;&gt;&gt; str = ""Visit W3Schools"" &gt;&gt;&gt; patt1 = re.compile('w3schools', re.I) &gt;&gt;&gt; print patt1.search(str) &lt;_sre.SRE_Match object at 0x10088e1d0&gt; </code></pre>  <p>In JavaScript, the slashes are the equivalent of calling <code>re.compile</code>. </p>  <p>I can recommend reading up on the <a href=""http://docs.python.org/library/re.html"" rel=""nofollow"">python regular expression module</a>, there is even an excellent <a href=""http://docs.python.org/howto/regex.html"" rel=""nofollow"">HOWTO</a>.</p>"
11230743	How to parse a Javascript regexp in Python?	javascript|python|regex	2012-06-27 16:18:11.910000 UTC	"<p>First of all, I am not the one who is writing the regexps, so I can't just rewrite them. I am pulling in several Javascript regexps, and trying to parse them, but there seems to be some difference between them. Testing the example regexp on W3Schools, Javascript shows this:</p>  <pre><code>var str=""Visit W3Schools""; var patt1=/w3schools/i; alert(str.match(patt1)) </code></pre>  <p>which alerts ""W3Schools"". However, in Python, I get:</p>  <pre><code>import re str=""Visit W3Schools"" patt1=re.compile(r""/w3schools/i"") print patt1.match(str) </code></pre>  <p>which prints <code>None</code>. Is there some library I can use to convert the Javascript regexps to Python ones?</p>"	11230843	"<p>You don't want to include the <code>/</code> characters and flags in the regexp, and you should use <code>.search</code> instead of <code>.match</code> for a substring match.</p>  <p>Try:</p>  <pre><code>patt1 = re.compile(r""w3schools"", flags=re.IGNORECASE) srch = patt1.search(str) print srch.group() </code></pre>"
11230743	How to parse a Javascript regexp in Python?	javascript|python|regex	2012-06-27 16:18:11.910000 UTC	"<p>First of all, I am not the one who is writing the regexps, so I can't just rewrite them. I am pulling in several Javascript regexps, and trying to parse them, but there seems to be some difference between them. Testing the example regexp on W3Schools, Javascript shows this:</p>  <pre><code>var str=""Visit W3Schools""; var patt1=/w3schools/i; alert(str.match(patt1)) </code></pre>  <p>which alerts ""W3Schools"". However, in Python, I get:</p>  <pre><code>import re str=""Visit W3Schools"" patt1=re.compile(r""/w3schools/i"") print patt1.match(str) </code></pre>  <p>which prints <code>None</code>. Is there some library I can use to convert the Javascript regexps to Python ones?</p>"	11231434	"<p>Could write a small helper function so /ig could also work:</p>  <pre><code>def js_to_py_re(rx):     query, params = rx[1:].rsplit('/', 1)     if 'g' in params:         obj = re.findall     else:         obj = re.search      # May need to make flags= smarter, but just an example...         return lambda L: obj(query, L, flags=re.I if 'i' in params else 0)  print js_to_py_re('/o/i')('school') # &lt;_sre.SRE_Match object at 0x2d8fe68&gt;  print js_to_py_re('/O/ig')('school') # ['o', 'o']  print js_to_py_re('/O/g')('school') # [] </code></pre>"
11265750	can user's input in an html form produce a python list without javascript	html|list|python-2.7|user-input	2012-06-29 16:43:43.160000 UTC	"<p>I want the user's input to eventually be modeled with a db.stringListProperty(). What would the input format have to look like and how would the user's inputs have to be constructed (with []'s, with quotes, with commas, etc.), if this is possible? I am using jinja2 for form templates, if that matters. (Extra credit for how to validate that the data was input correctly .) Thanks.</p>  <p>I get this error from appengine.  </p>  <pre><code>raise BadValueError('Property %s must be a list' % self.name) BadValueError: Property choices must be a list </code></pre>  <p>The error occurs on this line below.</p>  <p>person.choices = self.request.get('choices')</p>  <pre><code>class PQ(db.Model):     choices = db.StringListProperty()       key = db.Key.from_path(""PQ"", ID_id)     person = PQ.get(key)     template_values = {'ID_id':person.key(),                       'p': person,                       }     path = os.path.join(TEMPLATE_DIR, 'add_person.html')     self.response.out.write(template.render(path, template_values))   class AddPerson(BaseHandler):     def post(self):         ID_id = self.request.get('ID')         key = db.Key.from_path(""PQ"", ID_id)         person = PQ.get(key)          person.choices = self.request.get('choices')         person.put()         self.redirect(""/?ID=%s"" % ID_id)    add_person.html &lt;html&gt;   &lt;body&gt;  &lt;div id=""inputdata""&gt;     &lt;form action=""add_person"" method=""post"" enctype=""multipart/form-data""&gt;         &lt;label&gt;Enter your list of choices. Your list must follow this format:             [""Less"",""Same"",""More""] &lt;/label&gt;     &lt;input type=""textbox"" name=""choices"" size=""30"" value=""{{ p.choices }}""&gt;&lt;/input&gt;&lt;br/&gt;     &lt;input type=""submit"" value=""Submit""&gt;&lt;/input&gt;     &lt;/form&gt; &lt;/div&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>"	11268254	"<p>It seems that you get this error because <code>choices</code> must be a list type, but the value that you get from your request is a string - and it'll always be, since you get it from your HTTP request.</p>  <p>On the form side, it doesn't matter what format the user types data in, since it's always passed as a string - a comma-separated list should suffice. Then you could parse it with e.g. <code>self.request.get('choices').split("","")</code> (and trim whitespace on your side so you don't bother the user with exact whitespace requirements).</p>  <p>Best practices dictate that you should assist the user as much as possible - if you have a set of pre-defined choices, you could use <a href=""http://ivaynberg.github.com/select2/"" rel=""nofollow"">Select2</a> or a similar widget to guide the user with making their selection.</p>"
11272450	Encrypt using Python and decrypt in jQuery/Javascript?	javascript|python|encryption	2012-06-30 07:50:33.420000 UTC	"<p>I have some JSON data that I need to encrypt before sending it to the client side. I can encrypt the data using pycrpto like this:</p>  <pre><code>from Crypto.Cipher import AES key = '0123456789abcdef' mode = AES.MODE_CBC encryptor = AES.new(key, mode) text = jsonData ciphertext = encryptor.encrypt(text) </code></pre>  <p>And then I can send it to the client side. Now I need to use jQuery/Javascript to convert the ciphertext to plain text. <a href=""http://point-at-infinity.org/jsaes/"" rel=""nofollow"">jsaes</a> is an implementation of AES in Javascript. Can it be used to decrypt data back to plain text? Or is there any other library I can use to complete this task?</p>"	11272467	"<p>You should be able to decrypt it using any implementation of AES, just make sure you use the same <code>mode</code> that you used to encrypt it (in this case Cipher Block Chain or CBC)</p>  <p><a href=""http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Cipher-block_chaining_.28CBC.29"" rel=""nofollow"">http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Cipher-block_chaining_.28CBC.29</a></p>  <p>Also PyCrypto, while good, might be a little bit too low level for you. You might want to look at using something like GPGME for Python: <a href=""http://pyme.sourceforge.net/"" rel=""nofollow"">http://pyme.sourceforge.net/</a></p>"
11272450	Encrypt using Python and decrypt in jQuery/Javascript?	javascript|python|encryption	2012-06-30 07:50:33.420000 UTC	"<p>I have some JSON data that I need to encrypt before sending it to the client side. I can encrypt the data using pycrpto like this:</p>  <pre><code>from Crypto.Cipher import AES key = '0123456789abcdef' mode = AES.MODE_CBC encryptor = AES.new(key, mode) text = jsonData ciphertext = encryptor.encrypt(text) </code></pre>  <p>And then I can send it to the client side. Now I need to use jQuery/Javascript to convert the ciphertext to plain text. <a href=""http://point-at-infinity.org/jsaes/"" rel=""nofollow"">jsaes</a> is an implementation of AES in Javascript. Can it be used to decrypt data back to plain text? Or is there any other library I can use to complete this task?</p>"	11272491	"<p>Your straight forward answer is what Wes said.</p>  <p>However, there are problems of transmitting the key securely. (One could use a private/public key mechanism but then, there's no point encrypting the data because you already a P/P mechanism)</p>  <p>SSL/HTTPS were created for secure ""transactions"" between client and server, I would advise you use those.</p>"
11340220	Dynamically generate client-side HTML form control using JavaScript and server-side Python code in Google App Engine	javascript|python|google-app-engine	2012-07-05 08:05:56.900000 UTC	"<p>I have the following client-side front-end HTML using Jinja2 template engine:</p>  <pre><code>{% for record in result %}     &lt;textarea name=""remark""&gt;{{ record.remark }}&lt;/textarea&gt;     &lt;input type=""submit"" name=""approve"" value=""Approve"" /&gt; {% endfor %} </code></pre>  <p>Thus the HTML may show more than 1 set of textarea and submit button. </p>  <p>The back-end Python code retrieves a variable number of records from a gql query using the model, and pass this to the Jinja2 template in result. When a submit button is clicked, it triggers the post method to update the record:</p>  <pre><code>def post(self):     if self.request.get('approve'):         updated_remark = self.request.get('remark')         record.remark = db.Text(updated_remark)         record.put() </code></pre>  <p>However, in some instances, the record updated is NOT the one that correspond to the submit button clicked (eg if a user clicks on record 1 submit, record 2 remark gets updated, but not record 1).</p>  <p>I gather that this is due to the duplicate attribute name remark. I can possibly use JavaScript/jQuery to generate different attribute names. The question is, how do I code the back-end Python to get the (variable number of) names generated by the JavaScript?</p>  <p>Thanks.</p>"	11340797	"<p><strong>edited</strong></p>  <p>Inside the template <strong>for</strong> loop use <a href=""http://jinja.pocoo.org/docs/templates/#list-of-control-structures"" rel=""nofollow"">loop.index</a>: the current iteration of the loop. </p>  <p>Then:</p>  <pre><code>{% for record in result %} &lt;textarea name=""remark{{ loop.index }}""&gt;{{ record.remark }}&lt;/textarea&gt; &lt;input type=""submit"" name=""approve"" value=""{{ loop.index }}"" /&gt; {% endfor %} </code></pre>  <p>return:</p>  <pre><code>&lt;textarea name=""remark1""&gt;first record remark&lt;/textarea&gt; &lt;input type=""submit"" name=""approve"" value=""1"" /&gt; &lt;textarea name=""remark2""&gt;second record remark&lt;/textarea&gt; &lt;input type=""submit"" name=""approve"" value=""2"" /&gt; &lt;textarea name=""remark2""&gt;third record remark&lt;/textarea&gt; &lt;input type=""submit"" name=""approve"" value=""3"" /&gt; </code></pre>  <p>and in your backend code:</p>  <pre><code>def post(self):     if self.request.get('approve'):         updated_remark = self.request.get('remark' + self.request.get('approve'))         record.remark = db.Text(updated_remark)         record.put() </code></pre>  <p>I wrote this without testing it. Probably doesn't work, but could give you a hint. </p>  <hr>  <p><strong>new [better] solution</strong></p>  <p>put each couple of textarea and input inside an form:</p>  <pre><code>{% for record in result %}     &lt;form&gt;         &lt;textarea name=""remark""&gt;{{ record.remark }}&lt;/textarea&gt;         &lt;input type=""submit"" name=""approve"" value=""Approve"" /&gt;    &lt;/form&gt; {% endfor %} </code></pre>"
11383796	getting javascript form content with python	javascript|python|xml|forms	2012-07-08 14:14:10.803000 UTC	"<p>I am a novice python programmer and I am having troubles finding a tool to help me get a form from a javascript. I have written a small script in python and also have a simple interface done in javascript. The user needs to select a few items in the browser and the javascript then returns a sendForm(). I would like to then to recover the form with my python script. I know I could generate an xml file with javascript and tell my python script to wait until its creation and then catch it (with a os.path.exist(..)) but i would like to avoid this. I have seen that libraries such as cgi, mechanize, pyjs,(selenium?) exist to interface python and html,javascript but I can't find which one to use or if there would be another tool that would handle recovering the form easily.</p>  <p>More info: the python script generates an xml which is read by javascript. The user selects items in the javascript (with checkboxes) which are then tagged in the xml by javascript. The javascript then outputs the modified xml in a hidden field and it is this modified xml that I wish to retrieve with my python script after it is created.</p>  <p>Thank you all a  lot for your  help</p>"	11383885	"<p>Is your system a web application, If so your javascript can post to python back-end using ajax. Then you can encrypt a form to json string and send to back-end, in back en you can parse that string into python variable... Javascript it self does not have access to your local file except you run it local (but it's really limitted)</p>  <p>I suggest you should try a web frame work like Django. It's easy to learn in one day. </p>"
11383796	getting javascript form content with python	javascript|python|xml|forms	2012-07-08 14:14:10.803000 UTC	"<p>I am a novice python programmer and I am having troubles finding a tool to help me get a form from a javascript. I have written a small script in python and also have a simple interface done in javascript. The user needs to select a few items in the browser and the javascript then returns a sendForm(). I would like to then to recover the form with my python script. I know I could generate an xml file with javascript and tell my python script to wait until its creation and then catch it (with a os.path.exist(..)) but i would like to avoid this. I have seen that libraries such as cgi, mechanize, pyjs,(selenium?) exist to interface python and html,javascript but I can't find which one to use or if there would be another tool that would handle recovering the form easily.</p>  <p>More info: the python script generates an xml which is read by javascript. The user selects items in the javascript (with checkboxes) which are then tagged in the xml by javascript. The javascript then outputs the modified xml in a hidden field and it is this modified xml that I wish to retrieve with my python script after it is created.</p>  <p>Thank you all a  lot for your  help</p>"	11396801	"<p>Thanks for the clarification in the comments.  Since you are building a website, you'll want to use AJAX to call the python web application and return something (probably XML in your case, although I recommend reading about JSON).  It sounds to me like you don't have the best solution to your problem yet, but that is another issue.  I don't understand why you would go to the trouble of generating xml with python, reading it with JavaScript, updating it with JavaScript, and then reading it again with Python on form submission.  For starters, think about what happens if your users disable JavaScript.</p>  <p>Anyways, I suggest reading about <a href=""http://flask.pocoo.org/"" rel=""nofollow"">Flask</a> and <a href=""http://jquery.com/"" rel=""nofollow"">jQuery</a> to get started.  Your application might then look something like this in python:</p>  <pre><code>from flask import Flask app = Flask(__name__)  @app.route('/', methods=['POST', 'GET']) def foo():     if request.method == 'GET':         # Generate the XML         return myXML     if request.method == 'POST':         # Read that hidden field         xml = request.form['the_hidden_xml']         # Do what you will         return render_template('homepage.html')  if __name__ == ""__main__"":     app.run() </code></pre>  <p>The JavaScipt probably does this:</p>  <pre><code>function buildTheForm() {     $.get('/', function(data) {         // handle the xml in data         alert('Load was performed.');     }); } </code></pre>  <p>The form probably does this:</p>  <pre><code>&lt;form action=""/"" method=""post""&gt; </code></pre>"
11402361	python's urllib.urlopen for javascript	javascript|python|urllib	2012-07-09 20:12:15.380000 UTC	"<p>Is there a module written in javascript that's equivalent to python's urllib?  In particular, I want something like:</p>  <pre><code>urllib.urlopen(url, data) </code></pre>  <p>which returns an object that supports a blocking fetch.  Alternatively, in what other ways could I perform a blocking request to a server using javascript?</p>"	11402618	"<p>You can use the normal XMLHttpRequest synchronously:</p>  <pre><code>var xhr = new XMLHttpRequest(); xhr.open('POST', url, false);  # third param is sync/async xhr.send(data); var response = xhr.responseText; </code></pre>"
11483002	Is there a JavaScript or posssibly Python/Django web service to geocode street addresses?	javascript|python|api|geolocation|geocoding	2012-07-14 10:30:29.440000 UTC	"<p>Is there a generic JavaScript or possibly Python/Django or other open source web service or API to look up a geolocation given a street address? <a href=""http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/"" rel=""nofollow"">http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/</a> does what I want, apparently in C#. Is the like available from JavaScript or open source projects that can be queried?</p>  <p>ATdhvaanckse,</p>"	11483114	"<p>You can use <a href=""https://developers.google.com/maps/documentation/javascript/"" rel=""nofollow"">Google Maps JavaScript API</a>. You can find an example of what you want <a href=""https://google-developers.appspot.com/maps/documentation/javascript/examples/geocoding-simple"" rel=""nofollow"">here</a>.</p>"
11483002	Is there a JavaScript or posssibly Python/Django web service to geocode street addresses?	javascript|python|api|geolocation|geocoding	2012-07-14 10:30:29.440000 UTC	"<p>Is there a generic JavaScript or possibly Python/Django or other open source web service or API to look up a geolocation given a street address? <a href=""http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/"" rel=""nofollow"">http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/</a> does what I want, apparently in C#. Is the like available from JavaScript or open source projects that can be queried?</p>  <p>ATdhvaanckse,</p>"	11483144	"<p>Check out <a href=""http://www.gisgraphy.com/"" rel=""nofollow"">Gisgraphy</a> a free an open source geo service.</p>  <p>Everyone will tell you to use the Google Maps API but read the <a href=""https://developers.google.com/maps/terms"" rel=""nofollow"">terms of use</a>.</p>  <blockquote>   <p>(g) No Use of Content without a Google Map. You must not use or   display the Content without a corresponding Google map, unless you are   explicitly permitted to do so in the Maps APIs Documentation, or   through written permission from Google. In any event, you must not use   or display the Content on or in conjunction with a non-Google map. For   example, you must not use geocodes obtained through the Service in   conjunction with a non-Google map. As another example, you must not   display Street View imagery alongside a non-Google map, but you may   display Street View imagery without a corresponding Google map because   the Maps APIs Documentation explicitly permits you to do so.</p> </blockquote>  <p>So with the Google API you <strong>must use a Google Map</strong>. So if you need a map you're OK.</p>"
11483002	Is there a JavaScript or posssibly Python/Django web service to geocode street addresses?	javascript|python|api|geolocation|geocoding	2012-07-14 10:30:29.440000 UTC	"<p>Is there a generic JavaScript or possibly Python/Django or other open source web service or API to look up a geolocation given a street address? <a href=""http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/"" rel=""nofollow"">http://www.braincastexception.com/wp7-web-services-first-part-geocodeservice/</a> does what I want, apparently in C#. Is the like available from JavaScript or open source projects that can be queried?</p>  <p>ATdhvaanckse,</p>"	11484336	"<p>You can circumvent the restrictive TOS that Google, Bing, and other providers have by using <a href=""http://smartystreets.com/products/liveaddress-api"" rel=""nofollow"">LiveAddress API</a>. I work at <a href=""http://smartystreets.com"" rel=""nofollow"">SmartyStreets</a> and help to maintain it.</p>  <p>While Google will only approximate the address (in other words, return results for addresses which don't exist), LiveAddress will verify the existence of the address and return only valid results, and a handful of other valuable data about it.</p>  <p>Python sample code here: <a href=""https://github.com/smartystreets/LiveAddressSamples/tree/master/python"" rel=""nofollow"">https://github.com/smartystreets/LiveAddressSamples/tree/master/python</a></p>  <p>Javascript examples here: <a href=""http://jsfiddle.net/user/smartystreets/fiddles/"" rel=""nofollow"">http://jsfiddle.net/user/smartystreets/fiddles/</a> and <a href=""https://github.com/smartystreets/LiveAddressSamples/tree/master/jQuery"" rel=""nofollow"">https://github.com/smartystreets/LiveAddressSamples/tree/master/jQuery</a> (uses jQuery) and <a href=""https://github.com/smartystreets/LiveAddressSamples/tree/master/javascript"" rel=""nofollow"">https://github.com/smartystreets/LiveAddressSamples/tree/master/javascript</a>.</p>"
11511155	Python Javascript framework to use with cherrypy and Mako	javascript|jquery|python|mako	2012-07-16 19:26:20.380000 UTC	"<p>I am just learning python and python web apps so please forgive my lack of knowledge.</p>  <p>I am writing a web app in python with cherrypy + mako (+ html), and now I am diving into the javascript part of it. Honestly, the rest was already enough to learn... So I was wondering about using a python framework to sort of abstract the javascript syntax from me. (I am mostly a c* dev, python is already different enough to keep me busy)</p>  <p>I don't (yet) need any fancy javascript, although I have already started using jquery and jquery-ui, but I don't understand the syntax well enough and it takes me a long time to do anything... (For example I have not yet found how to get the javascript and mako to interact with each other in a client server way.)</p>  <p>I have learned about pyjamas and other frameworks as such. What would you recommend?</p>"	11511725	"<p>It all depends on what you need the server and client to communicate about.  If you give us a specific problem we can give more specific answers.  </p>  <p>Here's a javascript ajax call.  It's straight javascript (no framework) and what you would refer to as ""not fancy"".</p>  <pre><code>function AddToCart_Clicked(SKU, Quantity) {     // code for IE7+, Firefox, Chrome, Opera, Safari     if(window.XMLHttpRequest)         xmlhttp=new XMLHttpRequest();     else// code for IE6, IE5         xmlhttp=new ActiveXObject(""Microsoft.XMLHTTP"");      xmlhttp.onreadystatechange=function()     {         if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)         {             document.getElementById('HeaderShoppingCartlink').innerHTML = 'Shopping Cart (' + xmlhttp.responseText + ')';         }     }      xmlhttp.open(""GET"",""/ProductNavigation/AddToCartJS?SKU="" + SKU + ""&amp;Quantity="" + Quantity, true);     xmlhttp.send();     } </code></pre>  <p>This function adds an item to a user's shopping cart.  The function sends a GET request to the Cherrypy function AddToCartJS in the class ProductNavigation with the variables SKU and Quantity.  The CherryPy function looks like this.</p>  <pre><code>@cherrypy.expose def AddToCartJS(self, SKU, Quantity):     CurrentShoppingCart = ShoppingCart()     CartID = CurrentShoppingCart.AddToCart(SKU, Quantity)     return CurrentShoppingCart.GetCartCount() </code></pre>  <p>Hope this helps.</p>  <p>Andrew</p>"
11540314	Python to JavaScript object graph (de)serialization	javascript|python|serialization|deserialization	2012-07-18 11:30:52.087000 UTC	"<p>I'm trying to send an object graph from Python to JavaScript running in a browser, and I was wondering whether there is a pair of ready-to-use libraries for handling serialization on the Python side and deserialization on the JavaScript side. JSON does not support object references out of the box, the docs for JS-YAML say it's not production-ready in a browser environment, and I didn't find anything for XML. Any suggestions?</p>  <p><strong>edit:</strong> Here's an example for what I mean by ""JSON does not support object references out of the box"": I have a shop database with products and orders and a many-to-many relationship between them. If I put a bunch of orders into the Python JSON serializer, the result will contain multiple serializations (copies) of each product, because the JSON serializer has no way of saying, ""I've serialized this product already, so I'll just insert a reference to it"". So I put the result on the wire and deserialize it on the client, and now I have multiple JavaScript objects representing the same product, which is bad.</p>"	11568548	"<p>how about jsonpickle? JS is awesome with json out of box, adding json pickling in python is the missing link: <a href=""http://pypi.python.org/pypi/jsonpickle/"" rel=""nofollow"">jsonpickle</a></p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547227	"<p>What do you thing about using some <a href=""http://wiki.python.org/moin/Templating"" rel=""nofollow"">Templating</a> system? It will fit your needs.</p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547300	"<p>I know you've specifically mentioned ""without a web-server"", but unless you want to really go out of your way, and over-complicate this, and restrict flexibility for future use:-</p>  <p>Could you not use a very simple webserver such as: <a href=""http://docs.python.org/library/simplehttpserver.html"" rel=""nofollow"">http://docs.python.org/library/simplehttpserver.html</a> ? That way, should you need to expose the site, you've got the URL's already in place to set-up a proper webserver.</p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547335	"<p>Maybe you could write to a cookie and then access that via JavaScript? Similar to this SO answer <a href=""https://stackoverflow.com/a/4349222/5926"">here</a>?</p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547359	"<p>You could use Python's JSON Encoder and Decoder library. This way you could encode your Python data into JSON format and include that in your HTML document. You would then use Javascript in the HTML file to work with the JSON encoded data.</p>  <p><a href=""http://docs.python.org/library/json.html"" rel=""nofollow"">http://docs.python.org/library/json.html</a></p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547371	"<p>You just need to get the data you have in your python code into a form readable by your javascript, right?</p>  <p>Why not just take the data structure, convert it to JSON, and then write a <code>.js</code> file that your <code>.html</code> file includes that is simply <code>var data = { json: ""object here"" };</code></p>"
11547150	How to transfer variable data from Python to Javascript without a web server?	javascript|python|html|file	2012-07-18 17:37:08.290000 UTC	"<p>I'm working on automatically generating a local HTML file, and all the relevant data that I need is in a Python script. Without a web server in place, I'm not sure how to proceed, because otherwise I think an AJAX/json solution would be possible. </p>  <p>Basically in python I have a few list and dictionary objects that I need to use to create graphs using javascript and HTML. One solution I have (which really sucks) is to literally write HTML/JS from within Python using strings, and then save to a file.</p>  <p>What else could I do here? I'm pretty sure Javascript doesn't have file I/O capabilities.</p>  <p>Thanks.</p>"	11547536	"<p>If this only needs to be for localhost, you could do something like the following. To access, you would make a call to <code>http://localhost:8080/foo</code>; this can cause some issues due to Cross Site Injection Protection, however; these are readily solved by Googling around.</p>  <p>On the JS side, you would make an AJAX call like this (assuming jQuery)</p>  <pre><code>$.ajax('http://localhost:8080/foo', function (data) {console.log(data)}); </code></pre>  <p>And then on the Python side you would have this file in the same directory as the html file you are seeking to use (index.html) on your computer, and execute it.</p>  <pre><code>import BaseHTTPServer import json  class WebRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler):         def do_GET(self):             desiredDict = {'something':'sent to JS'}             if self.path == '/foo':                 self.send_response(200)                 self.send_header(""Content-type"", ""application/json"")                 self.end_headers()                 self.wfile.write(json.dumps(desiredDict))             else:                  if self.path == '/index.html' or self.path == '/':                     htmlFile = open('index.html', 'rb')                     self.send_response(200)                     self.send_header(""Content-type"", ""text/html"")                     self.send_header(""Access-Control-Allow-Origin"",""http://localhost:8080/"")                     self.end_headers()                     self.wfile.write(htmlFile.read())                 else:                     self.send_error(404)  server = BaseHTTPServer.HTTPServer(('',8080), WebRequestHandler) server.serve_forever() </code></pre>"
11552534	python send data through POST with javascript submit	javascript|python|authentication|urllib2|form-submit	2012-07-19 00:55:02.953000 UTC	"<p>my  issue with submitting the form from python script .. here is the FORM</p>  <pre><code>&lt;form id=""userLogin"" autocomplete=""OFF"" action=""LoginPage.aspx"" method=""post"" name=""userLogin"" &lt;input type=""text"" class=""txt"" id=""Userid"" name=""Userid"" maxlength=""12""&gt; &lt;input type=""password"" class=""txtpwdbox"" id=""Password"" name=""Password"" readonly="""" maxlength=""10""&gt; &lt;img style=""CURSOR:pointer"" onclick=""userIdValidation();"" src=""/ENG/images/but-login-en.gif"" id=""idSubmit""&gt; </code></pre>  <p>from the above code , we can noticed that the last line is about submitting but how to do it in python ?</p>  <p>this my python code</p>  <pre><code>import urllib,urllib2,cookielib login_data = urllib.urlencode({'Userid':'test','Password':'123456'}) cj = cookielib.CookieJar() op = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj)) c = op = urllib2.urlopen('https://www.example.com/Login/LoginPage.aspx', login_data) print c.read() </code></pre>  <p>but it's not submitting .. in case if you wandering what is the <code>userIdValidation()</code> function ,, it's basically check if user have filled  the username and password fields then do that command <code>document.userLogin.submit();</code></p>"	11552592	"<p>Maybe you could try <a href=""http://wwwsearch.sourceforge.net/mechanize/"" rel=""nofollow"">mechanize</a> (<a href=""http://pypi.python.org/pypi/mechanize/"" rel=""nofollow"">PyPI page</a>). Not sure whether it handles Javascript, but it helped me a lot at navigating between pages and submitting forms. Furthermore, you would get rid of the cookie management.</p>"
11552534	python send data through POST with javascript submit	javascript|python|authentication|urllib2|form-submit	2012-07-19 00:55:02.953000 UTC	"<p>my  issue with submitting the form from python script .. here is the FORM</p>  <pre><code>&lt;form id=""userLogin"" autocomplete=""OFF"" action=""LoginPage.aspx"" method=""post"" name=""userLogin"" &lt;input type=""text"" class=""txt"" id=""Userid"" name=""Userid"" maxlength=""12""&gt; &lt;input type=""password"" class=""txtpwdbox"" id=""Password"" name=""Password"" readonly="""" maxlength=""10""&gt; &lt;img style=""CURSOR:pointer"" onclick=""userIdValidation();"" src=""/ENG/images/but-login-en.gif"" id=""idSubmit""&gt; </code></pre>  <p>from the above code , we can noticed that the last line is about submitting but how to do it in python ?</p>  <p>this my python code</p>  <pre><code>import urllib,urllib2,cookielib login_data = urllib.urlencode({'Userid':'test','Password':'123456'}) cj = cookielib.CookieJar() op = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj)) c = op = urllib2.urlopen('https://www.example.com/Login/LoginPage.aspx', login_data) print c.read() </code></pre>  <p>but it's not submitting .. in case if you wandering what is the <code>userIdValidation()</code> function ,, it's basically check if user have filled  the username and password fields then do that command <code>document.userLogin.submit();</code></p>"	11553274	"<p>I guess you are fetch that page from an .net framework implementation site.(""LoginPage.aspx"" here)</p>  <p>there is many sites of .net framework are enable the PageView property,it's one of the maintain page's state method, but it will attach some of the data request is initiated</p>  <p>So, if you want to post a request, don't forget the PageView or other .net framework data.</p>"
11552534	python send data through POST with javascript submit	javascript|python|authentication|urllib2|form-submit	2012-07-19 00:55:02.953000 UTC	"<p>my  issue with submitting the form from python script .. here is the FORM</p>  <pre><code>&lt;form id=""userLogin"" autocomplete=""OFF"" action=""LoginPage.aspx"" method=""post"" name=""userLogin"" &lt;input type=""text"" class=""txt"" id=""Userid"" name=""Userid"" maxlength=""12""&gt; &lt;input type=""password"" class=""txtpwdbox"" id=""Password"" name=""Password"" readonly="""" maxlength=""10""&gt; &lt;img style=""CURSOR:pointer"" onclick=""userIdValidation();"" src=""/ENG/images/but-login-en.gif"" id=""idSubmit""&gt; </code></pre>  <p>from the above code , we can noticed that the last line is about submitting but how to do it in python ?</p>  <p>this my python code</p>  <pre><code>import urllib,urllib2,cookielib login_data = urllib.urlencode({'Userid':'test','Password':'123456'}) cj = cookielib.CookieJar() op = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj)) c = op = urllib2.urlopen('https://www.example.com/Login/LoginPage.aspx', login_data) print c.read() </code></pre>  <p>but it's not submitting .. in case if you wandering what is the <code>userIdValidation()</code> function ,, it's basically check if user have filled  the username and password fields then do that command <code>document.userLogin.submit();</code></p>"	11553353	"<p>you can try above  but when you build a opener ""op"" by </p>  <blockquote>   <p>op = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))</p> </blockquote>  <p>why you use </p>  <blockquote>   <p>urllib2.urlopen('https://www.example.com/Login/LoginPage.aspx', login_data)</p> </blockquote>  <p>this cannot pass the cookie</p>"
11568232	javascript-readable json from python	javascript|python|django|json	2012-07-19 19:50:28.567000 UTC	"<p>My view computes a json and outputs a <code>json.dumps()</code>, and I'm passing this as the dictionary key <code>data</code>. I'm trying to pass this to a script element in my template, but when rendering, the browser gets it as a python-escaped string<code>{&amp;quot;nodes&amp;quot;: [{&amp;quot;count&amp;quot;:......</code> which isn't readable to the javascript. What I need is python to send it as a JS-escaped string, something like this <code>{""nodes"": [{""count"":......</code>. I tried <code>str(data)</code> and <code>eval(data)</code> without success. Basically I need python to send the string just as if it were printing it to the console. Thanks</p>"	11568340	"<p>This works for me:</p>  <pre><code>return HttpResponse(json.dumps({'foo' : 'bar'}, ensure_ascii=False),     mimetype='application/json') </code></pre>"
11568232	javascript-readable json from python	javascript|python|django|json	2012-07-19 19:50:28.567000 UTC	"<p>My view computes a json and outputs a <code>json.dumps()</code>, and I'm passing this as the dictionary key <code>data</code>. I'm trying to pass this to a script element in my template, but when rendering, the browser gets it as a python-escaped string<code>{&amp;quot;nodes&amp;quot;: [{&amp;quot;count&amp;quot;:......</code> which isn't readable to the javascript. What I need is python to send it as a JS-escaped string, something like this <code>{""nodes"": [{""count"":......</code>. I tried <code>str(data)</code> and <code>eval(data)</code> without success. Basically I need python to send the string just as if it were printing it to the console. Thanks</p>"	11568427	"<p>If I understand well, you want to use a json in a template. In order to do that, you have to disable the escaping, for exemple like this.</p>  <pre><code>{% autoescape off %} var x={{json_var}} {% endautoescape %} </code></pre>"
11568232	javascript-readable json from python	javascript|python|django|json	2012-07-19 19:50:28.567000 UTC	"<p>My view computes a json and outputs a <code>json.dumps()</code>, and I'm passing this as the dictionary key <code>data</code>. I'm trying to pass this to a script element in my template, but when rendering, the browser gets it as a python-escaped string<code>{&amp;quot;nodes&amp;quot;: [{&amp;quot;count&amp;quot;:......</code> which isn't readable to the javascript. What I need is python to send it as a JS-escaped string, something like this <code>{""nodes"": [{""count"":......</code>. I tried <code>str(data)</code> and <code>eval(data)</code> without success. Basically I need python to send the string just as if it were printing it to the console. Thanks</p>"	11569300	<p>Note that instead of using</p>  <pre><code>{% autoescape off %}     {{ my_json }} {% endautoescape %} </code></pre>  <p>You can simply use a filter :</p>  <pre><code>{{ my_json|safe }} </code></pre>
11620582	The difference between a class-based language (like Java or Python) and a prototype-based language (like Javascript)?	javascript|python|class|prototype	2012-07-23 21:11:53.780000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/816071/prototype-based-vs-class-based-inheritance"">prototype based vs. class based inheritance</a>  </p> </blockquote>    <p>This question came up at work the other day - what's the difference between a class-based language like Python, and a prototype-based language like Javascript? Aside from differing approches, both ways seem very similar and we struggled to find something that a class-based language could do that a prototype-based language couldn't, or vice-versa.</p>  <p>Can anybody elaborate or go into any detail on how they differ fundamentally?</p>  <p>I haven't found much online about the differences, just sites that show you how to accomplish one with the other (such as this: <a href=""http://unspecified.wordpress.com/2011/06/05/simulating-classes-with-prototypes-in-javascript/"" rel=""nofollow noreferrer"">Simulating classes with prototypes in JavaScript</a>)</p>  <p>Any enlightenment appreciated!</p>"	11620636	"<p>The JavaScript guide of MDN has some good points, take a look: <a href=""https://developer.mozilla.org/en/JavaScript/Guide/Details_of_the_Object_Model"" rel=""nofollow"">https://developer.mozilla.org/en/JavaScript/Guide/Details_of_the_Object_Model</a></p>"
11620582	The difference between a class-based language (like Java or Python) and a prototype-based language (like Javascript)?	javascript|python|class|prototype	2012-07-23 21:11:53.780000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/816071/prototype-based-vs-class-based-inheritance"">prototype based vs. class based inheritance</a>  </p> </blockquote>    <p>This question came up at work the other day - what's the difference between a class-based language like Python, and a prototype-based language like Javascript? Aside from differing approches, both ways seem very similar and we struggled to find something that a class-based language could do that a prototype-based language couldn't, or vice-versa.</p>  <p>Can anybody elaborate or go into any detail on how they differ fundamentally?</p>  <p>I haven't found much online about the differences, just sites that show you how to accomplish one with the other (such as this: <a href=""http://unspecified.wordpress.com/2011/06/05/simulating-classes-with-prototypes-in-javascript/"" rel=""nofollow noreferrer"">Simulating classes with prototypes in JavaScript</a>)</p>  <p>Any enlightenment appreciated!</p>"	11620678	"<p>Check out <a href=""https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Details_of_the_Object_Model#Class-Based_vs._Prototype-Based_Language"" rel=""nofollow"">this article</a>. It is a detailed article discussing the differences between class-based and prototype-based languages.</p>  <p>Copy of the table summarizing the differences:</p>  <h2>Class-based (Java)</h2>  <ul> <li>Class and instance are distinct entities.</li> <li>Define a class with a class definition; instantiate a class with constructor methods.</li> <li>Create a single object with the new operator.</li> <li>Construct an object hierarchy by using class definitions to define subclasses of existing classes.</li> <li>Inherit properties by following the class chain.</li> <li>Class definition specifies all properties of all instances of a class. Cannot add properties dynamically at run time.</li> </ul>  <h2>Prototype-based (JavaScript)</h2>  <ul> <li>All objects are instances.</li> <li>Define and create a set of objects with constructor functions.</li> <li>Same.</li> <li>Construct an object hierarchy by assigning an object as the prototype associated with a constructor function.</li> <li>Inherit properties by following the prototype chain.</li> <li>Constructor function or prototype specifies an initial set of properties. Can add or remove properties dynamically to individual objects or to the entire set of objects.</li> </ul>"
11620582	The difference between a class-based language (like Java or Python) and a prototype-based language (like Javascript)?	javascript|python|class|prototype	2012-07-23 21:11:53.780000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/816071/prototype-based-vs-class-based-inheritance"">prototype based vs. class based inheritance</a>  </p> </blockquote>    <p>This question came up at work the other day - what's the difference between a class-based language like Python, and a prototype-based language like Javascript? Aside from differing approches, both ways seem very similar and we struggled to find something that a class-based language could do that a prototype-based language couldn't, or vice-versa.</p>  <p>Can anybody elaborate or go into any detail on how they differ fundamentally?</p>  <p>I haven't found much online about the differences, just sites that show you how to accomplish one with the other (such as this: <a href=""http://unspecified.wordpress.com/2011/06/05/simulating-classes-with-prototypes-in-javascript/"" rel=""nofollow noreferrer"">Simulating classes with prototypes in JavaScript</a>)</p>  <p>Any enlightenment appreciated!</p>"	11620705	"<p>It seems like you're familiar with the actual languages, so you know what the difference is, right? I guess you're asking about the differences at a deeper, maybe more ""philosophical"", level. </p>  <p>Class-based languages tend to work from the top down, general to particular. The classic example would be where you define a 'Vehicle' class, and then subclasses like 'Car', 'Train'. </p>  <p>A prototype-based language would instead tend to start with the particular, in fact start with an instance of the particular and modify that.</p>  <p>I like this: <a href=""http://steve-yegge.blogspot.ie/2008/10/universal-design-pattern.html"" rel=""noreferrer"">http://steve-yegge.blogspot.ie/2008/10/universal-design-pattern.html</a></p>  <p>In the end it's not a question of if you can do inheritance in JS or whether there is something that you can do in one language but not the other. It's a deep difference in their ways of approaching problem solving. For a particular problem a good idiomatic solution that made best use of the language's features would probably be quite different in a prototype-based language from one in a class-based language.</p>"
11620582	The difference between a class-based language (like Java or Python) and a prototype-based language (like Javascript)?	javascript|python|class|prototype	2012-07-23 21:11:53.780000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/816071/prototype-based-vs-class-based-inheritance"">prototype based vs. class based inheritance</a>  </p> </blockquote>    <p>This question came up at work the other day - what's the difference between a class-based language like Python, and a prototype-based language like Javascript? Aside from differing approches, both ways seem very similar and we struggled to find something that a class-based language could do that a prototype-based language couldn't, or vice-versa.</p>  <p>Can anybody elaborate or go into any detail on how they differ fundamentally?</p>  <p>I haven't found much online about the differences, just sites that show you how to accomplish one with the other (such as this: <a href=""http://unspecified.wordpress.com/2011/06/05/simulating-classes-with-prototypes-in-javascript/"" rel=""nofollow noreferrer"">Simulating classes with prototypes in JavaScript</a>)</p>  <p>Any enlightenment appreciated!</p>"	11620707	"<p>Well, they're both (usually) Turning Complete.  :)</p>  <p>Classes are about enforcing encapsulation, at the expense of some (or a lot of) run-time extensibility.  Prototypes encourage encapsulation and allow almost unlimited run-time extension.</p>  <p>Seriously, prototype-based OO makes it very easy -- some would say dangerously easy -- to dynamically extend/derive from an object.  Prototype languages therefore do not coexist easily with static typing.  So if you like how compilers catch type errors, you will almost certainly be excluding prototype-based languages.</p>  <p>There's actually a very good discussion here: <a href=""http://yehudakatz.com/2011/08/12/understanding-prototypes-in-javascript/"" rel=""nofollow"">http://yehudakatz.com/2011/08/12/understanding-prototypes-in-javascript/</a> although there are others which are just as good I liked that one.</p>"
11637075	How do I prevent malicious javascript in V8 (with Python)	javascript|python|v8	2012-07-24 18:29:45.543000 UTC	"<p>I'm using PyV8 to run untrusted javascript. How can I detect and kill javascript that has inifinite, or long running loops in it? I'd like to tell v8 to run javascript and fail with a timeout if it's not finished in 0.1 of a second. </p>"	11637159	"<p>if it's python, you can use Interrupting cow:</p>  <pre><code>from interruptingcow import timeout  try:     with timeout(5, exception=RuntimeError):         # perform a potentially very slow operation         pass except RuntimeError:     print ""didn't finish within 5 seconds"" </code></pre>  <p><a href=""https://bitbucket.org/evzijst/interruptingcow"" rel=""nofollow"">https://bitbucket.org/evzijst/interruptingcow</a></p>"
11659926	How to concatenate several Javascript files into one file using Python	python|file	2012-07-25 23:01:24.270000 UTC	"<p>I would like to know how I can use Python to concatenate multiple Javascript files into just one file. </p>  <p>I am building a component based engine in Javascript, and I want to distribute it using just one file, for example, engine.js.</p>  <p>Alternatively, I'd like the users to get the whole source, which has a hierarchy of files and directories, and with the whole source they should get a build.py Python script, that can be edited to include various systems and components in it, which are basically .js files in components/ and systems/ directories.</p>  <p>How can I load files which are described in a list (paths) and combine them into one file?</p>  <p>For example:</p>  <pre><code>toLoad = [     ""core/base.js"",     ""components/Position.js"",     ""systems/Rendering.jd"" ] </code></pre>  <p>The script should concatenate these in order.</p>  <p>Also, this is a Git project. Is there a way for the script to read the version of the program from Git and then write it as a comment at the beginning?</p>"	11659969	"<p>This will concatenate your files:</p>  <pre><code>def read_entirely(file):     with open(file, 'r') as handle:         return handle.read()  result = '\n'.join(read_entirely(file) for file in toLoad) </code></pre>  <p>You may then output them as necessary, or write them using code similar to the following:</p>  <pre><code>with open(file, 'w') as handle:     handle.write(result) </code></pre>"
11659926	How to concatenate several Javascript files into one file using Python	python|file	2012-07-25 23:01:24.270000 UTC	"<p>I would like to know how I can use Python to concatenate multiple Javascript files into just one file. </p>  <p>I am building a component based engine in Javascript, and I want to distribute it using just one file, for example, engine.js.</p>  <p>Alternatively, I'd like the users to get the whole source, which has a hierarchy of files and directories, and with the whole source they should get a build.py Python script, that can be edited to include various systems and components in it, which are basically .js files in components/ and systems/ directories.</p>  <p>How can I load files which are described in a list (paths) and combine them into one file?</p>  <p>For example:</p>  <pre><code>toLoad = [     ""core/base.js"",     ""components/Position.js"",     ""systems/Rendering.jd"" ] </code></pre>  <p>The script should concatenate these in order.</p>  <p>Also, this is a Git project. Is there a way for the script to read the version of the program from Git and then write it as a comment at the beginning?</p>"	11660015	"<p>How about something like this?</p>  <pre><code>final_script = '' for script_name in toLoad:     with open(script_name, 'r') as f:         final_script += ('\n' + f.read()) with open('engine.js', 'w') as f:     f.write(final_script) </code></pre>"
11659926	How to concatenate several Javascript files into one file using Python	python|file	2012-07-25 23:01:24.270000 UTC	"<p>I would like to know how I can use Python to concatenate multiple Javascript files into just one file. </p>  <p>I am building a component based engine in Javascript, and I want to distribute it using just one file, for example, engine.js.</p>  <p>Alternatively, I'd like the users to get the whole source, which has a hierarchy of files and directories, and with the whole source they should get a build.py Python script, that can be edited to include various systems and components in it, which are basically .js files in components/ and systems/ directories.</p>  <p>How can I load files which are described in a list (paths) and combine them into one file?</p>  <p>For example:</p>  <pre><code>toLoad = [     ""core/base.js"",     ""components/Position.js"",     ""systems/Rendering.jd"" ] </code></pre>  <p>The script should concatenate these in order.</p>  <p>Also, this is a Git project. Is there a way for the script to read the version of the program from Git and then write it as a comment at the beginning?</p>"	11660210	"<p>You can do it yourself, but this is a real problem that real tools are solving more sophisticatedly.  Consider ""JavaScript Minification"", e.g. using <a href=""http://developer.yahoo.com/yui/compressor/"" rel=""nofollow"">http://developer.yahoo.com/yui/compressor/</a></p>"
11668704	Minimalistic example of IPython kernel javascript bi-directional communication	javascript|jquery|python|ipython	2012-07-26 11:52:29.880000 UTC	"<p>My goal is to write an interactive variable viewer for IPython, i.e. which allows one to see, say nested dicts/lists as a tree, and drill down (a bit like the console.log in Javascript).</p>  <p>I spent a lot of time trying to extract minimalistic code out of the directview example in IPython but still can't get my head around how it all works. My Python's ok but my jQuery experience is quite limited.</p>  <p>So I got to stripping down directview.js to the following</p>  <pre><code>container.show(); var widget = $('&lt;div/&gt;') element.append(widget); var output = $('&lt;div&gt;&lt;/div&gt;'); $(widget).append(output) var output_area = new IPython.OutputArea(output, false); var callbacks = { 'output': $.proxy(output_area.handle_output, output_area) }; var code  = 'print 1+1' var msg_id = IPython.notebook.kernel.execute(code, callbacks, {silent: false});  </code></pre>  <p>This works when I load the directview.ipynb. However I am still not clear how to make it completely standalone (i.e. not require the directview.py, and pass another callback than the standard <code>handle_output</code> of <code>IPython.OutputArea</code>). One of the issues is the <code>container.show()</code> which fails when called in a standalone way.</p>  <p>I am lost on several aspects:</p>  <ul> <li>Why is there an <code>element.append(widget)</code> and then <code>$(widget).append(output)</code>? Also why is there also a need to create an <code>Ipython.OutputArea</code>. Isn't there a way to just create a <code>&lt;div id=my_output_area&gt;blah&lt;/div&gt;</code> and then have the <code>output</code> callback fill it with the relevant data?</li> <li>What's the whole .proxy thing about? I would like to create my own callback for <code>output</code> but when I do that and <code>console.log()</code> the arguments passed to the callback, they're <code>undefined</code> or just useless.</li> </ul>  <p>I appreciate that the authors of the IPython notebook have done an incredible job creating such a beautiful front-end using jQuery/websockets, and that creating developer documentation that allows beginners like me to tweak with it is asking much, but if anyone can lend a hand that would be great!</p>"	16330506	"<p>I can answer to your second question.  The fact is when JavaScript calls your callback, it makes it so without specifying the context, i.e. without setting <code>this</code> (Pythonistas call it <code>self</code>).  But it's possible to bound a function to <code>this</code> via <code>$.proxy</code>, which you saw in:</p>  <pre><code>var callbacks = { 'output': $.proxy(output_area.handle_output, output_area) }; </code></pre>"
11687248	Unable to pass parameter from Python to Javascript function using webkit	javascript|webkit|python-2.7	2012-07-27 11:53:26.523000 UTC	"<p>I have a very simple function in Python that passes a parameter to a function in Javascript</p>  <pre><code>def show_hr(hr): global web_view web_view.execute_script(""showHr(%d);"" % hr) </code></pre>  <p>The function in Javascript looks like this</p>  <pre><code>function showHr(a) { b = a; } </code></pre>  <p>This works when I run it on the Python shell, but when I run it from command line, it gives me the error <code>undefined @0: ReferenceError: Can't find variable: showHr</code></p>  <p>I read about this error and it seems that when there's an error in the Javascript function, it gets overlooked and thus it cannot find the variable. But the same function runs perfectly well when I run the Python program from the shell, so where is this going wrong?</p>"	11923006	"<p>just bumped into your question while looking for something else.</p>  <p>Could this be a scope issue with Webkit being launched a way or the other? Have you tried something like </p>  <pre><code>web_view.execute_script(""window.showHr(%d);"" % hr) </code></pre>  <p>(if showHr() is defined right in the page, for instance)</p>"
11708413	Counterpart to Python's chr() in JavaScript	javascript|python|node.js|fromcharcode	2012-07-29 10:14:27.483000 UTC	"<p>The JavaScript method <code>String.fromCharCode()</code> behaves equivalently to Python's <code>unichar()</code> in the following sense:</p>  <pre><code>print unichr(213) # prints Õ on the console  console.log(String.fromCharCode(213)); // prints Õ on the console as well </code></pre>  <p>For my purposes, however, I need a JavaScript equivalent to the Python function <code>chr()</code>. Is there such a JavaScript function or a way to make <code>String.fromCharCode()</code> behave like <code>chr()</code>? </p>  <p>That is, I need something in JavaScript that mimics </p>  <pre><code>print chr(213) # prints � on the console </code></pre>"	11708626	"<p>If you want this ""Questionmark in a box"" for every number that is not in the standard ASCII table, how about this little function?</p>  <pre><code>function chr(c) {     return (c &lt; 0 || c &gt; 126) ? '�' : String.fromCharCode(c); } </code></pre>"
11708413	Counterpart to Python's chr() in JavaScript	javascript|python|node.js|fromcharcode	2012-07-29 10:14:27.483000 UTC	"<p>The JavaScript method <code>String.fromCharCode()</code> behaves equivalently to Python's <code>unichar()</code> in the following sense:</p>  <pre><code>print unichr(213) # prints Õ on the console  console.log(String.fromCharCode(213)); // prints Õ on the console as well </code></pre>  <p>For my purposes, however, I need a JavaScript equivalent to the Python function <code>chr()</code>. Is there such a JavaScript function or a way to make <code>String.fromCharCode()</code> behave like <code>chr()</code>? </p>  <p>That is, I need something in JavaScript that mimics </p>  <pre><code>print chr(213) # prints � on the console </code></pre>"	11708698	"<p>So turns out you just want to work with raw bytes in node.js, <a href=""http://nodejs.org/api/buffer.html"" rel=""nofollow"">there's a module for that</a>. If you are a real wizard, you can get this stuff to work with javascript strings alone but it's harder and far less efficient.</p>  <pre><code>var b = new Buffer(1); b[0] = 213;  console.log(b.toString()); //�   var b = new Buffer(3); b[0] = 0xE2; b[1] = 0x98; b[2] = 0x85;  console.log(b.toString()); //★ </code></pre>  <hr>  <p><code>print chr(213) # prints � on the console</code></p>  <p>So this prints a raw byte (<code>0xD5</code>), that is interpreted in UTF-8 (most likely) which is not valid UTF-8 byte sequence and thus is displayed as the replacement character (�).</p>  <p>The interpretation as UTF-8 is not relevant here, you most likely just want raw bytes.</p>  <p>To create raw bytes in javascript you could use <code>UInt8Array</code>. </p>  <pre><code>var a = new Uint8Array(1); a[0] = 213; </code></pre>  <p>You could <strong>optionally</strong> then interpret the raw bytes as utf-8:</p>  <pre><code>console.log( utf8decode(a)); // ""�""  //Not recommended for production use ;D //Doesn't handle &gt; BMP to keep the answer shorter function utf8decode(uint8array) {     var codePoints = [],         i = 0,         byte, codePoint, len = uint8array.length;     for (i = 0; i &lt; len; ++i) {         byte = uint8array[i];          if ((byte &amp; 0xF8) === 0xF0 &amp;&amp; len &gt; i + 3) {              codePoint = ((byte &amp; 0x7) &lt;&lt; 18) | ((uint8array[++i] &amp; 0x3F) &lt;&lt; 12) | ((uint8array[++i] &amp; 0x3F) &lt;&lt; 6) | (uint8array[++i] &amp; 0x3F);             if (!(0xFFFF &lt; codePoint &amp;&amp; codePoint &lt;= 0x10FFFF)) {                 codePoints.push(0xFFFD, 0xFFFD, 0xFFFD, 0xFFFD);             } else {                 codePoints.push(codePoint);             }         } else if ((byte &amp; 0xF0) === 0xE0 &amp;&amp; len &gt; i + 2) {              codePoint = ((byte &amp; 0xF) &lt;&lt; 12) | ((uint8array[++i] &amp; 0x3F) &lt;&lt; 6) | (uint8array[++i] &amp; 0x3F);             if (!(0x7FF &lt; codePoint &amp;&amp; codePoint &lt;= 0xFFFF)) {                 codePoints.push(0xFFFD, 0xFFFD, 0xFFFD);             } else {                 codePoints.push(codePoint);             }         } else if ((byte &amp; 0xE0) === 0xC0  &amp;&amp; len &gt; i + 1) {              codePoint = ((byte &amp; 0x1F) &lt;&lt; 6) | ((uint8array[++i] &amp; 0x3F));             if (!(0x7F &lt; codePoint &amp;&amp; codePoint &lt;= 0x7FF)) {                 codePoints.push(0xFFFD, 0xFFFD);             } else {                 codePoints.push(codePoint);             }         } else if ((byte &amp; 0x80) === 0x00) {             codePoints.push(byte &amp; 0x7F);         } else {             codePoints.push(0xFFFD);         }     }     return String.fromCharCode.apply(String, codePoints); } </code></pre>  <p>What you are most likely trying to do has nothing to do with trying to interpret the bytes as utf8 though.</p>  <p>Another example:</p>  <pre><code>//UTF-8 For the black star U+2605 ★: var a = new Uint8Array(3); a[0] = 0xE2; a[1] = 0x98; a[2] = 0x85; utf8decode(a) === String.fromCharCode(0x2605) //True utf8decode(a) // ★ </code></pre>  <p>In python 2.7 (Ubuntu):</p>  <pre><code>print chr(0xE2) + chr(0x98) + chr(0x85) #prints ★ </code></pre>"
11718415	How to display a customized (with JAVASCRIPT) htm page in a python GUI made with WEBKIT and GTK	javascript|webkit|pygtk	2012-07-30 09:11:33.550000 UTC	"<p>I'd like to load and display an html page using gtk and webkit. Here is what I have done so far:</p>  <p><a href=""https://stackoverflow.com/questions/11079966/load-an-html-page-change-its-look-and-display-it-in-a-pygtk-gui"">load an html page, change its look (via JAVASCRIPT) and display it in a PYGTK GUI using WEBKIT</a></p>  <p>The problem is that I'd like to customize the the look of this page by taking away some divs.</p>  <p>Could somebody please point me to the right direction.</p>  <p>thank you Fabrizio</p>"	11774552	"<p>I will answer my own question.</p>  <p>The solution to this problem is actually suggested <a href=""https://stackoverflow.com/questions/11748404/python-gtk-webkit-insert-javascript-after-gtk-main/11774423#11774423"">here</a> and it is possible via the use of the webkit method <code>execute_script</code> and the code could be (untested and incomplete code):</p>  <pre><code>import gtk import webkit  def load_finished(b):     js = 'alert(""a"");'     b.execute_script(js)   w = gtk.Window() b = webkit.WebView() w.add(b) b.open('http://example.com') w.show_all()  b.connect(""load-finished"", load_finished)  gtk.main()  </code></pre>  <p>A completed solution (which is also the one implemented by me) is available here:</p>  <pre><code>#!/usr/bin/env python #-*- coding:utf-8 -*-  import gtk, webkit # import jswebkit  # set of methods for the browser def delete_event(widget, event, data=None):     return False  def destroy(widget, data=None):     gtk.main_quit()  def go_back(widget, data=None):     browser.go_back()  def go_forward(widget, data=None):     browser.go_forward()  def go_home(widget, data=None):     browser.open(""http://opencores.org/projects"")  def load_www(widge, url):     try:         url.index(""://"")     except:         url = ""http://"" + url     www_adr_bar.set_text(url)     browser.open(url)  def load_www_bar(widge):         url = www_adr_bar.get_text()     load_www(widge, url)  def update_buttons(widget, data=None):     www_adr_bar.set_text( widget.get_main_frame().get_uri() )     back_button.set_sensitive(browser.can_go_back())     forward_button.set_sensitive(browser.can_go_forward())  def load_progress_amount(webview, amount):     progress.set_fraction(amount/100.0)      js_code = """"""         var el1 = document.getElementsByClassName(""top"")[0];          if (el1) el1.parentNode.removeChild(el1);          var el2 = document.getElementsByClassName(""banner"")[0];          if (el2) el2.parentNode.removeChild(el2);          var el3 = document.getElementsByClassName(""line"")[0];          if (el3) el3.parentNode.removeChild(el3);          var el4 = document.getElementsByClassName(""lang"")[0];          if (el4) el4.parentNode.removeChild(el4);          var el5 = document.getElementsByClassName(""mainmenu"")[0];          if (el5) el5.parentNode.removeChild(el5);          var el6 = document.getElementsByClassName(""pad_leftside"")[0];          if (el6) el6.parentNode.removeChild(el6);          var el7 = document.getElementsByClassName(""menu-tools"")[0];          if (el7) el7.parentNode.removeChild(el7);          var el8 = document.getElementsByClassName(""content"")[0];         if (el8){ var el81 = el8.nextElementSibling                   if (el81 != null) el81.parentNode.removeChild(el81); }          d1 = document.getElementsByClassName('main')[0];         if(d1){d1.style.width=""100%"";                d1.style.margin=""0pt"";}          d2 = document.getElementsByTagName('body')[0];         if(d2) d2.style.backgroundColor= ""#FFF"";          d3 = document.getElementsByClassName('content')[0];         if (d3) {d3.style.width=""100%"";                  d3.style.paddingBottom =""20pt"";}          function getsupportedprop(proparray){             var root=document.documentElement             for (var i=0; i&lt;proparray.length; i++){                 if (typeof root.style[proparray[i]]==""string""){                     return proparray[i]          }}}          // change some css3 proprieties          var boxshadowprop=getsupportedprop(['boxShadow', 'MozBoxShadow', 'WebkitBoxShadow'])         d4 = document.getElementsByClassName('main')[0];         if(d4) d4.style[boxshadowprop]='0px 0px 0px #FFF';     """"""     try:         pass         webview.execute_script(js_code)         #ctx = get_js_context(webview)         #ctx.EvaluateScript(js_code)     except:         pass  def load_started(webview, frame):     progress.set_visible(True)  #def get_js_context(webview): #    frame = webview.get_main_frame() #    return jswebkit.JSContext(frame.get_global_context())  def load_finished(webview, frame):     progress.set_visible(False)  def download(webview, download):      import threading, urllib      saveas = gtk.FileChooserDialog(title=None,              action=gtk.FILE_CHOOSER_ACTION_SAVE,              buttons=(gtk.STOCK_CANCEL, gtk.RESPONSE_CANCEL,                       gtk.STOCK_SAVE, gtk.RESPONSE_OK))      # get url under the mouse and propose it as file name     downloadfrom = download.get_network_request().get_uri()     saveas.set_current_name(downloadfrom.split('/')[-1]) # better stripping method is needed      saveas.set_default_response(gtk.RESPONSE_OK)     resp = saveas.run()      if resp == gtk.RESPONSE_OK:         downloadto = saveas.get_filename()     saveas.destroy()      if resp == gtk.RESPONSE_OK:         # TODO this needs to go in a different thread         # also, this will not work with the link: http://opencores.org/download,audio         print 'Downloading: ', downloadfrom, 'and saving it in:', downloadto          #urllib.urlretrieve(downloadfrom, downloadto)          # multithreading version         mythread = threading.Thread(target = urllib.urlretrieve,                                    args = (downloadfrom,downloadto))         mythread.start()   if __name__ == '__main__':     win = gtk.Window(gtk.WINDOW_TOPLEVEL)     win.set_size_request(920, 600)     win.connect(""delete_event"", delete_event)     win.connect(""destroy"", destroy)     win.set_resizable(True)      scroller = gtk.ScrolledWindow()     browser = webkit.WebView()      settings = browser.get_settings()     settings.set_property('enable-default-context-menu', True)       browser.connect(""load-progress-changed"", load_progress_amount)     browser.connect(""load-started"", load_started)     browser.connect(""load-finished"", load_finished)     browser.connect(""load_committed"", update_buttons)     #browser.connect(""download-requested"", download_link)     browser.connect(""download_requested"", download)      prj_button = gtk.Button('OpenCores')     login_button = gtk.Button('Login')     account_button = gtk.Button('My Account')     faq_button = gtk.Button('FAQ')      prj_button.connect(""clicked"", load_www,'http://opencores.org/projects')     login_button.connect(""clicked"", load_www,'http://opencores.org/login')     account_button.connect(""clicked"", load_www,'http://opencores.org/acc')     faq_button.connect(""clicked"", load_www,'http://opencores.org/faq')      www_adr_bar = gtk.Entry()     www_adr_bar.connect(""activate"", load_www_bar)     hlp_hbox = gtk.HBox()     hlp_vbox = gtk.VBox()     progress = gtk.ProgressBar()     back_button = gtk.ToolButton(gtk.STOCK_GO_BACK)     back_button.connect(""clicked"", go_back)     forward_button = gtk.ToolButton(gtk.STOCK_GO_FORWARD)     forward_button.connect(""clicked"", go_forward)     #home_button = gtk.ToolButton(gtk.STOCK_HOME)     #home_button.connect(""clicked"", go_home)      # put stuff together     hlp_hbox.pack_start(back_button,False, False,5)     hlp_hbox.pack_start(forward_button,False, False)     #hlp_hbox.pack_start(home_button,False, False)      hlp_hbox.pack_start(prj_button,False, False,4)     hlp_hbox.pack_start(login_button,False, False,4)     hlp_hbox.pack_start(account_button,False, False,4)     hlp_hbox.pack_start(faq_button,False, False,4)      hlp_hbox.pack_start(www_adr_bar,True, True,4)      hlp_vbox.pack_start(hlp_hbox,False, False,2)     hlp_vbox.pack_start(scroller,True, True,4)     hlp_vbox.pack_start(progress,False, False)     scroller.add(browser)      default_www = 'http://opencores.org/projects'     www_adr_bar.set_text(default_www)      # LOAD PAGE     browser.open(default_www)     back_button.set_sensitive(False)     forward_button.set_sensitive(False)      win.add(hlp_vbox)     win.show_all()     gtk.main() </code></pre>  <p>This will produce the following result:</p>  <p><img src=""https://i.stack.imgur.com/A1t3Y.png"" alt=""enter image description here""></p>  <p>where without the command <code>webview.execute_script(js_code)</code> the effect would be:</p>  <p><img src=""https://i.stack.imgur.com/5hwKL.png"" alt=""enter image description here""></p>"
11727145	How to set up Python server side with javascript client side	javascript|python	2012-07-30 18:10:37.067000 UTC	"<p>So there is already a Python program set up that runs on the console that I must build upon. I will be building a web GUI interface for the application using Javascript. How would I:</p>  <p>a. Go about handling the input/output of this Python program without touching the original code.</p>  <p>b. Go about sending console-line inputs to the Python program via Javascript calls. I've looked into raw HTTP requests/AJAX, but I'm not sure how exactly I would go about sending that as input to the Python program.</p>"	11727181	"<p>You probably want <a href=""http://flask.pocoo.org/"" rel=""nofollow"">Flask</a>, along with the <a href=""http://docs.python.org/library/json.html"" rel=""nofollow"">json module</a>.</p>  <p><a href=""https://www.djangoproject.com/"" rel=""nofollow"">Django</a> is another option, but is probably too high-level for your needs.</p>"
11727145	How to set up Python server side with javascript client side	javascript|python	2012-07-30 18:10:37.067000 UTC	"<p>So there is already a Python program set up that runs on the console that I must build upon. I will be building a web GUI interface for the application using Javascript. How would I:</p>  <p>a. Go about handling the input/output of this Python program without touching the original code.</p>  <p>b. Go about sending console-line inputs to the Python program via Javascript calls. I've looked into raw HTTP requests/AJAX, but I'm not sure how exactly I would go about sending that as input to the Python program.</p>"	11727739	"<p>This depends on what sort of application you are wrapping and on how your GUI options translate into application commands. But you have two goals here:</p>  <ol> <li><p>Writing a wrapper to allow you to read your program's output and provide it input.</p></li> <li><p>Making a web-server to receive GUI events and convert them to commands to pass to your ""wrapper""</p></li> </ol>  <p>I have done something like what you need to do.</p>  <ol> <li><p>Essentially you need to turn socket streams into discreet commands. The defacto tool for this is <a href=""http://en.wikipedia.org/wiki/Expect"" rel=""nofollow"">expect</a>, and any of it's wrappers (I've used <a href=""http://www.noah.org/wiki/pexpect"" rel=""nofollow"">pexpect</a>, the Python wrapper, and had a good experience with it).</p></li> <li><p>This part might not be simple. The problem is that your underlying program is persistently running, and so your web-server should be statefull to know about the program across requests. The other option is for your web-server to simply re-attach to the process and issue it commands, and send back a response when it is encountered in the stdout stream, but you might end up with long response times depending on how fast the program is. Also there is the mismatch that AJAX requests are asynchronous, while your underlying program is synchronous. So yes, this can get quite complex. It really depends on your program. If you could add some details about what the program and the GUI are like, it'd help.</p></li> </ol>"
11727145	How to set up Python server side with javascript client side	javascript|python	2012-07-30 18:10:37.067000 UTC	"<p>So there is already a Python program set up that runs on the console that I must build upon. I will be building a web GUI interface for the application using Javascript. How would I:</p>  <p>a. Go about handling the input/output of this Python program without touching the original code.</p>  <p>b. Go about sending console-line inputs to the Python program via Javascript calls. I've looked into raw HTTP requests/AJAX, but I'm not sure how exactly I would go about sending that as input to the Python program.</p>"	11728457	"<p>a. To handle input/output of the program: <a href=""http://www.noah.org/wiki/pexpect"" rel=""noreferrer"">Pexpect</a>. It's fairly easy to use, and reading some of the examples distributed with it should teach you enough to get the basics down. </p>  <p>b. Javascript interface:</p>  <p>Well, I use gevent and it's built-in WSGI server. (look up what a <a href=""http://wsgi.readthedocs.org/en/latest/index.html"" rel=""noreferrer"">WSGI server</a> (<a href=""http://webpython.codepoint.net/wsgi_tutorial"" rel=""noreferrer"">another</a>) is). I should note that this program will keep a state, so you can manage your open sessions by returning a session ID to your javascript client and storing your pexpect session in a global variable or some other container so that you can complete the program's input and output across multiple independent AJAX requests. I leave that up to you, however, as that is not as simple.</p>  <p>All my example will do is put the POST request in some  after clicking something of your choice. (it won't actually work because some of the variables are not set. Set them.)</p>  <p>Heres the relevant parts:</p>  <pre><code>&lt;!-- JavaScript --&gt; &lt;script src=""jquery.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript""&gt; function toPython(usrdata){     $.ajax({         url: ""http://yoursite.com:8080"",         type: ""POST"",         data: { information : ""You have a very nice website, sir."" , userdata : usrdata },         dataType: ""json"",         success: function(data) {             &lt;!-- do something here --&gt;             $('#somediv').html(data);         }}); $(""#someButton"").bind('click', toPython(something)); &lt;/script&gt; </code></pre>  <p>Then the server:</p>  <pre><code># Python and Gevent from gevent.pywsgi import WSGIServer from gevent import monkey monkey.patch_all() # makes many blocking calls asynchronous  def application(environ, start_response):     if environ[""REQUEST_METHOD""]!=""POST"": # your JS uses post, so if it isn't post, it isn't you         start_response(""403 Forbidden"", [(""Content-Type"", ""text/html; charset=utf-8"")])         return ""403 Forbidden""     start_response(""200 OK"", [(""Content-Type"", ""text/html; charset=utf-8"")])     r = environ[""wsgi.input""].read() # get the post data     return r  address = ""youraddresshere"", 8080 server = WSGIServer(address, application) server.backlog = 256 server.serve_forever() </code></pre>  <p>If your program is Object Oriented, it'd be fairly easy to integrate this. EDIT: Doesn't need to be object oriented. and I have now included some Pexpect code</p>  <pre><code>global d d = someClass() def application(environ, start_response):     # get the instruction     password = somethingfromwsgi # read the tutorials on WSGI to get the post stuff     # figure out WHAT to do     global d     success = d.doSomething()     # or success = funccall()     prog = pexpect.spawn('python someprogram.py')     prog.expect(""Password: "")     prog.sendline(password)     i = prog.expect([""OK"",""not OK"", ""error""])     if i==0:         start_response(""200 OK"", [(""Content-Type"", ""text/html; charset=utf-8"")])         return ""Success""     elif i==1:         start_response(""500 Internal Server Error"", [(""Content-Type"", ""text/html; charset=utf-8"")])         return ""Failure""     elif i==2:         start_response(""500 Internal Server Error"", [(""Content-Type"", ""text/html; charset=utf-8"")])         return ""Error"" </code></pre>  <p>Another option I suggest is Nginx + uWSGI. If you would prefer that, I can give you some examples of that as well. It gives you the benefit of incorporating the webserver into the setup.</p>"
11727145	How to set up Python server side with javascript client side	javascript|python	2012-07-30 18:10:37.067000 UTC	"<p>So there is already a Python program set up that runs on the console that I must build upon. I will be building a web GUI interface for the application using Javascript. How would I:</p>  <p>a. Go about handling the input/output of this Python program without touching the original code.</p>  <p>b. Go about sending console-line inputs to the Python program via Javascript calls. I've looked into raw HTTP requests/AJAX, but I'm not sure how exactly I would go about sending that as input to the Python program.</p>"	11729467	"<p>To pass transparently your data from javascript to external Python program you could use WebSocket protocol to connect your server and javascript, and use stdin/stdout to communicate with the external program from the server.</p>  <p>Here's an example Python program <code>client.py</code>:</p>  <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python """"""Convert stdin to upper case."""""" for line in iter(raw_input, 'quit'):     print line.upper() </code></pre>  <p>I've created a server using code from <a href=""https://gist.github.com/1380305"" rel=""nofollow noreferrer"">hello world websocket example</a> and SO answer about <a href=""https://stackoverflow.com/a/10941971/4279"">how to create a new process on each incoming connection and to redirect all input data to the process' stdin</a>:</p>  <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/python """"""WebSocket CLI interface."""""" import sys from twisted.application import strports # pip install twisted from twisted.application import service from twisted.internet    import protocol from twisted.python      import log from twisted.web.server  import Site from twisted.web.static  import File  from txws import WebSocketFactory # pip install txws   class Protocol(protocol.Protocol):     def connectionMade(self):         from twisted.internet import reactor         log.msg(""launch a new process on each new connection"")         self.pp = ProcessProtocol()         self.pp.factory = self         reactor.spawnProcess(self.pp, sys.executable,                              [sys.executable, '-u', 'client.py'])     def dataReceived(self, data):         log.msg(""redirect received data to process' stdin: %r"" % data)         self.pp.transport.write(data)     def connectionLost(self, reason):         self.pp.transport.loseConnection()      def _send(self, data):         self.transport.write(data) # send back   class ProcessProtocol(protocol.ProcessProtocol):     def connectionMade(self):         log.msg(""connectionMade"")     def outReceived(self, data):         log.msg(""send stdout back %r"" % data)         self._sendback(data)     def errReceived(self, data):         log.msg(""send stderr back %r"" % data)         self._sendback(data)     def processExited(self, reason):         log.msg(""processExited"")     def processEnded(self, reason):         log.msg(""processEnded"")      def _sendback(self, data):         self.factory._send(data)   application = service.Application(""ws-cli"")  _echofactory = protocol.Factory() _echofactory.protocol = Protocol strports.service(""tcp:8076:interface=127.0.0.1"",                  WebSocketFactory(_echofactory)).setServiceParent(application)  resource = File('.') # serve current directory INCLUDING *.py files strports.service(""tcp:8080:interface=127.0.0.1"",                  Site(resource)).setServiceParent(application) </code></pre>  <p>The web-client part, <code>sendkeys.html</code>:</p>  <pre><code>&lt;!doctype html&gt; &lt;title&gt;Send keys using websocket and echo the response&lt;/title&gt; &lt;script src=""http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js""&gt; &lt;/script&gt; &lt;script src=""sendkeys.js""&gt;&lt;/script&gt; &lt;input type=text id=entry value=""type something""&gt; &lt;div id=output&gt;Here you should see the typed text in UPPER case&lt;/div&gt; </code></pre>  <p>and <code>sendkeys.js</code>:</p>  <pre><code>// send keys to websocket and echo the response $(document).ready(function() {     // create websocket     if (! (""WebSocket"" in window)) WebSocket = MozWebSocket; // firefox     var socket = new WebSocket(""ws://localhost:8076"");      // open the socket     socket.onopen = function(event) {     socket.send('connected\n');      // show server response     socket.onmessage = function(e) {         $(""#output"").text(e.data);     }      // for each typed key send #entry's text to server     $(""#entry"").keyup(function (e) {         socket.send($(""#entry"").attr(""value"")+""\n"");     });     } }); </code></pre>  <p>To try it:</p>  <ul> <li><a href=""https://gist.github.com/5376c7eb494e57dd5052"" rel=""nofollow noreferrer"">download this gist</a></li> <li><p>install <code>twisted</code>, <code>txws</code>:</p>  <pre><code>$ pip install twisted txws </code></pre></li> <li><p>run:</p>  <pre><code>$ twistd -ny wscli.py </code></pre></li> <li><p>visit <code>http://localhost:8080/</code></p></li> <li><p>click on <code>sendkeys.html</code> and type something</p></li> </ul>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	11734457	"<p>You can use <a href=""https://developer.mozilla.org/en/JavaScript/Reference/Statements/for...in"" rel=""noreferrer""><code>for in</code></a></p>  <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2]}; for (var key in mydict){     alert(mydict[key]); } </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	11734462	"<p>In javascript, you use <code>for..in</code> to loop the properties of an object.</p>  <pre><code>var mydict = {     'a': [3,5,6,43,3,6,3,],     'b': [87,65,3,45,7,8],     'c': [34,57,8,9,9,2]  };  for (var key in mydict) {   console.log(mydict[key]); } </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	11734558	"<p><strong>Updated</strong><br> I've upvoted Adnan's answer as it was the first. I'm just posting a bit more details if it helps.</p>  <p>The <a href=""https://developer.mozilla.org/en/JavaScript/Reference/Statements/for...in"">for..in</a> loop is what you are looking for - </p>  <pre><code>var dictionary = {     id:'value',     idNext: 'value 2' }  for (var key in dictionary){     //key will be -&gt; 'id'     //dictionary[key] -&gt; 'value' } </code></pre>  <p>To get all the keys in the <code>dictionary</code> object, you can <code>Object.keys(dictionary)</code><br> This means, you can do the same thing in an array loop --  </p>  <pre><code>var keys = Object.keys(dictionary); keys.forEach(function(key){     console.log(key, dictionary[key]); }); </code></pre>  <p>This proves especially handy when you want to filter keys without writing ugly <code>if..else</code> loops.</p>  <pre><code>keys.filter(function(key){     //return dictionary[key] % 2 === 0;     //return !key.match(/regex/)     // and so on }); </code></pre>  <p><strong>Update</strong> -  To get all the values in the dictionary, currently there is no other way than to perform a loop. How you do the loop is a matter of choice though. Personally, I prefer  </p>  <pre><code>var dictionary = {     a: [1,2,3, 4],     b:[5,6,7] } var values = Object.keys(dictionary).map(function(key){     return dictionary[key]; }); //will return [[1,2,3,4], [5,6,7]] </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	18063034	"<p>With jQuery, there's a pretty one line version using $.map():</p>  <pre><code>var dict = {1: 2, 3: 4}; var values = $.map(dict, function(value, key) { return value }); var keys = $.map(dict, function(value, key) { return key }); </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	20995627	<p>if you want to get only the values the use the follwing code:</p>  <pre><code> for(keys in mydict){    var elements = mydict[keys];    console.log(elements);  } </code></pre>  <p>you can get Individual elements by index value in elements array.</p>
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	23780751	"<p><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values"" rel=""noreferrer"">Object.values()</a> is available in Firefox 47 and Chrome 51, here's a one-line polyfill for other browsers:</p>  <pre><code>Object.values = Object.values || function(o){return Object.keys(o).map(function(k){return o[k]})}; </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	24918313	"<p>Not trying to say that any of the other answers are wrong, but if you're not opposed to using an external library, <a href=""http://underscorejs.org/#values"">underscore.js</a> has a method for precisely this:</p>  <pre><code>_.values({one: 1, two: 2, three: 3}); // returns [1, 2, 3] </code></pre>"
11734417	Javascript equivalent of Python's values() dictionary method	javascript	2012-07-31 06:33:56.817000 UTC	"<p>In Python I can use the <code>.values()</code> method to iterate over the <em>values</em> of a dictionary.</p> <p>For example:</p> <pre><code>mydict = {'a': [3,5,6,43,3,6,3,],           'b': [87,65,3,45,7,8],           'c': [34,57,8,9,9,2],} values = mydict.values(): </code></pre> <p>Where <code>values</code> contains:</p> <pre><code>[     [3,5,6,43,3,6,3,],     [87,65,3,45,7,8],     [34,57,8,9,9,2], ] </code></pre> <p>How can I get only the values of the dictionary in Javascript?</p> <p>My original print example wasn't clear on what I'd like to do.  I only want a list/array of the values within the dictionary.</p> <p>I realize I can cycle through the list and create a new list of the values, but is there a better way?</p>"	28414954	"<p>In ES6, currently supported by default in Firefox and with flags in Chrome, you can do this:</p>  <pre><code>a = {'a': [3,5,6,43,3,6,3,],       'b': [87,65,3,45,7,8],       'c': [34,57,8,9,9,2]} values = [a[x] for (x in a)]; </code></pre>  <p><code>values</code> will now be the expected array.</p>  <p>This is also useful for <a href=""https://codegolf.stackexchange.com/questions/tagged/code-golf"">code golf</a>. Removing the spaces around <code>for</code> cuts it down to 17 characters.</p>"
11747527	How to connect Javascript to Python sharing data with JSON format in both ways?	javascript|python|json|web-services|sqlite	2012-07-31 19:25:25.713000 UTC	"<p>I'm trying to find out how to create a local connection between a Python server and a Javascript client using the JSON format for the data to be retrieved. Particularly, I need to make some queries on the HTML client side, send these queries to the server on JSON format and run them on the Python server side to search for data on a SQLite Database. And after getting the results from the database, send those results back to the client in JSON format too. </p>  <p>By now, I just can run the query on Python and code it on JSON like this:</p>  <pre><code>import sqlite3 as dbapi import json  connection = dbapi.connect(""C:/folder/database.db"") mycursor = connection.cursor() mycursor.execute(""select * from people"") results = [] for information in mycursor.fetchall():         results += information  onFormat = json.dumps(results) print(onFormat) </code></pre>  <p>I know this code does something alike (in fact it runs), because it calls a service on a server which returns data in JSON format (but the server in this example is NOT Python):</p>  <pre><code>&lt;html&gt;     &lt;head&gt;         &lt;style&gt;img{ height: 100px; float: left; }&lt;/style&gt;         &lt;script src=""http://code.jquery.com/jquery-latest.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div id=""images""&gt;&lt;/div&gt;     &lt;script&gt;       $.getJSON(""http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?"",       {         tags: ""mount rainier"",         tagmode: ""any"",         format: ""json""       },       function(data) {         $.each(data.items, function(i,item){           $(""&lt;img/&gt;"").attr(""src"", item.media.m).appendTo(""#images"");           if ( i == 3 ) return false;         });       });&lt;/script&gt;      &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>What I need is to know how should I run (locally) the python program to be an available running web-service and how should be the Javascript to retrieve the data from the python server. </p>  <p>I've looking for this on internet everywhere but I didn't find this answer anywhere because the only answers they give are on how to code JSON inside Python or inside Javascript but not connecting both. Hope somebody can help me on this!!!</p>"	11747597	"<p>Your question amounts to ""how do I make this python into a webservice"".</p>  <p>Probably the most lightweight ways to do that are <code>web.py</code> and <code>flask</code>. Check them out. </p>  <p>If this is getting bigger, consider <code>django</code> with <code>tastypie</code> - that's a simple way to make a json-based api.</p>  <p>Update: Apparently, there is also a python-javascript RPC framework called <a href=""https://github.com/fergalwalsh/pico"" rel=""noreferrer"">Pico</a>, to which Felix Kling is a contributor. The intro says:</p>  <blockquote>   <p>Literally add one line of code (import pico) to your Python module to   turn it into a web service that is accessible through the Javascript   (and Python) Pico client libararies.</p> </blockquote>"
11747527	How to connect Javascript to Python sharing data with JSON format in both ways?	javascript|python|json|web-services|sqlite	2012-07-31 19:25:25.713000 UTC	"<p>I'm trying to find out how to create a local connection between a Python server and a Javascript client using the JSON format for the data to be retrieved. Particularly, I need to make some queries on the HTML client side, send these queries to the server on JSON format and run them on the Python server side to search for data on a SQLite Database. And after getting the results from the database, send those results back to the client in JSON format too. </p>  <p>By now, I just can run the query on Python and code it on JSON like this:</p>  <pre><code>import sqlite3 as dbapi import json  connection = dbapi.connect(""C:/folder/database.db"") mycursor = connection.cursor() mycursor.execute(""select * from people"") results = [] for information in mycursor.fetchall():         results += information  onFormat = json.dumps(results) print(onFormat) </code></pre>  <p>I know this code does something alike (in fact it runs), because it calls a service on a server which returns data in JSON format (but the server in this example is NOT Python):</p>  <pre><code>&lt;html&gt;     &lt;head&gt;         &lt;style&gt;img{ height: 100px; float: left; }&lt;/style&gt;         &lt;script src=""http://code.jquery.com/jquery-latest.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div id=""images""&gt;&lt;/div&gt;     &lt;script&gt;       $.getJSON(""http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?"",       {         tags: ""mount rainier"",         tagmode: ""any"",         format: ""json""       },       function(data) {         $.each(data.items, function(i,item){           $(""&lt;img/&gt;"").attr(""src"", item.media.m).appendTo(""#images"");           if ( i == 3 ) return false;         });       });&lt;/script&gt;      &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>What I need is to know how should I run (locally) the python program to be an available running web-service and how should be the Javascript to retrieve the data from the python server. </p>  <p>I've looking for this on internet everywhere but I didn't find this answer anywhere because the only answers they give are on how to code JSON inside Python or inside Javascript but not connecting both. Hope somebody can help me on this!!!</p>"	11749466	"<p>Here's a ""hello world"" example of <a href=""http://flask.pocoo.org/"" rel=""noreferrer"">a flask web-application</a> that can serve static html and javascript files, search database using parameter from a javascript request, and return results to javascript as json:</p>  <pre class=""lang-py prettyprint-override""><code>import sqlite3 from flask import Flask, jsonify, g, redirect, request, url_for  app = Flask(__name__)  @app.before_request def before_request():     g.db = sqlite3.connect('database.db')  @app.teardown_request def teardown_request(exception):     if hasattr(g, 'db'):         g.db.close()  @app.route('/') def index():     return redirect(url_for('static', filename='page.html'))  @app.route('/json-data/') def json_data():     # get number of items from the javascript request     nitems = request.args.get('nitems', 2)     # query database     cursor = g.db.execute('select * from items limit ?', (nitems,))     # return json     return jsonify(dict(('item%d' % i, item)                         for i, item in enumerate(cursor.fetchall(), start=1)))  if __name__ == '__main__':     app.run(debug=True, host='localhost', port=5001) # http://localhost:5001/ else:     application = app # for a WSGI server e.g.,     # twistd -n web --wsgi=hello_world.application --port tcp:5001:interface=localhost </code></pre>  <p>The database setup code is from <a href=""http://flask.pocoo.org/docs/patterns/sqlite3/#using-sqlite-3-with-flask"" rel=""noreferrer"">Using SQLite 3 with Flask</a>.</p>  <p><code>static/page.html</code> and <code>static/json-jquery.js</code> files are from <a href=""http://www.jquery4u.com/json/ajaxjquery-getjson-simple/"" rel=""noreferrer"">Ajax/jQuery.getJSON Simple Example</a>, where the javascript code is modified slightly to pass a different url and <code>nitems</code> parameter:</p>  <pre><code>$(document).ready(function(){     $('#getdata-button').live('click', function(){         $.getJSON('/json-data', {'nitems': 3}, function(data) {             $('#showdata').html(""&lt;p&gt;item1=""+data.item1+"" item2=""+data.item2+"" item3=""+data.item3+""&lt;/p&gt;"");         });     }); }); </code></pre>"
11747527	How to connect Javascript to Python sharing data with JSON format in both ways?	javascript|python|json|web-services|sqlite	2012-07-31 19:25:25.713000 UTC	"<p>I'm trying to find out how to create a local connection between a Python server and a Javascript client using the JSON format for the data to be retrieved. Particularly, I need to make some queries on the HTML client side, send these queries to the server on JSON format and run them on the Python server side to search for data on a SQLite Database. And after getting the results from the database, send those results back to the client in JSON format too. </p>  <p>By now, I just can run the query on Python and code it on JSON like this:</p>  <pre><code>import sqlite3 as dbapi import json  connection = dbapi.connect(""C:/folder/database.db"") mycursor = connection.cursor() mycursor.execute(""select * from people"") results = [] for information in mycursor.fetchall():         results += information  onFormat = json.dumps(results) print(onFormat) </code></pre>  <p>I know this code does something alike (in fact it runs), because it calls a service on a server which returns data in JSON format (but the server in this example is NOT Python):</p>  <pre><code>&lt;html&gt;     &lt;head&gt;         &lt;style&gt;img{ height: 100px; float: left; }&lt;/style&gt;         &lt;script src=""http://code.jquery.com/jquery-latest.js""&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div id=""images""&gt;&lt;/div&gt;     &lt;script&gt;       $.getJSON(""http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?"",       {         tags: ""mount rainier"",         tagmode: ""any"",         format: ""json""       },       function(data) {         $.each(data.items, function(i,item){           $(""&lt;img/&gt;"").attr(""src"", item.media.m).appendTo(""#images"");           if ( i == 3 ) return false;         });       });&lt;/script&gt;      &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>What I need is to know how should I run (locally) the python program to be an available running web-service and how should be the Javascript to retrieve the data from the python server. </p>  <p>I've looking for this on internet everywhere but I didn't find this answer anywhere because the only answers they give are on how to code JSON inside Python or inside Javascript but not connecting both. Hope somebody can help me on this!!!</p>"	11989693	"<p>I found finally an easier way than Flask. It's a Python framework called <a href=""http://bottlepy.org/docs/dev/"" rel=""nofollow"">Bottle</a> You only need to download the library from the official web site and put all its files in your working directory in order to import the library. You can also install it using the setup python program included to avoid carrying with the sourcecode everywhere. Then, for making your Web Service Server you can code it like this:</p>  <pre><code>from bottle import hook, response, route, run, static_file, request import json import socket import sqlite3  #These lines are needed for avoiding the ""Access-Control-Allow-Origin"" errors @hook('after_request') def enable_cors():     response.headers['Access-Control-Allow-Origin'] = '*'  #Note that the text on the route decorator is the name of the resource # and the name of the function which answers the request could have any name @route('/examplePage') def exPage():     return ""&lt;h1&gt;This is an example of web page&lt;/h1&gt;&lt;hr/&gt;&lt;h2&gt;Hope you enjoy it!&lt;/h2&gt;""  #If you want to return a JSON you can use a common dict of Python,  # the conversion to JSON is automatically done by the framework @route('/sampleJSON', method='GET') def mySample():     return { ""first"": ""This is the first"", ""second"": ""the second one here"", ""third"": ""and finally the third one!"" }  #If you have to send parameters, the right sintax is as calling the resoure # with a kind of path, with the parameters separed with slash ( / ) and they  # MUST to be written inside the lesser/greater than signs  ( &lt;parameter_name&gt; )  @route('/dataQuery/&lt;name&gt;/&lt;age&gt;') def myQuery(name,age):     connection= sqlite3.connect(""C:/folder/data.db"")     mycursor = connection.cursor()     mycursor.execute(""select * from client where name = ? and age= ?"",(name, age))     results = mycursor.fetchall()     theQuery = []     for tuple in results:         theQuery.append({""name"":tuple[0],""age"":tuple[1]})     return json.dumps(theQuery)  #If you want to send images in jpg format you can use this below @route('/images/&lt;filename:re:.*\.jpg&gt;') def send_image(filename):     return static_file(filename, root=""C:/folder/images"", mimetype=""image/jpg"")  #To send a favicon to a webpage use this below @route('/favicon.ico') def favicon():     return static_file('windowIcon.ico', root=""C:/folder/images"", mimetype=""image/ico"")  #And the MOST important line to set this program as a web service provider is this run(host=socket.gethostname(), port=8000) </code></pre>  <p>Finally, you can call the REST web service of your Bottlepy app on  a Javascript client in this way:</p>  <pre><code>var addr = ""192.168.1.100"" var port = ""8000""  function makeQuery(name, age){     jQuery.get(""http://""+addr+"":""+port+""/dataQuery/""+ name+ ""/"" + age, function(result){         myRes = jQuery.parseJSON(result);         toStore= ""&lt;table border='2' bordercolor='#397056'&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;age&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;"";         $.each(myRes, function(i, element){             toStore= toStore+ ""&lt;tr&gt;&lt;td&gt;""+element.name+""&lt;/td&gt;&lt;td&gt;"" + element.age+ ""&lt;/td&gt;&lt;/td&gt;&lt;/tr&gt;"";         })         toStore= toStore+ ""&lt;/table&gt;""         $('#theDataDiv').text('');         $('&lt;br/&gt;').appendTo('#theDataDiv');         $(toStore).appendTo('#theDataDiv');         $('&lt;br/&gt;').appendTo('#theDataDiv');     }) } </code></pre>  <p>I hope it could be useful for somebody else</p>"
11748404	Python GTK + webkit - insert JavaScript after gtk.main()	python|webkit|gtk	2012-07-31 20:23:43.530000 UTC	"<p>I tried this in terminal and everything is OK, but if I run this inside script I can not insert JavaScript after gtk.main()</p>  <pre><code>import gtk import webkit  w = gtk.Window() b = webkit.WebView() w.add(b) b.open('http://example.com') w.show_all()  gtk.main() # this I don`t run inside terminal  #and after showing window I want to insert some JavaScript code  js = 'alert(""a"");' b.execute_script(js) </code></pre>  <p>How to solve this? Thanks in advance!</p>"	11754336	<p>gtk.main() will block until it receives a gtk.main_quit() is called or some other similar exit call.  Afraid you'll have to do all javascript insertions using either callbacks or before you call gtk.main().</p>  <p>Surprised you managed to run gtk.main() without it blocking until you hit Ctrl+C in the terminal.</p>
11748404	Python GTK + webkit - insert JavaScript after gtk.main()	python|webkit|gtk	2012-07-31 20:23:43.530000 UTC	"<p>I tried this in terminal and everything is OK, but if I run this inside script I can not insert JavaScript after gtk.main()</p>  <pre><code>import gtk import webkit  w = gtk.Window() b = webkit.WebView() w.add(b) b.open('http://example.com') w.show_all()  gtk.main() # this I don`t run inside terminal  #and after showing window I want to insert some JavaScript code  js = 'alert(""a"");' b.execute_script(js) </code></pre>  <p>How to solve this? Thanks in advance!</p>"	11774423	"<p>Well, this problem is actually quite classic in GUI programming and so it is the solution. Direct actions (e.g. press a button) as well as indirect actions (webkit browser finishing loading a page) need always to fire up actions (functions) that sit on different processes or different threads.</p>  <p>In this case you can use the <code>""load-finished""</code> event given by the <code>webkit</code> object <code>b</code>.</p>  <p>Once the web page has completed loading the associated function will fire up executing your JS code. This is what the code looks like:</p>  <pre><code>def load_finished(webview, frame):     js = 'alert(""a"");'     b.execute_script(js)  b = webkit.WebView() b.connect(""load-finished"", load_finished) </code></pre>"
11751401	Access python function from javascript in QWebView	qt|pyqt4|qwebview	2012-08-01 01:29:57.743000 UTC	"<p>I am writing a Python/PyQt4 application that generates and displays a page in a QWebView widget.  The page includes javascript code that I would like to be able to call functions returning data from the python application.  </p>  <p>So far I can call functions that do not return data (using the pyqtSlot decorator), and call functions that do take parameters by exposing them as properties (using the pyqtProperty decorator).  What I haven't worked out how to do is to call a python function with parameters, that returns data.</p>  <p>The question 9615194 explains how to do this from C++, but I cannot see how to transfer this to PyQt4.</p>"	11782711	"<p>I suspect you're not using the <code>result=</code> keyword to specify the return value in your <code>pyqtSlot</code> decorator?</p>  <pre><code>@pyqtSlot(str, result=str) def echo(self, phrase):     return self.parent().echo(phrase) </code></pre>  <p>I ran afoul of this myself recently. No errors are generated if you omit <code>result=</code>, the method just silently returns nothing. Pretty maddening 'til I figured it out. See my answer to <a href=""https://stackoverflow.com/questions/11731709/how-does-one-expose-methods-and-properties-on-dbus-using-a-qdbusabstractadaptor"">this question</a> for a worked example.</p>"
11804497	"Python 3, Web-scraping, and Javascript [Oh My]"	javascript|python|python-3.x|web-scraping	2012-08-03 23:20:25.643000 UTC	"<p>I have come to the point of entering the melee on web-scraping webpages using Javascript, with Python3. I am well aware that my boot may be making contact with a dead horse, but I feel like drawing my six-shooter anyway. It's a spaghetti western; be my gray hat?</p>  <p><strong>::Backstory::</strong></p>  <p>I am using Python 3.2.3.</p>  <p>I am interested in gathering historical stock//etf//mutual_fund price data for YTD, 1-yr, 3-yr, 5-yr 10-yr... and/or similar timeframes for a user-defined stock, etf, or mutual fund. I set my sites on Morningstar.com, as they tend to provide as much data as possible without necessarily requiring a log-in; other folks such as finance.google.com &amp;c tend to be inconsistent in what data they provide regarding stocks vs etfs vs mutual funds.</p>  <p>The trade-off in using Morningstar for this historical data, or ""Trailing Total Returns"" as they call it, is that for producing this data they use Javascript.</p>  <p>Here are some example links from Morningstar:</p>  <p><a href=""http://performance.morningstar.com/fund/performance-return.action?t=VHCOX"" rel=""nofollow"">A Mutual Fund;</a></p>  <p><a href=""http://performance.morningstar.com/funds/etf/total-returns.action?t=VAW"" rel=""nofollow"">An ETF;</a></p>  <p><a href=""http://performance.morningstar.com/stock/performance-return.action?t=INTC"" rel=""nofollow"">A Stock.</a></p>  <p>I am interested in the ""Trailing Returns"" portion, top row or so of numbers in the Javascript-produced chart.</p>  <p><strong>::Attempted So Far::</strong></p>  <p>I've confirmed that wget doesn't play with Javascript; even downloading all of the associated files [css, .js, &amp;c] hasn't allowed me to locally render the javascript in browser or in script. Research here on StackOverflow confirmed this. Am willing to be corrected here.</p>  <p>My research informed me that Mechanize doesn't exist for Python3. I tried anyway, and turned into Policeman Javert crying out ""I knew it!"" at the error message ""module does not exist"".</p>  <p><strong>::I've Heard Of...::</strong></p>  <p>->Selenium. However, my understanding is that this requires Thy Favorite Browser to actually open up a webpage, navigate around, and then not close because there's no ""close this tab//window"" command//option for Selenium. What if I//my_user want to get historical data for many etfs, stocks, and/or mutual funds? That's a lot of tabs//windows opening up in a browser which was not necessarily desired to be opened.</p>  <p>->httplib2. I think this is nice, but I'm doubtful if it will play with Javascript. Does it, for example using the .cache and get options?</p>  <pre><code>import httplib2 conn = httplib2.Http("".cache"") page = conn.request(u""http://the_url"",""GET"") </code></pre>  <p>->Windmill. See 'Selenium'. I am, however, off-key enough to sing 'Man of La Mancha'.</p>  <p>->Google's <a href=""http://code.google.com/p/webscraping/"" rel=""nofollow"">webscraping</a> code. Would an attempt at downloading a Javascript-laden page result in ... positive results?</p>  <p>I've read chatter about having to ""emulating a browser without a browser"". Sounds like Mechanize, but not for Python3 as I currently understand.</p>  <p><strong>::My Question::</strong></p>  <p>Any suggestions, pointers, solutions, or ""look over here"" directions?</p>  <p>Many thanks,</p>  <p>Miles, Dusty Desert Villager.</p>"	11804541	"<p>When a page loads data via javascript, it has to make requests to the server to get that data via the XMLHttpRequest function (XHR). You can see what requests they are making, and then make them yourself, using wget!</p>  <p>To find out which requests they are making, use the Web Inspector (Chrome and Safari) or Firebug (Firefox). Here's how to do it in Chrome:</p>  <p>wrench/tools/developer tools/Network (tab at the top of the tools)/XHR filter at the bottom.</p>  <p><a href=""http://performance.morningstar.com/Performance/fund/trailing-total-returns.action?t=VHCOX&amp;s=SPYZ&amp;ndec=2&amp;ep=true&amp;align=d&amp;annlz=true&amp;cur=USD&amp;region=USA&amp;culture=en-US&amp;ops=clear&amp;comparisonRemove=true&amp;loccat=&amp;taxadj=&amp;restr=true&amp;pageCacheFlag=true&amp;productCode=COM&amp;version=&amp;benchmarkSecId=&amp;benchmarktype="" rel=""noreferrer"">Here's an example request they make in javascript</a></p>  <p>If you look closely at the XHR request url, you notice that all trailing returns have the same format:</p>  <p><a href=""http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t="" rel=""noreferrer"">http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=</a></p>  <p>You just need to specify <code>t</code>. For example:</p>  <p><a href=""http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=VAW"" rel=""noreferrer"">http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=VAW</a> <a href=""http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=INTC"" rel=""noreferrer"">http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=INTC</a> <a href=""http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=VHCOX"" rel=""noreferrer"">http://performance.morningstar.com/Performance/cef/trailing-total-returns.action?t=VHCOX</a></p>  <p>Now you can <code>wget</code> those URIs and parse out the data directly.</p>"
11823529	cross-site scripting filter blocking my attempt to save javascript variable to mysql db using python cgi script	javascript|python|webkit|cgi|xss	2012-08-06 06:36:09.170000 UTC	"<p>The main objective I have is to save a javascript variable to a mysql db using a python cgi script.  This is the contents of the js variable:</p>  <pre><code>&lt;li style=""width: 300px; background-color: white; list-style-image: url(http://champ/images/plus.gif); ""&gt;Costco    &lt;input style=""float: right; display: none; "" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;   &lt;ul style=""display: none; ""&gt;     &lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Cheese         &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;         &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;     &lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Milk         &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;         &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;     &lt;li style=""width: 300px; cursor: default; list-style-image: none; ""&gt;Pretzels         &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;         &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;         &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;   &lt;/ul&gt; &lt;/li&gt; &lt;li style=""width: 300px; background-color: white; list-style-image: url(http://champ/images/plus.gif); ""&gt;Walmart   &lt;input style=""float: right; display: none; "" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;   &lt;input style=""float: right; margin-right: 7px; display: none; "" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;   &lt;ul style=""display: none; ""&gt;     &lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Bread        &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;       &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;&lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Bannanas        &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;       &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;&lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Cereal        &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;       &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt;     &lt;/li&gt;&lt;li style=""width: 300px; background-color: white; cursor: default; list-style-image: none; ""&gt;Tortillas        &lt;input style=""float:right;"" type=""image"" src=""/images/next_level.png"" alt=""Submit button"" onclick=""newLevel(this)""&gt;       &lt;input style=""float:right; margin-right: 7px;"" type=""image"" src=""/images/b_add.png"" alt=""Submit button"" onclick=""addItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_edit.png"" alt=""Submit button"" onclick=""editItem(this)""&gt;       &lt;input style=""float:right; margin-right: 7px"" type=""image"" src=""/images/b_drop.png"" alt=""Submit button"" onclick=""delItem(this)""&gt; </code></pre>  <p></li> </li></p>  <p>As you can see I am trying to save my shopping list to the db.  As I understand the cross-site scripting filter problem, the problem arises when you send js via the http post method and then the same code comes back via the http response.  Maybe I'm missunderstanding the problem because I don't see any js in this block of code, do you?</p>  <p>So I was hoping to write the contents of this js variable to a hidden input form element and submit the form:</p>  <pre><code>   function saveList()   {      var list = $('ul').html();      document.getElementById(""html_passed"").value = list;      document.forms[""editsForm""].submit();   } </code></pre>  <p>Here is the form definition:</p>  <pre><code>&lt;form name=""editsForm"" action=""/cgi-bin/todo2.py"" method=""post""&gt;   ...   &lt;input id=""html_passed"" type=""hidden"" name=""html_passed""&gt;   ... &lt;/form&gt; </code></pre>  <p>Then read the value of this form element when the python cgi script (todo2.py) is executed:</p>  <pre><code>form = cgi.FieldStorage()  if form.keys() != []:   if 'html_passed' in form.keys(): </code></pre>  <p>Then place this block of code in a mysql db via MySQLdb.  However, when I try to read the form contents with <code>form = cgi.FieldStorage()</code> I get the following error in the webkit console:</p>  <pre><code> Refused to execute a JavaScript script. Source code of script found within request. </code></pre>  <p>So, I'm in a bit of a jam.  I've found some info on cross-site scripting <a href=""https://stackoverflow.com/questions/1547884/refused-to-execute-a-javascript-script-source-code-of-script-found-within-reque"">workarounds</a>, but I don't know how to send a non-standard HTTP header in python or if it can even be done.  I see that it can be done in php with <code>header(""X-XSS-Protection: 0"");</code>.  But I'd rather not mess with that if there is some other way to workaround this problem.  Any ideas would be greatly appreciated.  Thanks.</p>"	11839869	"<p>I decided to bone up on my javascript/jquery skills.  I discovered that it was indeed the onclicks that were causing the issue.  So as a workaround I removed them with before submitting the form:</p>  <pre><code>  function rmOnClicks()   {     console.log('entered rmOnClicks()')     $('li').children().each(function(index)      {       $(this).removeAttr(""onclick"");       //alert($(this).text());     });   } </code></pre>  <p>Then I added them back in when I recalled the data from the db with:</p>  <pre><code>function addOnClicks()   {     console.log('entered rmOnClicks()')     $('li').children().each(function(index)      {       var src = $(this).attr('src');              if (src == ""/images/b_drop.png"")        {         $(this).removeAttr(""onclick"");         $(this).attr('onclick','delItem(this)')       }       else if (src == ""/images/b_edit.png"")        {         $(this).removeAttr(""onclick"");         $(this).attr('onclick','editItem(this)')       }       else if (src == ""/images/b_add.png"")        {         $(this).removeAttr(""onclick"");         $(this).attr('onclick','addItem(this)')       }       else if (src == ""/images/next_level.png"")        {         $(this).removeAttr(""onclick"");         $(this).attr('onclick','newLevel(this)')       }      });      var list = $('ul').html();     console.log(list); } </code></pre>  <p>It is a bit of a kludge, but I think it is pretty robust.  If you have other ideas I would still like to hear them.  Thanks.      </p>"
11885190	How do you get information from an iframe? (javascript and/or python)	javascript|python|iframe	2012-08-09 14:01:42.677000 UTC	"<p>The only programming language I really know right now is python. I am pretty new to javascript. Right now, I'm trying to make a simple program that goes through a website and gathers information for me. </p>  <p>On the website, there is a long list of links to other pages. If you hover near one, another link will come up on the side that says ""Find Dupes"" (short for duplicates). I found this in the page source:</p>  <pre><code>&lt;a href=""javascript:void(0)"" onclick=""getDuplictes(1020347166, true)""&gt;Find Dupes&lt;/a&gt; </code></pre>  <p>So when you click on the javascript link, an iframe will pop up:</p>  <pre><code>&lt;/div&gt;   &lt;/center&gt;  &lt;div id=""ActionDiv"" style=""position: absolute;z-index: 400; width:400; display:none""&gt;  &lt;iframe id=""ActionFrame"" src="""" style=""width:400;height:400"" scrolling=""no""         frameborder=""0"" &gt;&lt;/iframe&gt; &lt;/div&gt;  &lt;div id=""DuplicatesDiv"" style=""position: absolute;z-index: 200; width:600; display:none""&gt; &lt;iframe id=""DuplicatesFrame"" src="""" style=""width:600;height:400"" scrolling=""auto"" frameborder=""0"" &gt;&lt;/iframe&gt; &lt;/div&gt;  &lt;script&gt; function getDuplictes(placeId, findInLoca, feedId){  if(isUndefined(feedId)){     feedId = 0; }  if(isUndefined(findInLoca)){     duplicatesUrl = ""/places/duplicates.jsp?inPID="" + placeId + ""&amp;inFeedID="" + feedId; }else{     duplicatesUrl = ""/places/duplicates.jsp?inPID="" + placeId + ""&amp;inFindInLoca="" + findInLoca +  ""&amp;inFeedID="" + feedId; }  showFrameDiv( duplicatesUrl, ""DuplicatesFrame"", ""DuplicatesDiv"", ""LocaBlur"") } &lt;/script&gt; </code></pre>  <p>And the information will be different each time, based on which link you click.</p>  <p>What I want to do is somehow get the information that is displayed in the iframe in an organized, readable form without actually opening and using the web browser. I want to be able to look at the content of one iframe, decide if I need it or not, and click next to see the next one. There are about 100 of these ""Find Dupes"" iframes per page and maybe 50 pages. Anyway, my main problem is how to get the content of the specific iframe using python or javascript or something (I'm clueless with javascript...)</p>  <p>Thanks.</p>"	11885320	"<p>With python you could use <a href=""http://packages.python.org/pyquery/"" rel=""nofollow"">PyQuery</a> to get the <code>onclick</code> attribute of each anchor tag, parse that with a regular expression to get the <code>placeId</code>, build the <code>/places/duplicates.jsp?inPID=</code> URL yourself, use <a href=""http://docs.python-requests.org/en/latest/index.html"" rel=""nofollow"">requests</a> to load the content at that URL, then PyQuery again on the content to get the data you need.</p>"
11927604	Migrate from JavaScript to Python on Google Apps	javascript|python|google-apps-script	2012-08-13 02:40:01.180000 UTC	"<p>I've inherited a fairly complex Googledoc spreadsheet with some scripted functionality implemented in the Google App Engine. The original coder used the JavaScript environment. Personally, I'm more comfortable with Python and I'm running into all kinds of weird errors on the JavaScript environment.</p>  <p>I'd like to just scrap what we have and rewrite the same scripts in Python, an exercise in translation, if you will...I'm wondering if there's a way to do that keeping the original spreadsheet so I don't have to recreate all the existing spreadsheet structure (several tabs, each with built-in conditional formatting, filters, etc. not to mention a length and complex submission form).</p>  <p>So, in short, I'd like to switch from JavaScript to Python in GAE -- is it possible? If so, how? If not, is there a way to copy the whole spreadsheet but start fresh with a blank Python script?</p>  <p>Thanks in advance.</p>"	11927684	"<p>From what I can tell, the JavaScript-like language is the only one offered for Google Apps Script.</p>  <p>You seem to have confused it with Google App Engine, which is a platform-as-a-service that you can use to write your own applications, and offers Java, Python, and Go runtime environments. It is not a scripting language for Google Apps products such as Docs spreadsheets; that's what Apps Script is for.</p>"
11939245	Not working javascript on AJAX in Python	javascript|jquery|html|ajax	2012-08-13 17:25:04.013000 UTC	"<p>I hava a HTML program which uses AJAX.THe responseText of the AJAX will be printed on a DIV. Inside that DIV already exist a <code>&lt;input tpe=""text value="""" id=""fechaD"" /&gt;</code>. I have a JQuery function that is called when the input is clicked. Obviously, that input will be replaced by the responseText of the AJAX, so I added again on the responseText. The problem comes that now the JQuery does not work.</p>  <p>I dont know if the <code>&lt;script type=""text/javascript""&gt;</code> with the jQery function should be outside the DIV so it wont be replaced by the response of AJAX, or should be added again as a responseText. I already try both and wont worked.</p>  <p>I have tried this whithout using jQuery and it works, so I think this should have something to do whith my function in jQuery, but my problem is that I didnt programmed that function, because I dont know anything abaout jQuery.</p>  <p>Here is the jQuery Function that works when the input in onclicked:</p>  <p>(The function looks for the ID=""fechaD"" and displays a Calendar. When the User selects any date, then the date will appear as the input's value. After using AJAX, it wont detect the new ID=""fechaD"" input).</p>  <pre><code>    &lt;script type=""text/javascript""&gt;         jQuery(function($){             $.datepicker.regional['es'] = {                 monthNames: ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],                 dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','S&amp;aacute;'],             };             $.datepicker.setDefaults($.datepicker.regional['es']);         });             $(document).ready(function() {                 $(""#fechaD"").datepicker();         });     &lt;/script&gt; </code></pre>"	11939311	"<p>If you replace the <code>#fechaD</code> input, the new one will no longer have a <code>datepicker</code> instance associated with it.</p>  <p>To solve it, you can either:</p>  <ol> <li>Call <code>$('#fechaD').datepicker();</code> again after replacing it (creates a new datepicker instance);</li> <li>Move the <code>#fechaD</code> input outside of the area which you're replacing (recommended).</li> </ol>"
11939245	Not working javascript on AJAX in Python	javascript|jquery|html|ajax	2012-08-13 17:25:04.013000 UTC	"<p>I hava a HTML program which uses AJAX.THe responseText of the AJAX will be printed on a DIV. Inside that DIV already exist a <code>&lt;input tpe=""text value="""" id=""fechaD"" /&gt;</code>. I have a JQuery function that is called when the input is clicked. Obviously, that input will be replaced by the responseText of the AJAX, so I added again on the responseText. The problem comes that now the JQuery does not work.</p>  <p>I dont know if the <code>&lt;script type=""text/javascript""&gt;</code> with the jQery function should be outside the DIV so it wont be replaced by the response of AJAX, or should be added again as a responseText. I already try both and wont worked.</p>  <p>I have tried this whithout using jQuery and it works, so I think this should have something to do whith my function in jQuery, but my problem is that I didnt programmed that function, because I dont know anything abaout jQuery.</p>  <p>Here is the jQuery Function that works when the input in onclicked:</p>  <p>(The function looks for the ID=""fechaD"" and displays a Calendar. When the User selects any date, then the date will appear as the input's value. After using AJAX, it wont detect the new ID=""fechaD"" input).</p>  <pre><code>    &lt;script type=""text/javascript""&gt;         jQuery(function($){             $.datepicker.regional['es'] = {                 monthNames: ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],                 dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','S&amp;aacute;'],             };             $.datepicker.setDefaults($.datepicker.regional['es']);         });             $(document).ready(function() {                 $(""#fechaD"").datepicker();         });     &lt;/script&gt; </code></pre>"	11939316	"<p>It looks like you have two $(document).ready functions. $(function() { }); is the same thing as $(document).ready. So is jQuery(function($){});</p>  <p>Maybe try combining them.</p>  <pre><code>  &lt;script type=""text/javascript""&gt;               $(document).ready(function() {                 $.datepicker.regional['es'] = {                     monthNames:   ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],                     dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','S&amp;aacute;'],                 };                 $.datepicker.setDefaults($.datepicker.regional['es']);                  $(""#fechaD"").datepicker();             });         &lt;/script&gt; </code></pre>"
11949767	How can I get the return value of this JavaScript function in Python?	javascript|python|html	2012-08-14 09:50:14.277000 UTC	"<p>We have a program which runs either on a live environment or on a test environment. The only difference is that the URL on the test environment contains ""/test/"". When in the test environment, some functions cause it to switch to the live environment (when the URL was hard coded!), so I'm trying to fix that.</p>  <p>I have created this function in JavaScript:</p>  <pre><code>function GetTestMode() {     // If ""/test/"" exists in URL, keep it there (we are in test mode).     var currentURL = document.URL;     var sTestMode = """";     if (currentURL.indexOf(""/test/"") != -1)     {     // test mode (according to URL)       sTestMode = ""test/"";     }     return sTestMode; } </code></pre>  <p>This is used by the JavaScript functions and works as expected.</p>  <p>However, most of the UI code is in Python (creating HTML). So I want to get this JavaScript result in Python. So far I have:</p>  <pre><code>import cgi import os import sys import re  def DrawUI (self, short=False):     print '&lt;br /&gt;'     print '&lt;div class=""box2""&gt;'     print '&lt;table cellspacing=0 cellpadding=0 border=""0""&gt;'     print '&lt;tr&gt;'      sTestMode = ""test mode = %s"" % ('&lt;a href=""javascript:GetTestMode()"" &gt;')     print 'sTestMode = ' + sTestMode + '&lt;br /&gt;' </code></pre>  <p>This causes the print statements following this code (which can even be <code>print 'hello world'</code>) to become a link which, if I click on it, displays the correct return value from the JavaScript function in the browser.</p>  <p>How can I get <code>sTestMode</code> to contain the return value (without user interaction)?</p>"	11984072	"<p>I assume you are using <a href=""http://www.modpython.org/live/current/doc-html/"" rel=""nofollow"">mod_python</a>.</p>  <p>Here's a hacked up example how to get the Javascript variable to the server.</p>  <p>In Python, using the <a href=""http://webpython.codepoint.net/cgi_unique_field_names"" rel=""nofollow"">cgi module</a>:</p>  <pre><code>form = cgi.FieldStorage() sTestMode = form.getfirst('sTestMode') sTestMode = cgi.escape(sTestMode)  # Avoid script injection escaping the user input </code></pre>  <p>In JavaScript, using JQuery (not sure if this is correct, maybe some JQuery guru can fix this if wrong):</p>  <pre><code>var filename = '/url/to/your/script'; $.ajax({   url: filename + '?sTestMode=' + sTestMode,   type: 'GET' }); </code></pre>  <p>If you have problem implementing the Javascript version you can make sure your Python script is correct by calling <code>/url/to/your/script?sTestMode=something_funny</code> in your browser.</p>  <p>However, you should read up the concepts of <a href=""http://en.wikipedia.org/wiki/Common_Gateway_Interface"" rel=""nofollow"">CGI</a>, <a href=""http://en.wikipedia.org/wiki/Ajax_%28programming%29"" rel=""nofollow"">Ajax</a> and how <a href=""http://www.modpython.org/live/current/doc-html/"" rel=""nofollow"">mod_python</a> works.</p>"
11959895	Send data from Python to Javascript (JSON)	javascript|python|json	2012-08-14 20:03:52.187000 UTC	"<p>I know JSON to solve this problem, but I have problems in implementing it. Here is the detail of my approach:</p>  <ol> <li>Data are calculated in Python</li> <li>Since the size of data is dynamic, so I need to use JavaScript to create extra HTML table rows for my outputs. As a result, I need to pass data from Python to JavaScript to let Javascript to 'see' the data.</li> </ol>  <p>HTML Code (below is a section of my HTML code to create the output page):</p>  <pre><code>class OutputPage(webapp.RequestHandler):     def func (a,b):         return a+b #just an example      def get(self):         form = cgi.FieldStorage()          chem_name = form.getvalue('chemical_name')         Para1 = form.getvalue('Para1')  #get values from input page--user inputs         Para1 = float(Para1)         Para2 = form.getvalue('Para2')  #get values from input page--user inputs         Para2 = float(Para2)         out = func (Para1,Para1)         out_json=simplejson.dumps(out)  # I need to send out to JavaScript         #writ output page         templatepath = os.path.dirname(__file__) + '/../templates/'         html = html + template.render (templatepath + 'outputpage_start.html', {})         html = html + template.render (templatepath + 'outputpage_js.html', {})                        html = html + """"""&lt;table width=""500"" class='out', border=""1""&gt;                           &lt;tr&gt;                               &lt;td&gt;parameter 1&lt;/td&gt;                             &lt;td&gt;&amp;nbsp&lt;/td&gt;                                                         &lt;td&gt;%s&lt;/td&gt;                           &lt;/tr&gt;                           &lt;tr&gt;                               &lt;td&gt;parameter 2&lt;/td&gt;                             &lt;td&gt;&amp;nbsp&lt;/td&gt;                                                         &lt;td&gt;%s&lt;/td&gt;                           &lt;/tr&gt;                                                                                 &lt;/table&gt;&lt;br&gt;""""""%(Para1, Para2)         html = html + template.render(templatepath + 'outputpage_end.html', {})         #attempt to 'send' Python data (out_json) to JavaScript, but I failed.         html = html + template.render({""my_data"": out_json})           self.response.out.write(html)  app = webapp.WSGIApplication([('/.*', OutputPage)], debug=True) </code></pre>  <p>JavaScript Code (I use JavaScript to create additional inputs tables on the fly filename:'outputpage_js.html'):</p>  <pre><code>&lt;script&gt; &lt;script type='text/javascript'&gt;   $(document).ready(function(){     //I assume if my Json statement works, I should be able to use the following argument to create a HTML row     $('&lt;tr&gt;&lt;td&gt;Parameter 2&lt;/td&gt;&lt;td&gt;&amp;nbsp&lt;/td&gt;&lt;td&gt;out_json&lt;/td&gt;').appendTo('.app')     &lt;/script&gt;     </code></pre>  <p>Thanks for the help!    </p>"	11959958	"<p>you don't have to ""implement"" JSON, python comes with a built in lib, called <code>simplejson</code>, which you can feed with normal dicts:</p>  <pre><code>try:    import simplejson as json except:   import json out = {'key': 'value', 'key2': 4} print json.dumps(out) </code></pre>  <p><strong>EDIT:</strong> as tadeck pointed out, simplejson <em>should</em> be more up-to-date and is not equal to json, but there is a chance, simplejson is not available due to it is maintained externaly</p>  <p><strong>EDIT 2:</strong> based on the discussion in this answer and the discussion on the page, i think, the best approach would be something like that:</p>  <p><em>python</em></p>  <pre><code># [...] generate dynamic data [...] html = html + template.render (templatepath + 'outputpage_start.html', {}) html = html + template.render (templatepath + 'outputpage_js.html', {})                html = html + """"""&lt;table width=""500"" class='out' border=""1"" data-dynamic=""%s""&gt;"""""" % json.dumps(your_generated_data_dict) #tr/td elements and templating as needet self.response.out.write(html) </code></pre>  <p><em>javascript</em></p>  <pre><code>$(function(){     var your_generated_table = $('table'),         dynamic_data = JSON.parse(your_generated_table.attr('data-dynamic')); }); </code></pre>  <p>you then have the exact same structure your python dict has as a javascript object.</p>"
11963043	Python - Handling a javascript URL?	javascript|python|html|pyquery	2012-08-15 01:37:38.060000 UTC	"<p>I am trying to download the html of a page that is requested through javascript and normally, by clicking a link in the browser. I can download the first page because it has a general URL:</p>  <pre><code>http://www.locationary.com/stats/hotzone.jsp?hz=1 </code></pre>  <p>But there are links along the bottom of the page that are numbers (1 to 10). So if you click on one, it goes to, for example, page 2:</p>  <pre><code>http://www.locationary.com/stats/hotzone.jsp?ACTION_TOKEN=hotzone_jsp$JspView$NumericAction&amp;inPageNumber=2 </code></pre>  <p>When I put that URL into my program and try to download the html, it gives me the html of a different page on the website and I think it is the home page.</p>  <p>How can I get the html of this URL that uses javascript and when there is no specific URL?</p>  <p>Thanks.</p>  <p>P.S. I am using urllib/urllib2 and cookielib.</p>  <p>Also, I just found something called PyQuery? Could I use that? And how would I do it?</p>  <p>Code:</p>  <pre><code>import urllib import urllib2 import cookielib import re  URL = ''  def load(url):      data = urllib.urlencode({""inUserName"":""email"", ""inUserPass"":""password""})     jar = cookielib.FileCookieJar(""cookies"")     opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(jar))     opener.addheaders.append(('User-agent', 'Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0.1'))     opener.addheaders.append(('Referer', 'http://www.locationary.com/'))     opener.addheaders.append(('Cookie','site_version=REGULAR'))     request = urllib2.Request(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"", data)     response = opener.open(request)     page = opener.open(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"").read()      h = response.info().headers     jsid = re.findall(r'Set-Cookie: (.*);', str(h[5]))     data = urllib.urlencode({""inUserName"":""email"", ""inUserPass"":""password""})     jar = cookielib.FileCookieJar(""cookies"")     opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(jar))     opener.addheaders.append(('User-agent', 'Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0.1'))     opener.addheaders.append(('Referer', 'http://www.locationary.com/'))     opener.addheaders.append(('Cookie','site_version=REGULAR; ' + str(jsid[0])))     request = urllib2.Request(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"", data)     response = opener.open(request)     page = opener.open(url).read()     print page  load(URL) </code></pre>"	11963090	"<p>See the project Splinter, maybe It's useful: <a href=""http://splinter.cobrateam.info/"" rel=""nofollow"">http://splinter.cobrateam.info/</a></p>"
11963043	Python - Handling a javascript URL?	javascript|python|html|pyquery	2012-08-15 01:37:38.060000 UTC	"<p>I am trying to download the html of a page that is requested through javascript and normally, by clicking a link in the browser. I can download the first page because it has a general URL:</p>  <pre><code>http://www.locationary.com/stats/hotzone.jsp?hz=1 </code></pre>  <p>But there are links along the bottom of the page that are numbers (1 to 10). So if you click on one, it goes to, for example, page 2:</p>  <pre><code>http://www.locationary.com/stats/hotzone.jsp?ACTION_TOKEN=hotzone_jsp$JspView$NumericAction&amp;inPageNumber=2 </code></pre>  <p>When I put that URL into my program and try to download the html, it gives me the html of a different page on the website and I think it is the home page.</p>  <p>How can I get the html of this URL that uses javascript and when there is no specific URL?</p>  <p>Thanks.</p>  <p>P.S. I am using urllib/urllib2 and cookielib.</p>  <p>Also, I just found something called PyQuery? Could I use that? And how would I do it?</p>  <p>Code:</p>  <pre><code>import urllib import urllib2 import cookielib import re  URL = ''  def load(url):      data = urllib.urlencode({""inUserName"":""email"", ""inUserPass"":""password""})     jar = cookielib.FileCookieJar(""cookies"")     opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(jar))     opener.addheaders.append(('User-agent', 'Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0.1'))     opener.addheaders.append(('Referer', 'http://www.locationary.com/'))     opener.addheaders.append(('Cookie','site_version=REGULAR'))     request = urllib2.Request(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"", data)     response = opener.open(request)     page = opener.open(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"").read()      h = response.info().headers     jsid = re.findall(r'Set-Cookie: (.*);', str(h[5]))     data = urllib.urlencode({""inUserName"":""email"", ""inUserPass"":""password""})     jar = cookielib.FileCookieJar(""cookies"")     opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(jar))     opener.addheaders.append(('User-agent', 'Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0.1'))     opener.addheaders.append(('Referer', 'http://www.locationary.com/'))     opener.addheaders.append(('Cookie','site_version=REGULAR; ' + str(jsid[0])))     request = urllib2.Request(""https://www.locationary.com/index.jsp?ACTION_TOKEN=tile_loginBar_jsp$JspView$LoginAction"", data)     response = opener.open(request)     page = opener.open(url).read()     print page  load(URL) </code></pre>"	11963442	"<p>I haven't used it myself, but I have heard good things about <a href=""http://docs.python-requests.org/en/latest/user/quickstart/#passing-parameters-in-urls"" rel=""nofollow"">Requests</a>.</p>"
12014050	Python-Javascript Hash library to make sure that a JSON object did not get corrupted in transit	javascript|python|hash|corruption|validation	2012-08-17 22:35:30.117000 UTC	"<p>Is there a library available that can help make sure that JSON objects being sent back and forth between a server running Python and a Javascript client have not been corrupted?</p>  <p>I'm thinking it would probably work by creating a hash of the object to be sent a long with the object. Then the receiver of the object could re-hash the object ans make sure that it matches the hash that it received.</p>  <p>Is this something that I should even be concerned about, or is this something that browsers and clients normally have taken care of behind the scenes anyway?</p>  <p>Thanks!</p>"	12014082	"<p>TCP has built-in error checking, and so do most link layer network protocols. So there's both per-link and end-to-end checks taking place. The only thing this doesn't protect against is intentional modification of the data, e.g. by a firewall, proxy, or network hacker. However, they can modify the hash as well as the JSON, so adding a hash doesn't protect against them. If you need real, secure protection you need to use cryptography, e.g. SSL.</p>"
12052844	Extract translator comments with xgettext from JavaScript (in Python mode)	javascript|python|gettext|xgettext	2012-08-21 10:21:00.823000 UTC	"<p>I have a pretty well-working command that extracts strings from all my .js and .html files (which are just Underscore templates). However, it doesn't seem to work for Translator comments.</p>  <p>For example, I have this in one of my .js files:</p>  <pre><code>/// TRANSLATORS: The word ""manual"" stands for manual process gettext(""manual""); </code></pre>  <p>Using the following command:</p>  <pre><code>find . -iname '*.html' -o -iname '*.js' | xargs xgettext --language=Python --from-code=utf-8 --keyword=pgettext:1c,2 --keyword=npgettext:1c,2,3 --add-comments=/  </code></pre>  <p>xgettext should extract the comment from the .js file and put it into my .po file like this:   </p>  <pre><code>#. TRANSLATORS: The word ""manual"" stands for manual process #: tax.js:200  msgid ""manual""     msgstr """"  </code></pre>  <p>But it doesn't. Am I doing something wrong here or are translator comments just not working in Python mode? </p>  <p><strong>EDIT:</strong> I have accepted John Flatness' answer as the correct one, however <strong>I did find a workaround</strong> that enables me to still use the Python mode and extract translator comments. It's not perfect, because it actually leaves some of the syntax inside the comments:</p>  <p>In my <code>tax.js</code> file:</p>  <pre><code>/* # This is a translator comment */ gettext(""What is this?""); </code></pre>  <p>Run this command:</p>  <pre><code>find . -iname '*.html' -o -iname '*.js' | xargs xgettext --language=Python --from-code=utf-8 --keyword=pgettext:1c,2 --keyword=npgettext:1c,2,3 -c </code></pre>  <p>Result in .po file:</p>  <pre><code>#. This is a translator comment */ #: tax.js:201 msgid ""What is this?"" msgstr """" </code></pre>  <p>As You can see, the only problems are that:</p>  <ol> <li>I have to write the comment in 2 lines</li> <li>The comment terminator <code>*/</code> is left in the translator comments</li> </ol>  <p>This should not be much of an issue in most cases, though.</p>"	12061639	"<p>The problem is that you're telling <code>xgettext</code> that the source is Python, when it's really JavaScript.</p>  <p>This may make it work ""well enough"" for many cases, but I'd assume what's tripping things up here is that Python doesn't do one-liner comments with <code>//</code>, it uses <code>#</code>.</p>  <p>There's a <a href=""https://github.com/AndyStricker/gettext-javascript"" rel=""noreferrer"">project on Github</a> that adds javascript support to the gettext tools. I'm not sure of its current status, and you'd have to build from source to use it. Otherwise, I suppose you could try other languages that <code>xgettext</code> does support that have more C/C++/Java-like syntax.</p>"
12052844	Extract translator comments with xgettext from JavaScript (in Python mode)	javascript|python|gettext|xgettext	2012-08-21 10:21:00.823000 UTC	"<p>I have a pretty well-working command that extracts strings from all my .js and .html files (which are just Underscore templates). However, it doesn't seem to work for Translator comments.</p>  <p>For example, I have this in one of my .js files:</p>  <pre><code>/// TRANSLATORS: The word ""manual"" stands for manual process gettext(""manual""); </code></pre>  <p>Using the following command:</p>  <pre><code>find . -iname '*.html' -o -iname '*.js' | xargs xgettext --language=Python --from-code=utf-8 --keyword=pgettext:1c,2 --keyword=npgettext:1c,2,3 --add-comments=/  </code></pre>  <p>xgettext should extract the comment from the .js file and put it into my .po file like this:   </p>  <pre><code>#. TRANSLATORS: The word ""manual"" stands for manual process #: tax.js:200  msgid ""manual""     msgstr """"  </code></pre>  <p>But it doesn't. Am I doing something wrong here or are translator comments just not working in Python mode? </p>  <p><strong>EDIT:</strong> I have accepted John Flatness' answer as the correct one, however <strong>I did find a workaround</strong> that enables me to still use the Python mode and extract translator comments. It's not perfect, because it actually leaves some of the syntax inside the comments:</p>  <p>In my <code>tax.js</code> file:</p>  <pre><code>/* # This is a translator comment */ gettext(""What is this?""); </code></pre>  <p>Run this command:</p>  <pre><code>find . -iname '*.html' -o -iname '*.js' | xargs xgettext --language=Python --from-code=utf-8 --keyword=pgettext:1c,2 --keyword=npgettext:1c,2,3 -c </code></pre>  <p>Result in .po file:</p>  <pre><code>#. This is a translator comment */ #: tax.js:201 msgid ""What is this?"" msgstr """" </code></pre>  <p>As You can see, the only problems are that:</p>  <ol> <li>I have to write the comment in 2 lines</li> <li>The comment terminator <code>*/</code> is left in the translator comments</li> </ol>  <p>This should not be much of an issue in most cases, though.</p>"	30515371	"<p>The way to get the ""translator comment"" without any pollution, is to add a hash <code>#</code> after the javascript comment start <code>//</code>, this way xgettext will interpret everything after it as a normal Python comment.</p>  <p>Try this:</p>  <pre><code>//# This is a translation comment console.log(_('Some String')); </code></pre>  <p>And extract with xtext like:</p>  <pre><code>xgettext --language=Python --from-code=utf-8 --force-po -c -o file.po file.js </code></pre>  <p>This will create the PO as follows:</p>  <pre><code>#. This is a translation comment #: /path/to/file.js:2 msgid ""Some String"" msgstr """" </code></pre>  <p>I successfully did this using gettext 0.18.1.1-5ubuntu3 on Ubuntu 12.04.4</p>"
12089722	Values get converted to UNICODE when sent by Python in Javascript	javascript|python|django	2012-08-23 10:35:41.657000 UTC	"<p>I have a small problem when my code is retrieved by javaScript from Python, i get unicode values to my script where my browser gives an error in the developer console.</p>  <p>The script inside my archive.html page - </p>  <pre><code>&lt;script&gt;     var results = {{myposts}};     console.log(results); &lt;/script&gt; </code></pre>  <p>My Python code -</p>  <pre><code>def archive(request):     test = [""a"",""b"",""c""]     t = loader.get_template(""archive.html"")     c = Context({'myposts' : test})     return HttpResponse(t.render(c)) </code></pre>  <p>I tried <code>c = Context({'myposts' : simplejson.dumps(test)})</code> , but it gave the problem. My browsers give me and arror <strong>Uncaught SyntaxError: Unexpected token &amp;</strong> and my console shows my array with unicode values <code>[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;]</code></p>  <p>How do i make it look like - <code>[""a"",""b"",""c""]</code></p>  <p>What do i change in my Python code or JavaScript </p>  <p>Thanks for the help in advance</p>"	12089800	"<p>Try this in the template:</p>  <pre><code>&lt;script&gt;     var results = {{ myposts|escapejs }};     console.log(results); &lt;/script&gt; </code></pre>  <p>EDIT:</p>  <p>And in the view:</p>  <pre><code>from django.utils import simplejson  def archive(request):     test = [""a"",""b"",""c""]     t = loader.get_template(""archive.html"")     c = Context(simplejson.dumps({'myposts' : test}))     return HttpResponse(t.render(c)) </code></pre>"
12089722	Values get converted to UNICODE when sent by Python in Javascript	javascript|python|django	2012-08-23 10:35:41.657000 UTC	"<p>I have a small problem when my code is retrieved by javaScript from Python, i get unicode values to my script where my browser gives an error in the developer console.</p>  <p>The script inside my archive.html page - </p>  <pre><code>&lt;script&gt;     var results = {{myposts}};     console.log(results); &lt;/script&gt; </code></pre>  <p>My Python code -</p>  <pre><code>def archive(request):     test = [""a"",""b"",""c""]     t = loader.get_template(""archive.html"")     c = Context({'myposts' : test})     return HttpResponse(t.render(c)) </code></pre>  <p>I tried <code>c = Context({'myposts' : simplejson.dumps(test)})</code> , but it gave the problem. My browsers give me and arror <strong>Uncaught SyntaxError: Unexpected token &amp;</strong> and my console shows my array with unicode values <code>[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;]</code></p>  <p>How do i make it look like - <code>[""a"",""b"",""c""]</code></p>  <p>What do i change in my Python code or JavaScript </p>  <p>Thanks for the help in advance</p>"	12090218	<p>Looks like it's getting HTML-escaped on output. What if you do this?:</p>  <pre><code>var results = {{ myposts|safe }}; </code></pre>  <p>(Use with caution -- you may want to perform some escaping depending where the data is coming from.)</p>
12184404	javascript interactive debugging (equivalent of python's pdb.set_trace())	javascript|debugging|interactive	2012-08-29 18:37:31.883000 UTC	"<p>I'm working with some javascript code and I'd love to be able to get an interactive console running in the context of a function call - that is, basically exactly what python's <code>import pdb; pdb.set_trace()</code> accomplishes. Is there any way to do this? If not, what's the best approximation out there? </p>  <p>I'm currently using Chrome's console to mess around with things, and I'd basically love to be dropped into the middle of a function call and use Chrome's console to poke around the local variables and such.</p>"	12184478	"<p>Set a breakpoint, and Chrome's Inspector will allow you to inspect your app's state.</p>  <ul> <li><p>Click the line number.  A blue marker will appear.  Execution will pause when you hit that line. <img src=""https://i.stack.imgur.com/jh4Oo.png"" alt=""Breakpoint set""></p></li> <li><p>Write a <code>debugger</code> statement in your code.  The Inspector will pause when you hit the statement.</p>  <pre><code>function something() {     // do stuff     debugger; } </code></pre></li> </ul>"
12184404	javascript interactive debugging (equivalent of python's pdb.set_trace())	javascript|debugging|interactive	2012-08-29 18:37:31.883000 UTC	"<p>I'm working with some javascript code and I'd love to be able to get an interactive console running in the context of a function call - that is, basically exactly what python's <code>import pdb; pdb.set_trace()</code> accomplishes. Is there any way to do this? If not, what's the best approximation out there? </p>  <p>I'm currently using Chrome's console to mess around with things, and I'd basically love to be dropped into the middle of a function call and use Chrome's console to poke around the local variables and such.</p>"	12184485	<p>You can set breakpoints in chrome developers tool as well as firebug in firefox and developer tool in ie 8 and above..</p>
12228439	"can a javascript ""alert"" be written in python"	python|http|alert	2012-09-01 14:08:09.857000 UTC	"<p>This question is really a follow on to <a href=""https://stackoverflow.com/questions/11835306/404-error-passing-a-alert-sentence-from-python-to-html-page-but-no-error-for"">this question</a></p>  <p>In python how can I make an html alert template know where it came from so it will return there, without making a different template for each exception?</p>  <hr>  <p>I was thinking too much about the javascript ""alert"" which initiates in the html template, not in the python code. My ""alert"" starts in the python code itself, so I can just pass a ""hidden"" variable value to the template which tells where to return and capture that ""hidden"" value with the ""def post"" part of the python code. </p>  <p>No, this is still not quite complete. Do I have to import and use that urllib stuff, also?</p>"	12228453	"<p>It's not remotely bulletproof, but checking the <a href=""http://en.wikipedia.org/wiki/HTTP_referer"" rel=""nofollow"">HTTP <code>Referer</code> header</a> sounds sufficient for your needs. If you want more control over the return URL, you can simply pass it around a query parameter instead. Just make sure to <a href=""http://docs.python.org/library/urllib.html#urllib.quote"" rel=""nofollow"">percent-encode it</a>.</p>"
12359019	"Convert a RDF to SVG, in python or javascript?"	python|svg|rdf	2012-09-10 20:33:50.513000 UTC	"<p>Does anyone have code which convert a RDF into a SVG, ideally in python or javascript. </p>"	12359187	"<p>Possibly the libraries rdflib and pysvg could be of use for your work.</p>  <p><a href=""http://codeboje.de/pysvg/"" rel=""nofollow"">http://codeboje.de/pysvg/</a></p>  <p><a href=""http://code.google.com/p/rdflib/"" rel=""nofollow"">http://code.google.com/p/rdflib/</a></p>"
12468131	How to send email in javascript or python from specific email account?	javascript|python|email	2012-09-17 22:49:40.267000 UTC	<p>I have an html file on my computer that takes an email address (gmail) and a password as input. I want to use javascript or python to log into the gmail acount with the given email address and send a message to another email address. How would I do this? Either javascript or python is fine.</p>	12468178	"<p><a href=""https://developers.google.com/google-apps/gmail/"" rel=""nofollow noreferrer"">From Google</a>: </p>  <blockquote>   <p>""Gmail supports the standard IMAP and SMTP protocols for accessing and   sending e-mail messages. The Gmail IMAP and SMTP servers have been   extended to support authorization via the industry-standard OAuth 2.0   protocol.""</p> </blockquote>  <p>So it looks like with an  OAuth STMP/IMAP Javascript library you should be able to make this work.  See this SO article for an example: <a href=""https://stackoverflow.com/q/9795794/573083"">Connecting to the Gmail IMAP API in javascript/node.js</a></p>  <p>Another option is to take a look at the <a href=""http://www.jamesyu.org/2011/02/05/introducing-gmailr-an-unofficial-javscript-api-for-gmail/"" rel=""nofollow noreferrer"">Gmailr API</a>.  </p>  <p>While this is not going to be a plug-and-play solution for you, it's the course that most of the early 3rd party gmail extenders apparently used.   </p>"
12481767	Javascript and Spynner (Python)	javascript|python|screen-scraping|spynner	2012-09-18 17:07:51.637000 UTC	"<p>I'm trying to scrape a website and do I need to use Javascript. I am using Python 2.7 and Spynner. This is the script:</p>  <pre><code>   &lt;a href=""javascript://"" onclick=""TranslationPopUpTestimonialQuery('Language_ALL', '',       '5', '10', 'date-of-visit')""&gt;6&lt;/a&gt; </code></pre>  <p>This is my code in Python:</p>  <pre><code>   import spynner    browser = spynner.Browser()    browser.load(""http://www.zoover.it/italia/lazio/roma/galileo/hotel"")    page1 = browser._get_html()    browser.runjs(""TranslationPopUpTestimonialQuery('Language_ALL', '', '8', '10', 'date-of-visit')"")    browser.wait_load()    page2 = browser._get_html() </code></pre>  <p>Something does not work as get_html does not give me the desired html page...</p>  <p>This the first url: <a href=""http://www.zoover.it/italia/lazio/roma/galileo/hotel"" rel=""nofollow"">http://www.zoover.it/italia/lazio/roma/galileo/hotel</a>. I load this page with browser.load() and i get the HTML. After i try to go to page 2 simulating a click with browser.runjs(). I call the javascript on the onClick. Then If i call browser._get_html() another time the HTML is ever the same. Can anyone help me? thanks</p>"	12766533	"<p>It the html you want is in a popup, you ll have to switch spynner frames.</p>  <p>What spynner gives you is always the active frame html, popups open in another frames.</p>  <p>Spynner is an interface to qtwebwekit and qtwebkit use that : <a href=""http://doc.qt.digia.com/4.7-snapshot/qwebframe.html"" rel=""nofollow"">http://doc.qt.digia.com/4.7-snapshot/qwebframe.html</a></p>  <p>You can see that there is ""childframes"", that you can introspect with self.webframe.</p>"
12498694	Javascript-Python: serve dynamically generated images to client browser?	php|javascript|python	2012-09-19 16:11:08.860000 UTC	"<p>Scenario: User loads a page, image is being generated, show loading bar, notification event sent to browser.</p>  <p>I am using python code to generate the image. Would it be ideal to have a web server that launches the script or embed a webserver code into the python script? Once the image is finished rendering, the client should receive a message saying it's successful and display the image.</p>  <p>How can this be architected to support concurrent users as well? Would simply launching the python script for each new user that navigates to the web page suffice?</p>  <p>Would it be overkill to have real-time web application for this scenario?  Trying to decide whether simple jQuery AJAX will suffice or Socket.io should be used to have a persistent connection between server and client.</p>  <p>Any libraries out there that fit my needs? </p>"	12498821	"<p>I personally love Socket.IO and I would to it with it. Because it would be simpler a way. But that may be a bit too much work to set up just for that. Especially since it is not that simple in Python from what I heard compare to node where it really is about 10 lines server side.</p>  <p>Without Socket.IO could do a long polling to get the status of the image processing, and get the url at the end, of the image in base64 if that is what you want.</p>"
12498694	Javascript-Python: serve dynamically generated images to client browser?	php|javascript|python	2012-09-19 16:11:08.860000 UTC	"<p>Scenario: User loads a page, image is being generated, show loading bar, notification event sent to browser.</p>  <p>I am using python code to generate the image. Would it be ideal to have a web server that launches the script or embed a webserver code into the python script? Once the image is finished rendering, the client should receive a message saying it's successful and display the image.</p>  <p>How can this be architected to support concurrent users as well? Would simply launching the python script for each new user that navigates to the web page suffice?</p>  <p>Would it be overkill to have real-time web application for this scenario?  Trying to decide whether simple jQuery AJAX will suffice or Socket.io should be used to have a persistent connection between server and client.</p>  <p>Any libraries out there that fit my needs? </p>"	12498955	"<p>I would recommend not spawning a new child for every request, but rather using some task queue management tool, for example I can reccomend <a href=""http://celeryproject.org/"" rel=""nofollow"">celery</a>. </p>  <p>You could for example run a threaded python webserver which would spawn one task for each request. Each client could then ask periodically (javascript/jquery) if the task is finished, and if so, server would return proper image address. Also, celery has <a href=""http://docs.celeryproject.org/en/latest/userguide/remote-tasks.html"" rel=""nofollow"">web-callbacks</a> which could be used in this case. (I think, I have not used this feature myself).</p>  <p>I would not lose time with writing some ad-hoc solution, since this is simple, easy to deploy, well documented and scales very well.</p>"
12648299	Running Javascript in python 3.2	javascript|python-3.x	2012-09-28 22:44:28.797000 UTC	"<p>I am trying to create a python program that can log into a website. I have written the javascript that can log in; however, I haven't seen anything on running javascript in python. I am considering implementing the firefox javascript engine, seamonkey, but also don't know how to do that in python. </p>  <p>Any help would be wonderful. Thank you!</p>"	12651570	"<p>Mixing <em>Python</em> with <em>JavaScript</em>, if at all possible, will be probably difficult and in my opinion not the ideal approach.</p>  <p>For a pure <em>Python</em> solution I suggest <a href=""http://pypi.python.org/pypi/mechanize/0.2.5"" rel=""nofollow"">mechanize</a>.</p>  <p>For a <em>JavaScript</em>-only solution, <a href=""http://phantomjs.org/"" rel=""nofollow"">PhantomJS</a> seems to be a very interesting framework. </p>"
12649849	Invoke Webkit Javascript Functions from Python Cleanly	javascript|python|qt|webkit|pyqt	2012-09-29 04:14:24.737000 UTC	"<p>For an application I am currently working on I decided to use HTML5 for the interface, allowing me to have a modern interface that doesn't change in appearance when you change operating systems. Naturally I chose the webkit engine for rendering, specifically the PyQT bindings. My issue is that every time I want to call a javascript function from python, I have to do it using the messy evaluateJavaScript function.</p>  <p>Any alternatives I can use that allow a more direct way of calling javascript functions?</p>"	12649953	"<p>PyQt doesn't have any wrapper that makes things easier.</p>  <p>You could write your own, if you want—not perfect, but a little nicer. For example, something like this (just a skeleton, not actual code):</p>  <pre><code>class JSObject(object):     def __init__(self, name):         self.name = name     def __getattr__(self, attr):         class Proxy(object):             def __init__(self, objname, funcname):                 self.name = '%s.%s' % (objname, funcname)             def __call__(self, *args):                 argstr = ', '.join(json.dumps(arg) for arg in args)                 retstr = evaluateJavaScript('%s(%s)' % (self.name, argstr)                 # realistically you may want to do more to parse the return                 # value—e.g., look up/create JSONObjects as needed?                 return json.loads(retstr)         return Proxy(self, attr)  thingIWantToCall = JSObject('thingIWantToCall') print thingIWantToCall.methodIWantToCallOnIt('foo', [1, 2, 3]) </code></pre>  <p>As you can see, it's still a bit clumsy—you have to manually create the object proxies, and there's no way to call free functions or declare variables or anything other than call methods on objects. Some of that could be implemented, but there's a limit to how far you can go. (Of course you can always fall back to explicit strings.)</p>"
12652695	Python 3 + Javascript	javascript|python|html	2012-09-29 12:27:09.960000 UTC	"<p>I downloaded one html-page. I need to parse one string form page, but it's behind javascripts. When i run this page in browser - all looks pretty, but in html-code i see something like this:</p>  <pre><code>&lt;script type=""text/javascript""&gt;function deobfuscate_html(){s007=null;s7125=6 ... #long long string </code></pre>  <p>How can I unpack this? I want to see the pretty raw, like in browser.</p>"	12652747	"<p>I would run the page in a web browser using Selenium (triggered and controlled in Python) - you can then gain access to the fully rendered page.</p>  <p>The chosen answer <a href=""https://stackoverflow.com/questions/1816232/how-to-get-the-html-source-of-a-specific-element-with-selenium"">here</a> will show you how to get the html from a rendered page.</p>"
12731336	Javascript compression in memory. Decompress in Python after Post. Must also handle non-ascii	javascript|python|compression	2012-10-04 16:07:48.860000 UTC	"<p>I need to be able to compress a string in Javascript, but without saving a temporary file. I am then going to send this compressed data via a POST. I will receive it in Python so I need to be able to decompress it there. I implemented the following, <a href=""http://rosettacode.org/wiki/LZW_compression"" rel=""nofollow"">http://rosettacode.org/wiki/LZW_compression</a>, only to discover that it only works on ascii-characters. I am going to be reading webpages and never know what characters I'll be getting. </p>  <p>(The reason I need to do this is because the strings can become quite long and therefore take too long for slow networks to post.) </p>"	12731546	"<p>You can try base64-encoding the string beforehand (this will yield a compressed stream from 1.5 to twice the size it would have if it had been possible to compress it directly).</p>  <p>There is another implementation (this of gzip Deflate algorithm) <a href=""https://github.com/dankogai/js-deflate"" rel=""nofollow"">here</a>.</p>  <p>Or you might try and escape the non-ASCII characters by replacing them with \xNN (NN = hex code of character). Of course you will also have to escape the slash .</p>  <p>Anyway, you are unlikely to achieve more than about a 10X increase in speed, and I fear this would be more than balanced by the encoding overhead. Without knowing more about the use case, I'd suggest going with Deflate.</p>"
12731336	Javascript compression in memory. Decompress in Python after Post. Must also handle non-ascii	javascript|python|compression	2012-10-04 16:07:48.860000 UTC	"<p>I need to be able to compress a string in Javascript, but without saving a temporary file. I am then going to send this compressed data via a POST. I will receive it in Python so I need to be able to decompress it there. I implemented the following, <a href=""http://rosettacode.org/wiki/LZW_compression"" rel=""nofollow"">http://rosettacode.org/wiki/LZW_compression</a>, only to discover that it only works on ascii-characters. I am going to be reading webpages and never know what characters I'll be getting. </p>  <p>(The reason I need to do this is because the strings can become quite long and therefore take too long for slow networks to post.) </p>"	12731553	"<p>From OP comment.</p>  <blockquote>   <p>The javascript reads the DOM elements and sends that. It won't work to   point to the source for various reasons, a main one being that I need   the elements created by javascript on the page. I also need the   computed style that the browser calculates for me.</p> </blockquote>  <p>One solution would be to automate a browser using <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> with Python and then retrieve the DOM from that.</p>"
12731336	Javascript compression in memory. Decompress in Python after Post. Must also handle non-ascii	javascript|python|compression	2012-10-04 16:07:48.860000 UTC	"<p>I need to be able to compress a string in Javascript, but without saving a temporary file. I am then going to send this compressed data via a POST. I will receive it in Python so I need to be able to decompress it there. I implemented the following, <a href=""http://rosettacode.org/wiki/LZW_compression"" rel=""nofollow"">http://rosettacode.org/wiki/LZW_compression</a>, only to discover that it only works on ascii-characters. I am going to be reading webpages and never know what characters I'll be getting. </p>  <p>(The reason I need to do this is because the strings can become quite long and therefore take too long for slow networks to post.) </p>"	12732430	"<p>Use <a href=""https://stackoverflow.com/questions/2233062/javascript-deflate-implementation"">deflate in javascript</a> and <a href=""http://docs.python.org/library/zlib.html"" rel=""nofollow noreferrer"">zlib in python</a>.  (LZW is ancient and obsolete -- modern methods are much better.)  In between use base 85 encoding, picking 85 ASCII characters than experimentation or standards documentation indicate can make it through POST unscathed.  Base 85 is simply where each character is a digit in a base 85 number, where five such digits encode 32 bits.</p>"
12761243	escaping data passed by python to Javascript (JSON)	javascript|python|json	2012-10-06 15:47:18.500000 UTC	"<p>I have some data that I need to pass to JavaScript on a page. I'm using jinja2 to generate my page and here's how this is going:</p>  <p>In python:</p>  <pre><code>some_json_data = json.dumps(some_data) </code></pre>  <p>In jinja2:</p>  <pre><code>JSON.parse('{% autoescape off %}{{ some_json_data }}{% endautoescape %}') </code></pre>  <p>However, sometimes, <code>some_json_data</code> could contain strings with <code>\n</code> as well as <code>'</code>. Is there a library/some known function that I could use to escape these? </p>  <p>I know I could write this function with no problem, but I was wondering if there's already a library or something that does this. I've been looking around and haven't found anything.</p>  <p>Side note: My application is built on using Flask</p>"	12761264	"<p>You don't need to use <code>JSON.parse</code>; the output is already valid JavaScript. You then don't need to put quotes around the JSON value either.</p>  <p>Generally, my JavaScript looks like:</p>  <pre><code>&lt;script language=""javascript"" type=""text/javascript""&gt;     var serverJSValue = {% autoescape off %}{{ some_json_data }}{% endautoescape %}; &lt;/script&gt; </code></pre>"
12770010	Convert JavaScript code to python	javascript|python	2012-10-07 15:14:13.873000 UTC	"<p>I would like to convert this JavaScript code to python, i have not solide basis in JS.</p>  <p>so i have'nt known how i could translate the code above.</p>  <p>Any help or recommandation please</p>  <pre><code>Packer = function(w, h) {   this.root = { x: 0, y: 0, w: w, h: h }; };  Packer.prototype = {    fit: function(blocks) {     var n, node, block;     for (n = 0; n &lt; blocks.length; n++) {       block = blocks[n];       if (node = this.findNode(this.root, block.w, block.h))         block.fit = this.splitNode(node, block.w, block.h);     }   },    findNode: function(root, w, h) {     if (root.used)       return this.findNode(root.right, w, h) || this.findNode(root.down, w, h);     else if ((w &lt;= root.w) &amp;&amp; (h &lt;= root.h))       return root;     else       return null;   },    splitNode: function(node, w, h) {     node.used = true;     node.down  = { x: node.x,     y: node.y + h, w: node.w,     h: node.h - h };     node.right = { x: node.x + w, y: node.y,     w: node.w - w, h: h          };     return node;   }  } </code></pre>"	12770046	"<p>The code is definining an Object called <code>Packer</code>, with a constructor accepting <code>w</code> and <code>h</code> parameters.</p>  <p>It also defines the following methods:</p>  <pre><code>fit(blocks) findNode(root, w, h)  splitNode(node, w, h) </code></pre>  <p>The object has a member variable called <code>root</code>, used to hold some status. The rest should be understandable, good luck.</p>"
12770625	Emulate simple javascript (location.href=) with Mechanize for Python	javascript|python|mechanize	2012-10-07 16:26:26.980000 UTC	"<p>short: How to execute/simulate javascript redirection  </p>  <pre><code>location.href=""http://www.site2.com/""; </code></pre>  <p>with python Mechanize?</p>  <p>I've made a python script with mechanize module that looks for a link in a page and follows it.</p>  <p>The problem is on a particular site that when I do</p>  <pre><code>br.follow_link(""http://www.address1.com"")  </code></pre>  <p>he redirects me to this simple page:</p>  <pre><code>&lt;script language=""JavaScript""&gt;{                                                                                              location.href=""http://www.site2.com/"";                                                                                                self.focus();                                                                                                                        }&lt;/script&gt; </code></pre>  <p>Now, if I do:</p>  <pre><code>br = mechanize.Browser(factory=mechanize.RobustFactory())  ... #other code  br.follow_link(""http://www.address1.com"")  for link in br.links():    br.follow_link(link) print link </code></pre>  <p>it doesn't prints anything, that means that there is no link in that page.</p>  <p>But if I manually parse the page and I execute:</p>  <pre><code>br.open(""http://www.site2.com"") </code></pre>  <p>Site2 doesn't recognizes that I'm coming from ""www.address1.com"" and the script does not work as I would like!</p>  <p>Sorry if it's just a newbie question and thank you in advance!</p>"	12773688	<p>Try adding</p>  <pre><code>br.set_handle_referer(True) </code></pre>  <p>after the constructor call.</p>  <p>I recommend you these options :</p>  <pre><code>br.set_handle_equiv(True) br.set_handle_gzip(True) br.set_handle_redirect(True) br.set_handle_referer(True) br.set_handle_robots(False) </code></pre>
12777298	"Headless browser for Python with multithreading, javascript, and Windows support"	python|browser|selenium|mechanize|headless	2012-10-08 07:41:54.227000 UTC	<p>I've tried the following with no avail</p>  <ul> <li>Mechanize/Twill. No Javascript support</li> <li>Selenium. Not headless</li> <li>Ghost. No Windows support</li> </ul>  <p>Anyone got any suggestions?</p>	12780697	"<p>I've had good success using <a href=""http://phantomjs.org/"" rel=""nofollow"">Phantom JS</a> by having Python generate the Javascript for Phantom to execute. It now also has an interactive REPL, so you should be able to use Python to drive the REPL.</p>"
12777298	"Headless browser for Python with multithreading, javascript, and Windows support"	python|browser|selenium|mechanize|headless	2012-10-08 07:41:54.227000 UTC	<p>I've tried the following with no avail</p>  <ul> <li>Mechanize/Twill. No Javascript support</li> <li>Selenium. Not headless</li> <li>Ghost. No Windows support</li> </ul>  <p>Anyone got any suggestions?</p>	14299483	"<p><a href=""http://pypi.python.org/pypi/spynner"" rel=""nofollow"">Spynner</a> is based on PyQt and claims to support all of Webkit's functionality.</p>"
12798301	Python open browser and run javascript function	javascript|python	2012-10-09 10:42:38.267000 UTC	"<p>I have a question about python and javascript. I like to create a file who comminicate with javascript webpage.</p>  <p>First i will create a Python file who will open a local webpage. This example localhost/test.html This page is a themplate page. The code is</p>  <pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;An example application&lt;/title&gt;&lt;/head&gt; &lt;script&gt; function myFunction() { alert(""Hello! I am an alert box!""); } &lt;/script&gt;     &lt;body&gt;     &lt;h1 class=""content""&gt;This is my sample application&lt;/h1&gt;     Put the content here...     &lt;hr&gt;     &lt;a href=""/exit""&gt;Quit&lt;/a&gt;     &lt;/body&gt;&lt;/html&gt; </code></pre>  <p>Whene everything is loaded and displayed the python file will activate the javascript function ""myFunction()""</p>  <p>How do I do that? I am running Debian and have installed Python and Chromium.</p>"	12798356	"<p>You need a library to allow interaction between the browser and the program.</p>  <p>Options include <a href=""http://seleniumhq.org/"" rel=""noreferrer"">Selenium</a> and <a href=""http://jeanphix.me/Ghost.py/"" rel=""noreferrer"">Ghost</a>.</p>"
12798301	Python open browser and run javascript function	javascript|python	2012-10-09 10:42:38.267000 UTC	"<p>I have a question about python and javascript. I like to create a file who comminicate with javascript webpage.</p>  <p>First i will create a Python file who will open a local webpage. This example localhost/test.html This page is a themplate page. The code is</p>  <pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;An example application&lt;/title&gt;&lt;/head&gt; &lt;script&gt; function myFunction() { alert(""Hello! I am an alert box!""); } &lt;/script&gt;     &lt;body&gt;     &lt;h1 class=""content""&gt;This is my sample application&lt;/h1&gt;     Put the content here...     &lt;hr&gt;     &lt;a href=""/exit""&gt;Quit&lt;/a&gt;     &lt;/body&gt;&lt;/html&gt; </code></pre>  <p>Whene everything is loaded and displayed the python file will activate the javascript function ""myFunction()""</p>  <p>How do I do that? I am running Debian and have installed Python and Chromium.</p>"	12798555	"<p>Have you looked at the <a href=""http://docs.python.org/library/webbrowser.html"" rel=""nofollow"">webbrowser module</a> ? It can be used to display your webpage. It can not call your js function, but perhaps that one can be triggered from the ready() event in the html?</p>"
12798301	Python open browser and run javascript function	javascript|python	2012-10-09 10:42:38.267000 UTC	"<p>I have a question about python and javascript. I like to create a file who comminicate with javascript webpage.</p>  <p>First i will create a Python file who will open a local webpage. This example localhost/test.html This page is a themplate page. The code is</p>  <pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;An example application&lt;/title&gt;&lt;/head&gt; &lt;script&gt; function myFunction() { alert(""Hello! I am an alert box!""); } &lt;/script&gt;     &lt;body&gt;     &lt;h1 class=""content""&gt;This is my sample application&lt;/h1&gt;     Put the content here...     &lt;hr&gt;     &lt;a href=""/exit""&gt;Quit&lt;/a&gt;     &lt;/body&gt;&lt;/html&gt; </code></pre>  <p>Whene everything is loaded and displayed the python file will activate the javascript function ""myFunction()""</p>  <p>How do I do that? I am running Debian and have installed Python and Chromium.</p>"	56056436	"<p>You could open the website from python using <a href=""https://docs.python.org/2/library/webbrowser.html"" rel=""nofollow noreferrer"">webbroser</a> module with an url parameter containing your javascript code.</p>  <p>in your example</p>  <pre><code>import webbrowser webbrowser.open('http://localhost/test.html' + '?script=myFunction();') </code></pre>  <p>Then you can read the url paramater in your javascript and execute it via <a href=""https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/eval"" rel=""nofollow noreferrer"">eval</a></p>  <pre><code>&lt;script&gt;     window.onload = function () {         var url = new URL(window.location.href);         var script = url.searchParams.get(""script"");         console.log(script);         eval(script)     }     &lt;/script&gt; </code></pre>  <p>Please be aware, that this is only suitable for testing or developing purposes and must not be used in production since using eval like this is <a href=""https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/eval#Don&#39;t_use_eval_needlessly!"" rel=""nofollow noreferrer"">dangerous</a>. </p>"
12881423	Mechanize + Python: how to follow a link in a simple javascript?	javascript|python|mechanize|referer	2012-10-14 10:36:01.783000 UTC	"<p>short: How to execute/simulate javascript redirection with python Mechanize?</p>  <pre><code>location.href=""http://www.site2.com/""; </code></pre>  <p>I've made a python script with mechanize module that looks for a link in a page and follows it.</p>  <p>The problem is on a particular site that when I do</p>  <pre><code>br.follow_link(""http://www.address1.com"")  </code></pre>  <p>he redirects me to this simple page:</p>  <pre><code>&lt;script language=""JavaScript""&gt;{                                                                                              location.href=""http://www.site2.com/"";                                                                                                self.focus();                                                                                                                        }&lt;/script&gt; </code></pre>  <p>Now, if I do:</p>  <pre><code>br = mechanize.Browser(factory=mechanize.RobustFactory())  ... #other code  br.follow_link(""http://www.address1.com"")  for link in br.links():    br.follow_link(link) print link </code></pre>  <p>it doesn't prints anything, that means that there is no link in that page. But if I manually parse the page and I execute:</p>  <pre><code>br.open(""http://www.site2.com"") </code></pre>  <p>Site2 doesn't recognizes that I'm coming from ""www.address1.com"" and the script does      not work as I would like!</p>  <p>Sorry if it's just a newbie question and thank you in advance!</p>  <p>p.s. I have br.set_handle_referer(True)</p>  <p>EDIT: more info: Inspecting that link with Fiddler2 it looks like: </p>  <blockquote>   <p>GET <a href=""http://www.site2.com/"" rel=""nofollow"">http://www.site2.com/</a> HTTP/1.1 Host: www.site2.com Connection:   keep-alive User-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64)   AppleWebKit/537.4 (KHTML, like Gecko)        Chrome/22.0.1229.94   Safari/537.4 Accept:   text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8   Referer: <a href=""http://www.address1.com"" rel=""nofollow"">http://www.address1.com</a> Accept-Encoding: gzip,deflate,sdch   Accept-Language: it-IT,it;q=0.8,en-US;q=0.6,en;q=0.4<br>   Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 Cookie:   PHPSESSID=6e161axxxxxxxxxxx; user=myusername;<br>   pass=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx; ip=79.xx.xx.xx;<br>   agent=a220243a8b8f83de64c6204a5ef7b6eb;   __utma=154746788.943755841.1348303404.1350232016.1350241320.43; __utmb=154746788.12.10.1350241320; __utmc=154999999; __utmz=154746788.134999998.99.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=%something%something%</p> </blockquote>  <p>so it seems to be a cookie problem?</p>"	12881436	"<p>Mechanize can't deal with JavaScript, since it can't interpret it, try parsing your site manually and passing this link to, <code>br.follow_link</code>.</p>"
12881423	Mechanize + Python: how to follow a link in a simple javascript?	javascript|python|mechanize|referer	2012-10-14 10:36:01.783000 UTC	"<p>short: How to execute/simulate javascript redirection with python Mechanize?</p>  <pre><code>location.href=""http://www.site2.com/""; </code></pre>  <p>I've made a python script with mechanize module that looks for a link in a page and follows it.</p>  <p>The problem is on a particular site that when I do</p>  <pre><code>br.follow_link(""http://www.address1.com"")  </code></pre>  <p>he redirects me to this simple page:</p>  <pre><code>&lt;script language=""JavaScript""&gt;{                                                                                              location.href=""http://www.site2.com/"";                                                                                                self.focus();                                                                                                                        }&lt;/script&gt; </code></pre>  <p>Now, if I do:</p>  <pre><code>br = mechanize.Browser(factory=mechanize.RobustFactory())  ... #other code  br.follow_link(""http://www.address1.com"")  for link in br.links():    br.follow_link(link) print link </code></pre>  <p>it doesn't prints anything, that means that there is no link in that page. But if I manually parse the page and I execute:</p>  <pre><code>br.open(""http://www.site2.com"") </code></pre>  <p>Site2 doesn't recognizes that I'm coming from ""www.address1.com"" and the script does      not work as I would like!</p>  <p>Sorry if it's just a newbie question and thank you in advance!</p>  <p>p.s. I have br.set_handle_referer(True)</p>  <p>EDIT: more info: Inspecting that link with Fiddler2 it looks like: </p>  <blockquote>   <p>GET <a href=""http://www.site2.com/"" rel=""nofollow"">http://www.site2.com/</a> HTTP/1.1 Host: www.site2.com Connection:   keep-alive User-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64)   AppleWebKit/537.4 (KHTML, like Gecko)        Chrome/22.0.1229.94   Safari/537.4 Accept:   text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8   Referer: <a href=""http://www.address1.com"" rel=""nofollow"">http://www.address1.com</a> Accept-Encoding: gzip,deflate,sdch   Accept-Language: it-IT,it;q=0.8,en-US;q=0.6,en;q=0.4<br>   Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 Cookie:   PHPSESSID=6e161axxxxxxxxxxx; user=myusername;<br>   pass=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx; ip=79.xx.xx.xx;<br>   agent=a220243a8b8f83de64c6204a5ef7b6eb;   __utma=154746788.943755841.1348303404.1350232016.1350241320.43; __utmb=154746788.12.10.1350241320; __utmc=154999999; __utmz=154746788.134999998.99.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=%something%something%</p> </blockquote>  <p>so it seems to be a cookie problem?</p>"	12881512	"<p>You could set the HTTP referrer header explicitly before making your request</p>  <pre><code>br.addheaders = [('Referer', 'http://alpha.com')] br.open(""http://beta.com"") </code></pre>  <p>More details in the surprisingly difficult to find official docs  <a href=""http://wwwsearch.sourceforge.net/mechanize/doc.html"" rel=""nofollow"">http://wwwsearch.sourceforge.net/mechanize/doc.html</a></p>"
12881423	Mechanize + Python: how to follow a link in a simple javascript?	javascript|python|mechanize|referer	2012-10-14 10:36:01.783000 UTC	"<p>short: How to execute/simulate javascript redirection with python Mechanize?</p>  <pre><code>location.href=""http://www.site2.com/""; </code></pre>  <p>I've made a python script with mechanize module that looks for a link in a page and follows it.</p>  <p>The problem is on a particular site that when I do</p>  <pre><code>br.follow_link(""http://www.address1.com"")  </code></pre>  <p>he redirects me to this simple page:</p>  <pre><code>&lt;script language=""JavaScript""&gt;{                                                                                              location.href=""http://www.site2.com/"";                                                                                                self.focus();                                                                                                                        }&lt;/script&gt; </code></pre>  <p>Now, if I do:</p>  <pre><code>br = mechanize.Browser(factory=mechanize.RobustFactory())  ... #other code  br.follow_link(""http://www.address1.com"")  for link in br.links():    br.follow_link(link) print link </code></pre>  <p>it doesn't prints anything, that means that there is no link in that page. But if I manually parse the page and I execute:</p>  <pre><code>br.open(""http://www.site2.com"") </code></pre>  <p>Site2 doesn't recognizes that I'm coming from ""www.address1.com"" and the script does      not work as I would like!</p>  <p>Sorry if it's just a newbie question and thank you in advance!</p>  <p>p.s. I have br.set_handle_referer(True)</p>  <p>EDIT: more info: Inspecting that link with Fiddler2 it looks like: </p>  <blockquote>   <p>GET <a href=""http://www.site2.com/"" rel=""nofollow"">http://www.site2.com/</a> HTTP/1.1 Host: www.site2.com Connection:   keep-alive User-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64)   AppleWebKit/537.4 (KHTML, like Gecko)        Chrome/22.0.1229.94   Safari/537.4 Accept:   text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8   Referer: <a href=""http://www.address1.com"" rel=""nofollow"">http://www.address1.com</a> Accept-Encoding: gzip,deflate,sdch   Accept-Language: it-IT,it;q=0.8,en-US;q=0.6,en;q=0.4<br>   Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 Cookie:   PHPSESSID=6e161axxxxxxxxxxx; user=myusername;<br>   pass=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx; ip=79.xx.xx.xx;<br>   agent=a220243a8b8f83de64c6204a5ef7b6eb;   __utma=154746788.943755841.1348303404.1350232016.1350241320.43; __utmb=154746788.12.10.1350241320; __utmc=154999999; __utmz=154746788.134999998.99.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=%something%something%</p> </blockquote>  <p>so it seems to be a cookie problem?</p>"	12885511	"<p>How about </p>  <pre><code>br.open(""http://alpha.com"")   br.follow_link(""http://beta.com"") </code></pre>  <p>If you use <code>br_follow_link</code> hopefully that sets the HTTP referrer with the previous page. Whereas if you do<code>br.open</code> that's like opening a new window, it doesn't set the HTTP referrer header. </p>  <hr>  <p><strong>Edit</strong>. Ok it looks like <code>.follow_link</code> doesn't take strings but takes a special <code>mechanize.Link</code> object with a property <code>.absolute_url</code>. You can fake that.</p>  <pre><code>&gt;&gt;&gt; class Fake: ...     pass ... &gt;&gt;&gt; x = Fake() &gt;&gt;&gt; x.absolute_url=""http://stackoverflow.com"" &gt;&gt;&gt; br.follow_link(x) &lt;response_seek_wrapper at 0x2937af8 whose wrapped object = &lt;closeable_response at 0x2937f08 whose fp = &lt;socket._fileobject object at 0x02934970&gt;&gt;&gt; &gt;&gt;&gt; br.title() 'Stack Overflow' </code></pre>  <p>or make a real <code>mechanize.Link</code> which is less hacky but more tedious.</p>"
12881423	Mechanize + Python: how to follow a link in a simple javascript?	javascript|python|mechanize|referer	2012-10-14 10:36:01.783000 UTC	"<p>short: How to execute/simulate javascript redirection with python Mechanize?</p>  <pre><code>location.href=""http://www.site2.com/""; </code></pre>  <p>I've made a python script with mechanize module that looks for a link in a page and follows it.</p>  <p>The problem is on a particular site that when I do</p>  <pre><code>br.follow_link(""http://www.address1.com"")  </code></pre>  <p>he redirects me to this simple page:</p>  <pre><code>&lt;script language=""JavaScript""&gt;{                                                                                              location.href=""http://www.site2.com/"";                                                                                                self.focus();                                                                                                                        }&lt;/script&gt; </code></pre>  <p>Now, if I do:</p>  <pre><code>br = mechanize.Browser(factory=mechanize.RobustFactory())  ... #other code  br.follow_link(""http://www.address1.com"")  for link in br.links():    br.follow_link(link) print link </code></pre>  <p>it doesn't prints anything, that means that there is no link in that page. But if I manually parse the page and I execute:</p>  <pre><code>br.open(""http://www.site2.com"") </code></pre>  <p>Site2 doesn't recognizes that I'm coming from ""www.address1.com"" and the script does      not work as I would like!</p>  <p>Sorry if it's just a newbie question and thank you in advance!</p>  <p>p.s. I have br.set_handle_referer(True)</p>  <p>EDIT: more info: Inspecting that link with Fiddler2 it looks like: </p>  <blockquote>   <p>GET <a href=""http://www.site2.com/"" rel=""nofollow"">http://www.site2.com/</a> HTTP/1.1 Host: www.site2.com Connection:   keep-alive User-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64)   AppleWebKit/537.4 (KHTML, like Gecko)        Chrome/22.0.1229.94   Safari/537.4 Accept:   text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8   Referer: <a href=""http://www.address1.com"" rel=""nofollow"">http://www.address1.com</a> Accept-Encoding: gzip,deflate,sdch   Accept-Language: it-IT,it;q=0.8,en-US;q=0.6,en;q=0.4<br>   Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3 Cookie:   PHPSESSID=6e161axxxxxxxxxxx; user=myusername;<br>   pass=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx; ip=79.xx.xx.xx;<br>   agent=a220243a8b8f83de64c6204a5ef7b6eb;   __utma=154746788.943755841.1348303404.1350232016.1350241320.43; __utmb=154746788.12.10.1350241320; __utmc=154999999; __utmz=154746788.134999998.99.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=%something%something%</p> </blockquote>  <p>so it seems to be a cookie problem?</p>"	12887201	"<p>I solved it! in this way:</p>  <pre><code>    cj = cookielib.LWPCookieJar()     br.set_cookiejar(cj)      ...      br.follow_link(""www.address1.com"")     refe= br.geturl()     req = urllib2.Request(url='www.site2.com')     req.add_header('Referer', refe)     opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj) )     f = opener.open(req)      htm = f.read()     print ""\n\n"", htm </code></pre>"
12887487	Python Get Redirect URL with Javascript	python|url|redirect	2012-10-14 23:16:18.207000 UTC	"<p>I am trying to get the redirected URL which has JavaScript action while redirecting to the target site</p>  <pre><code>user_agent = 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like    Gecko) Chrome/22.0.1207.1 Safari/537.1)' headers = { 'User-Agent' : user_agent } values = {'name' : 'DealsIndex',  'location' : 'South Bay',  'language' : 'Perl' } data = urllib.urlencode(values) req = urllib2.Request(""http://www.techbargains.com/jump.cfm?clkSubId=A0AC1A00319410C5900&amp;afsrc=1&amp;id=6860"", data, headers) res = urllib2.urlopen(req) urlapp = res.geturl() print urlapp </code></pre>  <p><strong>Actual Output:</strong></p>  <pre><code>http://www.techbargains.com/jump.cfm?clkSubId=A0AC1A00319410C5900&amp;afsrc=1&amp;id=6860 </code></pre>  <p><strong>Expected Output</strong></p>  <pre><code>http://shop.panasonic.com/?cm_MMC=AffiliateBanner-_-SeriouslyCool-_-88x31-_-041911 </code></pre>  <p>I tried using mechanize as well but I am not able to get to the target site.</p>"	12887611	"<p>That redirect is done through javascript, which means you will need to use a browser that supports it. Mechanize is not one of such browsers.</p>  <p>Here a a couple of good ones</p>  <ul> <li><a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> - automate actual browsers with languages (including python)</li> <li><a href=""http://phantomjs.org/"" rel=""nofollow"">phantomjs</a> - a headless webkit browser</li> </ul>"
12943349	'x' * 5 is 'xxxxx' in Python – How do I do that in CoffeeScript/JavaScript?	javascript|string|coffeescript	2012-10-17 21:04:21.160000 UTC	<p>I want to create a string by concatenating multiple copies of another in CoffeeScript or JavaScript.</p>  <p>Do I have to create my own function for this or is there a shortcut like in Python?</p>	12943380	<p>You could use this shortcut (need to pass the number of repetitions plus 1):</p>  <pre><code>Array(6).join 'x' </code></pre>
12943349	'x' * 5 is 'xxxxx' in Python – How do I do that in CoffeeScript/JavaScript?	javascript|string|coffeescript	2012-10-17 21:04:21.160000 UTC	<p>I want to create a string by concatenating multiple copies of another in CoffeeScript or JavaScript.</p>  <p>Do I have to create my own function for this or is there a shortcut like in Python?</p>	12943438	"<p>You can use array.join(JavaScript). Array()</p>  <pre><code>function extend(ch, times){      return Array(times+1).join('x'); }  extend('x', 5); </code></pre>"
12943349	'x' * 5 is 'xxxxx' in Python – How do I do that in CoffeeScript/JavaScript?	javascript|string|coffeescript	2012-10-17 21:04:21.160000 UTC	<p>I want to create a string by concatenating multiple copies of another in CoffeeScript or JavaScript.</p>  <p>Do I have to create my own function for this or is there a shortcut like in Python?</p>	12943479	"<p>This is coming in the next version of ECMAScript, so you might as well implement it as a shim.</p>  <p><a href=""http://wiki.ecmascript.org/doku.php?id=harmony:string.prototype.repeat"" rel=""nofollow"">http://wiki.ecmascript.org/doku.php?id=harmony:string.prototype.repeat</a></p>  <p>From the proposal:</p>  <pre><code>Object.defineProperty(String.prototype, 'repeat', {     value: function (count) {         var string = '' + this;         //count = ToInteger(count);         var result = '';         while (--count &gt;= 0) {             result += string;         }         return result;     },     configurable: true,     enumerable: false,     writable: true }); </code></pre>  <p>Then call <code>.repeat()</code> from a string:</p>  <pre><code>""x"".repeat(5); // ""xxxxx"" </code></pre>"
13042679	Parsing dictionary from GAE python to create marker objects in javascript / GMaps api	google-app-engine|google-maps|google-maps-api-3	2012-10-24 03:40:24.853000 UTC	"<p>I'm not really after a specific answer, but pointed in the right direction. </p>  <p>I've got some coorindates and names as a dictionary stored in a list sitting in GAE using python. I want to create some marker objects in google maps with this data. The problem is, I'm not quite sure how to go about this in a good way.</p>  <p>This is an example of the data. [{'name': 'derp', 'lat': 123456, 'lng': 1234567}, {'name': 'hurp', 'lat': 431234123, 'lng': 453453453}]</p>  <p>I was thinking that I would convert this list dict to something javascript-friendly, insert it directly into my javascript code as a variable and then for a for-loop over the following function with my list.</p>  <pre><code>function addMarker(lat, lng, name){         var point = new google.maps.LatLng(lat, lng);         var marker = new google.maps.Marker({position: point,                                              map: map,                                              title: name                                             });  } </code></pre>  <p>Clear as mud?</p>  <p>I'm almost certainly looking in the wrong direction, so throw any ideas at me.</p>"	13043194	"<p>If you're using templates, passing your array of markers to the template (in a binding named 'markers'), and then doing something like</p>  <pre><code>{% for marker in markers %}   addMaker({{marker.lat}},{{marker.long}},'{{marker.name}}'); {% endfor %} </code></pre>  <p>should do what you need.</p>"
13042679	Parsing dictionary from GAE python to create marker objects in javascript / GMaps api	google-app-engine|google-maps|google-maps-api-3	2012-10-24 03:40:24.853000 UTC	"<p>I'm not really after a specific answer, but pointed in the right direction. </p>  <p>I've got some coorindates and names as a dictionary stored in a list sitting in GAE using python. I want to create some marker objects in google maps with this data. The problem is, I'm not quite sure how to go about this in a good way.</p>  <p>This is an example of the data. [{'name': 'derp', 'lat': 123456, 'lng': 1234567}, {'name': 'hurp', 'lat': 431234123, 'lng': 453453453}]</p>  <p>I was thinking that I would convert this list dict to something javascript-friendly, insert it directly into my javascript code as a variable and then for a for-loop over the following function with my list.</p>  <pre><code>function addMarker(lat, lng, name){         var point = new google.maps.LatLng(lat, lng);         var marker = new google.maps.Marker({position: point,                                              map: map,                                              title: name                                             });  } </code></pre>  <p>Clear as mud?</p>  <p>I'm almost certainly looking in the wrong direction, so throw any ideas at me.</p>"	13045763	"<p>JSON is very javascript friendly. You can dump your dictionary in a JSON string and insert it in your javascript as you suggest in your question. Or you create a GAE webservice to request the JSON data in your client. This is an easy option, If you are familiair with jquery / ajax and a preferred solution if the client can change the request.</p>"
13059837	Javascript array with default values (equivalent of Python's defaultdict)?	javascript|python	2012-10-25 00:20:23.503000 UTC	"<blockquote>   <p><strong>Possible Duplicate:</strong><br>   <a href=""https://stackoverflow.com/questions/11503666/set-undefined-javascript-property-before-read"">Set undefined javascript property before read</a>  </p> </blockquote>    <p>Is there an equivalent of <a href=""http://docs.python.org/library/collections.html#collections.defaultdict"" rel=""nofollow noreferrer"">Python's defaultdict</a> in Javascript? This would be a Javascript array where the value returned for a missing key is definable. Something like:</p>  <pre><code>var a = defaultArray(""0""); console.log(a['dog']); // would print 0 </code></pre>  <p>If not, how would you implement it?</p>"	13059975	"<p>No, this is not possible in JavaScript. Btw, you certainly meant <em>Objects</em> (property-value-maps) instead of arrays. Two solutions:</p> <ul> <li><p>Implement your object as a <a href=""http://wiki.ecmascript.org/doku.php?id=harmony:proxies"" rel=""nofollow noreferrer""><code>Proxy</code></a>, which is designed to do exactly what you want. Yet, it is only a draft and currently only <a href=""https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Proxy"" rel=""nofollow noreferrer"">supported in Firefox' Javascript 1.8.5</a>.</p> </li> <li><p>Use a getter function with a string parameter instead of object properties. That function can look up the input key in an internal &quot;dictionary&quot; object, and handle misses programmatically - e.g. creating values dynamically or returning default values.</p> <p>Of course you could build a factory for such getter functions.</p> </li> </ul>  <pre><code>function defaultDict(map, default) {     return function(key) {         if (key in map)             return map[key];         if (typeof default == &quot;function&quot;)             return default(key);         return default;     }; }  var a = defaultDict({cat: 1}, 0); console.log(a('cat')); // 1 console.log(a('dog')); // 0 </code></pre>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	13175580	"<p>From the <code>document.getElementsByTagName</code> I guess you are running the javascript in a browser.</p>  <p>The traditional way to expose functionality to javascript running in the browser is calling a remote URL using AJAX. The X in AJAX is for XML, but nowadays everybody uses JSON instead of XML.</p>  <p>For example, using jQuery you can do something like:</p>  <pre><code>$.getJSON('http://example.com/your/webservice?param1=x&amp;param2=y',      function(data, textStatus, jqXHR) {         alert(data);     } ) </code></pre>  <p>You will need to implement a python webservice on the server side. For simple webservices I like to use <a href=""http://flask.pocoo.org/"" rel=""noreferrer"">Flask</a>.</p>  <p>A typical implementation looks like:</p>  <pre><code>@app.route(""/your/webservice"") def my_webservice():     return jsonify(result=some_function(**request.args))  </code></pre>  <p>You can run IronPython (kind of Python.Net) in the browser with <a href=""http://www.voidspace.org.uk/ironpython/silverlight/index.shtml#ironpython-silverlight"" rel=""noreferrer"">silverlight</a>, but I don't know if NLTK is available for IronPython.</p>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	13175651	"<p>Typically you would accomplish this using an ajax request that looks like</p>  <pre><code>var xhr = new XMLHttpRequest(); xhr.open(""GET"", ""pythoncode.py?text="" + text, true); xhr.responseType = ""JSON""; xhr.onload = function(e) {   var arrOfStrings = JSON.parse(xhr.response); } xhr.send(); </code></pre>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	13175665	"<p>All you need is to make an ajax request to your pythoncode. You can do this with jquery <a href=""http://api.jquery.com/jQuery.ajax/"">http://api.jquery.com/jQuery.ajax/</a>, or use just javascript</p>  <pre><code>$.ajax({   type: ""POST"",   url: ""~/pythoncode.py"",   data: { param: text} }).done(function( o ) {    // do something }); </code></pre>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	45962931	"<p>You cannot run .py files from JavaScript without the Python program like you cannot open .txt files without a text editor. But the whole thing becomes a breath with a help of a Web API Server (IIS in the example below).</p>  <ol> <li><p>Install python and create a sample file test.py</p>  <pre><code>import sys # print sys.argv[0] prints test.py # print sys.argv[1] prints your_var_1  def hello():     print ""Hi"" + "" "" + sys.argv[1]  if __name__ == ""__main__"":     hello() </code></pre></li> <li><p>Create a method in your Web API Server</p>  <pre><code>[HttpGet] public string SayHi(string id) {     string fileName = HostingEnvironment.MapPath(""~/Pyphon"") + ""\\"" + ""test.py"";                Process p = new Process();     p.StartInfo = new ProcessStartInfo(@""C:\Python27\python.exe"", fileName + "" "" + id)     {         RedirectStandardOutput = true,         UseShellExecute = false,         CreateNoWindow = true     };     p.Start();      return p.StandardOutput.ReadToEnd();                   } </code></pre></li> <li><p>And now for your JavaScript:</p>  <pre><code>function processSayingHi() {              var your_param = 'abc';    $.ajax({        url: '/api/your_controller_name/SayHi/' + your_param,        type: 'GET',        success: function (response) {            console.log(response);        },        error: function (error) {            console.log(error);        }     }); } </code></pre></li> </ol>  <p>Remember that your .py file won't run on your user's computer, but instead on the server.</p>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	59125467	"<p><strong>Communicating through processes</strong></p>  <p>Example: </p>  <p><strong>Python:</strong> This python code block should return random temperatures.</p>  <pre><code># sensor.py  import random, time while True:     time.sleep(random.random() * 5)  # wait 0 to 5 seconds     temperature = (random.random() * 20) - 5  # -5 to 15     print(temperature, flush=True, end='') </code></pre>  <p><strong>Javascript (Nodejs):</strong> Here we will need to spawn a new child process to run our python code and then get the printed output.</p>  <pre><code>// temperature-listener.js  const { spawn } = require('child_process'); const temperatures = []; // Store readings  const sensor = spawn('python', ['sensor.py']); sensor.stdout.on('data', function(data) {      // convert Buffer object to Float     temperatures.push(parseFloat(data));     console.log(temperatures); }); </code></pre>"
13175510	Call Python function from JavaScript code	javascript|python|function|integration	2012-11-01 10:52:29.217000 UTC	"<p>I'd like to call a Python function from JavaScript code, because there isn't an alternative in JavaScript for doing what I want. Is this possible? Could you adjust the below snippet to work?</p>  <p>JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>var tag = document.getElementsByTagName(""p"")[0]; text = tag.innerHTML; // Here I would like to call the Python interpreter with Python function arrOfStrings = openSomehowPythonInterpreter(""~/pythoncode.py"", ""processParagraph(text)""); </code></pre>  <p><code>~/pythoncode.py</code> contains functions using advanced libraries that don't have an easy to write equivalent in JavaScript:</p>  <pre><code>import nltk # is not in JavaScript def processParagraph(text):   ...   nltk calls   ...   return lst # returns a list of strings (will be converted to JavaScript array) </code></pre>"	68481390	"<p>Despite what some replies and comments suggest, there are <a href=""https://blog.bitsrc.io/using-python-for-frontend-f90a0f8d51ae"" rel=""nofollow noreferrer"">a number of ways</a> for using Python on the front-end. For your question in particular, see <a href=""https://stackoverflow.com/a/38494875"">this reply</a>.</p>"
13188719	Custom JSON encoder in Python 2.7 to insert plain JavaScript code	python|json|python-2.7|python-2.6	2012-11-02 03:04:40.463000 UTC	"<p>I'm trying to upgrade a portion of Python 2.6 code to Python 2.7. This code uses the <code>json</code> module to produce some JavaScript (not JSON-compliant), which is then inserted into the rest of a script.</p>  <p>The general idea is to be able to insert code or refer to variables that are defined elsewhere: it's not intended to be used as JSON data, but JavaScript code.</p>  <p>Here is the custom encoder that works in Python 2.6:</p>  <pre class=""lang-python prettyprint-override""><code>import json  class RawJavaScriptText:     def __init__(self, jstext):         self._jstext = jstext     def get_jstext(self):         return self._jstext  class RawJsJSONEncoder(json.JSONEncoder):     def _iterencode_default(self, o, markers=None):         if isinstance(o, RawJavaScriptText):             yield self.default(o)         else:             json.JSONEncoder._iterencode_default(self, o, markers)      def default(self, o):         if isinstance(o, RawJavaScriptText):             return o.get_jstext()         else:             return json.JSONEncoder.default(self, o)  testvar = {    'a': 1,    'b': 'abc',    # RawJavaScriptText will be inserted as such, no serialisation.    'c': RawJavaScriptText('function() { return ""Hello World""; }'),    'd': RawJavaScriptText('some_variable_name') }  print json.dumps(testvar, cls=RawJsJSONEncoder) </code></pre>  <p>Using Python 2.6, we get the required result:</p>  <pre class=""lang-js prettyprint-override""><code>{ ""a"": 1, ""c"": function() { return ""Hello World""; },   ""b"": ""abc"", ""d"": some_variable_name } </code></pre>  <p>Using Python 2.7, everything is turned into a string, thereby losing the validity of JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>{ ""a"": 1, ""c"": ""function() { return \""Hello World\""; }"",   ""b"": ""abc"", ""d"": ""some_variable_name"" } </code></pre>  <p>(As a side note, this is only every used with a pre-defined set of raw JavaScript value, so as to prevent potential injections or misuse.)</p>  <p>Of course, the reason for this is that <code>_iterencode_default</code> method of <code>JSONEncoder</code> doesn't exist in the Python 2.7 version of the <code>json</code> module. Admittedly, it wasn't meant to be overridden in the first place.</p>  <p>Is there another way to achieve this goal in Python 2.7? Using the foundations of a JSON library to be able to generate JavaScript code this way is rather convenient.</p>  <p><strong>EDIT:</strong> Here is complete working solution, using replace as suggested by James Henstridge. I'm using random UUIDs for the replacement tokens, which should prevent any conflicts. This way, this is a direct replacement working with both Python 2.6 and 2.7.</p>  <pre class=""lang-python prettyprint-override""><code>import json import uuid  class RawJavaScriptText:     def __init__(self, jstext):         self._jstext = jstext     def get_jstext(self):         return self._jstext  class RawJsJSONEncoder(json.JSONEncoder):     def __init__(self, *args, **kwargs):         json.JSONEncoder.__init__(self, *args, **kwargs)         self._replacement_map = {}      def default(self, o):         if isinstance(o, RawJavaScriptText):             key = uuid.uuid4().hex             self._replacement_map[key] = o.get_jstext()             return key         else:             return json.JSONEncoder.default(self, o)      def encode(self, o):         result = json.JSONEncoder.encode(self, o)         for k, v in self._replacement_map.iteritems():              result = result.replace('""%s""' % (k,), v)         return result  testvar = {    'a': 1,    'b': 'abc',    'c': RawJavaScriptText('function() { return ""Hello World""; }'),    'd': [ RawJavaScriptText('some_variable_name') ],    'e': {        'x': RawJavaScriptText('some_variable_name'),        'y': 'y'    } }  print json.dumps(testvar, cls=RawJsJSONEncoder) </code></pre>  <p>Result (2.6 and 2.7):</p>  <pre><code>{""a"": 1, ""c"": function() { return ""Hello World""; },  ""b"": ""abc"",  ""e"": {""y"": ""y"", ""x"": some_variable_name},  ""d"": [some_variable_name]} </code></pre>"	13189438	"<p>The undocumented private interface you were using appears to have gone away when the C extension used under the covers was expanded to cover more of the encoding process.</p>  <p>One alternative would be to insert place holder strings for your <code>RawJavaScriptText</code> values and post-process the output of <code>dumps</code> to convert those place holders to the form you require.</p>  <p>For example:</p>  <pre><code>&gt;&gt;&gt; data = {'foo': '@@x@@'} &gt;&gt;&gt; print json.dumps(data) {""foo"": ""@@x@@""} &gt;&gt;&gt; print json.dumps(data).replace('""@@x@@""', 'some_variable_name') {""foo"": some_variable_name} </code></pre>  <p>You'll want to be careful about this kind of technique if your JSON includes untrusted data: you don't want to be in a position where an outsider can add such place holders to the output unexpectedly.</p>"
13245480	Javascript popUp cfmail in Python	javascript|python|coldfusion	2012-11-06 06:19:51.520000 UTC	<p>Using BeautifulSoup I extracted email links from a page.  I am interested in how you could send an email to links that produce a pop up email form.</p>  <p>More simply put: Is is it <em>possible</em> to send an email to the an address with only this data?</p>  <pre><code>href = javascript:popUp('cfmail.cfm?LName=LastName&amp;FName=FirstName') </code></pre>  <p>Or if I follow the link in code is it possible to fill out the email form that it generates?</p>  <p>Thank you</p>	13247531	"<p>No, it is not possible to extract an email with that information alone, unless you have access to the server and correct values for the variables <code>LastName</code> and <code>FirstName</code>. The line <code>cfmail.cfm?LName=LastName&amp;FName=FirstName</code> is getting a user's email from the site's server, presumably after the user is logged in.</p>"
13268947	Python and reading JavaScript variable value	javascript|python|webkit	2012-11-07 11:35:19.990000 UTC	"<p>I am very new to Python programming, so please bear with me.</p>  <p>I have an HTML file with several div layers. This file is opened in a webkit.WebView object. Each div layer saves a value in a global variable (JavaScript) when clicked upon.</p>  <p>How can I read the value of that global JavaScript variable from my Python script?</p>  <p>I found some answers but they don't seem to fit my situation (but I can be wrong, of course):  </p>  <p><a href=""https://stackoverflow.com/questions/2894946/passing-javascript-variable-to-python"">Passing JavaScript variable to Python</a>  </p>  <p><a href=""https://stackoverflow.com/questions/3690116/parse-javascript-variable-with-python"">Parse JavaScript variable with Python</a></p>  <p>[EDIT]<br> I'm using webkit.WebView because I have to show this in an existing glade (libglade) application.</p>"	13269814	"<p>try this out. It uses the addToJavaScriptWindowObject method to add a QObject into the QWebView. This will enable communication between your python script and the HMTL/Javascript in your webview. The example below will let you change the value of the javascript global variable message to whatever value you want through a JavaScript prompt, then whenever you click on the Python Print Message link it will execute your python code that will take the javascript value and just print it to the console.</p>  <pre><code>import sys from PyQt4 import QtCore, QtGui, QtWebKit  HTML = """""" &lt;html&gt;&lt;body onload=""broker.print_msg(message)""&gt; &lt;script&gt;var message = 'print_msg message'&lt;/script&gt; &lt;a href=""javascript:message=prompt('Enter Message')""&gt;Change Message&lt;/a&gt;&lt;br/&gt; &lt;a href=""javascript:broker.print_msg(message)""&gt;Python Print Message&lt;/a&gt; &lt;/body&gt;&lt;/html&gt; """"""  class Broker(QtCore.QObject):     @QtCore.pyqtSlot(str)     def print_msg(self, data):         print data  app = QtGui.QApplication(sys.argv) view = QtWebKit.QWebView() view.page().mainFrame().addToJavaScriptWindowObject('broker', Broker(view)) view.setHtml(HTML) window = QtGui.QMainWindow() window.setCentralWidget(view) window.show() sys.exit(app.exec_()) </code></pre>"
13268947	Python and reading JavaScript variable value	javascript|python|webkit	2012-11-07 11:35:19.990000 UTC	"<p>I am very new to Python programming, so please bear with me.</p>  <p>I have an HTML file with several div layers. This file is opened in a webkit.WebView object. Each div layer saves a value in a global variable (JavaScript) when clicked upon.</p>  <p>How can I read the value of that global JavaScript variable from my Python script?</p>  <p>I found some answers but they don't seem to fit my situation (but I can be wrong, of course):  </p>  <p><a href=""https://stackoverflow.com/questions/2894946/passing-javascript-variable-to-python"">Passing JavaScript variable to Python</a>  </p>  <p><a href=""https://stackoverflow.com/questions/3690116/parse-javascript-variable-with-python"">Parse JavaScript variable with Python</a></p>  <p>[EDIT]<br> I'm using webkit.WebView because I have to show this in an existing glade (libglade) application.</p>"	15737952	"<p>I know this is old question, but still answering it with the hope that it will be useful to someone.</p>  <p>You can use alert handler and read the value in python side. <a href=""http://webkitgtk.org/reference/webkitgtk/stable/webkitgtk-webkitwebview.html#WebKitWebView-script-alert"" rel=""nofollow"">http://webkitgtk.org/reference/webkitgtk/stable/webkitgtk-webkitwebview.html#WebKitWebView-script-alert</a></p>  <p>Example on button click you can have action that says</p>  <pre><code> alert(""Button Clicked""); </code></pre>  <p>On python side you will get the alert notification and you can parse the string. If the object is not a simple object, you will have to convert it to string format that can be parsed on python side. I have seen few examples of alert handler. <a href=""https://github.com/nhrdl/notesMD/blob/master/notesmd.py"" rel=""nofollow"">https://github.com/nhrdl/notesMD/blob/master/notesmd.py</a> is one that I wrote and uses alert handlers to pass lot of data between javascript and python</p>"
13271670	What is the Python equivalent of map in Ruby and Javascript?	python|list|map	2012-11-07 14:23:51.510000 UTC	"<p>Say for example I want to split string <code>""12:30-14:40""</code> and have the result in a matrix like: <code>[[""12"",""30""],[""14"",""40""]]</code>.</p>  <p>I can do this in JavaScript with:</p>  <pre><code>""12:30-14:40"".split(""-"").map(function(x) {     return x.split(':'); }); </code></pre>  <p>and in Ruby with:</p>  <pre><code> ""12:30-14:40"".split(""-"").map{|x| x.split("":"")} </code></pre>  <p>What would be the python equivalent for the above?</p>"	13271746	"<p>You can use a list comprehension:</p>  <pre><code>&gt;&gt;&gt; [i.split(':') for i in ""12:30-14:40"".split('-')] [['12', '30'], ['14', '40']] </code></pre>"
13271670	What is the Python equivalent of map in Ruby and Javascript?	python|list|map	2012-11-07 14:23:51.510000 UTC	"<p>Say for example I want to split string <code>""12:30-14:40""</code> and have the result in a matrix like: <code>[[""12"",""30""],[""14"",""40""]]</code>.</p>  <p>I can do this in JavaScript with:</p>  <pre><code>""12:30-14:40"".split(""-"").map(function(x) {     return x.split(':'); }); </code></pre>  <p>and in Ruby with:</p>  <pre><code> ""12:30-14:40"".split(""-"").map{|x| x.split("":"")} </code></pre>  <p>What would be the python equivalent for the above?</p>"	13271761	"<p>In Python and using <a href=""https://docs.python.org/3/library/functions.html#map"" rel=""nofollow noreferrer""><code>map()</code></a> you will have something like:</p>  <pre><code>In [1]: map(lambda x: x.split("":""), ""12:30-14:40"".split(""-"")) Out[1]: [['12', '30'], ['14', '40']] </code></pre>"
13271670	What is the Python equivalent of map in Ruby and Javascript?	python|list|map	2012-11-07 14:23:51.510000 UTC	"<p>Say for example I want to split string <code>""12:30-14:40""</code> and have the result in a matrix like: <code>[[""12"",""30""],[""14"",""40""]]</code>.</p>  <p>I can do this in JavaScript with:</p>  <pre><code>""12:30-14:40"".split(""-"").map(function(x) {     return x.split(':'); }); </code></pre>  <p>and in Ruby with:</p>  <pre><code> ""12:30-14:40"".split(""-"").map{|x| x.split("":"")} </code></pre>  <p>What would be the python equivalent for the above?</p>"	52748025	"<p>From <a href=""http://grschafer.com/guides/2013/08/20/ruby-and-python-by-example/"" rel=""nofollow noreferrer"">Ruby and Python by example</a></p>  <blockquote>   <h3>Ruby</h3>  <pre><code>a = [1,2,3] a.map { |x| x**2 } # [1,4,9] # map returns a new array # use map! to mutate the original  a.collect { |x| x**2 } # [1,4,9] # collect is an alias of map </code></pre>      <h3>Python</h3>  <pre><code>a = [1,2,3] [x**2 for x in a] # [1,4,9] map(lambda x: x**2, a) # [1,4,9] </code></pre> </blockquote>  <p>If you'd like python to return a list, just like ruby, instead: <code>list(map(lambda x: x**2, a))</code></p>"
13283405	Jade-like templating language for python and javascript	javascript|python|pug|slim-lang|pyjade	2012-11-08 06:05:01.477000 UTC	"<p>Is there a templating language like <a href=""http://jade-lang.com/"" rel=""nofollow"">jade</a> that is for both python and javascript and has the same syntax on each? </p>  <p>Pyjade does not have the same syntax for the engine-specific parts as jade, and therefore will not work for me.</p>  <p>I am willing to use something like <a href=""https://github.com/mkerrin/pwt.jinja2js"" rel=""nofollow"">jinja2js</a>, but jinja2js doesn't work for pyjade.</p>"	13590940	"<p>I'm Syrus, author of <strong>pyjade</strong>. I have developed recently the package <a href=""https://github.com/SyrusAkbary/jsjinja"" rel=""nofollow"">jsjinja</a> which converts Jinja2 templates to javascript in a new and different way.</p>  <p>Check it out! ;)</p>"
13298201	Parsing variable data out of a javascript tag using python	python|html|json|beautifulsoup|python-requests	2012-11-08 21:33:57.700000 UTC	"<p>I am scraping some websites using BeautifulSoup and Requests. There is one page that I am examining that has its data inside of a <code>&lt;script language=""JavaScript"" type=""text/javascript""&gt;</code> tag. It looks like this:</p>  <pre><code>&lt;script language=""JavaScript"" type=""text/javascript""&gt; var page_data = {    ""default_sku"" : ""SKU12345"",    ""get_together"" : {       ""imageLargeURL"" : ""http://null.null/pictures/large.jpg"",       ""URL"" : ""http://null.null/index.tmpl"",       ""name"" : ""Paints"",       ""description"" : ""Here is a description and it works pretty well"",       ""canFavorite"" : 1,       ""id"" : 1234,       ""type"" : 2,       ""category"" : ""faded"",       ""imageThumbnailURL"" : ""http://null.null/small9.jpg""        ...... </code></pre>  <p>Is there a way that I can create a python dictionary or json object out of the <code>page_data</code> variable within this script tag? That would be much nicer then trying to obtain values with BeautifulSoup.</p>"	13298240	"<p>If you use BeautifulSoup to get the contents of the <code>&lt;script&gt;</code> tag, the <a href=""http://docs.python.org/2/library/json.html"" rel=""nofollow noreferrer""><code>json</code> module</a> can do the rest with a bit of string magic:</p>  <pre><code> jsonValue = '{%s}' % (textValue.partition('{')[2].rpartition('}')[0],)  value = json.loads(jsonValue) </code></pre>  <p>The <code>.partition()</code> and <code>.rpartition()</code> combo above split the text on the first <code>{</code> and on the last <code>}</code> in the JavaScript text block, which should be your object definition. By adding the braces back to the text we can feed it to <a href=""http://docs.python.org/2/library/json.html#json.loads"" rel=""nofollow noreferrer""><code>json.loads()</code></a> and get a python structure from it.</p>  <p>This works because JSON is <em>basically</em> the Javascript literal syntax objects, arrays, numbers, booleans and nulls.</p>  <p>Demonstration:</p>  <pre><code>&gt;&gt;&gt; import json &gt;&gt;&gt; text = ''' ... var page_data = { ...    ""default_sku"" : ""SKU12345"", ...    ""get_together"" : { ...       ""imageLargeURL"" : ""http://null.null/pictures/large.jpg"", ...       ""URL"" : ""http://null.null/index.tmpl"", ...       ""name"" : ""Paints"", ...       ""description"" : ""Here is a description and it works pretty well"", ...       ""canFavorite"" : 1, ...       ""id"" : 1234, ...       ""type"" : 2, ...       ""category"" : ""faded"", ...       ""imageThumbnailURL"" : ""http://null.null/small9.jpg"" ...    } ... }; ... ''' &gt;&gt;&gt; json_text = '{%s}' % (text.partition('{')[2].rpartition('}')[0],) &gt;&gt;&gt; value = json.loads(json_text) &gt;&gt;&gt; value {'default_sku': 'SKU12345', 'get_together': {'imageLargeURL': 'http://null.null/pictures/large.jpg', 'URL': 'http://null.null/index.tmpl', 'name': 'Paints', 'description': 'Here is a description and it works pretty well', 'canFavorite': 1, 'id': 1234, 'type': 2, 'category': 'faded', 'imageThumbnailURL': 'http://null.null/small9.jpg'}} &gt;&gt;&gt; import pprint &gt;&gt;&gt; pprint.pprint(value) {'default_sku': 'SKU12345',  'get_together': {'URL': 'http://null.null/index.tmpl',                   'canFavorite': 1,                   'category': 'faded',                   'description': 'Here is a description and it works pretty '                                  'well',                   'id': 1234,                   'imageLargeURL': 'http://null.null/pictures/large.jpg',                   'imageThumbnailURL': 'http://null.null/small9.jpg',                   'name': 'Paints',                   'type': 2}} </code></pre>"
13323976	How to extract a JSON object that was defined in a HTML page javascript block using Python?	python|html-parsing|beautifulsoup|headless-browser	2012-11-10 16:51:24.660000 UTC	"<p>I am downloading HTML pages that have data defined in them in the following way:</p>  <pre><code>... &lt;script type= ""text/javascript""&gt;    window.blog.data = {""activity"":{""type"":""read""}}; &lt;/script&gt; ... </code></pre>  <p>I would like to extract the JSON object defined in 'window.blog.data'. Is there a simpler way than parsing it manually? (I am looking into Beautiful Soap but can't seem to find a method that will return the exact object without parsing)</p>  <p>Thanks</p>  <p><strong>Edit:</strong> Would it be possible and more correct to do this with a python headless browser (e.g., Ghost.py)?</p>"	13325429	"<p>Something like this may work:</p>  <pre><code>import re  HTML = """"""  &lt;html&gt;     &lt;head&gt;     ...     &lt;script type= ""text/javascript""&gt;  window.blog.data = {""activity"":     {""type"":""read""}     };     ...     &lt;/script&gt;      &lt;/head&gt;     &lt;body&gt;     ...     &lt;/body&gt;     &lt;/html&gt; """"""  JSON = re.compile('window.blog.data = ({.*?});', re.DOTALL)  matches = JSON.search(HTML)  print matches.group(1) </code></pre>"
13323976	How to extract a JSON object that was defined in a HTML page javascript block using Python?	python|html-parsing|beautifulsoup|headless-browser	2012-11-10 16:51:24.660000 UTC	"<p>I am downloading HTML pages that have data defined in them in the following way:</p>  <pre><code>... &lt;script type= ""text/javascript""&gt;    window.blog.data = {""activity"":{""type"":""read""}}; &lt;/script&gt; ... </code></pre>  <p>I would like to extract the JSON object defined in 'window.blog.data'. Is there a simpler way than parsing it manually? (I am looking into Beautiful Soap but can't seem to find a method that will return the exact object without parsing)</p>  <p>Thanks</p>  <p><strong>Edit:</strong> Would it be possible and more correct to do this with a python headless browser (e.g., Ghost.py)?</p>"	13325474	"<p>BeautifulSoup is an html parser; you also need a javascript parser here. btw, some javascript object literals are not valid json (though in your example the literal is also a valid json object).</p>  <p>In simple cases you could:</p>  <ol> <li>extract <code>&lt;script&gt;</code>'s text using an html parser</li> <li>assume that <code>window.blog...</code> is a single line or there is no <code>';'</code> inside the object and extract the javascript object literal using simple string manipulations or a regex</li> <li>assume that the string is a valid json and parse it using json module</li> </ol>  <p>Example:</p>    <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python html = """"""&lt;!doctype html&gt; &lt;title&gt;extract javascript object as json&lt;/title&gt; &lt;script&gt; // .. window.blog.data = {""activity"":{""type"":""read""}}; // .. &lt;/script&gt; &lt;p&gt;some other html here """""" import json import re from bs4 import BeautifulSoup  # $ pip install beautifulsoup4 soup = BeautifulSoup(html) script = soup.find('script', text=re.compile('window\.blog\.data')) json_text = re.search(r'^\s*window\.blog\.data\s*=\s*({.*?})\s*;\s*$',                       script.string, flags=re.DOTALL | re.MULTILINE).group(1) data = json.loads(json_text) assert data['activity']['type'] == 'read' </code></pre>  <p>If the assumptions are incorrect then the code fails.</p>  <p>To relax the second assumption, a javascript parser could be used instead of a regex e.g., <a href=""http://slimit.readthedocs.org/"" rel=""noreferrer""><code>slimit</code></a> (<a href=""https://ru.stackoverflow.com/questions/501556/%d0%9a%d0%b0%d0%ba-%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b8%d1%82%d1%8c-%d0%b8%d0%bd%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%86%d0%b8%d1%8e-%d0%b8%d0%b7-%d1%81%d1%82%d1%80%d0%be%d0%ba%d0%b8-json-%d0%ba%d0%be%d1%82%d0%be%d1%80%d0%b0%d1%8f-%d1%83%d0%ba%d0%b0%d0%b7%d0%b0%d0%bd%d0%b0-%d0%b2-javascript-%d0%ba%d0%be%d0%b4%d0%b5-%d0%b2%d0%bd%d1%83%d1%82%d1%80%d0%b8/501630#comment598944_501562"">suggested by @approximatenumber</a>):</p>  <pre class=""lang-py prettyprint-override""><code>from slimit import ast  # $ pip install slimit from slimit.parser import Parser as JavascriptParser from slimit.visitors import nodevisitor  soup = BeautifulSoup(html, 'html.parser') tree = JavascriptParser().parse(soup.script.string) obj = next(node.right for node in nodevisitor.visit(tree)            if (isinstance(node, ast.Assign) and                node.left.to_ecma() == 'window.blog.data')) # HACK: easy way to parse the javascript object literal data = json.loads(obj.to_ecma())  # NOTE: json format may be slightly different assert data['activity']['type'] == 'read' </code></pre>  <p>There is no need to treat the object literal (<code>obj</code>) as a json object. To get the necessary info, <code>obj</code> can be visited recursively like other ast nodes. It would allow to support arbitrary javascript code (that can be parsed by <a href=""http://slimit.readthedocs.org/"" rel=""noreferrer""><code>slimit</code></a>).</p>"
13323976	How to extract a JSON object that was defined in a HTML page javascript block using Python?	python|html-parsing|beautifulsoup|headless-browser	2012-11-10 16:51:24.660000 UTC	"<p>I am downloading HTML pages that have data defined in them in the following way:</p>  <pre><code>... &lt;script type= ""text/javascript""&gt;    window.blog.data = {""activity"":{""type"":""read""}}; &lt;/script&gt; ... </code></pre>  <p>I would like to extract the JSON object defined in 'window.blog.data'. Is there a simpler way than parsing it manually? (I am looking into Beautiful Soap but can't seem to find a method that will return the exact object without parsing)</p>  <p>Thanks</p>  <p><strong>Edit:</strong> Would it be possible and more correct to do this with a python headless browser (e.g., Ghost.py)?</p>"	35910525	"<p>I had a similar issue and ended up using selenium with phantomjs.  It's a little hacky and I couldn't quite figure out the correct wait until method, but the implicit wait seems to work fine so far for me.</p>  <pre><code>from selenium import webdriver import json import re  url = ""http..."" driver = webdriver.PhantomJS(service_args=['--load-images=no']) driver.set_window_size(1120, 550) driver.get(url) driver.implicitly_wait(1) script_text = re.search(r'window\.blog\.data\s*=.*&lt;\/script&gt;', driver.page_source).group(0)  # split text based on first equal sign and remove trailing script tag and semicolon json_text = script_text.split('=',1)[1].rstrip('&lt;/script&gt;').strip().rstrip(';').strip() # only care about first piece of json json_text = json_text.split(""};"")[0] + ""}"" data = json.loads(json_text)  driver.quit() </code></pre>  <p>```</p>"
13323976	How to extract a JSON object that was defined in a HTML page javascript block using Python?	python|html-parsing|beautifulsoup|headless-browser	2012-11-10 16:51:24.660000 UTC	"<p>I am downloading HTML pages that have data defined in them in the following way:</p>  <pre><code>... &lt;script type= ""text/javascript""&gt;    window.blog.data = {""activity"":{""type"":""read""}}; &lt;/script&gt; ... </code></pre>  <p>I would like to extract the JSON object defined in 'window.blog.data'. Is there a simpler way than parsing it manually? (I am looking into Beautiful Soap but can't seem to find a method that will return the exact object without parsing)</p>  <p>Thanks</p>  <p><strong>Edit:</strong> Would it be possible and more correct to do this with a python headless browser (e.g., Ghost.py)?</p>"	68811182	"<p>fast and easy way is ('here put exactly the start (.*?) and the end here') that's all !</p> <pre><code>import re import json html = &quot;&quot;&quot;&lt;!doctype html&gt; &lt;title&gt;extract javascript object as json&lt;/title&gt; &lt;script&gt; // .. window.blog.data = {&quot;activity&quot;:{&quot;type&quot;:&quot;read&quot;}}; // .. &lt;/script&gt; &lt;p&gt;some other html here &quot;&quot;&quot; </code></pre> <p>than simply</p> <pre><code>re.search('{&quot;activity&quot;:{&quot;type&quot;:&quot;(.*?)&quot;', html).group(1) </code></pre> <p>or for full json</p> <pre><code>jsondata = re.search('window.blog.data = (.*?);', html).group(1) jsondata = json.loads(jsondata) print(jsondata[&quot;activity&quot;]) </code></pre> <p>#output {'type': 'read'}</p>"
13369518	Write python environmental variables to a javascript file	javascript|python|heroku|stripe-payments	2012-11-13 21:56:11.547000 UTC	"<p>I'm using <a href=""http://heroku.com"" rel=""nofollow"">Heroku</a> and <a href=""http://stripe.com"" rel=""nofollow"">Stripe</a> in a Python codebase.</p>  <p>There are different api keys stored in the <code>.env</code> file and not directly in a javascript file. Yet my <code>stripe.js</code> requires these keys.</p>  <p>I can access the keys in python, but my goal is to output a javascript constants file that contains this environmental variable so different deploys can use the different versions of the API key.</p>  <p>Thanks.</p>"	13369645	"<p>You can access environment variables using:</p>  <pre><code>import os os.environ['THE_ENVIRONMENT_VARIABLE_NAME'] </code></pre>  <p>Regarding your particular use case, you could:</p>  <ul> <li>Dedicate an URL to distributing the key and having clients hit that URL to retrieve it (do it once).</li> <li>Declare the variable somewhere else that is available to the browser (like, your base HTML template).</li> <li>Generate the full JS file on-the-fly at an URL (using a template to actually write JS and inject the key into it)</li> </ul>"
13436418	Simulating clicking on a javascript link in python	javascript|python|selenium|web-scraping|spidermonkey	2012-11-18 00:52:43.590000 UTC	"<p>I am trying to collate reviews of restaurants. Urllib2 works fine for the initial page of reviews, but there is then a link to load the next increment of comments which is a javascript  link. An example page is <a href=""http://www.just-eat.co.uk/restaurants-chathamgrill-me4/reviews"" rel=""nofollow noreferrer"">here</a>, and the code for the link ""Next 25"" is:</p>  <pre><code>&lt;a href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$RestRatings$Next','')"" class=""red"" id=""ctl00_ContentPlaceHolder1_RestRatings_Next""&gt;NEXT 25&amp;gt;&amp;gt; &lt;/a&gt; </code></pre>  <p>I have looked at all the previous answers (<a href=""https://stackoverflow.com/questions/11018796/clicking-on-a-javascript-link-on-firefox-with-selenium"">e.g.</a>), and I have to say I'm none the wiser. Looking at the console in Firebug doesn't offer up a handy link. Could you suggest the best (easiest) way to achieve this?</p>  <p>Edit: With thanks to Seleniumnewbie this code will print out all the comments from the reviews.:</p>  <pre><code>from selenium import webdriver from BeautifulSoup import BeautifulSoup import re  driver = webdriver.Firefox()  def getURLinfo(url):      driver.get(url)     html = driver.page_source     next25 = ""ctl00_ContentPlaceHolder1_RestRatings_Next""     soup = BeautifulSoup(html)      while soup.find(id=re.compile(next25)):                     driver.find_element_by_id(next25).click()         html = html + driver.page_source         soup = BeautifulSoup(driver.page_source)      soup = BeautifulSoup(html)     comment = soup.findAll(id=re.compile(""divComment""))      for entry in comment:         print entry.div.contents #for comments      driver.close() </code></pre>"	13436490	"<p>Find the element by <code>id=""ctl00_ContentPlaceHolder1_RestRatings_Next""</code> and then click it.</p>"
13436418	Simulating clicking on a javascript link in python	javascript|python|selenium|web-scraping|spidermonkey	2012-11-18 00:52:43.590000 UTC	"<p>I am trying to collate reviews of restaurants. Urllib2 works fine for the initial page of reviews, but there is then a link to load the next increment of comments which is a javascript  link. An example page is <a href=""http://www.just-eat.co.uk/restaurants-chathamgrill-me4/reviews"" rel=""nofollow noreferrer"">here</a>, and the code for the link ""Next 25"" is:</p>  <pre><code>&lt;a href=""javascript:__doPostBack('ctl00$ContentPlaceHolder1$RestRatings$Next','')"" class=""red"" id=""ctl00_ContentPlaceHolder1_RestRatings_Next""&gt;NEXT 25&amp;gt;&amp;gt; &lt;/a&gt; </code></pre>  <p>I have looked at all the previous answers (<a href=""https://stackoverflow.com/questions/11018796/clicking-on-a-javascript-link-on-firefox-with-selenium"">e.g.</a>), and I have to say I'm none the wiser. Looking at the console in Firebug doesn't offer up a handy link. Could you suggest the best (easiest) way to achieve this?</p>  <p>Edit: With thanks to Seleniumnewbie this code will print out all the comments from the reviews.:</p>  <pre><code>from selenium import webdriver from BeautifulSoup import BeautifulSoup import re  driver = webdriver.Firefox()  def getURLinfo(url):      driver.get(url)     html = driver.page_source     next25 = ""ctl00_ContentPlaceHolder1_RestRatings_Next""     soup = BeautifulSoup(html)      while soup.find(id=re.compile(next25)):                     driver.find_element_by_id(next25).click()         html = html + driver.page_source         soup = BeautifulSoup(driver.page_source)      soup = BeautifulSoup(html)     comment = soup.findAll(id=re.compile(""divComment""))      for entry in comment:         print entry.div.contents #for comments      driver.close() </code></pre>"	13436536	"<p>When a user clicks that link, the function __doPostBack is being called in javascript on the client. The link to the other question you provided assumes this function makes an AJAX call and then places the result in the same page.</p>  <p>However, the review pages you have linked to doesn't do that. It does make an AJAX call, but then it reloads the same page. I couldn't get to trap what the AJAX call is because it reloads immediately, but since the page is just reloading with the new comments I'm pretty sure that it is telling the server to move you to the next page. </p>  <p>So, in order to get your next page of comments you will have to call the same url that the __doPostBack function is calling and then reload the page you are on. To find this url, I would de-obfuscate their javascript and find the function being called. I believe the actual URL that will be called will depend on the parameter to that function so you want to make sure to replicate what it does. </p>"
13449562	Execute Javascript method on web page from Python	javascript|python|web-scraping	2012-11-19 07:45:32.503000 UTC	"<p>I am writing a web scraper for a particular webpage and I am doing this with ""urllib2.Request(MyURL)"" and ""BeautifulSoup"" but the problem is that there is a Paging on page in MyURL and the next page loads (in same myURL/page) by clicking on a link, behind this link is the javascript method written as</p>  <pre><code>{ javascript:__doPostBack('rptPagingBottom$ctl01$btnPage','') }. </code></pre>  <p>Now without executing this Javascript function from Python, I can not get a complete page listing. How can I call this Javascript method from Python so that I can get all pages of that web page?</p>  <p>I found one related question <a href=""https://stackoverflow.com/questions/8284765/call-javascript-function-from-python"">here</a> where it is suggested to use (Rhino, V8, SeaMonkey) but I did not get this at all. I need some example code if it is possible.</p>"	13451006	"<p>Try <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> for this kind of dirty work(inline js, ajax page loading). It is able to emulate exact what browsers can do with python and browser-driver.</p>  <p>You can get some info about how to use it as a crawler by search google with keyword 'selenium crawler'.</p>"
13461211	IPython Notebook - Detect if Kernel is Busy/Idle in Javascript	javascript|python|ipython	2012-11-19 19:58:48.550000 UTC	<p>I'm currently trying to get interactive plots working with IPython notebook. One of the issues I'm having is the fact that when executing Python code through the IPython.notebook.kernel.execute method in javascript I have no way of knowing when that piece of code has finished executing. Is there an easy way of detecting whether the kernel is busy/idle so that I can tell Javascript to idle until it's completed?</p>	15513797	"<p>The Kernel status is probably what you are looking for:</p>  <p><a href=""http://ipython.org/ipython-doc/dev/development/messaging.html#kernel-status"" rel=""nofollow"">http://ipython.org/ipython-doc/dev/development/messaging.html#kernel-status</a></p>  <p>You can find some additional inspiration in the kernel.js of the IPython notebook (just search for ""busy""):</p>  <p><a href=""https://github.com/ipython/ipython/blob/master/IPython/frontend/html/notebook/static/js/kernel.js"" rel=""nofollow"">https://github.com/ipython/ipython/blob/master/IPython/frontend/html/notebook/static/js/kernel.js</a></p>"
13461211	IPython Notebook - Detect if Kernel is Busy/Idle in Javascript	javascript|python|ipython	2012-11-19 19:58:48.550000 UTC	<p>I'm currently trying to get interactive plots working with IPython notebook. One of the issues I'm having is the fact that when executing Python code through the IPython.notebook.kernel.execute method in javascript I have no way of knowing when that piece of code has finished executing. Is there an easy way of detecting whether the kernel is busy/idle so that I can tell Javascript to idle until it's completed?</p>	29571726	"<p>I know this is a really old question, but just in case anyone is looking...</p>  <pre><code>    require(['base/js/namespace', 'base/js/events'], function (IPython, events) {         events.on('kernel_idle.Kernel', yourFunction);     }); </code></pre>"
13468289	SignUp Form Validation: Frontend Javascript versus backend Python?	javascript|python|web-applications|web|client-server	2012-11-20 07:18:20.553000 UTC	"<p>Client side Javascript versus Server Side Python</p>  <p>If I want to create a registration form, what are the pros and cons of validating - checking - for incorrect input- through each method. What do you recommend?</p>"	13468352	"<p>You <strong>need</strong> server-side (backend) code to create a signup system. You need to somehow create the user and store the data entered by the user after all and that cannot be done on the client.</p>  <p>The most common case to mix server-side and client-side is like this:</p>  <ul> <li>Use client-side code to improve the user experience. This means: Initial validation, possibly AJAX requests to check if e.g. the chosen username is valid and available.</li> <li>Use server-side code for the final validation (you cannot trust <em>anything</em> coming from the client) and obviously to eventually perform the actual signup by creating a new user and storing it in your database.</li> </ul>  <p>Assuming that the vast majority of your users have JavaScript enabled and you do not bother providing a great UX to those who don't, too, you <em>could</em> simplify things by providing detailed error messages (e.g. involving highlighting of the erroneous fields) in your client-side validation logic while just displaying a generic error message if something fails the server-side validation.<br> However, in case there are things you cannot properly validate on the client (even though that's unlikely in case he has JS enabled since you can then use AJAX), you should make sure that the server-side validation does show a proper error message so the user knows what's wrong.</p>  <p>If the user does not submit anything huge (such as file uploads) and you have some clean way to re-fill all form fields in case of an invalid submission the easiest solution would be doing only server-side validation as this would avoid creating validation logic twice (assuming you do not have some way to specify it in an abstract way that can be accessed by both server-side and client-side code).</p>  <p>Another possibility - especially a good idea when password fields are involved (for good UX you want to preserve what the user entered even after a bad submission but from a security point of view you should not send the user's password back to avoid it from being cached somewhere) - would be using AJAX to submit the whole form and e.g. send back a JSON payload containing the URL where the user should be redirected in case of success or a list of errors in case of failure. This especially has the advantage that you could easily write your server-side code in a way that either returns the JSON payload in case of an AJAX request or a full HTML page in case of a normal request.</p>"
13468289	SignUp Form Validation: Frontend Javascript versus backend Python?	javascript|python|web-applications|web|client-server	2012-11-20 07:18:20.553000 UTC	"<p>Client side Javascript versus Server Side Python</p>  <p>If I want to create a registration form, what are the pros and cons of validating - checking - for incorrect input- through each method. What do you recommend?</p>"	13468412	"<p><strong>JavaScript</strong><br>  - Pros:<br> Easy to test and implement. When doing form validation JavaScript can do instantaneous validation and has many utilities for regex checking and DOM traversal (jQuery). Also, the processing is offloaded to the client (though this may be negligible).<br>  - Cons:<br> Users that don't support JavaScript  </p>  <p><strong>Python</strong><br>  - Pros:<br> Support for users without JavaScript. Hidden and therefore more secure.<br>  - Cons:<br> The page will need to be refreshed in order for results to be displayed. This may be frustrating for some users as not all fields (eg password field) should be saved.  </p>  <p>I would use JavaScript for instantaneous feedback and Python for end-result error-checking and as a fallback for users without JavaScript.</p>"
13481070	Does Python (wxPython) have an equivalent of the JavaScript setTimeout function?	python|wxpython	2012-11-20 19:56:24.650000 UTC	"<p>I'm currently working with wxPython and find myself needing JavaScript's <code>setTimeout</code> function for throttling of quickly repeating events. Example of what I want:</p>  <pre><code>def on_resize(self, event):     if self.resize_timeout:         clear_timeout(self.resize_timeout)      self.resize_timeout = set_timeout(lambda: self.save_size(), 1000) </code></pre>  <p>Let's say <code>self.save_size()</code> is a heavy operation. With the timeout functions I can delay saving the frame size until a second after the last resize event fired.</p>  <p>Does Python/wxPython have a mechanism for doing things like this?</p>"	13481405	"<p>I would just use one or more wx.Timers. Here's a tutorial: <a href=""http://www.blog.pythonlibrary.org/2009/08/25/wxpython-using-wx-timers/"" rel=""nofollow"">http://www.blog.pythonlibrary.org/2009/08/25/wxpython-using-wx-timers/</a></p>"
13486688	Build tool for both JavaScript and Python	javascript|python|build-automation	2012-11-21 05:06:38.430000 UTC	"<p>I'm about to create a web app written in python on the backend and javascript on the frontend. I'm looking for a tool like Ant that lets you run some tests(for both python and js) and if they pass then do the next task, like minify js files or generate documentation.</p>  <p>I've not decided the js test framework yet. It would be the one that best fits with the build tool. Probably one accessible from the command prompt.</p>  <p>I'm aware that nose lets you automate your tests, but I need to do it for both languages and then do the rest.</p>  <p>Thanks.</p>"	13487238	"<p>Using a system such as <a href=""http://www.buildout.org/"" rel=""nofollow"">Buildout</a> along with a look at <a href=""http://blog.toms-projekte.de/?p=33"" rel=""nofollow"">JS Minify In Buildout</a> looks like that is the way to go.</p>  <p>I have used Buildout in-conjunction with <a href=""http://hudson-ci.org/"" rel=""nofollow"">Hudson</a> to perform my automated builds and deployments in the past.</p>"
13543660	Can't write text sent by javascript to a .txt file using python cgi	javascript|python|xmlhttprequest|cgi	2012-11-24 17:28:58.827000 UTC	"<p>I'm having an error, while tring to write my string variable sent from javascript to a .txt file in cgi. this is the python cgi code with the error:</p>  <pre><code>          1  #!/usr/bin/python           2           3 import cgi, cgitb           4 cgitb.enable()           5           6 print ""Content-type: text/html""           7 print           8           9 print ""&lt;html&gt;&lt;head&gt;&lt;title&gt;Nimed&lt;/title&gt;&lt;/head&gt;&lt;br/&gt;""          10            12 formdata = cgi.FieldStorage()          13 tulemused = formdata.getvalue('tulemused')          14 f = open('/home/t103692/public_html/prax3/tulemused.txt', 'a')     =&gt;   15 f.write(tulemused)          16 f.close()     f = &lt;open file '/home/t103692/public_html/prax3/tulemused.txt', mode 'a'&gt;, f.write =      &lt;built-in method write of file object&gt;, tulemused = None      &lt;type 'exceptions.TypeError'&gt;: expected a character buffer object            args = ('expected a character buffer object',)            message = 'expected a character buffer object' </code></pre>  <p>And here's the javascript code, where I send the variable:</p>  <pre><code>    function saadaTulemused() {     var xmlhttp = new XMLHttpRequest();     xmlhttp.open(""POST"",""http://dijkstra.cs.ttu.ee/~t103692/cgi-bin/save.py"", true);     xmlhttp.setRequestHeader(""content-type"",""application/x-www-form-urlencoded"");     xmlhttp.send(tulemused);     } </code></pre>  <p>""tulemused"" is the string variable, which already contains some text without spaces.</p>  <p>How can I solve the error?</p>"	13543673	"<p><code>tulemused</code> is <code>None</code> and you cannot write that to a file. </p>  <p>You need to actually send <code>x-www-form-urlencoded</code> data from your JavaScript handler; currently you only send the value and nothing else.</p>  <p>Prefixing the string with <code>'tulemused='</code> should be enough:</p>  <pre><code>xmlhttp.send(""tulemused="" + tulemused); </code></pre>"
13548496	Return data from Python to Javascript	javascript|python|return	2012-11-25 05:11:22.890000 UTC	"<p>I have a Python script that prints and returns all image files from a folder in the server.</p>  <pre><code>import os images = """" for dirname, dirnames, filenames in os.walk('..\directory'):     for filename in filenames:         images = images + os.path.join(dirname, filename) + ""^"" print(images) return images </code></pre>  <p>I am calling this in Javascript using:</p>  <pre><code>$.get(""scripts/filename.py"", function(data){   alert(data); }); </code></pre>  <p>However, instead of the getting the 'printed' or returned data, it is just displaying the code from filename.py. Am I missing something here? </p>  <p>EDIT: By the way, I am using Google App Engine to host my website.</p>"	13548506	"<p>Do you have Python set up to run on your server?</p>  <ul> <li><p><a href=""http://www.editrocket.com/articles/python_apache_windows.html"" rel=""nofollow noreferrer"">Configuring the Apache Web Server to Run Python on Windows</a> or</p></li> <li><p><a href=""http://ujjaini.wordpress.com/2010/08/13/how-to-run-python-script-on-apache-on-windows/"" rel=""nofollow noreferrer"">How to Configure Apache to run Python on Windows</a></p></li> </ul>"
13548496	Return data from Python to Javascript	javascript|python|return	2012-11-25 05:11:22.890000 UTC	"<p>I have a Python script that prints and returns all image files from a folder in the server.</p>  <pre><code>import os images = """" for dirname, dirnames, filenames in os.walk('..\directory'):     for filename in filenames:         images = images + os.path.join(dirname, filename) + ""^"" print(images) return images </code></pre>  <p>I am calling this in Javascript using:</p>  <pre><code>$.get(""scripts/filename.py"", function(data){   alert(data); }); </code></pre>  <p>However, instead of the getting the 'printed' or returned data, it is just displaying the code from filename.py. Am I missing something here? </p>  <p>EDIT: By the way, I am using Google App Engine to host my website.</p>"	13548634	"<p>You need to have some Web Framework setup like <a href=""http://flask.pocoo.org/"" rel=""nofollow"">Flask</a> or <a href=""http://www.cherrypy.org/"" rel=""nofollow"">cherrypy</a>. I would suggest go with Flask, it's the easiest Web Framework to get started with. </p>  <p>And then you need to have some endpoint to which you can send an <code>AJAX GET</code> Request, and then your Python script will return a JSON response. You can iterate through this JSON response to print out the results.</p>  <p>This code might work out for you:</p>  <pre><code>import sys, os from flask import Flask, request, url_for, render_template  @app.route('/images') def index():     images = """"     for dirname, dirnames, filenames in os.walk('..\directory'):         for filename in filenames:             images = images + os.path.join(dirname, filename) + ""^""     print(images)     # return a json encoded response     return Response(json.dumps(images, sort_keys=True, indent=4), mimetype='application/json')  if __name__ == '__main__':     # Bind to PORT if defined, otherwise default to 5000.     port = int(os.environ.get('PORT', 5000))     app.run(host='0.0.0.0', port=port) </code></pre>  <p>Now you need to start the server, and whenever you send a GET Request at <code>localhost:5000/images</code> it will return the JSON response you're looking for.</p>"
13548496	Return data from Python to Javascript	javascript|python|return	2012-11-25 05:11:22.890000 UTC	"<p>I have a Python script that prints and returns all image files from a folder in the server.</p>  <pre><code>import os images = """" for dirname, dirnames, filenames in os.walk('..\directory'):     for filename in filenames:         images = images + os.path.join(dirname, filename) + ""^"" print(images) return images </code></pre>  <p>I am calling this in Javascript using:</p>  <pre><code>$.get(""scripts/filename.py"", function(data){   alert(data); }); </code></pre>  <p>However, instead of the getting the 'printed' or returned data, it is just displaying the code from filename.py. Am I missing something here? </p>  <p>EDIT: By the way, I am using Google App Engine to host my website.</p>"	60601434	<p>Just put the Phyton script in cgi folder</p>
13639464	Javascript equivalent to python's .format()	javascript|python|string|formatting|string-formatting	2012-11-30 05:18:53.650000 UTC	"<p>I would like a javascript function that mimics the python .format() function that works like</p>  <pre><code>.format(*args, **kwargs) </code></pre>  <p>A previous question gives a possible (but not complete) solution for '.format(*args)</p>  <p><a href=""https://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format"">JavaScript equivalent to printf/string.format</a></p>  <p>I would like to be able to do</p>  <pre><code>""hello {} and {}"".format(""you"", ""bob"" ==&gt; hello you and bob  ""hello {0} and {1}"".format(""you"", ""bob"") ==&gt; hello you and bob  ""hello {0} and {1} and {a}"".format(""you"", ""bob"",a=""mary"") ==&gt; hello you and bob and mary  ""hello {0} and {1} and {a} and {2}"".format(""you"", ""bob"",""jill"",a=""mary"") ==&gt; hello you and bob and mary and jill </code></pre>  <p>I realize that's a tall order, but maybe somewhere out there is a complete (or at least partial) solution that includes keyword arguments as well.</p>  <p>Oh, and I hear AJAX and JQuery possibly have methods for this, but I would like to be able to do it without all that overhead.</p>  <p>In particular, I would like to be able to use it with a script for a google doc.</p>  <p>Thanks</p>"	13639605	"<p>This should work similar to python's <code>format</code> but with an object with named keys, it could be numbers as well.</p>  <pre><code>String.prototype.format = function( params ) {   return this.replace(     /\{(\w+)\}/g,      function( a,b ) { return params[ b ]; }   ); };  console.log( ""hello {a} and {b}."".format( { a: 'foo', b: 'baz' } ) ); //^= ""hello foo and baz."" </code></pre>"
13639464	Javascript equivalent to python's .format()	javascript|python|string|formatting|string-formatting	2012-11-30 05:18:53.650000 UTC	"<p>I would like a javascript function that mimics the python .format() function that works like</p>  <pre><code>.format(*args, **kwargs) </code></pre>  <p>A previous question gives a possible (but not complete) solution for '.format(*args)</p>  <p><a href=""https://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format"">JavaScript equivalent to printf/string.format</a></p>  <p>I would like to be able to do</p>  <pre><code>""hello {} and {}"".format(""you"", ""bob"" ==&gt; hello you and bob  ""hello {0} and {1}"".format(""you"", ""bob"") ==&gt; hello you and bob  ""hello {0} and {1} and {a}"".format(""you"", ""bob"",a=""mary"") ==&gt; hello you and bob and mary  ""hello {0} and {1} and {a} and {2}"".format(""you"", ""bob"",""jill"",a=""mary"") ==&gt; hello you and bob and mary and jill </code></pre>  <p>I realize that's a tall order, but maybe somewhere out there is a complete (or at least partial) solution that includes keyword arguments as well.</p>  <p>Oh, and I hear AJAX and JQuery possibly have methods for this, but I would like to be able to do it without all that overhead.</p>  <p>In particular, I would like to be able to use it with a script for a google doc.</p>  <p>Thanks</p>"	13639670	"<p>UPDATE: If you're using ES6, template strings work very similarly to <code>String.format</code>: <a href=""https://developers.google.com/web/updates/2015/01/ES6-Template-Strings"" rel=""nofollow noreferrer"">https://developers.google.com/web/updates/2015/01/ES6-Template-Strings</a></p>  <p>If not, the below works for all the cases above, with a very similar syntax to python's <code>String.format</code> method.  Test cases below.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>String.prototype.format = function() {   var args = arguments;   this.unkeyed_index = 0;   return this.replace(/\{(\w*)\}/g, function(match, key) {      if (key === '') {       key = this.unkeyed_index;       this.unkeyed_index++     }     if (key == +key) {       return args[key] !== 'undefined'       ? args[key]       : match;     } else {       for (var i = 0; i &lt; args.length; i++) {         if (typeof args[i] === 'object' &amp;&amp; typeof args[i][key] !== 'undefined') {           return args[i][key];         }       }       return match;     }   }.bind(this)); };  // Run some tests $('#tests')   .append(     ""hello {} and {}&lt;br /&gt;"".format(""you"", ""bob"")   )   .append(     ""hello {0} and {1}&lt;br /&gt;"".format(""you"", ""bob"")   )   .append(     ""hello {0} and {1} and {a}&lt;br /&gt;"".format(""you"", ""bob"", {a:""mary""})   )   .append(     ""hello {0} and {1} and {a} and {2}&lt;br /&gt;"".format(""you"", ""bob"", ""jill"", {a:""mary""})   );</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""&gt;&lt;/script&gt; &lt;div id=""tests""&gt;&lt;/div&gt;</code></pre> </div> </div> </p>"
13666985	IronPython and Javascript execution via C# isn't consistent?	c#|javascript|.net-4.0|ironpython|dynamic-language-runtime	2012-12-02 06:29:26.290000 UTC	"<blockquote> <p><strong>Possible Duplicate:</strong><br /> <a href=""https://stackoverflow.com/questions/588004/is-javascripts-math-broken"">Is JavaScript’s Math broken?</a></p> </blockquote>  <p>I wrote some simple C# code that runs Python code dynamically (already implemented):</p> <pre><code>string code = @&quot;100 * 2 + 4 / 3&quot;; ScriptEngine engine = Python.CreateEngine(); ScriptSource source = engine.CreateScriptSourceFromString(code, SourceCodeKind.Expression); int res = source.Execute&lt;int&gt;(); Console.WriteLine(res); </code></pre> <p>And then I thought about Javascript, and that there are core differences between C# and JS. For example:</p> <p>In JS:</p> <pre><code>var t=1.02+1.01 = 2.0300000000000002; </code></pre> <p>And then I tried this via <a href=""http://jint.codeplex.com/"" rel=""nofollow noreferrer"">Jint</a>:</p> <pre><code>var script = @&quot;   function add( ) {     return 1.02 + 1.01;   };   return add();&quot;;   var result = new JintEngine().Run(script);   Console.WriteLine(result); </code></pre> <p>The result was:</p> <p><img src=""https://i.stack.imgur.com/nZUdT.jpg"" alt=""enter image description here"" /></p> <p>Maybe I don't see the whole picture, but if a programmer on the other side of the world sends me his script file, I (and him) expect the result to be consistent! (Let's <strong>ignore</strong> the problematic base 2 representation for now, I'm talking about consistency).</p> <p>If I was mistaken, in what scenario would I use running other code on .Net? (I will have to be very very suspicious for <em>every line</em> of code...)</p> <p>Am I right ?</p> <h1>another Example :</h1> <pre><code>   var script = @&quot;                                function show( )                                {                                       return  parseInt('123asd'); //in js it's 123                                };                                return show();&quot;;                  var result = new JintEngine().Run(script);                 Console.WriteLine(result); </code></pre> <p>result :</p> <p><img src=""https://i.stack.imgur.com/SwsTz.jpg"" alt=""enter image description here"" /></p> <p>How can I trust a script to yield the same expected result ? ( or am I getting this whole situation wrong...?)</p>"	13667038	"<p>This is no error, what you are witnessing is how computers store decimal numbers. This subject is rather complicated... Computers cannot store the exact numeral for a decimal number, when you added together 1.01 and 1.02, you got exactly what the computer thought the result was.</p>  <p>It is not unusual for you to get this. What i suggest you do in this situation is round the number to the decimal placement you want (e.g. the hundredths placement, for you). But this will only work when dealing with larger numbers. When you want to deal with smaller, more precise decimals, you are going to have to either deal with it, or get a super computer.</p>"
13666985	IronPython and Javascript execution via C# isn't consistent?	c#|javascript|.net-4.0|ironpython|dynamic-language-runtime	2012-12-02 06:29:26.290000 UTC	"<blockquote> <p><strong>Possible Duplicate:</strong><br /> <a href=""https://stackoverflow.com/questions/588004/is-javascripts-math-broken"">Is JavaScript’s Math broken?</a></p> </blockquote>  <p>I wrote some simple C# code that runs Python code dynamically (already implemented):</p> <pre><code>string code = @&quot;100 * 2 + 4 / 3&quot;; ScriptEngine engine = Python.CreateEngine(); ScriptSource source = engine.CreateScriptSourceFromString(code, SourceCodeKind.Expression); int res = source.Execute&lt;int&gt;(); Console.WriteLine(res); </code></pre> <p>And then I thought about Javascript, and that there are core differences between C# and JS. For example:</p> <p>In JS:</p> <pre><code>var t=1.02+1.01 = 2.0300000000000002; </code></pre> <p>And then I tried this via <a href=""http://jint.codeplex.com/"" rel=""nofollow noreferrer"">Jint</a>:</p> <pre><code>var script = @&quot;   function add( ) {     return 1.02 + 1.01;   };   return add();&quot;;   var result = new JintEngine().Run(script);   Console.WriteLine(result); </code></pre> <p>The result was:</p> <p><img src=""https://i.stack.imgur.com/nZUdT.jpg"" alt=""enter image description here"" /></p> <p>Maybe I don't see the whole picture, but if a programmer on the other side of the world sends me his script file, I (and him) expect the result to be consistent! (Let's <strong>ignore</strong> the problematic base 2 representation for now, I'm talking about consistency).</p> <p>If I was mistaken, in what scenario would I use running other code on .Net? (I will have to be very very suspicious for <em>every line</em> of code...)</p> <p>Am I right ?</p> <h1>another Example :</h1> <pre><code>   var script = @&quot;                                function show( )                                {                                       return  parseInt('123asd'); //in js it's 123                                };                                return show();&quot;;                  var result = new JintEngine().Run(script);                 Console.WriteLine(result); </code></pre> <p>result :</p> <p><img src=""https://i.stack.imgur.com/SwsTz.jpg"" alt=""enter image description here"" /></p> <p>How can I trust a script to yield the same expected result ? ( or am I getting this whole situation wrong...?)</p>"	13667061	"<p>I don't see any ""inconsistency"".  That's just how floating point numbers work!</p>  <p>1) The value - by definition - is seldom ""exact""</p>  <p>2) The representation (e.g. from Printing out to a string) can be totally misleading if you try to print out more digits than your value has precision :)</p>  <p>Sample C code</p>  <pre><code>#include &lt;stdio.h&gt;  int  main () {   double d = 1.02 + 1.01;   float f = 1.02 + 1.01;   printf (""d=%lf, f=%f\n"", d, f);   printf (""d=%25.20lf, f=%25.20f\n"", d, f);   return 0; } </code></pre>  <p>Sample output:</p>  <pre><code>d=2.030000, f=2.030000 d=   2.03000000000000020000, f=   2.02999997138977050000 </code></pre>  <p>Excellent article:</p>  <ul> <li><a href=""http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html"" rel=""nofollow noreferrer"">What Every Computer Scientist Should Know About Floating Point Arithmetic</a></li> </ul>  <p>Finally, please read this discussion:</p>  <ul> <li><a href=""https://stackoverflow.com/questions/588004/is-javascripts-math-broken"">Is floating point math broken?</a></li> </ul>  <p>The problem is NOT Python, it's NOT C#, it's NOT Javascript.</p>  <p>I assure you :)</p>"
13693479	Fabric:Python as ???:Javascript	django|node.js|heroku|fabric	2012-12-03 23:12:18.147000 UTC	"<p>I have been using <a href=""https://github.com/fabric/fabric"" rel=""nofollow"">Fabric</a> to do deployment for a Django app.  I am using some node.js stuff now and am looking to see if there is a tool that does what Fabric did for python - but that is built mainly for javascript and node.</p>  <p>My main use case is to save everything to git and deploy to heroku by just typing <code>fab deploy</code> - but for node.</p>"	13801166	"<p>Try <a href=""https://github.com/VanCoding/NodeSSH/blob/master/examples/sample.js"" rel=""nofollow"">NodeJS</a> or <a href=""https://github.com/tsmith/node-control"" rel=""nofollow"">node-control</a>. Both are node.js ssh clients.</p>"
13746821	I've created a list in python but how do I iterate through this list in javascript?	javascript|jquery|python|django|json	2012-12-06 15:23:00.133000 UTC	"<p>I create a list in python and then have converted it to json.  But I'm having trouble iterating through this in javascript and displaying the correct items.</p>  <p>Any advice?</p>  <p>python:</p>  <pre><code>def friends2(request):     fb_feed = [#data in here]     b = json.dumps(fb_feed)     print b     return HttpResponse(b) </code></pre>  <p>what is printed in the console when I <code>print b</code>:</p>  <pre><code>[     [1236870349, ""Your friend"", ""Bhangra indian Jingle Bells balle balle Merry Christmas"", ""2lPdXV1KO4s"", ""Your friend watched \""Bhangra indian Jingle Bells balle balle Merry Christmas\""""],      [2303218, ""Your friend"", ""Look at this Instagram (Nickelback Parody)"", ""ttp://www.c"", ""Your friend watched \""Look at this Instagram (Nickelback Parody)\""""]  ] </code></pre>  <p>javascript</p>  <pre><code>    &lt;script&gt; $(document).ready(function (){              event.preventDefault();             $.ajax({                  type:""GET"",                  url:""/friends2/"",                  data: {},                   success: function(b){                     b = jQuery.parseJSON(b);                                             console.log(b) //returns null                     for (var i = 0; i &lt; b.length; i++) {                              var friend = """";                             friend = b[i][3]                             friend += ""\n"";                             $('.social').append(friend);                         }                                      }             }); }); &lt;/script&gt; </code></pre>  <p>html</p>  <pre><code>&lt;div class = 'social'&gt;&lt;/div&gt; </code></pre>"	13746918	"<p>Add <code>dataType:json</code> to <code>$.ajax</code> script</p>  <pre><code> $.ajax({          type:""GET"",          url:""/friends2/"",  #the url /friends2/ points to friends2 in python          data: {},          dataType: json, //ADD THIS          ...          ... </code></pre>  <p>If you don't want to add <code>dataType</code> then you can use <code>jQuery.parseJSON(b)</code> to parse your json string,</p>  <pre><code>success: function(b) {     var data = jQuery.parseJSON(b); //parse JSON string here     ...     ...  } </code></pre>"
13746821	I've created a list in python but how do I iterate through this list in javascript?	javascript|jquery|python|django|json	2012-12-06 15:23:00.133000 UTC	"<p>I create a list in python and then have converted it to json.  But I'm having trouble iterating through this in javascript and displaying the correct items.</p>  <p>Any advice?</p>  <p>python:</p>  <pre><code>def friends2(request):     fb_feed = [#data in here]     b = json.dumps(fb_feed)     print b     return HttpResponse(b) </code></pre>  <p>what is printed in the console when I <code>print b</code>:</p>  <pre><code>[     [1236870349, ""Your friend"", ""Bhangra indian Jingle Bells balle balle Merry Christmas"", ""2lPdXV1KO4s"", ""Your friend watched \""Bhangra indian Jingle Bells balle balle Merry Christmas\""""],      [2303218, ""Your friend"", ""Look at this Instagram (Nickelback Parody)"", ""ttp://www.c"", ""Your friend watched \""Look at this Instagram (Nickelback Parody)\""""]  ] </code></pre>  <p>javascript</p>  <pre><code>    &lt;script&gt; $(document).ready(function (){              event.preventDefault();             $.ajax({                  type:""GET"",                  url:""/friends2/"",                  data: {},                   success: function(b){                     b = jQuery.parseJSON(b);                                             console.log(b) //returns null                     for (var i = 0; i &lt; b.length; i++) {                              var friend = """";                             friend = b[i][3]                             friend += ""\n"";                             $('.social').append(friend);                         }                                      }             }); }); &lt;/script&gt; </code></pre>  <p>html</p>  <pre><code>&lt;div class = 'social'&gt;&lt;/div&gt; </code></pre>"	13747117	"<p>I think there is a mistake in your code. the json should be correct. b[3] is undefined, as the array is of length 2. did you mean b[i][3]?</p>  <p>everything else should work as far as i can tell.</p>"
13746821	I've created a list in python but how do I iterate through this list in javascript?	javascript|jquery|python|django|json	2012-12-06 15:23:00.133000 UTC	"<p>I create a list in python and then have converted it to json.  But I'm having trouble iterating through this in javascript and displaying the correct items.</p>  <p>Any advice?</p>  <p>python:</p>  <pre><code>def friends2(request):     fb_feed = [#data in here]     b = json.dumps(fb_feed)     print b     return HttpResponse(b) </code></pre>  <p>what is printed in the console when I <code>print b</code>:</p>  <pre><code>[     [1236870349, ""Your friend"", ""Bhangra indian Jingle Bells balle balle Merry Christmas"", ""2lPdXV1KO4s"", ""Your friend watched \""Bhangra indian Jingle Bells balle balle Merry Christmas\""""],      [2303218, ""Your friend"", ""Look at this Instagram (Nickelback Parody)"", ""ttp://www.c"", ""Your friend watched \""Look at this Instagram (Nickelback Parody)\""""]  ] </code></pre>  <p>javascript</p>  <pre><code>    &lt;script&gt; $(document).ready(function (){              event.preventDefault();             $.ajax({                  type:""GET"",                  url:""/friends2/"",                  data: {},                   success: function(b){                     b = jQuery.parseJSON(b);                                             console.log(b) //returns null                     for (var i = 0; i &lt; b.length; i++) {                              var friend = """";                             friend = b[i][3]                             friend += ""\n"";                             $('.social').append(friend);                         }                                      }             }); }); &lt;/script&gt; </code></pre>  <p>html</p>  <pre><code>&lt;div class = 'social'&gt;&lt;/div&gt; </code></pre>"	13755815	"<p>If your view is returning JSON, you should set the content type (MIME type) accordingly:</p> <pre><code>return HttpResponse(b, content_type='application/json') </code></pre> <p>jQuery's <code>$.ajax</code> is smart enough to automatically apply <code>dataType: json</code> when the MIME type is set correctly:</p> <blockquote> <p>dataType</p> <p>Default: Intelligent Guess (xml, json, script, or html)</p> <p>The type of data that you're expecting back from the server. If none is specified, jQuery will try to infer it based on the MIME type of the response</p> </blockquote>"
13762742	Passing a JSON across python socket to Javascript	javascript|python|sockets|websocket	2012-12-07 12:04:02.300000 UTC	"<p>I'm using python socket to communicate with JavaScript clients.</p>  <p><a href=""http://docs.python.org/2/library/socket.html"" rel=""nofollow"">http://docs.python.org/2/library/socket.html</a></p>  <p>And following the part of JavaScript code,</p>  <pre><code>ws = new WebSocket(""ws://localhost:7777/""); ws.onopen = function(){   alert(""websocket opened.""); } ws.onclose = function(){   alert(""websocket closed.""); } ws.onmessage = function(e) {   alert(e.data); } </code></pre>  <p>I need to pass a json or a string from the python socket to the JavaScript. Still cant find a way to pass a json. Not any encoding mechanism support for that.       </p>"	13762898	"<p>Hmm, as a fact you can't send python's object to your client's js. But you can send valid json in the string and parse it on client by jQuery.parseJSON for example.</p>"
13762742	Passing a JSON across python socket to Javascript	javascript|python|sockets|websocket	2012-12-07 12:04:02.300000 UTC	"<p>I'm using python socket to communicate with JavaScript clients.</p>  <p><a href=""http://docs.python.org/2/library/socket.html"" rel=""nofollow"">http://docs.python.org/2/library/socket.html</a></p>  <p>And following the part of JavaScript code,</p>  <pre><code>ws = new WebSocket(""ws://localhost:7777/""); ws.onopen = function(){   alert(""websocket opened.""); } ws.onclose = function(){   alert(""websocket closed.""); } ws.onmessage = function(e) {   alert(e.data); } </code></pre>  <p>I need to pass a json or a string from the python socket to the JavaScript. Still cant find a way to pass a json. Not any encoding mechanism support for that.       </p>"	13762907	"<p>In python you can use the <a href=""http://docs.python.org/2/library/json.html"" rel=""nofollow"">JSON module</a>. And in JavaScript you can use <a href=""http://api.jquery.com/jQuery.parseJSON/"" rel=""nofollow"">jQuery.parseJSON</a></p>  <p>Example from the python doc:</p>  <pre><code>&gt;&gt;&gt; import json &gt;&gt;&gt; json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}]) '[""foo"", {""bar"": [""baz"", null, 1.0, 2]}]' &gt;&gt;&gt; print json.dumps(""\""foo\bar"") ""\""foo\bar"" &gt;&gt;&gt; print json.dumps(u'\u1234') ""\u1234"" &gt;&gt;&gt; print json.dumps('\\') ""\\"" &gt;&gt;&gt; print json.dumps({""c"": 0, ""b"": 0, ""a"": 0}, sort_keys=True) {""a"": 0, ""b"": 0, ""c"": 0} </code></pre>  <p>Example from jQuery doc:</p>  <pre><code>var obj = jQuery.parseJSON('{""name"":""John""}'); alert( obj.name === ""John"" ); </code></pre>"
13762742	Passing a JSON across python socket to Javascript	javascript|python|sockets|websocket	2012-12-07 12:04:02.300000 UTC	"<p>I'm using python socket to communicate with JavaScript clients.</p>  <p><a href=""http://docs.python.org/2/library/socket.html"" rel=""nofollow"">http://docs.python.org/2/library/socket.html</a></p>  <p>And following the part of JavaScript code,</p>  <pre><code>ws = new WebSocket(""ws://localhost:7777/""); ws.onopen = function(){   alert(""websocket opened.""); } ws.onclose = function(){   alert(""websocket closed.""); } ws.onmessage = function(e) {   alert(e.data); } </code></pre>  <p>I need to pass a json or a string from the python socket to the JavaScript. Still cant find a way to pass a json. Not any encoding mechanism support for that.       </p>"	13762928	"<p>Since you are using WebSockets on the client side, your Python code needs to use the <a href=""https://www.rfc-editor.org/rfc/rfc6455"" rel=""nofollow noreferrer"">Web Socket protocol</a> to send a message to the client.  Take a look at the answers to <a href=""https://stackoverflow.com/questions/5839054/websocket-server-in-python"">javascript - WebSocket Server in Python</a> for a number of good alternatives.</p> <p><em>Short Answer:</em> you can't use <code>socket</code> and send messages to a client across a <em>Web Socket</em> without implementing the <a href=""https://www.rfc-editor.org/rfc/rfc6455"" rel=""nofollow noreferrer"">Web Socket protocol</a>.</p>"
13808187	How can I call a specific function/method in a Python script from Javascript(jquery/ajax)	python|ajax|function	2012-12-10 19:55:23.690000 UTC	"<p>To clarify: I am running this as cgi via Apache web server.  That isn't the problem My question is regarding a way to specify which function within the Python script to run when I call it via an ajax request.</p>  <p>I read a tutorial that said to pass the function name I want to call as a var.  I did that. In the Python, I tried </p>  <p>Here's my ajax function</p>  <pre><code> $(document).ready(function() {     $.ajax({        url: ""monStat.py"",        type: ""post"",        data: {'callFunc':'isRunning'},        success: function(response){            $('#blurg').html(response).fadeIn(1500);        }     });  }); </code></pre>  <p>Here's the Python</p>  <pre><code> def main():       if callFunc:            funcResp = isRunning()       else:            print(""No function passed"")   def isRunning( process_name ):     ''' the content '''  </code></pre>"	13808285	"<p>Even though you don't mention what kind of web framework you are using (if any), I am going to assume from the naming of your url that you are trying to directly call a python script on your server. </p>  <p>The only way for this to work is if your <code>monStat.py</code> script is structured as a <a href=""http://docs.python.org/2/library/cgi.html"" rel=""nofollow"">CGI script</a>, and hosted on your server accordingly (in a way that CGI scripts will be executed). Your javascript implies that you want to make a POST request to this script, so your python script will need to accept a POST request, and then read the parameters and act on them. You cannot just name a callable as a string in javascript and have the CGI script automatically know what to run. This is the place of a web framework to provide advanced URL handling.</p>  <p>If you are trying to just call a regular python script via a url, that is not going to work. The most basic primitive approach is using the python <a href=""http://docs.python.org/2/library/cgi.html"" rel=""nofollow"">CGI module</a>. This is good for just learning and getting started, but a very inefficient and dated approach. You should probably look into a web framework:  <a href=""http://wiki.python.org/moin/WebFrameworks"" rel=""nofollow"">Python WebFrameworks</a></p>  <p><strong>Update</strong></p>  <p>As you stated you are in fact using a CGI script...<br> ""Routing"" is something you get for free when you use web frameworks. It takes the incoming request into the main loop and decides where it should go to be handled. When you use <strong>only</strong> CGI, you will have to do this yourself. Every time you make a request to the CGI script, it executes just like a normal script, with a normal entrypoint.</p>  <p>In that entrypoint, you have to read the request. If the request is POST and contains ""is_running"" then you can forward that request off to your <code>is_running()</code> handler. The ""function name"" is just string data. It is up to your code to read the request and determine what to do. </p>  <p>Here is a super rough example of what it might look like, where you map some acceptable handlers to functions you allow:</p>  <pre><code>#!/usr/bin/env python import cgi import cgitb cgitb.enable()  def isRunning(form):     print ""Content-Type: text/html\n""      print ""isRunning()""     print form.getvalue('name')   def _error(*args):     print ""Content-Type: text/html\n""      print ""Error""   HANDLERS = {     'isRunning': isRunning }   def main():     form = cgi.FieldStorage()      h_name = form.getvalue('callFunc')     handler = HANDLERS.get(h_name, _error)     handler(form)   if __name__ == ""__main__"":     main() </code></pre>"
13808187	How can I call a specific function/method in a Python script from Javascript(jquery/ajax)	python|ajax|function	2012-12-10 19:55:23.690000 UTC	"<p>To clarify: I am running this as cgi via Apache web server.  That isn't the problem My question is regarding a way to specify which function within the Python script to run when I call it via an ajax request.</p>  <p>I read a tutorial that said to pass the function name I want to call as a var.  I did that. In the Python, I tried </p>  <p>Here's my ajax function</p>  <pre><code> $(document).ready(function() {     $.ajax({        url: ""monStat.py"",        type: ""post"",        data: {'callFunc':'isRunning'},        success: function(response){            $('#blurg').html(response).fadeIn(1500);        }     });  }); </code></pre>  <p>Here's the Python</p>  <pre><code> def main():       if callFunc:            funcResp = isRunning()       else:            print(""No function passed"")   def isRunning( process_name ):     ''' the content '''  </code></pre>"	13808313	"<p>You'll need to make your script web-capable. I haven't worked with CGI, so here's an example with <a href=""http://flask.pocoo.org/"" rel=""nofollow"">Flask</a>:</p>  <pre><code>from flask import Flask, request  app = Flask(__name__)  @app.route('/is_running', methods=['POST']) def isRunning():     process_name = request.values.get('name', None)      ''' the content '''  if __name__ == '__main__':     app.run(host='127.0.0.1', port=5000) </code></pre>  <p>Now, you can just send a request to <code>/is_running</code>:</p>  <pre><code>$.ajax({    url: ""/is_running"",    type: ""post"",    data: {'name': 'ls'},    success: function(response){        $('#blurg').html(response).fadeIn(1500);    } }); </code></pre>"
13808187	How can I call a specific function/method in a Python script from Javascript(jquery/ajax)	python|ajax|function	2012-12-10 19:55:23.690000 UTC	"<p>To clarify: I am running this as cgi via Apache web server.  That isn't the problem My question is regarding a way to specify which function within the Python script to run when I call it via an ajax request.</p>  <p>I read a tutorial that said to pass the function name I want to call as a var.  I did that. In the Python, I tried </p>  <p>Here's my ajax function</p>  <pre><code> $(document).ready(function() {     $.ajax({        url: ""monStat.py"",        type: ""post"",        data: {'callFunc':'isRunning'},        success: function(response){            $('#blurg').html(response).fadeIn(1500);        }     });  }); </code></pre>  <p>Here's the Python</p>  <pre><code> def main():       if callFunc:            funcResp = isRunning()       else:            print(""No function passed"")   def isRunning( process_name ):     ''' the content '''  </code></pre>"	13808765	"<p>This is a start:</p>  <pre><code>import cgi fs = cgi.FieldStorage()  print ""Content-type: text/plain\n"" for key in fs.keys():     print ""%s = %s"" % (key, fs[key].value) </code></pre>"
13831716	Problems scraping pages with JavaScript function in python	javascript|python|beautifulsoup|mechanize	2012-12-12 02:11:38.053000 UTC	"<p>I'm stuck with a python problem, look.</p>  <p>I have to scrap a page that has JS functions, but that's not the real problem, the real problem is that the information I need is provided by the function.. So I need to run the function to make sure it'll build the HTML code that I need, and then work on it to get what I want..</p>  <p>Just to make sure i'm clear, the JS function build the HTML code, but when I scrap it, it doesn't get HTML buid, it just return the JS function... </p>  <p>I am using mechanize and beautifulSoup for the scraping process.. does anyone know what do I have to do to emulate the JS function to get the HTML code that I need?</p>  <p>Thanks in advance.</p>"	13831736	"<p>You need a scrapping framework that supports javascript. <a href=""http://seleniumhq.org/"" rel=""nofollow"">Selenium</a> is one of them and I got good results using along with BeautifulSoup.</p>  <p>You may want to check <a href=""https://github.com/ponty/PyVirtualDisplay"" rel=""nofollow"">PyVirtualDisplay</a> if you are going to use <a href=""http://coreygoldberg.blogspot.com.br/2011/06/python-headless-selenium-webdriver.html"" rel=""nofollow"">Selenium with Mozilla Firefox</a>.</p>"
13852327	OnChange or OnBlur event in javascript to run python function in Django and return the results?	python|django|onchange|onblur	2012-12-13 03:11:21.063000 UTC	"<p>I have developed an internal tool with Django and Python in the backend, now it seems like I have hit a road block. </p>  <p>I am very new to Javascript. And the site has to be very dynamic and it needs to be able to do something like the following:</p>  <p>In the input box, </p>  <ol> <li><p>The user has entered data </p></li> <li><p>When the user moves out from the box, it runs an onBlur or onChange or some event function which calls a python code that takes some arguments, and takes other data from the page and Inserts that data in the database and saves. </p></li> <li><p>It does that with out changing the url/refreshing the page or anything just staying on the same page.</p></li> </ol>  <p>Any ideas how to accomplish this with Python and Django. </p>  <p>Thanks, any help is appreciated.</p>  <p>Murtaza Pitalwala</p>"	13852920	"<h3>Javascript as you describe</h3>  <pre><code>$(""#foo"").change(function() {      $.ajax({       type: 'POST',       url: '/some_url/',       data: {           'some_data_from_page': $(""#some_data_from_page"").val()       },       success: function(data) {           alert(""Got response from server ..."", data);       }     }); }); </code></pre>  <h3>Some generic html</h3>  <pre><code>&lt;input type=""text"" id=""foo"" /&gt; &lt;input type=""text"" id=""some_data_from_page"" /&gt; </code></pre>  <h3>Some generic django</h3>  <pre><code>def handle_ajax_post(request):     print 'Doing something with post data... perhaps saving to the database?', \             request.POST['some_data_from_page']      return http.HttpRespones(""Some response from server"") </code></pre>"
13975325	Sending data from javascript to python	javascript|python|ajax	2012-12-20 15:24:25.780000 UTC	"<p>I have a website which contains some JavaScript code.  On a different server, I have a python script.  I am trying to send data to the python script and then have the python script return some text.</p>  <p>The JavaScript calls the python file with a call like: </p>  <p>//server.example.com/cgi-bin/pythonscript.py?type=ball&amp;color=blue</p>  <p>My first question is how do I read in those parameters (type=ball and color=blue) in the python script?  Would using any of these methods work:</p>  <pre><code>    parameters=input()       or      parameters=sys.argv[1:]      or      import cgi     parameters=cgi.FieldStorage() </code></pre>  <p>My second question is then how to I send data back to the JavaScript code.  Now, I will be sending text back using JSONP (JavaScript uses callback).  Will a simple print or return statement work as shown below?</p>  <pre><code>    output_text='callback_func('+json.dump(output_info)+');'      print(output_text)      or      return output_text </code></pre>  <p>Thanks for the help!!!  It is really appreciated!</p>"	13975497	"<p>If you're using the <code>cgi</code> module, then you use <code>FieldStorage</code> and <code>print</code> output</p>  <p>Taken from <a href=""http://docs.python.org/2/library/cgi.html"" rel=""nofollow"">http://docs.python.org/2/library/cgi.html</a> - this can be used as a base that you just tweak slightly...</p>  <pre><code>import cgi  print ""Content-Type: text/html""     # HTML is following print                               # blank line, end of headers print ""&lt;TITLE&gt;CGI script output&lt;/TITLE&gt;"" print ""&lt;H1&gt;This is my first CGI script&lt;/H1&gt;""  form = cgi.FieldStorage() if ""name"" not in form or ""addr"" not in form:     print ""&lt;H1&gt;Error&lt;/H1&gt;""     print ""Please fill in the name and addr fields.""     return print ""&lt;p&gt;name:"", form[""name""].value print ""&lt;p&gt;addr:"", form[""addr""].value </code></pre>"
13986039	Send data from javascript to python in google app engine	javascript|jquery|python|ajax|google-app-engine	2012-12-21 07:32:10.567000 UTC	"<p>i want to create an application in google app engine using python. I have to send a list of json string to python script.I have done the following code but ain't worked.</p>  <pre><code>$.post(""/javascriptdata"",{v:s},function(data,status) {}); </code></pre>  <p>In python script i have a class named javascriptdata to where data has to be send to</p>  <pre><code>import wsgiref.handlers import json import sys import cgi from google.appengine.ext import webapp from google.appengine.ext.webapp import Request from google.appengine.ext.webapp.util import run_wsgi_app from google.appengine.ext.webapp import template  class mainh(webapp.RequestHandler):     def get(self):         self.response.out.write(template.render(""paint.html"",{}))  class javascriptdata(webapp.RequestHandler):     def post(self):         self.response.headers['content-Type'] = 'html'         data1=self.request.get('v')         self.response.out.write(""""""&lt;html&gt;&lt;body&gt;"""""")         self.response.out.write(data1)         self.response.out.write(""""""&lt;/body&gt;&lt;/html&gt;"""""")   def main():     app = webapp.WSGIApplication([         ('/',mainh),(""/save"",javascriptdata)], debug=True)     wsgiref.handlers.CGIHandler().run(app)   if __name__ == ""__main__"":     main() </code></pre>  <p>The javascriptdata is associated with the url ""/save"". I have created a submit button named ""save"" that would redirect to /save but iam not getting any output. I know it may be a silly mistake but Iam struggling to sort it out. Please suggest me how to post and read the data for this code.</p>"	13986480	"<p>This seems suspicious: </p>  <p><code>$.post(""/javascriptdata"",{v:s},function(data,status) {});</code> </p>  <p>since you don't have a <code>/javascriptdata</code> URL mapped in the python code.  Perhaps you meant </p>  <p><code>$.post('/save', ...</code>?  </p>  <p>Alternatively, you could change the <code>WSGIApplication</code> init to be:</p>  <p><code>...(""/javascriptdata"",javascriptdata)...</code></p>"
14041784	Parse Hershey font .jhf to json using python or javascript	javascript|python|json|parsing|fonts	2012-12-26 14:11:22.287000 UTC	"<p>I ve been searching the web for a solution but I found nothing that is within my skills. How would you transform these Hershey Font .jhf files <a href=""http://emergent.unpythonic.net/software/hershey"" rel=""nofollow noreferrer"">emergent.unpythonic.net/software/hershey</a> to JSON using python or javascript. Creating something like:</p> <pre><code>[     {         asciival:26,         points:[[5,-5],[4,7,8],[6,8,7]]     },     {         asciival:27,         points:[[5,-3],[4,7,33],[6,32,7]]     }, (…) ] </code></pre> <p>I know there is a <a href=""https://stackoverflow.com/questions/8042840/parsing-the-hershey-font-format"">question here</a> but this is not enough for me to understand the system.</p> <h2>Edit1</h2> <p>I already found the descriptions <a href=""http://paulbourke.net/dataformats/hershey/"" rel=""nofollow noreferrer"">paulbourke.net/dataformats/hershey/</a> sean pointed out in the comments.</p> <blockquote> <p>As an example consider the 8th symbol 8  9MWOMOV RUMUV ROQUQ<br /> It has 9 coordinate pairs (this includes the left and right position).<br /> The left position is 'M' - 'R' = -5<br /> The right position is 'W' - 'R' = 5<br /> The first coordinate is &quot;OM&quot; = (-3,-5)<br /> The second coordinate is &quot;OV&quot; = (-3,4)<br /> Raise the pen &quot; R&quot;<br /> Move to &quot;UM&quot; = (3,-5)<br /> Draw to &quot;UV&quot; = (3,4)<br /> Raise the pen &quot; R&quot;<br /> Move to &quot;OQ&quot; = (-3,-1)<br /> Draw to &quot;UQ&quot; = (3,-1)<br /> Drawing this out on a piece of paper will reveal it represents an 'H'.&gt;</p> </blockquote> <p>I tried to make sense out of this, but where do the values come from?<br /> For example why is UM (3,-5)?</p> <h2>Edit2</h2> <p>I found <a href=""http://www.batbox.org/font.html"" rel=""nofollow noreferrer"">this java class</a></p>"	14408607	"<p>The coordinates are consecutive pairs of characters. To translate them into numbers you subtract the ascii equivalent of the character 'R' = 82 from each character. In your example, ""UM"" translates to (3,-5) because U is ascii code 85. Subtract 82 (='R') to get 3.  M is ascii code 77, subtract 82 to get -5.  </p>"
14044897	Javascript equivalent of Python's urlparse.parse_qs()?	javascript|python|urlencode|netsuite|urlparse	2012-12-26 18:55:54.817000 UTC	"<p>I am using python to generate a query string which will then be parsed by javascript.</p>  <p>Consider a fairly ""complex"" piece of data:</p>  <pre><code>import urllib  params = {          'record': 'customer',          'filters': [                  ('id', '&gt;', 5),                  ('name', 'startswith', 'Jean Luc')          ] }  urllib.urlencode(params) 'record=customer&amp;filters=%5B%28%27id%27%2C+%27%3E%27%2C+5%29%2C+%28%27name%27%2C+%27startswith%27%2C+%27Jean+Luc%27%29%5D'  urllib.unquote(urllib.urlencode(params)) ""record=customer&amp;filters=[('id',+'&gt;',+5),+('name',+'startswith',+'Jean+Luc')]"" </code></pre>  <p>In python, I can use <code>urlparse.parse_qs()</code> to take that url-encoded query string and reconstruct a Python structure.</p>  <p>Is there an equivalent for Javascript? Has someone written a library which knows how to parse such querystrings?</p>  <p>Incidentally, this Javascript is not running in a browser - it is an internal scripting functionality in a package called ""Netsuite"" - so using external javascript libraries is somewhat difficult (though ultimately doable if that is what is required.)</p>"	14044954	"<p><a href=""http://benalman.com/code/projects/jquery-bbq/examples/deparam/"" rel=""nofollow"">jQuery.deparam</a> might be what you're looking for. Should be easy enough to look at his source and figure out how to do it if you can't use jQuery in Netsuite.</p>"
14044897	Javascript equivalent of Python's urlparse.parse_qs()?	javascript|python|urlencode|netsuite|urlparse	2012-12-26 18:55:54.817000 UTC	"<p>I am using python to generate a query string which will then be parsed by javascript.</p>  <p>Consider a fairly ""complex"" piece of data:</p>  <pre><code>import urllib  params = {          'record': 'customer',          'filters': [                  ('id', '&gt;', 5),                  ('name', 'startswith', 'Jean Luc')          ] }  urllib.urlencode(params) 'record=customer&amp;filters=%5B%28%27id%27%2C+%27%3E%27%2C+5%29%2C+%28%27name%27%2C+%27startswith%27%2C+%27Jean+Luc%27%29%5D'  urllib.unquote(urllib.urlencode(params)) ""record=customer&amp;filters=[('id',+'&gt;',+5),+('name',+'startswith',+'Jean+Luc')]"" </code></pre>  <p>In python, I can use <code>urlparse.parse_qs()</code> to take that url-encoded query string and reconstruct a Python structure.</p>  <p>Is there an equivalent for Javascript? Has someone written a library which knows how to parse such querystrings?</p>  <p>Incidentally, this Javascript is not running in a browser - it is an internal scripting functionality in a package called ""Netsuite"" - so using external javascript libraries is somewhat difficult (though ultimately doable if that is what is required.)</p>"	18629166	"<p>Its best to use either XML or <a href=""http://www.json.org/"" rel=""nofollow"">JSON</a> form of data to the Netsuite end.</p>  <p>and Netsuite scripts are pure javascript here, JQuery is not supported but JSON and XML data  can be parsed back to the objects using JSON.Parse and you can continue using the data there.</p>  <p>Cheers!!!</p>"
14071654	PyMaps: How to interact with javascript in python	python|python-3.x|google-maps-api-2	2012-12-28 15:17:23.233000 UTC	"<p>Ok, so I have used <a href=""http://code.google.com/p/pymaps/"" rel=""nofollow"">this</a> code to setup a simple program. Basically it just sets points on a map in python. Very basic. The problem now is I have a condition where when that condition happens it refreshes the page with a simple <code>QWebView.setHtml()</code>. What I want to do now is find a way to get the current zoom and center information of the map and save it. Is there anyway to go into the javascript and grab that information, store it and then write it into the html the same way this code already does before i do the refresh?</p>  <p>Sorry if this is confusing or broad, I just cant think of a way to get the information from the map using python.</p>"	14071956	"<p>There are a number of ways to interact with client-side code from the server (Python). You could set a cookie on the client, send an AJAX request to the server from Javascript, submit a form, or go a more exotic route like WebSockets. Without more information, I'm not sure we can tell you which is the best.</p>  <p>What web framework are you using?</p>  <p>EDIT:</p>  <p>Oh, I see- you're using a scriptable web view... maybe something like <code>zoom = view.evaluateJavaScript('map.getZoom();')</code>? From what I can see of the library, the difficult part might be getting a reference to the map var in JS.</p>  <p>EDIT:</p>  <p>I don't think this is possible without modifying or extending pymaps, since it scopes the GMap locally in JS and doesn't expose it anywhere. I've done just that in a <a href=""https://gist.github.com/4399621"" rel=""nofollow noreferrer"">gist</a>. You can then access the zoom with something similar to the above- maybe <code>zoom = view.evaluateJavaScript(""PyMaps[0].gmap.getZoom();"")</code>.</p>  <p>EDIT:</p>  <p>In case this wasn't clear- the gist I included requires that you use <code>MyPyMap</code> instead of <code>PyMap</code>.</p>  <p>From another <a href=""https://stackoverflow.com/questions/11060439/filling-out-a-form-using-pyqt-and-qwebview"">StackOverflow question</a>, I realized you can't do <code>evaluteJavaScript</code> straight on a view. The subsequent code would look more like this</p>  <pre><code>doc = view.page().mainFrame().documentElement() zoom_level = doc.evaluateJavaScript(""PyMaps[0].gmap.getZoom();"") </code></pre>"
14079416	Render JavaScript to HTML in Python?	javascript|python|html|rendering|static-files	2012-12-29 06:49:13.193000 UTC	"<h3>What</h3> <p>My web-app is made dynamic through Google's <a href=""http://angularjs.org/"" rel=""nofollow noreferrer"">AngularJS</a>.</p> <p>I want static versions of my pages to be generated.</p> <h3>Why</h3> <p>Web-scrapers like Google's execute and render the JavaScript; but don't treat the content the same way as their static equivalents.</p> <p>References:</p> <ul> <li><a href=""https://softwareengineering.stackexchange.com/q/151440"">Does heavy JavaScript use adversely impact Googleability?</a> (Programmers StackExchange)</li> <li><a href=""https://developers.google.com/webmasters/ajax-crawling"" rel=""nofollow noreferrer"">Making AJAX Applications Crawlable</a> (Google Documentation for webmasters)</li> </ul> <h3>How</h3> <p>Not sure exactly how—which is why I'm asking—but I want to access the same source that your browser's 'inspect element' presents; rather than the source that: <kbd>Ctrl</kbd>+<kbd>U</kbd> (View page source) shows.</p> <p>Once I have a script which renders the page; 'spitting' out the HTML+CSS; I will place those 'generated' files on my web-server. A 'cron' job will then be scheduled to regenerate the files at regular intervals.</p> <p>These static files will subsequently be served instead of the dynamic ones; when JavaScript is disabled and/or when a scraper 'visits' the site.</p>"	14088609	"<p>Here is one solution, however I very much doubt I'll be able to find a public PaaS cloud which can run it:</p>  <pre><code>import spynner  if __name__=='__main__':     url = ""http://angular.github.com/angular-phonecat/step-10/app/#/phones""     browser = spynner.Browser()     browser.create_webview(True)     browser.load(url, load_timeout=60)     print browser._get_html()     # ^ Can pipe this to a file, POST it to my server or return it as a string     browser.close() </code></pre>  <p>Package: <a href=""https://github.com/makinacorpus/spynner/"" rel=""nofollow"">Spynner (on Github)</a></p>"
14088541	How to execute a Javascript function in python with selenium	javascript|python|selenium|selenium-webdriver	2012-12-30 05:24:50.227000 UTC	"<p>I have a function called 'checkdata(code)' in javascript, which, as you can see, takes an argument called 'code' to run and returns a 15-char string.</p>  <p>So, I found out (and tested) how to call no-argument functions in javascript, but my problem is that when I call checkdata(code), I always get a 'none' return value.  This is what I'm doing so far:</p>  <pre><code>wd = webdriver.Firefox() wd.get('My Webpage') a = wd.execute_script(""return checkdata()"", code)  //Code is a local variable                                                    //from my python script print a </code></pre>  <p>I'm making this, since I read it on an unofficial selenium documentation and here: <a href=""https://stackoverflow.com/questions/5585343/getting-the-return-value-of-javascript-code-in-selenium/5585345#5585345"">link</a></p>  <p>But, as I said before, I just keep getting none printed.</p>  <p>How can I call my function passing that parameter? </p>"	14088568	"<p>Build the string</p>  <pre><code>a = wd.execute_script(""return checkdata('"" + code + ""');"") </code></pre>"
14088541	How to execute a Javascript function in python with selenium	javascript|python|selenium|selenium-webdriver	2012-12-30 05:24:50.227000 UTC	"<p>I have a function called 'checkdata(code)' in javascript, which, as you can see, takes an argument called 'code' to run and returns a 15-char string.</p>  <p>So, I found out (and tested) how to call no-argument functions in javascript, but my problem is that when I call checkdata(code), I always get a 'none' return value.  This is what I'm doing so far:</p>  <pre><code>wd = webdriver.Firefox() wd.get('My Webpage') a = wd.execute_script(""return checkdata()"", code)  //Code is a local variable                                                    //from my python script print a </code></pre>  <p>I'm making this, since I read it on an unofficial selenium documentation and here: <a href=""https://stackoverflow.com/questions/5585343/getting-the-return-value-of-javascript-code-in-selenium/5585345#5585345"">link</a></p>  <p>But, as I said before, I just keep getting none printed.</p>  <p>How can I call my function passing that parameter? </p>"	37337963	"<p>Rather than building a string (which means you'd have to escape your quotes properly), try this:</p>  <pre><code>a = wd.execute_script(""return checkdata(arguments[0])"", code) </code></pre>"
14095653	Lists in Python => Javascript Translation	javascript|python|python-2.7	2012-12-30 23:12:02.903000 UTC	"<pre><code>for i in [name, matches_total, matches_won, matches_lost]:     doSomething(i) </code></pre>  <p>I tried doing this for JS but it did not work. Basically, I want it to do whatever it has to do over each of the variables. How do I do this with JS?</p>  <p>My attempt:</p>  <pre><code>for (i in [name, matches_total, matches_won, matches_lost]){     doSomething(i); } </code></pre>"	14095664	"<pre><code>for (var i = 0; i &lt; list.length; ++i) {     doSomething(list[i]); } </code></pre>  <p>There are two kinds of for loops, the <code>for-in</code> loop designed for objects, and a three-statement for loop <code>for (;;)</code>. Using <code>for-in</code> on an array is not recommended, as it traverses its prototype chain as well. </p>"
14095653	Lists in Python => Javascript Translation	javascript|python|python-2.7	2012-12-30 23:12:02.903000 UTC	"<pre><code>for i in [name, matches_total, matches_won, matches_lost]:     doSomething(i) </code></pre>  <p>I tried doing this for JS but it did not work. Basically, I want it to do whatever it has to do over each of the variables. How do I do this with JS?</p>  <p>My attempt:</p>  <pre><code>for (i in [name, matches_total, matches_won, matches_lost]){     doSomething(i); } </code></pre>"	14095697	"<p>JavaScript doesn't have quite the same <code>in</code> operator. If you are in an environment that supports <code>forEach</code>, it's relatively close in style (except that you define an inner anonymous function for the loop, a bit like a Python <code>lambda</code>:</p>  <pre><code>[name, matches_total, matches_won, matches_lost].forEach(function(i) {     doSomething(i); }); </code></pre>  <p>In this case (a case where you're calling a single function on each list item) you can simplify this in a way I find quite nice syntactically:</p>  <pre><code>[name, matches_total, matches_won, matches_lost].forEach(doSomething); </code></pre>"
14095653	Lists in Python => Javascript Translation	javascript|python|python-2.7	2012-12-30 23:12:02.903000 UTC	"<pre><code>for i in [name, matches_total, matches_won, matches_lost]:     doSomething(i) </code></pre>  <p>I tried doing this for JS but it did not work. Basically, I want it to do whatever it has to do over each of the variables. How do I do this with JS?</p>  <p>My attempt:</p>  <pre><code>for (i in [name, matches_total, matches_won, matches_lost]){     doSomething(i); } </code></pre>"	14096141	"<pre><code>var my_array = [name, matches_total, matches_won, matches_lost]  for (var i in my_array){     doSomething(my_array[i]); } </code></pre>"
