59552659	Python List to Javascript Observable Array	javascript|python|list|flask|knockout.js	2020-01-01 12:49:21.817000 UTC	"<p>So I am implementing an API through Python Flask. My code structure is something like the following:</p>  <pre><code>src/ |--&gt; main.py |--&gt; api/ |     |--&gt; users.py |--&gt; static/       |--&gt; index.html </code></pre>  <p>Inside <code>users.py</code> I have a list called <code>user_list</code>. The thing is I want to perform some operations with that list, for which I want to make it an Observable Array to and handle it in <code>index.html</code>. Speaking roughly, I do not know how to send that list from <code>users.py</code> to <code>index.html</code> through <code>main.py</code> (which handles the whole API).</p>  <p>I am really lost on how to do this, as I do not understand JavaScript's Observable Arrays at all.</p>"	"<p>To pre-populate an observable array, pass an array to the <code>ko.observableArray</code> function. To pass an array from Flask code through the template to JavaScript, use Flask's <code>tojson</code> filter. Thus, in the template:</p>  <pre><code>&lt;script&gt;   const userList = ko.observableArray({{ user_list | tojson }}); &lt;/script&gt; </code></pre>  <p>It is impossible to do this in a static file, for obvious reasons (you want some dynamic content injected into it). An alternative that <em>would</em> work with a static <code>index.html</code> would be to populate your observable array via AJAX, but since you provided no code, it is hard to tell you exactly how to do it.</p>"
59555840	How do I extract a javascript variable from a .js file with python?	javascript|python	2020-01-01 20:23:09.463000 UTC	"<p>I'm trying to extract the JSON data in the variable chartData. This is stored in a .js file which generates a chart for my solar system. I want to extract this data so i can store it in a separate database.</p>  <p>However I cant seem to find a way how to extract the JSON data with python.</p>  <p>This is the .js file.</p>  <pre><code>var chartData = { ""labels"": [ ""1"",""2"",""3"",""4"",""5"",""6"",""7"",""8"",""9"",""10"",""11"",""12"",""13"",""14"",""15"",""16"",""17"",""18"",""19"",""20"",""21"",""22"",""23"",""24"",""25"",""26"",""27"",""28"",""29"",""30"",""31""], ""datasets"": [ { ""strokeColor"":"" rgba(64,178,83,1.0)"", ""fillColor"":"" rgba(64,178,83,.5)"", ""data"": [ 15.101000,9.819000,9.966000,19.634000,18.403000,17.015000,20.356000,20.645000,5.443000,14.542000,13.513000,9.774000,15.053000,16.870000,10.582000, 15.139000,7.230000,9.019000,18.687000,16.074000,17.183000,23.353000,22.248000,22.762000,22.458000,20.809000,18.034000,12.810000,15.627000,21.057000, 19.589000] } ] } var max = 25; var steps = 5; var input = document.getElementById(""inputId""); input.setAttribute(""min"",   ""2019-02""); input.setAttribute(""max"",   ""2020-01""); input.setAttribute(""value"", ""2019-08""); document.getElementById(""labelValueId"").innerHTML = "" 498.812kWh 08.2019""; document.getElementById(""buttonPrevId"").disabled  = false; document.getElementById(""buttonNextId"").disabled  = false; var myBar = new Chart(document.getElementById(""canvasId"") .getContext(""2d"")) .Bar(chartData, { ""pointDot"": false, ""datasetFill"": false, ""scaleOverride"": true, ""scaleLabel"": ""&lt;%=value%&gt; kWh"", ""scaleSteps"": steps, ""scaleStartValue"": 0, ""scaleStepWidth"": Math.ceil(max / steps), ""scaleLineColor"":"" rgba(170,170,170,1.0)"", ""scaleFontColor"":"" rgba(170,170,170,1.0)"", ""scaleGridLineColor"":"" rgba(68,68,68,1.0)""}); </code></pre>"	"<p>If in variable <code>txt</code> is your javascript string, then you can use <code>re</code> and <code>json</code> module to load the data:</p>  <pre><code>import re import json  m = re.findall(r'chartData =.*?({.*}).*?(?=var max)', txt, flags=re.S)[0] data = json.loads( m )  print(data['datasets'][0]['data']) </code></pre>  <p>Prints:</p>  <pre><code>[15.101, 9.819, 9.966, 19.634, 18.403, 17.015, 20.356, 20.645, 5.443, 14.542, 13.513, 9.774, 15.053, 16.87, 10.582, 15.139, 7.23, 9.019, 18.687, 16.074, 17.183, 23.353, 22.248, 22.762, 22.458, 20.809, 18.034, 12.81, 15.627, 21.057, 19.589] </code></pre>"
59568716	How can Javascript access data sent from Python Flask's render_template() function?	javascript|python|json|flask	2020-01-02 19:07:33.217000 UTC	"<p>Problem: I am trying to access data I send (when the user navigates to the landing page of the site) from Javascript code so I can display it when the document is ready. This data is a dataframe.</p>  <p>Python Code: </p>  <pre><code>from flask import Flask, render_template, jsonify import pandas as pd import numpy as np from pandas import DataFrame @app.route(""/"",methods = ['POST', 'GET']) def homeLanding():     df = pd.DataFrame(data=[['ab1234','12:34'],['cd1234','12:36'],['ae54548','12:55'],['df59894','12:56']])     df2 = df.to_json(orient='records')     return render_template(""index.html"",someResponse=df2,namespace='/test') </code></pre>  <p>Javascript Code:</p>  <pre><code>$(document).ready(function(){     //Convert response dataframe to variable     console.log(someResponse);     var x = JSON.parse(someResponse);     //print response dataframe     console.log(x);     //populate table with response dataframe.     $('#table1').DataTable({         ""destroy"":true,         ""searching"": false,         ""ordering"": false,         ""paging"": false,         ""bordering"":true,         data: x,         columns: [         {""title"": 'ID'},         {""title"": 'Time'},         ]     }); }); </code></pre>  <p>html Script:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script src=""//code.jquery.com/jquery-3.3.1.min.js""&gt;&lt;/script&gt;         &lt;script type=""text/javascript"" src=""//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js""&gt;&lt;/script&gt;         &lt;script type=""text/javascript"" src=""https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js""&gt;&lt;/script&gt;         &lt;script src=""static/js/application.js""&gt;&lt;/script&gt;          &lt;link rel=""stylesheet"" href=""//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css""&gt;         &lt;link rel=""stylesheet"" href=""https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css""&gt;         &lt;link rel=""stylesheet"" href=""static/css/application.css""&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div class=""container""&gt;             &lt;div class=""container-wrapper"" margin=""auto""&gt;                 &lt;table id=""table1"" class=""display""&gt;&lt;/table&gt;             &lt;/div&gt;         &lt;/div&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Current Status: I have been trying several ways of passing the dataframe to render_template() but the dataframe does not seem to get sent over to the client's Javascript code or I do not know how to properly access the data from Javascript response. The dataframe does not print to the console and it does not populate table1.</p>  <p>Thanks in advance.</p>"	"<p>Write your js code inside your html file:</p>  <pre><code>&lt;script&gt; $(document).ready(function(){     //Convert response dataframe to variable     console.log(""{{ someResponse }}"");     var x = JSON.parse(""{{ someResponse }}"");     //print response dataframe     console.log(x);     .......  &lt;/script&gt; </code></pre>  <p>You won't be able to pass this variable from backend to javascript file.</p>"
59568716	How can Javascript access data sent from Python Flask's render_template() function?	javascript|python|json|flask	2020-01-02 19:07:33.217000 UTC	"<p>Problem: I am trying to access data I send (when the user navigates to the landing page of the site) from Javascript code so I can display it when the document is ready. This data is a dataframe.</p>  <p>Python Code: </p>  <pre><code>from flask import Flask, render_template, jsonify import pandas as pd import numpy as np from pandas import DataFrame @app.route(""/"",methods = ['POST', 'GET']) def homeLanding():     df = pd.DataFrame(data=[['ab1234','12:34'],['cd1234','12:36'],['ae54548','12:55'],['df59894','12:56']])     df2 = df.to_json(orient='records')     return render_template(""index.html"",someResponse=df2,namespace='/test') </code></pre>  <p>Javascript Code:</p>  <pre><code>$(document).ready(function(){     //Convert response dataframe to variable     console.log(someResponse);     var x = JSON.parse(someResponse);     //print response dataframe     console.log(x);     //populate table with response dataframe.     $('#table1').DataTable({         ""destroy"":true,         ""searching"": false,         ""ordering"": false,         ""paging"": false,         ""bordering"":true,         data: x,         columns: [         {""title"": 'ID'},         {""title"": 'Time'},         ]     }); }); </code></pre>  <p>html Script:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script src=""//code.jquery.com/jquery-3.3.1.min.js""&gt;&lt;/script&gt;         &lt;script type=""text/javascript"" src=""//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js""&gt;&lt;/script&gt;         &lt;script type=""text/javascript"" src=""https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js""&gt;&lt;/script&gt;         &lt;script src=""static/js/application.js""&gt;&lt;/script&gt;          &lt;link rel=""stylesheet"" href=""//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css""&gt;         &lt;link rel=""stylesheet"" href=""https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css""&gt;         &lt;link rel=""stylesheet"" href=""static/css/application.css""&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;div class=""container""&gt;             &lt;div class=""container-wrapper"" margin=""auto""&gt;                 &lt;table id=""table1"" class=""display""&gt;&lt;/table&gt;             &lt;/div&gt;         &lt;/div&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Current Status: I have been trying several ways of passing the dataframe to render_template() but the dataframe does not seem to get sent over to the client's Javascript code or I do not know how to properly access the data from Javascript response. The dataframe does not print to the console and it does not populate table1.</p>  <p>Thanks in advance.</p>"	"<p><code>someResponse</code> is a Python object, and is rendered onto the html/js not as a JS object, but essentially a string (inspect your code through the browser to see what I mean).</p>  <p>In this case, your template code should be:</p>  <pre><code>console.log(""{{ someResponse }}""); var x = JSON.parse(""{{ someResponse }}""); ... </code></pre>"
59569335	"How to navigate to new browser window using partial title text using either Python, or JavaScript or Robot Framework and Selenium"	javascript|python|python-3.x|selenium|robotframework	2020-01-02 20:02:57.403000 UTC	"<p>During my tests, we need to click on links that open webpages in new tab. In some cases, we see the test fail due to inclusion of multiple space or tab characters in the title text. One of the examples of such titles are -</p>  <pre><code>""Looking for more information about US?${SPACE}${SPACE}Find out more from ... Get your questions answered."" </code></pre>  <p>I am trying to switch to the window using the partial text ""Looking for more information about US"" instead of using the whole title text. But so far could not find a way to do that.</p>  <p>My current codes are as follows:</p>  <pre><code>Test for ""Frequently Asked Question"""" Link at the bottom panel     Hide Promo Carousel     execute javascript  window.scrollTo(0,document.body.scrollHeight)     Click External Link and Return      partial link:Frequently Asked Questions     Looking for more information about us?  Find out more from ...... Get your questions answered. </code></pre>  <p>and the keyword is :</p>  <pre><code>Click External Link and Return     [Arguments]     ${Element}  ${ExtUrl}     ${CurrTitle}=   get title     click element   ${Element}     sleep   5s     run keyword and continue on failure  select window  ${ExtUrl}     sleep   1s     run keyword and continue on failure  select window   ${CurrTitle} </code></pre>  <p>Is there a way to locate and navigate to the window using partial text from the title? Kindly suggest if there is any way in robot framework, Python or JavaScript to achieve this.   </p>"	"<p>Using the below example the custom keyword will use the current browser and then using a pattern search for the tab and select it. If there are more or less than 1 result, it will fail.</p>  <pre><code>*** Settings *** Library    SeleniumLibrary Library    Collections  *** Test Cases *** Select Window Using Partial Title     Open Browser    http://www.google.com    chrome      Click Element    link:About    CTRL     Sleep    5s     Title Should Be    Google       Switch Window Using Title Pattern    Over*     Title Should Be    Over - Google      [Teardown]    Close Browser  *** Keywords ***   Switch Window Using Title Pattern     [Arguments]    ${title_pattern}     ${current_title}    Get Title            # Save the current  tab title     ${window_titles}    Get Window Titles    # Cycles through the tabs.     Switch Window       ${current_title}     # Restores the original tab focus      ${match_count}      Get Match Count    ${window_titles}    ${title_pattern}      Run Keyword If    '${match_count}'=='0'    Fail    No Browser Tabs found that meet the ""${title_pattern}"" pattern.     Run Keyword If    '${match_count}'&gt;'1'    Fail    Too many Browser Tabs found that meet the ""${title_pattern}"" pattern.      ${matches}    Get Matches        ${window_titles}    ${title_pattern}        Switch Window    ${matches}[0] </code></pre>"
59572223	Converting a javascript .millis() object into its python equivalent	javascript|python|datetime	2020-01-03 01:39:31.260000 UTC	"<p>I have the following functional code in javascript:</p>  <pre><code>Date(0).update(2020,1,1,12,0,0).millis() </code></pre>  <p>I have been trying to get it working in python. But I must be doing something very wrong.</p>  <pre><code>import time time_tuple = time.strptime('2020-1-1 12:00:00', '%Y-%m-%d %H:%M:%S') time_epoch = time.mktime(time_tuple) </code></pre>"	"<p>You can do something like this:</p>  <pre><code>dt_obj = datetime.strptime('2020-1-1 12:00:00',                            '%d.%m.%Y %H:%M:%S') millisec = dt_obj.timestamp() * 1000 </code></pre>  <p>Here is the explanation of the format specifiers from the <a href=""https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior"" rel=""nofollow noreferrer"">official documentation</a></p>"
59588984	How to click on javascript hyperlink element using selenium python	python|selenium|selenium-webdriver	2020-01-04 07:57:50.770000 UTC	"<p>my goal is to use selenium python to click on this hyperlink element , here are the 3 solutions I have tried, none of them worked.</p>  <pre><code>&lt;div class=""navigation_item""&gt; &lt;a href=""javascript:;"" onclick=""navigationMenu('students');""&gt;Students (165)&lt;/a&gt; &lt;/div&gt; </code></pre>  <p>Solution 1:</p>  <pre><code>driver.find_element_by_link_text('Students (165)').click() </code></pre>  <blockquote>   <p>error message: selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""link text"",""selector"":""Students (165)""}</p> </blockquote>  <p>Solution 2:</p>  <pre><code>driver.find_element_by_xpath('/html/body/div[2]/div[1]/div[3]/div/div[1]/div[3]/div[7]/a').click() </code></pre>  <blockquote>   <p>error message: selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""/html/body/div[2]/div[1]/div[3]/div/div[1]/div[3]/div[7]/a""}</p> </blockquote>  <p>Solution 3:use javascript code</p>  <pre><code>javascript = ""document.getElementsByClassName('navigation_item')[3].click();"" driver.execute_script(javascript) </code></pre>  <blockquote>   <p>error message:selenium.common.exceptions.JavascriptException: Message: javascript error: Cannot read property 'click' of undefined</p> </blockquote>  <p>So, what went wrong with each solution? How can I make it work? </p>"	"<p>To click on the element with text as <strong>Students (165)</strong> you have to induce <em>WebDriverWait</em> for the <code>element_to_be_clickable()</code> and you can use either of the following  <a href=""https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890"">Locator Strategies</a>:</p>  <ul> <li><p>Using <code>LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.LINK_TEXT, ""Students (165)""))).click() </code></pre></li> <li><p>Using <code>PARTIAL_LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.PARTIAL_LINK_TEXT, ""Students (""))).click() </code></pre></li> <li><p>Using <code>CSS_SELECTOR</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.CSS_SELECTOR, ""div.navigation_item&gt;a[onclick^='navigationMenu'][onclick*='students']""))).click() </code></pre></li> <li><p>Using <code>XPATH</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, ""//div[@class='navigation_item']/a[starts-with(@onclick, 'navigationMenu') and contains(., 'Students')]""))).click() </code></pre></li> <li><p><strong>Note</strong> : You have to add the following imports :</p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC </code></pre></li> </ul>"
59588984	How to click on javascript hyperlink element using selenium python	python|selenium|selenium-webdriver	2020-01-04 07:57:50.770000 UTC	"<p>my goal is to use selenium python to click on this hyperlink element , here are the 3 solutions I have tried, none of them worked.</p>  <pre><code>&lt;div class=""navigation_item""&gt; &lt;a href=""javascript:;"" onclick=""navigationMenu('students');""&gt;Students (165)&lt;/a&gt; &lt;/div&gt; </code></pre>  <p>Solution 1:</p>  <pre><code>driver.find_element_by_link_text('Students (165)').click() </code></pre>  <blockquote>   <p>error message: selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""link text"",""selector"":""Students (165)""}</p> </blockquote>  <p>Solution 2:</p>  <pre><code>driver.find_element_by_xpath('/html/body/div[2]/div[1]/div[3]/div/div[1]/div[3]/div[7]/a').click() </code></pre>  <blockquote>   <p>error message: selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""/html/body/div[2]/div[1]/div[3]/div/div[1]/div[3]/div[7]/a""}</p> </blockquote>  <p>Solution 3:use javascript code</p>  <pre><code>javascript = ""document.getElementsByClassName('navigation_item')[3].click();"" driver.execute_script(javascript) </code></pre>  <blockquote>   <p>error message:selenium.common.exceptions.JavascriptException: Message: javascript error: Cannot read property 'click' of undefined</p> </blockquote>  <p>So, what went wrong with each solution? How can I make it work? </p>"	<p>It probably throws an error because page isn't loaded when you're checking for element. Try using:</p>  <pre><code>browser = webdriver.Firefox()  browser.implicitly_wait(5) </code></pre>  <p>Then you can use your first solution: <code>driver.find_element_by_link_text('Students (165)').click()</code></p>  <p>This should be triggered on find element setting timeout for 5 seconds.</p>
59598966	How do I scrape data in <canvas> element with python or javascript?	javascript|python|python-3.x|web-scraping|chart.js	2020-01-05 10:33:22.043000 UTC	"<p>I want to scrape data from sites like <a href=""https://stats.warbrokers.io/players/i/5d2ead35d142affb05757778"" rel=""nofollow noreferrer"">this (stat game of the game I play)</a> where an interactive chart is being rendered in the <code>&lt;canvas&gt;</code> element and does not show any data as a scrape-able HTML element. Inspecting the HTML, the page appear to use <a href=""https://www.chartjs.org"" rel=""nofollow noreferrer"">chartjs</a>.</p> <p>Though help in python is preferred, if I really need to use some javascript, that would be fine too.</p> <p>Plus, I would like to avoid methods that require extra files such as phantomjs but again, if that's the only way, please be generous enough to share it.</p>"	"<p>One way to to solve this is through checking out the <code>&lt;script&gt;</code> of the page in the page source around line 1050, which is actually where the charts are initialized. There's a recurring pattern in the initialization process of the charts, wherein the canvas elements are queried one by one to get their contexts, followed by the variables that offers the labels and statistics of the charts.</p>  <p>This solution covers using node.js, at least the latest version with the following modules:</p>  <ul> <li><a href=""https://www.npmjs.com/package/cheerio"" rel=""nofollow noreferrer"">cheerio</a> for querying elements in the DOM</li> <li><a href=""https://www.npmjs.com/package/axios"" rel=""nofollow noreferrer"">axios</a> for sending an http request to get the page source.</li> <li><a href=""https://www.npmjs.com/package/abstract-syntax-tree"" rel=""nofollow noreferrer"">abstract-syntax-tree</a> to get a javascript object tree representation of the script that we wish to scrape.</li> </ul>  <p>Here's the <a href=""https://repl.it/repls/AlphanumericScholarlyDrivers"" rel=""nofollow noreferrer"">solution</a> and the source code below:</p>  <pre><code>const cheerio = require('cheerio');  const axios = require('axios');  const { parse, each, find } = require('abstract-syntax-tree');  async function main() {      // get the page source     const { data } = await axios.get(         'https://stats.warbrokers.io/players/i/5d2ead35d142affb05757778'     );      // load the page source with cheerio to query the elements     const $ = cheerio.load(data);      // get the script tag that contains the string 'Chart.defaults'     const contents = $('script')         .toArray()         .map(script =&gt; $(script).html())         .find(contents =&gt; contents.includes('Chart.defaults'));      // convert the script content to an AST     const ast = parse(contents);      // we'll put all declarations in this object     const declarations = {};      // current key     let key = null;      // iterate over all variable declarations inside a script     each(ast, 'VariableDeclaration', node =&gt; {          // iterate over possible declarations, e.g. comma separated         node.declarations.forEach(item =&gt; {              // let's get the key to contain the values of the statistics and their labels             // we'll use the ID of the canvas itself in this case..             if(item.id.name === 'ctx') { // is this a canvas context variable?                 // get the only string literal that is not '2d'                 const literal = find(item, 'Literal').find(v =&gt; v.value !== '2d');                 if(literal) { // do we have non- '2d' string literals?                     // then assign it as the current key                     key = literal.value;                 }             }              // ensure that the variable we're getting is an array expression             if(key &amp;&amp; item.init &amp;&amp; item.init.type === 'ArrayExpression') {                  // get the array expression                 const array = item.init.elements.map(v =&gt; v.value);                  // did we get the values from the statistics?                 if(declarations[key]) {                      // zip the objects to associate keys and values properly                     const result = {};                     for(let index = 0; index &lt; array.length; index++) {                         result[array[index]] = declarations[key][index];                     }                     declarations[key] = result;                      // let's make the key null again to avoid getting                     // unnecessary array expression                     key = null;                  } else {                     // store the values                     declarations[key] = array;                 }             }          });      });      // logging it here, it's up to you how you deal with the data itself     console.log(declarations);  }  main(); </code></pre>"
59634023	How to run python function from javascript?	javascript|python|ajax	2020-01-07 18:22:23.067000 UTC	"<p>I have a problem in calling my python function from my javascript file.</p>  <p>I'm using a simple server with <code>python3 -m http.server</code>, so no actual backend..my javascripts are in the front end.</p>  <p>I have a python file called <code>write.py</code> it has a function that I want to execute from my javascript file</p>  <p>write.py file:</p>  <pre class=""lang-py prettyprint-override""><code>def save_vit(text,name):     f = open(name + "".xml"", ""w+"")     f.write(text)     f.close() </code></pre>  <p>the javascript part that i have tried:(but didn't work)</p>  <pre class=""lang-js prettyprint-override""><code>$.ajax({         type: ""POST"",         url: ""write.py"",         data: { text: xmlDoc,name: name}}); </code></pre>  <p><strong>xmlDoc</strong> is a string that has an xml document.</p>  <p><strong>name</strong> is a variable that has the name of the file for the python function.</p>  <p>So my question is, what am I missing to call <code>write.py</code> from my js file or how to call it if this approach is wrong?</p>"	"<p>You are using http.server to serve the content of a folder, as files, not to execute them, so in the best case scenario, http.server will respond with the content of the <code>write.py</code> file instead of executing it.</p>  <p>You need to create a webserver that has a endpoint where the code of write.py is integrated.</p>"
59634023	How to run python function from javascript?	javascript|python|ajax	2020-01-07 18:22:23.067000 UTC	"<p>I have a problem in calling my python function from my javascript file.</p>  <p>I'm using a simple server with <code>python3 -m http.server</code>, so no actual backend..my javascripts are in the front end.</p>  <p>I have a python file called <code>write.py</code> it has a function that I want to execute from my javascript file</p>  <p>write.py file:</p>  <pre class=""lang-py prettyprint-override""><code>def save_vit(text,name):     f = open(name + "".xml"", ""w+"")     f.write(text)     f.close() </code></pre>  <p>the javascript part that i have tried:(but didn't work)</p>  <pre class=""lang-js prettyprint-override""><code>$.ajax({         type: ""POST"",         url: ""write.py"",         data: { text: xmlDoc,name: name}}); </code></pre>  <p><strong>xmlDoc</strong> is a string that has an xml document.</p>  <p><strong>name</strong> is a variable that has the name of the file for the python function.</p>  <p>So my question is, what am I missing to call <code>write.py</code> from my js file or how to call it if this approach is wrong?</p>"	"<p>Python is running on the <em>server</em> side ... JavaScript is running on the <em>client</em> side.</p>  <p>So, the only way for JavaScript to ask for a Python routine to be run is through an asynchronous AJAX request which you will have to build.</p>"
59634023	How to run python function from javascript?	javascript|python|ajax	2020-01-07 18:22:23.067000 UTC	"<p>I have a problem in calling my python function from my javascript file.</p>  <p>I'm using a simple server with <code>python3 -m http.server</code>, so no actual backend..my javascripts are in the front end.</p>  <p>I have a python file called <code>write.py</code> it has a function that I want to execute from my javascript file</p>  <p>write.py file:</p>  <pre class=""lang-py prettyprint-override""><code>def save_vit(text,name):     f = open(name + "".xml"", ""w+"")     f.write(text)     f.close() </code></pre>  <p>the javascript part that i have tried:(but didn't work)</p>  <pre class=""lang-js prettyprint-override""><code>$.ajax({         type: ""POST"",         url: ""write.py"",         data: { text: xmlDoc,name: name}}); </code></pre>  <p><strong>xmlDoc</strong> is a string that has an xml document.</p>  <p><strong>name</strong> is a variable that has the name of the file for the python function.</p>  <p>So my question is, what am I missing to call <code>write.py</code> from my js file or how to call it if this approach is wrong?</p>"	"<p>You can't send a POST http request to run a python script. </p>  <p>You need to have the python script running on a server, that is able to take restful API calls, to run the script and return a value.</p>  <p>For example, you can run a small flask app that takes in your POST route, which runs a script and returns the value of the script back to the client that accessed the POST route.</p>"
59651013	Python - Extracting elements from an array similar to JavaScript ES6 Destructuring	javascript|python|arrays|dictionary	2020-01-08 17:30:35.270000 UTC	"<p>With JavaScript ES6 syntax I can to set variables from array:</p>  <pre><code>const [first, second] = names;   console.log(first, second); // 'Luke' 'Eva'   </code></pre>  <p>Does python have a similar syntax? </p>"	"<p>Yes, you can unpack lists like so:</p>  <pre><code>myList = [1, 2, 3] a, b, c = myList print(a) # 1 print(b) # 2 print(c) # 3 </code></pre>  <p>Also, in javascript you can do the following:</p>  <pre><code>// javascript: let myArray = [1, 2, 3]; let [first, ...other] = myArray; console.log(first); // 1 console.log(other); // [2, 3] </code></pre>  <p>Which is also achievable in Python:</p>  <pre><code>myList = [1, 2, 3] first, *other = myList print(first) # 1 print(other) # [2, 3] </code></pre>  <p>The following is also possible:</p>  <pre><code>myList = [1, 2, 3, 4, 5] a, *other, last = myList print(a)      # 1 print(other)  # [2, 3, 4] print(last)   # 5 </code></pre>  <p>It also works on tuples, though note that when unpacking tuples with the <code>*</code> operator, the result is a list:</p>  <pre><code>a, b, *other = (1, 2, 3, 4, 5) print(a)     # 1 print(b)     # 2 print(other) # [3, 4, 5] </code></pre>"
59694441	Scraping webpage with Javascripts functions using Python	javascript|python|web-scraping	2020-01-11 12:34:49.517000 UTC	"<p>I need to retrieve some information from a webpage. The page is like a powerpoint: several slides are shown one by one. To move from one slide to another you have to press a button that runs a js function ""<em>load_image_btn('plus')</em>"" which change the image. The URL is exactly the same, and the HTML code only changes de URL of the img ""<em>someurl/546</em>"".</p>  <p>Is there any way to execute that function from python iteratively so I can get all the images?</p>"	"<p>One generic way to cope with Javascript-induced problems is to use a headless browser to fully execute each page and then scrape from there. </p>  <p>For my last similar project I used a service that provides instances of headless webbrowsers that can be controlled via API, namely <a href=""https://scrapinghub.com/splash"" rel=""nofollow noreferrer"">https://scrapinghub.com/splash</a>.</p>  <p>But I am sure there are many alternatives.</p>"
59695665	python data crawling using chromedriver : javascript void(0)	python|selenium|web-crawler|selenium-chromedriver	2020-01-11 15:11:26.263000 UTC	"<p>I am trying to click this login button using chrome driver. it does not return errors, but the button wasn't clicked and everytime I run the code, I see a little sign on the left of the webpage saying, ' javascript:void(0); '. </p>  <p>Here is my code. Thanks in advance!</p>  <pre><code>import os from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  from selenium.webdriver.common.by import By  driver = webdriver.Chrome(executable_path=""/Users/XXX/Documents/chromedriver"") driver.get('https://www.hometax.go.kr/websquare/websquare.html?w2xPath=/ui/pp/index.xml') driver.implicitly_wait(3)  driver.find_element_by_xpath(     '//*[@class=""w2group ""]'     ).click() </code></pre>  <p><a href=""https://i.stack.imgur.com/m64kQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/m64kQ.png"" alt=""""></a></p>  <p><a href=""https://i.stack.imgur.com/1gkwm.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1gkwm.png"" alt=""enter image description here""></a></p>"	"<p>Please try,</p>  <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By   driver = webdriver.Chrome(executable_path=""YOUR_CHROMEDRIVER_PATH"") driver.get('https://www.hometax.go.kr/websquare/websquare.html?w2xPath=/ui/pp/index.xml')  TARGET = 'textbox81212912'  # driver.find_element_by_id(""textbox81212912"").click()  element = WebDriverWait(driver, 30).until(     EC.presence_of_element_located((By.ID, TARGET)) ) element.click()  input() # wait </code></pre>  <p>First, you are seleting the wrong object, by <code>//*[@class=""w2group ""]</code> this XPath means the first of all objects with the class attribute ""w2group"" for that page is selected.  </p>  <p>Also, the id of ""로그인"" element is : ""textbox81212912""<br> <a href=""https://i.stack.imgur.com/ssMS9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ssMS9.png"" alt=""enter image description here""></a></p>  <p>Second, use explicitly wait for target element than implicitly wait. This is helpful to prevent unexpected errors like: page load error due to network speed, etc...</p>"
59705269	Python: Flask passing values to javascript	javascript|python	2020-01-12 15:24:46.683000 UTC	"<p>So basically I'm doing google map and I need to add some markers, to do that I need to pass some values I did some research but many of them are executed by pressing a button, I'm really green on Javascript. My python code:</p>  <pre><code>@app.route('/&lt;api_key&gt;') def main_screen2(api_key=None):     try:         api_key = api_key or 'None'         Reach_sr = Back_End()         Reach_sr.GetCameras_Info(api_key)         camera2_title = 'TESTTTaaaazzz'         camera2_lat = 15.737769         camera2_log = 40.25693         return render_template('MAIN_index.html', camera2_title=camera2_title, camera2_lat=camera2_lat, camera2_log=camera2_log )     except Exception as error:         print(error)  </code></pre>  <p>And the Javascript code:</p>  <pre><code>function myFunction() {   var camera2_log = parseFloat(""{{ camera2_log }}"")   var camera2_lat = parseFloat(""{{ camera2_lat }}"") }  myFunction()  marker2 = new google.maps.Marker({   map: map,   draggable: false,   title: '{{camera2_title}}',   icon: ""https://developers.google.com/maps/documentation/javascript/examples/full/images/info-i_maps.png"",   animation: google.maps.Animation.DROP,   position: {lat: camera2_lat, lng: camera2_log} }); </code></pre>  <p>The title fits the name correctly, but I have no idea how to also add numbers</p>"	"<p>I made a solution to pass a value in a string for example - ""5"" In the Javascript i did this:</p>  <pre><code>var X1= parseFloat(""{{X1_frompython}}"", 10); var X2= parseFloat(""{{X2_frompython}}"", 10); </code></pre>  <p>This will convert a string into a float, and to access it use - X1, X2</p>"
59705269	Python: Flask passing values to javascript	javascript|python	2020-01-12 15:24:46.683000 UTC	"<p>So basically I'm doing google map and I need to add some markers, to do that I need to pass some values I did some research but many of them are executed by pressing a button, I'm really green on Javascript. My python code:</p>  <pre><code>@app.route('/&lt;api_key&gt;') def main_screen2(api_key=None):     try:         api_key = api_key or 'None'         Reach_sr = Back_End()         Reach_sr.GetCameras_Info(api_key)         camera2_title = 'TESTTTaaaazzz'         camera2_lat = 15.737769         camera2_log = 40.25693         return render_template('MAIN_index.html', camera2_title=camera2_title, camera2_lat=camera2_lat, camera2_log=camera2_log )     except Exception as error:         print(error)  </code></pre>  <p>And the Javascript code:</p>  <pre><code>function myFunction() {   var camera2_log = parseFloat(""{{ camera2_log }}"")   var camera2_lat = parseFloat(""{{ camera2_lat }}"") }  myFunction()  marker2 = new google.maps.Marker({   map: map,   draggable: false,   title: '{{camera2_title}}',   icon: ""https://developers.google.com/maps/documentation/javascript/examples/full/images/info-i_maps.png"",   animation: google.maps.Animation.DROP,   position: {lat: camera2_lat, lng: camera2_log} }); </code></pre>  <p>The title fits the name correctly, but I have no idea how to also add numbers</p>"	"<p>Surround your variables in double curly brackets so Jinja2 knows to fill them in using the variables passed to render_template, e.g.</p>  <pre><code>position: {lat: {{ camera2_lat }}, lng: {{ camera2_log }}} </code></pre>"
59735338	How can I scrape career path job titles from this javascript page using Python	python|selenium|web-scraping|beautifulsoup|python-requests	2020-01-14 14:02:28.557000 UTC	"<p>How can I scrape career path job titles from this javascript page using Python?</p>  <p>'<a href=""https://www.dice.com/career-paths?title=PHP%2BDeveloper&amp;location=San%2BDiego,%2BCalifornia,%2BUs,%2BCA&amp;experience=0&amp;sortBy=mostProbableTransition"" rel=""nofollow noreferrer"">https://www.dice.com/career-paths?title=PHP%2BDeveloper&amp;location=San%2BDiego,%2BCalifornia,%2BUs,%2BCA&amp;experience=0&amp;sortBy=mostProbableTransition</a>'</p>  <p>This is my code snippet, the returned soup doesn't have any the text data I need!</p>  <pre class=""lang-py prettyprint-override""><code>import requests from bs4 import BeautifulSoup import json import re from selenium import webdriver from selenium.webdriver.firefox.firefox_binary import FirefoxBinary from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.wait import WebDriverWait from selenium.webdriver.support import expected_conditions as EC   # get BeautifulSoup object def get_soup(url):     """"""     This function returns the BeautifulSoup object.      Parameters:         url: the link to get soup object for      Returns:         soup: BeautifulSoup object     """"""     req = requests.get(url)     soup = BeautifulSoup(req.text, 'html.parser')     return soup  # get selenium driver object def get_selenium_driver():     """"""     This function returns the selenium driver object.      Parameters:         None      Returns:         driver: selenium driver object     """"""     options = webdriver.FirefoxOptions()     options.add_argument('-headless')      driver = webdriver.Firefox(executable_path=r""geckodriver"", firefox_options = options)      return driver  # get soup obj using selenium def get_soup_using_selenium(url):     """"""     Given the url of a page, this function returns the soup object.      Parameters:         url: the link to get soup object for      Returns:         soup: soup object     """"""     options = webdriver.FirefoxOptions()     options.add_argument('-headless')      driver = webdriver.Firefox(executable_path=r""geckodriver"", firefox_options = options)     driver.get(url)     driver.implicitly_wait(3)      html = driver.page_source     soup = BeautifulSoup(html, 'html.parser')      driver.close()      return soup     title = ""PHP%2BDeveloper"" location = ""San%2BDiego,%2BCalifornia,%2BUs,%2BCA"" years_of_experirence = ""0"" sort_by_filter = ""mostProbableTransition""  url = ""https://www.dice.com/career-paths?title={}&amp;location={}&amp;experience={}&amp;sortBy={}"".format(title, location, years_of_experirence , sort_by_filter) career_paths_page_soup = get_soup(url)  </code></pre>"	"<p>Like another user has mentioned in the comments, <code>requests</code> won't work for you here. But, using Selenium, you can scrape the page contents using <code>WebDriverWait</code> to ensure all page content had loaded, and <code>element.text</code> to fetch the web page content.</p>  <p>The following code snippet will print the career path strings on the left side of the page:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.firefox.firefox_binary import FirefoxBinary from selenium.webdriver.common.keys import Keys from selenium.webdriver.common.by import By from selenium.webdriver.support.wait import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  # navigate to the page driver = get_selenium_driver() driver.get(url)  # wait for loading indicator to be hidden WebDriverWait(driver, 10).until(EC.invisibility_of_element((By.XPATH, ""//*[contains(text(), 'Loading data')]"")))  # wait for content to load career_path_elements = WebDriverWait(driver, 10).until(EC.presence_of_all_elements_located((By.XPATH, ""//div[@class='abcd']/ul/li"")))  # print out career paths for element in career_path_elements:      # get title attribute that usually contains career path text     title = element.get_attribute(""title"")      # sometimes career path is in span below this element     if not title:          # find the element and print its text         span_element = element.find_element_by_xpath(""span[not(contains(@class, 'currentJobHead'))]"")         print(span_element.text)     # print title in other cases     else:         print(title) </code></pre>  <p>This prints the following:</p>  <pre><code>PHP Developer Drupal Developer Web Developer Full Stack Developer Back-End Developer Full Stack PHP Developer IT Director Software Development Manager </code></pre>  <p>There are a few items of interest here. The main one being the Javascript loading on this page -- upon first opening the page, a ""Loading data..."" indicator appears. We must wait on <code>EC.invisibility_of_element</code> for this item to ensure it has disappeared before we attempt to locate any page content.</p>  <p>After that, we invoke <code>WebDriverWait</code> once again, but this time on the ""Career path"" elements on the right hand side of the page. This <code>WebDriverWait</code> call returns a list of elements, stored in <code>career_path_elements</code>. We can loop through this list of elements to print the career path of each item.</p>  <p>Each career path element contains the career path text in the <code>title</code> attribute, so we call <code>element.get_attribute(""title"")</code> to fetch that text. However, there is a special case for the 'Current Job Title' item where the career path text is contained in a <code>span</code> one level lower. We handle cases where <code>title</code> is empty by calling <code>element.find_element_by_xpath()</code> to locate the <code>span</code> instead. This ensures we can print every career path item on the page.</p>"
59780416	"How do I create a custom file format on Windows, with the interpreter being in, say, JavaScript, or Python?"	python	2020-01-17 02:28:38.110000 UTC	"<p>I would like to try to interpret it like a .json file for some user generated content for my game. I'm not a perfect coder, so yeah. I've tried looking it up online, and on MS Docs, but the Docs are about stuff like C++. I have a .py file, and I've used open() to open it. But how can I export it into an object?</p>"	"<p>You mention ""like a .json file"", so if you chose to store your content in valid JSON format, you could <a href=""https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files"" rel=""nofollow noreferrer"">read the file into Python</a> and then <a href=""https://docs.python.org/3/library/json.html"" rel=""nofollow noreferrer"">parse the JSON</a> to get the data into Python objects.</p>  <p>Otherwise, file extensions are all convention anyway, so you could create a file with whatever contents you want, call it <code>gamefiles.datastore</code>, and then read it into Python and parse it with a parser (that you would have to write for your custom data storage solution).</p>"
59828217	Python Selenium edit text content of specific javascript element in specific iframe	javascript|python|selenium|selenium-webdriver|iframe	2020-01-20 17:23:32.330000 UTC	"<p>I am trying to use python selenium to change the text in a specific JS element.  I started out by attempting to simply execute the script using the following:</p>  <p><code>driver.execute_script(""document.querySelector('#cssSelector').textContent='{}'"".format(text))</code></p>  <p>However, unfortunately, this returns null</p>  <p>When looking into the JS the selector is in a specific iframe so I have tried to select the iframe but this has not yet worked:</p>  <pre><code>driver.execute_script('''var element=window.frames['iframe'].document.querySelector(""[id='cssselector']""); element.textContent='{}'"".format(text)) </code></pre>  <p>This code also returns undefined as it cannot find the element.</p>  <p>Is there a better way to do this? thanks</p>"	
59832917	Deduplicate Time Series Data When Multiple Redundant Sources Exists (Python or Javascript)	javascript|python|node.js|duplicates|time-series	2020-01-21 01:14:08.870000 UTC	"<p>Assume we have 2 systems (imagine IoT sensors) observing the same data source for redundancy, generating 2 time series data streams <code>A</code> and <code>B</code>. In the example below, <code>A</code> and <code>B</code> happens to be shifted by 1 second apart during these 5 seconds shown here, simulating latency. <code>A</code> is also missing the value <code>3</code> expected at time=4, which is found in <code>B</code> at time=3.</p>  <p><strong>Question:</strong> In <code>grouped</code>, both  <code>A</code> and <code>B</code> have been combined together and were grouped by <code>time</code>. How can we then deduplicate the combined data stream <code>grouped</code>, so that we obtain the deduplicate time series <code>desired</code>? </p>  <p><em>Notes:</em> </p>  <p><sup>1</sup>If a duplicate data point exists in both <code>A</code> and <code>B</code>, we will keep the one that occurs earlier in time, and discard the newer duplicate.</p>  <p><sup>2</sup>The deduplicated result does not require 100% accuracy. We just need a reasonable strategy to resolve uncertain scenarios during deduplication.</p>  <p><strong>Illustration of the 2 time-series <code>A</code> and <code>B</code>, and the desired deduplicated data <code>desired</code></strong></p>  <pre><code>// time(s)  A   B       desired // ---------------------------  // 5        2        // 4            2       2  // 3        1   3       3   // 2        2   1       1  // 1        1   2       2  // 0            1       1 </code></pre>  <p><strong>Existing Code (Javascript)</strong></p>  <p>Feel free to use Javascript, Python, pseudo-code or similar languages. Javascript is highly preferred, libraries like Lodash/Pandas can be used.</p>  <pre><code>// 2 data streams const A = [     {time: 5, score: 2},     {time: 3, score: 1},     {time: 2, score: 2},     {time: 1, score: 1} ];  const B = [     {time: 4, score: 2},     {time: 3, score: 3},     {time: 2, score: 1},     {time: 1, score: 2},     {time: 0, score: 1} ];  // After grouping both A and B by `time`, we get `grouped` // Skipping the implementation here for simplicity let grouped = [     {time: 5, score: [2]},     {time: 4, score: [2]},     {time: 3, score: [1, 3]},     {time: 2, score: [2, 1]},     {time: 1, score: [1, 2]},     {time: 0, score: [1]}, ]; </code></pre>  <p><strong>Desired Result</strong></p>  <pre><code>[     {time: 4, score: [2]},     {time: 3, score: [3]},     {time: 2, score: [1]},     {time: 1, score: [2]},     {time: 0, score: [1]},  ] </code></pre>"	
59833005	"JSON from python json.dumps to javascript JSON.parse() with escaped \"""	javascript|python|json	2020-01-21 01:27:17.827000 UTC	"<p>I have been fighting with this problem for a few weeks now and still cannot understand what's wrong here. I created a dictionary in python <code>dic</code>. Then I am using dumps to convert it to a valid json.</p>  <pre><code>json_js = json.dumps(dic) # works fine, a valid json from the python's viewpoint # the reverse operation works fine also dic = json.loads(json_js) </code></pre>  <pre><code>print(json_js) ============== {""p0"": {""pf"": {""id"": ""pf1"", ""class"": [""pf"", ""w0"", ""h0""], ""data-page-no"": ""1""}, ""pc"": {""class"": [""pc"", ""pc1"", ""w0"", ""h0""]}, ""img"": [""&lt;img alt=\""\"" clas </code></pre>  <p>This json_js I use later on to add it to a js script that applies <code>JSON.parse()</code> on it. And this is the error that I get.</p>  <pre><code>SyntaxError: JSON.parse: expected ',' or ']' after array element at line 1 column 143 of the JSON data </code></pre>  <p>That 143 character is the first <code>\""</code>. But why can't js figure it as a valid JSON I cannot comprehend. Would you have any suggestions what might have gone wrong here?</p>  <p>EDIT. No idea why people close my question. The desired behaviour is that <code>JSON.parse</code> doesn't throw any errors. The way how I added it to a script is irrelevant for the question. Please, have a look at the part of the source code inside html .</p>  <pre><code>const str = `{""p0"": {""pf"": {""id"": ""pf1f"", ""class"": [""pf"", ""w2"", ""h2""], ""data-page-no"": ""1f""}, ""pc"": {""class"": [""pc"", ""pc1f"", ""w2"", ""h2""]}, ""img"": [""&lt;img alt=\""\"" class=\""bi x0 y0 w1 h1\""` // this string is several megabytes so I only put the first 150 or so characters here. var dic = JSON.parse(str); </code></pre>  <p>EDIT 2. The full transformation.</p>  <pre><code># in python using BeautifulSoup for scripts and new_html new_html = bs() dom = bs() scripts = [dom.new_tag('script')] scripts[0].string = html_script(json_js) # html_script is a ""string... %s"" %json_js new_html.body.append(scripts[0]) with open('stuff.html','w',encoding='utf-8') as f:          f.write(str(new_html)) </code></pre>"	"<p>In order to put a string of JSON into JavaScript source code, you used backticks to make it a template string. That’s not enough, though, since many sequences have special meaning inside backticks:</p>  <ul> <li><code>${…}</code> interpolation</li> <li>backslash escape sequences (the current problem, which converted the <code>\""</code> in the JSON to <code>""</code>)</li> <li>backticks</li> </ul>  <p>Embedding literals in JavaScript in HTML <code>&lt;script&gt;</code>s isn’t really trivial, but you can do it by JSON-encoding the JSON, which results in a string that’s <em>almost</em> ready to embed except for:</p>  <ul> <li>exiting the script element with <code>&lt;/script&gt;</code><sub><em>i</em></sub></li> <li>changing the parsing mode with <code>&lt;!--</code></li> <li>creating a poorly-formed JavaScript string literal <a href=""https://github.com/tc39/proposal-json-superset"" rel=""nofollow noreferrer"">(for now)</a> with U+2028 or U+2029</li> </ul>  <p>which can be avoided by escaping all <code>&lt;</code>s, U+2028, and U+2029.</p>  <p>In all:</p>  <pre class=""lang-py prettyprint-override""><code>def script_embeddable_json(value):     return (         json.dumps(json.dumps(value))         .replace(""&lt;"", ""\\u003c"")         .replace(""\u2028"", ""\\u2028"")         .replace(""\u2029"", ""\\u2029""))   json_js = script_embeddable_json(dic) </code></pre>  <p>Then the template should look like <code>const str = %s</code>.</p>"
59844798	Serverless-offline works fine with javascript but throw error in python	python|amazon-web-services|aws-lambda|serverless-framework|serverless-offline	2020-01-21 15:55:52.007000 UTC	"<p>I am new to serverless framework , I am trying to use serverless-offline , my code works fine when I deploy it on AWS but locally is throw error of no module found. the same code when written is javasript for hello-world it works just fine</p>  <p>this is my handler.py</p>  <pre><code>import json import datetime   def endpoint(event, context):     body = {         ""message"": ""Hello, you called the ping""     }      response = {         ""statusCode"": 200,         ""body"": json.dumps(body)     }      return response  </code></pre>  <p>this is yml</p>  <pre><code> service: hello-world-offline  provider:   name: aws   runtime: python3.6   region: eu-west-1   profile: default   memorySize: 256 # optional, in MB, default is 1024   stage: dev  plugins:   - serverless-offline   functions:   hello-world:     handler: handler.endpoint      events:       - http:           path: hello-world           method: get  </code></pre>  <p>after <code>sls offline</code></p>  <p>the output is</p>  <pre><code>Serverless: Starting Offline: dev/eu-west-1.  Serverless: Routes for hello-world: Serverless: GET /hello-world Serverless: POST /{apiVersion}/functions/hello-world-offline-dev-hello-world/invocations  Serverless: Offline [HTTP] listening on http://localhost:3000 Serverless: Enter ""rp"" to replay the last request  </code></pre>  <p>but when <code>http://localhost:3000/hello-world</code> is called </p>  <p>the output is </p>  <pre><code> Serverless: GET /hello-world (λ: hello-world) Serverless: Failure: internal/modules/cjs/loader.js:798     throw err;     ^  Error: Cannot find module '/home/imran/serverless projects/hello-world-offline/invoke'     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:795:15)     at Function.Module._resolveFilename (pkg/prelude/bootstrap.js:1287:46)     at Function.Module._load (internal/modules/cjs/loader.js:688:27)     at Function.Module.runMain (pkg/prelude/bootstrap.js:1316:12)     at internal/main/run_main_module.js:17:11 {   code: 'MODULE_NOT_FOUND',   requireStack: [] }  undefined  </code></pre>"	
59868967	Is it possible to send data from a JavaScript browser app to a local python server directly?	javascript|python	2020-01-22 22:08:55.220000 UTC	"<p>As the question suggests I'm trying to find a way using JavaScript to send some data to a local python server. I know that using javascript. I know that browser JS can't import any libraries via ""Require"". Does anyone know of a method using JS on its own?</p>"	"<p>Yes.</p>  <p>Make your <a href=""https://pypi.org/project/Flask/"" rel=""nofollow noreferrer"">Python app listen for HTTP requests</a>, and then use the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">Fetch API</a> from JavaScript.</p>"
59870098	How to solve JavaScript redirect issue on Python Scrapy?	python|scrapy	2020-01-23 00:27:09.190000 UTC	"<p>I am fairly new to scrapy and following docs to scrape info on <a href=""https://pbejobbers.com/abrasives"" rel=""nofollow noreferrer"">https://pbejobbers.com/abrasives</a> using my script:</p>  <pre><code>import scrapy   class CrwSpider(scrapy.Spider):     name = ""Otim""      def start_requests(self):         urls = [             'https://pbejobbers.com/abrasives'         ]         for url in urls:             yield scrapy.Request(url=url, callback=self.parse)      def parse(self, response):         pattern = r'document\.location\.href=\""(:?.*)=1\"";'         url = response.css('script::text').re_first(pattern)         print (url)         page = response.url.split(""/"")[-2]         filename = 'quotes-%s.html' % page         with open(filename, 'wb') as f:             f.write(response.body)         self.log('Saved file %s' % filename)          next_page = url+'=1'         if next_page is not None:             next_page = response.urljoin(next_page)             yield scrapy.Request(next_page, callback=self.parse) </code></pre>  <p>When I run the crawler, instead of getting actual page, I am getting this javascript:</p>  <pre><code>&lt;html&gt;   &lt;body&gt;     &lt;script type=""text/javascript"" src=""/aes.min.js""&gt;&lt;/script&gt;     &lt;script&gt;       function toNumbers(d) {         var e = [];         d.replace(/(..)/g, function(d) {           e.push(parseInt(d, 16));         });         return e;       }       function toHex() {         for (           var d = [],             d =               1 == arguments.length &amp;&amp; arguments[0].constructor == Array                 ? arguments[0]                 : arguments,             e = """",             f = 0;           f &lt; d.length;           f++         )           e += (16 &gt; d[f] ? ""0"" : """") + d[f].toString(16);         return e.toLowerCase();       }       var a = toNumbers(""de50860916c188904e9c359aaaf4f248""),         b = toNumbers(""a944ac1efe048739325d92e58868ffa1""),         c = toNumbers(""34d8ed644eb63ddaafeb01607ce6b6ce"");       document.cookie =         ""OCXS="" +         toHex(slowAES.decrypt(c, 2, a, b)) +         ""; expires=Thu, 31-Dec-37 23:55:55 GMT; path=/"";       document.location.href =         ""http://pbejobbers.com/abrasives?81e93addddb02a10cd0652f09370ae96=2"";     &lt;/script&gt;   &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>The actual page consist of list of product cards. I noticed that <code>document.location.href</code> has a new url. So I grabbed it using regular expression and tried to feed it back to crawler as new URL to parse but then I get same result with <code>=2</code>ending URL. I cant seem to get to actual page.</p>  <p>How can I get the redirect URL and use it? I am really stuck. </p>"	"<p>You cannot go to next page using Scrapy. As when you disable JavaScript from inspection tools, Next button stops working. Scrapy cannot render JavaScript. You have to use Selenium to scrape this page.</p>"
59888438	Can't run JavaScript using requests-html library on python	javascript|python-3.x|python-requests-html	2020-01-23 23:22:19.907000 UTC	"<p>I need to pull out some information from some links that contain some javascript code. I know how to do it with Selenium, but it takes a lot of time and I need more efficient way to pull this off.</p>  <p>I cam across the requests-html library and it looks quite robust way for my purposes, but unfortunately it doesn't look like I'm able to run the javascript with it.</p>  <p>I read the documentation from the following link <a href=""https://requests-html.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">https://requests-html.readthedocs.io/en/latest/</a></p>  <p>And tried the following code:</p>  <pre><code>from requests_html import HTMLSession,HTML from bs4 import BeautifulSoup  session = HTMLSession() resp = session.get(""https://drive.google.com/file/d/1rZ-DhTFPCen6DvJXlNl3Bxuwj4-ULwoa/view"")  resp.html.render()  soup = BeautifulSoup(resp.html.html, 'lxml')  email = soup.find_all('img', {'class':'ndfHFb-c4YZDc-MZArnb-BA389-YLEF4c'}) print(email) </code></pre>  <p>I get no results after running this code, even though the class exists if I open the link from my browser.</p>  <p>I've also tried using headers with my requests with no help. I tried the same code (with different html tag, of course) for another link (<a href=""https://web.archive.org/web/"" rel=""nofollow noreferrer"">https://web.archive.org/web/</a>*/stackoverflow.com) but I get some html text including a response that says that my browser must support javascript. My code for this part:</p>  <pre><code>from requests_html import HTMLSession from bs4 import BeautifulSoup  session = HTMLSession() resp = session.get(""https://web.archive.org/web/*/stackoverflow.com"")  resp.html.render()  soup = BeautifulSoup(resp.html.html, 'lxml')   print(soup) </code></pre>  <p>The response I get:</p>  <pre><code>&lt;div class=""no-script-message""&gt;         The Wayback Machine requires your browser to support JavaScript, please email &lt;a href=""mailto:info@archive.org""&gt;info@archive.org&lt;/a&gt;&lt;br/&gt;if you have any questions about this.       &lt;/div&gt; </code></pre>  <p>Any help would be appreciated. Thanks!</p>"	"<p>This should work on the site. But as you mentioned the code worked for the StackOverflow but did not work for the other URL? is it because the server might not respond or the tag that you are looking for may not be available at that time. but anyway the <a href=""https://www.alixaprodev.com/2021/02/how-to-use-requests-html-library-in-python.html.html"" rel=""nofollow noreferrer"">requests-HTML</a> should have given you an error.</p> <p>I was about to check your problem and add it to my blog post <a href=""https://www.alixaprodev.com/2021/02/how-to-use-requests-html-library-in-python.html.html"" rel=""nofollow noreferrer"">How to use Requests-HTML</a>but unfortunately, the link you provided is not working.</p>"
59888438	Can't run JavaScript using requests-html library on python	javascript|python-3.x|python-requests-html	2020-01-23 23:22:19.907000 UTC	"<p>I need to pull out some information from some links that contain some javascript code. I know how to do it with Selenium, but it takes a lot of time and I need more efficient way to pull this off.</p>  <p>I cam across the requests-html library and it looks quite robust way for my purposes, but unfortunately it doesn't look like I'm able to run the javascript with it.</p>  <p>I read the documentation from the following link <a href=""https://requests-html.readthedocs.io/en/latest/"" rel=""nofollow noreferrer"">https://requests-html.readthedocs.io/en/latest/</a></p>  <p>And tried the following code:</p>  <pre><code>from requests_html import HTMLSession,HTML from bs4 import BeautifulSoup  session = HTMLSession() resp = session.get(""https://drive.google.com/file/d/1rZ-DhTFPCen6DvJXlNl3Bxuwj4-ULwoa/view"")  resp.html.render()  soup = BeautifulSoup(resp.html.html, 'lxml')  email = soup.find_all('img', {'class':'ndfHFb-c4YZDc-MZArnb-BA389-YLEF4c'}) print(email) </code></pre>  <p>I get no results after running this code, even though the class exists if I open the link from my browser.</p>  <p>I've also tried using headers with my requests with no help. I tried the same code (with different html tag, of course) for another link (<a href=""https://web.archive.org/web/"" rel=""nofollow noreferrer"">https://web.archive.org/web/</a>*/stackoverflow.com) but I get some html text including a response that says that my browser must support javascript. My code for this part:</p>  <pre><code>from requests_html import HTMLSession from bs4 import BeautifulSoup  session = HTMLSession() resp = session.get(""https://web.archive.org/web/*/stackoverflow.com"")  resp.html.render()  soup = BeautifulSoup(resp.html.html, 'lxml')   print(soup) </code></pre>  <p>The response I get:</p>  <pre><code>&lt;div class=""no-script-message""&gt;         The Wayback Machine requires your browser to support JavaScript, please email &lt;a href=""mailto:info@archive.org""&gt;info@archive.org&lt;/a&gt;&lt;br/&gt;if you have any questions about this.       &lt;/div&gt; </code></pre>  <p>Any help would be appreciated. Thanks!</p>"	"<p>In render, add sleep parameter</p> <pre><code>resp.html.render(sleep=2) </code></pre>"
59897675	How to serialise a Python dictionary to a JavaScript object text?	javascript|python|serialization	2020-01-24 13:44:59.027000 UTC	"<p>Can someone suggest a way to serialise a Python dictionary to JavaScript source code describing an equivalent object?</p>  <p>Note that this is different from JSON serialisation.  In particular, the following example is important to me:</p>  <pre><code>x = { True: 1, False: 0 } </code></pre>  <p>Serialising this with <code>json.dumps(x)</code> results in:</p>  <pre><code>{ ""true"": 1, ""false"": 0 } </code></pre>  <p>What I want is:</p>  <pre><code>{ true: 1, false: 0 } </code></pre>  <p>This is a valid object declaration in JavaScript but is not valid JSON.  Similar problems occur when using any non-string type as a dictionary key.</p>"	"<p>In javascript object keys can only be strings or <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"" rel=""nofollow noreferrer"">Symbols</a></p>  <p>You can access the object properties with true/false because javascript convert them to strings, you can see that they are actually string with:</p>  <pre><code>var x = { true: 1, false: 0 } console.log(Object.keys(x)) // [""true"", ""false""] </code></pre>"
59900107	"How to get the data after : in python when it is transpilled to javascript, if and only if their syntax are matching to a greater extent?"	javascript|python|replace	2020-01-24 16:12:56.820000 UTC	"<p>I have been making a python interpreter in javascript that can transpile similar looking python scripts to javascript ( I am making this because, I most of the time write simple python code that can be easily converted to javascript code with little syntax changes. So, I thought to write a function in javascript which can do that for me, by excepting the python code as text and outputting pure &amp; valid javascript ). I have completed most of the work in my interpreter, but I am not able to solve this problem :</p>  <p>Converting :</p>  <pre><code>if 3 &gt; 2:    # Do anything... </code></pre>  <p>To :</p>  <pre><code>if (3 &gt; 2) {    // Do anything... } </code></pre>  <p>So, far I went developing this part of the interpreter :</p>  <pre><code>const py2js = (val) =&gt; {    val = val.replace(/\b(if|for|while)\b([\S\s]*?)\:/gm, function(_, a, b) {      return a + ""("" + b + "") {""; // What to do here and in the above regex to catch the data after :    } } </code></pre>  <p>I just progressed up-to this ! I am not understanding how to get the data after <strong>:</strong> So, can you help me complete my py2js ?</p>"	
59915908	Migrating WordPress free website with own developed python or JavaScript website	javascript|django|python-3.x|wordpress	2020-01-26 05:50:10.100000 UTC	"<p>I want to start an educational website with text material, assignments and video tutorials. And I future I want to extend the same for selling my graphic designs. So to start this I was thinking to start with free WordPress website and slowly migrate this website with my own developed Django (Python) and JavaScript website. I am learning python and JavaScript and doesn't start development yet. <strong>So my question is is its fine and in right direction to start free WordPress website for now and then migrate with same domain to my own developed?</strong></p>"	
59960144	Sending JSON obj with Japanese characters from Python to Javascript	javascript|python|json|utf-8	2020-01-29 03:32:08.250000 UTC	"<p>I have a Python3 function that when called will return a json object which looks like this:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>finished python tags look like this: {'tags': {'releaseArtist': ['Shuichi Murakami', 'Nobu Caine', 'Electro Keyboard Orchestra', 'Mash', 'Loser', 'Ponta Box', 'Mobo Band', 'JOQR DJ Girls', 'Miro Takebi Trio', 'Nobu-Zans', '7 Seven', 'Ponta Unit'], 'releaseInfo': ['Welcome To My Life', '1998', 'Japan', 'JVC', 'Jazz'], 'tracklist': ['Jaco Pastorius Medley = ジャコ・パトリアス・メドレー', 'I Want You Back = アイ・ウォント・ユー・バック', 'Travelling = トラベリング', 'Ive Got You Under My Skin = アイヴ・ガット・ユー・アンダー・マイ・スキン', '青い山脈', 'Oh! Darling = オー！ ダーリン', 'Jane Birkin Medley = ジェーン・バーキン・メドレー', '津軽 ～ 南部俵積み唄', 'It Might As Well Stay Monday From Now On = 月曜はブルーな日', 'Time Is On My Side = タイム・イズ・オン・マイ・サイド', 'We Can Talk = ウィ・キャン・トーク', 'Left Alone = レフト・ア ローン', 'ヨイトマケの唄', 'Mambo No. 5 = マンボ・ナンバー5', '(The White Room ～ Sunshine Of Your Love) ～ Knockin On Heavens Door = 天国への扉', 'Welcome To My Rhythm [こんなオイラに誰がした] ～ 嵐を呼ぶ男'], 'combinations': ['Welcome To My Life 1998', 'Shuichi Murakam i 1998', 'Shuichi Murakami Welcome To My Life', 'Shuichi Murakami Welcome To My Life 1998']}} json data =  {'tags': {'releaseArtist': ['Shuichi Murakami', 'Nobu Caine', 'Electro Keyboard Orchestra', 'Mash', 'Loser', 'Ponta Box', 'Mobo Band', 'JOQR DJ Girls', 'Miro Takebi Trio', 'Nobu-Zans', '7 Seven', 'Ponta Unit'], 'releaseInfo': ['Welcome To My Life', '1998', 'Japan', 'JVC', 'Jazz'], 'tracklist': ['Jaco Pastorius Medley = ジャコ・パトリアス・メドレー', 'I Want You Back = アイ・ウォント・ユー・バック', 'Travelling = トラベリング', 'Ive Got You Under My Skin = アイヴ・ガット・ユー・アンダー・マイ・スキン', '青い山脈', 'Oh! Darli ng = オー！ ダーリン', 'Jane Birkin Medley = ジェーン・バーキン・メドレー', '津軽 ～ 南部俵積み唄', 'It Might As Well Stay Monday From Now On = 月曜はブルーな日', 'Time Is On My Side = タイム・イズ・オン・マイ・サイド', 'We Can Talk = ウィ・キャン・トーク', 'Left Alone =  レフト・アローン', 'ヨイトマケの唄', 'Mambo No. 5 = マンボ・ナンバー5', '(The White Room ～ Sunshine Of Your Love) ～ Knockin On Heavens Door = 天国への扉', 'Welcome To My Rhythm [こんなオイラに誰がした] ～ 嵐を呼ぶ男'], 'combinations': ['Welcome To My Life 1998', 'Shui chi Murakami 1998', 'Shuichi Murakami Welcome To My Life', 'Shuichi Murakami Welcome To My Life 1998']}}</code></pre> </div> </div> </p>  <p>my Python functionr returns the JSON like this:</p>  <pre><code>#format tags tags = {} tags[""releaseArtist""] = artistsTags  tags[""releaseInfo""] = releaseInfoTags tags[""tracklist""] = tracklistTags tags[""combinations""] = combinationsTags data = {} data[""tags""] = tags print('finished python tags look like:') print(data) return data </code></pre>  <p>My javascript in an html file receives the tags json data structure like this:</p>  <pre><code>            console.log(""ajax request to /my-ajax-test/ was a success !"")             console.log(""response = "", response)                                 //encoded output             console.log(""JSON.stringify(response) = "", JSON.stringify(response)) //encoded output             //console.log(""JSON.loads(response) = "", JSON.loads(response))       //no json.loads function             console.log(""JSON.parse(response) = "", JSON.parse(response))         //encoded output </code></pre>  <p>When I print the received json data; all the Japanese characters get encoded like <code>\u9752\u3044\u5c71\u8108</code>:</p>  <pre><code>response =  {""tags"": {""releaseArtist"": [""Shuichi Murakami"", ""Nobu Caine"", ""Electro Keyboard Orchestra"", ""Mash"", ""Loser"", ""Ponta Box"", ""Mobo Band"", ""JOQR DJ Girls"", ""Miro Takebi Trio"", ""Nobu-Zans"", ""7 Seven"", ""Ponta Unit""], ""releaseInfo"": [""Welcome To My Life"", ""1998"", ""Japan"", ""JVC"", ""Jazz""], ""tracklist"": [""Jaco Pastorius Medley = \u30b8\u30e3\u30b3\u30fb\u30d1\u30c8\u30ea\u30a2\u30b9\u30fb\u30e1\u30c9\u30ec\u30fc"", ""I Want You Back = \u30a2\u30a4\u30fb\u30a6\u30a9\u30f3\u30c8\u30fb\u30e6\u30fc\u30fb\u30d0\u30c3\u30af"", ""Travelling = \u30c8\u30e9\u30d9\u30ea\u30f3\u30b0"", ""Ive Got You Under My Skin = \u30a2\u30a4\u30f4\u30fb\u30ac\u30c3\u30c8\u30fb\u30e6\u30fc\u30fb\u30a2\u30f3\u30c0\u30fc\u30fb\u30de\u30a4\u30fb\u30b9\u30ad\u30f3"", ""\u9752\u3044\u5c71\u8108"", ""Oh! Darling = \u30aa\u30fc\uff01 \u30c0\u30fc\u30ea\u30f3"", ""Jane Birkin Medley = \u30b8\u30a7\u30fc\u30f3\u30fb\u30d0\u30fc\u30ad\u30f3\u30fb\u30e1\u30c9\u30ec\u30fc"", ""\u6d25\u8efd \uff5e \u5357\u90e8\u4ff5\u7a4d\u307f\u5504"", ""It Might As Well Stay Monday From Now On = \u6708\u66dc\u306f\u30d6\u30eb\u30fc\u306a\u65e5"", ""Time Is On My Side = \u30bf\u30a4\u30e0\u30fb\u30a4\u30ba\u30fb\u30aa\u30f3\u30fb\u30de\u30a4\u30fb\u30b5\u30a4\u30c9"", ""We Can Talk = \u30a6\u30a3\u30fb\u30ad\u30e3\u30f3\u30fb\u30c8\u30fc\u30af"", ""Left Alone = \u30ec\u30d5\u30c8\u30fb\u30a2\u30ed\u30fc\u30f3"", ""\u30e8\u30a4\u30c8\u30de\u30b1\u306e\u5504"", ""Mambo No. 5 = \u30de\u30f3\u30dc\u30fb\u30ca\u30f3\u30d0\u30fc5"", ""(The White Room \uff5e Sunshine Of Your Love) \uff5e Knockin On Heavens Door = \u5929\u56fd\u3078\u306e\u6249"", ""Welcome To My Rhythm [\u3053\u3093\u306a\u30aa\u30a4\u30e9\u306b\u8ab0\u304c\u3057\u305f] \uff5e \u5d50\u3092\u547c\u3076\u7537""], ""combinations"": [""Welcome To My Life 1998"", ""Shuichi Murakami 1998"", ""Shuichi Murakami Welcome To My Life"", ""Shuichi Murakami Welcome To My Life 1998""]}} </code></pre>  <p>So the json data is fine when its in Python, but once it reaches javascript it encodes complex chars, and my attempts to decode it with json.parse / json.loads / json.stringify havent been successfull. Is there a way to ensure that my Javascript always has the same chars as in Python? (For languages with chars like Japan, Middle Eastern, etc...)</p>"	<p>fixed with</p>  <pre><code>resolve(JSON.parse(response)) </code></pre>
59960144	Sending JSON obj with Japanese characters from Python to Javascript	javascript|python|json|utf-8	2020-01-29 03:32:08.250000 UTC	"<p>I have a Python3 function that when called will return a json object which looks like this:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>finished python tags look like this: {'tags': {'releaseArtist': ['Shuichi Murakami', 'Nobu Caine', 'Electro Keyboard Orchestra', 'Mash', 'Loser', 'Ponta Box', 'Mobo Band', 'JOQR DJ Girls', 'Miro Takebi Trio', 'Nobu-Zans', '7 Seven', 'Ponta Unit'], 'releaseInfo': ['Welcome To My Life', '1998', 'Japan', 'JVC', 'Jazz'], 'tracklist': ['Jaco Pastorius Medley = ジャコ・パトリアス・メドレー', 'I Want You Back = アイ・ウォント・ユー・バック', 'Travelling = トラベリング', 'Ive Got You Under My Skin = アイヴ・ガット・ユー・アンダー・マイ・スキン', '青い山脈', 'Oh! Darling = オー！ ダーリン', 'Jane Birkin Medley = ジェーン・バーキン・メドレー', '津軽 ～ 南部俵積み唄', 'It Might As Well Stay Monday From Now On = 月曜はブルーな日', 'Time Is On My Side = タイム・イズ・オン・マイ・サイド', 'We Can Talk = ウィ・キャン・トーク', 'Left Alone = レフト・ア ローン', 'ヨイトマケの唄', 'Mambo No. 5 = マンボ・ナンバー5', '(The White Room ～ Sunshine Of Your Love) ～ Knockin On Heavens Door = 天国への扉', 'Welcome To My Rhythm [こんなオイラに誰がした] ～ 嵐を呼ぶ男'], 'combinations': ['Welcome To My Life 1998', 'Shuichi Murakam i 1998', 'Shuichi Murakami Welcome To My Life', 'Shuichi Murakami Welcome To My Life 1998']}} json data =  {'tags': {'releaseArtist': ['Shuichi Murakami', 'Nobu Caine', 'Electro Keyboard Orchestra', 'Mash', 'Loser', 'Ponta Box', 'Mobo Band', 'JOQR DJ Girls', 'Miro Takebi Trio', 'Nobu-Zans', '7 Seven', 'Ponta Unit'], 'releaseInfo': ['Welcome To My Life', '1998', 'Japan', 'JVC', 'Jazz'], 'tracklist': ['Jaco Pastorius Medley = ジャコ・パトリアス・メドレー', 'I Want You Back = アイ・ウォント・ユー・バック', 'Travelling = トラベリング', 'Ive Got You Under My Skin = アイヴ・ガット・ユー・アンダー・マイ・スキン', '青い山脈', 'Oh! Darli ng = オー！ ダーリン', 'Jane Birkin Medley = ジェーン・バーキン・メドレー', '津軽 ～ 南部俵積み唄', 'It Might As Well Stay Monday From Now On = 月曜はブルーな日', 'Time Is On My Side = タイム・イズ・オン・マイ・サイド', 'We Can Talk = ウィ・キャン・トーク', 'Left Alone =  レフト・アローン', 'ヨイトマケの唄', 'Mambo No. 5 = マンボ・ナンバー5', '(The White Room ～ Sunshine Of Your Love) ～ Knockin On Heavens Door = 天国への扉', 'Welcome To My Rhythm [こんなオイラに誰がした] ～ 嵐を呼ぶ男'], 'combinations': ['Welcome To My Life 1998', 'Shui chi Murakami 1998', 'Shuichi Murakami Welcome To My Life', 'Shuichi Murakami Welcome To My Life 1998']}}</code></pre> </div> </div> </p>  <p>my Python functionr returns the JSON like this:</p>  <pre><code>#format tags tags = {} tags[""releaseArtist""] = artistsTags  tags[""releaseInfo""] = releaseInfoTags tags[""tracklist""] = tracklistTags tags[""combinations""] = combinationsTags data = {} data[""tags""] = tags print('finished python tags look like:') print(data) return data </code></pre>  <p>My javascript in an html file receives the tags json data structure like this:</p>  <pre><code>            console.log(""ajax request to /my-ajax-test/ was a success !"")             console.log(""response = "", response)                                 //encoded output             console.log(""JSON.stringify(response) = "", JSON.stringify(response)) //encoded output             //console.log(""JSON.loads(response) = "", JSON.loads(response))       //no json.loads function             console.log(""JSON.parse(response) = "", JSON.parse(response))         //encoded output </code></pre>  <p>When I print the received json data; all the Japanese characters get encoded like <code>\u9752\u3044\u5c71\u8108</code>:</p>  <pre><code>response =  {""tags"": {""releaseArtist"": [""Shuichi Murakami"", ""Nobu Caine"", ""Electro Keyboard Orchestra"", ""Mash"", ""Loser"", ""Ponta Box"", ""Mobo Band"", ""JOQR DJ Girls"", ""Miro Takebi Trio"", ""Nobu-Zans"", ""7 Seven"", ""Ponta Unit""], ""releaseInfo"": [""Welcome To My Life"", ""1998"", ""Japan"", ""JVC"", ""Jazz""], ""tracklist"": [""Jaco Pastorius Medley = \u30b8\u30e3\u30b3\u30fb\u30d1\u30c8\u30ea\u30a2\u30b9\u30fb\u30e1\u30c9\u30ec\u30fc"", ""I Want You Back = \u30a2\u30a4\u30fb\u30a6\u30a9\u30f3\u30c8\u30fb\u30e6\u30fc\u30fb\u30d0\u30c3\u30af"", ""Travelling = \u30c8\u30e9\u30d9\u30ea\u30f3\u30b0"", ""Ive Got You Under My Skin = \u30a2\u30a4\u30f4\u30fb\u30ac\u30c3\u30c8\u30fb\u30e6\u30fc\u30fb\u30a2\u30f3\u30c0\u30fc\u30fb\u30de\u30a4\u30fb\u30b9\u30ad\u30f3"", ""\u9752\u3044\u5c71\u8108"", ""Oh! Darling = \u30aa\u30fc\uff01 \u30c0\u30fc\u30ea\u30f3"", ""Jane Birkin Medley = \u30b8\u30a7\u30fc\u30f3\u30fb\u30d0\u30fc\u30ad\u30f3\u30fb\u30e1\u30c9\u30ec\u30fc"", ""\u6d25\u8efd \uff5e \u5357\u90e8\u4ff5\u7a4d\u307f\u5504"", ""It Might As Well Stay Monday From Now On = \u6708\u66dc\u306f\u30d6\u30eb\u30fc\u306a\u65e5"", ""Time Is On My Side = \u30bf\u30a4\u30e0\u30fb\u30a4\u30ba\u30fb\u30aa\u30f3\u30fb\u30de\u30a4\u30fb\u30b5\u30a4\u30c9"", ""We Can Talk = \u30a6\u30a3\u30fb\u30ad\u30e3\u30f3\u30fb\u30c8\u30fc\u30af"", ""Left Alone = \u30ec\u30d5\u30c8\u30fb\u30a2\u30ed\u30fc\u30f3"", ""\u30e8\u30a4\u30c8\u30de\u30b1\u306e\u5504"", ""Mambo No. 5 = \u30de\u30f3\u30dc\u30fb\u30ca\u30f3\u30d0\u30fc5"", ""(The White Room \uff5e Sunshine Of Your Love) \uff5e Knockin On Heavens Door = \u5929\u56fd\u3078\u306e\u6249"", ""Welcome To My Rhythm [\u3053\u3093\u306a\u30aa\u30a4\u30e9\u306b\u8ab0\u304c\u3057\u305f] \uff5e \u5d50\u3092\u547c\u3076\u7537""], ""combinations"": [""Welcome To My Life 1998"", ""Shuichi Murakami 1998"", ""Shuichi Murakami Welcome To My Life"", ""Shuichi Murakami Welcome To My Life 1998""]}} </code></pre>  <p>So the json data is fine when its in Python, but once it reaches javascript it encodes complex chars, and my attempts to decode it with json.parse / json.loads / json.stringify havent been successfull. Is there a way to ensure that my Javascript always has the same chars as in Python? (For languages with chars like Japan, Middle Eastern, etc...)</p>"	"<p>I think this should work.</p>  <pre><code>import json  tags = {} tags[""releaseArtist""] = artistsTags  tags[""releaseInfo""] = releaseInfoTags tags[""tracklist""] = tracklistTags tags[""combinations""] = combinationsTags data = {} data[""tags""] = tags return json.dumps({'data': data, 'ensure_ascii'=False}) </code></pre>"
59966826	How can I get Javascript onSuccess response object variables in Python?	python|django|django-models|django-templates	2020-01-29 12:10:50.450000 UTC	"<p><strong><em>Background:</em></strong></p>  <p>Working in a Django application, I have a template that performs an action (makes a payement) using an external API. The API call is done in Javascript.</p>  <p>On Success, the API returns a <code>response</code> object. This works well on tests.</p>  <pre><code>function makePayment(applicationAmount) {     let paymentEngine = RmPaymentEngine.init({         key: 'abcd'         firstName: '{{ user.f_name }}',         onSuccess: function(response) {             console.log('callback Successful Response', response);             // TODO: Add a function to post the payment records to the database             // response from the API contains a dictionary like (read json) object             // how can I get that response object in Python and use those response             // object values to update a django model database records         },         onError: function(response) {             console.log('callback Error Response', response);             // TODO: Add a function to throw an error message         },         onClose: function() {             console.log(""closed"");         }     }); } </code></pre>  <p><strong><em>Question:</em></strong></p>  <p>How can I get that <code>onSuccess</code> <code>response</code> object variables in Python and use those <code>response</code> object values to update a django model database records?</p>  <p>Looked at this link: <a href=""https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call"">How do I return the response from an asynchronous call?</a> but can't seem to implement my need.</p>  <p>I'd be happy to be directed to a simple resource that explains the procedure, not something very involved that takes hours to understand.</p>"	"<p>Using ideas from @Lag11 and @Arount and a wonderful tutorial <a href=""https://www.pluralsight.com/guides/work-with-ajax-django"" rel=""nofollow noreferrer"">here</a>, I created 2 function based views, one to just serve the 'page' the other to handle the 'page post to DB'.</p>  <p>Summary, I did this in the <strong><em>template</em></strong>:</p>  <pre><code>function makePayment(applicationAmount) {     let paymentEngine = RmPaymentEngine.init({         key: 'abcd'         firstName: '{{ user.f_name }}',         onSuccess: function(response) {             console.log('callback Successful Response', response);              // start new additions              data = {                 ""payer_email"": ""{{ user.email }}"",                 ""payer_phone"": ""{{ user.phone }}"",                 ""payment_amount_total"": response.amount,             }              $.ajax({                 type: 'POST',                 url: ""{% url 'post_purchase_form' %}"",                 data: data,                 onSuccess: function (response) {                     console.log('callback db post Successful', response);                   },                 error: function (response) {                     // alert the error if any error occured                     alert(response);                 }             })             // end new additions         },         onError: function(response) {             console.log('callback Error Response', response);             // TODO: Add a function to throw an error message         },         onClose: function() {             console.log(""closed"");         }     }); } </code></pre>  <p>And this in the <strong><em>views.py</em></strong>:</p>  <pre><code>def application_form_view(request):     user = request.user     form = ApplicationForm(instance=user)      return render(request, 'application_form.html', {'form': form, 'user': user})  def post_application_form_view(request):     # request should be ajax and method should be POST.     if request.is_ajax and request.method == ""POST"":         # get the form data         form = ApplicationForm(request.POST, request.FILES)         # save the data and after fetch the object in instance         if form.is_valid():             instance = form.save()             # serialize in new FormPurchase object in json             ser_instance = serializers.serialize('json', [ instance, ])             # send to client side.             return JsonResponse({""instance"": ser_instance}, status=200)         else:             # some form errors occured.             return JsonResponse({""error"": form.errors}, status=400)      # some error occured     return JsonResponse({""error"": ""unknown errors""}, status=400) </code></pre>"
59968562	Iterating through javascript object to see text (like python requests.text)	javascript|python|node.js	2020-01-29 13:53:23.093000 UTC	"<p>We're currently trying to transfer code from a Python web scraper to a Node.js web scraper. The source is the Pastebin API. When scraping, the response is a javascript object like this:</p>  <pre><code>[   {     scrape_url: 'https://scrape.pastebin.com/api_scrape_item.php?i=FD1BhNuR',     full_url: 'https://pastebin.com/FD1BhNuR',     date: '1580299104',     key: 'FD1BhNuR',     size: '19363',     expire: '0',     title: 'Weight Loss',     syntax: 'text',     user: 'loscanary'   } ] </code></pre>  <p>Our Python script uses the requests library to request data from Pastebin's API and to get access to the actual body of the paste, in addition to the parameters above, we loop through the first entry and retrieve its text value. Here is an excerpt:</p>  <pre><code>response = requests.get(""https://scrape.pastebin.com/api_scraping.php?limit=1"")  parsed_json = response.json() print(parsed_json) for individual in parsed_json:     p = requests.get(individual['scrape_url'])     text = p.text     print(text) </code></pre>  <p>This brings back the actual body of the paste(s), which we can then search through to scrape for more keywords.</p>  <p>In Node, I don't know how to retrieve the same text value of the ""scrape_url"" parameter in the same way as I can with requests.text. I've tried using axios and request but the furthest I can get is accessing the ""scrape_url"" parameter with something like this:</p>  <pre><code>const scrape = async () =&gt; {   try {     const result = await axios.get(pbUrl);     console.log(result.data[0].scrape_url);    } catch (err) {     console.error(err);   } }  scrape(); </code></pre>  <p>How could I get the same result as I can with .text from the Python Requests library and in a loop?</p>"	"<p>Here is an example of how to do it (as mentioned by <a href=""https://stackoverflow.com/users/10824407/olvin-roght"">Olvin Roght</a> )</p>  <pre><code>const scrape = async () =&gt; {  try {     const result = await axios.get(pbUrl);     result.data.forEach(async (individual) =&gt; {        const scrapeUrl = individual['scrape_url'];        const response = await axios.get(scrapeUrl);        const text = response.data;        console.log(""this is the text value from the url:"", text);     });      } catch (err) {     console.error(err);   } }  scrape(); </code></pre>"
59975596	Connect JavaScript to Python script with Flask	javascript|python|flask|web-frameworks	2020-01-29 21:07:46.380000 UTC	"<p>I created an website with HTML/CSS completly on my own. Also use Javascript for events (click on button, ...).</p>  <p>Now i want to connect an python script with it and more important, return the results from python to my website and display (use) them there. Consider something like this:</p>  <p>Website with an input and button. If you click on the button a python script should run which returns if the input is an odd or even number (of course you dont need python for this specific case, but i want to do that)</p>  <p>From my research i believe Flask is the library to do it (?), but i really dont know how to do it. I found very few examples. I would really appreciate if someone could implement the above example or tell me how to do it exactly.</p>  <p>I know there are already some questions about that concept here online, but as i said, with very few examples.</p>"	"<p>I really appreciate your help and time spent. But your answer did not help me in the way I needed it. At that point I had no clue what to do but since I figured it out some time ago  (I watched an youtube video...) I thought i share my solution here (<em>stick two strings</em>):</p> <p>Thats app.py:</p> <pre><code>from flask import Flask, render_template, request  app = Flask(__name__)  @app.route('/stick', methods=['GET', 'POST']) def stick():     if request.method == 'POST':         result = request.form['string1'] + request.form['string2']         return render_template('index.html', result=result)     else:            return render_template('index.html')  if __name__ == &quot;__main__&quot;:     app.run() </code></pre> <p>And that index.html (put in the folder <strong>templates</strong>):</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;body&gt;     &lt;h3&gt; Stick two strings &lt;/h3&gt;     &lt;form action=&quot;{{ url_for('stick') }}&quot; method=&quot;post&quot;&gt;             &lt;input type=&quot;text&quot; name=&quot;string1&quot;&gt;             &lt;input type=&quot;text&quot; name=&quot;string2&quot;&gt;             &lt;input type=&quot;submit&quot; value=&quot;Go!&quot;&gt;             &lt;p id=&quot;result&quot;&gt;&lt;/p&gt;     &lt;/form&gt; &lt;script&gt;  document.getElementById(&quot;result&quot;).innerHTML = &quot;{{result}}&quot;  &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>In the terminal type in <em>python app.py</em> and it should work.</p>"
59975596	Connect JavaScript to Python script with Flask	javascript|python|flask|web-frameworks	2020-01-29 21:07:46.380000 UTC	"<p>I created an website with HTML/CSS completly on my own. Also use Javascript for events (click on button, ...).</p>  <p>Now i want to connect an python script with it and more important, return the results from python to my website and display (use) them there. Consider something like this:</p>  <p>Website with an input and button. If you click on the button a python script should run which returns if the input is an odd or even number (of course you dont need python for this specific case, but i want to do that)</p>  <p>From my research i believe Flask is the library to do it (?), but i really dont know how to do it. I found very few examples. I would really appreciate if someone could implement the above example or tell me how to do it exactly.</p>  <p>I know there are already some questions about that concept here online, but as i said, with very few examples.</p>"	"<p>You're right about Flask being a good solution for this and there are examples and tutorials everywhere. If what you want is just to run a specific function on a button press and get something back in javascript, I've put a quick example is below.</p> <pre><code># app.py from flask import Flask, render_template from flask import jsonify  app = Flask(__name__)  # Display your index page @app.route(&quot;/&quot;) def index():     return render_template('index.html')  # A function to add two numbers @app.route(&quot;/add&quot;) def add():     a = request.args.get('a')     b = request.args.get('b')     return jsonify({&quot;result&quot;: a+b})  if __name__ == &quot;__main__&quot;:     app.run(host='0.0.0.0', port=80) </code></pre> <p>This can then be run with <code>python app.py</code> and make sure your index.html is in the same directory. Then you should be able to go to <a href=""http://127.0.0.1/"" rel=""noreferrer"">http://127.0.0.1/</a> and see your page load.</p> <p>This implements a function which adds two numbers, this can be called in your javascript by calling <a href=""http://127.0.0.1/add?a=10&amp;b=20"" rel=""noreferrer"">http://127.0.0.1/add?a=10&amp;b=20</a>. This should then return <code>{&quot;result&quot;: 30}</code>.</p> <p>You can grab this in your javascript using the code below and place this code in your buttons on click callback.</p> <pre><code>let first = 10; let second = 20; fetch('http://127.0.0.1/add?a='+first+'&amp;b='+second)   .then((response) =&gt; {     return response.json();   })   .then((myJson) =&gt; {     console.log(&quot;When I add &quot;+first+&quot; and &quot;+second+&quot; I get: &quot; + myJson.result);   });  </code></pre> <p>This should be the barebone basics, but once you can submit data to Flask and get data back, you now have an interface to run things in Python.</p> <p>Edit: Full Front-end example</p> <p><a href=""https://jsfiddle.net/4bv805L6/"" rel=""noreferrer"">https://jsfiddle.net/4bv805L6/</a></p>"
59996036	How to use html and javascript to choose a file and and run it in command line with python3 commands at the click of a button	javascript|python|html|angular|terminal	2020-01-30 23:29:52.213000 UTC	"<p>So I have been trying to upload a .xlsx file to a html file (Website) and then re-format the .xlsx file to turn it into a database and then finally be able to search through the database.</p>  <p>I have 3 scripting files for this, <code>validation.py</code>, <code>reader.py</code> and <code>server.py</code>. they coexist to run a search database web app. </p>  <p>I use Terminal commands to run them, and I want to automate this process so that I may:</p>  <p><strong>1.</strong> choose a file and run it with validation (<code>python3 validation.py -i (chosen file)</code>)</p>  <p><strong>2.</strong> read the file (<code>python3 reader.py -i (chosen file) -o (category of file (i.e. chosen file is phone numbers so category would be numbers)</code>) </p>  <p><strong>3.</strong> run (<code>server.py -m (category of file_model)</code>)</p>  <p>This opens up a <code>localhost://8080</code> file. I want to automate the validation, reader, and server commands, so that I may choose a file and then have the commands occur at the click of a button, and open up my <code>localhost</code>. </p>  <p>What might be a good way to do this?</p>"	"<p>It sounds like you are trying to make an HTML and JavaScript app that achieves two objectives.</p>  <ol> <li>Display a file picker</li> <li>Run a set of Python commands</li> </ol>  <p>I would recommend you use <a href=""https://www.electronjs.org/"" rel=""nofollow noreferrer"">Electron</a> for this. It allows you to create HTML and JavaScript apps that can interact with terminal commands like Python.</p>  <p>Make sure to get <a href=""https://nodejs.org/en/"" rel=""nofollow noreferrer"">Node.js</a> installed first to use Electron.</p>  <p>To start you will need the <a href=""https://github.com/electron/electron-quick-start"" rel=""nofollow noreferrer"">Electron Quick Start</a>. I have linked it on GitHub and you can get it like this.</p>  <pre><code># Clone this repository git clone https://github.com/electron/electron-quick-start # Go into the repository cd electron-quick-start # Install dependencies npm install </code></pre>  <p>Within the folder you will find the familiar <code>index.html</code> file. To add a file picker to your app use the below HTML. You can read more about it on the <a href=""https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file"" rel=""nofollow noreferrer"">MDN docs</a>.</p>  <pre><code>&lt;input type=""file"" id=""myFilePicker""&gt; </code></pre>  <p>In order to have your Python commands run when a file is picked, you can make use of the <code>preload.js</code> file included with the Quick Start. This JavaScript can interact with your HTML and also your computer. Replace it's contents with the below code.</p>  <pre><code>window.addEventListener('DOMContentLoaded', () =&gt; {   document.getElementById('myFilePicker').addEventListener('change', function(event) {      let filePath = this.files[0].path      const spawn = require(""child_process"").spawn;     const pythonProcess = spawn('python',[""path/to/script.py"", filePath]);      pythonProcess.stdout.on('data', (data) =&gt; {       // You have data from Python     });    }) }) </code></pre>  <p>This JavaScript does the following:</p>  <ul> <li>Waits for the HTML to load</li> <li>Listens for the file picker to change</li> <li>Gets the path to the file that was chosen</li> <li>Runs a python script, passing the file path as a parameter.</li> </ul>  <p>The Python script code was used from <a href=""https://stackoverflow.com/questions/23450534/how-to-call-a-python-function-from-node-js"">this answer</a>. Within the arrow function that says <code>You have data from Python</code>, you are free to repeat the Python script code. You can then run your second and third scripts.</p>  <p>You can then run <code>npm start</code> in the terminal to launch your new Electron app.</p>"
60025107	Scrape dynamic javascript content webpage using python	python|html|selenium|web-scraping|rendering	2020-02-02 10:18:02.210000 UTC	"<p>I am trying to scrape this website: '<a href=""https://ec.europa.eu/research/mariecurieactions/how-to/find-job_en"" rel=""nofollow noreferrer"">https://ec.europa.eu/research/mariecurieactions/how-to/find-job_en</a>' using Python.</p>  <p>First I noticed that the table I am interested in is actually at this url: <a href=""https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm"" rel=""nofollow noreferrer"">https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm</a></p>  <p>However, requests + BS4 is only giving me the page source in HTML. I assume that this is because the content is dynamic. </p>  <p>Therefore I tried Selenium + BS4 to scrape the website, but I still only manage to scrape the page source.  </p>  <pre><code>from selenium.webdriver import Firefox from bs4 import BeautifulSoup import lxml  driver = Firefox() url = 'https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm' driver.get(url) soup = BeautifulSoup(driver.page_source, 'lxml') </code></pre>  <p>How can I scrape the aforementioned website? </p>"	"<p>Actually, you can get the desired results using requests + BS4. All you need to do is to use the API <code>https://euraxess.ec.europa.eu/sites/default/files/exports/msca.xml</code> along with headers.</p> <p><strong>Code</strong></p> <pre><code>import requests from bs4 import BeautifulSoup  headers = {     'authority': 'euraxess.ec.europa.eu',     'pragma': 'no-cache',     'cache-control': 'no-cache',     'sec-ch-ua': '&quot; Not;A Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;91&quot;, &quot;Chromium&quot;;v=&quot;91&quot;',     'accept': 'application/xml, text/xml, */*; q=0.01',     'sec-ch-ua-mobile': '?0',     'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.106 Safari/537.36',     'origin': 'https://ec.europa.eu',     'sec-fetch-site': 'same-site',     'sec-fetch-mode': 'cors',     'sec-fetch-dest': 'empty',     'referer': 'https://ec.europa.eu/',     'accept-language': 'en-US,en;q=0.9', }  response = requests.get('https://euraxess.ec.europa.eu/sites/default/files/exports/msca.xml',headers=headers) # print(response.text)  soup = BeautifulSoup(response.content, 'html.parser') ID = soup.find_all('job-id') Title = soup.find_all('job-title') for ID,Title in zip(ID,Title):     print(ID.text,Title.text) </code></pre> <p><strong>output</strong></p> <pre><code>383876 PhD position in the framework of HEalth data LInkage for ClinicAL benefit (Helical) project 433411 PhD Student in Biophysics/Electrophysiology 454880 15 PhD positions in Marie Sklodowska Curie ITN “Active Monitoring of Cancer As An Alternative To Surgery” (CAST) 465392 15 Marie Curie PhD Positions in ''Mobility and Training for Beyond 5G Ecosystems (MOTOR5G)'' 480654 Early Stage Research Position in mmWave-based communication systems at National Instruments Dresden GmbH .... </code></pre>"
60025107	Scrape dynamic javascript content webpage using python	python|html|selenium|web-scraping|rendering	2020-02-02 10:18:02.210000 UTC	"<p>I am trying to scrape this website: '<a href=""https://ec.europa.eu/research/mariecurieactions/how-to/find-job_en"" rel=""nofollow noreferrer"">https://ec.europa.eu/research/mariecurieactions/how-to/find-job_en</a>' using Python.</p>  <p>First I noticed that the table I am interested in is actually at this url: <a href=""https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm"" rel=""nofollow noreferrer"">https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm</a></p>  <p>However, requests + BS4 is only giving me the page source in HTML. I assume that this is because the content is dynamic. </p>  <p>Therefore I tried Selenium + BS4 to scrape the website, but I still only manage to scrape the page source.  </p>  <pre><code>from selenium.webdriver import Firefox from bs4 import BeautifulSoup import lxml  driver = Firefox() url = 'https://ec.europa.eu/assets/eac/msca/jobs/import-jobs_en.htm' driver.get(url) soup = BeautifulSoup(driver.page_source, 'lxml') </code></pre>  <p>How can I scrape the aforementioned website? </p>"	"<p>If you go further, you'll find the real data here:<a href=""https://euraxess.ec.europa.eu/sites/default/files/exports/msca.xml"" rel=""nofollow noreferrer"">https://euraxess.ec.europa.eu/sites/default/files/exports/msca.xml</a> Here is an example of using SimplifiedDoc.</p>  <pre><code>from simplified_scrapy.request import req from simplified_scrapy.simplified_doc import SimplifiedDoc html = req.get('https://euraxess.ec.europa.eu/sites/default/files/exports/msca.xml')  doc = SimplifiedDoc(html) jobs = doc.selects('job-opportunity') for job in jobs:     print (job.select('job-id&gt;text()'),job.select('job-title&gt;text()')) </code></pre>  <p>Result:</p>  <pre><code>367020 Early-Stage Researcher (ESR) 3-year PhD position - ""Efficient intra-cavity and extra-cavity generation of beams with radial and azimuthal polarization in high-power thin-disk lasers"" - Project: GREAT 377512 8 Short-term Early Stage Researcher positions available through the EvoCELL ITN (single cell genomics, evo-devo and science outreach) 383978 ESR (early stage researcher) for intelligent quality control cycles in Industry 4.0 process chains enabled by machine learning ...... </code></pre>"
60029505	insertion sort in python vs javascript	javascript|python|algorithm|insertion-sort	2020-02-02 18:58:53.940000 UTC	"<p>I implemented insertion sort using python and javascript.  For some strange reason, the JS code works, and the python code doesn't.  Both implementations should do the same thing.  I traced over every line of the code, and couldn't find a difference between the two. Take a look and see if you can spot what is different with the python code.</p>  <p><strong>Javascript Code:</strong></p>  <pre><code>function insertionSort(nums) {    for (let i=0; i&lt;nums.length; i++) {     const value = nums[i];     let hole = i;      while (hole &gt;= 0 &amp;&amp; nums[hole-1] &gt; value) {       nums[hole] = nums[hole-1];       hole = hole - 1;     }     nums[hole] = value;   }   return nums; }   const sorted = insertionSort([5,2,1,3,6,4]); console.log(sorted); </code></pre>  <p><strong>Python Code:</strong></p>  <pre><code>def insertion_sort(nums):   for i in range(0,len(nums)):     value = nums[i]     hole = i      while hole &gt;= 0 and nums[hole-1] &gt; value:       nums[hole] = nums[hole-1]       hole = hole - 1      nums[hole] = value   return nums  sorts = insertion_sort([5,2,1,3,6,4]) print(sorts)  </code></pre>"	"<pre><code>  nums[hole] = nums[hole-1] </code></pre>  <p>If <code>hole == 0</code>, <code>nums[hole-1]</code> becomes <code>nums[-1]</code>, which gets the last element of the list. This is not what it does in Javascript.</p>"
60029505	insertion sort in python vs javascript	javascript|python|algorithm|insertion-sort	2020-02-02 18:58:53.940000 UTC	"<p>I implemented insertion sort using python and javascript.  For some strange reason, the JS code works, and the python code doesn't.  Both implementations should do the same thing.  I traced over every line of the code, and couldn't find a difference between the two. Take a look and see if you can spot what is different with the python code.</p>  <p><strong>Javascript Code:</strong></p>  <pre><code>function insertionSort(nums) {    for (let i=0; i&lt;nums.length; i++) {     const value = nums[i];     let hole = i;      while (hole &gt;= 0 &amp;&amp; nums[hole-1] &gt; value) {       nums[hole] = nums[hole-1];       hole = hole - 1;     }     nums[hole] = value;   }   return nums; }   const sorted = insertionSort([5,2,1,3,6,4]); console.log(sorted); </code></pre>  <p><strong>Python Code:</strong></p>  <pre><code>def insertion_sort(nums):   for i in range(0,len(nums)):     value = nums[i]     hole = i      while hole &gt;= 0 and nums[hole-1] &gt; value:       nums[hole] = nums[hole-1]       hole = hole - 1      nums[hole] = value   return nums  sorts = insertion_sort([5,2,1,3,6,4]) print(sorts)  </code></pre>"	"<p>Python and javascript have different ideas about what <code>someList[-1]</code> does. </p>  <p>In your code above you evaluate <code>nums[hole-1]</code>. The way you've written your loop this can be <code>nums[-1]</code> when <code>hole</code> is zero. In the python code this gets the last element of the list. In the javascript code this is undefined.  This has a significant effect on what the next part: <code>nums[hole-1] &gt; value</code> means.</p>  <p>In the end you don't need to calculate <code>while hole &gt;= 0 and nums[hole-1] &gt; value</code> when the value of <code>hole</code> is <code>0</code>, so maybe changing <code>&gt;=</code> to <code>&gt;</code> will be a good option.</p>"
60062924	python selenium execute onscroll javascript	javascript|python|selenium|selenium-webdriver	2020-02-04 17:46:51.690000 UTC	"<p>I am working with a js heavy webpage and I have a <code>div</code> element which looks like so:</p>  <pre><code>&lt;div id=""results-ItemSearch"" class=""itemresults"" onscroll=""loadMoreItems(event)""&gt; .... &lt;/div&gt; </code></pre>  <p>It is one of those webpages which does autoscrolling (further complicated by the fact that there are three panes within the same window and I am having a hard time getting to the pane I want to work with), and normally, I implement something like this in selenium:</p>  <pre><code>no_of_pagedowns = 1 while no_of_pagedowns:     browser.find_element_by_xpath('/html/body').send_keys(Keys.PAGE_DOWN)     time.sleep(1)     no_of_pagedowns-=1 </code></pre>  <p>however, when I do this on this webpage, I get a <code>selenium.common.exceptions.ElementNotInteractableException: Message: element not interactable</code> exception.</p>  <p>I tried selecting by css, but that does not yield anything either. I also tried <code>waiting</code> for 15 or so seconds for complete load, but that does not seem to work either.</p>  <p>Thus, I was wondering if there is a way to directly excecute the JS <code>loadMoreItems(event)</code> via selenium.</p>  <p>Any help will be appreciated - spent 4 hours on this now!</p>"	"<p>You could try scrolling with JavaScript</p>  <pre><code>element =  browser.find_element_by_id('results-ItemSearch') driver.execute_script('arguments[0].scrollTo(0, arguments[0].scrollHeight)', element) </code></pre>  <p>Or</p>  <pre><code>driver.execute_script('scrollBy(0, arguments[0].scrollHeight))', element) </code></pre>"
60108215	"linkation of excel, javascript ,python and html"	javascript|python|jquery|html|excel	2020-02-07 06:30:33.890000 UTC	"<p>May I know how do I link my excel spreadsheet, java script, python and html table together when uploading through my computer? I have been doing it for three days already. the table row and column is all input so when I uploaded the file it shows the uploaded value and can be edited through the web page. I know how to upload files but the linkage is what i have problem with. I can only upload the excel spreadsheet when it's in the project folder itself.</p>  <p>My html code:</p>  <pre><code>&lt;table id=""tabledata"" border=1&gt; &lt;tr&gt;&lt;td&gt;X&lt;/td&gt;&lt;td&gt;Y&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX1""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY1""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(1)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX2""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY2""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(2)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX3""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY3""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(3)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX4""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY4""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(4)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX5""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY5""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(5)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX6""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY6""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(6)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX7""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY7""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(7)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX8""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY8""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(8)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX9""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY9""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(9)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX10""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY10""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(10"")&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX11""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY11""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(11)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX12""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY12""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(12)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX13""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY13""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(13)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataX14""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY14""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(14)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text""onkeyup=""""  id=""dataX15""&gt;&lt;/td&gt;&lt;td class=""tabledatacell""&gt;&lt;input type=""text"" onkeyup="""" id=""dataY15""&gt;&lt;/td&gt;&lt;td&gt;&lt;button onclick=""remove(15)""&gt;Remove&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; </code></pre>  <p>My python code (can only be uploaded through project folder):</p>  <pre><code>import openpyxl from flask import jsonify   @app.route('/upload/', methods=['POST']) def upload():     book = openpyxl.load_workbook('Sample.xlsx') #read'Sample.xlsx'     sheet = book.active #read     X1 = sheet.cell(row=1, column=1) #read     X2 = sheet.cell(row=2, column=1) #read     X3 = sheet.cell(row=3, column=1) #read     X4 = sheet.cell(row=4, column=1) #read     X5 = sheet.cell(row=5, column=1) #read     X6 = sheet.cell(row=6, column=1) #read     X7 = sheet.cell(row=7, column=1) #read     X8 = sheet.cell(row=8, column=1) #read     X9 = sheet.cell(row=9, column=1) #read     X10 = sheet.cell(row=10, column=1) #read     X11 = sheet.cell(row=11, column=1) #read     X12 = sheet.cell(row=12, column=1) #read     X13 = sheet.cell(row=13, column=1) #read     X14 = sheet.cell(row=14, column=1) #read     X15 = sheet.cell(row=15, column=1) #read      Y1 = sheet.cell(row=1, column=2) #read     Y2 = sheet.cell(row=2, column=2) #read     Y3 = sheet.cell(row=3, column=2) #read     Y4 = sheet.cell(row=4, column=2) #read     Y5 = sheet.cell(row=5, column=2) #read     Y6 = sheet.cell(row=6, column=2) #read     Y7 = sheet.cell(row=7, column=2) #read     Y8 = sheet.cell(row=8, column=2) #read     Y9 = sheet.cell(row=9, column=2) #read     Y10 = sheet.cell(row=10, column=2) #read     Y11 = sheet.cell(row=11, column=2) #read     Y12 = sheet.cell(row=12, column=2) #read     Y13 = sheet.cell(row=13, column=2) #read     Y14 = sheet.cell(row=14, column=2) #read     Y15 = sheet.cell(row=15, column=2) #read       data = {""X1"": X1.value, ""X2"": X2.value, ""X3"": X3.value, ""X4"": X4.value, ""X5"": X5.value, ""X6"": X6.value, ""X7"": X7.value, ""X8"": X8.value, ""X9"": X9.value, ""X10"": X10.value, ""X11"": X11.value, ""X12"": X12.value, ""X13"": X13.value, ""X14"": X14.value, ""X15"": X15.value, ""Y1"": Y1.value, ""Y2"": Y2.value, ""Y3"": Y3.value, ""Y4"": Y4.value, ""Y5"": Y5.value, ""Y6"": Y6.value, ""Y7"": Y7.value, ""Y8"": Y8.value, ""Y9"": Y9.value, ""Y10"": Y10.value, ""Y11"": Y11.value, ""Y12"": Y12.value, ""Y13"": Y13.value, ""Y14"": Y14.value, ""Y15"": Y15.value}     data = jsonify(data)     return data </code></pre>  <p>and finally my JavaScript code:</p>  <pre><code>$('#upload').on('submit', function(e){     e.preventDefault();     $.ajax({         url: 'http://127.0.0.1:5000/upload/',         data: {},         method: 'POST',         success: function(data) {             var arrayX = [];             var arrayY = [];             var shape = """";             var i;             for (i = 1; i &lt; 16; i++) {             var Xdata = ""X"" + String(i)             var Ydata = ""Y"" + String(i)             arrayX.push(Xdata)             arrayY.push(Ydata)             var checkX = data[arrayX[i-1]]             var checkY = 500 - data[arrayY[i-1]]             var datatextX = ""dataX"" + String(i)             var datatextY = ""dataY"" + String(i)             var bug = 0             if (checkX == null) {                 checkX = """"                 bug = 1             }             if (checkY == null) {                 checkY = """"                 bug = 1             }             if (bug == 1){                 shape += """"             } else if (i == 1) {                 shape += checkX + "", "" + checkY                 document.getElementById(datatextX).value = checkX                 document.getElementById(datatextY).value = 500 - checkY             } else if (i &lt; 15){                 shape += "", "" + checkX + "", "" + checkY                 document.getElementById(datatextX).value = checkX                 document.getElementById(datatextY).value = 500 - checkY             }             }             //shape = data[arrayX[0]] + "", "" + data[arrayY[0]]             $('#uploadtxt').html(shape)             var elem = document.getElementById('edit-star');             elem.setAttribute(""points"", shape);             let sns='http://www.w3.org/2000/svg',             xns='http://www.w3.org/1999/xlink',             root = document.getElementById('svg-edit-demo'),             star = document.getElementById('edit-star'),             rootMatrix,             originalPoints = [],             transformedPoints = [];             for (let i = 0, len = star.points.numberOfItems; i &lt; len; i++, numPoint+=1) {                let handle = document.createElementNS(sns, 'use'),                point = star.points.getItem(i),                newPoint = root.createSVGPoint();                 handle.setAttributeNS(xns, 'href', uniqueClass);                handle.setAttribute('class', uniqueID);                 handle.x.baseVal.value = newPoint.x = point.x;                handle.y.baseVal.value = newPoint.y = point.y;                 handle.setAttribute('data-index', numPoint)                 originalPoints.push(newPoint)                 root.appendChild(handle);              }         }     }); }); </code></pre>"	
60110011	Getting None in variable from javascript in python	javascript|python	2020-02-07 08:52:01.063000 UTC	"<p>I am getting <code>None</code> when executing javascript and trying to get Html from iframe and store in a variable.</p>  <p><strong>Code:</strong> </p>  <pre><code> html_of_iframe = self.driver.execute_script(""return document.querySelector('.gjs-frame');"")  print(html_of_iframe) </code></pre>  <p>Note: The same javascript returns full Html from iframe when I use it in the chrome browser console, so javascript looks fine.</p>  <p><strong>Update: Getting iframe Html in browser console like below:</strong></p>  <p><a href=""https://i.stack.imgur.com/61VLU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/61VLU.png"" alt=""enter image description here""></a></p>  <p>It looks like variable <code>html_of_iframe</code> is not getting the same string like browser console. </p>"	
60112796	Convert list comprehension python to javascript	javascript|python	2020-02-07 11:41:55.673000 UTC	"<p>I am trying to convert some python code into JavaScript code.</p>  <p>I have a python list comprehension that take the paramente <code>a</code> as input. <code>a</code> is a string such as ""bac"".</p>  <pre><code>asubstring = [a[i:i + j] for j in range(1, len(a) + 1) for i in range(len(a) - j + 1)] </code></pre>  <p>The output is: <code>['b', 'a', 'c', 'ba', 'ac', 'bac']</code></p>  <p>I converted it into JavaScript by doing:</p>  <pre><code>let j = 1 let i = 0 while(j &lt; aTrimmed.length+1) {     while(i &lt; aTrimmed.length - j + 1) {        aSubstring.push(aTrimmed.slice(i, i+j))        i++     }     j++ } </code></pre>  <p><strong>However</strong>, my output is: <code>[ 'b', 'a', 'c' ]</code></p>  <p>I am not sure what I am missing in the two while loops.</p>"	"<p>This version works more favourably with characters outside of the Unicode Basic Multilingual Plane. Although there remain issues with grapheme clusters.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let s1 = ""abc"" let s2 = """"  function substrings(s) {     let us = [...s]     let result = []      for (let j = 1; j &lt;= us.length; j++) {       for (let i = 0; i &lt;= us.length - j; i++) {         result.push(us.slice(i, i + j).join(''))       }     }      return result }  console.log(substrings(s1)) console.log(substrings(s2))</code></pre> </div> </div> </p>"
60112796	Convert list comprehension python to javascript	javascript|python	2020-02-07 11:41:55.673000 UTC	"<p>I am trying to convert some python code into JavaScript code.</p>  <p>I have a python list comprehension that take the paramente <code>a</code> as input. <code>a</code> is a string such as ""bac"".</p>  <pre><code>asubstring = [a[i:i + j] for j in range(1, len(a) + 1) for i in range(len(a) - j + 1)] </code></pre>  <p>The output is: <code>['b', 'a', 'c', 'ba', 'ac', 'bac']</code></p>  <p>I converted it into JavaScript by doing:</p>  <pre><code>let j = 1 let i = 0 while(j &lt; aTrimmed.length+1) {     while(i &lt; aTrimmed.length - j + 1) {        aSubstring.push(aTrimmed.slice(i, i+j))        i++     }     j++ } </code></pre>  <p><strong>However</strong>, my output is: <code>[ 'b', 'a', 'c' ]</code></p>  <p>I am not sure what I am missing in the two while loops.</p>"	"<p>Use <code>for</code> loop instead of <code>while</code> because you are forgetting reset you <code>i</code> index to 0 at the end of the second loop.</p>  <pre><code>let aTrimmed = ""bac""; let aSubstring = [];   for(let j = 1; j &lt; aTrimmed.length+1; j++) {     for(let i = 0; i &lt; aTrimmed.length - j + 1; i++) {        aSubstring.push(aTrimmed.slice(i, i + j));     } } alert(aSubstring); </code></pre>"
60112796	Convert list comprehension python to javascript	javascript|python	2020-02-07 11:41:55.673000 UTC	"<p>I am trying to convert some python code into JavaScript code.</p>  <p>I have a python list comprehension that take the paramente <code>a</code> as input. <code>a</code> is a string such as ""bac"".</p>  <pre><code>asubstring = [a[i:i + j] for j in range(1, len(a) + 1) for i in range(len(a) - j + 1)] </code></pre>  <p>The output is: <code>['b', 'a', 'c', 'ba', 'ac', 'bac']</code></p>  <p>I converted it into JavaScript by doing:</p>  <pre><code>let j = 1 let i = 0 while(j &lt; aTrimmed.length+1) {     while(i &lt; aTrimmed.length - j + 1) {        aSubstring.push(aTrimmed.slice(i, i+j))        i++     }     j++ } </code></pre>  <p><strong>However</strong>, my output is: <code>[ 'b', 'a', 'c' ]</code></p>  <p>I am not sure what I am missing in the two while loops.</p>"	"<p>The issue is that you are not resetting the <code>i</code> variable in the inner loop. In the Python version, <code>for i in range(...)</code> always makes <code>i</code> start from <code>0</code>. Additionally, declaring an iteration variable, then using a <code>while</code> loop which ends in incrementing that variable is a bit weird, why not just use a <code>for</code> loop?</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let aTrimmed = ""abc""; let aSubstring = [];  for (let j = 1; j &lt;= aTrimmed.length; j++) {   for (let i = 0; i &lt;= aTrimmed.length - j; i++) {     aSubstring.push(aTrimmed.slice(i, i + j));   } }  console.log(aSubstring);</code></pre> </div> </div> </p>  <p>Also note the <code>&lt;=</code> instead of <code>&lt; ... + 1</code>.</p>"
60129563	What is the equivalent for pythons requests.post method in JavaScript?	javascript|python|ajax|plugins|python-requests	2020-02-08 17:58:53.497000 UTC	"<p>I try to connect to googles Perspective API in Javascript. I have tried a lot of stuff I've researched, but nothing has worked. But when I've tried it in Python, it was super easy... So basically I need the equivalent to the following simple Python code in JavaScript. And it has to work within a browser plugin.</p>  <pre><code>import json import requests api_key = '&lt;MYAPIKEY&gt;' url = ('https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze'+'?key='+api_key) data_dict = {     'comment': {'text': 'text to be checked'},     'languages': ['en'],     'requestedAttributes': {'TOXICITY': {}} } response = requests.post(url=url, data=json.dumps(data_dict)) response_dict = json.loads(response.content) </code></pre>  <p>I am not a JavaScript expert and I really need help to solve this problem, I hope someone can help me out.</p>"	"<p>You have to use fetch (or axios) like :</p>  <pre><code>fetch(url, {    method: ""POST"",    headers: {      Accept: ""application/json"",      ""Content-Type"": ""application/json""    }    body: JSON.stringify(data), }).then(res =&gt; res.json()) .then(data =&gt; console.log(data)) .catch(err =&gt; console.log(err)); </code></pre>"
60129563	What is the equivalent for pythons requests.post method in JavaScript?	javascript|python|ajax|plugins|python-requests	2020-02-08 17:58:53.497000 UTC	"<p>I try to connect to googles Perspective API in Javascript. I have tried a lot of stuff I've researched, but nothing has worked. But when I've tried it in Python, it was super easy... So basically I need the equivalent to the following simple Python code in JavaScript. And it has to work within a browser plugin.</p>  <pre><code>import json import requests api_key = '&lt;MYAPIKEY&gt;' url = ('https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze'+'?key='+api_key) data_dict = {     'comment': {'text': 'text to be checked'},     'languages': ['en'],     'requestedAttributes': {'TOXICITY': {}} } response = requests.post(url=url, data=json.dumps(data_dict)) response_dict = json.loads(response.content) </code></pre>  <p>I am not a JavaScript expert and I really need help to solve this problem, I hope someone can help me out.</p>"	"<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API"" rel=""nofollow noreferrer"">fetch</a> is what your looking for, its provided by the core js module. Usage is shown <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">here</a>.</p>"
60129563	What is the equivalent for pythons requests.post method in JavaScript?	javascript|python|ajax|plugins|python-requests	2020-02-08 17:58:53.497000 UTC	"<p>I try to connect to googles Perspective API in Javascript. I have tried a lot of stuff I've researched, but nothing has worked. But when I've tried it in Python, it was super easy... So basically I need the equivalent to the following simple Python code in JavaScript. And it has to work within a browser plugin.</p>  <pre><code>import json import requests api_key = '&lt;MYAPIKEY&gt;' url = ('https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze'+'?key='+api_key) data_dict = {     'comment': {'text': 'text to be checked'},     'languages': ['en'],     'requestedAttributes': {'TOXICITY': {}} } response = requests.post(url=url, data=json.dumps(data_dict)) response_dict = json.loads(response.content) </code></pre>  <p>I am not a JavaScript expert and I really need help to solve this problem, I hope someone can help me out.</p>"	"<p>You can use the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch api</a>.</p>  <pre><code>const api_key = '&lt;MYAPIKEY&gt;'; const url = ('https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze'+'?key='+api_key); const data_dict = {     'comment': {'text': 'text to be checked'},     'languages': ['en'],     'requestedAttributes': {'TOXICITY': {}} };  fetch(url, {    method: 'POST',   body: JSON.stringify(data_dict) })   .then(response =&gt; response.json())   .then(data =&gt; {     // do whatever with the data from the response   }); </code></pre>"
60130323	How do I execute a Python script in Django using javascript	python|html|django	2020-02-08 19:19:26.550000 UTC	"<p>I have a python + electronJS + Djangao app. I am trying to launch a python script with a button click (from the HTML front end).</p>  <p>The app launches fine. But when I click the button to launch the python script from the HTML window, nothing happens (I get a blank HTML page).</p>  <p>Here is my java script file:</p>  <pre><code>let {PythonShell} = require('python-shell') var path = require(""path"")   function get_weather() {    let pyshell = new PythonShell('Emotion-recognition-master/real_time_video.py', options);   //let python = spawn('python', [path.join(__dirname, '/home/ironmantis7x/Documents/BSSTLLC/electronJS/electronpydemo1/python-app-with-electron-gui/engine/Emotion-recognition-master', 'real_time_video.py'), obsFilePath, navFilePath]);    pyshell.on('message', function(message) {     swal(message);   })   //document.getElementById(""city"").value = """"; } </code></pre>  <p>Here is my HTML code for the gui launcher:</p>  <pre><code>&lt;body&gt;   &lt;div class=""container""&gt;     &lt;div class=""jumbotron""&gt;       &lt;h1&gt;&lt;b&gt;&lt;center&gt;MAVERICK Sentry System&lt;/center&gt;&lt;/b&gt;&lt;/h1&gt;       &lt;h3&gt;&lt;i&gt;&lt;center&gt;by Maverick AI - a Saudi Company&lt;/center&gt;&lt;/i&gt;&lt;/h3&gt;       &lt;br&gt;     &lt;br&gt;     &lt;center&gt;     &lt;div class=""row""&gt;     &lt;div class=""col-xs-4""&gt;       &lt;img style=""width:40%;padding:5px"" src=""images/weather-icon.png""/&gt;       &lt;br&gt;       &lt;button class=""btn btn-info""&gt;&lt;a style=""color:white"" href=""weather.html""&gt;Weather&lt;/a&gt;&lt;/button&gt;             &lt;div class=""col-xs-4""&gt;       &lt;img style=""width:40%;padding:5px"" src=""images/emotion_recognition.png""/&gt;       &lt;br&gt;     &lt;button class=""btn btn-info""&gt;&lt;a style=""color:white;"" href=""real_time_video.py""&gt;Emotion Recognition&lt;/a&gt;&lt;/button&gt;     &lt;/div&gt;     &lt;div class=""col-xs-4""&gt;       &lt;img style=""width:40%;padding:5px"" src=""images/text_recognition.png""/&gt;       &lt;br&gt;     &lt;button class=""btn btn-info""&gt;&lt;a style=""color:white;"" href=""http://127.0.0.1:5000/detect""&gt;Text Recognition&lt;/a&gt;&lt;/button&gt;     &lt;/div&gt;     &lt;/center&gt; &lt;/div&gt; &lt;/div&gt; &lt;body&gt; </code></pre>  <p>How can I run my python script from html button click properly?</p>"	"<p>First, you need to make sure the button sends a post request when clicked. For example, let's assume the button sends a post request to a url 'execute_script/'.</p>  <p>Then, urls.py should look like:</p>  <pre><code># route url to view function: urlpatterns = [     path('execute_script/', views.ExecuteScript, name='execute_script'), ] </code></pre>  <p>And, view.py can look like:</p>  <pre><code>def ExecuteScript(request):      # unpack request if needed:     some_data = request.POST['some_data']      # execute some script here...          # pack context:     context = json.dumps({         'status' : 'Success',     })      # return an HTTP response with context:     return HttpResponse(context) </code></pre>"
60133024	python and javascript: how to download a file from Flask server	javascript|python|server	2020-02-09 02:34:39.947000 UTC	"<p>I want to create a web page so that users can download file from my computer, which is the server.</p>  <p>I'm asking this question because I can't really find an answer on the Internet. What I found was about how to download files using python. Just to clarify: I want a web page which users can download files stored on the server (my computer). I'm not sure if this requires python and javascript working together or not.</p>"	"<p>I know Python, so that's what I'll recommend. If you use the <a href=""https://flask.palletsprojects.com/en/1.1.x/quickstart/"" rel=""nofollow noreferrer"">Flask</a> framework, you can serve a local file with a quick snippet like this:</p>  <pre><code>from flask import Flask app = Flask(__name__)  @app.route('/') def index():     return '&lt;a href=""/files/example.txt""&gt;Download example.txt&lt;/a&gt;'  @app.route('/files/&lt;path:filename&gt;', methods=['GET']) def download_file(filename):     proj_dir = os.path.dirname(os.getcwd())     return send_from_directory(os.path.join(proj_dir, 'files_dir'),         filename=filename) </code></pre>  <p><em>files_dir</em> is a subfolder within the project directory and contains any files you want to serve for download, including <em>example.txt</em> in this exmaple.</p>  <p>If you navigate to localhost or <a href=""http://yourserver.com/"" rel=""nofollow noreferrer"">http://yourserver.com/</a> it will display a link that downloads the <em>example.txt</em> file.</p>"
60147247	Triggering javascript from Python Flask WTForms field	javascript|flask-wtforms	2020-02-10 09:16:27.890000 UTC	"<p>I have a Flask form (via WTForms) in my website, and am trying to enable or disable other fields in my form based on whether a user has selected or de-selected a checkbox (and do this without having to refresh the page) however, my attempts to achieve this by using the onchange or onclick event in the HTML hasn't worked. My field is defined below (label and field)</p>  <pre><code>&lt;div class=""form-group row""&gt;   {{ form.task_submit_sms.label(class_=""col-sm-3 text-right control-label col-form-label"") }}   &lt;div class=""col-sm-1""&gt;       {{ form.task_submit_sms(class_=""custom-control custom-checkbox"" onclick=""enableSMSFields()"") }}   &lt;/div&gt; </code></pre>  <p>   </p>  <p>I have tried both <em>onclick</em> and <em>onchange</em>. and get the following error: </p>  <blockquote>   <p>jinja2.exceptions.TemplateSyntaxError: expected token ',', got   'onclick'</p> </blockquote>  <p>Not sure if it's relevant, but here's my JavaScript: </p>  <pre><code>&lt;script&gt;   // Lock SMS fields unless required   function enableSMSFields()   {     if (document.getElementById('task_submit_sms').checked == true)     {       document.getElementById('task_sms_text').removeAttribute('disabled');     }     else     {       document.getElementById('task_sms_text').setAttribute('disabled','disabled')     }   } &lt;/script&gt; </code></pre>"	"<p>This is a function inside the curly brackets, which you are passing arguments separated by commas (that is what the error is saying to you):</p>  <pre><code>{{ form.task_submit_sms(class_=""custom-control custom-checkbox"" onclick=""enableSMSFields()"") }} </code></pre>  <p>Have you tried inserting the comma separator?</p>  <pre><code>{{ form.task_submit_sms(class_=""custom-control custom-checkbox"", onclick=""enableSMSFields()"") }} </code></pre>"
60150199	Converting Python enumerate into Javascript	javascript|python	2020-02-10 12:12:17.980000 UTC	"<p>I am trying to convert a function of python code into JavaScript.</p>  <p>The <code>arr</code> variable is an array such as <code>[2, 5, 3, 1]</code>. Basically, I want to create a list of tuple where each tuple contains as first value the position of the element in the <code>arr</code> and as second value the element of the <code>arr</code>. Then, I want to do the same for the <strong>reversed</strong> of <code>arr</code></p>  <p><strong>Python code:</strong></p>  <pre><code>def myPositions(arr):     positions = sorted(list(enumerate(arr)), key=lambda e: e[1])     return positions  def final(arr):     print(""Reversed"", arr[::-1]) # [ 1, 3, 5, 2 ]     print(myPositions(arr)) # [(3, 1), (0, 2), (2, 3), (1, 5)]     print(myPositions(arr[::-1])) # [(0, 1), (3, 2), (1, 3), (2, 5)] </code></pre>  <p><strong>My JavaScript code</strong></p>  <p>Since there is no enumerate in JavaScript (this is what I think), I did the following:</p>  <pre><code>function myPositions(arr) {     let positions = arr.map((e,i) =&gt; [i, e]).sort((a, b) =&gt; a[1] - b[1] )     return positions }  function final(arr) {     let reversedArr = arr.reverse()     console.log(""Reversed"", reversedArr) // [ 1, 3, 5, 2 ]     let x = myPositions(arr)     console.log(x) // [ [ 0, 1 ], [ 3, 2 ], [ 1, 3 ], [ 2, 5 ] ]     let y = myPositions(reversedArr)     console.log(y) // [ [ 0, 1 ], [ 3, 2 ], [ 1, 3 ], [ 2, 5 ] ] This is different than  print(myPositions(arr[::-1]))  } </code></pre>  <p>I do not get why it works the same if I do not reverse the array. But with the reversed array, I get two different results. In python I get <code>[(0, 1), (3, 2), (1, 3), (2, 5)]</code>, in JS I get <code>[ [ 0, 1 ], [ 3, 2 ], [ 1, 3 ], [ 2, 5 ] ]</code></p>"	
60151400	Python regex: create pandas Dataframe with JavaScript strings of new Array()	javascript|arrays|regex|python-3.x|pandas	2020-02-10 13:24:11.910000 UTC	"<p>I am tryng to iterate a Javascript response in order to build a pandas Dataframe. I am starting in regex and JS, so there might be obviousl improvement to make code more reliable. Javascript response, return the following string:</p>  <pre><code>     mmSuggestDeliver(0, new Array(""Name"", ""Category"", ""Keywords"", ""Bias"", ""Extension"", ""IDs""), new Array(new Array(""HSBC Holdings plc (Spons. ADRs)"", ""Stocks"", ""HSBC|US4042804066|HSBC||"", ""75"", """", ""hsbc|HSBC|1|4917""),new Array(""HSBC Holdings plc"", ""Stocks"", ""|GB0005405286|||HSBA"", ""75"", """", ""hsbc-gb0005405286||1|1046""),new Array(""HSBC Trinkaus &amp; Burkhardt AG"", ""Stocks"", ""|DE0008115106|||TUBG"", ""75"", """", ""hsbc_trinkausburkhardt||1|3774""),new Array(""HSBC Bank Malta Plc Registered Shs"", ""Stocks"", ""|MT0000030107|||"", ""75"", """", ""hsbc_bank_malta||1|16831644""),new Array(""HSBC-D7 SA de CV SIID (A)"", ""Stocks"", ""|MX51HS0Q00E8|||"", ""75"", """", ""hsbc-d7||1|5125971""),new Array(""HSBC US Buy-Out GmbH &amp; Co. KGaA"", ""Stocks"", ""|DE000A0MM6H7|||"", ""75"", """", ""hsbc_us_buy-out_gmbhco||1|23145""),new Array(""HSBC Holdings PLC ADR Cert Deposito Arg Repr 0.5 ADRs"", ""Stocks"", ""|ARDEUT112257|||"", ""75"", """", ""hsbc_2||1|1399269""),new Array(""HSBC Holdings PLC6.2 % Pfd Shs Sponsored American Deposit Repr 1/40th 6.2 % PfdShs Ser -A-"", ""Stocks"", ""HSBC.PA|US4042806046|HSBC.PA||"", ""75"", """", ""hsbc-pa|HSBC.PA|1|19327""),new Array(""HSBC Holdings PLC 8 % Perp Sub Cap Secs 2010-Without Fixed Maturity Series -2-"", ""Stocks"", ""HSEB|US4042808026|HSEB||"", ""75"", """", ""hseb|HSEB|1|5083319""),new Array(""HSBC Holdings PLC 8 1-8 % Perpetual Sub Cap Secs 2008-Exch into Non-Cum Dollar Pref Shs"", ""Stocks"", ""HSEA|US4042807036|HSEA||"", ""75"", """", ""hsea|HSEA|1|3782270"")), 10, 0);  </code></pre>  <p>I want data organised as the table bellow BUT without the double quote:</p>  <pre><code>     ""Name"", ""Category"", ""Keywords"", ""Bias"", ""Extension"", ""IDs""     ""HSBC Holdings plc (Spons. ADRs)"", ""Stocks"", ""HSBC|US4042804066|HSBC||"", ""75"", """", ""hsbc|HSBC|1|4917""     ""HSBC Holdings plc"", ""Stocks"", ""|GB0005405286|||HSBA"", ""75"", """", ""hsbc-gb0005405286||1|1046"")     ......     ""HSBC Holdings PLC 8 % Perp Sub Cap Secs 2010-Without Fixed Maturity Series -2-"", ""Stocks"", ""HSEB|US4042808026|HSEB||"", ""75"", """", ""hseb|HSEB|1|5083319""     ""HSBC Holdings PLC 8 1-8 % Perpetual Sub Cap Secs 2008-Exch into Non-Cum Dollar Pref Shs"", ""Stocks"", ""HSEA|US4042807036|HSEA||"", ""75"", """", ""hsea|HSEA|1|3782270""  </code></pre>  <p>Ideally i would like to have final result into a pandas Dataframe.</p>  <p>the bellow code would kind of work but has many caveats. Any optimisation/improvement and correction would be greatly apreciated:</p>  <p>code to get column names:</p>  <pre><code>    js_text = """""" mmSuggestDeliver(0, new Array(""Name"", ""Category"", ""Keywords"", ""Bias"", ""Extension"", ""IDs""),  new Array(new Array(""HSBC Holdings plc (Spons. ADRs)"", ""Stocks"", ""HSBC|US4042804066|HSBC||"", ""75"", """", ""hsbc|HSBC|1|4917""), new Array(""HSBC Holdings plc"", ""Stocks"", ""|GB0005405286|||HSBA"", ""75"", """", ""hsbc-gb0005405286||1|1046""), new Array(""HSBC Trinkaus &amp; Burkhardt AG"", ""Stocks"", ""|DE0008115106|||TUBG"", ""75"", """", ""hsbc_trinkausburkhardt||1|3774""), new Array(""HSBC Bank Malta Plc Registered Shs"", ""Stocks"", ""|MT0000030107|||"", ""75"", """", ""hsbc_bank_malta||1|16831644""), new Array(""HSBC-D7 SA de CV SIID (A)"", ""Stocks"", ""|MX51HS0Q00E8|||"", ""75"", """", ""hsbc-d7||1|5125971""), new Array(""HSBC US Buy-Out GmbH &amp; Co. KGaA"", ""Stocks"", ""|DE000A0MM6H7|||"", ""75"", """", ""hsbc_us_buy-out_gmbhco||1|23145""), new Array(""HSBC Holdings PLC ADR Cert Deposito Arg Repr 0.5 ADRs"", ""Stocks"", ""|ARDEUT112257|||"", ""75"", """", ""hsbc_2||1|1399269""), new Array(""HSBC Holdings PLC6.2 % Pfd Shs Sponsored American Deposit Repr 1/40th 6.2 % PfdShs Ser -A-"", ""Stocks"", ""HSBC.PA|US4042806046|HSBC.PA||"", ""75"", """", ""hsbc-pa|HSBC.PA|1|19327""),new Array(""HSBC Holdings PLC 8 % Perp Sub Cap Secs 2010-Without Fixed Maturity Series -2-"", ""Stocks"", ""HSEB|US4042808026|HSEB||"", ""75"", """", ""hseb|HSEB|1|5083319""),new Array(""HSBC Holdings PLC 8 1-8 % Perpetual Sub Cap Secs 2008-Exch into Non-Cum Dollar Pref Shs"", ""Stocks"", ""HSEA|US4042807036|HSEA||"", ""75"", """", ""hsea|HSEA|1|3782270"")), 10, 0);     """"""      regex_text = r""new Array\((.*)\)""     column_header = _re.search(regex_text, js_text, flags=_re.MULTILINE).group(1)     regex_text = ', (?=(?:[^\""]*\""[^\""]*\"")*[^\""]*$)'     column_header = _re.split(regex_text, column_header, flags=_re.MULTILINE)     print('regex1:', column_header)  </code></pre>  <p>which prints: regex1: ['""Name""', '""Category""', '""Keywords""', '""Bias""', '""Extension""', '""IDs""'] hugly mix of single quotes and double quotes...</p>  <p>code to get datas:</p>  <pre><code>    regex_text = r""new Array\(([\s\S]*?)\),""     table_rows = _re.findall(regex_text, js_text, flags=_re.MULTILINE)     table_rows.pop(0)     table_rows[0] = str(table_rows[0]).replace('new Array(', '')      my_data = []     regex_text = ', (?=(?:[^\""]*\""[^\""]*\"")*[^\""]*$)'      for my_row in table_rows:         my_row = _re.split(regex_text, my_row, flags=_re.MULTILINE)         print('row is:', my_row)         my_data.append(my_row)     result_df = _pd.DataFrame(data=my_data, columns=column_header)     print(result_df)     print(result_df.dtypes)   </code></pre>  <p>which print an hugly DF as:</p>  <pre><code>                                                  ""Name""  ...                               ""IDs""     0                  ""HSBC Holdings plc (Spons. ADRs)""  ...                  ""hsbc|HSBC|1|4917""     1                                ""HSBC Holdings plc""  ...         ""hsbc-gb0005405286||1|1046""     2                     ""HSBC Trinkaus &amp; Burkhardt AG""  ...    ""hsbc_trinkausburkhardt||1|3774""     3               ""HSBC Bank Malta Plc Registered Shs""  ...       ""hsbc_bank_malta||1|16831644""     4                        ""HSBC-D7 SA de CV SIID (A)""  ...                ""hsbc-d7||1|5125971""     5                  ""HSBC US Buy-Out GmbH &amp; Co. KGaA""  ...   ""hsbc_us_buy-out_gmbhco||1|23145""     6  ""HSBC Holdings PLC ADR Cert Deposito Arg Repr ...  ...                 ""hsbc_2||1|1399269""     7  ""HSBC Holdings PLC6.2 % Pfd Shs Sponsored Amer...  ...           ""hsbc-pa|HSBC.PA|1|19327""     8  ""HSBC Holdings PLC 8 % Perp Sub Cap Secs 2010-...  ...               ""hseb|HSEB|1|5083319""     9  ""HSBC Holdings PLC 8 1-8 % Perpetual Sub Cap S...  ...              ""hsea|HSEA|1|3782270"")  </code></pre>  <pre><code>     [10 rows x 6 columns]     ""Name""          object      ""Category""     object      ""Keywords""     object      ""Bias""         object      ""Extension""    object      ""IDs""          object     dtype: object  </code></pre>  <p>The data code has numerous caveats, including:</p>  <ol> <li>if the ""new Array"" part of the JS has more/less spaces, the code will not find the row. I had initially used start end fo regex but then had another issue when there was no space separation between "","" and ""new Array"" :regex:""new Array(\""(.*))""</li> <li>all values are double quoted</li> <li>it doesn't look very pythonesque...</li> </ol>  <p>Thanks for the help!</p>  <p>So far i looked at the following links amongst others:</p>  <p><a href=""https://stackoverflow.com/questions/45709428/regex-help-in-javascript-extract-second-match"">enter link description here</a></p>  <p><a href=""https://stackoverflow.com/questions/2785755/how-to-split-but-ignore-separators-in-quoted-strings-in-python"">enter link description here</a></p>  <p><a href=""https://stackabuse.com/regex-splitting-by-character-unless-in-quotes/"" rel=""nofollow noreferrer"">enter link description here</a></p>"	"<p>Try to find within a loop (until no match) the following regex on your input string:</p>  <pre><code>\bnew\s+Array\s*[(]\s*("".*?)(?=[)]\s*,\s*new\s+Array|\s*[)]\s*[)]\s*[^(]+$) </code></pre>  <p>Then, for every iteration, get the first capturing group.</p>  <p>The first iteration should get the header, while the following iterations should get the data.</p>  <p>You have a demo <a href=""https://regex101.com/r/3sZKQm/3/"" rel=""nofollow noreferrer"">here</a> (Green highlighting are the data you would keep with first capturing group)</p>  <p>If R supports <code>\K</code>, this is another alternative that may work for you:</p>  <pre><code>\bnew\s+Array\s*[(]\s*\K""(?:[^""\\]+|\\.)*""\s*(?:,\s*""(?:[^""\\]++|\\.)*"")+ </code></pre>  <p>In that case, you don't need to use capturing groups. All the data will be on the same match.</p>  <p>You have a demo <a href=""https://regex101.com/r/xcPBSG/2/"" rel=""nofollow noreferrer"">here</a> for that second approach.</p>"
60157134	Sending URL Parameters to a Python REST API using Javascript	javascript|python|api|aws-lambda|aws-api-gateway	2020-02-10 19:30:11.037000 UTC	"<p>I am trying to send URL parameters to an API I wrote on Python, using Javascript.  My Javascript code is as follows: </p>  <pre><code>function createGetRequest() {         var request = new XMLHttpRequest();         request.open('GET', 'some-link/api/', true);         request.onload = function() {             var data = JSON.parse(this.response);             document.getElementById(""idk"").innerHTML = data.news.entry_news_item_title + ""&lt;/br&gt;"" + data.news.entry_news_item_snippet + ""&lt;/br&gt;""             + data.news.entry_news_item_url;         }         request.send();     } </code></pre>  <p>and my Python REST API code is as follows;</p>  <pre><code>def index(): NewsFeed = feedparser.parse(""https://trends.google.com.tr/trends/trendingsearches/daily/rss?geo=TR"")  entry = NewsFeed.entries[0]  return {""news"" : {""Status"" : ""OK"",                               ""item"" : entry['title'],                               ""entry_news_item_title"" : entry['ht_news_item_title'],                               ""entry_news_item_snippet"" : entry['ht_news_item_snippet'],                               ""entry_news_item_url"" : entry['ht_news_item_url']}} </code></pre>  <p>I want to be able to get the index of the entry from the user and then return the corresponding entry. In other words, I want the <code>entry = NewsFeed.entries[0]</code> part to accept a variable rather than a 0. I have tried everything online yet I can't seem to figure it out.</p>"	"<p>In your JavaScript code add entry to GET request as follows:</p>  <pre><code>function createGetRequest() {     // code to get number/id you are clicking on     entry_id = getEntryId();     var request = new XMLHttpRequest();     //After question marks you can input your GET request parameters     request.open('GET', `some-link/api/?entry=${entry_id}`, true); //I am using backticks as interpolation       request.onload = function() {         var data = JSON.parse(this.response);         document.getElementById(""idk"").innerHTML = data.news.entry_news_item_title + ""&lt;/br&gt;"" + data.news.entry_news_item_snippet + ""&lt;/br&gt;""             + data.news.entry_news_item_url;         }         request.send();     } </code></pre>  <p>In you Python code you need just to collect get parameters from request string as follows:</p>  <pre><code># Add the request parameter to the function def index(request):     NewsFeed = feedparser.parse(""https://trends.google.com.tr/trends/trendingsearches/daily/rss?geo=TR"")     # Get the parameter from request     # By using get function if you do not have a parameter with given key it will return None      entry_id = request.GET.get('entry')     if entry_id:         entry = NewsFeed.entries[entry_id]          return {""news"" : {""Status"" : ""OK"",                           ""item"" : entry['title'],                           ""entry_news_item_title"" : entry['ht_news_item_title'],                           ""entry_news_item_snippet"" : entry['ht_news_item_snippet'],                           ""entry_news_item_url"" : entry['ht_news_item_url']}}     else:         # Handle bad request         return {""news"":None} </code></pre>"
60159181	"Are my Javascript and Python code giving me different answers because of exponents, or something else?"	javascript|python-3.x|exponent	2020-02-10 22:08:28.657000 UTC	"<p>I've ported a simple algorithm over from Python3 to Javascript, and surprisingly, I'm getting different answers. The Python code works as expected, and I don't know why the Javascript acts differently.</p>  <p>Here's the Python:</p>  <pre><code>def foo():     theArray = [1,2,3,4,5,6]     a = theArray[0]     b = theArray[1]     c = theArray[2]     d = theArray[3]     e = theArray[4]     f = theArray[5]     res = (((a**2 + b**2 - (d - e)^3 + (b//e)^2)/ ((a**2 + b**2 - (d - e)^3) + c**2 + (f-4)^2 + (c//d)^2))*0.75)     return res </code></pre>  <p>Python3 Result: 0.32..</p>  <p>Here's the Javascript code:</p>  <pre><code>function foo() {     theArray = [1,2,3,4,5,6]     var a, b, c, d, e, f     a = theArray[0]     b = theArray[1]     c = theArray[2]     d = theArray[3]     e = theArray[4]     f = theArray[5]     res = (((a**2 + b**2 - (d - e)**3 + (b/e)**2)/ ((a**2 + b**2 - (d - e)**3) + c**2 + (f-4)**2 + (c/d)^2))*0.75)     return res } </code></pre>  <p>Javascript Result: 0.27..</p>  <p>Using <em>Math.pow()</em> in the Javascript code didn't change anything.</p>"	"<p>First thing I notice is you sometimes use ""**"" for exponentiation, and sometimes ""^"". The former is what you should use for both python and javascript (or at least according to w3 schools, but anyway they produce different results for me)<br> I'm assuming you don't mean to use the bitwise ""XOR"" operator , but rather an exponent when you write ""^"", as you've typed different symbols both in python and in js… </p>  <p>When I change all instances of ""^"" to ""**"" on my computer, both algorithms return 0.2361</p>"
60159181	"Are my Javascript and Python code giving me different answers because of exponents, or something else?"	javascript|python-3.x|exponent	2020-02-10 22:08:28.657000 UTC	"<p>I've ported a simple algorithm over from Python3 to Javascript, and surprisingly, I'm getting different answers. The Python code works as expected, and I don't know why the Javascript acts differently.</p>  <p>Here's the Python:</p>  <pre><code>def foo():     theArray = [1,2,3,4,5,6]     a = theArray[0]     b = theArray[1]     c = theArray[2]     d = theArray[3]     e = theArray[4]     f = theArray[5]     res = (((a**2 + b**2 - (d - e)^3 + (b//e)^2)/ ((a**2 + b**2 - (d - e)^3) + c**2 + (f-4)^2 + (c//d)^2))*0.75)     return res </code></pre>  <p>Python3 Result: 0.32..</p>  <p>Here's the Javascript code:</p>  <pre><code>function foo() {     theArray = [1,2,3,4,5,6]     var a, b, c, d, e, f     a = theArray[0]     b = theArray[1]     c = theArray[2]     d = theArray[3]     e = theArray[4]     f = theArray[5]     res = (((a**2 + b**2 - (d - e)**3 + (b/e)**2)/ ((a**2 + b**2 - (d - e)**3) + c**2 + (f-4)**2 + (c/d)^2))*0.75)     return res } </code></pre>  <p>Javascript Result: 0.27..</p>  <p>Using <em>Math.pow()</em> in the Javascript code didn't change anything.</p>"	"<p>Note that they are not the same formulas.</p>  <p>In your python code you have:</p>  <pre><code>res = (((a**2 + b**2 - (d - e)^3 + (b//e)^2) / ((a**2 + b**2 - (d - e)^3) + c**2 + (f-4)^2 + (c//d)^2))*0.75 </code></pre>  <p>Which has <code>(d - e)^3</code> and <code>(b//e)^2</code> and <code>(f-4)^2</code></p>  <p>In your js code you have:</p>  <pre><code>res = (((a**2 + b**2 - (d - e)**3 + (b/e)**2) / ((a**2 + b**2 - (d - e)**3) + c**2 + (f-4)**2 + (c/d)^2))*0.75) </code></pre>  <p>Which instead has <code>(d - e)**3</code> and <code>(b//e)**2</code> and <code>(f-4)**2</code></p>  <p>The XOR operation is a very different operation from exponents.</p>  <p>Also, do note that in python you have lots of integer divides. In javascript the equivalent would be something like:</p>  <pre><code>(Math.floor(b/e))^2 </code></pre>  <p>So the correct js formula should be:</p>  <pre><code>res = (((a**2 + b**2 - (d - e)^3 + Math.floor(b/e)^2) / ((a**2 + b**2 - (d - e)^3) + c**2 + (f-4)^2 + Math.floor(c/d)^2))*0.75 </code></pre>"
60167292	How do I pass Python list on Django template and use it in JavaScript?	javascript|python|django|django-templates|escaping	2020-02-11 10:56:19.627000 UTC	"<p>I have a python list that has lists inside. I rendered it into Django template to use in my JavaScript. I did <code>json.dumps(postImages)</code>, and escaped with <code>let postImages = {{ postImages|safe }}</code>. And even tho my lint is giving a warning, it worked!  But the problem is that, there are LISTS, inside of the main list. So whenever I do, <code>postImages[0].length</code>, or <code>postImages[0][0]</code>, it thinks that it is a string and now a list.   </p>  <pre><code>&lt;script&gt;   var postImages = {{ postImages|safe }};   const divCard = document.querySelector('.card');   const divDesc = document.querySelector('.description');   console.log(postImages.length)   for (let i = 0; i &lt; postImages.length; i++){       let img = document.createElement('img');       img.classList = ['resize_no_stretch', 'images']       img.setAttribute('src', postImages[i][0]);       console.log(postImages[i][0])       divCard.insertBefore(img, divDesc);   }; &lt;/script&gt; </code></pre>"	"<p>It is solved now. What I did was, I imported json on my views and instead of rendering it normally, I <code>json.dumps()</code> it.</p>  <p>views.py:</p>  <pre><code>import json  postImages = json.dumps(list_of_lists)  return render(request, 'craiglist_clone/results.html', {'postImages' : postImages}) </code></pre>  <p>django template (craiglist_clone/results.html):</p>  <pre><code>let postImages = {{ postImages|safe }} </code></pre>  <p>Your lint my give you warning, but it still works!</p>"
60175237	Difference between hashing in Javascript and Python	javascript|python|hex|sha	2020-02-11 18:25:43.693000 UTC	"<p>(there are a fair few fairly similar posts - I've read them, the solutions largely seem to be about Python string encoding, which I thought I had under control but clearly still don't)</p>  <p>I'm trying to port an NPM package to Python, but I can't get the same results from each script. I've stripped it down to this:</p>  <pre><code>import sys import hashlib from binascii import hexlify print(""Python"", sys.version)  test1 = ""abcdefg"".encode(""utf-8"") print(hexlify(test1), hashlib.sha256(test1).hexdigest()) test2 = ""abcdefg"".encode(""latin1"") print(hexlify(test2), hashlib.sha256(test2).hexdigest()) test3 = ""abcdefg"".encode(""ascii"") print(hexlify(test3), hashlib.sha256(test3).hexdigest()) test4 = b""abcdefg"" print(hexlify(test4), hashlib.sha256(test4).hexdigest()) test5 = bytes([0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67]) print(hexlify(test5), hashlib.sha256(test5).hexdigest()) </code></pre>  <pre><code>var js_sha3 = require('js-sha3') var crypto = require('crypto'); var buffer = require('buffer'); console.log(""Javascript:"", process.version)  function toHex(str) {   return new Buffer.from(str).toString('hex') }  var test1 = ""abcdefg"" console.log(toHex(test1).toString('hex'), js_sha3.sha3_256(test1)) var test2 = Buffer.from(""abcdefg"") console.log(toHex(test2), js_sha3.sha3_256(test2)) var test3 = ""abcdefg"" console.log(toHex(test3), crypto.createHash('sha3-256').update(test3).digest(""hex"")) var test4 = Buffer.from(""abcdefg"") console.log(toHex(test4), crypto.createHash('sha3-256').update(test4).digest(""hex"")) var test5 = buffer.Buffer.from(""abcdefg"", 'hex') console.log(toHex(test5), js_sha3.sha3_256(test5)) </code></pre>  <p>However, the output looks like this:</p>  <pre><code>Python 3.7.4 (default, Sep  7 2019, 18:27:02)  [Clang 10.0.1 (clang-1001.0.46.4)] b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a Javascript: v12.15.0 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 abcdef 8b8a2a6bc589cd378fc57f47d5668c58b31167b2bf9e632696e5c2d50fc16002 </code></pre>  <p>However, entering <code>abcdefg</code> into <a href=""https://emn178.github.io/online-tools/sha256.html"" rel=""nofollow noreferrer"">https://emn178.github.io/online-tools/sha256.html</a> *(which is backed by <code>js-sha3</code>) returns <code>7d1a54...</code>.</p>  <p>So, my question is - how does my use of SHA-256 in Javascript and Python differ? What am I missing? (I'm not going to try and claim that one of the implementations is broken!)</p>  <p>[edit] If I use MD5 instead of SHA-256, the results match, adding further to the mystery!</p>  <pre><code>x = bytes(""thequickbrownfox"", ""utf-8"") print(hashlib.md5(x).hexdigest()) print(hashlib.sha256(x).hexdigest()) </code></pre>  <pre><code>var x = ""thequickbrownfox"" console.log(crypto.createHash('md5').update(x).digest(""hex"")) console.log(crypto.createHash('sha3-256').update(x).digest(""hex"")) </code></pre>  <p>outputs:</p>  <pre><code>308fb76dc4d730360ee33932d2fb1056 bd484b82d7875e115c7273e9c6102ca4946b7c55fe905012be9152b87fe09568 308fb76dc4d730360ee33932d2fb1056 4822316e0d7a7a2ce1bb6489e57c73ca5db4c7c660c79c3c65839bd4aaf4ef10 </code></pre>"	<p>Today I learned the very important difference between <code>sha256</code> and <code>sha3-256</code>.</p>
60175237	Difference between hashing in Javascript and Python	javascript|python|hex|sha	2020-02-11 18:25:43.693000 UTC	"<p>(there are a fair few fairly similar posts - I've read them, the solutions largely seem to be about Python string encoding, which I thought I had under control but clearly still don't)</p>  <p>I'm trying to port an NPM package to Python, but I can't get the same results from each script. I've stripped it down to this:</p>  <pre><code>import sys import hashlib from binascii import hexlify print(""Python"", sys.version)  test1 = ""abcdefg"".encode(""utf-8"") print(hexlify(test1), hashlib.sha256(test1).hexdigest()) test2 = ""abcdefg"".encode(""latin1"") print(hexlify(test2), hashlib.sha256(test2).hexdigest()) test3 = ""abcdefg"".encode(""ascii"") print(hexlify(test3), hashlib.sha256(test3).hexdigest()) test4 = b""abcdefg"" print(hexlify(test4), hashlib.sha256(test4).hexdigest()) test5 = bytes([0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67]) print(hexlify(test5), hashlib.sha256(test5).hexdigest()) </code></pre>  <pre><code>var js_sha3 = require('js-sha3') var crypto = require('crypto'); var buffer = require('buffer'); console.log(""Javascript:"", process.version)  function toHex(str) {   return new Buffer.from(str).toString('hex') }  var test1 = ""abcdefg"" console.log(toHex(test1).toString('hex'), js_sha3.sha3_256(test1)) var test2 = Buffer.from(""abcdefg"") console.log(toHex(test2), js_sha3.sha3_256(test2)) var test3 = ""abcdefg"" console.log(toHex(test3), crypto.createHash('sha3-256').update(test3).digest(""hex"")) var test4 = Buffer.from(""abcdefg"") console.log(toHex(test4), crypto.createHash('sha3-256').update(test4).digest(""hex"")) var test5 = buffer.Buffer.from(""abcdefg"", 'hex') console.log(toHex(test5), js_sha3.sha3_256(test5)) </code></pre>  <p>However, the output looks like this:</p>  <pre><code>Python 3.7.4 (default, Sep  7 2019, 18:27:02)  [Clang 10.0.1 (clang-1001.0.46.4)] b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a b'61626364656667' 7d1a54127b222502f5b79b5fb0803061152a44f92b37e23c6527baf665d4da9a Javascript: v12.15.0 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 61626364656667 7d55114476dfc6a2fbeaa10e221a8d0f32fc8f2efb69a6e878f4633366917a62 abcdef 8b8a2a6bc589cd378fc57f47d5668c58b31167b2bf9e632696e5c2d50fc16002 </code></pre>  <p>However, entering <code>abcdefg</code> into <a href=""https://emn178.github.io/online-tools/sha256.html"" rel=""nofollow noreferrer"">https://emn178.github.io/online-tools/sha256.html</a> *(which is backed by <code>js-sha3</code>) returns <code>7d1a54...</code>.</p>  <p>So, my question is - how does my use of SHA-256 in Javascript and Python differ? What am I missing? (I'm not going to try and claim that one of the implementations is broken!)</p>  <p>[edit] If I use MD5 instead of SHA-256, the results match, adding further to the mystery!</p>  <pre><code>x = bytes(""thequickbrownfox"", ""utf-8"") print(hashlib.md5(x).hexdigest()) print(hashlib.sha256(x).hexdigest()) </code></pre>  <pre><code>var x = ""thequickbrownfox"" console.log(crypto.createHash('md5').update(x).digest(""hex"")) console.log(crypto.createHash('sha3-256').update(x).digest(""hex"")) </code></pre>  <p>outputs:</p>  <pre><code>308fb76dc4d730360ee33932d2fb1056 bd484b82d7875e115c7273e9c6102ca4946b7c55fe905012be9152b87fe09568 308fb76dc4d730360ee33932d2fb1056 4822316e0d7a7a2ce1bb6489e57c73ca5db4c7c660c79c3c65839bd4aaf4ef10 </code></pre>"	"<p>That is certainly correct that for the same given input the hash function produces the same digest. However, where it gets tricky is that many of those hash functions accept the input in terms of bytes. That means here the encoding the giving string into different is dependent on the platform. However, you also need to take into account that different programming languages might have subtle differences, for example I'm not familiar with python, but it might be adding an empty space at the end of the input and/or use different Unicode representations for different special characters. Even one byte change in the input would produce a completely different output, as one might expect from a hash function.</p>  <p>To sum it up, should you want to find why a different hash is created, you should perform a binary comparison of the input of the hash functions. Or print out the input for the SHA-256 in hexadecimals or base 64.</p>"
60182138	How to access webcam in OpenCV on PythonAnywhere through Javascript?	javascript|django|python-3.x|opencv|pythonanywhere	2020-02-12 06:11:11.610000 UTC	"<p>I have developed a WebApplication in Django that has a view method which contains the OpevCV code that when triggered opens the User Webcam to detect its face. This app works fine in my localserver but when I have hosted it on PythonAnywhere it says camera not found as my PA hosting doesnt serve a camera. <br>So someone suggested me to open the webcam through javascript as it deals with the client machine and then pass its feed to server machine which is my hosting. <br>But as i am a rookie in Python i am not able to figure how to perform the above task. I found this piece of js code but i dont know how and where to add this in my Django App.</p>  <p>Code for getting the feed with Javascript</p>  <pre><code>var video = document.querySelector(""#videoElement"");  if (navigator.mediaDevices.getUserMedia) {     navigator.mediaDevices.getUserMedia({video: true}).then(function(stream) {       video.srcObject = stream;   }).catch(function(err0r) {       console.log(""Something went wrong!"");   }); } </code></pre>  <p>My Python code for opening the camera and detecting faces is as follows (it works in localserver)</p>  <pre><code>import cv2  cascade = cv2.CascadeClassifier('./haarcascade_frontalface_default.xml')  cam = cv2.VideoCapture(0)   while True:     ret, frame = cam.read()     frame = cv2.flip(frame, 1)      if ret:         gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)          faces = cascade.detectMultiScale(gray, scaleFactor=1.3, minNeighbors=3)          for (x, y, w, h) in faces:             cropped = cv2.resize(frame[y:y+h, x:x+w], (198,198))             cv2.rectangle(frame, (x, y), (x+w, y+h), (255, 0, 0), 2)          if cv2.waitKey(1) &amp; 0xFF == ord('q'):             break             cv2.destroyAllWindows()          cv2.imshow('Stream', frame) </code></pre>  <p>Any help is appreciated. Thank you in advance</p>"	"<p>You need to get the live video streaming using javascript, then feed that stream to opencv2 to get it working.</p>  <p>Use: <a href=""https://github.com/daspinola/video-stream-sample"" rel=""nofollow noreferrer"">get live videostream in nodejs</a></p>  <p>You will get a url as <code>""http://localhost:3000""</code> which you can use in the python code as follows:</p>  <pre><code>import cv2  cascade = cv2.CascadeClassifier('./haarcascade_frontalface_default.xml')  cam = cv2.VideoCapture('http://localhost:3000')   while True:     ret, frame = cam.read()     frame = cv2.flip(frame, 1)      if ret:         gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)          faces = cascade.detectMultiScale(gray, scaleFactor=1.3, minNeighbors=3)          for (x, y, w, h) in faces:             cropped = cv2.resize(frame[y:y+h, x:x+w], (198,198))             cv2.rectangle(frame, (x, y), (x+w, y+h), (255, 0, 0), 2)          if cv2.waitKey(1) &amp; 0xFF == ord('q'):             break             cv2.destroyAllWindows()          cv2.imshow('Stream', frame) </code></pre>"
60182138	How to access webcam in OpenCV on PythonAnywhere through Javascript?	javascript|django|python-3.x|opencv|pythonanywhere	2020-02-12 06:11:11.610000 UTC	"<p>I have developed a WebApplication in Django that has a view method which contains the OpevCV code that when triggered opens the User Webcam to detect its face. This app works fine in my localserver but when I have hosted it on PythonAnywhere it says camera not found as my PA hosting doesnt serve a camera. <br>So someone suggested me to open the webcam through javascript as it deals with the client machine and then pass its feed to server machine which is my hosting. <br>But as i am a rookie in Python i am not able to figure how to perform the above task. I found this piece of js code but i dont know how and where to add this in my Django App.</p>  <p>Code for getting the feed with Javascript</p>  <pre><code>var video = document.querySelector(""#videoElement"");  if (navigator.mediaDevices.getUserMedia) {     navigator.mediaDevices.getUserMedia({video: true}).then(function(stream) {       video.srcObject = stream;   }).catch(function(err0r) {       console.log(""Something went wrong!"");   }); } </code></pre>  <p>My Python code for opening the camera and detecting faces is as follows (it works in localserver)</p>  <pre><code>import cv2  cascade = cv2.CascadeClassifier('./haarcascade_frontalface_default.xml')  cam = cv2.VideoCapture(0)   while True:     ret, frame = cam.read()     frame = cv2.flip(frame, 1)      if ret:         gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)          faces = cascade.detectMultiScale(gray, scaleFactor=1.3, minNeighbors=3)          for (x, y, w, h) in faces:             cropped = cv2.resize(frame[y:y+h, x:x+w], (198,198))             cv2.rectangle(frame, (x, y), (x+w, y+h), (255, 0, 0), 2)          if cv2.waitKey(1) &amp; 0xFF == ord('q'):             break             cv2.destroyAllWindows()          cv2.imshow('Stream', frame) </code></pre>  <p>Any help is appreciated. Thank you in advance</p>"	"<p>I used to do something similar, the scheme I used was as follows:</p>  <p><img src=""https://i.stack.imgur.com/6QbLP.png"" alt=""Data flow""></p>  <p>As you are already aware, we need javascript to get user's picture from the webcam. I found <a href=""https://medium.com/@alexcambose/webcam-live-streaming-with-websockets-and-base64-64b1b4992db8"" rel=""nofollow noreferrer"">an article</a> that shows us how to do that, you can use only the frontend side (the HTML file) if you want to use Django. That's code is for getting pictures and encode it to base64 (string) and send it via websocket.</p>  <p>After that, we want Django to serve websocket. In the past, I did it with Flask, not Django, but you can see how you can create websocket server using <a href=""https://realpython.com/getting-started-with-django-channels/"" rel=""nofollow noreferrer"">django-channel</a>.</p>  <p>For the last step, you need a function with your OpenCV code. You need to <a href=""https://code.tutsplus.com/tutorials/base64-encoding-and-decoding-using-python--cms-25588"" rel=""nofollow noreferrer"">decode base64</a> and <a href=""https://stackoverflow.com/questions/33754935/read-a-base-64-encoded-image-from-memory-using-opencv-python-library"">convert it to opencv</a></p>  <pre class=""lang-py prettyprint-override""><code>def modify_picture(img_data):     # decode image     img = from_b64(img_data)      # your OpenCV filter     gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)      # encode image to base64     return to_b64(gray) </code></pre>  <p>And of course, you don't need <code>while True</code> and <code>cv2.imshow</code>, but return the base64 version of your new picture. Hope it helps.</p>  <hr>  <p>Update: I write a sample code in my <a href=""https://github.com/tegarimansyah/opencv-streaming"" rel=""nofollow noreferrer"">github</a>. Not in Django, but still in Python. Hope it will give you more insight.</p>"
60292063	Python to continue receive click event output from Javascript	javascript|python|selenium|selenium-webdriver|events	2020-02-19 02:17:33.543000 UTC	"<p>I am trying to develop a tool for user to create a simple RPA for themselves by recording the clicking in browser. Using Selenium library, I can execute an event listener javascript into the browser with the return of the clicking node.</p>  <pre><code>from selenium import webdriver   driver = webdriver.Chrome()  test = driver.get('https://www.google.com')  js_script = ""var resp = arguments[0]; document.addEventListener('click', function(e) { resp(e.path);}, true)"" response = driver.execute_async_script(js_script)  print(response) </code></pre>  <p>this only able to record the first time click in the browser. How can I continue listen for the Javascript event return in Python whenever the click is triggered in the browser?</p>"	"<p>The ""execute_async_script"" awaits a callback from javascript.</p>  <p>Once the awaited (by Python) callback ""arguments[0]"" is called then, even though the EventListener is still up on the browser, Python got its callback. The function execute_async_script is thus done for.</p>  <p>You can either create a logic in Python that evaluates the value in the response, and according to that recreates another script or do the logic directly in Javascript something like: (User needs to press ""q"" in order to terminate the event)</p>  <pre><code>js_script = """""" //Callback function var done = arguments[arguments.length - 1];  //Take all the events var array_events = []  var retour = (e) =&gt; {     array_events.push(e.path) }  var quit = (key) =&gt; {     console.log(array_events);     (key.keyCode == 81 )? done(JSON.stringify(array_events)) : undefined } // Listen to the clicks getPath = document.addEventListener(""click"", retour, true) // Listen to the key ""q"" which means user has gathered all needed events getKey = document.addEventListener(""keydown"", quit, true)  """""" response = driver.execute_async_script(js_script) print(response) </code></pre>"
60300459	Web login using python or wget (JavaScript Challenge/response)	python|authentication|curl|scrapy|wget	2020-02-19 12:31:30.947000 UTC	"<p>i am newbie with web scrapy and login. I need to login to an UPS to read information via Python or wget not matter which.</p>  <p>I tried to do it with wget:</p>  <pre><code>wget --no-check-certificate --keep-session-cookies --post-data  'Username=admin&amp;Password=admin' https://192.168.50.2/delta/login </code></pre>  <p>But always get a web page with the error ""Challenge not found""</p>  <p>Do you know any way to gets login in using challenge+response?</p>  <p>Here are the login page source code:</p>  <pre><code>&lt;!DOCTYPE html PUBLIC ""-//W3C//DTD HTML 4.01 Transitional//EN"" ""http://www.w3.org/TR/html4/loose.dtd""&gt; &lt;!-- saved from url=(0035)https://192.168.50.2/home.asp --&gt; &lt;html&gt;&lt;head&gt;&lt;meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8""&gt; &lt;title&gt;Web Server Login&lt;/title&gt; &lt;meta http-equiv=""X-UA-Compatible"" content=""IE=9,8,7,6,5""&gt;  &lt;meta http-equiv=""pragma"" content=""no-cache""&gt; &lt;meta http-equiv=""expires"" content=""-1""&gt; &lt;!--&lt;base target=""_top""&gt;--&gt;&lt;base href=""."" target=""_top""&gt; &lt;link rel=""stylesheet"" href=""./Web Server Login_files/template.css"" type=""text/css""&gt; &lt;script language=""javascript"" src=""./Web Server Login_files/js.js.download""&gt;&lt;/script&gt;&lt;script data-dapp-detection=""""&gt; (function() {   let alreadyInsertedMetaTag = false    function __insertDappDetected() {     if (!alreadyInsertedMetaTag) {       const meta = document.createElement('meta')       meta.name = 'dapp-detected'       document.head.appendChild(meta)       alreadyInsertedMetaTag = true     }   }    if (window.hasOwnProperty('web3')) {     // Note a closure can't be used for this var because some sites like     // www.wnyc.org do a second script execution via eval for some reason.     window.__disableDappDetectionInsertion = true     // Likely oldWeb3 is undefined and it has a property only because     // we defined it. Some sites like wnyc.org are evaling all scripts     // that exist again, so this is protection against multiple calls.     if (window.web3 === undefined) {       return     }     __insertDappDetected()   } else {     var oldWeb3 = window.web3     Object.defineProperty(window, 'web3', {       configurable: true,       set: function (val) {         if (!window.__disableDappDetectionInsertion)           __insertDappDetected()         oldWeb3 = val       },       get: function () {         if (!window.__disableDappDetectionInsertion)           __insertDappDetected()         return oldWeb3       }     })   } })()&lt;/script&gt;&lt;script type=""text/javascript"" src=""./Web Server Login_files/jquery-1.4.4.pack.js.download""&gt;&lt;/script&gt; &lt;script language=""javascript"" src=""./Web Server Login_files/md5.js.download""&gt;&lt;/script&gt; &lt;script language=""JavaScript""&gt; &lt;!-- function calcResponse() { str = document.login.Username.value + document.login.Password.value + document.login.Challenge.value; document.login.Response.value = hex_md5(str); if(1)     document.login.Password.value = """"; document.login.Challenge.value = """"; } var logoix = ""1""; var lang_support = ""1111000000000000""; var odmtag = ""0"";  function Initialize(flag_Submit) {     document.login.Username.focus();     if(flag_Submit) {         document.login.Submitbtn.click();     }     chklogo(logoix,'dlogos')     if(odmtag == ""0"")     {         document.getElementById('footnote').style.display=""block""         document.getElementById('tabtitle').className=""tabtl""         document.getElementById('logintitle').className=""logintl""     } } --&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body style=""display: block;"" onload=""pageload();loadjs(&amp;#39;/java/langs.js&amp;#39;);setTimeout(&amp;#39;Initialize()&amp;#39;,10);""&gt; &lt;div style=""display:none"" id=""currlang""&gt;0&lt;/div&gt; &lt;form name=""login"" action=""https://192.168.50.2/delta/login"" method=""post""&gt;     &lt;center&gt;     &lt;div id=""dslogin""&gt;         &lt;p&gt;&amp;nbsp;&lt;/p&gt;         &lt;p&gt;&amp;nbsp;&lt;/p&gt;         &lt;div class=""sidebox""&gt;         &lt;h3&gt;&amp;nbsp;&lt;/h3&gt;         &lt;div class=""sb""&gt;             &lt;table cellpadding=""0"" cellspacing=""0"" border=""0"" width=""480""&gt;                 &lt;tbody&gt;&lt;tr&gt;&lt;th colspan=""3"" id=""tabtitle"" class=""tabtl""&gt;&lt;div id=""logintitle"" class=""logintl""&gt;UPSentry 2012&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;                 &lt;tr&gt;&lt;td colspan=""3"" style=""padding-right:-6px;"" valign=""top""&gt;                     &lt;table cellpadding=""8"" cellspacing=""8"" border=""0"" height=""100%"" width=""100%"" class=""loginfield""&gt;                     &lt;tbody&gt;&lt;tr&gt;&lt;td colspan=""2""&gt;&lt;img src=""./Web Server Login_files/sp.gif"" width=""1"" height=""3""&gt;&lt;/td&gt;&lt;/tr&gt;                     &lt;tr&gt;                         &lt;td class=""logintext""&gt;&lt;span id=""#2""&gt;User Name&lt;/span&gt; : &lt;/td&gt;                         &lt;td align=""left""&gt;&lt;input type=""text"" name=""Username"" value="""" size=""24"" maxlength=""32"" style=""font-size: 12px; background-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAAUBJREFUOBGVVE2ORUAQLvIS4gwzEysHkHgnkMiEc4zEJXCMNwtWTmDh3UGcYoaFhZUFCzFVnu4wIaiE+vvq6+6qTgthGH6O4/jA7x1OiCAIPwj7CoLgSXDxSjEVzAt9k01CBKdWfsFf/2WNuEwc2YqigKZpK9glAlVVwTTNbQJZlnlCkiTAZnF/mePB2biRdhwHdF2HJEmgaRrwPA+qqoI4jle5/8XkXzrCFoHg+/5ICdpm13UTho7Q9/0WnsfwiL/ouHwHrJgQR8WEwVG+oXpMPaDAkdzvd7AsC8qyhCiKJjiRnCKwbRsMw9hcQ5zv9maSBeu6hjRNYRgGFuKaCNwjkjzPoSiK1d1gDDecQobOBwswzabD/D3Np7AHOIrvNpHmPI+Kc2RZBm3bcp8wuwSIot7QQ0PznoR6wYSK0Xb/AGVLcWwc7Ng3AAAAAElFTkSuQmCC&amp;quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;"" autocomplete=""off""&gt;&lt;/td&gt;                     &lt;/tr&gt;                     &lt;tr&gt;                         &lt;td class=""logintext""&gt;&lt;span id=""#3""&gt;Password&lt;/span&gt; : &lt;/td&gt;                         &lt;td align=""left""&gt;&lt;input type=""password"" name=""Password"" value="""" size=""24"" maxlength=""32"" style=""font-size: 12px; background-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAAUBJREFUOBGVVE2ORUAQLvIS4gwzEysHkHgnkMiEc4zEJXCMNwtWTmDh3UGcYoaFhZUFCzFVnu4wIaiE+vvq6+6qTgthGH6O4/jA7x1OiCAIPwj7CoLgSXDxSjEVzAt9k01CBKdWfsFf/2WNuEwc2YqigKZpK9glAlVVwTTNbQJZlnlCkiTAZnF/mePB2biRdhwHdF2HJEmgaRrwPA+qqoI4jle5/8XkXzrCFoHg+/5ICdpm13UTho7Q9/0WnsfwiL/ouHwHrJgQR8WEwVG+oXpMPaDAkdzvd7AsC8qyhCiKJjiRnCKwbRsMw9hcQ5zv9maSBeu6hjRNYRgGFuKaCNwjkjzPoSiK1d1gDDecQobOBwswzabD/D3Np7AHOIrvNpHmPI+Kc2RZBm3bcp8wuwSIot7QQ0PznoR6wYSK0Xb/AGVLcWwc7Ng3AAAAAElFTkSuQmCC&amp;quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;"" autocomplete=""off""&gt;&lt;/td&gt;                     &lt;/tr&gt;                     &lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;                         &lt;td align=""left""&gt;&lt;input class=""okbutn"" onclick=""calcResponse()"" id=""#4"" type=""Submit"" name=""Submitbtn"" value=""      OK      ""&gt;&lt;/td&gt;&lt;/tr&gt;                     &lt;/tbody&gt;&lt;/table&gt;                 &lt;/td&gt;                 &lt;/tr&gt;                 &lt;tr&gt;                     &lt;td colspan=""3"" class=""logindevip""&gt;&lt;span id=""#5""&gt;Site IP&lt;/span&gt;: 192.168.50.2&lt;/td&gt;                 &lt;/tr&gt;             &lt;/tbody&gt;&lt;/table&gt;         &lt;/div&gt;         &lt;/div&gt;         &lt;input type=""hidden"" name=""Challenge"" value=""f1e0....""&gt;         &lt;input type=""hidden"" name=""Response"" value=""""&gt;         &lt;div id=""footnote"" style=""display: block;""&gt;             &lt;span id=""#6""&gt;Copyright ©, All rights reserved.&lt;/span&gt;         &lt;/div&gt;     &lt;/div&gt;     &lt;/center&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Regards!</p>"	
60304865	Python universal scraper for all postcodes on a page hidden inside javascript	javascript|python|json|python-requests	2020-02-19 16:23:18.387000 UTC	"<p>I'm currently trying to create a universal web scraper which will pick up on all postcodes on a page but I'm finding it really difficult if a page hides their office locations within some javascript. </p>  <p>My scraper:</p>  <pre class=""lang-py prettyprint-override""><code>def parse(url):      try:         print(url)         postcode_regex_pattern = r""([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})""         compiled_pattern = re.compile(postcode_regex_pattern)         headers = {             'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36',             }         page = requests.get(url, headers=headers)         # print(page.status_code)         if page.status_code == 200:             soup = BeautifulSoup(page.text, 'lxml')             info_to_store = {                             'url': url,                             'postcodes': [],                             }             visible_text_in_page = text_from_html(soup)             matches = re.findall(compiled_pattern, visible_text_in_page)             pcs = [match[1] for match in matches]             if len(pcs) &gt; 0:                 info_to_store['postcodes'] = list(set(pcs))     except Exception as e:         print('{url}: ' + str(e))         pass </code></pre>  <p>Two good examples that my scraper does not work on:</p>  <p><a href=""https://home.kpmg/uk/en/home/about/offices.html"" rel=""nofollow noreferrer"">https://home.kpmg/uk/en/home/about/offices.html</a></p>  <p><a href=""https://www.twilio.com/company"" rel=""nofollow noreferrer"">https://www.twilio.com/company</a></p>  <p>Does anyone have any advice? I do not want to use selenium.</p>"	"<p>You can use <a href=""https://pypi.org/project/requests-html/"" rel=""nofollow noreferrer"">requests_html</a> to render the page and then parse it with BeautifulSoup.<br> Python 3.6 and above is required.</p>  <p>Sample request</p>  <pre><code>from requests_html import HTMLSession session = HTMLSession()  r = session.get('https://home.kpmg/uk/en/home/about/offices.html')  </code></pre>"
60309567	Run python script with args in javascript with exec	javascript|child-process	2020-02-19 21:32:39.617000 UTC	"<p>I have inputs such as latitude, longitude and frequency. I would like to run this command on a JS file :</p>  <pre><code>exec(`python test.py '{""latitude"":${latitude},""longitude"":${longitude},""frequency"":${frequency}}'`, (error, stdout, stderr) =&gt; { .... }) </code></pre>  <p>But when I run I have the following error :</p>  <pre><code>error: Command failed: python test.py '{""latitude"":48.118097,""longitude"":-1.636503,""frequency"":2.4}' Traceback (most recent call last):   File ""test.py"", line 16, in &lt;module&gt;     data=json.loads(sys.argv[1])   File ""C:\Users\****\AppData\Local\Programs\Python\Python38\lib\json\__init__.py"", line 357, in loads     return _default_decoder.decode(s)   File ""C:\Users\****\AppData\Local\Programs\Python\Python38\lib\json\decoder.py"", line 337, in decode     obj, end = self.raw_decode(s, idx=_w(s, 0).end())   File ""C:\Users\****\AppData\Local\Programs\Python\Python38\lib\json\decoder.py"", line 355, in raw_decode     raise JSONDecodeError(""Expecting value"", s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)  </code></pre>  <p>And my python script begin with </p>  <pre><code>import sys import json data=json.loads(sys.argv[1])  </code></pre>  <p>Moreover if I just run my python script without args, and write random data directly in the python script, it works. So I think it's a problem of the args written in the exec command.</p>  <p>Can you please help me.</p>"	"<p>Maybe add double quotes?</p>  <pre><code>python test.py '\""{""latitude"":48.118097,""longitude"":-1.636503,""frequency"":2.4}\""' </code></pre>"
60314443	Crawling Highcharts via python selenium ( javascript error: Highcharts is not defined )	python|selenium|highcharts|web-crawler|selenium-chromedriver	2020-02-20 07:00:59.590000 UTC	"<p>I would like to crawl graphs from a website. It is a graph that shows the search trend of a certain keyword. But the thing is that the graph is interactive. It would only pop up when I click the keyword in the list. (When it pops up, it is not a new window). </p>  <p>Via the developer tools element tab, I found that this is sth called highcharts.  Is there any way that I can crawl the chart data via selenium? </p>  <p>Using beautifulsoup and getting json would not work because there is no url assigned to the chart.. (as I mentioned earlier, it is just a pop-up) </p>  <p>I would attach the image of the website and the element tab. </p>  <p><a href=""https://i.stack.imgur.com/UyXes.png"" rel=""nofollow noreferrer"">Image #1 of the chart and element tab</a></p>  <p><a href=""https://i.stack.imgur.com/9q6nS.png"" rel=""nofollow noreferrer"">Image #2 of the chart and element tab</a></p>  <p>Thankyou!!</p>  <p>(It is a Korean website and one needs to register for it, so I would not post the website url) </p>  <h2>CODE UPDATE</h2>  <pre class=""lang-py prettyprint-override""><code>keyword = '괌여행' WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, '/html/body/elena-root/elena-wrap/div/div[2]/elena-tool-wrap/div/div/div/div/elena-keyword-planner/div[2]/div[1]/div[1]/div[2]/div/div/div[1]/div/textarea'))).send_keys(keyword)  driver.find_element_by_xpath('/html/body/elena-root/elena-wrap/div/div[2]/elena-tool-wrap/div/div/div/div/elena-keyword-planner/div[2]/div[1]/div[1]/div[3]/button').click()  time.sleep(1)  #driver.find_element_by_xpath('/html/body/elena-root/elena-wrap/div/div[2]/elena-tool-wrap/div/div/div/div/elena-keyword-planner/div[2]/div[1]/div[2]/div[3]/elena-table/div/div/table/tbody/tr[1]/td[2]/elena-keyword').click()  time.sleep(1)  actions = wd.ActionChains(driver)  actions.move_to_element(driver.find_element_by_xpath('/html/body/elena-root/elena-wrap/div/div[2]/elena-tool-wrap/div/div/div/div/elena-keyword-planner/div[2]/div[1]/div[2]/div[3]/elena-table/div/div/table/tbody/tr[1]/td[2]/elena-keyword'))  actions.click() actions.perform() time.sleep(3) driver.switch_to_active_element() time.sleep(1)  #The following code using Highcharts.charts gives an error ""JavascriptException: Message: javascript error: Highcharts is not defined""  d = driver.execute_script('return Highcharts.charts[0].series[0].data') data = [item[1] for item in data] print(data)  </code></pre>"	
60337338	[Python][Javascript] can't figure out how to send API calls from a NEXTjs webpage GUI to a Python Falcon backend	javascript|python|api|next.js|falconframework	2020-02-21 11:04:30.970000 UTC	"<p>I'm trying to send POST requests from a NEXTjs frontend with a simple form field to a backend located on the same server which is a python script using the <a href=""https://falcon.readthedocs.io/en/stable/"" rel=""nofollow noreferrer"" title=""Falcon"">Falcon</a> library. The python script itself is ran by Gunicorn and listens on the 8080 port.</p>  <p>Both codes run pretty well without errors but when I try to submit the form all I get is a 415 error which seems to indicate that what I'm trying to send to the API is not a supported media type but, as pointed out in this <a href=""https://stackoverflow.com/a/46151891/5944716"">answer</a></p>  <blockquote>   <p>Falcon has out of the box support for requests with Content-Type: application/json</p> </blockquote>  <p>Since the webpage and the server are hosted on the same VPS I've also tried to use the 127.0.0.1 address in the fetch call but that was unsuccessful as well (the backend API didn't even responded in fact)</p>  <p>Here's the backend code:</p>  <pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python # coding=utf-8   import time import falcon import json   class Resource(object):      def on_post(self, req, resp, **kwargs):         request_body = req.media          print('POST Request: {}'.format(req))         print('Request body: {}'.format(request_body))          start = time.time()          resp.body = json.dumps({             'count_identical_pairs': count_identical_pairs(request_body),             'computation_time': int((time.time() - start) * 1000)         })   def count_identical_pairs(integers_array):     total = 0     count = dict()      # Type checking     if not isinstance(integers_array, list):         return -1      # Check if N is within the range [0..100,000]     if len(integers_array) &gt; 100000:         return -2      for integer in integers_array:          # Check if each element of the array is within the range [−1,000,000,000..1,000,000,000]         if integer not in range(-1000000000, 1000000000):             return -3          if str(integer) not in count:             count[str(integer)] = 1         else:             count[str(integer)] += 1      for key, value in count.items():         total += value * (value - 1) / 2      return total   api = application = falcon.API()  api.add_route('/count_identical_pairs', Resource()) </code></pre>  <p>And here's the frontend one:</p>  <pre class=""lang-js prettyprint-override""><code>import React from 'react'; import ReactDOM from 'react-dom'; import './index.css';  class Index extends React.Component {     constructor() {         super();         this.state = {             input_array: [],         };         this.onSubmit = this.onSubmit.bind(this);         this.myHeaders = new Headers();     }      onChange = evt =&gt; {         // This triggers everytime the input is changed         this.setState({             [evt.target.name]: evt.target.value,         });     };      onSubmit = evt =&gt; {         evt.preventDefault();         console.log('this.state.input_array = ' + this.state.input_array);         console.log('JSON.stringify(this.state.input_array) = ' + JSON.stringify(this.state.input_array));         // Making a post request with the fetch API         // Test payload [1, 7, 7, 5, 7, 5, 6, 1]         fetch('http://vps638342.ovh.net:8080/count_identical_pairs', {             method: 'POST',             headers: {                 'Accept': 'application/json',                 'Content-Type': 'application/json; charset=utf-8'             },             mode: 'no-cors',    // Security hazard?             body: JSON.stringify(this.state.input_array),             redirect: 'follow'         })         .then(response =&gt; response.text())         .then(data =&gt; console.log('Data: ' + data))         .catch(error =&gt; console.log('Error: ' + error))     };      render() {         return (             &lt;form onSubmit={this.onSubmit} &gt;                 &lt;input                     name=""input_array""                     type=""text""                     id=""name""                     value={this.state.input_array}                     onChange={this.onChange}&gt;                 &lt;/input&gt;                 &lt;input type=""submit"" /&gt;             &lt;/form&gt;         );     }; }  ReactDOM.render(&lt;Index /&gt;, document.getElementById(""root"")); </code></pre>  <p><strong>EDIT 1:</strong> I've tested the python backend API with Postman and I can see that it works pretty well already as you can see pictured here:</p>  <p><a href=""https://i.stack.imgur.com/1r5gu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1r5gu.png"" alt=""postman screenshot""></a> <strong>EDIT 2:</strong> Thanks to @Maku here's the update code on the backend that allows all origins, methods and header. I'm new to server development but I'm guessing it's not a very secure way to code but at least it works (I'll add a third EDIT if I find a more recommended way to do this)</p>"	"<p>Enable CORS in your falcon server and remove the 'no-cors' flag in your javascript, that worked for me the other day.<br> <a href=""https://github.com/lwcolton/falcon-cors"" rel=""nofollow noreferrer"">https://github.com/lwcolton/falcon-cors</a> should work for you. To test it you could just allow all origins with something like this (I'm using another python framework so I haven't tested this exact falcon extension) </p>  <pre class=""lang-py prettyprint-override""><code>cors = CORS(allow_all_origins=True, allow_all_headers=True)  api = falcon.API(middleware=[cors.middleware])  </code></pre>  <p>Edit: added allow_all_headers=True like discussed in the comments.</p>"
60387008	JavaScript and Python bitwise OR operation gave different results	javascript|python|numbers|bitwise-or	2020-02-25 03:15:30.527000 UTC	"<p>JS</p>  <pre class=""lang-js prettyprint-override""><code>console.log(1 | 1); // 1 console.log(1 | 0x8); // 9 console.log(1 | 0x80000000); // -2147483647 </code></pre>  <p>python</p>  <pre class=""lang-py prettyprint-override""><code>print (1 | 1) # 1 print (1 | 0x8) # 9 print (1 | 0x80000000) # 2147483649 </code></pre>  <p>Why the results in last examples are different?</p>"	"<p>Tha JavaScript behavior is described in <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators"" rel=""nofollow noreferrer"">MDN</a></p>  <blockquote>   <p>The operands of all bitwise operators are converted to signed 32-bit integers in two's complement format, except for zero-fill right shift which results in an unsigned 32-bit integer.</p> </blockquote>  <p>So you get negative numbers in JavaScript because it treats the value as a 32-bit signed number. The <code>0x80000000</code> bit is the sign bit.</p>  <p>The qualifier at the end of the above quote points the way to get the same result as Python:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>console.log((1 | 0x80000000) &gt;&gt;&gt; 0);</code></pre> </div> </div> </p>  <p><code>&gt;&gt;&gt;</code> is the zero-fill right shift operator. Shifting by 0 bits doesn't change the value, but it gets converted to unsigned.</p>  <p>Python integers have infinite precision, so they don't wrap around to negative numbers when they get to 32 bits.</p>"
60407130	Effective Python equivalent of this simple promise-chaining JavaScript class	python-3.x|promise|queue|python-asyncio	2020-02-26 05:06:40.140000 UTC	"<p>Here's the JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>class TaskQueue {   constructor() {     this._chain = Promise.resolve();   }   postTask(task) {     const result = this._chain.then(task);     this._chain = result.catch(() =&gt; {});     return result;   } } </code></pre>  <p>I'm pretty sure that this just takes a task (function), gets the Promise from it, ignores the errors, and adds it onto the class 'chain'. I'm not quite sure exactly why, though. <a href=""https://github.com/puppeteer/puppeteer/blob/master/lib/TaskQueue.js"" rel=""nofollow noreferrer"">Here's the file</a> in question, and <a href=""https://github.com/puppeteer/puppeteer/blob/master/lib/Page.js#L917"" rel=""nofollow noreferrer"">here</a> is where you can find it being used. In the usage it seems like there's really no need for queuing system to me.</p>  <p>I have no clue what do in Python. I'm aware that there is no 'exact' equivalent to this style of Python code, but I'd like to replicate it effectively, or at least achieve the same results as the JS even if by a different method.</p>"	"<p>Here is an example of a Javacript Promise copy:</p> <pre><code>class Promise:     def __init__(self, callback):         self.resolved = ''         self.rejected = ''         if callable(callback):             callback(self.resolve, self.reject)      def resolve(self, value):         self.resolved = value      def reject(self, value):         self.rejected = value      def then(self, callback):         if not self.rejected:             self.resolved = callback(self.resolved)         return self      def catch(self, callback):         if self.rejected:             self.rejected = callback(self.rejected)         return self      def all(self, promises):         resolvedArray = []         rejectedArray = []         for promise in promises:             promise(self.resolve, self.reject)             if self.resolved:                 resolvedArray += self.resolved             if self.rejected:                 rejectedArray += self.rejected                 break         self.resolved = resolvedArray         self.rejected = rejectedArray         return self   def myPromise1(resolve, reject):     resolve(['Ana'])   def myPromise2(resolve, reject):     resolve(['Bia'])   def myPromise3(resolve, reject):     resolve(['Carlos'])   def myPromise4(resolve, reject):     resolve(['Daniel'])   def allResolve(values):     print('without error: ', values)   def allReject(values):     print('with error: ', values)   p = Promise([]) p.all([myPromise1, myPromise2]).then(allResolve).catch(allReject) </code></pre> <p>Another example:</p> <pre><code>def myPromise(resolve, reject):     resolve(['Ana', 'Bia', 'Carlos', 'Daniel'])   def firstResolve(value):     return value[0]   def secondResolve(value):     print(value)   def firstReject(value):     print('error:', value)   p = Promise(myPromise) p.then(firstResolve).then(secondResolve).catch(firstReject) </code></pre>"
60407130	Effective Python equivalent of this simple promise-chaining JavaScript class	python-3.x|promise|queue|python-asyncio	2020-02-26 05:06:40.140000 UTC	"<p>Here's the JavaScript code:</p>  <pre class=""lang-js prettyprint-override""><code>class TaskQueue {   constructor() {     this._chain = Promise.resolve();   }   postTask(task) {     const result = this._chain.then(task);     this._chain = result.catch(() =&gt; {});     return result;   } } </code></pre>  <p>I'm pretty sure that this just takes a task (function), gets the Promise from it, ignores the errors, and adds it onto the class 'chain'. I'm not quite sure exactly why, though. <a href=""https://github.com/puppeteer/puppeteer/blob/master/lib/TaskQueue.js"" rel=""nofollow noreferrer"">Here's the file</a> in question, and <a href=""https://github.com/puppeteer/puppeteer/blob/master/lib/Page.js#L917"" rel=""nofollow noreferrer"">here</a> is where you can find it being used. In the usage it seems like there's really no need for queuing system to me.</p>  <p>I have no clue what do in Python. I'm aware that there is no 'exact' equivalent to this style of Python code, but I'd like to replicate it effectively, or at least achieve the same results as the JS even if by a different method.</p>"	"<p><code>then</code> creates a new promise which runs after the old one resolves. In Python you can create a task whose coroutine awaits the previous one. Something like:</p>  <pre class=""lang-py prettyprint-override""><code>class TaskQueue:     def __init__(self):         fut = asyncio.get_event_loop().create_future()         fut.set_result(None)         self._task = fut      def post_task(self, awaitable):         async def run_awaitable(prev):             try:                 await prev                 await awaitable             except:                 pass  # consider at least logging here         self._task = asyncio.create_task(run_awaitable(self._task)) </code></pre>"
60407516	"\n problem when using javascript to exec ""python -c """	javascript|python	2020-02-26 05:46:56.877000 UTC	"<pre><code>function get_params(command_string,tpp){     var rt = ""None""     // 如果存在-&gt;那么取出值并覆盖     if(command_string.search(""-&gt;"") != -1){         rt = /-&gt;(.*):/.exec(command_string)[1]         var rep = /\)(\s{0,1}-&gt;\s{0,1}.*):/.exec(command_string)[1];         command_string = command_string.replace(rep, """");     }     command_string = command_string.replace(/(^\s*)/g, """");       var func_name = /^def ([_\da-zA-Z]+)\(.*/.exec(command_string)[1]      var comon = `python -c "" import inspect import json from typing import * from datetime import * result = [] ${command_string}     pass for x in inspect.signature(${func_name}).parameters.values():     try:         result.append(dict(name=x.name, annotation=x.annotation.__name__ if x.annotation != inspect._empty else 'Undeclared', default= x.default if x.default != inspect._empty else 'Undeclared'))      except Exception:         result.append(dict(name=x.name, annotation=x.annotation._name if x.annotation != inspect._empty else 'Undeclared', default= x.default if x.default != inspect._empty else 'Undeclared')) print(json.dumps(result)) ""`     console.log(comon)     var message = execute(comon).toString();     return {         ""params"":GenarateParamDoc(JSON.parse(message), tpp),         ""rt"": rt } } </code></pre>  <p>I try to use javascript to execute some python code by ""python -c"". it works in Linux,  but I don't know why failed in windows and mac, I guess it caused by the difference between \n \r\n  and \r.  </p>  <p>so I want to ask how to fix this problem.</p>  <p>this project is in <a href=""https://github.com/QUANTAXIS/QAHelper"" rel=""nofollow noreferrer"">https://github.com/QUANTAXIS/QAHelper</a></p>  <p>you can clone it and run in vscode.</p>"	
60439028	How to add a javascript and css file in Jinja2 using Databricks Python?	python|jinja2|databricks	2020-02-27 17:46:51.190000 UTC	"<p>I am using the Databricks Python notebook, and I am trying to render the HTML file in Jinja2.  I am trying to add a Javascript and CSS file. Below is the code I have written. </p>  <p>I am not creating any app using flask. it's just a simple template </p>  <pre><code>myTemplate = Template('''&lt;html&gt; &lt;center&gt;&lt;img src=""data:image/jpeg;base64,{{ tpath }}"" alt={{ name }} width=""1200"" height=""90"" /&gt;&lt;/center&gt;&lt;br&gt;&lt;h1&gt; Hello world {{ something }}!&lt;/h1&gt; {% block javascript %}     &lt;script type=""text/javascript""&gt;         {% include ""/mnt/sandbox/AWS-JDPS-MACHINE-HEALTH/Solution_PDF/myscript.js"" %}     &lt;/script&gt;     &lt;!-- The contents of myscript.js will be loaded inside the script tag --&gt; {% endblock %} {% block css %} &lt;link rel=""stylesheet"" type=""text/css"" href=""/mnt/sandbox/AWS-JDPS-MACHINE-HEALTH/Solution_PDF/Embed.css"" /&gt; {% endblock %}  &lt;/html&gt; ''') test = myTemplate.render(something=""MACHINE HEALTH"", tpath = file, name = 'Sample') </code></pre>  <p>Its throwing error ""No loader for this environment specified.""  As I am using Databricks environment and I am new to jinja2 and Databricks. I am not able to change the path of the environment. </p>  <p>Is there any other way to embed a CSS and javascript file in my template?<br> and when you render it - I would like an HTML file</p>  <p>BELOW IS THE COMPLETE ERROR - </p>  <pre><code>    TypeError                                 Traceback (most recent call last) &lt;command-11791890&gt; in &lt;module&gt;()      12 &lt;/html&gt;      13 ''') ---&gt; 14 test = myTemplate.render(something=""MACHINE HEALTH"", tpath = file, name = 'Tarun')  /databricks/python/lib/python3.5/site-packages/jinja2/environment.py in render(self, *args, **kwargs)     987         except Exception:     988             exc_info = sys.exc_info() --&gt; 989         return self.environment.handle_exception(exc_info, True)     990      991     def stream(self, *args, **kwargs):  /databricks/python/lib/python3.5/site-packages/jinja2/environment.py in handle_exception(self, exc_info, rendered, source_hint)     752             self.exception_handler(traceback)     753         exc_type, exc_value, tb = traceback.standard_exc_info --&gt; 754         reraise(exc_type, exc_value, tb)     755      756     def join_path(self, template, parent):  /databricks/python/lib/python3.5/site-packages/jinja2/_compat.py in reraise(tp, value, tb)      35     def reraise(tp, value, tb=None):      36         if value.__traceback__ is not tb: ---&gt; 37             raise value.with_traceback(tb)      38         raise value      39   &lt;template&gt; in top-level template code()  &lt;template&gt; in block ""javascript""()  TypeError: no loader for this environment specified </code></pre>"	"<p>There are two things here:</p> <ol> <li>Ninja doesn't know anything about Databricks File System (DBFS) that is really a wrapper around specific cloud storage implementation.  That's why it's complaining about missing loader.  To access files on DBFS from software that works with local files you need to prepend the <code>/dbfs</code> prefix to the path. For example: <code>/dbfs/mnt/sandbox/</code></li> <li>The same with stylesheets - you can't use <code>href=&quot;/mnt/sandbox/...</code>, as the file is not accessible.  The solution here is either include stylesheet as text into HTML, so the HTML is self contained.  Or put the file into the <a href=""https://docs.databricks.com/data/filestore.html#save-a-file-to-filestore"" rel=""nofollow noreferrer""><code>/FileStore</code> location on DBFS</a> (for example as <code>/FileStore/file_name.css</code>) and refer to it as <code>/files/file_name.css</code> (see documentation for more details/examples)</li> </ol>"
60518020	How to get variable value from Javascript using Selenium with Python	javascript|python|selenium|dom	2020-03-04 01:54:49.527000 UTC	"<p>Using Selenium, the following is the code I am running on Python to get my geo-coordinates via use of the navigator web api:</p>  <pre><code>        coordinates = driver.execute_script(         "" return () =&gt; {                                            "" +         ""   var savedCoordinates;                                   "" +         ""                                                           "" +         ""   navigator.geolocation.getCurrentPosition(               "" +         ""       (pos) =&gt; savedCoordinates = pos.coords,             "" +         ""       error,                                              "" +         ""       options);                                           "" +         ""                                                           "" +         ""   let options = {                                         "" +         ""       enableHighAccuracy: true,                           "" +         ""       timeout: 5000,                                      "" +         ""       maximumAge: 0                                       "" +         ""   };                                                      "" +         ""                                                           "" +         ""   function error(err) {                                   "" +         ""       console.warn(`ERROR(${err.code}): ${err.message}`); "" +         ""   };                                                      "" +         ""                                                           "" +         "" return savedCoordinates;                                  "" +         "" }                                                         "" )          print(coordinates)  </code></pre>  <p>Expected output: <code>{latitude: XXX.XXX, longitude XX.XXXX}</code></p>  <p>Actual output: <code>{}</code></p>  <p>Can someone help me figure out how I can get my geo-coordinates using this method?</p>"	"<p>It should work without <code>return () =&gt; { }</code></p>  <pre><code>    coordinates = driver.execute_script(     ""   var savedCoordinates;                                   "" +     ""                                                           "" +     ""   navigator.geolocation.getCurrentPosition(               "" +     ""       (pos) =&gt; savedCoordinates = pos.coords,             "" +     ""       error,                                              "" +     ""       options);                                           "" +     ""                                                           "" +     ""   let options = {                                         "" +     ""       enableHighAccuracy: true,                           "" +     ""       timeout: 5000,                                      "" +     ""       maximumAge: 0                                       "" +     ""   };                                                      "" +     ""                                                           "" +     ""   function error(err) {                                   "" +     ""       console.warn(`ERROR(${err.code}): ${err.message}`); "" +     ""   };                                                      "" +     ""                                                           "" +     "" return savedCoordinates;                                  "" )       print(coordinates) </code></pre>  <p>As for me this <code>() =&gt; {}</code> only defines function but it doesn't run it - so it returns this function, not result from function. You may need <code>()</code> to run it</p>  <pre><code>return (() =&gt; {...code...})() </code></pre>"
60521907	Can we pass a JavaScript variable to a Python file?	javascript|python|leaflet	2020-03-04 08:34:27.333000 UTC	"<p>I am developing a simple webpage GUI for my satellite images for a machine learning project. All the files are on my local machine and I intend to host the website locally as well. I have used plain Javascript and a third party library, Leaflet to display the image(kind of like a map). </p>  <p>The map displayed is basically a tiled version of image. I need to pass on the path of the tile (which I am currently storing in a js variable) to a python file which will use it to perform feature extraction of that particular tile.</p>  <p>Initially, I attempted to write it into a text file that the python program would read, but that displays a prompt everytime for downloading the file. Most of the other solutions involved FS module of NodeJS.</p>  <p>I am sorry if it is a very simple question I am a beginner and could not find any answer on the above (almost every answer uses some flavor of js)</p>"	"<p>If you need send data to python send JSON</p>  <p>Put it in your js and AJAX will be send to python script:</p>  <pre><code>$.ajax({         type: ""POST"",         url: $SCRIPT_ROOT + ""/my_data"",         data: ""data=Hello"",         success: function(response) {             console.log(jQuery.parseJSON(response).msg);         },         error: function (response) {             console.log(jQuery.parseJSON(response).msg);             alert(""Ajax error!"");         } }); </code></pre>  <p><br/>And then python will get request and send response:</p>  <pre class=""lang-py prettyprint-override""><code>@app.route('/my_data', methods=['GET', 'POST']) def ajax_data():     message = request.form['data']     print(message)     try:         return json.dumps({'msg': ""Message was successfully sent!""})     except Exception as e:         return json.dumps({'msg': ""Message send error : "" + e.message}) </code></pre>"
60521907	Can we pass a JavaScript variable to a Python file?	javascript|python|leaflet	2020-03-04 08:34:27.333000 UTC	"<p>I am developing a simple webpage GUI for my satellite images for a machine learning project. All the files are on my local machine and I intend to host the website locally as well. I have used plain Javascript and a third party library, Leaflet to display the image(kind of like a map). </p>  <p>The map displayed is basically a tiled version of image. I need to pass on the path of the tile (which I am currently storing in a js variable) to a python file which will use it to perform feature extraction of that particular tile.</p>  <p>Initially, I attempted to write it into a text file that the python program would read, but that displays a prompt everytime for downloading the file. Most of the other solutions involved FS module of NodeJS.</p>  <p>I am sorry if it is a very simple question I am a beginner and could not find any answer on the above (almost every answer uses some flavor of js)</p>"	"<p>Did you try using Flask micro web-framework ? It is the easiest way of integrating ML projects with web. </p>  <p>Check these videos if it helps </p>  <p><a href=""https://www.youtube.com/watch?v=CSEmUmkfb8Q&amp;t=154s"" rel=""nofollow noreferrer"">Deploying deep learning using flask for an image recogntion project</a></p>  <p><a href=""https://www.youtube.com/watch?v=UbCWoMf80PY&amp;t=1s"" rel=""nofollow noreferrer"">Deploy ML model using flask</a></p>"
60524402	Simple Algorithm From Javascript to Python code not producing same result	javascript|python|algorithm|encryption	2020-03-04 10:51:57.807000 UTC	"<p>I have this simple decrypt function in <strong>JavaScript</strong>:</p>  <pre><code>e.decrypt = function(t) {             var n, i = """", o = t.length, r = 0, s = 0;             for (r = 0; o &gt; r; r++) {                 for (n = t.substr(r, 1),                 s = 0; s &lt; e.MAP_LEN; s++) {                     if ("":"" == n &amp;&amp; "":|~"" == t.substr(r, 3)) {                         n = ""\n"",                         r += 2;                         break                     }                     if (n == e.charMap[s][1]) {                         n = e.charMap[s][0];                         break                     }                 }                 i += n             }             return i         }         ,         e.MAP_LEN = 64,         e.charMap = [[""A"", ""d""], [""B"", ""e""], [""C"", ""f""], [""D"", ""g""], [""E"", ""h""], [""F"", ""i""], [""G"", ""j""], [""H"", ""k""], [""I"", ""l""], [""J"", ""m""], [""K"", ""n""], [""L"", ""o""], [""M"", ""p""], [""N"", ""q""], [""O"", ""r""], [""P"", ""s""], [""Q"", ""t""], [""R"", ""u""], [""S"", ""v""], [""T"", ""w""], [""U"", ""x""], [""V"", ""y""], [""W"", ""z""], [""X"", ""a""], [""Y"", ""b""], [""Z"", ""c""], [""a"", ""Q""], [""b"", ""R""], [""c"", ""S""], [""d"", ""T""], [""e"", ""U""], [""f"", ""V""], [""g"", ""W""], [""h"", ""X""], [""i"", ""Y""], [""j"", ""Z""], [""k"", ""A""], [""l"", ""B""], [""m"", ""C""], [""n"", ""D""], [""o"", ""E""], [""p"", ""F""], [""q"", ""0""], [""r"", ""1""], [""s"", ""2""], [""t"", ""3""], [""u"", ""4""], [""v"", ""5""], [""w"", ""6""], [""x"", ""7""], [""y"", ""8""], [""z"", ""9""], [""0"", ""G""], [""1"", ""H""], [""2"", ""I""], [""3"", ""J""], [""4"", ""K""], [""5"", ""L""], [""6"", ""M""], [""7"", ""N""], [""8"", ""O""], [""9"", ""P""], [""\n"", "":|~""], [""\r"", """"]],         e </code></pre>  <p>Then, this is the <strong>Python</strong> version that I've made:</p>  <pre><code>def decryptToken(t):     n = """"     i = """"     o = len(t)     r = 0     s = 0     MAP_LEN = 64     charMap = [[""A"", ""d""], [""B"", ""e""], [""C"", ""f""], [""D"", ""g""], [""E"", ""h""], [""F"", ""i""], [""G"", ""j""], [""H"", ""k""], [""I"", ""l""], [""J"", ""m""], [""K"", ""n""], [""L"", ""o""], [""M"", ""p""], [""N"", ""q""], [""O"", ""r""], [""P"", ""s""], [""Q"", ""t""], [""R"", ""u""], [""S"", ""v""], [""T"", ""w""], [""U"", ""x""], [""V"", ""y""], [""W"", ""z""], [""X"", ""a""], [""Y"", ""b""], [""Z"", ""c""], [""a"", ""Q""], [""b"", ""R""], [""c"", ""S""], [""d"", ""T""], [""e"", ""U""], [""f"", ""V""], [""g"", ""W""], [""h"", ""X""], [""i"", ""Y""], [""j"", ""Z""], [""k"", ""A""], [""l"", ""B""], [""m"", ""C""], [""n"", ""D""], [""o"", ""E""], [""p"", ""F""], [""q"", ""0""], [""r"", ""1""], [""s"", ""2""], [""t"", ""3""], [""u"", ""4""], [""v"", ""5""], [""w"", ""6""], [""x"", ""7""], [""y"", ""8""], [""z"", ""9""], [""0"", ""G""], [""1"", ""H""], [""2"", ""I""], [""3"", ""J""], [""4"", ""K""], [""5"", ""L""], [""6"", ""M""], [""7"", ""N""], [""8"", ""O""], [""9"", ""P""], [""\n"", "":|~""], [""\r"", """"]]      for r in range (0,o):         for s in range(0,MAP_LEN):             n = t[r:1]             if "":"" == n and "":|~"" == t[r:3]:                 n = ""\n""                 r = r + 2                 break             if n == charMap[s][1]:                 n = charMap[s][0]                 break         i=i+n     return i </code></pre>  <p>If you test with this token <code>PEqVaW==.VdDjVbbgQU6y3fBGWfn7UDKmOXFUsLK9e5byiPSULUd=</code> with the <strong>Javascript</strong> version, you should get this <strong>result</strong>:</p>  <blockquote>   <p>9oNfXg==.fAnGfYYDaewVtCl0gCKxen4J8hpeP54zBvYVF9ce5eA=</p> </blockquote>  <p>But in <strong>Python</strong> this the output:</p>  <blockquote>   <p>9</p> </blockquote>  <p>What am I doing wrong?</p>"	
60528792	How to combine javascript/react frontend and python backend?	python|reactjs|frontend|backend	2020-03-04 14:54:37.130000 UTC	"<p><br> I'm not quite sure if my question is a duplicate, but I wasn't able to find something helping me in my case.  <br><br><strong>Set Up</strong><br> I've built a frontend webpage which contains a couple of services, for example show some timeseries and other information about my system. The website is build with the react framework and so using javascript in general. <br> Now I want to do some calculations about the timeseries for example calculate the similarity and other features of my sensordata. For that I'm using python which offers me a lot of libraries I've used for a long time and are easy to use.<br><br><br><strong>What I'm looking for:</strong> <br>I'm looking for a very simple way to call my backend-timeseries-analysis-python script from the react GUI passing some variables like the length of the series. Also I want to process the returned values and safe the current values needed for normalization (like max,min) for further calculations. <br><br> So the procedure would look like the following:<br></p>  <pre><code>1) Type value in react frontend input box 2) react/javascript calls pythonscript/ initialize a class and passes variables to class 3) python calculates similarity of sensor data  4) python returns similarity values to frontend and saves classes for later call 5) react displays returned values 6) react/javascript calls pythonscript 7) python compares latest data to past data and refreshs treshholds(like max, min) 8) python calculates similarity of sensor data  9) continue..  </code></pre>  <p>Thanks for your help! </p>  <p><a href=""https://i.stack.imgur.com/mPamU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/mPamU.png"" alt=""System set up""></a></p>"	"<p>You can expose your Python scripts on a REST API which will be called by your React frontend. Database connection will be made by this API, and the response is sent to your frontend.</p>  <p>See <a href=""https://flask.palletsprojects.com/en/1.1.x/"" rel=""noreferrer"">Flask</a> (very simple for small projects) or even <a href=""https://www.djangoproject.com/"" rel=""noreferrer"">Django</a> to build Python APIs.</p>"
60528792	How to combine javascript/react frontend and python backend?	python|reactjs|frontend|backend	2020-03-04 14:54:37.130000 UTC	"<p><br> I'm not quite sure if my question is a duplicate, but I wasn't able to find something helping me in my case.  <br><br><strong>Set Up</strong><br> I've built a frontend webpage which contains a couple of services, for example show some timeseries and other information about my system. The website is build with the react framework and so using javascript in general. <br> Now I want to do some calculations about the timeseries for example calculate the similarity and other features of my sensordata. For that I'm using python which offers me a lot of libraries I've used for a long time and are easy to use.<br><br><br><strong>What I'm looking for:</strong> <br>I'm looking for a very simple way to call my backend-timeseries-analysis-python script from the react GUI passing some variables like the length of the series. Also I want to process the returned values and safe the current values needed for normalization (like max,min) for further calculations. <br><br> So the procedure would look like the following:<br></p>  <pre><code>1) Type value in react frontend input box 2) react/javascript calls pythonscript/ initialize a class and passes variables to class 3) python calculates similarity of sensor data  4) python returns similarity values to frontend and saves classes for later call 5) react displays returned values 6) react/javascript calls pythonscript 7) python compares latest data to past data and refreshs treshholds(like max, min) 8) python calculates similarity of sensor data  9) continue..  </code></pre>  <p>Thanks for your help! </p>  <p><a href=""https://i.stack.imgur.com/mPamU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/mPamU.png"" alt=""System set up""></a></p>"	<p>Check out Streamlit. It's a very good alternative to Flask /Django. I am a backend python guy and have no experience in using frontend but I was able to spin up the front end quickly with Streamlit.</p>
60531184	How to extract content in specific javascript tagsin python?	python|beautifulsoup	2020-03-04 17:01:58.123000 UTC	"<p>I am trying to extract the entire schedule and results of the Dota2 TI9 international from <a href=""http://www.dota2.com/international/schedule/0/0/?l=english"" rel=""nofollow noreferrer"">this page</a>. The information I seek is under a  tag and under 'schedule_data'.</p>  <p>So far this is what I have got </p>  <pre><code>import requests, re, json from bs4 import BeautifulSoup as bs url = 'http://www.dota2.com/international/schedule/0/0/?l=english' page = requests.get(url) soup = bs(page.text,'html.parser') all_javascript = soup.find_all(name='script',type='text/javascript') all_javascript[:] = [x for x in all_javascript if(re.search(""schedule_data"",x.text))]   data = all_javascript[0] new_data = json.loads(data.text) </code></pre>  <p>I find all the 'script' tags and then search for the 'schedule_data' pattern to identify the tag I need. However, now the last line fails with the error</p>  <pre><code>new_data = json.loads(data.text) Traceback (most recent call last):    File ""&lt;ipython-input-68-447d26a16d5b&gt;"", line 1, in &lt;module&gt;     new_data = json.loads(data.text)    File ""C:\Users\templ\Anaconda3\lib\json\__init__.py"", line 348, in loads     return _default_decoder.decode(s)    File ""C:\Users\templ\Anaconda3\lib\json\decoder.py"", line 337, in decode     obj, end = self.raw_decode(s, idx=_w(s, 0).end())    File ""C:\Users\templ\Anaconda3\lib\json\decoder.py"", line 355, in raw_decode     raise JSONDecodeError(""Expecting value"", s, err.value) from None  JSONDecodeError: Expecting value </code></pre>  <p>I looked at the solution here <a href=""https://stackoverflow.com/questions/26192727/extract-content-of-script-with-beautifulsoup"">json loads example</a>, <a href=""https://stackoverflow.com/questions/34573197/python-error-load-json-code-of-google-api"">Here</a> and <a href=""https://stackoverflow.com/questions/16573332/jsondecodeerror-expecting-value-line-1-column-1-char-0"">here</a>, but  none of these resolve the issue. These examples seem to suggest that it is a url request failure or a translation error that leads to json loads failure, but I have neither of these. </p>  <pre><code>print(type(data.text)) </code></pre>  <p>returns str for me which i understand to be the correct data type for json loads.</p>  <p>Please help</p>"	"<p>Please check out this.</p>  <pre><code>import requests, re, json import ast  from bs4 import BeautifulSoup as bs url = 'http://www.dota2.com/international/schedule/0/0/?l=english' page = requests.get(url) soup = bs(page.text,'html.parser') all_javascript = soup.find_all(name='script',type='text/javascript')  for x in all_javascript:     if re.search(""schedule_data"", x.text):         data = str(x).split(""$( '#ScheduleArea' ).tournamentSchedule("")[1].split(');')[0].strip().replace('\n', '').replace('\t', '').replace('\r', '')         data_dict = ast.literal_eval(data)         print(data_dict['schedule_data'])  </code></pre>"
60550723	need to communicate between python and javascript	javascript|python|jquery|ajax	2020-03-05 17:12:32.323000 UTC	"<p>Before I say anything I would like to mention that this question might get flagged as a duplicate, however I have visited at least 10 other questions like this, but none of them were able to answer how to do this.</p>  <p>I am currently working on the beginning stages of a project currently all it has is an html/css file a js file and a py file, my problem is that I need to send some information to the python file from the JavaScript file, and than receive back some information that JavaScript will print to the UI.</p>  <p>I've read that your supposed to use JSON to do this and your supposed to use the Jquery ajax method, but when I attempt to use post it throws an error, also the site is currently on a local web server. </p>"	"<p>The reason you can't find it is because your question is nonsensical (not in a bad way, it's just words that make sense individually, but not put together). </p>  <p>You cannot send information ""between files"". You can send information from one process to another. </p>  <p>If the Python file contains a valid Python program, you can run that program with the Python interpreter, and send / receive data from that program. </p>  <p>How you do that depends on what that program is and how it works. </p>  <p>JavaScript will be running in a web browser by the sound of it, so the Python program will probably need to be a web server for ""the JavaScript code running in the browser"" (not the ""JavaScript file"") to be able to communicate with it.</p>"
60550723	need to communicate between python and javascript	javascript|python|jquery|ajax	2020-03-05 17:12:32.323000 UTC	"<p>Before I say anything I would like to mention that this question might get flagged as a duplicate, however I have visited at least 10 other questions like this, but none of them were able to answer how to do this.</p>  <p>I am currently working on the beginning stages of a project currently all it has is an html/css file a js file and a py file, my problem is that I need to send some information to the python file from the JavaScript file, and than receive back some information that JavaScript will print to the UI.</p>  <p>I've read that your supposed to use JSON to do this and your supposed to use the Jquery ajax method, but when I attempt to use post it throws an error, also the site is currently on a local web server. </p>"	"<p>To send JS data to a python program, process the data in python, then send it back to your JS, you need to make the python program a <a href=""https://docs.python.org/3/library/http.server.html"" rel=""nofollow noreferrer"">web server</a>. You could use a separate server as a middleman, but that is not needed for this simple task.</p>  <p>On your python web server, you need to define a POST endpoint that your JS can reach via <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"" rel=""nofollow noreferrer"">fetch()</a>. In that endpoint (a function), you process the JSON sent and send back whatever response you want.</p>  <p>Control Flow:</p>  <ol> <li>fetch('<a href=""http://localhost:PORTNUMBERHERE"" rel=""nofollow noreferrer"">http://localhost:PORTNUMBERHERE</a>', {method: 'post', body: JSON.stringify(data)})</li> <li>python POST method (I don't have experience with python but the link above should suffice)</li> <li>handle the promise returned by fetch when it resolves and feed it into something rendered</li> </ol>"
60584184	Why isn't CSS and Javascript recognized when executing from python?	javascript|python|html|css|django	2020-03-08 03:16:00.260000 UTC	"<p>I'm currently building a website using Django and I've noticed that whenever I execute <code>python manage.py runserver</code> the CSS and Javascript isn't working at all. The HTML is working perfectly but somehow the CSS and JS doesn't get recognized at all.</p>  <p>However, when I open the HTML file, the CSS and JS works perfectly, so there is nothing wrong with the CSS and JS files. Somehow it doesn't get recognized when I run the server from python. </p>  <p>Is there a reason for this? </p>  <p>Here is some code:</p>  <p>Views.py</p>  <pre><code>from django.shortcuts import render from django.http import HttpResponse import json from django.views.decorators.csrf import csrf_exempt  from chatterbot import ChatBot  # Create your views here. chatbot = ChatBot(     'Ron Obvious',     trainer='chatterbot.trainers.ChatterBotCorpusTrainer' )  @csrf_exempt def get_response(request):     response = {'status': None}      if request.method == 'POST':         data = json.loads(request.body.decode('utf-8'))         message = data['message']          chat_response = chatbot.get_response(message).text         response['message'] = {'text': chat_response, 'user': False, 'chat_bot': True}         response['status'] = 'ok'      else:         response['error'] = 'no post data found'      return HttpResponse(         json.dumps(response),             content_type=""application/json""         )  def Index (request):     context = {'title': 'Chatbot Version 1.0'}      return render(request, ""AI.html"", context) </code></pre>  <p>Settings.py</p>  <pre><code>import os  # Build paths inside the project like this: os.path.join(BASE_DIR, ...) BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))  project_root = os.path.abspath(os.path.dirname(__file__))  STATIC_DIRS = (     os.path.join(project_root, 'static'), ) INSTALLED_APPS = [     'django.contrib.admin',     'django.contrib.auth',     'django.contrib.contenttypes',     'django.contrib.sessions',     'django.contrib.messages',     'django.contrib.staticfiles',     'MyApp',  ]  MIDDLEWARE = [     'django.middleware.security.SecurityMiddleware',     'django.contrib.sessions.middleware.SessionMiddleware',     'django.middleware.common.CommonMiddleware',     'django.middleware.csrf.CsrfViewMiddleware',     'django.contrib.auth.middleware.AuthenticationMiddleware',     'django.contrib.messages.middleware.MessageMiddleware',     'django.middleware.clickjacking.XFrameOptionsMiddleware', ]  ROOT_URLCONF = 'MySite.urls'  TEMPLATES = [     {         'BACKEND': 'django.template.backends.django.DjangoTemplates',         'DIRS': [os.path.join(BASE_DIR, 'Templates')],         'APP_DIRS': True,         'OPTIONS': {             'context_processors': [                 'django.template.context_processors.debug',                 'django.template.context_processors.request',                 'django.contrib.auth.context_processors.auth',                 'django.contrib.messages.context_processors.messages',             ],         },     }, ]  WSGI_APPLICATION = 'MySite.wsgi.application' </code></pre>  <p>Here is how the maps are organized  <a href=""https://i.stack.imgur.com/j6KLc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/j6KLc.png"" alt=""enter image description here""></a></p>  <p>I get the following error message in devtools:</p>  <blockquote>   <p>Refused to apply style from   '<a href=""http://127.0.0.1:8000/MySite/MySite/static/css/AI.css"" rel=""nofollow noreferrer"">http://127.0.0.1:8000/MySite/MySite/static/css/AI.css</a>' because its   MIME type ('text/html') is not a supported stylesheet MIME type, and   strict MIME checking is enabled.</p> </blockquote>"	
60588202	Python selenium set value of textarea with javascript doen'ts work	javascript|python|selenium	2020-03-08 13:54:38.137000 UTC	"<p>I use chrome driver to send text by send_key method in the beginning. But according to <a href=""https://stackoverflow.com/questions/45330640/python-selenium-send-keys-emoji-support"">this question</a>,chrome driver does not seem to support sending emoji. So I use a script injection to send emoji according to the link.   </p>  <p>Here is the code, I use send_key and javascript to send text for testing:</p>  <pre><code>reply_area = WebDriverWait(self.webdriver,1).until(expected_conditions.element_to_be_clickable(locator_)) reply_area.send_keys(""Send_key"") JS_ADD_TEXT_TO_INPUT =""""""                       var element = arguments[0], txt = arguments[1];                       element.value += txt;                       element.dispatchEvent(new Event('change'));                       """""" txt = ""\n"" \       ""\n"" \       """" self.webdriver.execute_script(JS_ADD_TEXT_TO_INPUT, reply_area, txt) </code></pre>  <p>It seems work by this image. But the number of text is wrong. <a href=""https://i.stack.imgur.com/iKHXC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iKHXC.png"" alt=""enter image description here""></a> <br> <br> <br> <br> And after I click the text area on the website, only the text sent by send_key() is left. <a href=""https://i.stack.imgur.com/CthkM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CthkM.png"" alt=""enter image description here""></a></p>  <p>I know I can use GeckoDriver to send emoji by send_key() according to <a href=""https://stackoverflow.com/questions/59138825/chromedriver-only-supports-characters-in-the-bmp-error-while-sending-emoji-with"">this</a>, but I want to understand thoroughly, and it seems work by the comment left below the question.  The website I tested can only be seen when you are a seller, so I can't provide the url for testing.</p>  <p>Thank you All.</p>  <p><strong>[Updated]</strong> Here is the html. </p>  <pre><code>&lt;div data-v-4e626831="""" class=""reply-comment""&gt;     &lt;div data-v-4e626831="""" class=""shopee-input shopee-input__area""&gt;         &lt;textarea type=""textarea"" placeholder=""Please enter your reply"" resize=""none"" rows=""2"" minrows=""2"" maxlength=""500"" restrictiontype=""input"" class=""shopee-input__inner shopee-input__inner--normal"" style=""resize: none; min-height: 71px;""&gt;&lt;/textarea&gt;      &lt;/div&gt;     &lt;div data-v-4e626831="""" class=""des""&gt;30/500&lt;/div&gt; &lt;!-- This is the number of word --&gt; &lt;/div&gt; </code></pre>"	
60589176	how to properly get data from javascript to my python flask backend using XMLHttpRequest?	javascript|python|flask	2020-03-08 15:47:21.790000 UTC	"<p>So I am trying to send a value to my backend flask python and process the data there and return it back, but after trying for hours all I got are error codes, 400 or 500. Please help me!</p>  <p>Here's my js code:</p>  <pre><code>var keyword = document.getElementById(""keyword"").value; var xmlhttp = new XMLHttpRequest(); xmlhttp.open('GET', '/searchresults', true); xmlhttp.send(""keyword="" + keyword); console.log(""SUCCESSFULLY SENT""); </code></pre>  <p>and my python code:</p>  <pre><code>@app.route(""/searchresults"") def test():  return request.args.get['keyword'] </code></pre>  <p>my form:</p>  <pre><code>&lt;form id=""searchform""&gt; &lt;label for=""keyword""&gt;Keyword &lt;span class=""required""&gt;*&lt;/span&gt; &lt;/label&gt; &lt;input type=""text"" id=""keyword"" name=""keyword"" size=""15"" required&gt; &lt;/form&gt; </code></pre>  <h2>EDIT:</h2>  <p>I checked the network to make sure that the request is sent. Please correct me if it's not. <a href=""https://i.stack.imgur.com/UDsQt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UDsQt.png"" alt=""enter image description here""></a></p>"	"<p>You are trying to send a request body (<code>xmlhttp.send(""keyword="" + keyword)</code>) with the keyword, but you are using the <code>GET</code> HTTP method, which does not allow a request body, so <code>keyword=bla</code> will never be part of the request.</p>  <h3>Pass variables with a <code>GET</code> request</h3>  <pre><code>xmlhttp.open('GET', '/searchresults?keyword=' + keyword, true); xmlhttp.send(); </code></pre>  <p>The Flask code is also wrong. <code>.get()</code> is a function, but it's being used as if it were a dictionary. </p>  <p>Call it as a function:</p>  <pre><code>keyword = request.args.get('keyword') </code></pre>  <h3>Pass variables with a <code>POST</code> request</h3>  <pre><code>xmlhttp.open('POST', '/searchresults', true); xmlhttp.send(""keyword="" + keyword); </code></pre>  <p>You'll have to change your Flask code to look in the request body instead of the args:</p>  <pre><code>keyword = request.form.get('keyword') </code></pre>"
60596972	Sending data from Python to Javascript using EEL	javascript|python|eel	2020-03-09 08:34:19.173000 UTC	"<p>I am trying to send data from python to Javascript using EEL and their documentation and it does not seem to work... I keep getting null in my html / js page. </p>  <p>Here is what I have. Basically I want to get the link of the BING wallpaper and use it in my page as a background. But until then, I want to first get the result.</p>  <p>BING py script:</p>  <pre><code>import bs4 import requests import json   def scrape_bing():    BASE_PATH = 'http://www.bing.com'    BASE_REST = '/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;mkt=en-US'    URL = BASE_PATH + BASE_REST     r = requests.get(url=URL)     if r.status_code == 200:       data = r.json()       wallpaper_path = BASE_PATH + data['images'][0]['url']       print(wallpaper_path)    else:       raise ValueError(""[ERROR] non-200 response from Bing server for '{}'"".format(URL))     def main():       scrape_bing()     if __name__ == '__main__':       main() </code></pre>  <p>The script works and it returns my URL in the Python console.</p>  <p>My main.py which has EEL is as following:</p>  <pre><code>import eel from inc.bing import scrape_bing  eel.init('web')  myDef = scrape_bing()  @eel.expose def bingR():    return myDef  try:    eel.start('index.html', mode='chrome', host='localhost', port=8274)  except (SystemExit, MemoryError, KeyboardInterrupt):    pass  print ('Closed browser log...!') </code></pre>  <p>I have used an async command just as in their examples, like so: </p>  <pre><code>    &lt;script type=""text/javascript"" src=""/eel.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript""&gt;      async function run() {         let n = await eel.bingR()();         console.log('Got this from Python: ' + n);     }      run();      &lt;/script&gt; </code></pre>  <p>Please help me understand how all this works.</p>"	"<p>Not sure if you accidentally formatted your code wrong, but it's a little off. Also you imported bs4 and json when you don't need to.</p>  <p>Your scrape_bing() function was not returning anything. It needs to return a value to  ""<strong>myDef</strong>"" when assigning it in ""<strong>myDef = scrape_bing()</strong>"".</p>  <p>I changed yours up a bit and came up with this example that will hopefully get you started. Hope this helps.</p>  <hr>  <p><strong>main.py</strong></p>  <pre><code>import eel import requests  eel.init('web')  @eel.expose def bingR():     BASE_PATH = 'http://www.bing.com'     BASE_REST = '/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;mkt=en-US'     URL = BASE_PATH + BASE_REST     r = requests.get(url=URL)     if r.status_code == 200:         data = r.json()         wallpaper_path = BASE_PATH + data['images'][0]['url']         print(wallpaper_path)         return wallpaper_path     return 'No wallpaper found'  try:     eel.start('index.html', mode='chrome', host='localhost', port=8274) except (SystemExit, MemoryError, KeyboardInterrupt):     pass  print ('Closed browser log...!') </code></pre>  <p><strong>web\myscript.js</strong></p>  <pre><code>async function run() {     let n = await eel.bingR()();     console.log('Got this from Python: ' + n);     document.getElementById('output').value = n; } run(); </code></pre>  <p><strong>web\index.html</strong></p>  <pre><code>&lt;!doctype html&gt; &lt;html lang=""en""&gt; &lt;head&gt;   &lt;meta charset=""utf-8""&gt;   &lt;title&gt;Test&lt;/title&gt; &lt;/head&gt; &lt;body&gt;   &lt;script type=""text/javascript"" src=""/eel.js""&gt;&lt;/script&gt;   &lt;script type=""text/javascript"" src=""/myscript.js""&gt;&lt;/script&gt;   &lt;input id=""output"" value=""Output here"" style=""width: 700px;""&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Also thanks for introducing me to eel. First time using it and really like it :)</p>"
60598338	How to send a variable from python file to javascript file?	javascript|python|python-3.x|pyqt|pyqt5	2020-03-09 10:09:30.133000 UTC	"<p>I have been creating a desktop application using pyqt5. In my application, there is a tab widget and inside that tab widget, there is a ""start"" button. So, after clicking that button a list of latitudes and longitudes is generated.</p>  <p>I want to send this list to a javascript file(I am using leaflet.js to create a map), such that I can make a map using this information. How can I send this list to a javascript file from my python application?</p>  <pre><code>class App(QMainWindow):     def __init__(self):         super().__init__()         self.title = 'Delivering &amp; Tracking'         self.setWindowTitle(self.title)          self.tab_widget = MyTabWidget(self)         self.setCentralWidget(self.tab_widget)          self.showFullScreen()  class MyTabWidget(QWidget):     def __init__(self, parent):         super(QWidget, self).__init__(parent)         self.layout = QVBoxLayout(self)          #Initialize tab screen         self.tabs = QTabWidget()         self.map_tab = Maps()          self.tabs.resize(300,200)          self.tabs.addTab(self.map_tab,QIcon(""./icons and images/tab_map.png""), ('Map'))          self.layout.addWidget(self.tabs)         self.setLayout(self.layout)  class Maps(QWidget):     def __init__(self):         super().__init__()          self.startButton()      def startButton(self):         button = QPushButton(""Start"", self)         button.move(655, 415)         button.clicked.connect(self.map)          self.show()      def map(self):         #A list is generated in this function.         latlon = []  if __name__ == '__main__':     app = QApplication(sys.argv)     ex = App()     sys.exit(app.exec_()) </code></pre>  <p>The latlon list which is generated inside the map function, I want to send list to a javascript file, such that I can use it to a map.</p>"	"<p>I haven't done this before but it seems from <a href=""https://snorfalorpagus.net/blog/2014/09/13/embedding-a-leaflet-map-in-a-qt-application/"" rel=""nofollow noreferrer"">https://snorfalorpagus.net/blog/2014/09/13/embedding-a-leaflet-map-in-a-qt-application/</a> that you can have a javascript file on the server and simply inject the coordinates into it before evaluating the script in the frame.</p>  <p>If your javascript file has the following format:</p>  <pre><code>// map_source.js // a lot of javascript map.panTo(new L.LatLng($lat$, $long$)); // more javascript // file end </code></pre>  <p>Then you can inject a longitude and latitude in the following way:</p>  <pre><code>def map(self):     #A list is generated in this function.     latlon = [latitude_value, longitude_value]     with open('map_source.js', 'r') as f:         lines = '&lt;my custom newline&gt;'.join(f.readlines())      # substitute latitude     lines = lines.replace('$lat$',str(latlon[0]))     # substitute longitude     lines = lines.replace('$long$',str(latlon[1]))     # Now write the file back     with open('map_source.js', 'w') as f:         f.writelines(lines.split('&lt;my custom newline&gt;')) </code></pre>"
60598338	How to send a variable from python file to javascript file?	javascript|python|python-3.x|pyqt|pyqt5	2020-03-09 10:09:30.133000 UTC	"<p>I have been creating a desktop application using pyqt5. In my application, there is a tab widget and inside that tab widget, there is a ""start"" button. So, after clicking that button a list of latitudes and longitudes is generated.</p>  <p>I want to send this list to a javascript file(I am using leaflet.js to create a map), such that I can make a map using this information. How can I send this list to a javascript file from my python application?</p>  <pre><code>class App(QMainWindow):     def __init__(self):         super().__init__()         self.title = 'Delivering &amp; Tracking'         self.setWindowTitle(self.title)          self.tab_widget = MyTabWidget(self)         self.setCentralWidget(self.tab_widget)          self.showFullScreen()  class MyTabWidget(QWidget):     def __init__(self, parent):         super(QWidget, self).__init__(parent)         self.layout = QVBoxLayout(self)          #Initialize tab screen         self.tabs = QTabWidget()         self.map_tab = Maps()          self.tabs.resize(300,200)          self.tabs.addTab(self.map_tab,QIcon(""./icons and images/tab_map.png""), ('Map'))          self.layout.addWidget(self.tabs)         self.setLayout(self.layout)  class Maps(QWidget):     def __init__(self):         super().__init__()          self.startButton()      def startButton(self):         button = QPushButton(""Start"", self)         button.move(655, 415)         button.clicked.connect(self.map)          self.show()      def map(self):         #A list is generated in this function.         latlon = []  if __name__ == '__main__':     app = QApplication(sys.argv)     ex = App()     sys.exit(app.exec_()) </code></pre>  <p>The latlon list which is generated inside the map function, I want to send list to a javascript file, such that I can use it to a map.</p>"	"<p>I would probably write the list to a file of whatever format makes the most sense, and then read from that file with the javascript that you're using!</p>  <p>For example (to write):</p>  <pre><code>with open(""test.txt"", ""a"") as f:     for coord in latlon:         f.write(coord + ""\n"") </code></pre>  <p>For example (to read, I personally don't know javascript so this might be a bad solution):</p>  <pre><code>const fs = require(""fs"");  fs.readFile(""test.txt"", ""utf-8"", (err, data) =&gt; {     if (err) throw err;     console.log(data); }); </code></pre>"
60602550	send post data from javascript to python server	javascript|python|ajax|server	2020-03-09 14:24:13.607000 UTC	"<p>I am trying to record audio with JavaScript and send it to a Python server. As for now, I have run it and the record works fine. Using AJAX to post and get data, I am trying to pass it, but it doesn't work to send to Python.</p>  <p>Here is my code:</p>  <p>JavaScript:</p>  <pre><code>function submit(blob) {   var reader = new window.FileReader();   reader.readAsDataURL(blob);   reader.onloadend = function() {     var fd = new FormData();     base64data = reader.result;     console.log(base64data);     fd.append('file', base64data, 'audio.ogg');     $.ajax({       type: 'POST',       url: '/',       data: fd,       cache: false,       processData: false,       contentType: false,       enctype: 'multipart/form-data'     }).done(function(data) {       console.log(data);     });   } </code></pre>  <p>Python Server:</p>  <pre><code>from flask import Flask, render_template, request      app = Flask(__name__)      @app.route('/')      def home():          return render_template(""index.html"")       @app.route('/', methods=['POST', 'GET'])      def get_data():              with open('./audio.ogg', 'wb') as f:                  f.write(request.data)              f.close()              print(""FILE CLOSED"")              return render_template(""index.html"")      if __name__ == '__main__':        app.run(debug=True) </code></pre>"	"<p>In your JavaScript you're trying to send a string as a file, you should be sending a file/blob.<br> See Below</p>  <pre><code>function submit(blob) {     var fd = new FormData();     fd.append('file', blob, 'audio.ogg');     $.ajax({       type: 'POST',       url: '/',       data: fd,       cache: false,       processData: false,       contentType: false     }).done(function(data) {       console.log(data);     }); } </code></pre>  <p>In you server side code you should use <code>request.files</code> to access the uploaded files. </p>  <pre><code>from flask import Flask, render_template, request      app = Flask(__name__)      @app.route('/')      def home():          return render_template(""index.html"")       @app.route('/', methods=['POST', 'GET'])      def get_data():              request.files[""file""].save('./audio.ogg')              print(""FILE CLOSED"")              return render_template(""index.html"")      if __name__ == '__main__':        app.run(debug=True) </code></pre>"
60637417	How can I use Selenium in Python to get JavaScript element?	javascript|python|selenium|parsing|web-scraping	2020-03-11 13:40:04.330000 UTC	"<p>I would like to parse ""disabled"", but I'm unable to do so using Beautiful Soup. How can I use Selenium in Python to parse ""disabled""? The website I'm parsing: <a href=""https://sport.woot.com/offers/asics-mens-clearance-calculator?ref=w_cnt_lnd_cat_sprt_18_1"" rel=""nofollow noreferrer"">https://sport.woot.com/offers/asics-mens-clearance-calculator?ref=w_cnt_lnd_cat_sprt_18_1</a>                                                                              Size</p>  <pre><code>                                    &lt;select id=""attr-size"" name=""Size""&gt;                                         &lt;option value=""none""&gt;- Select -&lt;/option&gt;                                             &lt;option value=""6.5""&gt;6.5&lt;/option&gt;                                             &lt;option value=""8""&gt;8&lt;/option&gt;                                             &lt;option value=""8.5"" disabled=""""&gt;8.5&lt;/option&gt;                                             &lt;option value=""9.5""&gt;9.5&lt;/option&gt;                                             &lt;option value=""10""&gt;10&lt;/option&gt;                                             &lt;option value=""10.5""&gt;10.5&lt;/option&gt;                                             &lt;option value=""11""&gt;11&lt;/option&gt;                                             &lt;option value=""12"" disabled=""""&gt;12&lt;/option&gt;                                             &lt;option value=""13"" disabled=""""&gt;13&lt;/option&gt;                                             &lt;option value=""14"" disabled=""""&gt;14&lt;/option&gt;                                             &lt;option value=""12 Wide US""&gt;12 Wide US&lt;/option&gt;                                             &lt;option value=""13 (4E)"" disabled=""""&gt;13 (4E)&lt;/option&gt;                                     &lt;/select&gt;                                 &lt;/div&gt; </code></pre>  <p>attempt:</p>  <pre><code>from selenium import webdriver import geckodriver_autoinstaller driver = webdriver.Firefox() driver.get(""https://sport.woot.com/offers/asics-mens-clearance-calculator?  ref=w_cnt_lnd_cat_sprt_18_1"") disabled_sizes = driver.find_element_by_class_name(""disabled"") my_disabled_sizes = [] try:     for disabled_size in disabled_sizes:         try:             my_disabled_sizes.append(disabled_sizes.text)          except:             pass except:     pass try:     print(my_disabled_sizes[1:])  # skip first element then start listing  disabled sizes except:     pass </code></pre>"	"<p>You can use the below xpath to get all the options with <code>disabled</code> attribute.</p>  <pre><code>//select[@id='attr-size']/option[@disabled] </code></pre>  <p>Here is the logic to get all disabled elements in python.</p>  <pre><code>disabled_elems =driver.find_elements_by_xpath(""//select[@id='attr-size']/option[@disabled]"") </code></pre>  <p><strong>Screenshot:</strong></p>  <p><a href=""https://i.stack.imgur.com/0JlW6.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0JlW6.gif"" alt=""enter image description here""></a></p>"
60651083	Passing an url from python to JavaScript in Flask	javascript|python|url|flask	2020-03-12 09:30:09.880000 UTC	"<p>I have this flask app</p>  <pre><code>@app.route('', methods=['POST']) def my_function():  (...some functions...)  map = some_url      return render_template (""main.html"", map = map) </code></pre>  <p>And I want to insert ""map"" into my JavaScript (.js is in /static):</p>  <pre><code> btn.addEventListener(""click"", function(){    var newMap = document.createElement(""IMG"");         newMap.setAttribute(""src"", ""{{map}}"");    newMap.setAttribute(""width"", ""300"");    newMap.setAttribute(""height"", ""300""); </code></pre>  <p>I do a <code>print(map)</code> before <code>return render_template</code> and it prints well but <code>newMap</code> is created but empty, like with no <code>src</code>.</p>"	"<p>There is an alternate solution which will work fine. You can create a hidden input and set its value to the map variable</p> <pre><code>&lt;input type=&quot;hidden&quot; value={{map}} id=&quot;inputId&quot;/&gt; </code></pre> <p>Now using javascript access the value and change setAtrribute second parmaeter to mapValue</p> <pre><code>mapValue = document.getElementById(&quot;inputId&quot;).value newMap.setAttribute(&quot;src&quot;, mapValue);                                    </code></pre>"
60659308	POST/GET Request w/JavaScript & Python files all together with an HTML site	javascript|python|html|post|get	2020-03-12 17:41:42.947000 UTC	"<p>I have an HTML site with nothing but a button with an on-click event that will call a JavaScript function with the sole purpose of generating a pop-up window. Said pop up should contain the response from a GET request made on a separate python file that has some code to talk to a payment gateway api. <strong>The problem</strong> is that the JavaScript pop-up comes up blank because I don't know how to integrate all 3 separate files. I have consulted tons of material with no luck. I have to mention that it will be better if no extra libraries are added up as this is for a future Odoo (ERP) implementation and that platform doesn't accept importing python libraries other that a selected few (as far as I know). The connection to the API works when you run the code via terminal, postman, insomnia, etc...I just need some help figuring out how to put everything together to come up via web browser. </p>  <p>Any help is greatly appreciated. This is the HTML Page:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=""en""&gt; &lt;head&gt;     &lt;meta charset=""UTF-8""&gt;     &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0""&gt;     &lt;title&gt;Serfinsa&lt;/title&gt; &lt;/head&gt; &lt;body&gt;      &lt;!-- Boton de Pago --&gt;     &lt;btPagar onclick=""popupwindow()""&gt;         &lt;a href=""https://test.serfinsacheckout.com:8080/"" id=""btPagar"" style=""float: left;""&gt;             &lt;img src=""https://test.serfinsacheckout.com:8080/img/btnpagar.png""&gt;         &lt;/a&gt;     &lt;/btPagar&gt;  &lt;/body&gt; &lt;script src=""serfinsa.js""&gt;&lt;/script&gt; &lt;script src=""https://test.serfinsacheckout.com:8080/Scripts/Serfinsa.Pay.js""&gt;&lt;/script&gt; &lt;script src=""https://code.jquery.com/jquery-3.4.1.slim.min.js""          integrity=""sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=""         crossorigin=""anonymous""&gt; &lt;/script&gt; &lt;/html&gt; </code></pre>  <p>This is the JavaScript POP-UP Window:</p>  <pre><code>function popupwindow(url, title, w, h) {     let left = (screen.width / 2) - (w / 2);     let top = (screen.height / 2) - (h / 2);     popup = window.open(url, title, 'toolbar=no, location=0, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top = '+top+', left = '+left+' ');     return popup; } </code></pre>  <p>This is the Python POST/GET request:</p>  <pre><code>import warnings import contextlib import requests from urllib3.exceptions import InsecureRequestWarning  old_merge_environment_settings = requests.Session.merge_environment_settings  @contextlib.contextmanager def no_ssl_verification():     opened_adapters = set()      def merge_environment_settings(self, url, proxies, stream, verify, cert):         # Verification happens only once per connection so we need to close         # all the opened adapters once we're done. Otherwise, the effects of         # verify=False persist beyond the end of this context manager.         opened_adapters.add(self.get_adapter(url))          settings = old_merge_environment_settings(self, url, proxies, stream, verify, cert)         settings['verify'] = False          return settings      requests.Session.merge_environment_settings = merge_environment_settings      try:         with warnings.catch_warnings():             warnings.simplefilter('ignore', InsecureRequestWarning)             yield     finally:         requests.Session.merge_environment_settings = old_merge_environment_settings          for adapter in opened_adapters:             try:                 adapter.close()             except:                 pass  idcliente = '97bd8cf4-e894-4cb5-b8cc-3fc31f79c81a' valor = 35.00 id_transaccioncomercio = 1001  get_url = 'https://test.serfinsacheckout.com:8080/Pay/GateWay?token=' + idcliente + '&amp;idTransaccion=2565' post_url = 'https://test.serfinsacheckout.com:8080/api/PayApi/TokeyTran'  payload = {     'TokeyComercio': idcliente,     'Monto': valor,     'IdTransaccionCliente': id_transaccioncomercio }  with no_ssl_verification():     r = requests.get(get_url)     # print(""Status Code: {} [OK]"".format(r.status_code))     print(r.content)  with no_ssl_verification():     r = requests.post(post_url, data = payload)     print(r.json())  Session = requests.Session() Session.verify = True </code></pre>"	
60679909	Extracting all JavaScript filenames from a log file using Python3	python-3.x|text-extraction	2020-03-14 05:07:50.543000 UTC	"<p>I am new to Python3 and working with textfiles. I am trying to extract all filenames from a log file that end in JavaScript (.js) extensions. The file contains other file extensions also. I want to return only the filename and not the path, sort the output alphabetically and display uniuqe values as there are repeats in the log entries. </p>  <p>Examples from the log file are: </p>  <p>72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.js HTTP/1.1"" 200 25139</p>  <p>22.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.jshowoff.js HTTP/1.1"" 200 25139</p>  <p>In this case I just want to return <strong>jquery.js</strong> and <strong>jquery.jshowoff.js</strong> and not the HTTP request and other log data.</p>  <p>This is my code so far:</p>  <pre><code>filepath = '/home/user/Documents/access_log.txt' with open(filepath, 'r') as access_log:     contents = access_log.readlines()     for line in contents:         if "".js"" in line:             print(line) </code></pre>  <p>My ouput does return only lines that contain <strong>.js</strong> in them but I don't know how to extract the rest. I have tried to use regex to match but have not been successful as I'm also new to using that. Any help would be greatly appreciated.</p>"	"<p>This can be done with regex, but I figured I'd give just a python solution. </p>  <p>The approach I took was to split each line based on the OS path character: <code>/</code>. For Windows OS this would be '\' (so keep that in mind if you want this to be cross-platform). This gives a list. Then we search each element in the list for "".js "". The space should always be there. The element with the filename will have extra stuff after the filename, so just split on "".js "" and only keep the first element of that split. I commented these pieces in the code too.</p>  <pre class=""lang-py prettyprint-override""><code>with open(filepath, 'r') as access_log:     contents = access_log.readlines()     log_filenames = []     for line in contents:         # log_filenames on mac/linux will use / so split on that then search for filename         for fragment in line.split('/'):             if "".js "" in fragment:                 # there will be text after .js, so remove it                 frags = fragment.split('.js ')                 # split on "".js "" will give us the base filename as first element of list                 basename = frags[0]                 filename = basename + '.js'                 log_filenames.append(filename)     # get unique values     log_filenames = list(set(log_filenames))     # sort     log_filenames.sort()     print('\n'.join(log_filenames)) </code></pre>  <p>Outputs:</p>  <pre class=""lang-py prettyprint-override""><code>jquery.js jquery.jshowoff.js </code></pre>  <p>Note: In getting unique values I converted the <code>set</code> back to a <code>list</code> just in case you're not used to working with <code>set</code>s. </p>"
60679909	Extracting all JavaScript filenames from a log file using Python3	python-3.x|text-extraction	2020-03-14 05:07:50.543000 UTC	"<p>I am new to Python3 and working with textfiles. I am trying to extract all filenames from a log file that end in JavaScript (.js) extensions. The file contains other file extensions also. I want to return only the filename and not the path, sort the output alphabetically and display uniuqe values as there are repeats in the log entries. </p>  <p>Examples from the log file are: </p>  <p>72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.js HTTP/1.1"" 200 25139</p>  <p>22.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.jshowoff.js HTTP/1.1"" 200 25139</p>  <p>In this case I just want to return <strong>jquery.js</strong> and <strong>jquery.jshowoff.js</strong> and not the HTTP request and other log data.</p>  <p>This is my code so far:</p>  <pre><code>filepath = '/home/user/Documents/access_log.txt' with open(filepath, 'r') as access_log:     contents = access_log.readlines()     for line in contents:         if "".js"" in line:             print(line) </code></pre>  <p>My ouput does return only lines that contain <strong>.js</strong> in them but I don't know how to extract the rest. I have tried to use regex to match but have not been successful as I'm also new to using that. Any help would be greatly appreciated.</p>"	"<p>Here is another pure-Python solution, using the following <code>logfile.txt</code> as my input:</p>  <pre><code>72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.js HTTP/1.1"" 200 25139 22.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/jquery.jshowoff.js HTTP/1.1"" 200 25139 72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /2468.js HTTP/1.1"" 200 25139 72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /Abcd.js HTTP/1.1"" 200 25139 22.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /abcd.js HTTP/1.1"" 200 25139 72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /aBcd.js HTTP/1.1"" 200 25139 22.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET / asd.js HTTP/1.1"" 200 25139 72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/index.html HTTP/1.1"" 200 25139 72.133.47.242 - - [25/Apr/2013:15:45:28 -0700] ""GET /include/login.jsp HTTP/1.1"" 200 25139 </code></pre>  <p>All the JavaScript filenames are stored in a <code>set</code>, since you only want unique values. Before being printed, they are sorted alphabetically.</p>  <p>It iterates over each line, finds the index of the first <code>.js</code> starting from the end of the string, then it finds the index of the first <code>/</code> starting from where it found the <code>.js</code>, heading towards the left.</p>  <p>The line is sliced using these 2 indexes to give us the filename. If <code>.js</code> is not found, <code>rfind</code> returns <code>-1</code>, which doesn't matter because we check at the end if the filename ends with <code>.js</code> before adding it to the <code>set</code>. You could use <code>rindex</code>, but you would need to handle the <code>ValueError</code> for lines that don't have <code>.js</code>.</p>  <pre><code>filenames = set()  with open(r""C:\Users\Old Joe\Desktop\logfile.txt"") as f:     for line in f:         end = line.rfind("".js"") + 3 # 3 = len("".js"")         start = line.rfind(""/"", 0, end) + 1 # 1 = len(""/"")         filename = line[start:end]         if filename.endswith("".js""):             filenames.add(filename)   for filename in sorted(filenames, key=str.lower):     print(filename) </code></pre>  <p>Output:</p>  <pre><code> asd.js 2468.js aBcd.js abcd.js Abcd.js jquery.js jquery.jshowoff.js login.js </code></pre>"
60697945	Pythonic way of accessing properties in Javascript	javascript|python	2020-03-15 21:42:32.193000 UTC	"<p>In Python, there is a way to iterate over an array, filter some of the elements and then pop only particular properties of the object. It works in such a way:</p>  <pre class=""lang-py prettyprint-override""><code>elements = [{'name':'1', 'id':1},{'name':'2', 'id':2},{'name':'3', 'id':3}] filtered_elements = [x['name'] for x in elements if x['id'] == 1] </code></pre>  <p>Is there any elegant way to do such a thing in JS? </p>"	"<p>You can use <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"" rel=""nofollow noreferrer""><code>filter</code></a> and <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"" rel=""nofollow noreferrer""><code>map</code></a>:</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var elements = [{'name':'1', 'id':1},{'name':'2', 'id':2},{'name':'3', 'id':3}]; var filtered = elements.filter(x =&gt; x.id === 1).map(x =&gt; x.name);  console.log(filtered);</code></pre> </div> </div> </p>"
60714687	how to execute javascript in python with linke source	javascript|python|python-3.x	2020-03-16 23:59:47.087000 UTC	"<p>There I'm trying to execute java script in python <code>file.py</code>.  </p>  <p>This is the code that I want to execute and I want to print the result.</p>  <pre><code>&lt;script src=""https://js.braintreegateway.com/web/3.9.0/js/client.min.js""&gt;&lt;/script&gt; &lt;script&gt; // We generated a client token for you so you can test out this code // immediately. In a production-ready integration, you will need to // generate a client token on your server (see section below). var clientToken = 'eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjSEp2WkhWamRHbHZiaUlzSW1semN5STZJa0YxZEdoNUluMC5leUpsZUhBaU9qRTFPRFEwTkRVeU5UTXNJbXAwYVNJNklqWmtNMlZoT1RBekxUZGpaakF0TkRBd015MWhNR0UwTFRVMFl6WXhPR1E1WmpjNVl5SXNJbk4xWWlJNklqbG5hamRqYzNCa2VXZzJOV04wZDNFaUxDSnBjM01pT2lKQmRYUm9lU0lzSW0xbGNtTm9ZVzUwSWpwN0luQjFZbXhwWTE5cFpDSTZJamxuYWpkamMzQmtlV2cyTldOMGQzRWlMQ0oyWlhKcFpubGZZMkZ5WkY5aWVWOWtaV1poZFd4MElqcG1ZV3h6Wlgwc0luSnBaMmgwY3lJNld5SnRZVzVoWjJWZmRtRjFiSFFpWFN3aWIzQjBhVzl1Y3lJNmUzMTkuMW40R1RCMzhnYW5ldEk2enpPVW45YlRrbGpOanFIRDhRSW1NOWlkWFVXZU1xb1c1YTlaX2JZS3FfVDAzVlpJV282c1BWM0Z3OEFUR0hJMzRlSE9QSlEiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzLzlnajdjc3BkeWg2NWN0d3EvY2xpZW50X2FwaS92MS9jb25maWd1cmF0aW9uIiwiZ3JhcGhRTCI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLmJyYWludHJlZS1hcGkuY29tL2dyYXBocWwiLCJkYXRlIjoiMjAxOC0wNS0wOCJ9LCJjaGFsbGVuZ2VzIjpbImN2diIsInBvc3RhbF9jb2RlIl0sImVudmlyb25tZW50IjoicHJvZHVjdGlvbiIsImNsaWVudEFwaVVybCI6Imh0dHBzOi8vYXBpLmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvOWdqN2NzcGR5aDY1Y3R3cS9jbGllbnRfYXBpIiwiYXNzZXRzVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhdXRoVXJsIjoiaHR0cHM6Ly9hdXRoLnZlbm1vLmNvbSIsImFuYWx5dGljcyI6eyJ1cmwiOiJodHRwczovL2NsaWVudC1hbmFseXRpY3MuYnJhaW50cmVlZ2F0ZXdheS5jb20vOWdqN2NzcGR5aDY1Y3R3cSJ9LCJ0aHJlZURTZWN1cmVFbmFibGVkIjpmYWxzZSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoiRmFtb3VzIFNtb2tlIFNob3AiLCJjbGllbnRJZCI6IkFmUmYzM2E3WWw0dDgtWlV6MnVUc0FlQzFMYUQ4eDBrbS1kQW44MXBObEljT3Ayd215eTlGbFA3XzdyUV9DRWxDX2lXZDdVaWw5Z3ZMSmxQIiwicHJpdmFjeVVybCI6Imh0dHBzOi8vd3d3LmZhbW91cy1zbW9rZS5jb20vaGVscC9wcml2YWN5IiwidXNlckFncmVlbWVudFVybCI6Imh0dHBzOi8vd3d3LmZhbW91cy1zbW9rZS5jb20vcmVnaXN0ZXIiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOmZhbHNlLCJlbnZpcm9ubWVudE5vTmV0d29yayI6ZmFsc2UsImVudmlyb25tZW50IjoibGl2ZSIsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJicmFpbnRyZWVDbGllbnRJZCI6IkFSS3JZUkRoM0FHWER6VzdzT18zYlNrcS1VMUM3SEdfdVdOQy16NTdMallTRE5VT1NhT3RJYTlxNlZwVyIsImJpbGxpbmdBZ3JlZW1lbnRzRW5hYmxlZCI6dHJ1ZSwibWVyY2hhbnRBY2NvdW50SWQiOiJGYW1vdXNTbW9rZVNob3BfaW5zdGFudCIsImN1cnJlbmN5SXNvQ29kZSI6IlVTRCJ9LCJtZXJjaGFudElkIjoiOWdqN2NzcGR5aDY1Y3R3cSIsInZlbm1vIjoib2ZmIiwiYnJhaW50cmVlX2FwaSI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLmJyYWludHJlZS1hcGkuY29tIiwiYWNjZXNzX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKRlV6STFOaUlzSW10cFpDSTZJakl3TVRnd05ESTJNVFl0Y0hKdlpIVmpkR2x2YmlJc0ltbHpjeUk2SWtGMWRHaDVJbjAuZXlKbGVIQWlPakUxT0RRME5EVXlOVE1zSW1wMGFTSTZJalJoT0RBMFpUQm1MV0poTnprdE5EVXdOQzFpTkRobUxXSXhZbVU0WmpnME56ZGtNU0lzSW5OMVlpSTZJamxuYWpkamMzQmtlV2cyTldOMGQzRWlMQ0pwYzNNaU9pSkJkWFJvZVNJc0ltMWxjbU5vWVc1MElqcDdJbkIxWW14cFkxOXBaQ0k2SWpsbmFqZGpjM0JrZVdnMk5XTjBkM0VpTENKMlpYSnBabmxmWTJGeVpGOWllVjlrWldaaGRXeDBJanBtWVd4elpYMHNJbkpwWjJoMGN5STZXeUowYjJ0bGJtbDZaU0lzSW0xaGJtRm5aVjkyWVhWc2RDSmRMQ0p2Y0hScGIyNXpJanA3ZlgwLmR2ZjVXeVlENktOa0VkRWhmM2R0UVpGTFdsNHNab0FDTnBYY0wza0ZKNklVSUU3cVJpSk1XVl9zbEpEazBVWFBLMmRDQzZHMWpuc2lKM09GUTRwRkt3In19'     braintree.client.create({       authorization: clientToken     });   &lt;/script&gt; </code></pre>  <p>I wanna to get the respond. </p>  <p>This is the respond when I run it </p>  <pre><code>authorizationFingerprint: eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6IjIwMTgwNDI2MTYtcHJvZHVjdGlvbiIsImlzcyI6IkF1dGh5In0.eyJleHAiOjE1ODQ0NDUyNTMsImp0aSI6IjZkM2VhOTAzLTdjZjAtNDAwMy1hMGE0LTU0YzYxOGQ5Zjc5YyIsInN1YiI6Ijlnajdjc3BkeWg2NWN0d3EiLCJpc3MiOiJBdXRoeSIsIm1lcmNoYW50Ijp7InB1YmxpY19pZCI6Ijlnajdjc3BkeWg2NWN0d3EiLCJ2ZXJpZnlfY2FyZF9ieV9kZWZhdWx0IjpmYWxzZX0sInJpZ2h0cyI6WyJtYW5hZ2VfdmF1bHQiXSwib3B0aW9ucyI6e319.1n4GTB38ganetI6zzOUn9bTkljNjqHD8QImM9idXUWeMqoW5a9Z_bYKq_T03VZIWo6sPV3Fw8ATGHI34eHOPJQ _meta[merchantAppId]: localhost _meta[platform]: web _meta[sdkVersion]: 3.9.0 _meta[source]: client _meta[integration]: custom _meta[integrationType]: custom _meta[sessionId]: 7bf3978a-7c1d-4de1-a22a-5f471b471511 braintreeLibraryVersion: braintree/web/3.9.0 configVersion: 3 </code></pre>"	
60776975	How can I call a Javascript function in python?	javascript|python-3.x|electron	2020-03-20 15:24:07.017000 UTC	<p>I'm trying to make a snake game with Electron and deep reinforcement learning. The reinforcement learning stuff I do in python and the game in Javascript. Now how can I call a function like this in python? </p>  <pre><code>makeSomeThing(x) {  } </code></pre>  <p>or </p>  <pre><code>getValue() {    return x; } </code></pre>	"<p>Well, I don't know if it is the answer that you expect, but I would create a standalone python service that exposes some API.</p>  <p>Create a client in electron and use python API to send data and get processed information from the Python service</p>  <p>You cant call Javascript API from python. You need something in the middle anyway.</p>"
60776975	How can I call a Javascript function in python?	javascript|python-3.x|electron	2020-03-20 15:24:07.017000 UTC	<p>I'm trying to make a snake game with Electron and deep reinforcement learning. The reinforcement learning stuff I do in python and the game in Javascript. Now how can I call a function like this in python? </p>  <pre><code>makeSomeThing(x) {  } </code></pre>  <p>or </p>  <pre><code>getValue() {    return x; } </code></pre>	"<ol> <li><p>Please build your python script to an executable binary file. You can use <a href=""http://www.pyinstaller.org/"" rel=""nofollow noreferrer"">pyinstaller</a> to package your python scripts to a standalone executable file. </p></li> <li><p>Then you can spawn this binary file at your Electron project like this.</p>  <pre><code>import { spawn } from 'child_process'; // in my case I'm storing the file at bin directory at the root path of the application // You can change this whatever you want  const pythonPath = const basicURL = process.env.NODE_ENV === 'development' ? path.join(__dirname, './bin/xxxx') : path.join(process.resourcesPath, 'bin', 'xxxx');  const params = ['arg1', 'arg2'];  // params that your python scripts need. const pythonChildProcess = spawn(pythonPath, params);   pythonChildProcess.stdout.on('data', data =&gt; {     console.log(`stdout: ${data}`);      // Here is where the output goes   });   pythonChildProcess.stderr.on('data', data =&gt; {     console.log(`tderr: ${data}`);      // Here is where the error output goes   });   pythonChildProcess.on('close', code =&gt; {     console.log(`closing code: ${code}`);     // Here you can get the exit code of the script   }); </code></pre></li> </ol>"
60787588	How to run a specific Javascript function using python	javascript|python|html	2020-03-21 12:08:39.403000 UTC	"<p>I have a Javascript file with 2 functions e.g.</p>  <pre><code>function function1(){ console.log(""Hello world"") }  function function2(){ console.log(""Hello world number 2"") } </code></pre>  <p>And I want to have a python function which executes either one of these function, how would I do this? BTW I want to do this as I will make one of my python scripts run and generate a value and I want to use Javascript to display this value onto the HTML file fancily.</p>"	"<p>This is possible via setting up Python's backend - then you can render frontend using proper HTML files with specified JS functionality.</p>  <h3>You could use <strong>Flask</strong> in order to handle the backend in Python:</h3>  <p><em>(remember to install flask before you use it <code>pip3 install flask</code>)</em></p>  <pre class=""lang-py prettyprint-override""><code>from flask import Flask, render_template app = Flask(__name__, template_folder= ""/templates"")  @app.route('/function1') def function1():     return render_template('function1.html')  @app.route('/function2') def function2():     return render_template('function2.html')  app.run(port = 8000) </code></pre>  <p><em>(The templates folder contains different websites you want to display - the ones with your JS functionalities)</em></p>  <p>Now when you open your browser with <code>localhost:8000/function1</code> You should see your website showing evaluated <code>function1</code> value</p>"
60804880	Trying to recreate a Python API call request in JavaScript using Fetch with FormData	javascript|python|session|request|fetch	2020-03-22 20:57:25.270000 UTC	"<p>So I am trying to recreate an API request in JavaScript as it is currently done in Python.</p>  <p>Here is the part of the Python program which matters:</p>  <pre><code>        self.data = {'id': username,                      'pass': password}          self.session_id = self.post(base_url + loginURLtemplate,                                     data=self.data).headers </code></pre>  <p>So essentially the POST request returns everything I need. It returns a <strong>sessionid</strong> as well as a connection value of <strong>'Keep-Alive'</strong>. This is the same behaviour as in Postman, or the browser. </p>  <p>Now when it comes to the JavaScript program I have wrote:</p>  <pre><code>        var formData = new FormData()         formData.append('id', username)         formData.append('pass', password)         var url = base_url          fetch(url, {             method: 'POST',             body: formData,             credentials: 'include',             keepalive: true          })             .then(r =&gt; r)             .then(data =&gt; {                 console.log(data.headers)              }) </code></pre>  <p>It returns a similar reply as the Python request but this time it omits the <strong>sessionid</strong> as well as the connection value is set to 'close' rather than <strong>'Keep-Alive'</strong></p>  <p>I am wanting to know if this is due to an error in something I have written <strong>OR</strong> if this is a drawback in using the Fetch Web API in JavaScript. It seems to successfully hit the server but receives a reply which does not act like a browser sent the request (like the Python request does)</p>"	
60825446	Selenium Python - Get Table Data Instead of JavaScript Code	javascript|python|selenium|web-scraping	2020-03-24 05:33:09.790000 UTC	"<p>I need some help on a data <strong>Scraping</strong> Task on this : <a href=""https://soilhealth.dac.gov.in/NewHomePage/NutriPage"" rel=""nofollow noreferrer"">https://soilhealth.dac.gov.in/NewHomePage/NutriPage</a> I Managed to fill the dropdown Menu and to click on view using this code :</p> <pre><code>from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.support.ui import Select from bs4 import BeautifulSoup  url = &quot;https://soilhealth.dac.gov.in/NewHomePage/NutriPage&quot; driver = webdriver.Chrome(executable_path='./chromedriver.exe') driver.get(url)  select = Select(driver.find_element_by_id('NutriCatId')) select.select_by_visible_text('Sample Wise') select = Select(driver.find_element_by_id('CycleId')) select.select_by_visible_text('All Cycle') select = Select(driver.find_element_by_id('State_Code')) select.select_by_visible_text('Andaman And Nicobar Islands') driver.implicitly_wait(5) select = Select(driver.find_element_by_id('District_Code')) select.select_by_visible_text('Nicobars') driver.find_element_by_id('s').click() driver.implicitly_wait(30) soup_level1=BeautifulSoup(driver.page_source, 'lxml') </code></pre> <p>I need to <strong>scrape</strong> the table data from the source code, instead of having it on soup_level1 xml, I only have the javascript code. Any help to know if <strong>scraping</strong> the data is possible using Selenium is possible and how can I do it would be awsome. Thank you for your help.</p>"	"<p>Hey the below code does the job. But it is slow since the table is huge and it takes a bit of time to parse. I observed that the report has an export option available so do try to download it directly using Selenium. Oh and for the explanation the report is generated as an iframe which is different from the default source of the page so you need to switch to that frame to get the info. Do let me know for any clarification. The required data is in df variable.</p>  <pre><code># -*- coding: utf-8 -*- """""" Created on Tue Mar 24 11:08:32 2020  @author: prakh """"""  from selenium import webdriver from selenium.webdriver.common.keys import Keys from selenium.webdriver.support.ui import Select from bs4 import BeautifulSoup import pandas as pd import time  url = ""https://soilhealth.dac.gov.in/NewHomePage/NutriPage"" driver = webdriver.Chrome(executable_path='C:/Users/prakh/Documents/PythonScripts/chromedriver.exe')  driver.get(url)  select = Select(driver.find_element_by_id('NutriCatId')) select.select_by_visible_text('Sample Wise') select = Select(driver.find_element_by_id('CycleId')) select.select_by_visible_text('All Cycle') select = Select(driver.find_element_by_id('State_Code')) select.select_by_visible_text('Andaman And Nicobar Islands') driver.implicitly_wait(5) select = Select(driver.find_element_by_id('District_Code')) select.select_by_visible_text('Nicobars') driver.find_element_by_id('s').click() driver.implicitly_wait(30) #soup_level1=BeautifulSoup(driver.page_source, 'lxml')  #src = driver.find_element_by_xpath('//*[@id=""report""]/iframe').get_attribute(""src"")  driver.switch_to.frame(driver.find_element_by_xpath('//*[@id=""report""]/iframe')) time.sleep(10)  html = driver.page_source df_list = pd.read_html(html) df = df_list[-3]  driver.quit() </code></pre>"
60854088	Python Google cloud function and JavaScript Post request	javascript|python|google-cloud-platform|google-cloud-functions	2020-03-25 17:25:39.087000 UTC	"<p>I have a Python cloud function with the following code:</p>  <pre><code>import requests import json  def make_func(request):       if request.method == 'OPTIONS':           headers = {                'Access-Control-Allow-Origin': '*',                'Access-Control-Allow-Methods': 'GET, POST',                'Access-Control-Allow-Headers': 'Content-Type',                'Access-Control-Max-Age': '3600',                'Content-Type': '*',                'Content-Length': ""3000""           }            return ('', 204, headers)       request_json = request.get_json()      print(request_json) #THIS SHOWS ""NONE"" IN THE LOGS       domain = request_json['domain']       headers = {                'Access-Control-Allow-Origin': '*',                'Content-Type': '*',                'Content-Length': ""3000""       }          return (str(domain)), 200, headers)  </code></pre>  <p>I want to sent json data with a JavaScript xhr post request to this function. The JS code is the following: </p>  <pre><code>const data = {   domain : ""test.com"" }  var domain = ""blabla.com""; var xhr = new XMLHttpRequest(); xhr.open('POST', domain, true); xhr.send(data); xhr.onreadystatechange = function () { if (this.readyState == 4 &amp;&amp; this.status == 200) {      var result = xhr.responseText;      alert(JSON.stringify(result));   } } </code></pre>  <p>If I looking into the logs of my GCF and I print the request, it says ""None"". It can't find the ""domain"" variable in the request variable in python. Why is this not working?</p>"	"<p>you have to set the header:</p>  <pre><code> xhr.setRequestHeader('Content-Type','application/json');  xhr.send(JSON.stringify(data)); </code></pre>"
60855700	Controlling website (html/javascript) through Python (jQuery/Ajax) without browser	python|jquery|ajax|web	2020-03-25 19:04:17.697000 UTC	"<p>I am trying to write a small Python-script that opens/loads content from a website (no-browser) and changes values on the website. The website was obviously written for graphical user input through a webrowser, however I now need to change those values automatically and can no change those settings manually.</p>  <p>Below you can find snippet examples for the corresponding HTML and javascript code that changes the values of the homepage. I extracted this code through the ""code inspector"" and don't have access to those.</p>  <p>The website is running locally in my network through http:\*.<em>.</em>.*:8080 where <em>.</em>.<em>.</em> is my IP and 8080 is the port (both fixed).</p>  <p>I assume that the following line is essential, however I'm unclear how to reproduce that with Python:</p>  <pre><code> $.ajax(root+'/settings/' + control + '?set='+val).fail(display_error('cannot_set', control)); </code></pre>  <p>I was looking into several Python packages such as flask, http, request, however I haven't found a good answer how my problem can be solved.</p>  <p>In the end, I'd like to have a Python method with a simple argument call close to this:</p>  <pre><code>def change_crop_x(val):    # Here needs to be the python code I'm unsure of    return True # True if value was succesfully changed  </code></pre>  <p>Any help will be very much appreciated.</p>  <p>Best, Florian</p>  <pre><code>&lt;div class=""form-group"" id=""crop_host""&gt;   &lt;label class=""col-xs-3 control-label""&gt;Crop&lt;/label&gt;   &lt;div class=""col-xs-4""&gt;     &lt;label class=""col-xs-2 nopadding"" for=""range_crop_x""&gt;X:&lt;/label&gt; &lt;input class=""col-xs-10"" id=""range_crop_x"" type=""range"" min=""0"" max=""100"" value=""50""/&gt;   &lt;/div&gt;   &lt;div class=""col-xs-4""&gt;     &lt;label class=""col-xs-2 nopadding"" for=""range_crop_y""&gt;Y:&lt;/label&gt; &lt;input class=""col-xs-10"" id=""range_crop_y"" type=""range"" min=""0"" max=""100"" value=""50"" /&gt;   &lt;/div&gt; &lt;/div&gt; </code></pre>  <p><a href=""https://i.stack.imgur.com/Ly9JM.png"" rel=""nofollow noreferrer"">Example of content to change</a></p>  <pre><code>  var crops = [""crop_x"", ""crop_y""]   var crop_holders = []   for (i in crops) {     var control = crops[i]     crop_holders.push({       val: get_val('#range_'+control),       id: -9999,       upd: function(val) {},       cmd: function(control){ return function(val) {         if (val == 0) {           val = 1;         }         $.ajax(root+'/settings/' + control + '?set='+val).fail(display_error('cannot_set', control));       }} (control)     })   } </code></pre>  <pre><code>if (config.curvals.crop_x != undefined) {       $('#range_crop_x')         .val(config.curvals.crop_x)         .change(scheduleUpdateW(crop_holders[0]));       $('#range_crop_y')         .val(config.curvals.crop_y)         .change(scheduleUpdateW(crop_holders[1]));     } else {       $('#crop_host').hide()     } </code></pre>"	"<p>Looking at the elements you provided, I guess the values you are trying to change are from the application IP Webcam.</p> <p>When you modify the value of CROP X by moving the slider, the following HTTP request is sent to the server: GET http://[YOUR_IP_ADDRESS]:8080/settings/crop_x?set=[VALUE] where the [VALUE] is an integer between 0 and 100 and refers to the position on the slider.</p> <p>I am not very familiar with python but, as far as I know, to achieve the same effect with it, you can use the library named &quot;requests&quot; (among others) and the code should look like this (don't forget to replace [YOUR_IP_ADDRESS] with your own IP address):</p> <pre><code>import requests  def change_crop_x(val):     URL = &quot;http://[YOUR_IP_ADDRESS]:8080/settings/crop_x&quot;     PARAMS = {'set':val}     RESPONSE = requests.get(url = URL, params = PARAMS)     if RESPONSE.status_code == 200:         return True     else:         return False </code></pre> <p>The same can be done for CROP Y.</p> <p>For the zoom slider, the corresponding request is GET http://[YOUR_IP_ADDRESS]:8080/ptz?zoom=[VALUE], with [VALUE] being an integer between 0 and 100.</p> <pre><code>def change_zoom(val):     URL = &quot;http://[YOUR_IP_ADDRESS]:8080/ptz&quot;     PARAMS = {'zoom':val}     RESPONSE = requests.get(url = URL, params = PARAMS)     if RESPONSE.status_code == 200:         return True     else:         return False </code></pre>"
60860379	"Selenium / Python, how to find and invoke a Javascript function with specific HTML text as hyperlink?"	python|selenium	2020-03-26 02:57:02.887000 UTC	"<p>Using <strong>Selenium/Python</strong>, how do I find this element and click?</p>  <p><strong><code>&lt;a href=""javascript:getZipFile(0,750,'');"" class=""""&gt;All&lt;/a&gt;</code></strong></p>  <p>the parameters in <strong><code>getZipFile()</code></strong> are random, may be different, and there are multiple <strong><code>getZipFile()</code></strong> references</p>  <p>in the HTML, but only one with the text <strong><code>All</code></strong></p>"	"<p>Try to find by <code>link text</code>:</p>  <pre><code>driver.find_element_by_link_text(""All"").click() </code></pre>  <p>Or <code>xpath</code>:</p>  <pre><code>driver.find_element_by_xpath(""//a[contains(@href, 'getZipFile') and text()='All']"").click() </code></pre>"
60872081	How do I receive a variable from python flask to JavaScript?	javascript|python|flask	2020-03-26 16:45:21.790000 UTC	"<p>I've seen how to make a post request from JavaScript to get data from the server, but how would I do this flipped. I want to trigger a function in the flask server that will then dynamically update the variable on the JavaScript side to display. Is there a way of doing this in a efficient manner that does not involve a periodic iteration. I'm using an api and I only want to the api to be called once to update.</p>"	"<p>There are three basic options for you:</p>  <ol> <li><p><strong>Polling</strong> - With this method, you would periodically send a request to the server (maybe every 5 seconds for example) and ask for an update. The upside is that it is easy to implement. The downside is that many requests will be unnecessary. It sounds like this isn't a great option for you. </p></li> <li><p><strong>Long Polling</strong> - This method means you would open a request up with the server and leave the request open for a long period of time. When the server gets new information it will send a response and close the request - after which the client will immediately open up a new ""long poll"" request. This eliminates some of the unnecessary requests with regular polling, but it is a bit of a hack as HTTP was meant for a reasonably short request response cycle. Some PaaS providers only allow a 30 second window for this to occur for example. </p></li> <li><p><strong>Web Sockets</strong> - This is somewhat harder to setup, but ultimately is the best solution for real time server to client (and vice versa) communication. A socket connection is opened between the server and client and data is passed back and forth whenever either party would like to do so. Javascript has full web socket support now and Flask has some extensions that can help you get this working. There are even great third party managed solutions like Pusher.com that can give you a working concept very quickly.</p></li> </ol>"
60899709	How to get data from javascript rendered table using selenium in python	python|selenium|selenium-webdriver|web-scraping|beautifulsoup	2020-03-28 10:05:25.423000 UTC	"<p>I have a website to scrape and i am using selenium to do it. When i finished writing the code, i noticed that i was not getting output at all when i print the table contents. I viewed the page source and then i found out that the table was not in the source. That is why even i find the xpath of the table from inspect element i cant get any output of it. Do someone know how could I get the response/data or just printing the table from the javascript response? Thanks.</p>  <p>Here is my current code</p>  <pre><code>from bs4 import BeautifulSoup from selenium import webdriver import time from selenium.webdriver.common.keys import Keys from selenium.webdriver.chrome.options import Options  options = Options() options.add_argument('--incognito') chrome_path = r""C:\chromedriver.exe"" driver = webdriver.Chrome(chrome_path,options=options)  driver.implicitly_wait(3) url = ""https://reversewhois.domaintools.com/?refine#q= %5B%5B%5B%22whois%22%2C%222%22%2C%22VerifiedID%40SG-Mandatory%22%5D%5D%5D"" driver.get(url) html = driver.page_source soup = BeautifulSoup(html,'lxml')  #These line of codes is for selecting the desired search parameter from the combo box, you can disregard this since i was putting the whole url with params input = driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[3]/input') driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[1]/div').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[5]/div[1]/div/div[3]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[2]/div/div[1]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[6]/div[1]/div/div[1]').click input.send_keys(""VerifiedID@SG-Mandatory"") driver.find_element_by_xpath('//*[@id=""search-button-container""]/button').click()   table = driver.find_elements_by_xpath('//*[@id=""refine-preview-content""]/table/tbody/tr/td') for i in table:      print(i) no output </code></pre>  <p>I just want to scrape all the domain names like in the first result like <code>0 _ _ .sg</code></p>"	"<p>If you are open to other ways does the following give the expected results? It mimics the xhr the page does (though I have trimmed it down to essential elements only) to retrieve the lookup results. Faster than using a browser.</p>  <pre><code>from bs4 import BeautifulSoup as bs import requests import pandas as pd  headers = {'User-Agent': 'Mozilla/5.0'} r = requests.get('https://reversewhois.domaintools.com/?ajax=mReverseWhois&amp;call=ajaxUpdateRefinePreview&amp;q=[[[%22whois%22,%222%22,%22VerifiedID@SG-Mandatory%22]]]&amp;sf=true', headers=headers) table = pd.read_html(r.json()['results']) print(table) </code></pre>"
60899709	How to get data from javascript rendered table using selenium in python	python|selenium|selenium-webdriver|web-scraping|beautifulsoup	2020-03-28 10:05:25.423000 UTC	"<p>I have a website to scrape and i am using selenium to do it. When i finished writing the code, i noticed that i was not getting output at all when i print the table contents. I viewed the page source and then i found out that the table was not in the source. That is why even i find the xpath of the table from inspect element i cant get any output of it. Do someone know how could I get the response/data or just printing the table from the javascript response? Thanks.</p>  <p>Here is my current code</p>  <pre><code>from bs4 import BeautifulSoup from selenium import webdriver import time from selenium.webdriver.common.keys import Keys from selenium.webdriver.chrome.options import Options  options = Options() options.add_argument('--incognito') chrome_path = r""C:\chromedriver.exe"" driver = webdriver.Chrome(chrome_path,options=options)  driver.implicitly_wait(3) url = ""https://reversewhois.domaintools.com/?refine#q= %5B%5B%5B%22whois%22%2C%222%22%2C%22VerifiedID%40SG-Mandatory%22%5D%5D%5D"" driver.get(url) html = driver.page_source soup = BeautifulSoup(html,'lxml')  #These line of codes is for selecting the desired search parameter from the combo box, you can disregard this since i was putting the whole url with params input = driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[3]/input') driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[1]/div').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[5]/div[1]/div/div[3]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[2]/div/div[1]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[6]/div[1]/div/div[1]').click input.send_keys(""VerifiedID@SG-Mandatory"") driver.find_element_by_xpath('//*[@id=""search-button-container""]/button').click()   table = driver.find_elements_by_xpath('//*[@id=""refine-preview-content""]/table/tbody/tr/td') for i in table:      print(i) no output </code></pre>  <p>I just want to scrape all the domain names like in the first result like <code>0 _ _ .sg</code></p>"	"<p>You can try the below code. After you have selected all the details options to fill and click on the search button it is kind of an implicit wait to make sure we get the full page source. Then we used the read_html from pandas which searches for any tables present in the html and returns a list of dataframe. we take the required df from there.</p>  <pre><code>from selenium import webdriver import time from selenium.webdriver.chrome.options import Options import pandas as pd  options = Options() options.add_argument('--incognito') chrome_path = r""C:/Users/prakh/Documents/PythonScripts/chromedriver.exe"" driver = webdriver.Chrome(chrome_path,options=options)  driver.implicitly_wait(3) url = ""https://reversewhois.domaintools.com/?refine#q=%5B%5B%5B%22whois%22%2C%222%22%2C%22VerifiedID%40SG-Mandatory%22%5D%5D%5D"" driver.get(url) #html = driver.page_source #soup = BeautifulSoup(html,'lxml')  #These line of codes is for selecting the desired search parameter from the combo box input = driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[3]/input') driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[1]/div').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[5]/div[1]/div/div[3]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[2]/div/div[1]').click() driver.find_element_by_xpath('//*[@id=""q0""]/div[2]/div/div[1]/div[6]/div[1]/div/div[1]').click input.send_keys(""VerifiedID@SG-Mandatory"") driver.find_element_by_xpath('//*[@id=""search-button-container""]/button').click()  time.sleep(5) html = driver.page_source tables = pd.read_html(html)  df = tables[-1] print(df) </code></pre>"
60918799	Send json data to hosted python flask api using javascript on html button click and printing the response from API on a HTML label	javascript|python|jquery|html|json	2020-03-29 18:19:58.370000 UTC	"<p>I've hosted a python flask api on pythonanywhere. It takes json input, performs some operations and returns response in json format.</p>  <p>I've a website that tries to call this API and should display the response.</p>  <p>Button click calls a javascript function apicall().</p>  <p>HTML code:</p>  <pre><code>&lt;button type=""submit"" name = ""submit"" id = ""submit"" onclick=""apicall()""&gt;Check&lt;/button&gt; &lt;label id=""response""&gt;&lt;/label&gt; </code></pre>  <p>Javascript Function (It tries to set the label text to the response text):</p>  <pre><code>&lt;script type=""text/javascript""&gt; function apicall(){     xmlObj = new XMLHttpRequest(); //suddenly global scope   xmlObj.open(""POST"",""http://abc.pythonanywhere.com/xyz"",true);   xmlObj.setRequestHeader(""Content-Type"", ""application/json"");   var website=document.getElementById(""url"").value;   var data = JSON.stringify({""url"": website});   xmlObj.send(data);   xmlObj.onreadystatechange = handleRequestStateChange();   function handleRequestStateChange(){     alert(""here"");   if(xmlObj.readyState == 4 &amp;&amp; xmlObj.status==200){     var json = JSON.parse(xmlObj.responseText);     document.getElementById(""response"").innerHTML =json.prediction;     alert(""if loaded"");   }   else   {       alert(xmlObj.status);   }  } } &lt;/script&gt; </code></pre>  <p>However, it alerts status 0. </p>  <p>Error printed on console says: ""[CORS]The origin  did not find the origin  in the access-control-allow-origin in the request header for cross-origin resource at <a href=""http://abc.pythonanywhere.com/xyz"" rel=""nofollow noreferrer"">http://abc.pythonanywhere.com/xyz</a>""</p>  <p>Network Tab in developer tools shows the connection to python anywhere and response code of 200[ok]</p>  <p>Referred links:</p>  <p><a href=""https://stackoverflow.com/questions/2000609/why-is-ajax-returning-http-status-code-0"">Why is AJAX returning HTTP status code 0?</a></p>  <p><a href=""https://stackoverflow.com/questions/5005960/xmlhttprequest-status-0-responsetext-is-empty"">XMLHttpRequest status 0 (responseText is empty)</a></p>  <p>But was not able to solve the issue</p>  <p>I also tried jquery to do the same thing</p>  <pre><code>&lt;script&gt;         $(document).ready( function() {         $('#submit').click(function() {            var website=document.getElementById(""url"").value;            $.ajax({                 type: 'POST',                 contentType: 'application/json',                 data: JSON.stringify(website),                 dataType: 'json',                 url: 'http://abc.pythonanywhere.com/xyz',                 success: function (e) {                    alert(e);                    console.log(e);                    window.location = ""https://www.google.com""                 },                 error: function(error) {                 console.log(error);             }             });         });   }); &lt;/script&gt; </code></pre>  <p>But the jquery code just reloads the page when I click that button with no errors anywhere(or maybe the error log and network log just clears up because of reload).</p>  <p>How can I allow the cross origin requests on python API or how do change the code in javascript or jquery to make this thing work?</p>"	<p>I was able to solve this issue by adding the following lines to python rest API.</p>  <p>pip install -U flask-cors</p>  <pre><code>from flask_cors import CORS cors = CORS(app) </code></pre>
60938359	How to get Python to run JavaScript on a open chrome tab?	javascript|python	2020-03-30 19:46:50.800000 UTC	"<p>I've made a python script that grabs IPs you connect to on a website and stores them. I'm checking each time since I don't want to connect to the same IP twice. (This is a bit buggy since I get multiple requests, if someone can explain how to put a timer on the skip call without disrupting the rest of the program).</p>  <p>To auto skip them I'm trying to write a JS script to do so. I think I have the click figured out, but how do I get my python script (local) to tell the javascript to run in the browser? Chrome specifically if that helps.</p>"	"<p>you can use a webdriver for the desired browser and execute javascript code in the browser head and then execute javascript in the browser head from python code much like the auto login commented feature in this application  <a href=""https://github.com/engMaher/BAF/blob/master/BAF_0.2.0.py"" rel=""nofollow noreferrer"">https://github.com/engMaher/BAF/blob/master/BAF_0.2.0.py</a> </p>"
60957769	Reading Javascript array as key value pairs using python xpath	python|xpath	2020-03-31 18:47:38.307000 UTC	"<p>How can I read the below Javascript array as key value pairs using python xpath? OUtput in python would be ['id', '359521','name', 'HO1 mini-briefs HO1' etc]</p>  <p>Possibly in 1 go to get a python list element where I can access the data</p>  <p>Help appreciated</p>  <h1>JAVASCRIPT IN HTML</h1>  <pre><code>   &lt;script type=""text/javascript""&gt;         var wcIsGtm = false;     var productImpressions = [];     var promoImpressions = [];     var wcGuaTrackerName = '';     var wcGuaGlobalTrackerName = 'allstores.';     var wcGuaGlobalTrackerEnabled = '0';      var referralExclusionList = [];      if(document.referrer) {         for(excludedDomain in referralExclusionList) {             if(document.referrer.indexOf(excludedDomain) != -1) {                 document.referrer = '';             }         }     }           (function(w,e,b,c,oo,ki,ng){w['GoogleAnalyticsObject']=oo;w[oo]=w[oo]||function(){         (w[oo].q=w[oo].q||[]).push(arguments)},w[oo].l=1*new Date();ki=e.createElement(b),         ng=e.getElementsByTagName(b)[0];ki.async=1;ki.src=c;ng.parentNode.insertBefore(ki,ng)         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');      ga('create', 'UA-19354276-10', 'auto'); ga('require', 'ec'); ga('set', '&amp;cu', 'EUR');                 var productDetail = {                  'id': '359521',                  'name': 'HO1 mini-briefs HO1',                  'category': 'Collection HOM Basics/Slips',                  'brand': '',                  'price': '10.4',                  'variant': ''              };              ga('ec:addProduct', productDetail);              ga('ec:setAction', 'detail');   ga('send', 'pageview');   &lt;/script&gt;   &lt;meta property=""og:locale"" content=""en_US"" /&gt; &lt;meta property=""og:title"" content=""HO1 mini-briefs HO1"" /&gt; &lt;meta property=""og:type"" content=""product"" /&gt;  </code></pre>  <h1>another example would be</h1>  <pre><code>     var AWACP_CONFIG = {         mageVersion: '1.9.3.1',         useProgress : 1,         popupForAllProducts : 0,         addProductConfirmationEnabled : 1,         removeProductConfirmationEnabled : 1,         dialogsVAlign: 'center',         cartAnimation: 'opacity',         addProductCounterBeginFrom : 0,         removeProductCounterBeginFrom : 0,           hasFileOption : false    };  </code></pre>  <h1>Possible code logic</h1>  <pre><code># todo make more robust to read JS data  var_to_find = 'productDetail' pattern = re.compile(r""var {var_to_find}} ?= ?({.*?});"", re.MULTILINE | re.DOTALL) xpath_string = ""//script[contains(text(), 'var %s')]/text()"" % var_to_find js_data = response.xpath(xpath_string)[0].rstrip() js_data = js_data.re(pattern)[0] json_data = json.loads(js_data) print(json_data)  The idea is to  1. find JS variable based on some input var (we know the var name) 2. it finds the data inside {.*} 3. it strips alle spaces, newlines, comments and only keeps ""var1"":""data"",""var3"":""data"",""var3"":""data"", 4. then split on , to obtain key values pairs 5. then split on : to set key and values in list, excluding "" or '  Step 3 is the most complet because it needs to be robust to deal with any kind of formatting  </code></pre>"	"<p>If I understand you correctly, you can do something like the below. Note that xpath isn't going to work here and regex is problematic. So the cleanest way to do it, I believe, is with string manipulation and a dictionary.</p>  <p>For the first:</p>  <pre><code>arr = """"""your first html example"" splt_str = 'var productDetail = {' trg = arr.split(splt_str)[1].split('}')[0].split(',') stf = {} for t in trg:     entry = t.strip().replace(""'"","""").split(':')     stf[entry[0]]= entry[1] for k, v in stf.items():     print(k, v) </code></pre>  <p>Output:</p>  <pre><code>id  4002021 name  Tommy string category  Collection Brand Basics brand   price  8.31 variant   </code></pre>  <p>For the second, change the first two lines to:</p>  <pre><code>arr = """"""your second html example"" splt_str = 'var AWACP_CONFIG = {' </code></pre>  <p>Output:</p>  <pre><code>mageVersion  1.9.3.1 useProgress   1 popupForAllProducts   0 addProductConfirmationEnabled   1 removeProductConfirmationEnabled   1 dialogsVAlign  center cartAnimation  opacity addProductCounterBeginFrom   0 removeProductCounterBeginFrom   0 hasFileOption   false </code></pre>"
60977649	Using Python to parse date/time strings in *exactly* the same way as Javascript?	javascript|python|datetime	2020-04-01 18:17:00.177000 UTC	"<p>I have some client-side JavaScript code which reads a string and tries to parse it into a Date() object via <code>new Date(theString)</code>, displaying the resulting Date as a UTC string to the user. If it's a string that can't be turned into a Date, of course, it becomes an <code>Invalid Date</code>, in which case instead it displays ""Not a date/time.""</p>  <p>I also have some server-side Python code which essentially does the same thing: takes the user-submitted maybe-a-date, and stores it as either a UTC string or as ""not a date"".</p>  <p>The trick is, I need the two pieces of code to always behave exactly the same on every single string. I could certainly just make a tiny Python endpoint that uses the existing Python code to send the appropriate response back to the client instead of using <code>Date()</code> client-side, but for various reasons that's an undesirable solution.</p>  <p>So is there a way to translate strings into dates in Python that's guaranteed to work exactly the same way as <code>new Date(myString)</code> does in JavaScript?</p>"	"<blockquote>   <p>So is there a way to translate strings into dates in Python that's guaranteed to work exactly the same way as new Date(myString) does in JavaScript?</p> </blockquote>  <p>No.</p>  <p>It's impossible, because:</p>  <ol> <li>Parsing of strings other than the two formats specified in ECMA-262 is implementation dependent and it is easily demonstrated that different implemetations parse the same string differently (e.g. <a href=""https://stackoverflow.com/questions/60960821/why-does-date-parsecovingtonoffice-2-return-a-real-date""><em>Why does Date.parse('COVINGTONOFFICE-2') return a real date?</em></a>)</li> <li>How various implementations parse unsupported formats is not documented, so you can only determine the rules through observing behaviour of every possible string, including those that look nothing like a date, in every implementation, then knowing which implementation you were trying to imitate</li> </ol>"
60981170	Python run JavaScript 3.8	javascript|python|python-3.x	2020-04-01 22:14:47.937000 UTC	<p>I have node.js installed and want to know if there is any way to run js code on <strong>python 3.8</strong>. I need to use a large piece of code (babylon) for my web application. Is there any easy way to do this?</p>	"<p>I do like the answer given. I would like to add that one could use the Naked library:</p>  <pre class=""lang-py prettyprint-override""><code>from Naked.toolshed.shell import execute_js execute_js('file.js') </code></pre>  <p>One can read more here: <a href=""https://naked.readthedocs.io/"" rel=""nofollow noreferrer"">https://naked.readthedocs.io/</a></p>"
60981170	Python run JavaScript 3.8	javascript|python|python-3.x	2020-04-01 22:14:47.937000 UTC	<p>I have node.js installed and want to know if there is any way to run js code on <strong>python 3.8</strong>. I need to use a large piece of code (babylon) for my web application. Is there any easy way to do this?</p>	"<h1>Running Code</h1>  <p>I admit I have not messed with this before, but I think the best way to go about it is to have a js file that you can run from python. I found 2 ways to accomplish this- one that returns output and one that simply just runs it.</p>  <h2>Getting Output</h2>  <p>You may be able to use the <code>subprocess</code> module to run the node and record it's output for later use.</p>  <pre><code>import subprocess myValue = subprocess.check_output(['node','index.js']) </code></pre>  <p><a href=""https://docs.python.org/3/library/subprocess.html?highlight=subprocess#subprocess.check_output"" rel=""nofollow noreferrer"">Python <code>subprocess.check_output</code> Documentation</a></p>  <h2>No Output</h2>  <p>If you do not require to read the output of the file, you can just run it with the <code>os</code> module.</p>  <pre><code>import os os.system(""node index.js"") </code></pre>  <p><a href=""https://docs.python.org/3/library/subprocess.html?highlight=subprocess#subprocess.check_output"" rel=""nofollow noreferrer"">Python <code>os.system</code> documentation</a></p>"
60982023	Lauch simultaneous python methods from javascript in Google Colab	python|google-colaboratory	2020-04-01 23:40:29.890000 UTC	"<p>This code create a small html in the cell with two buttons who execute python methods. I would like that when I press the two buttons, the two methods run simultaneously instead of one at a time. This code is meant to be placed in a Google Colab.</p>  <pre><code>import time from IPython.display import display, Javascript, HTML from google.colab import output  def funA():   for i in range(10):     time.sleep(0.5)     print(""A : {}"".format(i))     pass   return  def funB():   for i in range(10):     time.sleep(0.5)     print(""B : {}"".format(i))     pass   return  output.register_callback('funA', funA)  output.register_callback('funB', funB)  display(Javascript(''' butA = document.createElement(""button""); butB = document.createElement(""button""); butA.innerHTML = ""A""; butB.innerHTML = ""B""; invoke = google.colab.kernel.invokeFunction; butA.onclick = async function () {await invoke(""funA"", [], {});} butB.onclick = async function () {await invoke(""funB"", [], {});} document.body.appendChild(butA); document.body.appendChild(butB); ''')) </code></pre>"	
60987698	"Python says ""Please enable JavaScript and Cookies in your browser."" in Selenium webdriver"	python|python-3.x|selenium	2020-04-02 08:55:43.173000 UTC	"<pre><code>from selenium import webdriver import time from bs4 import BeautifulSoup  driver = webdriver.Chrome(executable_path = ""C:/Users/USER/Desktop/chromedriver.exe"") url="""" driver.get(url) html = driver.page_source soup = BeautifulSoup(html,  ""html.parser"") print(soup) </code></pre>  <p>When i try to use the selenium, ""window.onload=function(){process();}<p>Please enable JavaScript and Cookies in your browser.</p>"" is shown. How can i enable JavaScript?</p>"	"<p>Try enabling javascript:</p>  <pre><code>options = webdriver.ChromeOptions() options.add_argument(""--enable-javascript"") </code></pre>"
61001930	Python run JavaScript code while saving function definitions	python|node.js	2020-04-02 22:07:22.220000 UTC	"<p>I am building a python application that needs to run some javascript code. I have node.js installed. I want to define a function in javascript and then be able to run it elsewhere in the program. Here is an example:</p>  <pre class=""lang-py prettyprint-override""><code>#My javascript function: js_code = """""" function add(a,b){return a+b}; """""" #Define js function here  myVar = add(3,4) #run the add function here   </code></pre>"	
61012016	Dash Python - using external Javascript to display image	javascript|python|html|plotly|plotly-dash	2020-04-03 12:33:04.750000 UTC	"<p><strong>Dear readers,</strong></p>  <p>I want to display an image on a Python Dash page that is generated by some JS code. See the description here: <a href=""https://www.altmetric.com/assets/Getting_Started_Altmetric_Badges.pdf"" rel=""nofollow noreferrer"">https://www.altmetric.com/assets/Getting_Started_Altmetric_Badges.pdf</a>. In a static HTML page one would include this script </p>  <pre><code>&lt;script type='text/javascript' src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'&gt;&lt;/script&gt; </code></pre>  <p>and this DIV will show the image:</p>  <pre><code>&lt;div class='altmetric-embed' data-badge-type='donut' data-doi=""10.1038/nature.2012.9872""&gt;&lt;/div&gt; </code></pre>  <p>Im trying to get this working in Dash but not even once the image/badge is shown. I tried several options for injecting te DIV (with dash_dangerously_set_inner_html.DangerouslySetInnerHTML() or with the attributesd of DIV using '**{'), and including the SCRIPT (in the custom HEAD of the var index_string, as Html.Script(), as external_scripts and with options serve_locally = False/True), but none seems to work. Good to mention is that Dash serves me a page with only the ""Hello World"" string but without any images. But when I locally store the generated HTML code to a HTML file and open it in my browser, the images are shown !</p>  <p>Localhost gives me: <a href=""https://i.stack.imgur.com/G4EFu.jpg"" rel=""nofollow noreferrer"">this view</a>, whereas the same page gives me locally: <a href=""https://i.stack.imgur.com/Z0iT0.jpg"" rel=""nofollow noreferrer"">this view</a></p>  <p>See included (minimal) non-working example.</p>  <p>Any suggestions here ?</p>  <p>Kind regards, IvoB</p>  <pre><code>#SEE: https://www.altmetric.com/assets/Getting_Started_Altmetric_Badges.pdf import dash import dash_dangerously_set_inner_html import dash_html_components as html  external_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css'] external_scripts = ['https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'] app = dash.Dash(__name__, external_scripts=external_scripts, external_stylesheets=external_stylesheets) app.css.config.serve_locally = False app.scripts.config.serve_locally = False  app.index_string = ''' &lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script type='text/javascript' src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'&gt;&lt;/script&gt;         {%metas%}         &lt;title&gt;{%title%}&lt;/title&gt;         {%favicon%}         {%css%}     &lt;/head&gt;     &lt;body&gt;         &lt;div&gt;My Custom header&lt;/div&gt;         {%app_entry%}         &lt;footer&gt;             {%config%}             {%scripts%}             {%renderer%}         &lt;/footer&gt;         &lt;div&gt;My Custom footer&lt;/div&gt;     &lt;/body&gt; &lt;/html&gt; '''  app.layout = html.Div([     html.Script(src='https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js'),     html.Div('Hello world'),     html.Div(dash_dangerously_set_inner_html.DangerouslySetInnerHTML(""&lt;div class='altmetric-embed' data-badge-type='donut' data-doi='10.1038/nature.2012.9872'&gt;&lt;/div&gt;"")),     html.Div(className='altmetric-embed', **{'data-badge-type' : 'donut', 'data-doi' : '10.1038/nature.2012.9872'}) ])  if __name__ == '__main__':     app.run_server(debug=True) </code></pre>"	"<p>The problem is that Dash hasn't finished rendering the <code>altmetric</code> div yet so the script doesn't act on it.</p> <p>If you put</p> <pre><code>&lt;div class='altmetric-embed' data-badge-type='donut' data-doi='10.1038/nature.2012.9872'&gt;&lt;/div&gt; </code></pre> <p>inside the body of the <code>index_string</code> you will notice that the badge does show up.</p> <p>If you want the div in the dash layout to work with the script you could use something like <a href=""https://github.com/zouhairm/dash_defer_js_import"" rel=""nofollow noreferrer"">dash_defer_js_import</a> to defer execution of the altmetric script.</p> <p>You can install it with:</p> <pre><code>pip install dash_defer_js_import </code></pre> <p>and use it like this:</p> <pre><code>import dash import dash_html_components as html import dash_defer_js_import as dji  app = dash.Dash(__name__)  app.layout = html.Div(     [         html.Div(             className=&quot;altmetric-embed&quot;,             **{&quot;data-badge-type&quot;: &quot;donut&quot;, &quot;data-doi&quot;: &quot;10.1038/nature.2012.9872&quot;}         ),         dji.Import(src=&quot;https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js&quot;),     ] )   if __name__ == &quot;__main__&quot;:     app.run_server() </code></pre> <p>For better understanding what this <code>Import</code> component is doing you can look at the source code <a href=""https://github.com/zouhairm/dash_defer_js_import/blob/master/src/lib/components/Import.react.js"" rel=""nofollow noreferrer"">here</a>.</p>"
61019082	Javascript vs python: Different output for a function with two recursion branches	javascript|python|recursion	2020-04-03 19:24:35.907000 UTC	"<p>I have been translating python code to javascript with no problems but for the following example I fail to do so and don't know what is the reason. It seems that the javascript code yields a totally different output from that of python despite the similar code. I have investigated the problem and it appears that javascript doesn't execute the second recursion branch? Anyone knows how can I make the javascript code to output similarly to that of python? Thanks</p>  <p>1- Python code:</p>  <pre><code>def createNode(_id, right, left):     return {'id': _id, 'left': left, 'right': right}  n1 = createNode(1, None, None) n2 = createNode(2, None, None) n3 = createNode(3, None, None) n4 = createNode(4, None, None) n5 = createNode(1, n1, n2) n6 = createNode(2, n3, n4) n7 = createNode(3, n5, n6)  def DownTree(lst, node):      left = node['left']     right = node['right']       if(right == None):         lst.append(node['id'])     else:         DownTree(lst, right)         if(left == None):         lst.append(node['id'])     else:         print('will excute')         DownTree(lst, left)   lst = [] DownTree(lst, n7)  print(lst) ## outputs: [1, 1, 2, 2, 3, 3, 4, 4] </code></pre>  <p>2- Javascript Code:</p>  <pre><code>function createNode(_id, right, left){     return {'id': _id, 'left': left, 'right': right} } n1 = createNode(1, undefined, undefined) n2 = createNode(2, undefined, undefined) n3 = createNode(3, undefined, undefined) n4 = createNode(4, undefined, undefined) n5 = createNode(1, n1, n2) n6 = createNode(2, n3, n4) n7 = createNode(3, n5, n6)  function DownTree(lst, node){    left = node['left']   right = node['right']     if(right == undefined){     lst.push(node['id'])   }   else{     DownTree(lst, right)   }     if(left == undefined){     lst.push(node['id'])   }   else{     console.log('not executed!')     DownTree(lst, left)   } }   lst = [] DownTree(lst, n7) console.log(lst) // outputs: [1, 1, 1, 3] </code></pre>"	<p>In your JS <code>left</code> and <code>right</code> are not scoped correctly. You need to add <code>var</code> or <code>let</code> to their definitions so that they are not global</p>  <pre><code>var left = node['left'] var right = node['right']  </code></pre>
61063536	"Base64 UTF-16 encoding between java, python and javascript applications"	javascript|java|encoding|base64|utf-16	2020-04-06 15:40:42.877000 UTC	"<p>As a sample I have the following string, that I presume to be under utf-16 encoding: ""hühühüh"". </p>  <p>In python I get the following result when encoding</p>  <pre><code>&gt;&gt;&gt; base64.b64encode(""hühühüh"".encode(""utf-16"")) b'//5oAPwAaAD8AGgA/ABoAA==' </code></pre>  <p>In java:</p>  <pre><code>&gt;&gt;&gt; String test = ""hühühüh""; &gt;&gt;&gt; byte[] encodedBytes = Base64.getEncoder().encode(test.getBytes(StandardCharsets.UTF_16)); &gt;&gt;&gt; String testBase64Encoded = new String(encodedBytes, StandardCharsets.US_ASCII); &gt;&gt;&gt; System.out.println(testBase64Encoded); /v8AaAD8AGgA/ABoAPwAaA== </code></pre>  <p>In javascript I define a binary encoding function as per the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/btoa"" rel=""nofollow noreferrer"">Mozilla dev guideline</a> and then encode the same string.</p>  <pre><code>&gt;&gt; function toBinary(string) {                                                                                                                                   const codeUnits = new Uint16Array(string.length);       for (let i = 0; i &lt; codeUnits.length; i++) {           codeUnits[i] = string.charCodeAt(i);       }       return String.fromCharCode(...new Uint8Array(codeUnits.buffer));   } &gt;&gt; atob(toBinary(""hühühüh""))  aAD8AGgA/ABoAPwAaAA= </code></pre>  <p>As you can see, each encoder created a distinct base64 string. So lets reverse the encoding again.</p>  <p>In Python all the generated strings decode fine again:</p>  <pre><code>&gt;&gt;&gt; base64.b64decode(""//5oAPwAaAD8AGgA/ABoAA=="").decode(""utf-16"") 'hühühüh' &gt;&gt;&gt; base64.b64decode(""/v8AaAD8AGgA/ABoAPwAaA=="").decode(""utf-16"") 'hühühüh' &gt;&gt;&gt; base64.b64decode(""aAD8AGgA/ABoAPwAaAA="").decode(""utf-16"") 'hühühüh' </code></pre>  <p>In javascript using the fromBinary function again as per the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/btoa"" rel=""nofollow noreferrer"">Mozilla dev guideline</a>:</p>  <pre><code>&gt;&gt;&gt; function fromBinary(binary) {   const bytes = new Uint8Array(binary.length);   for (let i = 0; i &lt; bytes.length; i++) {     bytes[i] = binary.charCodeAt(i);  }   console.log(...bytes)   return String.fromCharCode(...new Uint16Array(bytes.buffer)); } &gt;&gt;&gt; fromBinary(window.atob(""//5oAPwAaAD8AGgA/ABoAA=="")) ""\ufeffhühühüh"" &gt;&gt;&gt; fromBinary(window.atob(""/v8AaAD8AGgA/ABoAPwAaA=="")) ""\ufffe栀ﰀ栀ﰀ栀ﰀ栀"" &gt;&gt;&gt; fromBinary(window.atob(""aAD8AGgA/ABoAPwAaAA="")) ""hühühüh"" </code></pre>  <p>And finally in Java:</p>  <pre><code>&gt;&gt;&gt; String base64Encoded = ""//5oAPwAaAD8AGgA/ABoAA==""; &gt;&gt;&gt; byte[] asBytes = Base64.getDecoder().decode(base64Encoded); &gt;&gt;&gt; String base64Decoded = new String(asBytes, StandardCharsets.UTF_16); &gt;&gt;&gt; System.out.println(base64Decoded); hühühüh &gt;&gt;&gt; String base64Encoded = ""/v8AaAD8AGgA/ABoAPwAaA==""; &gt;&gt;&gt; byte[] asBytes = Base64.getDecoder().decode(base64Encoded); &gt;&gt;&gt; String base64Decoded = new String(asBytes, StandardCharsets.UTF_16); &gt;&gt;&gt; System.out.println(base64Decoded); hühühüh &gt;&gt;&gt; String base64Encoded = ""aAD8AGgA/ABoAPwAaAA=""; &gt;&gt;&gt; byte[] asBytes = Base64.getDecoder().decode(base64Encoded); &gt;&gt;&gt; String base64Decoded = new String(asBytes, StandardCharsets.UTF_16); &gt;&gt;&gt; System.out.println(""Decoded"" + base64Decoded); hühühüh </code></pre>  <p>We can see that python's base64 decoder is able to encode and decode messages for and from the other two parsers. But the definitions between the Java and Javascript parsers do not seem to be compatible with each other. I do not understand why this is. Is this a problem with the base64 libraries in Java and Javascript and if so, are there other tools or routes that let us pass base64 encoded utf-16 strings between a Java and Javascript application? How can I ensure safe base64 string transport between Java and Javscript applications by using tools as close to core language functionality as possible?</p>  <p>EDIT: As said in the accepted answer, the problem is different utf16 encodings. The compatibility problem between Java and Javascript can either be solved by generating the utf16 bytes in Javascript in reverse order, or accepting the encoded string as <code>StandardCharsets.UTF_16LE</code>.</p>"	"<p>The problem is that there are 4 variants of <code>UTF-16</code>.</p>  <p>This character encoding uses two bytes per code unit. Which of the two bytes should come first? This creates two variants:</p>  <ul> <li>UTF-16BE stores the most significant byte first.</li> <li>UTF-16LE stores the least significant byte first.</li> </ul>  <p>To allow telling the difference between these two, there is an optional ""byte order mark"" (BOM) character, U+FEFF, at the start of the text. So UTF-16BE with BOM starts with the bytes <code>fe ff</code> while UTF-16LE with BOM starts with <code>ff fe</code>. Since BOM is optional, its presence doubles the number of possible encodings.</p>  <p>It looks like you are using 3 of the 4 possible encodings:</p>  <ul> <li>Python used UTF-16LE with BOM</li> <li>Java used UTF-16BE with BOM</li> <li>JavaScript used UTF-16LE without BOM</li> </ul>  <p>One of the reasons why people prefer UTF-8 to UTF-16 is to avoid this confusion.</p>"
61071641	How to Download .XML File From Website Through JavaScript Button Using Python	javascript|python|url|download|python-requests	2020-04-07 01:58:24.447000 UTC	"<p>I am trying to download a customized XML file from this website: <a href=""http://data.un.org/Data.aspx?d=CLINO&amp;f=ElementCode:11;StatisticCode:01&amp;c=1,2,5,17,18,44&amp;s=CountryName:asc,WmoStationNumber:asc,StatisticCode:asc&amp;v=1"" rel=""nofollow noreferrer"">http://data.un.org/Data.aspx?d=CLINO&amp;f=ElementCode:11;StatisticCode:01&amp;c=1,2,5,17,18,44&amp;s=CountryName:asc,WmoStationNumber:asc,StatisticCode:asc&amp;v=1</a></p>  <p>The  method I am most familiar with is using pd.read_csv, but in this case right-clicking the download link and copying the link address generates:</p>  <pre><code>javascript:Download('xml','CLINO','ElementCode:11;StatisticCode:01','s=CountryName:asc,WmoStationNumber:asc,StatisticCode:asc','c=1,2,5,17,18,44',''); </code></pre>  <p>I tried the solution posted <a href=""https://stackoverflow.com/questions/55918415/is-there-any-way-to-download-csv-file-from-website-button-click-using-python"">here</a> but unfortunately the process deviated at Step 4. </p>  <p>Using python, how do I access the .xml file to download and save?</p>"	"<pre class=""lang-py prettyprint-override""><code>import requests import pandas as pd  params = {     'Service': 'page',     'DataFilter': 'ElementCode:11;StatisticCode:01',     'DataMartId': 'CLINO',     'UserQuery': '',     'c': '1,2,5,17,18,44' }   def main(url, params):     with requests.Session() as req:         allin = []         for item in range(1, 23):             print(f""Extracting Page# {item}"")             params['Page'] = item             r = req.get(url, params=params)             df = pd.read_html(r.content)[0]             allin.append(df)         new = pd.concat(allin)         print(new)         new.to_csv(""Data.csv"", index=False)   main(""http://data.un.org/Handlers/DataHandler.ashx"", params) </code></pre>"
61089348	"Frida +Python+Javascript what does ""java.use (""XXX"") "" do when the class can not be found?"	javascript|python|android|hook|frida	2020-04-07 21:01:15.487000 UTC	"<p>I use the following javascrip inside python (in android + frida environment) to hook a method. </p>  <pre><code>jscode ="""""" Java.perform(function () {      console.log(""start hook..."");     var d =java.use(""myapp.okhttp3.internal.f.a"");     d.verify.implementation =function(p1, p2){     console.log(""ssl unpinning for"");      return true;      } }); """"""  </code></pre>  <p>This is the python file:</p>  <pre><code>import sys   import os   import threading   import subprocess   import frida   import time   jscode ="""""" Java.perform(function () {      console.log(""start hook..."");     var d =java.use(""myapp.okhttp3.internal.f.a"");     d.verify.implementation =function(p1, p2){     console.log(""ssl unpinning for"");      return true;      } }); """"""   os.system('adb forward tcp:27042 tcp:27042')   os.system('adb forward tcp:27043 tcp:27043')    APP_NAME = 'myapp'    device = frida.get_usb_device(1) pid = device.spawn([APP_NAME])   device.resume(pid)   time.sleep(1)   process = device.attach(pid)   print('success') script = process.create_script(jscode)  print(pid)  script.load()  print('script loaded')  input() </code></pre>  <p>My question is: Does <code>var d =java.use(""myapp.okhttp3.internal.f.a"")</code>  throw ""class not found exception"" when the class can not be found, and how to view this exception? can I use codes like <strong>console.log(java.use(""myapp.okhttp3.internal.f.a"")</strong> to log ""class not found exception""?</p>"	"<p>You can use surround try-catch in js and catch @ handle in python</p>  <pre class=""lang-js prettyprint-override""><code>try {   var d =... } catch (e) {   send(JSON.stringify(e)); } </code></pre>  <p>In python side</p>  <pre class=""lang-py prettyprint-override""><code>def on_message(msg, _data):   # check if msg has error and handle  script.on('message', on_message) </code></pre>"
61099497	JavaScript / node equivalent for python's repr()?	javascript|node.js|repr	2020-04-08 11:22:53.687000 UTC	"<p>Python's <code>repr()</code> method converts strings to their raw value.</p>  <p>So that:</p>  <pre><code>aa a Hello </code></pre>  <p>Becomes</p>  <pre><code>aa a\nHello </code></pre>  <p>I tried to do the same in a node.js script with <code>util.inspect</code> but it had converted:</p>  <pre><code>GET / HTTP/1.1 Host: localhost:8081 User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:74.0) Gecko/20100101 Firefox/74.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Connection: keep-alive Upgrade-Insecure-Requests: 1 Cache-Control: max-age=0 </code></pre>  <p>to</p>  <pre><code>'GET / HTTP/1.1\r\n' +   'Host: localhost:8081\r\n' +   'User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:74.0) Gecko/20100101 Firefox/74.0\r\n' +   'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\n' +   'Accept-Language: en-US,en;q=0.5\r\n' +   'Accept-Encoding: gzip, deflate\r\n' +   'Connection: keep-alive\r\n' +   'Upgrade-Insecure-Requests: 1\r\n' +   '\r\n' </code></pre>  <h2>Q</h2>  <p>How do I get the same results as python's <code>repr</code>,  without the un-necessary + signs and concatenations? (it should be one long string).</p>"	
61101997	Returning Array from Python to Javascript	javascript|python-3.x|eel	2020-04-08 13:35:33.630000 UTC	"<p>I was trying to return an array of data from python function to Javascript. I am using eel python module. The python function returns a string with ease, but when I tried to return an array object, it returns nothing to javascript.</p>  <p>Here is the python function:</p>  <pre><code>@eel.expose  def get_list_data(column_name):     tree = ET.parse('resources.xml')     root = tree.getroot()      column_list_data = []      for child in root.findall('column'):         if child.get('name') == column_name:             for grandchild in child:                 column_list_data.append(grandchild.text)     return(column_list_data) </code></pre>  <p>And here is the javascript function.</p>  <pre><code>function getListData(){     let retData = eel.get_list_data(""Response"")();     console.log(retData); }  getListData(); </code></pre>  <p>Here is the console log shows.</p>  <pre><code>Promise __proto__: Promise [[PromiseStatus]]: ""resolved"" [[PromiseValue]]: Array(0) </code></pre>"	"<p>That is, because retData seems to be a Promise. Please consider reading the following (<a href=""https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Promise"" rel=""nofollow noreferrer"">MDN Promise</a>) for a deeper understanding of promises in javascript.</p>  <p>The promise is executed asynchronously. The code below the ""then-callback"" is executed in case that the promise has been resolved successfully.  To give you something to start with: </p>  <pre><code>function getListData(){     let retData = eel.get_list_data(""Response"")()        .then(retData =&gt; {            console.log(retData);        })        .catch(e =&gt; console.log(e)); } </code></pre>"
61103110	Execute javascript in Selenium using Python	python|web-scraping	2020-04-08 14:26:34.703000 UTC	"<p>I know that, sometimes, selenium is not able to click on an element, and in order to do so you need to execute some javascript code. For example, I recently used something like:</p>  <pre><code>button = WebDriverWait(driver,10).until(EC.visibility_of_element_located((By.XPATH,""//label[@for='cli-no']/span[text()='No']""))) driver.execute_script(""arguments[0].click();"", button) </code></pre>  <p>Can this same thing happen when trying to move a slider(using a dragAndDropByOfsset, for example)? How would you execute such a script?</p>  <p>Also, do you know whether good documentation exists regarding this issue?</p>  <p>Thanks!</p>"	
61104007	How to create 3D linear algebra visualizations with javascript or python?	javascript|python|data-visualization|visualization	2020-04-08 15:11:30.120000 UTC	"<p>Which programming language and libraries would you recommend me to recreate the 3D geometric and linear algebra visualizations displayed in this book <a href=""http://immersivemath.com/ila/learnmore.html"" rel=""nofollow noreferrer"">http://immersivemath.com/ila/learnmore.html</a> ? I speculate it's either JavaScript or Python, but I'm not sure.</p>"	"<p>The most used JS library for 3D visualizations is <a href=""https://threejs.org/"" rel=""nofollow noreferrer"">Three</a>. It's not the simplest to learn but the docs are great, it's powerful, and its popularity makes it ""community-validated"".</p>  <p>Another choice would be <a href=""https://www.babylonjs.com/"" rel=""nofollow noreferrer"">Babylon</a>, which also have great documentation and also relies on WebGL for rendering.</p>  <p><a href=""https://d3js.org/"" rel=""nofollow noreferrer"">D3</a>, the de-facto standard for custom JS visualizations in JS, also handles a bit of 3D, although it's not focused on that.</p>  <p>If library size is a factor you consider, then <a href=""https://github.com/evanw/lightgl.js"" rel=""nofollow noreferrer"">Light</a> might be a better choice, and if zero-dependency is also a plus, then you might consider <a href=""http://seenjs.io/"" rel=""nofollow noreferrer"">Seen</a>.</p>  <p><a href=""http://www.cannonjs.org/"" rel=""nofollow noreferrer"">Cannon</a> is more a 3D physics engine than a 3D visualization library, but it might come handy sometimes.</p>  <p>Consider also <a href=""https://www.ambiera.com/copperlicht/"" rel=""nofollow noreferrer"">CopperLicht</a>, <a href=""http://www.kevs3d.co.uk/dev/phoria/"" rel=""nofollow noreferrer"">Phoria</a>, and <a href=""http://scenejs.org/"" rel=""nofollow noreferrer"">Scene</a>.</p>  <hr>  <p>I wouldn't recommend doing 3D visualizations on the browser in Python, since there are many libraries in JS that are quite powerful, and moving a computationally expensive task such as 3D rendering on the server might overload it, not to mention the lack of interactivity that server-side rendering might incur.</p>"
61154295	How can i connect a Javascript client to a Python-SocketIO server?	javascript|python|django|socket.io	2020-04-11 08:57:36.727000 UTC	"<p>I'm just getting started to Python-SocketIO, i created an example server, it looks like this:</p>  <pre><code>import eventlet import socketio  sio = socketio.Server()  app = socketio.WSGIApp(sio, static_files={     '/': {'content_type': 'text/html', 'filename': 'index.html'} })  @sio.on('connect') def connect(sid, environ):     print('connect ', sid)  @sio.on('msg') def message(sid, data):     print('message ', data)  @sio.on('disconnect') def disconnect(sid):     print('disconnect ', sid)  if __name__ == '__main__':     eventlet.wsgi.server(eventlet.listen(('', 5000)), app) </code></pre>  <p>Then, i have an <strong>HTML</strong> file which is running on a Django application, i would like to connect that client to my Python-SocketIO server:</p>  <pre><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js""&gt;&lt;/script&gt; &lt;script&gt;  socket = io.connect('');  socket.on('connect',function() {   console.log('Client has connected to the server!'); });  socket.on('msg',function(data) {   console.log('Received a message from the server!',data); });  socket.on('disconnect',function() {   console.log('The client has disconnected!'); });  // Sends a message to the server via sockets function send(message) {   socket.send('msg',message); };  &lt;/script&gt; </code></pre>  <p>The problem is that, on my client side, i keep getting the following errors:</p>  <pre><code>Access to XMLHttpRequest at 'http://localhost:5000/socket.io/?EIO=3&amp;transport=polling&amp;t=N5eSEa2' from origin 'http://127.0.0.1:8000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. localhost:5000/socket.io/?EIO=3&amp;transport=polling&amp;t=N5eSEa2:1 Failed to load resource: net::ERR_FAILED </code></pre>  <p>My Django server is running <code>on http://127.0.0.1:8000/</code>. Can anyone help me find what i'm doing wrong?</p>"	"<p>Set the CORS header on your server:</p>  <pre><code>sio = socketio.Server(cors_allowed_origins='*') </code></pre>  <p>(<a href=""https://stackoverflow.com/questions/57579110/how-to-fix-access-control-allow-origin-error-in-a-python-socket-io-server"">Source</a>)</p>"
61162150	"Tensorflow.js: Same model, major discrepancies in predictions between Python and In-browser JavaScript?"	tensorflow|tensorflow.js	2020-04-11 18:59:08.153000 UTC	"<p>A friend and I have been trying to run a model in the browser built with Keras using Tensorflow JS.  We followed <a href=""https://www.tensorflow.org/js/tutorials/conversion/import_keras#step_1_convert_an_existing_keras_model_to_tfjs_layers_format"" rel=""nofollow noreferrer"">the official tutorial</a> to do so but the predictions are different in the browser compared to Python. </p>  <p>Specifically, the model is an 1D CNN and its purpose is to classify 1D arrays (segments) of voltage recordings into a seizure or no seizure class. In the browser the score predictions of the model are consistently centered around 0.93 for the no seizure class, across all voltage segments, which is incorrect.</p>  <hr>  <h3>We used the following methods to export the model from Keras to a Tensorflow JS-compatible format:</h3>  <p><strong>With the tensorflowjs_converter CLI tool:</strong></p>  <pre class=""lang-sh prettyprint-override""><code>tensorflowjs_converter --input_format keras \                        path/to/my_model.h5 \                        path/to/tfjs_target_dir </code></pre>  <p><strong>Directly from Python:</strong></p>  <pre class=""lang-py prettyprint-override""><code> tfjs.converters.save_keras_model(model, tfjs_target_dir)  </code></pre>  <hr>  <h3>The 1D CNN model requires 3D data, so we have to reshape them on the fly.</h3>  <p><strong>In Python we simply use:</strong></p>  <pre class=""lang-py prettyprint-override""><code>data = data.reshape(data.shape[0], data.shape[1], 1) # data = tables instance prediction = model.predict(data)  </code></pre>  <p>This yields the correct predictions as expected.</p>  <p><strong>Here is how we load the model, reshape the data and run the model in the browser:</strong></p>  <pre class=""lang-js prettyprint-override""><code>let toPredict = tf.tensor2d(inputData, [inputData.length, inputData[0].length]) toPredict = toPredict.reshape([inputData.length, inputData[0].length, 1])  const model = await tf.loadLayersModel('/model/model.json'); predictions = await model.predict(toPredict).array(); </code></pre>  <p>This does not return any error, but yields incorrect predictions as described above.</p>  <hr>  <h3>Approaches we tried to troubleshoot this:</h3>  <p>1) Verified that the data were correctly loaded in the appropriate format. Exporting this data from the browser and passing them into the Python keras model resulted in correct predictions.</p>  <p>2) Verified that the model weights and architecture are the same in Python and in the browser.</p>  <p>3) Disabled WebGL.</p>  <p>4) Converted the model using two different techniques (see above).</p>  <p>However, none of this worked for us. Does anyone have any advice or recommendations on how to fix this issue? </p>  <p><strong>Frontend stack:</strong> </p>  <ul> <li>Latest Google Chrome / latest Firefox on Mac OS</li> <li>Tensorflow JS 1.7.2</li> </ul>  <p>Thanks in advance,</p>"	
61175965	Python equivalent to Javascript class and arrow function	javascript|python	2020-04-12 18:07:38.507000 UTC	"<p>I'm trying to get to grips with classes in python and explore javascript, so decided to convert a maze program in javascript as an learning exercise.  However, I'm stuck early on with the concept of declaring classes for the directions of travel.  Can someone help me out? </p>  <pre><code>class Direction {     constructor(char, reverse, increment,mask) {         this.char = char;         this.reverse = reverse;         this.increment = increment;         this.mask = mask;     }     toString() {         return this.char;     } }  const NORTH = new Direction(""⇧"", () =&gt; SOUTH, (x, y) =&gt; [x, y + 1],1); const SOUTH = new Direction(""⇩"", () =&gt; NORTH, (x, y) =&gt; [x, y - 1],2); const EAST = new Direction(""⇨"", () =&gt; WEST, (x, y) =&gt; [x + 1, y],4); const WEST = new Direction(""⇦"", () =&gt; EAST, (x, y) =&gt; [x - 1, y],8); </code></pre>  <p>Here is my attempt in python, which fails because I use SOUTH before defining, but don't know the python equivalent of arrow function which returns an element not yet declared:</p>  <pre><code>class Direction:      def __init__(self, char,reverse,increment,mask):           self.char = char         self.reverse = reverse         self.increment = increment         self.mask = mask      def __str__(self):         return self.char  NORTH = Direction(""⇧"", SOUTH, [x, y + 1],1) SOUTH = Direction(""⇩"", NORTH, [x, y - 1],2) EAST = Direction(""⇨"", WEST,  [x + 1, y],4) WEST = Direction(""⇦"", EAST,  [x - 1, y],8) </code></pre>"	"<p>You should just turn your class into an enum and reference directions as members of the enum so they do not resolve at definition time (which gets you an error of referencing a variable before assignment) but only when actually used.</p>  <pre class=""lang-py prettyprint-override""><code>from enum import Enum  class Direction(Enum):     def __init__(self, char, reverse, increment, mask):           self.char = char         self.reverse = reverse         self.increment = increment         self.mask = mask      def __str__(self):         return self.char       NORTH = Direction(""⇧"", Direction.SOUTH, [x, y + 1], 1)     SOUTH = Direction(""⇩"", Direction.NORTH, [x, y - 1], 2)     EAST = Direction(""⇨"", Direction.WEST,  [x + 1, y], 4)     WEST = Direction(""⇦"", Direction.EAST,  [x - 1, y], 8) </code></pre>"
61190321	Calling/Invoking a Javascript function from python a flask function within html	javascript|python|function|flask|routing	2020-04-13 14:42:18.337000 UTC	"<p>I was creating a flask application and tried to call a python function in which I wanted to invoke some javascript function/code regarding the HTML template that I returned on the initial <code>app.route('/')</code></p>  <p>If the user did something, then I called another function that should invoke or call a js function I have tried looking everywhere but I cannot make any sense of the solutions.</p>  <p>Here is the structure of my code:</p>  <pre><code>@app.route('/', methods=['GET', 'POST']) def upload_file():     if request.method == 'POST':         #verify if the file is valid         #here invoke js to do something (for example flash(""test""))     return '''     &lt;!doctype html&gt;     &lt;title&gt;Upload new File&lt;/title&gt;     &lt;h1&gt;Upload new File&lt;/h1&gt;     &lt;form method=post enctype=multipart/form-data&gt;       &lt;input type=file name=file&gt;       &lt;input type=submit value=Upload&gt;     &lt;/form&gt;     ''' </code></pre>"	"<p>You can load the Page with the JS, by passing an argument to jinja, And if it meets the condition Then the js gets loaded Otherwise it does not.</p> <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;     &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;title&gt;Upload new File&lt;/title&gt; &lt;/head&gt;  &lt;body&gt;     {% if flash_message == True %}     &lt;script&gt;         function YourFunction() {             alert(&quot;[YOUR_MESSAGE_HERE]&quot;);         }     &lt;/script&gt;     {% endif %}      &lt;h1&gt;Upload new File&lt;/h1&gt;      &lt;form method=post enctype=multipart/form-data&gt;         &lt;input type=file name=file&gt;         &lt;input type=submit value=Upload&gt;     &lt;/form&gt; &lt;/body&gt;  &lt;/html&gt; </code></pre> <p>Then you can Just pass flash_message to render_template Like so</p> <pre class=""lang-py prettyprint-override""><code>from flask import Flask, render_template  app = Flask(__name__)   @app.route('/', methods=['GET', 'POST']) def upload_file():     YOUR CODE...      return render_template('upload.html', flash_message=True) </code></pre>"
61190321	Calling/Invoking a Javascript function from python a flask function within html	javascript|python|function|flask|routing	2020-04-13 14:42:18.337000 UTC	"<p>I was creating a flask application and tried to call a python function in which I wanted to invoke some javascript function/code regarding the HTML template that I returned on the initial <code>app.route('/')</code></p>  <p>If the user did something, then I called another function that should invoke or call a js function I have tried looking everywhere but I cannot make any sense of the solutions.</p>  <p>Here is the structure of my code:</p>  <pre><code>@app.route('/', methods=['GET', 'POST']) def upload_file():     if request.method == 'POST':         #verify if the file is valid         #here invoke js to do something (for example flash(""test""))     return '''     &lt;!doctype html&gt;     &lt;title&gt;Upload new File&lt;/title&gt;     &lt;h1&gt;Upload new File&lt;/h1&gt;     &lt;form method=post enctype=multipart/form-data&gt;       &lt;input type=file name=file&gt;       &lt;input type=submit value=Upload&gt;     &lt;/form&gt;     ''' </code></pre>"	"<p>You could execute a JavaScript function on load and have the function check for the condition. You can influence the outcome of this check by changing the condition with Python. If you use the <a href=""https://flask.palletsprojects.com/en/1.1.x/tutorial/templates/"" rel=""noreferrer"">render_template</a> function of Flask, you do not have to write your HTML code within your Python file. For better readability I am using this functionality, but you can always put the HTML code into your Python code, as you have done before.</p>  <p>Your HTML template, e.g. named <code>upload.html</code>:   </p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=""en""&gt; &lt;head&gt;   &lt;meta charset=""UTF-8""&gt;   &lt;title&gt;Upload new File&lt;/title&gt; &lt;/head&gt; &lt;body onload=""flashMessage()""&gt;   &lt;script&gt;     function flashMessage() {       if (""{{ flash_message }}"" == ""True"") {         alert(""[YOUR_MESSAGE_HERE]"");       }     }   &lt;/script&gt;    &lt;h1&gt;Upload new File&lt;/h1&gt;   &lt;form method=post enctype=multipart/form-data&gt;     &lt;input type=file name=file&gt;     &lt;input type=submit value=Upload&gt;   &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Your Python code:</p>  <pre><code>from flask import Flask, render_template  app = Flask(__name__)   @app.route('/', methods=['GET', 'POST']) def upload_file():     if request.method == 'POST':         #verify if the file is valid         #here invoke js to do something (for example flash(""test""))         return render_template('upload.html', flash_message=""True"")      return render_template('upload.html', flash_message=""False"") </code></pre>  <p>So, the condition line in your HTML file will render to</p>  <pre><code>if (""True"" == ""True"") </code></pre>  <p>or</p>  <pre><code>if (""False"" == ""True"") </code></pre>  <p>depending on if you want the flash message to show or not.</p>"
61192478	Is there any way to have a discord bot in JavaScript and some comands in python?	javascript|python|discord|discord.js|discord.py	2020-04-13 16:38:26.440000 UTC	"<p>I have a discord bot in discord.js, but I have found a free version of the cleverbot API <a href=""https://github.com/plasticuproject/cleverbotfree"" rel=""nofollow noreferrer"">https://github.com/plasticuproject/cleverbotfree</a> and I want to have a command that works with that API. Is there a way to execute python in javascript?</p>"	<p>There is most likely no direct way that isn't super janky. You might want to set up a python program that exposes the information you need via an API and use that information in your node program. </p>
61193693	How to call a Javascript function from Python	javascript|python|client-server	2020-04-13 17:53:41.250000 UTC	"<p>I have a python code (server side) which doesn't interact with client side. However, I need to represent some items when it (server code) will has done. The only idea I came up with is the JS function which represents an item, calling from Python. Could you advise me either packages or another idea to implement this.</p>  <p><strong>Some Details</strong> (I do not aware is it necessary, but might be it's helpful)</p>  <pre class=""lang-py prettyprint-override""><code>async def start_delete_delay(app, delay):     """"""     The very function which thrust a delay for each front token.     Key arguments:     app -- our application.     delay -- a delay in seconds     """"""     async with app['db'].acquire() as conn:          # First of all we need to check for database emptiness         query = text(""SELECT True FROM tokens LIMIT(1)"")         if await conn.fetch(query):              # If database is not empty then we are processing a waiting delay.             # First, fetching an id &amp; related token from the first position (due to it queue) from database.             query = select([db.tokens.c.id, db.tokens.c.token]).order_by(asc(db.tokens.c.id)).limit(1)             query_result = await conn.fetchrow(query)              # Retrieving an id and token             id_before_sleep, token = query_result['id'], query_result['token']              # Setting a delay             try:                 await asyncio.sleep(delay)              # Some information related with cancellation error             # https://docs.python.org/3/library/asyncio-task.html#asyncio.Task.cancel             except asyncio.CancelledError:                 pass              # Check whether a token at the first place as same as it was before             finally:                  # If it possible but all of members picked their tokens over 60 seconds.                 if await conn.fetch(text(""SELECT True FROM tokens LIMIT(1)"")):                     query_result = await conn.fetchrow(query)                     id_after_sleep = query_result['id']                      # If they are same then we delete that token and starting delay again.                     if id_before_sleep == id_after_sleep:                         query = delete(db.tokens).where(db.tokens.c.id == id_before_sleep)                          # preparing a token for reuse.                         app['new_token'].prepare_used_token(token)                          # Deleting a token                         await conn.fetchrow(query)                          # I'd like to call a JS function (which I already have) here                          # Starting a delay for adjacent token, over and over and over                         task = make_task(start_delete_delay, app, delay)                         asyncio.gather(task) </code></pre>"	"<p>I found two solutions, so if someone faced with such problems try to use them:</p>  <p><strong>First solution</strong></p>  <p>The clue is WebSockets. I used <code>aiohttp</code> and <code>asyncio</code>.</p>  <p>In JavaScript file I added up a listening socket:</p>  <pre class=""lang-js prettyprint-override""><code>var socket = new WebSocket('/link-to-websocket') </code></pre>  <p>In server-side I added a websocket_handler, in my case it sending the message after deleting a toke from database</p>  <pre class=""lang-py prettyprint-override""><code>async def websocket_handler(request):      ws = web.WebSocketResponse()     await ws.prepare(request)      async for msg in ws:         if msg.type == aiohttp.WSMsgType.TEXT:             if app['updt_flag']:                 await ws.send_str(""signal"")             else:                 await ws.close()     return ws </code></pre>  <p>And adding it to routes</p>  <pre class=""lang-py prettyprint-override""><code>app.add_routes([web.get('/link-to-websocket', websocket_handler)]) </code></pre>  <p>1) <a href=""https://blog.sessionstack.com/how-javascript-works-deep-dive-into-websockets-and-http-2-with-sse-how-to-pick-the-right-path-584e6b8e3bf7"" rel=""nofollow noreferrer"">How JavaScript works: Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path</a></p>  <p>2) <a href=""https://docs.aiohttp.org/en/stable/web_quickstart.html#websockets"" rel=""nofollow noreferrer"">Python aiohttp websockets</a></p>  <p>However this method isn't the best, we don't use entire websocket's functionality therefore let's go ahead to another method: Server-Sent Events (SSE). This method is more suitable for the my problem because we always receiving response from server without request to it (whereas websockets doesn't incorporate such option):</p>  <p><strong>Second solution</strong> As I said above I will use SSE and for these purposes it required a sse-package</p>  <p><code>pip install aiohttp_sse</code></p>  <pre class=""lang-py prettyprint-override""><code> import asyncio from aiohttp_sse import sse_response   async def SSE_request(request):     loop = request.app.loop     async with sse_response(request) as resp:         while True:             if request.app['updt_flag']:                 await resp.send(""signal"")                 request.app['updt_flag'] = False             await asyncio.sleep(1, loop=loop)     return resp </code></pre>  <p>Adding route</p>  <p><code>web.get('/update', SSE_request)</code></p>  <p>Adding listening sse to JS:</p>  <pre class=""lang-js prettyprint-override""><code>const evtSource = new EventSource(""/update""); evtSource.onmessage = function(e) {                     display_queue_remove(); } </code></pre>  <p>Thats all:)</p>"
61203095	Call Python-script or PHP-script with JavaScript by Button-Click (RasperryPi)	javascript|python|php|ajax|raspberry-pi	2020-04-14 07:57:37.297000 UTC	"<p>I have a web interface on my raspberry pi. Threfore I'm trying to call a PHP script by clicking a button in JS. The function for the button is executed, but nothing (no success and no error function) is executed. <br><br> My function in <strong>index.html:</strong></p>  <pre><code>    function performPhpScript() {         $.ajax({             type: ""POST"",             async: false,             url: ""http://192.168.178.99/open.php"",             success: function () {                 alert(""Test1"");             },             error: function (requestObject, error, errorThrown) {                 alert(""Test2"");             }         });     } </code></pre>  <p><br> My <strong>open.php:</strong></p>  <pre><code>&lt;?php      echo shell_exec(""python /home/pi/Smoker/Autostart.py"");  ?&gt; </code></pre>  <p><br> The php script works fine, I tested it with following Python script:</p>  <pre><code>import subprocess  proc = subprocess.Popen(""php open.php"", shell = True, stdout = subprocess.PIPE) script_response = proc.stdout.read() </code></pre>  <p><br><br> Any ideas why nothing happens? <br><br> My initial aim was to execute a certain python script.. On the internet I found the possibility to perform it with an php script.. </p>"	
61211129	How do I make the same SHA256 encoded string in Javascript that I do in Python 3?	javascript|python|node.js|python-3.x|cryptography	2020-04-14 15:14:13.650000 UTC	"<p>I have this Python script which produces the correct output:</p>  <pre class=""lang-py prettyprint-override""><code>import hashlib  username = ""LoginUser"" password = ""LoginPass"" nonce = ""1234567890""  def LowerCase(s): return s.lower() def Hex(s): return ''.join([hex(char)[2:] for char in s])  def SHA1(s): h = hashlib.sha1(); h.update(s); return h.digest() def SHA1Raw(s): h = hashlib.sha1(); h.update(s); return h.hexdigest()  def SHA256(s): h = hashlib.sha256(); h.update(s); return h.digest() def SHA256Raw(s): h = hashlib.sha256(); h.update(s); return h.hexdigest()  def UTF8Encode(s): return str.encode(s)    step1 = SHA256((UTF8Encode(username))) step2 = SHA1((UTF8Encode(password)))  step3 = SHA256Raw(step1 + step2)  step1 = SHA256Raw((UTF8Encode(username))) step2 = SHA1Raw((UTF8Encode(password)))   print("""""" SHA256(username={username})                            =    {step1} SHA1(password={password})                              =    {step2} SHA256((username + password)={username}{password})     =    {step3} """""".format(     username = username,     password = password,     step1 = step1,     step2 = step2,     step3 = step3 ))  </code></pre>  <p>Output:</p>  <pre><code>PS D:\project&gt; python .\test.py SHA256(username=LoginUser)                            =    7981673b2c73a6bdb665f347dc89e9d324f542b1fa1c4a700bc523d8a9a6f565   SHA1(password=LoginPass)                              =    df703733447469593d39a125ca93462eade53cab SHA256((username + password)=LoginUserLoginPass)     =    cf3066e157468d6a9d59f9ff0662e4f8f8432be4e07c68320a8b6a031d0c022b </code></pre>  <p>Now in Javascript, I try to mirror the functions I have in Python. I cannot for the life of me. I tried quickly understanding Buffers and streams in this context but I believe I am just confusing myself further by not staying grounded to something.</p>  <p>Anyways here's the Javascript versiona and it's output:</p>  <pre class=""lang-js prettyprint-override""><code>const crypto = require('crypto')  const username = ""LoginUser"" const password = ""LoginPass"" const nonce = ""1234567890""  const LowerCase = s =&gt; s.toLowerCase() const Hex = s =&gt; Buffer.from(s, 'utf8').toString('hex')  const SHA1 = s =&gt; crypto.createHash('sha1').update(s, 'utf8').digest('hex') const SHA1Raw = s =&gt; crypto.createHash('sha1').update(s, 'utf8').digest()  const SHA256 = s =&gt; crypto.createHash('sha256').update(s, 'utf8').digest('hex') const SHA256Raw = s =&gt; crypto.createHash('sha256').update(s, 'utf8').digest()  const UTF8Encode = s =&gt; Buffer.from(s, 'utf8');   let step1 = SHA256(username) let step2 = SHA1(password) let step3 = SHA256Raw(step1.concat(step2))  console.log(` SHA256(username=${username})                            =    ${step1} SHA1(password=${password})                              =    ${step2} SHA256((username + password)=${username+password})      =    ${step3.toString('hex')} `) </code></pre>  <p>Output:</p>  <pre><code>PS D:\project&gt; node .\test.js   SHA256(username=LoginUser)                            =    7981673b2c73a6bdb665f347dc89e9d324f542b1fa1c4a700bc523d8a9a6f565 SHA1(password=LoginPass)                              =    df703733447469593d39a125ca93462eade53cab SHA256((username + password)=LoginUserLoginPass)      =    757101f0fd2628ce12dc039146f56da14a1e85a27fda5d68c2623f616c4fc3cc </code></pre>  <p>Can anyone help?</p>"	"<p>You only need a very small modification to make this work in Node.js.</p>  <p>I would suggest calculating the hashes as buffer objects, this makes the combined hash easier to calculate (since we don't need to parse from hex). </p>  <p>We do this by using <a href=""https://nodejs.org/api/buffer.html#buffer_class_method_buffer_concat_list_totallength"" rel=""nofollow noreferrer"">Buffer.concat</a> to concatenate the output of the previous hashes.</p>  <pre><code>const crypto = require('crypto')  const username = ""LoginUser"" const password = ""LoginPass"" const nonce = ""1234567890""  const LowerCase = s =&gt; s.toLowerCase() const Hex = s =&gt; Buffer.from(s, 'utf8').toString('hex')  const SHA1 = s =&gt; crypto.createHash('sha1').update(s, 'utf8').digest('hex') const SHA1Raw = s =&gt; crypto.createHash('sha1').update(s, 'utf8').digest()  const SHA256 = s =&gt; crypto.createHash('sha256').update(s, 'utf8').digest('hex') const SHA256Raw = s =&gt; crypto.createHash('sha256').update(s, 'utf8').digest()  const UTF8Encode = s =&gt; Buffer.from(s, 'utf8');   let step1 = SHA256Raw(username) // Get the SHA256 as a buffer. let step2 = SHA1Raw(password) // Get the SHA1 as a buffer. let step3 = SHA256Raw(Buffer.concat([step1, step2])) // Get the SHA256 of the previous steps concatenated as a buffer.  console.log(` SHA256(username=${username})                            =    ${step1.toString('hex')} SHA1(password=${password})                              =    ${step2.toString('hex')} SHA256((username + password)=${username+password})      =    ${step3.toString('hex')} `) </code></pre>  <p>This gives the correct result, e.g. </p>  <pre><code>SHA256(username=LoginUser)                            =    7981673b2c73a6bdb665f347dc89e9d324f542b1fa1c4a700bc523d8a9a6f565 SHA1(password=LoginPass)                              =    df703733447469593d39a125ca93462eade53cab SHA256((username + password)=LoginUserLoginPass)      =    cf3066e157468d6a9d59f9ff0662e4f8f8432be4e07c68320a8b6a031d0c022b </code></pre>"
61219287	Web scraping without Javascript in Python using requests	python|html|web|web-scraping|python-requests	2020-04-15 00:12:10.233000 UTC	"<p>So, I'm making a Python script, that gets a webpages content and compares it to a previously saved version to see if the webpage has changed. I'm getting the raw content using this method:</p>  <pre><code>def getcontent(url):     str = requests.get(url)     str = str.text     return(str) </code></pre>  <p>after that I'm doing some cleaning up of the content and quote escaping and such, but that's irrelevant. The issue I keep running into, is, that the webpage has got some JavaScript code, that generates a unique key that my method downloads. Each time you grab the webpage content, the key is different. I have zero idea what that key is for. The issue is, that if the key is different, the new content, and the saved content aren't identical. </p>  <p>How can I disable JavaScript from running when I request a webpage?</p>"	"<p>The token is generated server-side and can be used for various reasons (for example CSRF-token)</p>  <p>The token will always be in the content of your response, there is no JavaScript needed for that. </p>  <p>You should find a way to ignore / remove the token.</p>"
61243202	Javascript If versus Python if statements in While loop	javascript|python	2020-04-16 05:20:47.823000 UTC	"<p>I am having a hard time trying to port this Javascript code to Python. In Javascript the function can take two strings such as str1=123456, and str2=passwo. Then it will output something like p1a2s3s4w5o6</p>  <p>In python it just combines it. Someone please tell me how this could be done with if statements in python if even possible. Maybe I need to do it another way. Thanks for your help.</p>  <p>Python example</p>  <pre><code>def merge(str1, str2):     arr1 = str1.split();     arr2 = str2.split();     result = """";     index1 = 0;     index2 = 0;     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1];             print(""part1"")             index1 = index1+1;         if(index2 &lt; len(arr2)):             result += arr2[index2];             index2 = index2+1;     print(result);     return result; </code></pre>  <p>Javascript example</p>  <pre><code>function merge(str1, str2){     var arr1 = str1.split("""");     var arr2 = str2.split("""");     var result = """";     var index1 = 0;     var index2 = 0;     while((index1 &lt; arr1.length) || (index2 &lt; arr2.length)){         if(index1 &lt; arr1.length){             result += arr1[index1];             index1++;         }         if(index2 &lt; arr2.length){             result += arr2[index2];             index2++;         }     }     return result; } </code></pre>"	"<p>First of all, in python you don't need semi-columns at the end of statement. Second, when you split() string in python, it's split it by default from spaces, so it's create for you list of 1 object. so you don't need to split because python string it's already array-like.</p>  <p>and this is your fixed code (i just delete the split and rename the parameters to be arr instead of str):</p>  <pre><code>def merge(arr1, arr2):     result = """"     index1 = 0     index2 = 0     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1];             print(""part1"")             index1 = index1+1         if(index2 &lt; len(arr2)):             result += arr2[index2];             index2 = index2+1     print(result)     return result </code></pre>"
61243202	Javascript If versus Python if statements in While loop	javascript|python	2020-04-16 05:20:47.823000 UTC	"<p>I am having a hard time trying to port this Javascript code to Python. In Javascript the function can take two strings such as str1=123456, and str2=passwo. Then it will output something like p1a2s3s4w5o6</p>  <p>In python it just combines it. Someone please tell me how this could be done with if statements in python if even possible. Maybe I need to do it another way. Thanks for your help.</p>  <p>Python example</p>  <pre><code>def merge(str1, str2):     arr1 = str1.split();     arr2 = str2.split();     result = """";     index1 = 0;     index2 = 0;     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1];             print(""part1"")             index1 = index1+1;         if(index2 &lt; len(arr2)):             result += arr2[index2];             index2 = index2+1;     print(result);     return result; </code></pre>  <p>Javascript example</p>  <pre><code>function merge(str1, str2){     var arr1 = str1.split("""");     var arr2 = str2.split("""");     var result = """";     var index1 = 0;     var index2 = 0;     while((index1 &lt; arr1.length) || (index2 &lt; arr2.length)){         if(index1 &lt; arr1.length){             result += arr1[index1];             index1++;         }         if(index2 &lt; arr2.length){             result += arr2[index2];             index2++;         }     }     return result; } </code></pre>"	"<p>Use:</p>  <pre><code>def merge(str1, str2):     return """".join(x + y for x, y in zip(str(str1), str(str2)))  print(merge(""passwo"", 123456)) </code></pre>  <p>This prints:</p>  <pre><code>p1a2s3s4w5o6 </code></pre>"
61243202	Javascript If versus Python if statements in While loop	javascript|python	2020-04-16 05:20:47.823000 UTC	"<p>I am having a hard time trying to port this Javascript code to Python. In Javascript the function can take two strings such as str1=123456, and str2=passwo. Then it will output something like p1a2s3s4w5o6</p>  <p>In python it just combines it. Someone please tell me how this could be done with if statements in python if even possible. Maybe I need to do it another way. Thanks for your help.</p>  <p>Python example</p>  <pre><code>def merge(str1, str2):     arr1 = str1.split();     arr2 = str2.split();     result = """";     index1 = 0;     index2 = 0;     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1];             print(""part1"")             index1 = index1+1;         if(index2 &lt; len(arr2)):             result += arr2[index2];             index2 = index2+1;     print(result);     return result; </code></pre>  <p>Javascript example</p>  <pre><code>function merge(str1, str2){     var arr1 = str1.split("""");     var arr2 = str2.split("""");     var result = """";     var index1 = 0;     var index2 = 0;     while((index1 &lt; arr1.length) || (index2 &lt; arr2.length)){         if(index1 &lt; arr1.length){             result += arr1[index1];             index1++;         }         if(index2 &lt; arr2.length){             result += arr2[index2];             index2++;         }     }     return result; } </code></pre>"	"<p>If both strings have the same length, you could replace the whole function by list comprehension:</p>  <pre><code>result = """".join([f""{str2[ind]}{str1[ind]}"" for ind in range(len(str1))]) </code></pre>  <p>As a function:</p>  <pre><code>def merge(str1, str2):     return """".join([f""{str2[ind]}{str1[ind]}"" for ind in range(len(str1))]) </code></pre>"
61243202	Javascript If versus Python if statements in While loop	javascript|python	2020-04-16 05:20:47.823000 UTC	"<p>I am having a hard time trying to port this Javascript code to Python. In Javascript the function can take two strings such as str1=123456, and str2=passwo. Then it will output something like p1a2s3s4w5o6</p>  <p>In python it just combines it. Someone please tell me how this could be done with if statements in python if even possible. Maybe I need to do it another way. Thanks for your help.</p>  <p>Python example</p>  <pre><code>def merge(str1, str2):     arr1 = str1.split();     arr2 = str2.split();     result = """";     index1 = 0;     index2 = 0;     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1];             print(""part1"")             index1 = index1+1;         if(index2 &lt; len(arr2)):             result += arr2[index2];             index2 = index2+1;     print(result);     return result; </code></pre>  <p>Javascript example</p>  <pre><code>function merge(str1, str2){     var arr1 = str1.split("""");     var arr2 = str2.split("""");     var result = """";     var index1 = 0;     var index2 = 0;     while((index1 &lt; arr1.length) || (index2 &lt; arr2.length)){         if(index1 &lt; arr1.length){             result += arr1[index1];             index1++;         }         if(index2 &lt; arr2.length){             result += arr2[index2];             index2++;         }     }     return result; } </code></pre>"	"<p>Python 3 provides direct typecasting of string into list using list() and remove semicolons.</p>  <p>Use </p>  <pre><code>    arr1 = list(str1)     arr2 = list(str2) </code></pre>  <p>instead of </p>  <pre><code>    arr1 = str1.split();     arr2 = str2.split(); </code></pre>  <p>entire code:</p>  <pre><code>def merge(str1, str2):     arr1 = list(str1)     arr2 = list(str2)     result = """"     index1 = 0     index2 = 0     while ((index1 &lt; len(arr1)) or (index2 &lt; len(arr2))):         if(index1 &lt; len(arr1)):             result += arr1[index1]             print(""part1"")             index1 = index1+1         if(index2 &lt; len(arr2)):             result += arr2[index2]             index2 = index2+1     print(result)     return result </code></pre>"
61248766	Streaming data to axios Javascript frontend from Flask python backend	javascript|python|flask|backend	2020-04-16 11:10:09.777000 UTC	"<p>I am trying to send multiple packets of data back from my backend to my frontend. I don't know how I could get more data returned then only one 'packet' I have tried looking into socketIO but this hasn't helped me so far. I have also tried using axios for the same results with no succes.</p>  <p>this is what I have as a function in my frontend:</p>  <pre class=""lang-js prettyprint-override""><code>    functionExample() {         var bodyFormData = new FormData();          bodyFormData.append('test', 'test');          axios({             method: 'POST',             url: 'http://ip:port/',             data: bodyFormData,             headers: {'Content-Type': 'multipart/form-data' }         })             .then(function (r) {console.log(r.data);});     } </code></pre>  <p>The Flask backend wait's untill the full body is ran before returning something, thus calling the '.then' method.</p>  <p>What I want to do is recieving multiple packets of data for the progress that the backend has made for ex.</p>  <pre class=""lang-py prettyprint-override""><code>@app.route('/', methods=['POST']) def get_spotify_info():     await method1()     'return function 1 done'     await method2()     'return function 2 done'     'return done' </code></pre>  <p>I have no idea what this process is actually called, I have seen things about 'piping' or 'streaming' but I am not sure if this is the thing I am looking for.</p>"	
61251363	Javascript/Python - click a button on a website and run a function in python	javascript|python|python-3.x|websocket|network-programming	2020-04-16 13:24:16.997000 UTC	"<p>It is currently 2:17PM and I have been working on this since 8AM. I usually do python. I want to make a array of buttons where clicking a button will run a python function on the server. I want to do this by sending a web request from the client javascript to a python server, which will receive it, parse it, and run the correct function. I have tried webhooks, websockets, ajax, and manually parsing GET and POST requests. I can't get it to work, there seems to be nothing online about webhooks in python, python websocket API's insist you use async and don't even work, I barely understand ajax but it doesn't let you change ports, and when I try to manually parse requests all I get is the initial connection and clicking the button won't send any more.</p>  <p>This is my latest attempt client side, get request parsing (I wanted to change ports or parse the headers but I only get data when the sockets in python first create the connection, I get nothing later when I click the button.)</p>  <pre><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Dashboard v0.1&lt;/title&gt; &lt;script&gt;     function send(theUrl)     {         var xmlHttp = new XMLHttpRequest();         xmlHttp.open( ""GET"", theUrl, false);         xmlHttp.send(null);         return xmlHttp.responseText;     } &lt;/script&gt;  &lt;style&gt;     body {         width: 35em;         margin: 0 auto;         font-family: Tahoma, Verdana, Arial, sans-serif;     } &lt;/style&gt;  &lt;/head&gt; &lt;body&gt;     &lt;button type=""button"" onclick=""send(""http://127.0.0.1:34000"")""&gt;Test&lt;/button&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>This is my latest attempt server side:</p>  <pre><code>from threading import * from socket import *  server = socket(AF_INET, SOCK_STREAM) Port = 34000  Host = """" BufferSize = 2048 server.bind((Host, Port)) server.listen(1000)  while True:     connection, address = server.accept()     print(""Accepted connection"")      while True:         response = connection.recv(BufferSize).decode(""utf8"")         print(str(response))  </code></pre>  <p>Please help. I just want to send a request. I frankly don't give a shit about security, it's on my home network. I don't know javascript, this is all code snippets.</p>"	"<p>I found the answer! Simply reply with <code>HTTP/1.1 200 OK</code> to shut the browser up. Here's my implementation:</p>  <pre><code>def listen(id, server):     while True:         client_connection, client_address = server.accept()         request_data = client_connection.recv(1024)         executeCommand(id)          http_response = b""""""\     HTTP/1.1 200 OK     """"""         client_connection.sendall(http_response)         client_connection.close()          print(str(id))``` </code></pre>"
61289336	Ajax cannot call python function from javascript	javascript|python|jquery|ajax|function	2020-04-18 12:46:54.057000 UTC	"<p>I cannot call the following function in a .py file from a javascript.</p>  <p>For context: I am running a .py file with flask in a virtual environment. The html page mentioned within the .py file launches as it should on a localhost. Everything else within the page works as it should. Except that I cannot get a list i need from the .py file.</p>  <p>This is what my ajax call in my javascript looks like (I actually had this at the end of another javascript function that works fine, putting the whole thing here didn't seem necessary as I believe the issue is with this ajax call and not with the function it is under):</p>  <pre><code>$.getJSON('/api/',     function() {     listMaker()   }); </code></pre>  <p>This is what my .py file looks like (I have simplified the function returning the list, it is more complex but would take up too much space. The jist of it is that i need it to return a list):    </p>  <pre><code>from flask import Flask, request, jsonify, render_template  app = Flask(__name__)  @app.route(""/"") # implements the basic ""root"" / controller def main():     return render_template(""testPage.html"")  @app.route('/api/', methods=[""POST"",""GET""]) def listMaker():     return[1,2,3,4,5,7] </code></pre>  <p>Just in case the ajax script i am calling is wrong, here is a look at it in my html file:</p>  <pre><code>&lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js""&gt;&lt;/script&gt; </code></pre>  <p>I have seen several similar questions on here and have tried using their methods/advice. But for whatever reason, regardless of what i try, it does not seem like my ajax call to the python function is working. Any and all advice on the matter would be greatly appreciated! :)</p>"	
61309517	Is there .count method in javascript like python?	javascript|arrays|count	2020-04-19 18:25:53.290000 UTC	"<p>In Python, if we have a list,</p>  <pre class=""lang-py prettyprint-override""><code>array = [1,2,3,4,5] </code></pre>  <p>If we say <code>array.count(1)</code>, it will return the count of 1 in <code>array</code>.</p>  <p>Is there a method like this in javascript?</p>"	"<p>I think there isn't. But you can make one by using <code>prototype</code>.</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>let array = [1,2,3,4,5,1];  Array.prototype.count = function(value) {     let count = 0;      this.forEach(item =&gt; {  if (item === value) {      count++;  }     });      return count; }  console.log(array.count(1)); console.log(array.count(2));</code></pre> </div> </div> </p>"
61352783	Pull values from javascript source in Python BeautifulSoup	javascript|python|web-scraping|beautifulsoup	2020-04-21 20:37:12.320000 UTC	"<p>I'm pretty new to web scraping and was wondering if it's possible to extract the information I need from a javascript app. Currently, I'm using beautifulsoup in python and am interested in this output from the html parser:</p> <pre><code>&lt;p&gt;&lt;script&gt; var acct = '488'; var loc = ''; var cat = ''; var stylesheet=''; var hideLastnames = true; var jsHost = ((&quot;https:&quot; == document.location.protocol) ? &quot;https://&quot; : &quot;http://&quot;); document.write(&quot;&lt;scr&quot;+&quot;ipt src='&quot;+jsHost+&quot;ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js' type='text/javascript'&gt;&lt;/scr&quot;+&quot;ipt&gt;&quot;); document.write(&quot;&lt;scr&quot;+&quot;ipt&gt;var jQuery = jQuery.noConflict(true);&lt;/scr&quot;+&quot;ipt&gt;&quot;); document.write(&quot;&lt;scr&quot;+&quot;ipt src='&quot;+jsHost+&quot;www.groupexpro.com/schedule/embed/schedule_embed_responsive.js.php?a=&quot;+acct+&quot;' type='text/javascript'&gt;&lt;/scr&quot;+&quot;ipt&gt;&quot;); &lt;/script&gt;&lt;/p&gt; </code></pre> <p>In the actual website (<a href=""https://recreation.gocrimson.com/fitness/schedules"" rel=""nofollow noreferrer"">https://recreation.gocrimson.com/fitness/schedules</a>), it looks like <a href=""https://i.stack.imgur.com/eaUad.png"" rel=""nofollow noreferrer"">this</a>. Ideally, I would want to store a json with all the information listed in the table. Has anyone had experience doing something similar?</p>"	"<p><a href=""https://recreation.gocrimson.com/fitness/schedules"" rel=""nofollow noreferrer"">https://recreation.gocrimson.com/fitness/schedules</a> requests a different URL to get the schedule data in JSONP format. </p>  <p><code>URL:https://www.groupexpro.com/schedule/embed/json.php?schedule&amp;instructor_id=true&amp;format=jsonp&amp;a=488&amp;location=&amp;category=&amp;start=1587380400&amp;end=1587898800</code></p>  <p>Try to understand the URL and modify it to for your purpose.</p>  <p>Example</p>  <pre><code>from bs4 import BeautifulSoup import requests import json   headers ={""User-Agent"":""Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Firefox/77.0""}  page=requests.get(""https://www.groupexpro.com/schedule/embed/json.php?schedule&amp;instructor_id=true&amp;format=jsonp&amp;a=488"",headers=headers)  #Extract json from jsonp jsondata='{'+page.text.split('{')[1].split('}')[0]+'}'  #can also be loaded into python dict using data=json.loads(jsondata)  </code></pre>"
61356082	Load CSV file into static Python Bokeh Web app with JavaScript Papa Parse	javascript|python|bokeh|papaparse	2020-04-22 02:01:47.793000 UTC	"<p>I have a static Bokeh web app for local use and I want to be able to load a file using javascript without running python. The idea is to be able to share Bokeh output_html file with other non-python users to run it and load their data with a file selector for interactive visualization. I made a very rough code based on <a href=""https://stackoverflow.com/questions/38100011/using-papa-parse-for-big-csv-files"">this post</a> and <a href=""https://stackoverflow.com/questions/34680708/load-graph-data-from-files-on-button-click-with-bokeh"">this post</a></p>  <p>I have no knowledge in JS and I apologize in advance for the bad implementation. Please feel free if you have a similar example or a simpler approach to read a file without bokeh server.</p>  <pre><code>from bokeh.models.widgets import Toggle from bokeh.plotting import figure, output_file, show  output_file(""load_data_buttons.html"")  x = [0] y = x  source = ColumnDataSource(data=dict(x=x, y=y))  plot = figure(plot_width=400, plot_height=400) plot.line('x', 'y', source=source, line_width=3, line_alpha=0.6)  callback = CustomJS(args=dict(source=source), code=""""""        // initialize our parsed_csv to be used wherever we want var parsed_csv; var start_time, end_time;          // document.ready         $(function() {            $('.load-file').on('click', function(e) {             start_time = performance.now();             $('#report').text('Processing...');              console.log('initialize worker');              var worker = new Worker('worker.js');             worker.addEventListener('message', function(ev) {               console.log('received raw CSV, now parsing...');                // Parse our CSV raw text               Papa.parse(ev.data, {                 header: true,                 dynamicTyping: true,                 complete: function (results) {                     // Save result in a globally accessible var                   parsed_csv = results;                   console.log('parsed CSV!');                   console.log(parsed_csv);                    $('#report').text(parsed_csv.data.length + ' rows processed');                   end_time = performance.now();                   console.log('Took ' + (end_time - start_time) + "" milliseconds to load and process the CSV file."")                 }               });                // Terminate our worker               worker.terminate();             }, false);              // Submit our file to load             var file_to_load = document.getElementById(""myFile"").files[0];              console.log('call our worker');             worker.postMessage({file: file_to_load});           });          });          x =  parsed_csv.data['x']         y =  parsed_csv.data['y']         #load data stored in the file name and assign to x and y         source.trigger('change');     """""")  toggle1 = Toggle(label=""Load data file 1"", callback=callback)  layout = Row(toggle1, plot)  show(layout) </code></pre>  <p><strong>worker.js</strong></p>  <pre><code>self.addEventListener('message', function(e) {     console.log('worker is running');      var file = e.data.file;     var reader = new FileReader();      reader.onload = function (fileLoadedEvent) {         console.log('file loaded, posting back from worker');          var textFromFileLoaded = fileLoadedEvent.target.result;          // Post our text file back from the worker         self.postMessage(textFromFileLoaded);     };      // Actually load the text file     reader.readAsText(file, ""UTF-8""); }, false); </code></pre>  <p>The csv file has x,y data</p>  <pre><code>x   y 0   0 1   1 2   2 3   3 4   4 </code></pre>"	"<p>You don't need Web Workers to achieve it, especially if you're not comfortable with JavaScript. Here's how I would do it:</p>  <pre class=""lang-py prettyprint-override""><code>from bokeh.layouts import row, column from bokeh.models import Div, ColumnDataSource, CustomJS, FileInput from bokeh.plotting import figure, save  source = ColumnDataSource(data=dict(x=[0], y=[0]))  plot = figure(plot_width=400, plot_height=400) plot.line('x', 'y', source=source, line_width=3, line_alpha=0.6)  fi_label = Div(text='Load data file 1') fi = FileInput() status = Div()  callback = CustomJS(args=dict(source=source,                               status=status),                     code="""""" status.text = 'Loading...'; Papa.parse(atob(cb_obj.value), {     // For some reason, Papa didn't detect it automatically.     delimiter: '\t',     header: true,     dynamicTyping: true,     complete: function (results) {         const acc = results.meta.fields.reduce((acc, f) =&gt; {             acc[f] = [];             return acc;         }, {});         source.data = results.data.reduce((acc, row) =&gt; {             for (const k in acc) {                 acc[k].push(row[k]);             }             return acc;         }, acc);         status.text = 'Ready!';     } }); """""")  fi.js_on_change('value', callback)  template = """"""\ {% block preamble %} &lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js""         integrity=""sha256-Fh801SO9gqegfUdkDxyzXzIUPWzO/Vatqj8uN+5xcL4=""         crossorigin=""anonymous""&gt;&lt;/script&gt; {% endblock %} """""" # Cannot use `show` because it doesn't have the `template` argument. save(column(row(fi_label, fi), plot), template=template) </code></pre>"
61357222	How to handle webelement's id - not attribute id(!) in javascript from selenium-python?	javascript|python|selenium	2020-04-22 04:14:21.973000 UTC	"<p>I need to handle webelements by identifying them uniquely. Attribute id has known limitations: it might be missing and it might be non-unique. There is a possibility to use evaluate, and I'm interested whether it's possible to identify elements by their id - not attribute id?</p>  <p>Please consider the following code: I search element by its attribute id and then print its id - they are absolutely different</p>  <pre><code>&gt; Blockquote &gt;&gt;&gt; elem=driver.find_element(‘id’, ‘userInfoWhoRadioGroup_errorMessage’) &gt;&gt;&gt; elem.id ‘0ce5ef48-df80-487f-ada2-fc999dedb614’ &gt;&gt;&gt; e.get_attribute(‘id’) ‘userInfoWhoRadioGroup_errorMessage’ &gt;&gt;&gt; &gt; Blockquote The beauty of the element's id is that every element has it and that it's unique. </code></pre>  <p>Some more details: the elements I need to handle are already found using webdriver, I have them and their ids. Now I'd like to run javascript on them (without refreshing the page that would change the ids). And I'm looking for a way to uniquely identify them by these ids</p>"	"<p>HTML attribute <kbd>id</kbd> and <kbd>elem.id</kbd> are completely of 2 different things. The HTML id is specified in the HTML, where was <code>elem.id</code> is the <code>id</code> assigned to the element by selenium. This will be always unique and also changes when the page is refreshed/reloaded.</p>  <p>I would <strong>not</strong> recommend using <kbd>elem.id</kbd> for identification purpose.</p>  <p>You can interact with the element using the below</p>  <pre><code>driver.execute_script(""arguments[0].textContent"", elem) </code></pre>"
61372789	How to pass variable from javascript to python without ajax?	javascript|python|html|ajax|flask	2020-04-22 18:46:47.247000 UTC	"<p>I have a get method in javascript where i download some data from a website. I load the data into a variable and I want to send the variable to python. How can I achieve this without using ajax? I have managed to pass the variable to python by using ajax post, but the problem is that I cannot render a template back in the python method. Moreover, I don't want to render the template from inside the javascript file, because the variables for the render depend upon some if else statements from python.</p>"	<p>Use form submit... And put action and method in th form tag</p>
61379590	"Create dict from local variables like JavaScript `{ var1, var2, ...}` with Python"	python|dictionary	2020-04-23 04:52:06.707000 UTC	"<ul> <li>For JavaScript, object can be created by</li> </ul> <pre><code>a=1; obj={ a }  // JSON.stringify(obj) == '{&quot;a&quot;:1}' </code></pre> <p>this make the <code>obj</code> has key <code>a</code> and its value is <code>1</code></p> <ul> <li>For Python code is:</li> </ul> <pre><code>a = 1 obj = { 'a': a } </code></pre> <p>Is it possible to create a function or class that make code like this?</p> <pre><code>a = 1 obj = func_or_class(a)  # obj == {'a': 1} </code></pre>"	"<p>Since all the built-in members of <code>locals()</code> starts and ends with <code>__</code>, you can filter them out by these prefix and suffix. In addition, you can filter out functions by using <code>callable</code>:</p>  <p>For example:</p>  <pre><code>a = 1 b = 2 output = {k:v for k,v in locals().items() if not (k.startswith(""__"") and k.endswith(""__"")) and not callable(v)} print(output) # output: {'a': 1, 'b': 2} </code></pre>"
61379590	"Create dict from local variables like JavaScript `{ var1, var2, ...}` with Python"	python|dictionary	2020-04-23 04:52:06.707000 UTC	"<ul> <li>For JavaScript, object can be created by</li> </ul> <pre><code>a=1; obj={ a }  // JSON.stringify(obj) == '{&quot;a&quot;:1}' </code></pre> <p>this make the <code>obj</code> has key <code>a</code> and its value is <code>1</code></p> <ul> <li>For Python code is:</li> </ul> <pre><code>a = 1 obj = { 'a': a } </code></pre> <p>Is it possible to create a function or class that make code like this?</p> <pre><code>a = 1 obj = func_or_class(a)  # obj == {'a': 1} </code></pre>"	"<p>After trying a lot, the following code is nearly what I want:</p>  <pre><code>class LocalDict(dict):     def __new__(cls, spaces, attrs):          return {k: v for k, v in spaces.items() if k in attrs.split()}  def foo():     a = 1     b = c = 2     my_dict = LocalDict(locals(), 'a b c')     return my_dict  print(foo())  # {'a': 1, 'b': 2, 'c': 2} </code></pre>  <p>And I wonder whether there is some way that I don't need to pass <code>locals</code> to the <code>LocalDict</code> class.</p>"
61379590	"Create dict from local variables like JavaScript `{ var1, var2, ...}` with Python"	python|dictionary	2020-04-23 04:52:06.707000 UTC	"<ul> <li>For JavaScript, object can be created by</li> </ul> <pre><code>a=1; obj={ a }  // JSON.stringify(obj) == '{&quot;a&quot;:1}' </code></pre> <p>this make the <code>obj</code> has key <code>a</code> and its value is <code>1</code></p> <ul> <li>For Python code is:</li> </ul> <pre><code>a = 1 obj = { 'a': a } </code></pre> <p>Is it possible to create a function or class that make code like this?</p> <pre><code>a = 1 obj = func_or_class(a)  # obj == {'a': 1} </code></pre>"	"<p>It all depends on the way you need to work with the data, really. Your methods above are sound, especially the dict comprehension. So other than the old-fashioned way:</p>  <p><code>{""key"": ""value"", ... }</code></p>  <p>I'd say you're doing it right. If you have a specific example, you can edit your question and I will try to work off that.</p>  <p>Hope that helps!</p>"
61379590	"Create dict from local variables like JavaScript `{ var1, var2, ...}` with Python"	python|dictionary	2020-04-23 04:52:06.707000 UTC	"<ul> <li>For JavaScript, object can be created by</li> </ul> <pre><code>a=1; obj={ a }  // JSON.stringify(obj) == '{&quot;a&quot;:1}' </code></pre> <p>this make the <code>obj</code> has key <code>a</code> and its value is <code>1</code></p> <ul> <li>For Python code is:</li> </ul> <pre><code>a = 1 obj = { 'a': a } </code></pre> <p>Is it possible to create a function or class that make code like this?</p> <pre><code>a = 1 obj = func_or_class(a)  # obj == {'a': 1} </code></pre>"	"<p>How about this?</p>  <pre><code>var1 = 1 var2 = 2 var3 = 3 my_dict = {k: v for k, v in locals().items() if k.startswith('var')} </code></pre>  <p>or</p>  <pre><code>var1 = 1 var2 = 2 var3 = 3 var4 = ""abc"" my_dict = {k: v for k, v in locals().items() if isinstance(v, int) or isinstance(v, str)} </code></pre>"
61422763	Click on list item based on name using javascript with Selenium Python	javascript|python|html|jquery|selenium	2020-04-25 08:12:32.673000 UTC	"<p>I'm working on a web form and I'm trying to click on a given <code>li</code> within a <code>ul</code> based on the list item's name. So in the below example I would need to click on the option with the text = ""Your Employer"". I managed to do this with the classic <code>driver.find_element_by_xpath</code> but since performance is a big factor on my project, I would need to select all dropdown options with Javascript. I managed to fill out all input fields of the form but I cannot do the same for the dropdown menus.</p>  <pre><code>div class=""ui-selectmenu-menu ui-front ui-selectmenu-open"" id=""RegisteredOwner-menu-wrap"" style=""top: 1898px; left: 130px;"" xpath=""1""&gt; &lt;ul aria-hidden=""false"" aria-labelledby=""RegisteredOwner-button"" id=""RegisteredOwner-menu"" class=""ui-menu ui-widget ui-widget-content ui-corner-bottom"" role=""listbox"" tabindex=""0"" aria-activedescendant=""ui-id-109"" aria-disabled=""false"" style=""width: 281px;""&gt;     &lt;li class=""ui-menu-item"" id=""ui-id-108"" tabindex=""-1"" role=""option""&gt;         Please select     &lt;/li&gt;     &lt;li class=""ui-menu-item ui-state-focus"" id=""ui-id-109"" tabindex=""-1"" role=""option""&gt;The Insured&lt;/li&gt;     &lt;li class=""ui-menu-item"" id=""ui-id-114"" tabindex=""-1"" role=""option""&gt;Finance/Lease Company&lt;/li&gt;     &lt;li class=""ui-menu-item"" id=""ui-id-115"" tabindex=""-1"" role=""option""&gt;Your Employer&lt;/li&gt;     &lt;li class=""ui-menu-item"" id=""ui-id-116"" tabindex=""-1"" role=""option""&gt;None of the Above&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; </code></pre>  <p>I tried many alternatives but with no success. I managed to open the dropdown but I can't select the specific option. I know this could be done using the option id but I would need to do this with the option name/text as an input.</p>  <p>I believe something similar to this should work:</p>  <pre><code>def populate_dropdown(driver, xls):     elem = driver.find_element_by_xpath(""//li[@class='ui-menu-item'][contains(text(),'"" + str(xls) + ""')]"")     driver.execute_script(""arguments[0].click();"", elem) </code></pre>  <p>Any help will be much appreciated.</p>"	"<p>At first you need click on <strong>dropdown</strong> field so that all list element gets loaded. Note: In this case, all list value are dynamic, these value could have the dependency on other field.</p>  <p>Then after use explicit wait to get your required element get loaded. Once the  element is visible , use <strong>click</strong> to select the value . <em>Ex: xpath= //li[text()='textInput']</em></p>  <p>There is no need of using contains in xpath here, you can directly go with text.</p>  <p>I have also gone through this kind of scenario...I guess this would help</p>"
61423882	Python passing javascript to true/false	python|selenium|web|driver	2020-04-25 09:56:16.137000 UTC	"<p>So I am trying to create a python program that checks if an item is instock or out of stock. To do this I use the selenium chrome web driver. In order to check if an item is in stock, I use this code:</p>  <pre><code>print(driver.execute_script(""return document.body.innerText.includes('sold out')"")) </code></pre>  <p>I wish to use this in an if statement so I can make it run a Discord webhook if it comes back true/false.</p>  <pre><code>if(driver.execute_script(""return document.body.innerText.includes('sold out')"" == 'False')): </code></pre>  <p>The code without the if statement runs fine.</p>"	"<p>I figured it out! Sorry.</p>  <p>test = (driver.execute_script(""return document.body.innerText.includes('sold out')""))</p>"
61433679	Python JSON to Javascript	javascript|python	2020-04-25 22:56:19.180000 UTC	"<p>With this line of code in python I created JSON containing multiple messages:</p>  <pre><code>notification = [{                  'message': 'This is the homepage',                  'username': 'User',                  'room': 'Home',                  'timestamp': '11:59'                  },                 {                  'message': 'Hello World!',                  'username': 'User',                  'room': 'Home',                  'timestamp': '12:00'                }]  return render_template(""chat.html"",  messages = notification) </code></pre>  <p>Now I would like to print all the messages on the webpage, so I sent all the information to javascript. But when the output of the following script returns an empty string.</p>  <pre><code>const message = `{{messages}}`; console.log(message); </code></pre>  <p>Why is the string empty?</p>"	"<p>Try passing the notification as json to the template</p>  <p>Flask</p>  <pre><code>return render_template(""chat.html"",  messages = json.dumps(notification)) </code></pre>  <p>Template</p>  <pre><code>const message = JSON.parse('{{messages | tojson | safe}}'); console.log(message) </code></pre>"
61433679	Python JSON to Javascript	javascript|python	2020-04-25 22:56:19.180000 UTC	"<p>With this line of code in python I created JSON containing multiple messages:</p>  <pre><code>notification = [{                  'message': 'This is the homepage',                  'username': 'User',                  'room': 'Home',                  'timestamp': '11:59'                  },                 {                  'message': 'Hello World!',                  'username': 'User',                  'room': 'Home',                  'timestamp': '12:00'                }]  return render_template(""chat.html"",  messages = notification) </code></pre>  <p>Now I would like to print all the messages on the webpage, so I sent all the information to javascript. But when the output of the following script returns an empty string.</p>  <pre><code>const message = `{{messages}}`; console.log(message); </code></pre>  <p>Why is the string empty?</p>"	"<p>What you are passing in the <code>notification</code> variable isn't actually JSON, it's a Python list. You need to use <code>json.dumps</code> to convert it to an actual JSON string.</p>  <p>Then in your JS you will need to wrap the string in quotes (single quotes best as JSON uses double quotes) so that your JS is syntactically valid. You can then even use Javascript's <code>JSON.parse</code> to convert it to a JS array:</p>  <pre><code>const message = '{{messages}}' ; console.log(JSON.parse(message) ); </code></pre>"
61458518	Websocket Secure using Javascript client and Python server	python|php|ssl|websocket|wss	2020-04-27 12:06:03.097000 UTC	"<p>I have embarked on a learning quest about sockets, particularly websockets. I wish to use a php website as a front end, while using a regular python script (not via CGI) as my server side script. I wish to use https for my webpage and the secure version of websockets (wss) but can't seem to find anything that works. Could someone point me in the right direction?</p>  <p>Here is my Javascript client:</p>  <pre><code>ws = new WebSocket('wss://192.168.2.150:8000/'); ws.onmessage = function(event){document.write(""message received""); alert(event.data); ws.close();} ws.onopen = function(){console.log(""connection is established"");} ws.onerror = function(event) {     console.error(""ws fail:"", event); } </code></pre>  <p>The webpage which this javascript is running on is being accessed by my desktop at 192.168.2.135. </p>  <p>The same computer that is running the apache2 server is also running my python script. This python script is hosting the websockets server. It is from Dave P (<a href=""https://github.com/dpallot/simple-websocket-server"" rel=""nofollow noreferrer"">https://github.com/dpallot/simple-websocket-server</a>) but i have modified it slightly. Here's that code:</p>  <pre><code> import signal import sys import ssl from SimpleWebSocketServer import WebSocket, SimpleWebSocketServer, SimpleSSLWebSocketServer from optparse import OptionParser  class SimpleEcho(WebSocket):     def handleMessage(self):       self.sendMessage(self.data)     def handleConnected(self):       pass     def handleClose(self):       pass  clients = []   if __name__ == ""__main__"":     parser = OptionParser(usage=""usage: %prog [options]"", version=""%prog 1.0"")    parser.add_option(""--host"", default='192.168.2.150', type='string', action=""store"", dest=""host"", help=""hostname (192.168.2.150)"")    parser.add_option(""--port"", default=8000, type='int', action=""store"", dest=""port"", help=""port (8000)"")    parser.add_option(""--example"", default='echo', type='string', action=""store"", dest=""example"", help=""echo, chat"")    parser.add_option(""--ssl"", default=1, type='int', action=""store"", dest=""ssl"", help=""ssl (1: on (default), 0: off"")    parser.add_option(""--cert"", default='/var/www/html/mainframe/ssl/cacert.pem', type='string', action=""store"", dest=""cert"", help=""cert (/var/www/html/mainframe/ssl/cacert.pem)"")    parser.add_option(""--key"", default='/var/www/html/mainframe/ssl/cakey.pem', type='string', action=""store"", dest=""key"", help=""key (/var/www/html/mainframe/ssl/cakey.pem)"")#/etc/ssl/private/apache-selfsigned.key    parser.add_option(""--ver"", default=ssl.PROTOCOL_TLSv1, type=int, action=""store"", dest=""ver"", help=""ssl version"")     (options, args) = parser.parse_args()     cls = SimpleEcho    if options.example == 'chat':       cls = SimpleChat     if options.ssl == 1:       server = SimpleSSLWebSocketServer(options.host, options.port, cls, options.cert, options.key, version=options.ver)    else:       server = SimpleWebSocketServer(options.host, options.port, cls)     def close_sig_handler(signal, frame):       server.close()       sys.exit()     signal.signal(signal.SIGINT, close_sig_handler)     server.serveforever() </code></pre>  <p>Using Wireshark I can see that my client and server do handshake and when the browser send a ""Client Hello"" the server resonds with a ""Server Hello"" and key. Then the client sends back its encryption key. But then the browser sends an ""Encryption Alert"". What does this mean? Has it got anything to do with my self-signed certificate? </p>"	
61484941	How do I use a dictionary or a list from python in javascript?	javascript|python|jquery	2020-04-28 16:18:01.957000 UTC	"<p>In Python views I have a dictionary which looks like this, for example:</p>  <pre><code>{ ""r8s8"": 0, ""r8s7"": 0, ""r7s7"": 1, ""r7s8"": 1 }  </code></pre>  <p>I would like to use it in my template and go through every element. </p>  <pre><code>$.each(my_dict_data_in_template, function(index, value) { </code></pre>  <p>I tried using JSON (<code>json.dumps()</code>), but either I haven't converted it properly or it just doesn't work. Also, can I somehow get both keys and the values from the dictionary in templates?</p>"	
61500662	Unable to return javascript confirm value in selenium webdriver using python	javascript|python|selenium-webdriver	2020-04-29 11:23:54.353000 UTC	"<p>in my code i am giving a javascript confirm to ask the user to click on oK or cancel. iF the user is clicking on OK then a certain set of code will be executed. i am using python and selenium webdriver but everytime i run the below code null value is being printed even after clicking OK or cancel</p>  <p>ss=driver.execute_script("" fg = confirm('Press a button!'); return fg; "")</p>  <p>print(ss)</p>  <p>time.sleep(5)</p>"	
61524814	Getting error Cannot read property 'currentTime' of undefined when uexecute JavaScript using Selenium with Python	javascript|python|selenium	2020-04-30 13:43:47.387000 UTC	"<p>I would like to jump to a specific time while playing a video. While I have manage to achieve similar objective from YouTube website (see thread <a href=""https://stackoverflow.com/a/61523738/6446053"">here</a>), the same approach fail to work properly at a different website. As much I would like to share the website link, but due to confidential concern, Im unable to disclose it here.</p> <p>The embedded video in this website have frame with the ID <code>player</code>. And I know the following line is working without any error.</p> <pre><code>        video = WebDriverWait(self.browser, 15).until(EC.visibility_of_element_located((By.ID, &quot;player&quot;))) </code></pre> <p>Since, the iframe does not have a <code>TagName</code>, I instead replace the <code>getElementsByTagName</code> into <a href=""https://www.w3schools.com/jsref/met_document_getelementbyid.asp"" rel=""nofollow noreferrer""><code>getElementById</code></a>. However, the compiler return an error</p> <blockquote> <p>Message: javascript error: Cannot read property 'currentTime' of undefined</p> </blockquote> <p>The full code is as below</p> <pre><code>   video = WebDriverWait(self.browser, 15).until(EC.visibility_of_element_located((By.ID, &quot;player&quot;))) # The line work perfectly     print('Fast forward')     player_status = self.browser.execute_script(&quot;document.getElementById('player')[0].currentTime += 80;&quot;) # The compiler return an error at this line.     print('Get Current time')     time_video = self.browser.execute_script(&quot;return document.getElementById('player')[0].currentTime;&quot;) </code></pre> <p>I appreciate for any hint or help.</p> <p>Thanks in advance.</p>"	"<p>As pointed by @VLAZ, the syntax should be changed into</p>  <pre><code>self.browser.execute_script(""document.getElementById('player').currentTime += 80;"")' </code></pre>"
61566098	How to pass JavaScript list of directory variables to Python Flask	javascript|python|flask|post	2020-05-02 20:48:06.410000 UTC	"<p>I want to pass a list of dictionary from JavaScript+HTML to Python+Flask and use it as a list of dictionary.</p>  <p>Here is my JavaScript:</p>  <pre><code>List = [];       function AddN(x, y, List, Field,selected = false) {             List.push({                 id: ID,                 x: x,                 y: y,                 neighbour: [ID],                 selected: selected             });             ID += 1;             document.getElementById(Field).value=List;         } </code></pre>  <p>And later I have a hidden input in the HTML form for POSTing the list.</p>  <p>And my Python goes like this:</p>  <pre><code>    @app.route(""/Input.html"",methods=[""GET"",""POST""])     def input():         if request.method == ""POST"":            nA = request.values.getlist(""ListA"") </code></pre>  <p>Where ListA is the ID and the name of the mentioned hidden input in HTML form. By using print() I can see my Python is getting a type:list variable, but it is empty and I am sure it is not empty in the HTML+JS.</p>  <p>Any idea?</p>  <p>Thank you. ———————————————————————————————————————————————— Edit:</p>  <p>Here is the code I used to post in my HTML:</p>  <pre><code>&lt;form&gt; .......... &lt;input type=""hidden"" id=""ListA""&gt; &lt;input type=""submit"" id=""Submit""&gt; &lt;/form&gt; </code></pre>  <p>And I've tried this too(not used together with the input-hidden method):</p>  <pre><code>$.ajax({     url:""/InputCanvas.html"",     type:""POST"",     data:JSON.stringify(answer) }); </code></pre>  <p>The other variables(floats and integers) are passed to the Python correctly. Only the lists are empty.</p>  <hr>  <p>Edit:</p>  <p>I've changed the HTML tag and added a name to it. The program is posting some list of string which looks like this: [""[object Object],[object Object]""] and always with length 1.</p>"	"<p>It looks your <code>input</code> html element is missing the <code>name</code> attribute, so the form sent to the server is missing <code>ListA</code>. Change it to:</p>  <pre><code>&lt;input type=""hidden"" id=""ListA"" name=""ListA""&gt; </code></pre>  <hr>  <p>In order to load the list in your Flask I would make the following changes:</p>  <ol> <li><p>set the value of the <code>input</code> element to a properly formatted json string in your function <code>AddN</code>. Make sure you enclose property names in <em>double quotes</em> (otherwise the <code>json.loads</code> won't parse the json correctly):</p>  <p><code>var value = {""list"": List }  document.getElementById(Field).value=JSON.stringify(value);</code></p></li> <li><p>change the Python to parse the string as json:</p>  <p><code>listA = request.values.get(""ListA"")  value = json.loads(listA)</code></p></li> </ol>  <p>Then you can access you list using <code>value['list']</code>.</p>"
61587109	"regex catch inline math formula, ex: $ inline $ in python or javascript"	javascript|python|regex	2020-05-04 07:26:48.447000 UTC	"<p>I have a string input (a content of a markdown file), where every math formula enclosed by $$. </p>  <p>Ex:</p>  <pre><code>$$ stand alone $$  $$ stand  alone $$   And there $$ inline $$.   $$ inline 2 $$ some text also.  </code></pre>  <p>I would like to change the <em>inline</em> formulas to be enclosed by $. </p>  <p>I tried to catch with regex, but so far I can not come up with the right solution.</p>  <p>This one example catch every $$ but do not distinct inline and stand-alone:</p>  <pre class=""lang-py prettyprint-override""><code>re.findall(r'\$\$([^\$]+?)\$\$',  txt)  </code></pre>"	"<p>You could capture the stand alone formulas in a capturing group surrounded by anchors and use an alternation <code>|</code> with another group to capture the the content between the inline formulas.</p>  <p>In the replacement, place back group 1 and 2 where group 2 is surrounded by a single <code>$</code></p>  <pre><code>^(\$\$[\s\S]*?\$\$)$|(?&lt;!\$)\$(\$[\s\S]*?\$)\$(?!\$) </code></pre>  <p><a href=""https://regex101.com/r/aplk3K/1"" rel=""nofollow noreferrer"">Regex demo</a> | <a href=""https://ideone.com/r0X4J2"" rel=""nofollow noreferrer"">Python demo</a></p>  <p><em>Example code</em></p>  <pre><code>import re  pattern = r""^(\$\$[\s\S]*?\$\$)$|(?&lt;!\$)\$(\$[\s\S]*?\$)\$(?!\$)"" test_str = (""$$ stand alone $$\n\n""             ""$$ stand \n""             ""alone $$\n\n""             ""And there $$ inline $$. "")  regex = re.compile(pattern, re.MULTILINE) result = re.sub(     regex,     lambda x: x.group(2) if x.group(2) else x.group(1), test_str )  if result:     print (result) </code></pre>  <p><em>Output</em></p>  <pre><code>$$ stand alone $$  $$ stand  alone $$  And there $ inline $. </code></pre>"
61587109	"regex catch inline math formula, ex: $ inline $ in python or javascript"	javascript|python|regex	2020-05-04 07:26:48.447000 UTC	"<p>I have a string input (a content of a markdown file), where every math formula enclosed by $$. </p>  <p>Ex:</p>  <pre><code>$$ stand alone $$  $$ stand  alone $$   And there $$ inline $$.   $$ inline 2 $$ some text also.  </code></pre>  <p>I would like to change the <em>inline</em> formulas to be enclosed by $. </p>  <p>I tried to catch with regex, but so far I can not come up with the right solution.</p>  <p>This one example catch every $$ but do not distinct inline and stand-alone:</p>  <pre class=""lang-py prettyprint-override""><code>re.findall(r'\$\$([^\$]+?)\$\$',  txt)  </code></pre>"	<p>How about defining the start in your regex by adding <code>^</code>.</p>  <p>Like <code>^\$\$([^\$]+?)\$\$</code></p>
61587109	"regex catch inline math formula, ex: $ inline $ in python or javascript"	javascript|python|regex	2020-05-04 07:26:48.447000 UTC	"<p>I have a string input (a content of a markdown file), where every math formula enclosed by $$. </p>  <p>Ex:</p>  <pre><code>$$ stand alone $$  $$ stand  alone $$   And there $$ inline $$.   $$ inline 2 $$ some text also.  </code></pre>  <p>I would like to change the <em>inline</em> formulas to be enclosed by $. </p>  <p>I tried to catch with regex, but so far I can not come up with the right solution.</p>  <p>This one example catch every $$ but do not distinct inline and stand-alone:</p>  <pre class=""lang-py prettyprint-override""><code>re.findall(r'\$\$([^\$]+?)\$\$',  txt)  </code></pre>"	"<p>You could use look-ahead and look-behind to check if theres text before or after the formula like so:</p>  <pre class=""lang-py prettyprint-override""><code>re.findall(r'(?:(?&lt;=(?: |\w))\$\$([^\n$]+?)\$\$)|(?:\$\$([^\n$]+?)\$\$(?=(?: |\w)))',  txt) </code></pre>  <p>This yields:</p>  <pre><code>[(' inline ', ''), ('', ' inline 2 ')] </code></pre>  <p>you can learn more about look aheads/behinds <a href=""https://docs.python.org/3/library/re.html"" rel=""nofollow noreferrer"">here</a> and test your patterns <a href=""https://regex101.com/"" rel=""nofollow noreferrer"">here</a>.</p>  <p>Edit: removed unnecessary escaping in <code>[\n\$]</code> as suggested in Bosoeng Choi's comment.</p>"
61587109	"regex catch inline math formula, ex: $ inline $ in python or javascript"	javascript|python|regex	2020-05-04 07:26:48.447000 UTC	"<p>I have a string input (a content of a markdown file), where every math formula enclosed by $$. </p>  <p>Ex:</p>  <pre><code>$$ stand alone $$  $$ stand  alone $$   And there $$ inline $$.   $$ inline 2 $$ some text also.  </code></pre>  <p>I would like to change the <em>inline</em> formulas to be enclosed by $. </p>  <p>I tried to catch with regex, but so far I can not come up with the right solution.</p>  <p>This one example catch every $$ but do not distinct inline and stand-alone:</p>  <pre class=""lang-py prettyprint-override""><code>re.findall(r'\$\$([^\$]+?)\$\$',  txt)  </code></pre>"	"<p>First, you can use <code>.*+</code> instead of <code>[^$]+</code>. It doesn't capture patterns which include <code>\n</code>.</p>  <p>Then, put ""not at starting of line-<code>(?!^)</code>"" and ""not at ending of line-<code>(?&lt;!$)</code>"". And use <code>|</code> to combine them.</p>  <pre class=""lang-py prettyprint-override""><code>print(re.findall(r'(?m)(?!^)\$\$(.+?)\$\$|\$\$(.+?)\$\$(?&lt;!$)', txt)) </code></pre>  <p>will print:</p>  <pre class=""lang-py prettyprint-override""><code>[(' inline ', ''), ('', ' inline 2 ')] </code></pre>  <p><code>(?m)</code> indicates ""multiline"" flag.</p>  <p>If you want to replace those to <code>REPLACED!!</code>,</p>  <pre class=""lang-py prettyprint-override""><code>print(re.sub(r'(?m)(?!^)\$\$(.+?)\$\$|\$\$(.+?)\$\$(?&lt;!$)', '$$ REPLACED!! $$', text)) </code></pre>  <p>output:</p>  <pre><code>$$ stand alone $$  $$ stand  alone $$   And there $$ REPLACED!! $$.   $$ REPLACED!! $$ some text also. </code></pre>  <hr>  <p>If you dislike that group number is not consistent,</p>  <p>You can use conditional pattern:</p>  <pre class=""lang-py prettyprint-override""><code>print(re.findall(r'(?m)(.+)?\$\$(.+?)\$\$(?(1)|.+)', text)) </code></pre>  <p>output:</p>  <pre class=""lang-py prettyprint-override""><code>[('And there ', ' inline '), ('', ' inline 2 ')] </code></pre>  <p>Now the target group number is always 2.</p>"
61593886	How to click on a WebElement using JavaScript using RobotFramework SeleniumLibrary in Python?	javascript|python|selenium|robotframework	2020-05-04 13:51:50.967000 UTC	"<p>I'm trying to click on a WebElement using JavaScript but I'm unable to create a JavaScript statement for that. </p>  <p>I'm able to click on a <strong>Cancel</strong> button using this statement</p>  <pre><code>driver.execute_javascript(""$(\""div[title='Cancel']\"")[0].click()"") </code></pre>  <p>But on clicking another element which is more complicated, I'm trying this </p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.getElementByXpath('${expand_xpath}').click()"") </code></pre>  <p><em>JavascriptException: Message: javascript error: document.getElementByXpath is not a function</em></p>  <p>This <strong>expand_xpath</strong> is storing xpath of the WebElement which I need to click but I'm unable to frame the JS code for clicking this element.</p>  <p>Please find the RobotFramework <strong>Execute Javascript</strong> keyword expnation on this link <a href=""https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript"" rel=""nofollow noreferrer"">https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript</a></p>  <p>Second Try:</p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.evaluate('${expand_xpath}', document.body, null, 9, null).singleNodeValue.click()"") </code></pre>  <p>Output:</p>  <pre><code>JavascriptException: Message: javascript error: missing ) after argument list </code></pre>"	"<p>Since you're using RobotFramework, this one is quite easy:</p>  <pre><code>${locator}    //button[@id='abc'] Execute JavaScript    document.evaluate(""${locator}"", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.click() </code></pre>  <p>Note that the inputted xpath should not contain double quote ("") character, only single quote (') to prevent JS parsing error</p>"
61593886	How to click on a WebElement using JavaScript using RobotFramework SeleniumLibrary in Python?	javascript|python|selenium|robotframework	2020-05-04 13:51:50.967000 UTC	"<p>I'm trying to click on a WebElement using JavaScript but I'm unable to create a JavaScript statement for that. </p>  <p>I'm able to click on a <strong>Cancel</strong> button using this statement</p>  <pre><code>driver.execute_javascript(""$(\""div[title='Cancel']\"")[0].click()"") </code></pre>  <p>But on clicking another element which is more complicated, I'm trying this </p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.getElementByXpath('${expand_xpath}').click()"") </code></pre>  <p><em>JavascriptException: Message: javascript error: document.getElementByXpath is not a function</em></p>  <p>This <strong>expand_xpath</strong> is storing xpath of the WebElement which I need to click but I'm unable to frame the JS code for clicking this element.</p>  <p>Please find the RobotFramework <strong>Execute Javascript</strong> keyword expnation on this link <a href=""https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript"" rel=""nofollow noreferrer"">https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript</a></p>  <p>Second Try:</p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.evaluate('${expand_xpath}', document.body, null, 9, null).singleNodeValue.click()"") </code></pre>  <p>Output:</p>  <pre><code>JavascriptException: Message: javascript error: missing ) after argument list </code></pre>"	"<p>I'm using this method to deal with the click.</p>  <p><strong>Arguments:</strong> ele_xpath : XPATH of the element to be clicked.    </p>  <pre><code>from SeleniumLibrary import SeleniumLibrary    def click_element_with_javascript(ele_xpath):             try:                 js_exp = ""document.evaluate(\""##xpath##\"", document.body, null, 9, null).singleNodeValue.click()"".replace('##xpath##', ele_xpath)                 driver.execute_javascript(js_exp)             except Exception as e:                 print(""Element click through javascript resulted in Exception: {}"".format(e)) </code></pre>"
61593886	How to click on a WebElement using JavaScript using RobotFramework SeleniumLibrary in Python?	javascript|python|selenium|robotframework	2020-05-04 13:51:50.967000 UTC	"<p>I'm trying to click on a WebElement using JavaScript but I'm unable to create a JavaScript statement for that. </p>  <p>I'm able to click on a <strong>Cancel</strong> button using this statement</p>  <pre><code>driver.execute_javascript(""$(\""div[title='Cancel']\"")[0].click()"") </code></pre>  <p>But on clicking another element which is more complicated, I'm trying this </p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.getElementByXpath('${expand_xpath}').click()"") </code></pre>  <p><em>JavascriptException: Message: javascript error: document.getElementByXpath is not a function</em></p>  <p>This <strong>expand_xpath</strong> is storing xpath of the WebElement which I need to click but I'm unable to frame the JS code for clicking this element.</p>  <p>Please find the RobotFramework <strong>Execute Javascript</strong> keyword expnation on this link <a href=""https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript"" rel=""nofollow noreferrer"">https://robotframework.org/SeleniumLibrary/SeleniumLibrary.html#Execute%20Javascript</a></p>  <p>Second Try:</p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.evaluate('${expand_xpath}', document.body, null, 9, null).singleNodeValue.click()"") </code></pre>  <p>Output:</p>  <pre><code>JavascriptException: Message: javascript error: missing ) after argument list </code></pre>"	"<p>Try clicking on element using below javaScript :   </p>  <pre><code> element= driver.find_element_by_xpath(""//span[text()='Submit']//ancestor::table//a[text()='Expand']"")  driver.execute_script(""arguments[0].click();"", element) </code></pre>  <p>OR use below: </p>  <pre><code>expand_xpath = ""//span[text()='Submit']//ancestor::table//a[text()='Expand']"" driver.execute_javascript(""document.getElementByXPath('${expand_xpath}').click()"") </code></pre>  <p>Note: ""P"" is in uppercase in <em>XPath</em>.</p>"
61618146	Python / Bokeh / Javascript / js_on_change for stacked bar and dropdown list selection	javascript|python|bokeh|bokehjs	2020-05-05 16:30:26.120000 UTC	"<p>I am struggling to understand how to incorporate js_on_change for self-embedded bokeh stacked bar graph  with dropdown selection. In a nutshell, whenever we select a value in the dropdown menu, it should map itself into a list of columns of the main dataframe that can be used then for stacked bar plotting.</p>  <p>I think I am lacking knowledge of Javascript and how to play around with it. Stackers, need your help. Below you will find the complete code that should run on your end.</p>  <p>I borrowed a little from this thread <a href=""https://stackoverflow.com/questions/46281068/bokeh-plot-a-different-column-using-customjs"">bokeh - plot a different column using customJS</a></p>  <pre><code>import pandas as pd import numpy as np import datetime  from bokeh.io import show from bokeh.layouts import row, column from bokeh.models import ColumnDataSource, CustomJS from bokeh.plotting import figure, ColumnDataSource, show from bokeh.models.widgets import Select from bokeh.models import Label, Title, NumeralTickFormatter  df = pd.DataFrame.from_dict(     {  'Apples_green': {'2018': 100, '2019': 150, '2020': 200},  'Apples_red': {'2018': 200, '2019': 75, '2020': 25},  'Oranges_green': {'2018': 25, '2019': 60, '2020': 70},  'Oranges_red': {'2018': 100, '2019': 80, '2020': 10}     }  )  #List of columns for apples initial_col = [i for i in df.columns.tolist() if i.startswith('Apples')] selection_list = [""Apples"", ""Oranges""]  d_map = {   'Apples':['Apples_green', 'Apples_red'],   'Oranges':['Oranges_green', 'Oranges_red'] }  source = ColumnDataSource(df)  p = figure(plot_width=350, plot_height = 300,         x_range=df.index.drop_duplicates().tolist()) p.vbar_stack(initial_col, x='index',  width=0.9, color=['green', 'red'], source=source) p.yaxis.formatter = NumeralTickFormatter(format='(0.00)')   select = Select(title=""Fruit:"", value=selection_list[0], options=selection_list)  select.js_on_change('value', CustomJS(args=dict(source=source, select=select, d_map = d_map), code=""""""  // print the selectd value of the select widget -   // this is printed in the browser console.  // cb_obj is the callback object, in this case the select   // widget. cb_obj.value is the selected value.  console.log(' changed selected option', cb_obj.value);    // create a new variable for the data of the column data source   // this is linked to the plot   var data = source.data;    // allocate the selected column to the field for the y values    data['{}'] = data[d_map[cb_obj.value]];    // register the change - this is required to process the change in    // the y values   source.change.emit(); """""".format(d_map[selection_list[0]])))  col = column(select) layout = row(col, p) show(layout) </code></pre>  <p>Eventually, it plots the figure but javascript part is not working.</p>  <p><a href=""https://i.stack.imgur.com/RMpD5.png"" rel=""nofollow noreferrer"">See screenshot here</a></p>"	"<p>The immediate problem with your code is the way you format the JS code string passed to <code>CustomJS</code>. It ends up being a broken JS code - you could see the error by opening your browser's JS console and changing the value of the <code>Select</code> widget.</p>  <p>As for your actual task - it's not that easy to do because <code>vbar_stack</code> is <a href=""https://github.com/bokeh/bokeh/blob/23166fd9d8232decce0ce9219812e570e83d8412/bokeh/plotting/figure.py#L1294-L1297"" rel=""nofollow noreferrer"">not a real glyph function</a>. Instead, it's just a helper function that calls the <code>vbar</code> glyph function with the necessary parameters. Your call to <code>p.vbar_stack(...)</code> effectively becomes</p>  <pre class=""lang-py prettyprint-override""><code>p.vbar(bottom=stack(), top=stack('Apples_green'),        x='index', width=0.9, color='green', source=source) p.vbar(bottom=stack('Apples_green'), top=stack('Apples_green', 'Apples_red'),        x='index', width=0.9, color='red', source=source) </code></pre>  <p>That means that in order to change the columns which the expressions used by the <code>VBar</code> glyphs use, you will have to basically convert that Bokeh Python code into BokehJS JavaScript code.</p>  <p>With that being said, here's a working version of your code that should work for any number of colors, not just two:</p>  <pre class=""lang-py prettyprint-override""><code>import pandas as pd  from bokeh.layouts import row, column from bokeh.models import CustomJS from bokeh.models import NumeralTickFormatter from bokeh.models.widgets import Select from bokeh.plotting import figure, ColumnDataSource, show from bokeh.transform import stack  df = pd.DataFrame.from_dict(     {         'Apples_green': {'2018': 100, '2019': 150, '2020': 200},         'Apples_red': {'2018': 200, '2019': 75, '2020': 25},         'Oranges_green': {'2018': 25, '2019': 60, '2020': 70},         'Oranges_red': {'2018': 100, '2019': 80, '2020': 10}     } )  d_map = {     'Apples': ['Apples_green', 'Apples_red'],     'Oranges': ['Oranges_green', 'Oranges_red'] }  selection_list = list(d_map.keys())  # In modern Python, dicts are ordered by default. initial_value = selection_list[0] initial_col = [i for i in df.columns.tolist() if i.startswith(initial_value)]  source = ColumnDataSource(df)  p = figure(plot_width=350, plot_height=300,            x_range=df.index.drop_duplicates().tolist()) renderers = [] col_acc = [] for col in d_map[initial_value]:     color = col[len(initial_value) + 1:]     r = p.vbar(bottom=stack(*col_acc), top=stack(col, *col_acc),                x='index', width=0.9, color=color, source=source)     col_acc.append(col)     renderers.append(r) p.yaxis.formatter = NumeralTickFormatter(format='(0.00)')  select = Select(title=""Fruit:"", value=initial_value, options=selection_list)  select.js_on_change('value', CustomJS(args=dict(d_map=d_map, renderers=renderers),                                       code=""""""     const Stack = Bokeh.Models('Stack');     const col_acc = [];     d_map[cb_obj.value].forEach((col, idx) =&gt; {         const {glyph} = renderers[idx];         glyph.bottom = {expr: new Stack({fields: col_acc})};         col_acc.push(col);         glyph.top = {expr: new Stack({fields: col_acc})};     }); """"""))  col = column(select) layout = row(col, p) show(layout) </code></pre>"
61629408	Python body.encode( ) Javascript alternative	javascript|python|node.js|sha256|plaid	2020-05-06 07:14:35.707000 UTC	"<p>I'm trying to verify a webhook coming from Plaid in NodeJS by calculating the Sha256 of the webhook body and I'm following a Python code <a href=""https://support.plaid.com/hc/en-us/articles/360041410794"" rel=""nofollow noreferrer"">here</a> where the code is showing :</p>  <pre><code>   # Compute the has of the body.    m = hashlib.sha256()    m.update(body.encode())    body_hash = m.hexdigest()  </code></pre>  <p>What's the alternative of body.encode() in Javascript before passing it to the Sha256 function please ? Note that the body I'm getting is an object containing the following data : </p>  <blockquote>   <p>{ error: null,   item_id: '4zAGyokJ1XiWP63QNl1RuLZV76o55nudVXzNG',<br>   new_transactions: 0,   webhook_code: 'DEFAULT_UPDATE',   webhook_type:   'TRANSACTIONS' }</p> </blockquote>  <p>However I'm trying to get this hash : </p>  <blockquote>   <p>b05ef560b59e8d8e427433c5e0f6a11579b5dfe6534257558b896f858007385a</p> </blockquote>"	"<p>So, if the body is JSON <strong>(NOT JSON STRING)</strong> then you need to stringify it and put it in the <code>.update</code> function As the <code>m.body</code> takes a string. If you have your body as <strong>STRING</strong> then just put it in as is.</p>  <p>This is from the Crypto Example <a href=""https://nodejs.org/api/crypto.html#crypto_class_hash"" rel=""nofollow noreferrer"">here</a>:</p>  <pre><code>const crypto = require('crypto'); const hash = crypto.createHash('sha256');  const stringBody = JSON.stringify(body); hash.update(stringBody); console.log(hash.digest('hex')); </code></pre>  <p><strong>Edit:</strong><br> If the hash is not same then maybe you need to correct the newlines or whitespaces. You need to make both bodies exactly the same. Here In the below example I am using same exact string and encoding using Python AND NodeJS.</p>  <pre><code>import hashlib body = '{""error"":null,""item_id"":""4zAGyokJ1XiWP63QNl1RuLZV76o55nudVXzNG"",""new_transactions"":0,""webhook_code"":""DEFAULT_UPDATE"",""webhook_type"":""TRANSACTIONS""}' m = hashlib.sha256() m.update(body.encode()) body_hash = m.hexdigest() print(body_hash) </code></pre>  <p><strong>Output:</strong></p>  <pre><code>python3 file.py 26f1120ccaf99a383b7462b233e18994d0c06d4585e3fe9a91a449e97a1c03ba </code></pre>  <p><strong>And Using NodeJS:</strong></p>  <pre><code>const crypto = require('crypto'); const hash = crypto.createHash('sha256'); const body = {   error: null,   item_id: '4zAGyokJ1XiWP63QNl1RuLZV76o55nudVXzNG',   new_transactions: 0,   webhook_code: 'DEFAULT_UPDATE',   webhook_type: 'TRANSACTIONS' }  const stringBody = JSON.stringify(body); hash.update(stringBody); console.log(hash.digest('hex')); </code></pre>  <p><strong>Output:</strong></p>  <pre><code>node file.js 26f1120ccaf99a383b7462b233e18994d0c06d4585e3fe9a91a449e97a1c03ba </code></pre>"
61662055	Selenium Python - javascript function call	javascript|python|selenium	2020-05-07 15:47:37.517000 UTC	"<p>how can i call a javascript function in Selenium Python?</p>  <p>I'm trying to click on a button like this:</p>  <pre><code>&lt;a href=""javascript:;"" class=""btndefault j-open-game j-gamingButton"" data-gameid=""1280"" data-productid=""2"" ...&gt;  </code></pre>  <p>But if i search it with:</p>  <pre><code>btn = browser.find_element_by_class_name('btndefault j-open-game j-gamingButton') </code></pre>  <p>I receive:</p>  <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""css selector"",""selector"":"".btndefault j-open-game j-gamingButton""} </code></pre>  <p>if i search it with:</p>  <pre><code>btn = browser.find_element_by_xpath(""//button[@name='j-gamingButton']"") </code></pre>  <p>I receive:</p>  <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""//button[@name='j-gamingButton']""} </code></pre>  <p>if i search it with:</p>  <pre><code>btn = browser.find_element_by_xpath(""//button[@name='j-btndefault j-open-game j-gamingButton']"") </code></pre>  <p>I receive:</p>  <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""xpath"",""selector"":""//button[@name='j-btndefault j-open-game j-gamingButton']""} </code></pre>  <p>if i search it with:</p>  <pre><code>btn = browser.find_element_by_xpath(""//button[@class='j-btndefault j-open-game j-gamingButton']"") </code></pre>  <p>I receive:</p>  <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: </code></pre>  <p>Do you have any suggestions for me? Thanks in advance</p>"	
61686095	javascript python 3 jsonResponse undefined	javascript|python-3.x|flask|sqlalchemy	2020-05-08 18:53:21.270000 UTC	"<p>I'm trying to send a post request to my server and then instantly update the webpage to display the user input.  It looks like the POST request is going through because when I refresh the page the user input is displayed and the correct data has been inserted into my database.  The problem is that when I submit the form the page displays undefined data.  I can't update the item or delete it until I refresh the page.  Why isn't the submitted data showing on the page right away?  This is my relevant code.</p>  <p>index.html:</p>  <pre><code>      const descInput = document.getElementById('description');       document.getElementById('form').onsubmit = function(e) {         e.preventDefault();         const desc = descInput.value;         descInput.value = '';         response = fetch('/todos/create', {           method: 'POST',           body: JSON.stringify({             'description': desc,           }),           headers: {             'Content-Type': 'application/json',           }         })         .then(response =&gt; {             return response.json()         })         .then(jsonResponse =&gt; {           const li = document.createElement('li');           const checkbox = document.createElement('input');           checkbox.className = 'check-completed';           checkbox.type = 'checkbox';           checkbox.setAttribute('data-id', jsonResponse.id);           li.appendChild(checkbox);            const text = document.createTextNode(' ' + jsonResponse.description);           li.appendChild(text);            const deleteBtn = document.createElement('button');           deleteBtn.className = 'delete-button';           deleteBtn.setAttribute('data-id', jsonResponse.id);           deleteBtn.innerHTML = '&amp;cross;';           li.appendChild(deleteBtn);            document.getElementById('todos').appendChild(li);           document.getElementById('error').className = 'hidden';         })         .catch(function() {           console.error('Error occurred');           document.getElementById('error').className = '';         })       } </code></pre>  <p>app.py:</p>  <pre><code>@app.route('/todos/create', methods=['POST']) def create_todo():     error = False     body = {} #   description = request.form.get('description', '') #   return render_template('index.html')     try:         description = request.get_json()['description']         todo = Todo(description=description)         #body['description'] = todo.description         db.session.add(todo)         db.session.commit()     except:         error=True         db.session.rollback()         print(sys.exc_info())     finally:         db.session.close()     if error:         abort (400)     else:         return jsonify(body) </code></pre>"	<p>I got it.  I wasn't setting my json object with the necessary attributes and returning it in app.py</p>
61693762	Python selenium how to confirm the javascript message to open whatsapp Web	javascript|python|selenium-webdriver	2020-05-09 08:21:18.100000 UTC	"<p>I'm making WhatsApp automation script to send a message. When I run the script it asks the javascript confirm to open WhatsApp web.</p>  <p>How I can do that.?</p>  <p>My code :</p>  <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver import pandas as pd from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys import time import os import mysql.connector    driver = webdriver.Chrome('/Users/evilslab/Downloads/chromedriver 3')  driver.get('https://api.whatsapp.com/send?phone=0097155000XXXX)  # Click the link to activate the alert driver.find_element(By.LINK_TEXT, ""https://api.whatsapp.com wants to open this application."").click()    # Store the alert in a variable for reuse alert = driver.switch_to.alert  # Store the alert text in a variable text = alert.text  # Press the Cancel button alert.dismiss()  </code></pre>  <p>This not confirming that</p>"	
61700139	run a javascript function inside a python	javascript|python|django|string|django-templates	2020-05-09 16:30:45.067000 UTC	"<p>I'm working on a project. I have a <code>strings.py</code> which has <code>dicts</code> like below:</p>  <pre><code>def bar(self):     #do something   STRINGS_ENGLISH = {      'title': 'foo'      'function': bar } </code></pre>  <p>then I wanna use this string in my Django template, I'll pass it through my context in the template named <code>string</code>. </p>  <p><strong>I know that If I wanna print the <code>title</code> in the HTML it's enough to write <code>{{strings.title}}</code>,</strong></p>  <p>but about the function I want to pass it to a button like that:</p>  <pre><code>&lt;button onclick=""{function()}""&gt;Do Something&lt;/button&gt; </code></pre>  <p>but it's a python function! not a js function. so what should I do? </p>"	
61707486	How to pass a Python variable/Jinja2 template to a JavaScript file?	javascript|python|html|flask	2020-05-10 05:13:44.310000 UTC	"<p>I know you can pass a variable to inline javascript in your html like in <a href=""https://stackoverflow.com/questions/15321431/how-to-pass-a-list-from-python-by-jinja2-to-javascript"">this question</a>:</p>  <pre><code>&lt;script type=""text/javascript""&gt;     function test_func(data) {         console.log(data);     }     test_func({{ data|safe }}) &lt;/script&gt; </code></pre>  <p>But how can I pass this data to a function in a javascript file?</p>  <p>I want to call <code>test_func({{ data|safe }})</code> from the file:</p>  <pre><code>    &lt;script src=""{{ url_for('static', filename='scripts/highcharts.js') }}""&gt;&lt;/script&gt; </code></pre>"	"<p>If your js code uses a module system there are more elegant ways to do this, but otherwise this is one way, if I understand your situation correctly:</p>  <pre><code>&lt;div&gt;blah blah&lt;/blah&gt; &lt;script&gt;     var window.myData = window.myData = {{ data|tojson }}; &lt;/script&gt; </code></pre>  <p>... It sounds like from your comments that you are modifying <code>highcharts.js</code>, which I would have expected would be an unmodifiable 3rd party file. But assuming you can modify it, within <code>highcharts.js</code> would be something like:</p>  <pre><code>test_func(window.myData); </code></pre>  <p>This assumes that your <code>myData</code> is safe to share globally across all js on your page.</p>  <p>Also note that for this to work, you have to make sure <code>window.myData</code> has been populated before <code>highcharts.js</code> is run. You should not rely on asynchronous happenstance for this but instead make that sure the code is always loaded in the right order based on js loading rules. This is another thing that using js modules of some flavor would take care of.</p>  <h3>Note on escaping:</h3>  <p>Note that I've used <code>tojson</code> instead of <code>safe</code> here. That's a result of 3 minutes of googling and may be wrong. But the point is that I don't think <code>safe</code> is what you want probably, which seems to turn off escaping entirely. Unless you know with confidence that <code>data</code> is free from potential XSS-style attack strings, you probably want <a href=""https://stackoverflow.com/questions/12339806/escape-strings-for-javascript-using-jinja2"">javascript escaping</a> here I think instead of HTML escaping which is probably the default. However, I'm not an expert.</p>"
61711850	Return value from JavaScript to Python using Selenium	javascript|python|selenium	2020-05-10 12:19:03.763000 UTC	"<p>I'm trying to return True or False from this javascript method ""confirm()"" to my python variable. However, it displays the prompt, and the program control moves ahead and never returns anything. How do I stop it from doing so? Is there any other method I can use to take ""Yes"" or ""No"" from the user and return it to my python variable? I have tried prompt() but I don't want the user to type anything. I want it to be just a simple ""Yes"" or ""No"". </p>  <pre><code>choice= self.driver.execute_script("""""" if(confirm('Yes or No?')) {          return true;             }         else{             return false;         } """""")  if choice == True:     print('Success!') else:     print('Failed') </code></pre>"	"<p>Basically the problem here and how you want to solve it is a little bit more complicated.</p>  <p>First of all the javascript code is not valid and executing this script will return <code>None</code>. Much simpler version of the script is <code>driver.execute_script(""return confirm('...')"")</code> but the problem here will be that the alert will pop up and the python code will continue so it will still return <code>None</code>.</p>  <p>What you can do is to execute <code>confirm('Yes or No?')</code> store it in variable, wait until alert is gone and return this variable.</p>  <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.common.exceptions import NoAlertPresentException  # small helper class to wait untill alert is no longer present class alert_is_not_present(object):     """""" Expect an alert to not to be present.""""""     def __call__(self, driver):         try:             alert = driver.switch_to.alert             alert.text             return False         except NoAlertPresentException:             return True   self.driver.execute_script(""choice = confirm('yes or no')"")  # Give some large timeout so you're sure that someone will have time to click # Wait until user makes a choice WebDriverWait(self.driver, 10000).until(alert_is_not_present()) # retrieve the choice choice = self.driver.execute_script('return choice') if choice:     print('Success!') else:     print('Failed') </code></pre>"
61776440	trouble returning json from python to javascript with ajax	javascript|python|jquery|ajax|flask	2020-05-13 13:50:18.527000 UTC	"<p>I'm sending <code>articleUrl</code> from my .js to my python function, which works fine. I then want my python function to return <code>pubscore</code> back to the .js. </p>  <p>pubscore prints fine in the .py, but then I get <strong>""Uncaught ReferenceError: pubscore is not defined at Object.myFunction [as success] (background.js:41)""</strong>. Line 41 is <code>var myPubscore = pubscore</code> in the .js. </p>  <p><strong>background.js</strong></p>  <pre><code>$.ajax({     type: 'POST',     url: `${url}/buttoncolor`,     data: articleUrl,     success: function urlFunction(data) {     var myPubscore = pubscore;     console.log(myPubscore);     } }) </code></pre>  <p><strong>application.py</strong></p>  <pre><code>def buttoncolor():     import json     if request.method == 'POST':         if not request.form['url']:             flash('Please enter all the fields', 'error')         else:             rurl = request.form['url']              ...              pubscore = pub_tuple[8]             print(pubscore)             return json.dumps(pubscore)     else:         strscore = str(pubscore)         message = {'greeting': strscore}         return jsonify(message)  # serialize and use JSON headers </code></pre>  <p><strong>Suggested code that didn't work for me but could be helpful to someone else</strong></p>  <pre><code>chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {     if (request.type == ""articleUrl"") {         var articleUrl = request;         $.ajax({             type: 'POST',             url: `${url}/buttoncolor`,             data: articleUrl,             success: function(){ alert('success');             }         })          $.getJSON(`${url}/buttoncolor`,{data: articleUrl}, function(data) {         doWork(data.greetings);         });          function doWork(myPubscore){         console.log(myPubscore);         if (myPubscore &gt; 1)         {console.log(""myPubscore is more than 1"")}         }     } </code></pre>"	"<p>Please try this</p>  <pre class=""lang-js prettyprint-override""><code>function doWork(data) {   const myPubscore = data.greeting;   console.log(myPubscore)   if (myPubscore &gt; 1) {     console.log(""myPubscore is more than 1"")   } }  chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {   if (request.type == ""articleUrl"") {     var articleUrl = request;     $.ajax({       type: 'POST',       url: `${url}/buttoncolor`,       data: articleUrl,       success: doWork,       error: function(e) {         console.log(""error"", e)       }     })   } }) </code></pre>"
61779392	Unable to read python generated JSON using javascript	javascript|python	2020-05-13 16:04:15.427000 UTC	"<p>I'm pretty new to python. I am trying to generate a JSON array response in python that my javascript application can consume. However, while my javascript recognizes that there are multiple objects within the array, it doesn't recognize any of the keys within those objects. I assume it's due to how I am creating the array and objects in python since I can copy/paste the array to a javascript object and its works perfectly. </p>  <p>Here is an example of my Python 3.7 script:</p>  <pre><code>data1 = '{""id"": ""1"", ""username"": """", ""url"": """", ""icon"": """", ""display"":' + json.dumps(state) +', ""mouseover"": """", ""data"":' + json.dumps(Payload) + '}' data2 = '{""id"": ""2"", ""username"": """", ""url"": """", ""icon"": """", ""display"":' + json.dumps(state) +', ""mouseover"": """", ""data"":' + json.dumps(Payload) + '}'  jsonObj = []  jsonObj.append(data1) jsonObj.append(data2)  return {     'statusCode': 200,     'status': ""ok"",     'data': jsonObj } </code></pre>  <p>Here is a sample of my javascript:</p>  <pre><code>    $.ajax({     url: Url,     type: ""GET"",     success: function (result) {         console.log(result.data);          /*This didn't work --&gt; ""undefined""*/         console.log(""WTF?---&gt;"" + result.data[0].id)          /*This didn't work --&gt; ""undefined""*/         Array.from(request.data).forEach(element =&gt; {             console.log(element.id);         });           /*This didn't work --&gt; ""undefined""*/         var x = JSON.stringify(result.data);         var z = JSON.parse(x);         console.log(z[0].id)          /*This didn't work --&gt; ""undefined""*/         Array.from(z).forEach(element =&gt; {             console.log(element.id);         });       } }) </code></pre>  <p>As I said, javascript recognizes there are 2 objects in the array. It's almost as if javascript reads the objects in the array as one key value. The output looks correct and validates as JSON. Not sure what I am doing wrong but I am guessing it has to do with how I am appending the jsonObj as the data key value. </p>  <p>Any thoughts? </p>"	"<p>Thanks to Olian04 putting me on the right track by using typeof to determine whether the objects in the array were truly objects and not strings... I was able to determine that the objects withing the array were in fact actually strings. To resolve the issue I simply ran the array of string through a foreach and converted them to objects. </p>  <pre><code>jsonObj = [];  Array.prototype.forEach.call(result.data, element =&gt; { var converted = JSON.parse(element); jsonObj.push(converted); }); </code></pre>"
61796379	Javascript login page with Python Selenium	javascript|python|selenium	2020-05-14 11:35:37.353000 UTC	"<p>I am trying to login to the following page using Python selenium package to do few activities. I wrote the following, but every time I  get ""the Class is not found"". I need to access the username and password to use <code>send_keys()</code>. Any feedback on this is appreciated. </p>  <p>[Code]</p>  <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.support import expected_conditions as EC  chrome_browser = webdriver.Chrome('C:/Users/vbabu/AppData/Local/chromedriver') chrome_browser.maximize_window() chrome_browser.get('https://myservices-dfsi.console.oraclecloud.com/mycloud/cloudportal/gettingStarted')  form = chrome_browser.find_element_by_id('idcs-signin-basic-signin-form-post-redirect-form') print(form) </code></pre>  <p>[Error]</p>  <blockquote>   <p>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""css selector"",""selector"":""[id=""idcs-signin-basic-signin-form-post-redirect-form""]""}</p> </blockquote>  <p>[Expected Output]</p>  <p>I need to access the username and password tags.</p>  <p><img src=""https://i.stack.imgur.com/g2xYJ.png"" alt=""Screenshot""></p>"	"<p><code>time.sleep(5)</code> and <code>ID = ""idcs-signin-basic-signin-form-username""</code></p>"
61796379	Javascript login page with Python Selenium	javascript|python|selenium	2020-05-14 11:35:37.353000 UTC	"<p>I am trying to login to the following page using Python selenium package to do few activities. I wrote the following, but every time I  get ""the Class is not found"". I need to access the username and password to use <code>send_keys()</code>. Any feedback on this is appreciated. </p>  <p>[Code]</p>  <pre class=""lang-py prettyprint-override""><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.support import expected_conditions as EC  chrome_browser = webdriver.Chrome('C:/Users/vbabu/AppData/Local/chromedriver') chrome_browser.maximize_window() chrome_browser.get('https://myservices-dfsi.console.oraclecloud.com/mycloud/cloudportal/gettingStarted')  form = chrome_browser.find_element_by_id('idcs-signin-basic-signin-form-post-redirect-form') print(form) </code></pre>  <p>[Error]</p>  <blockquote>   <p>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {""method"":""css selector"",""selector"":""[id=""idcs-signin-basic-signin-form-post-redirect-form""]""}</p> </blockquote>  <p>[Expected Output]</p>  <p>I need to access the username and password tags.</p>  <p><img src=""https://i.stack.imgur.com/g2xYJ.png"" alt=""Screenshot""></p>"	"<p>Try using explicit wait until element get available to perform actions</p>  <pre><code>username = WebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.ID, ""idcs-signin-basic-signin-form-username""))) username.send_keys(""some_text"") </code></pre>  <p>import below packages:</p>  <pre><code>from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC </code></pre>"
61802595	Scrape data inside a JavaScript function by using python selenium	javascript|python|selenium|web-scraping	2020-05-14 16:33:38.117000 UTC	"<p>Please let me know if there is any option available to scrape data inside a JavaScript function below using Selenium</p> <p><strong>page <a href=""https://www.bayut.com/index/sale-prices-apartments-abu-dhabi.html"" rel=""nofollow noreferrer"">https://www.bayut.com/index/sale-prices-apartments-abu-dhabi.html</a></strong></p> <p><strong>input code</strong></p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt;  var chartData1 = []; var chartData2 = []; var chartData3 = [];  function generateChartData() {             var newDate = new Date('2010-01-31');             chartData1.push({             date: newDate,                     value: 1443,                     disply_val: '1,443'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 100.0000,                     disply_val: '100'             });                 var newDate = new Date('2010-02-28');             chartData1.push({             date: newDate,                     value: 1407,                     disply_val: '1,407'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 97.5000,                     disply_val: '98'             });                 var newDate = new Date('2010-03-31');             chartData1.push({             date: newDate,                     value: 1400,                     disply_val: '1,400'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 97.0000,                     disply_val: '97'             });                 var newDate = new Date('2010-04-30');             chartData1.push({             date: newDate,                     value: 1433,                     disply_val: '1,433'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 99.3300,                     disply_val: '99'             });                 var newDate = new Date('2010-05-31');             chartData1.push({             date: newDate,                     value: 1409,                     disply_val: '1,409'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 97.6700,                     disply_val: '98'             });                 var newDate = new Date('2010-06-30');             chartData1.push({             date: newDate,                     value: 1380,                     disply_val: '1,380'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 95.6700,                     disply_val: '96'             });                 var newDate = new Date('2010-07-31');             chartData1.push({             date: newDate,                     value: 1270,                     disply_val: '1,270'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 88.0000,                     disply_val: '88'             });                 var newDate = new Date('2010-08-31');             chartData1.push({             date: newDate,                     value: 1265,                     disply_val: '1,265'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 87.6700,                     disply_val: '88'             });                 var newDate = new Date('2010-09-30');             chartData1.push({             date: newDate,                     value: 1251,                     disply_val: '1,251'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 86.6700,                     disply_val: '87'             });                 var newDate = new Date('2010-10-31');             chartData1.push({             date: newDate,                     value: 1251,                     disply_val: '1,251'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 86.6700,                     disply_val: '87'             });                 var newDate = new Date('2010-11-30');             chartData1.push({             date: newDate,                     value: 1227,                     disply_val: '1,227'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 85.0000,                     disply_val: '85'             });                 var newDate = new Date('2010-12-31');             chartData1.push({             date: newDate,                     value: 1284,                     disply_val: '1,284'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 89.0000,                     disply_val: '89'             });                 var newDate = new Date('2011-01-31');             chartData1.push({             date: newDate,                     value: 1284,                     disply_val: '1,284'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 89.0000,                     disply_val: '89'             });                 var newDate = new Date('2011-02-28');             chartData1.push({             date: newDate,                     value: 1279,                     disply_val: '1,279'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 88.6700,                     disply_val: '89'             });                 var newDate = new Date('2011-03-31');             chartData1.push({             date: newDate,                     value: 1212,                     disply_val: '1,212'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 84.0000,                     disply_val: '84'             });                 var newDate = new Date('2011-04-30');             chartData1.push({             date: newDate,                     value: 1231,                     disply_val: '1,231'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 85.3300,                     disply_val: '85'             });                 var newDate = new Date('2011-05-31');             chartData1.push({             date: newDate,                     value: 1279,                     disply_val: '1,279'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 88.6700,                     disply_val: '89'             });                 var newDate = new Date('2011-06-30');             chartData1.push({             date: newDate,                     value: 1318,                     disply_val: '1,318'             });             chartData2.push({             date: newDate,                     value: 0,                     disply_val: '0'             });             chartData3.push({             date: newDate,                     value: 91.3300,                     disply_val: '91'             }); </code></pre>          … <p><strong>Output</strong></p> <p><strong>Date            Value</strong></p> <p><strong>2010-01-31       1443</strong></p> <p><strong>2010-02-28       1407</strong></p> <p><strong>Tried but not working</strong> My output file should have date and value columns, please let me know if there is option available</p> <pre><code>driver.find_element_by_id('newDate') driver.find_elements_by_xpath(&quot;//*[@class=' mask_search']&quot;)   </code></pre>"	"<p>use driver.execute_script:</p>  <pre><code>data = driver.execute_script('return [chartData1, chartData2, chartData3]') </code></pre>"
61807564	Cannot find JavaScript variable from script tag using Selenium with Python	python|selenium|web-scraping	2020-05-14 21:18:06.640000 UTC	"<p>I wanted to retrieve a variable named ""stats"" from the site <a href=""https://csgostats.gg/player/76561198087162515"" rel=""nofollow noreferrer"">https://csgostats.gg/player/76561198087162515</a> using Selenium with Python with the following code:</p>  <pre><code>browser = webdriver.Chrome() browser.get(""https://csgostats.gg/player/76561198087162515"") stats = browser.execute_script(""return stats"") print(stats) </code></pre>  <p>However, the console returns an error saying ""match is not defined"". When I use inspect element on the site, I can clearly see the stats variable as shown here: <a href=""https://i.stack.imgur.com/qPfkL.png"" rel=""nofollow noreferrer"">stats variable inside script tag</a></p>  <p>Does anyone know what I might be doing wrong here? The code I'm using seems to work for variables from other websites so I'm not sure what I'm doing wrong. I'm pretty new to this stuff so any help would be appreciated, thanks!</p>"	
61810352	Is there a way to login to a website that listens for javascript in python? (Without Selenium)	python	2020-05-15 01:46:56.520000 UTC	"<p>I can log into a website partially, but to open a popup the browser listens for ""("".googleplus-login"").click()"", and I dont know how to submit that to the site. If I type that command into the browser console it opens, so I essentially want to do that, but with python. Im kinda looking for something like mechanicalsoup but something that can send javascript.</p>  <pre><code>import mechanicalsoup  browser = mechanicalsoup.StatefulBrowser()  browser.open(""https://accounts.veracross.com/pa/portals/login"")  print(browser.get_url())  browser.select_form('form[action=""/pa/portals/login/user_lookup""]') browser[""username""] = ""$$$$$$$$$$$$$$$$$$$$$$$$$"" #browser[""password""] = ""$$$$$$$$$$$$$$$$$$$$$""  browser.submit_selected()  print(browser.get_url()) """""" browser.follow_link(""#"") browser.get_current_form() """""" form = browser.select_form()  form.print_summary()  #("".googleplus-login"").click(function(o){e(!0),o.preventDefault(),gapi.auth.authorize({response_type:""code"",cookie_policy:""single_host_origin"",client_id:n,prompt:""consent"",scope:""email"",access_type:""online""}  #$("".googleplus-login"").click() THIS NEEDS TO BE SUBMITED </code></pre>"	
61814274	Javascript Dialog Box Python Selenium	javascript|python|selenium|automation	2020-05-15 07:47:18.297000 UTC	"<p>I am trying to do automation with Python selenium package which requires to login the following page and do a series of tasks. While doing so, there is a place where webdriver requires to get into the dialog box and browse objects and imports files. From the selenium documention, i see <code>switch_to_alert()</code> but i understand it is for js alerts. Is there any other packages I need to use in order to interact with the dialog box. Your help on this is greatly appreciated.</p>  <p>[My code]</p>  <pre><code>import time from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.support import expected_conditions as EC  chrome_browser = webdriver.Chrome('C:/Users/vbabu/AppData/Local/chromedriver') chrome_browser.maximize_window() chrome_browser.get('https://idcs-b3fbc99e47864601a4d679df46d79328.identity.oraclecloud.com/ui/v1/adminconsole/?root=users')  time.sleep(5)  user_name = chrome_browser.find_element_by_id('idcs-signin-basic-signin-form-username') user_name.send_keys('abc') password = chrome_browser.find_element_by_id('idcs-signin-basic-signin-form-password') password.send_keys('test') signin = chrome_browser.find_element_by_id('idcs-signin-basic-signin-form-submit') signin.click()  time.sleep(10)  importusers = chrome_browser.find_element_by_id('idcs-users-toolbar-import-users') importusers.click()  time.sleep(5)  popup = chrome_browser.switch_to_alert()  #switchwin = chrome_browser.find_element_by_id('idcs-users-import-dialog_layer_surrogate') browsebtn = chrome_browser.find_element_by_id('idcs-users-import-file-upload-button') browsebtn.click() </code></pre>  <p>[Javascript Popup Script]</p>  <pre><code>&lt;div id=""idcs-users-import-dialog"" data-bind=""attr: {title: bundle('userManagement.manageUsers.userImportDialogTitle')},       ojComponent: {component: 'ojDialog', initialVisibility: 'hide', close: closeImportUserDialog,       rootAttributes: { style: 'min-width: 900px; width: 950px; min-height: 300px; height: 500px;'}}"" class=""oj-dialog oj-component oj-component-initnode oj-draggable oj-resizable oj-subtree-hidden"" tabindex=""-1"" role=""dialog"" aria-labelledby=""ui-id-37"" style=""min-width: 900px; width: 950px; min-height: 300px; height: 500px; top: auto; left: auto; bottom: auto; right: auto; display: none;"" aria-hidden=""true""&gt;&lt;div class=""oj-dialog-header oj-dialog-header-close ui-draggable-handle""&gt;&lt;div class=""oj-dialog-title"" id=""ui-id-37""&gt;Import Users&lt;/div&gt;&lt;button class=""oj-dialog-header-close-wrapper oj-button-jqui oj-button oj-component oj-enabled oj-button-half-chrome oj-button-icon-only oj-component-initnode oj-default"" aria-labelledby=""ui-id-243"" title=""Close"" tabindex=""1""&gt;&lt;div class=""oj-button-label""&gt;&lt;span class=""oj-button-icon oj-start oj-component-icon oj-fwk-icon-cross""&gt;&lt;/span&gt;&lt;span class=""oj-button-text oj-helper-hidden-accessible"" id=""ui-id-243""&gt;Close&lt;/span&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;   &lt;div class=""oj-dialog-content oj-dialog-default-content""&gt;&lt;div class=""oj-dialog-body""&gt;     &lt;div class=""oj-flex oj-padding"" data-bind=""visible: importStep() === 1""&gt;       &lt;div class=""oj-flex-item oj-sm-12""&gt;         &lt;div class=""oj-flex oj-flex-items-pad oj-sm-align-items-center""&gt;           &lt;div class=""oj-flex-item oj-sm-1 idcs-align-center idcs-text-lg idcs-text-color-active""&gt;             &lt;span class=""idcs-icon idcs-user""&gt;&lt;/span&gt;           &lt;/div&gt;           &lt;div class=""oj-flex-item oj-sm-10""&gt;             &lt;div class=""oj-flex oj-flex-items-pad""&gt;               &lt;h3 data-bind=""text:bundle('userManagement.manageUsers.userImportDialogHeading')""&gt;Import Users&lt;/h3&gt;             &lt;/div&gt;             &lt;div class=""oj-flex oj-flex-items-pad""&gt;               &lt;p data-bind=""text:bundle('userManagement.manageUsers.userImportDialogInfo')""&gt;Select a file to import by using the browse button and then click Import. For additional help, please use the help links on the right side of this window.&lt;/p&gt;             &lt;/div&gt;           &lt;/div&gt;         &lt;/div&gt;          &lt;hr&gt;          &lt;div class=""oj-flex oj-md-justify-content-space-between oj-margin-top""&gt;           &lt;div class=""oj-flex-item oj-sm-9""&gt;             &lt;div class=""oj-flex oj-md-align-items-center""&gt;               &lt;div class=""oj-flex-item oj-sm-12 oj-md-4 idcs-text-right oj-padding-horizontal""&gt;                 &lt;h4 data-bind=""text: bundle('userManagement.manageUsers.selectFile')""&gt;Select a file to import&lt;/h4&gt;               &lt;/div&gt;               &lt;div class=""oj-flex-item oj-sm-12 oj-md-5 oj-form-control oj-choice-row-inline manage-user-input""&gt;                 &lt;input disabled="""" id=""dictionaryLocation"" type=""text"" class=""oj-form-control oj-inputtext-nocomp"" data-bind=""value: importFileLocation, attr: {title: bundle('userManagement.manageUsers.userImportHint') }"" title=""You can use a file with the CSV extension to import users into Identity Cloud Service.""&gt;               &lt;/div&gt;               &lt;div class=""oj-flex-item oj-flex oj-sm-12 oj-md-2 oj-md-justify-content-center""&gt;                 &lt;span&gt;                   &lt;label for=""idcs-users-import-file-upload-button"" class=""oj-component oj-enabled oj-button-text-icon-start oj-component-initnode oj-default""&gt;                     &lt;input id=""idcs-users-import-file-upload-button"" type=""file"" class=""idcs-hide"" data-bind=""value:importFileLocation, required: true"" accept="".csv""&gt;                     &lt;button id=""browse-button"" class=""oj-padding-start oj-button-jqui oj-button oj-component oj-enabled oj-button-full-chrome oj-button-text-only oj-component-initnode oj-default"" data-bind=""attr: { title: bundle('userManagement.manageUsers.userImportHint')},                                          click: fileBrowseClickListener, ojComponent: {component: 'ojButton', label: bundle('generic.browse')}"" title=""You can use a file with the CSV extension to import users into Identity Cloud Service."" aria-labelledby=""ui-id-36""&gt;&lt;div class=""oj-button-label""&gt;&lt;span class=""oj-button-text"" id=""ui-id-36""&gt;Browse&lt;/span&gt;&lt;/div&gt;&lt;/button&gt;                   &lt;/label&gt;                 &lt;/span&gt;               &lt;/div&gt;  </code></pre>  <p>[Screenshot of the popup window]</p>  <p><a href=""https://i.stack.imgur.com/WdEoE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WdEoE.png"" alt=""enter image description here""></a></p>  <p>[Expected Output]</p>  <ul> <li>Need to get inside the Dialog box and do some interactions. In this example, click browse, select file and click the import button.</li> </ul>"	"<p>You cannot use switch_to_alert. The popup dialog is div, not an alert. </p>  <p>JS alert not belongs to DOM tree.</p>  <p>Find popup dialog &lt; div > as below:</p>  <p>If you cannot interact with the dialog box, check &lt; div > is in frame or not.</p>  <pre><code>popup = chrome_browser.find_element_by_id('idcs-users-import-dialog') </code></pre>  <p>And if you want to upload file, use send_keys to &lt; input > element.</p>  <pre><code>browsebtn = chrome_browser.find_element_by_id('idcs-users-import-file-upload-button') browsebtn.send_keys(//Your file path//) </code></pre>"
61831000	How to connect javascript front end to a python backend?	javascript|python|frontend	2020-05-16 02:06:08.063000 UTC	<p>I am a beginner in programming and I made a sorting visualizer project in python. As of now I run this program in IDE. I want to put this project on my personal website which I am learning how to build (Javascript for frontend). I do not want to spend time writing the sorting visualizer python program again in JavaScript as I have just started learning JavaScript and it might take much time to write it in JS. </p>  <p>Is there any way in which I can take input from a user on my website in a browser and then pass the input to my python program which performs the tasks and then outputs the result in the browser. </p>	
61865415	Unable click on load more button which contains href = javascript void using python	python|selenium	2020-05-18 08:25:20.543000 UTC	"<p>I am trying to extract all the URLs data from the webpage '<a href=""https://careers.wipro.com/search-for-jobs.aspx?div=Technologies&amp;#divhere"" rel=""nofollow noreferrer"">https://careers.wipro.com/search-for-jobs.aspx?div=Technologies&amp;#divhere</a>'  This website contains a 'load more' button which loads more pages. iI tried the below code to load all the pages first by clicking load more button </p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By from selenium.webdriver.common.action_chains import ActionChains  driver = webdriver.Chrome() driver.get(""https://careers.wipro.com/search-for-jobs.aspx?div=Technologies&amp;#divhere"")  main_menu = driver.find_element_by_css_selector('#DivVeiwMore .button-show-more').click()  actions = ActionChains(driver) actions.move_to_element(main_menu).click().build().perform() </code></pre>  <p>the above code gave below error.</p>  <p>ElementClickInterceptedException: Message: element click intercepted: Element ... is not clickable at point (455, 863). Other element would</p>  <p>then I tried using the below code</p>  <pre><code>url = ""https://careers.wipro.com/search-for-jobs.aspx?  div=Technologies&amp;#divhere"" driver = webdriver.Chrome() driver.get(url) html = driver.page_source.encode('utf-8') page_num = 0  while driver.find_elements_by_css_selector('#DivVeiwMore .button-show-more'): element = driver.find_element_by_css_selector('#DivVeiwMore .button-show-more').click() driver.execute_script(""arguments[0].click();"", element) page_num += 1 print(""getting page number"" +str(page_num)) time.sleep(10) </code></pre>  <p>html = driver.page_source.encode('utf-8') the above code gave me another error ElementClickInterceptedException: Message: element click intercepted: Element ... is not clickable at point (455, 863). Other element would receive the click: ...   (Session info: chrome=81.0.4044.138)</p>  <p>then I tried using wait but it didn't work as well.please find the code and error below</p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait as wait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By from selenium.webdriver.common.action_chains import ActionChains  driver = webdriver.Chrome() driver.get(""https://careers.wipro.com/search-for-jobs.aspx?  div=Technologies&amp;#divhere"")  main_menu =  driver.find_element_by_css_selector('a[href=""javascript:void(0);""]').click()  #actions = ActionChains(driver) #actions.move_to_element(main_menu).click().build().perform()  wait(driver, 15).until(EC.element_to_be_clickable((By.CSS_SELECTOR,  'a[href=""javascript:void(0);""]'))).click() </code></pre>  <p>this gave me an error  ElementNotInteractableException: Message: element not interactable</p>  <p>I am not sure where i am going wrong can anyone help me how to click on Load More button and load all pages so i can extract all href elements from the page.</p>"	"<p>What is observed that notification of accepting cookie is interrupting the click and you are not waiting for loading the element.</p>  <p>there are different approach but i have used 1 Webdriverwait . Check if below lines work for you...</p>  <p>Change your driver path</p>  <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.common.exceptions import TimeoutException from selenium.webdriver.common.by import By import time  opt=webdriver.ChromeOptions()  opt.add_argument(""--start-maximized"")  driver= webdriver.Chrome(executable_path=""C:\\chrome driver\\chromedriver.exe"",options=opt) driver.get(""https://careers.wipro.com/search-for-jobs.aspx?div=Technologies&amp;#divhere"")  # if Accept cookie and decline cookie notification is visible in 5 sec then click on decline  try:     WebDriverWait(driver,5).until(EC.element_to_be_clickable((By.XPATH,'//*[@id=""DivCookie""]/div/div/div/a[2]/button')))     driver.find_element_by_xpath('//*[@id=""DivCookie""]/div/div/div/a[2]/button').click() except TimeoutException:     pass  WebDriverWait(driver, 30).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '#DivVeiwMore .button-show-more'))) time.sleep(1) # just to ensure element is properly loaded main_menu = driver.find_element_by_css_selector('#DivVeiwMore .button-show-more').click() # you can use Action chain as well </code></pre>"
61877953	Eel python: Javascript error eel is not a function	javascript|python|html|eel	2020-05-18 19:56:14.217000 UTC	"<p>I am using eel to communicate with python. I'm working in dir <code>C:\Users\Desktop\Eel</code> where I have <code>app.py</code> and inside the <code>UI</code> folder I have <code>index.html, myjava.js, style.css, images</code> but nothing called <code>eel.js</code>. I said this because in docs it says to include script called <code>/eel.js</code>.</p>  <hr>  <p><strong>index.html</strong></p>  <pre><code>&lt;head&gt;     &lt;script type=""text/javascript"" language=""JavaScript"" src=""./myjava.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript"" src=""/eel.js""&gt;&lt;/script&gt;     &lt;link rel=""stylesheet"" href=""style.css""&gt; &lt;/head&gt; </code></pre>  <pre><code>&lt;body&gt; &lt;div class=""container"" onclick=""runeel()""&gt; &lt;/body&gt; </code></pre>  <p>my Javascript is:</p>  <pre><code>function runeel(){     eel.runpy() } </code></pre>  <p><strong>app.py</strong></p>  <pre><code>import eel  eel.init('UI') eel.start('index.html', size=(900, 550))  @eel.expose def runpy():      ....code which creates an excel file in desktop... </code></pre>  <p>When I run the py file, the index.html loads up and then when I click the div I get into the function and but it throws the error:</p>  <pre><code>myjava.js:2 Uncaught TypeError: eel.runpy is not a function </code></pre>  <p>What am I missing?</p>"	<p>i had the same problem until I removed the /eel.js from</p> <pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/eel.js&quot;&gt;&lt;/script&gt; </code></pre> <p>now it's look like</p> <pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;eel.js&quot;&gt;&lt;/script&gt; </code></pre>
61877953	Eel python: Javascript error eel is not a function	javascript|python|html|eel	2020-05-18 19:56:14.217000 UTC	"<p>I am using eel to communicate with python. I'm working in dir <code>C:\Users\Desktop\Eel</code> where I have <code>app.py</code> and inside the <code>UI</code> folder I have <code>index.html, myjava.js, style.css, images</code> but nothing called <code>eel.js</code>. I said this because in docs it says to include script called <code>/eel.js</code>.</p>  <hr>  <p><strong>index.html</strong></p>  <pre><code>&lt;head&gt;     &lt;script type=""text/javascript"" language=""JavaScript"" src=""./myjava.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript"" src=""/eel.js""&gt;&lt;/script&gt;     &lt;link rel=""stylesheet"" href=""style.css""&gt; &lt;/head&gt; </code></pre>  <pre><code>&lt;body&gt; &lt;div class=""container"" onclick=""runeel()""&gt; &lt;/body&gt; </code></pre>  <p>my Javascript is:</p>  <pre><code>function runeel(){     eel.runpy() } </code></pre>  <p><strong>app.py</strong></p>  <pre><code>import eel  eel.init('UI') eel.start('index.html', size=(900, 550))  @eel.expose def runpy():      ....code which creates an excel file in desktop... </code></pre>  <p>When I run the py file, the index.html loads up and then when I click the div I get into the function and but it throws the error:</p>  <pre><code>myjava.js:2 Uncaught TypeError: eel.runpy is not a function </code></pre>  <p>What am I missing?</p>"	"<p>In my case, I had to start <code>eel</code> <em>after</em> exposing the function via the decorator:</p> <pre><code>import eel  eel.init('UI')  @eel.expose def runpy():      ....code which creates an excel file in desktop...  eel.start('index.html', size=(900, 550)) </code></pre>"
61877953	Eel python: Javascript error eel is not a function	javascript|python|html|eel	2020-05-18 19:56:14.217000 UTC	"<p>I am using eel to communicate with python. I'm working in dir <code>C:\Users\Desktop\Eel</code> where I have <code>app.py</code> and inside the <code>UI</code> folder I have <code>index.html, myjava.js, style.css, images</code> but nothing called <code>eel.js</code>. I said this because in docs it says to include script called <code>/eel.js</code>.</p>  <hr>  <p><strong>index.html</strong></p>  <pre><code>&lt;head&gt;     &lt;script type=""text/javascript"" language=""JavaScript"" src=""./myjava.js""&gt;&lt;/script&gt;     &lt;script type=""text/javascript"" src=""/eel.js""&gt;&lt;/script&gt;     &lt;link rel=""stylesheet"" href=""style.css""&gt; &lt;/head&gt; </code></pre>  <pre><code>&lt;body&gt; &lt;div class=""container"" onclick=""runeel()""&gt; &lt;/body&gt; </code></pre>  <p>my Javascript is:</p>  <pre><code>function runeel(){     eel.runpy() } </code></pre>  <p><strong>app.py</strong></p>  <pre><code>import eel  eel.init('UI') eel.start('index.html', size=(900, 550))  @eel.expose def runpy():      ....code which creates an excel file in desktop... </code></pre>  <p>When I run the py file, the index.html loads up and then when I click the div I get into the function and but it throws the error:</p>  <pre><code>myjava.js:2 Uncaught TypeError: eel.runpy is not a function </code></pre>  <p>What am I missing?</p>"	"<p>It seems that the init statement is written first. What about writing the @eel.expose statement right after the import statement?</p>  <p>I'm not good at English, so I'm worried that it will make sense. But I would be happy if I could help.</p>"
61880828	How can I access data provided to HTML template from Python flask routing in my JavaScript code?	javascript|python|html|flask	2020-05-18 23:45:24.463000 UTC	"<p>So I have a python flask application that routes to a site and passes along two lists:</p>  <pre><code>def chart():     labels = ['x', 'y', 'z']     values = [100, 150, 100]     return render_template('chart.html',      labels=labels, values=values) </code></pre>  <p>I use <code>Chart.min.js</code> and I can then use the lists in rendering a graph in my <code>chart.html</code>:</p>  <pre><code>{% block body %} &lt;h1&gt;Test chart&lt;/h1&gt;  &lt;canvas id=""myChart"" width=""800"" height=""400""&gt;&lt;/canvas&gt;  &lt;p id=""caption""&gt;chart displaying labels n' values&lt;/p&gt;  &lt;script type=text/javascript&gt;      var ctx = document.getElementById('myChart');      var names = [         {% for item in labels %}             ""{{ item }}"",         {% endfor %}     ];      var numbers = [         {% for item in values %}             {{ item }},         {% endfor %}     ];      var chartData = {         labels: names,         datasets: [{           label: 'values',            data: numbers         }]     };      var myChart = new Chart(ctx, {         type: 'line',         data: chartData     });  &lt;/script&gt;  {% endblock %} </code></pre>  <p>Now this works fine and I get a nice pretty graph.  Then I wanted to put my JavaScript in a seperate file in the static folder for my flask application but I cannot find how I'm supposed to access the lists passed along to <code>chart.htlm</code>. I can render a graph just fine if I hardcode some data into the JS file but I can't seem to get the data provided by the python code..</p>  <pre><code>var ctx = document.getElementById('myChart');  // var names = ['x', 'y', 'z']; // var numbers = [100, 150, 100];  var chartData = {     labels: names,     datasets: [{         label: 'values',         data: numbers     }] };  var myChart = new Chart(ctx, {     type: 'line',     data: chartData }); </code></pre>  <p>I have tried to loop the contents of the lists from my python file into different containers such as <code>&lt;div&gt;</code>, <code>&lt;ol&gt;</code> and <code>&lt;ul&gt;</code>and access those through <code>document.getElementById("""")</code> among some other attempts, can't really remember them all.</p>  <p>I have tried to find the answer on google but to no avail.</p>  <p>Any help is appreciated and I should mention that I'm new to these coding languages and frameworks so please have some oversight if what I am missing is obvious.</p>  <p>=== NEW WORKING VERSION ===</p>  <p><code>chart.html</code> :</p>  <pre><code>&lt;script type=""text/javascript""&gt;      window.addEventListener('DOMContentLoaded', (event) =&gt; {         const myChart2 = document.getElementById('ChartOne');         drawChart(ChartOne, {{ labels| tojson }}, {{ values| tojson }}, ChartType.LINE);      });  &lt;/script&gt;  &lt;div&gt;     &lt;canvas id=""ChartOne"" width=""800"" height=""400""&gt;&lt;/canvas&gt;     &lt;p id=""caption""&gt;line chart displaying labels n' values&lt;/p&gt; &lt;/div&gt;  </code></pre>  <p><code>script.js</code>:</p>  <pre><code>const ChartType = {     LINE: ""line"" // add more variables for more chart options }  function drawEmployeeChart(ctx, labels, values, chartType) {     var chartData = {         labels: labels,         datasets: [{             label: 'values',             data: values,         }]     };      var myChart = new Chart(ctx, {         type: chartType,         data: chartData     }); } </code></pre>"	"<p>Now that you've separated your javascript into a new js file, you have to get your variables there.</p>  <p>What you could do is define a javascript function in your .js file that takes two arrays:</p>  <pre><code>function render_chart(labels, values) {     var ctx = document.getElementById('myChart');      var chartData = {         labels: names,         datasets: [{             label: 'values',             data: values         }]     };      var myChart = new Chart(ctx, {         type: 'line',         data: chartData     }); } </code></pre>  <p>Then call the function from your <code>chart.html</code> page, but you have to convert the variables you pass from Flask to json. To do that do this, using the special <code>tojson</code> Jinja2 filters:</p>  <pre><code>&lt;script type=""text/javascript""&gt;render_chart({{ labels|tojson }}, {{ values|tojson }})'&gt;&lt;/script&gt; </code></pre>"
61891147	Popup javascript shown in python login page	javascript|python|html|jquery	2020-05-19 12:31:56.270000 UTC	"<p>I am so new with python and I am making a login page, the front-end is with HTML,CSS, JS and backend is with python and everything works fine, Now I want to have a popup javascript code shown when the user entered the wrong password, my codes are ready but I don't know how to connect javascript to python and also show the popup. Now I return a static message when user entered the wrong password: any help really appreciated. :)</p>  <blockquote>   <p>My javascript popup code:   <a href=""https://sweetalert2.github.io/"" rel=""nofollow noreferrer"">Source Code from JS</a></p> </blockquote>  <pre><code>let timerInterval Swal.fire({  title: 'You entered wrong username or password',  html: 'I will close in &lt;b&gt;&lt;/b&gt; milliseconds.',  timer: 2000,  timerProgressBar: true,  onBeforeOpen: () =&gt; {   Swal.showLoading()   timerInterval = setInterval(() =&gt; {    const content = Swal.getContent()    if (content) {     const b = content.querySelector('b')     if (b) {      b.textContent = Swal.getTimerLeft()     }    }   }, 100)  },  onClose: () =&gt; {   clearInterval(timerInterval)  } }).then((result) =&gt; {  /* Read more about handling dismissals below */  if (result.dismiss === Swal.DismissReason.timer) {   console.log('I was closed by the timer')  } }) </code></pre>  <blockquote>   <p>My Python Code : When login fails</p> </blockquote>  <pre><code>        return (login_result)         if login_result == '0':             return('Successful')         elif login_result != '0':             return('invalid credentials')  </code></pre>  <blockquote>   <p>My HTML Code : for login button</p> </blockquote>  <pre><code>&lt;div&gt;    &lt;button&gt;    Login    &lt;/button&gt; &lt;/div&gt; </code></pre>"	
61895940	"How can i take n number of input in an array in javascript, python"	javascript|python-3.x	2020-05-19 16:21:48.290000 UTC	"<p>I want to take an user input that determins the number of inputs desired to take &amp; input that number of inputs . For example if i need to enter 5 inputs ,the user would get a prompt asking what number of inputs you want to enter &amp; if i log it and continue the the user gets another prompt asking the inputs</p>"	"<p>You can use something like this for python and use the list as you want</p>  <pre><code>lst = []  n = int(input(""Enter number of elements : ""))  for i in range(0, n):      ele = int(input())      lst.append(ele) # adding the element   print(lst)  #lst will contain all user inputs </code></pre>  <p>For Javascript</p>  <pre><code>var lst = []; var n = prompt(""Enter number of elements : ""); var ele; for(let i = 0; i &lt; n; i++){     ele = prompt("""");     lst.push(ele); # adding the element  } console.log(lst); #lst will contain all user inputs </code></pre>"
61895940	"How can i take n number of input in an array in javascript, python"	javascript|python-3.x	2020-05-19 16:21:48.290000 UTC	"<p>I want to take an user input that determins the number of inputs desired to take &amp; input that number of inputs . For example if i need to enter 5 inputs ,the user would get a prompt asking what number of inputs you want to enter &amp; if i log it and continue the the user gets another prompt asking the inputs</p>"	"<p>In javascript </p>  <pre><code>let numbersOfInputs = 1 * prompt('Enter the total numbers of input',0);  let inputAsArray = [] ; for(let index = 0;index &lt; numbersOfInputs;index += 1){ let temp = 1 * prompt(`Enter the value for inputAsArray[${index}]`,0); inputAsArray.push(temp); }; console.log(inputAsArray) </code></pre>"
61901628	It is possible to assign the google colab notebook name to a python variable. In Jupyter you can use javascript but this does not work in colab	google-colaboratory	2020-05-19 22:11:00.183000 UTC	<p>It is possible to assign the google colab notebook name to a python variable. In Jupyter you can use javascript but this does not work in colab. I have found examples using %javascript to access the html but these do not appear to work with colab notebooks. So I want to copy the notebook to my google drive and rename it but then assign the new name to a python variable.</p>	"<p>Here's the code to get the notebook name.</p>  <pre class=""lang-py prettyprint-override""><code>from requests import get filename = get('http://172.28.0.2:9000/api/sessions').json()[0]['name'] </code></pre>"
61935246	Build an XHR link on javascript website for python requests	javascript|python|python-3.x|python-requests|jqxhr	2020-05-21 13:08:25.770000 UTC	"<p>I'm scraping the following website <a href=""https://lv.scorebing.com/"" rel=""nofollow noreferrer"">Scorebing</a> using requests. In order to do so, I'm exploring the website to locate the XHR calls and get an url like this</p>  <p><a href=""https://i.stack.imgur.com/A1Lc4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/A1Lc4.png"" alt=""page position""></a> being the code as follows</p>  <pre><code>import requests,json  header={some data from the XHR I got using Postman} url='https://lv.scorebing.com/ajax/score/data?mt=0&amp;nr=1&amp;corner=1'  response=requests.get(url=url,headers=header,data=json.dumps({})) response.json() </code></pre>  <p>No problems there. My problem is that if I switch tab, like from Corner to Fixture, no new XHR is called. In fact, only ""Live Matches"" and ""Corners"" allows for this direct XHR connection. I see that some js scripts are loaded, but I can't go from there to replicating my previous step.</p>  <p><a href=""https://i.stack.imgur.com/0tBQ5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0tBQ5.png"" alt=""new page position""></a></p>  <p>I know I can scrape this using selenium, and probably using a regular requests to the url of the page and using BSoup, but what I don't understand is why some tabs make XHR calls to load data where other similar ones use js. I would like to know how can you reverse engineer those js calls in order to get an API similar to the first part.</p>"	"<p>Firstly,you should know that <code>XHR</code>(XMLHttpRequest) in Chrome will record all the <code>ajax</code> request.</p>  <hr>  <p>What's <code>Ajax</code>?</p>  <blockquote>   <p>Ajax is a set of web development techniques using many web technologies on the client side to create asynchronous web applications.</p> </blockquote>  <p>Ajax could be achieved by <code>JavaScript</code> or <code>jQuery</code>(Well,jQuery is a JavaScript library.It is JavaScipt essentially,but jQuery offer a API about <code>ajax</code>).</p>  <p>In your example page,there are many ajax requests in the source code: <a href=""https://i.stack.imgur.com/rnlst.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rnlst.png"" alt=""enter image description here""></a></p>  <p><a href=""https://i.stack.imgur.com/KOcM8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KOcM8.png"" alt=""enter image description here""></a></p>  <hr>  <blockquote>   <p>I would like to know how can you reverse engineer those js calls in order to get an API similar to the first part.</p> </blockquote>  <p>If you really want to do it just by the source code,you should:</p>  <ol> <li>Send a <code>GET</code> request to the page.</li> <li>Analysis the source code of the page,then iterate each <code>Javascript</code>.(Also send <code>GET</code> request.)</li> <li>Find all the ajax requests and also send <code>GET</code> requests,select the data you need from them.</li> </ol>"
61949545	method in python like eval() in javascript	python|python-3.x	2020-05-22 07:07:52.333000 UTC	"<p>in javascript you can do:</p>  <pre><code>i = -1; array.forEach(function() {  i++  eval(""var item"" + i + "" = "" + array[0]); }); </code></pre>  <p>to dynamically create variables, used this a couple of times to write data from an external JSON array into divs for each, is something like this possible in python(3.7)? especially the eval() method.</p>  <p>thanks in advance!</p>"	"<p>Yes there is! You can use the exec function in this case:</p>  <pre><code>i = -1  for value in array:     i += 1     exec(""item"" + str(i) + "" = "" + str(array[0])) </code></pre>  <p>There are negatives to this though, as stated in the comments already, but assuming you still decide to use it here it is.</p>"
61968154	Is there any way to get data from an javascript in html with python	javascript|python|html|beautifulsoup|python-requests	2020-05-23 06:06:53.247000 UTC	"<p>This is the html script I get when I use requests.</p>  <pre><code>&lt;script type=""text/javascript""&gt; $(document).ready(function(){         data = [{""str"":""안녕하세요+저는+예상우+입니다"",""errInfo"":[{""help"":""입력 오류입니다."",""errorIdx"":0,""correctMethod"":1,""start"":9,""end"":12,""orgStr"":""예상우"",""candWord"":""예상외""}],""idx"":0}];         pageIdx = 0;         /*&lt;![CDATA[*/         if(1){                 totalPageCnt = 1;         }         /*]]&gt;*/         data = eval(data);          makeHTML(0);          if(totalPageCnt != 1){                 if(pageIdx == 0){                         toast(""총 "" +totalPageCnt+""페이지입니다. 아래 화살표를 이용해 이동해주세요."");                 }                  document.getElementById('pageAnnounce').innerHTML = ""총 "" +totalPageCnt+""페이지 중 "" + (pageIdx+1) +""페이지입니다.&lt;br&gt;화살표를 눌러 페이지를 이동해주세요."";         } }); &lt;/script&gt; </code></pre>  <p>I want to get <code>str</code>,<code>help</code>,<code>errorIdx</code>,<code>correctMethod</code>,<code>start</code>,<code>end</code>,<code>orgStr</code>,<code>candWord</code>from this javascript with python. How can I do this?</p>"	"<p>Try this,</p>  <pre><code>import re import json from bs4 import BeautifulSoup  soup = BeautifulSoup(text, ""html.parser"")  script = soup.find('script') data = json.loads(re.search(""data = (.*);"", script.text).group(1))  print(data[0]['str'])  </code></pre>"
61973628	How to pass selected file path to python script via javascript	javascript|python|html|eel	2020-05-23 14:34:34.460000 UTC	"<p>I'm using <a href=""https://github.com/samuelhwilliams/Eel"" rel=""nofollow noreferrer"">eel</a> to create a simple but clean GUI to my project. In this project, I have a custom database which I pickle/update/unpickle when needed. From local webserver, I select the file and click the submit button. Then I pass the file directory to later read in python script. The structure I have is as follows; <br /></p> <h1>HTML</h1> <p>I have two simple elements, one button and one input</p> <pre><code>&lt;input type=&quot;file&quot; id=&quot;file-upload&quot;&gt; &lt;input class=&quot;btn btn-success&quot; type=&quot;submit&quot; onClick=&quot;get_input_directory()&quot; value=&quot;Send&quot;&gt; </code></pre> <h1>JS</h1> <pre><code>function get_input_directory() {     var data = document.getElementById(&quot;file-uploader&quot;).value     eel.get_input(data) } </code></pre> <h1>Python</h1> <p>And for the moment I just print the directory If I got it right.</p> <pre><code>@eel.expose def get_input(data):     print(data) </code></pre> <p>And what I planned to do later was to use the script down to unpickle database into my program:</p> <pre><code>with open(file_dir, &quot;rb&quot;) as f:     mdl = pickle.load(f)     return mdl </code></pre> <p>But my database file is printed as:</p> <pre><code>C:/fakepath/database.file </code></pre> <p>I searched the web and found out that this is a security measure that browser implemented but I tried FileReader method to pass the file directly into the unpickling function but that also failed saying that no such file exists.</p> <p>What should I use for this problem, or is there a way to pass the directory into the python script which would be much easier since the backend is pretty much done for project. Any help is appreciated. Thanks in advance!</p>"	"<p>This has to do with JS not having full exist to your computer. Best to do is add the file handler in python/eel. Because python does has full access to the path of your computer:</p>  <pre><code>@eel.expose def btn_ResimyoluClick():     root = Tk()     root.withdraw()     root.wm_attributes('-topmost', 1)     folder = filedialog.askdirectory()     return folder </code></pre>  <p>Copied from: <a href=""https://github.com/samuelhwilliams/Eel/issues/86"" rel=""nofollow noreferrer"">https://github.com/samuelhwilliams/Eel/issues/86</a></p>"
61983195	Equivalent of Python's help() in javascript or nodejs	javascript|node.js|directory|documentation|docstring	2020-05-24 08:04:15.747000 UTC	"<p>When I want to know the number of arguments and argument types of a function in python, i just use the function help() to get them. But in javascript or nodejs, it is really hard to know the argument type and number of arguments of a function. Is there any function similar to Python's help in Javascript or is there any other way to get that information?</p>"	"<p>Modern IDEs can present you this information for the ECMAScript APIs based on the type definitions (written in TypeScript) that they include. Other than that, you have to look at the function implementation (or switch to TypeScript ;) ).</p>"
61983195	Equivalent of Python's help() in javascript or nodejs	javascript|node.js|directory|documentation|docstring	2020-05-24 08:04:15.747000 UTC	"<p>When I want to know the number of arguments and argument types of a function in python, i just use the function help() to get them. But in javascript or nodejs, it is really hard to know the argument type and number of arguments of a function. Is there any function similar to Python's help in Javascript or is there any other way to get that information?</p>"	"<p>JavaScript is dynamically typed, so it is hard to tell the types. For the number of arguments, you can try <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length"" rel=""nofollow noreferrer""><code>Function.length</code></a> with some caveats. Some hints about argument type of not built-in functions can provide <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"" rel=""nofollow noreferrer""><code>Function.prototype.toString()</code></a>, with full or truncated output. For example:</p>  <pre class=""lang-js prettyprint-override""><code>&gt; fs.read.length 6 &gt; fs.read.toString().replace(/\{.+/s, '') 'function read(fd, buffer, offset, length, position, callback) ' </code></pre>  <p>Or you can use TypeScript with IDE)</p>"
61995745	Make Javascript Execute a Python Script	javascript|python|ajax	2020-05-25 04:22:37.393000 UTC	"<p>I have a question that has been asked several times here and other places around the internet*, but answers I've seen are incomplete or ineffective.</p>  <p>I would like to have a JavaScript function <code>runPy()</code> that, upon being called (in a browser, via a button-click for instance), will execute a Python script in my server that we'll call <code>test.py</code>.</p>  <p>Let's say that test.py is simply designed to create a text file and write in it 'hello world'</p>  <p><strong>Python</strong></p>  <pre class=""lang-python prettyprint-override""><code>f = open('test.txt', 'w+') f.write('hello world') </code></pre>  <p>Based on other answers, I have pieced together the following JavaScript/jQuery function:</p>  <p><strong>JavaScript</strong></p>  <pre class=""lang-js prettyprint-override""><code>function runPy() {     $.ajax({         type:'POST',         url:'test.py',         success: function(data) {                                                                  console.log(data)         };     }); } </code></pre>  <p>Now, this is of course incorrect. As one might expect, rather than running the Python script, it prints to the console the contents of the script:</p>  <p><strong>Console</strong> <br></p>  <pre class=""lang-none prettyprint-override""><code>f = open('test.txt', 'w+') f.write('hello world') </code></pre>  <p>How would I go about editing my JavaScript (and/or Python) to achieve the functionality I would like? In a perfect world, I would like to avoid importing any new dependencies (I've seen some answers dependent on Flask or Django) but of course beggars can't be choosers. </p>  <p>Additionally, if I will allow myself to get greedy, it would be very nice to be able to pass arguments to the Python script as well, or even use JavaScript to call a specific function in the Python script, and have the results passed back to the client-side JavaScript.</p>  <p>*<strong>Similar Questions</strong> <br> <a href=""https://stackoverflow.com/questions/32288722/call-python-function-from-js"">Call python function from JS</a> <br> <a href=""https://stackoverflow.com/questions/25517662/how-to-call-python-script-from-javascript"">how to call python script from javascript?</a> <br> <a href=""https://stackoverflow.com/questions/49934730/run-python-scripts-from-javascript-functions"">Run Python scripts from JavaScript functions</a></p>"	"<p>You're going on the right path.</p> <p>But, here's why the POST isn't working. Except for HTML filetype, making a POST call to fetch a static file on the server (i.e. random.js, random.css etc) will print the raw file content. In this scenario, you'll need to handle this on the server-side backend code. I don't know which backend framework you're using but here are some articles that can help you with this:</p> <p>NodeJS: <a href=""https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f"" rel=""nofollow noreferrer"">https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f</a></p> <p>.NET: <a href=""https://medium.com/better-programming/running-python-script-from-c-and-working-with-the-results-843e68d230e5"" rel=""nofollow noreferrer"">https://medium.com/better-programming/running-python-script-from-c-and-working-with-the-results-843e68d230e5</a></p> <p>Java: <a href=""https://stackoverflow.com/questions/27267391/running-a-py-file-from-java/27267509"">Running a .py file from Java</a></p> <p><strong>UPDATE!!:</strong> Due to the recent developments in the space of Web Development, it is now possible to run Python on the Client-side through WebAssembly. Please find more instructions here: <a href=""https://github.com/pyodide/pyodide"" rel=""nofollow noreferrer"">Pyodide</a></p>"
62009282	Flask: python object to json triggering error when read by javascript	javascript|python|json|flask	2020-05-25 19:21:21.787000 UTC	"<p>I'm trying to pass python dictionaries and javascript objects back and forth as necessary. From similar questions, I've gathered that I need to do this.</p>  <p>Python:</p>  <pre class=""lang-py prettyprint-override""><code>posts = [ {'author':'JL Rowling','title':'Harry Potter'}, {'author':'JRR Tolkien','title':'Lord of the Rings'}, ] </code></pre>  <p>Javascript:</p>  <pre class=""lang-js prettyprint-override""><code>var jsonPosts = JSON.parse({{ posts }}); console.log(jsonPosts); </code></pre>  <p>Likewise, these doesn't work either:</p>  <pre><code>var jsonPosts = JSON.parse(posts|tojson); var jsonPosts = {{ posts|tojson }}; </code></pre>  <p>The JS error I'm triggering is <code>TypeError: Object of type Undefined is not JSON serializable</code></p>  <p>I got this advice from the following Q/A:</p>  <p><a href=""https://stackoverflow.com/questions/31123800/python-to-javascript-json-objects-flask"">Python to Javascript JSON objects (Flask)</a></p>  <p><a href=""https://stackoverflow.com/questions/11178426/how-can-i-pass-data-from-flask-to-javascript-in-a-template"">How can I pass data from Flask to JavaScript in a template?</a></p>  <p>How can I fix this? </p>  <p>Edit:  I've used answer recommendation and found the following error to be present in the console:</p>  <pre><code>VM129:1 Uncaught SyntaxError: Unexpected token u in JSON at position 0     at JSON.parse (&lt;anonymous&gt;)     at about:16 </code></pre>  <p>Corresponding to </p>  <pre><code>let jsonPosts = JSON.parse(); </code></pre>  <p>It seems that it doesn't have access to <code>encoded_posts</code>.</p>"	"<p>You need to use the <em>encoded</em> posts:</p>  <pre><code>encoded_posts = json.dumps(posts) </code></pre>  <p>That will give you string, which is what <code>JSON.parse</code> is expecting.</p>  <pre><code>var jsonPosts = JSON.parse({{ encoded_posts }}); </code></pre>"
62031809	Extracting JavaScript Variables into Python Dictionaries	python|beautifulsoup	2020-05-26 21:35:51.177000 UTC	"<p>Understanding that I have to use PyQt5 in conjunction with BeautifulSoup to run javascript on my client after extracting the html using BeautifulSoup, I am trying to convert variable _Flourish_data into a Python dictionary. </p>  <p>Is there an easy way to extract the Javascript variable, _Flourish_data, into a Python dictionary? Here is my current Python to extract the Javascript using PyQt5 and BeautifulSoup:</p>  <pre><code>import bs4 as bs import sys import urllib.request from PyQt5.QtWebEngineWidgets import QWebEnginePage from PyQt5.QtWidgets import QApplication from PyQt5.QtCore import QUrl  class Page(QWebEnginePage):     def __init__(self, url):         self.app = QApplication(sys.argv)         QWebEnginePage.__init__(self)         self.html = ''         self.loadFinished.connect(self._on_load_finished)         self.load(QUrl(url))         self.app.exec_()      def _on_load_finished(self):         self.html = self.toHtml(self.Callable)      def Callable(self, html_str):         self.html = html_str         self.app.quit()  page = Page('https://flo.uri.sh/visualisation/2451841/embed?auto=1') soup = bs.BeautifulSoup(page.html, 'html.parser') js_test = soup.find_all('script') js_test[5] </code></pre>  <p>The output of the existing code is </p>  <pre><code>&lt;script&gt;         function _Flourish_unflattenInto(dest, src) {             dest = dest || {};             for (var k in src) {                 var t = dest;                 for (var i = k.indexOf("".""), p = 0; i &gt;= 0; i = k.indexOf(""."", p = i+1)) {                     var s = k.substring(p, i);                     if (!(s in t)) t[s] = {};                     t = t[s];                 }                 t[k.substring(p)] = src[k];             }             return dest;         }         var _Flourish_settings = {""cell_fill_1"":""#ffffff"",""cell_fill_2"":""#ebebeb"",""cell_fill_direction"":""horizontal"",""cell_font_size"":""1"",""cell_height"":20,""cell_horizontal_alignment"":""center"",""cell_link_color"":""#2886b2"",""cell_padding_horizontal"":16,""cell_padding_vertical"":11,""column_width_mode"":""auto"",""column_widths"":""10%, 10%, 10%, 10%, 50%, 10%"",""header_fill"":""#181f6c"",""header_font_color"":""#ffffff"",""header_font_default"":false,""header_font_size"":1.1,""header_horizontal_alignment"":""center"",""header_style_default"":true,""layout.body_font"":{""name"":""Source Sans Pro"",""url"":""https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700""},""layout.layout_order"":""stack-default"",""layout.space_between_sections"":""0.5"",""mobile.view"":true,""no_results_text"":""Use the search bar to find your state"",""pagination_amount"":41,""pagination_amount_search"":""5"",""search_enabled"":false,""search_hide_table"":false,""search_placeholder"":""Search to find your state"",""search_resize"":true,""search_width"":15};         _Flourish_unflattenInto(window.template.state, _Flourish_settings);          var _Flourish_data_column_names = {""rows"":{""columns"":[""State "",""Earliest/Planned Start Date for 20/21 Academic Year "","""","""","""",""""]}},                 _Flourish_data = {""rows"":[{""columns"":[""Alabama"",""Varies by district"","""","""","""",""""]},{""columns"":[""Alaska"",""Varies by district"","""","""","""",""""]},{""columns"":[""American Samoa"",""Unknown"","""","""","""",""""]},{""columns"":[""Arizona"",""Varies by district"","""","""","""",""""]},{""columns"":[""Arkansas"",""Varies by district"","""","""","""",""""]},{""columns"":[""Bureau of Indian Education"",""Varies by district"","""","""","""",""""]},{""columns"":[""California"",""Varies by district"","""","""","""",""""]},{""columns"":[""Colorado"",""Varies by district"","""","""","""",""""]},{""columns"":[""Connecticut"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Delaware"",""Varies by district"","""","""","""",""""]},{""columns"":[""Department of Defense Education Activity\n  "",""Varies by district"","""","""","""",""""]},{""columns"":[""District of Columbia"",""8/31/2020"","""","""","""",""""]},{""columns"":[""Florida"",""Unknown"","""","""","""",""""]},{""columns"":[""Georgia"",""Unknown"","""","""","""",""""]},{""columns"":[""Guam"",""Unknown"","""","""","""",""""]},{""columns"":[""Hawaii"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Idaho"",""Varies by District"","""","""","""",""""]},{""columns"":[""Illinois"",""Varies by district"","""","""","""",""""]},{""columns"":[""Indiana"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Iowa"",""Varies by district"","""","""","""",""""]},{""columns"":[""Kansas"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Kentucky"",""Unknown"","""","""","""",""""]},{""columns"":[""Louisiana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maine"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maryland"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Massachusetts"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Michigan"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Minnesota"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Mississippi "",""Varies by district"","""","""","""",""""]},{""columns"":[""Missouri"",""Varies by district"","""","""","""",""""]},{""columns"":[""Montana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nebraska"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nevada"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Hampshire"",""Not yet determined"","""","""","""",""""]},{""columns"":[""New Jersey"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Mexico"",""Unknown"","""","""","""",""""]},{""columns"":[""New York"",""Not yet determined"","""","""","""",""""]},{""columns"":[""North Carolina"",""8/17/2020"","""","""","""",""""]},{""columns"":[""North Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Northern Marianas"",""Unknown"","""","""","""",""""]},{""columns"":[""Ohio"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Oklahoma"",""Varies by district"","""","""","""",""""]},{""columns"":[""Oregon"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Pennsylvania"",""Varies by district"","""","""","""",""""]},{""columns"":[""Puerto Rico"",""Unknown"","""","""","""",""""]},{""columns"":[""Rhode Island"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Carolina"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Tennessee"",""Varies by district"","""","""","""",""""]},{""columns"":[""Texas"",""Varies by district"","""","""","""",""""]},{""columns"":[""U.S. Virgin Islands\n  "",""Not yet determined"","""","""","""",""""]},{""columns"":[""Utah"",""Varies by district"","""","""","""",""""]},{""columns"":[""Vermont"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Washington"",""Varies by District"","""","""","""",""""]},{""columns"":[""West Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Wisconsin"",""Varies by district"","""","""","""",""""]},{""columns"":[""Wyoming"",""Not yet determined"","""","""","""",""""]}]};         for (var _Flourish_dataset in _Flourish_data) {                 window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];                 window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];         }         window.template.draw();     &lt;/script&gt; </code></pre>  <p>I just want var _flourish_data from HTML  tag, as shown below:</p>  <pre><code>        _Flourish_data = {""rows"":[{""columns"":[""Alabama"",""Varies by district"","""","""","""",""""]},{""columns"":[""Alaska"",""Varies by district"","""","""","""",""""]},{""columns"":[""American Samoa"",""Unknown"","""","""","""",""""]},{""columns"":[""Arizona"",""Varies by district"","""","""","""",""""]},{""columns"":[""Arkansas"",""Varies by district"","""","""","""",""""]},{""columns"":[""Bureau of Indian Education"",""Varies by district"","""","""","""",""""]},{""columns"":[""California"",""Varies by district"","""","""","""",""""]},{""columns"":[""Colorado"",""Varies by district"","""","""","""",""""]},{""columns"":[""Connecticut"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Delaware"",""Varies by district"","""","""","""",""""]},{""columns"":[""Department of Defense Education Activity\n  "",""Varies by district"","""","""","""",""""]},{""columns"":[""District of Columbia"",""8/31/2020"","""","""","""",""""]},{""columns"":[""Florida"",""Unknown"","""","""","""",""""]},{""columns"":[""Georgia"",""Unknown"","""","""","""",""""]},{""columns"":[""Guam"",""Unknown"","""","""","""",""""]},{""columns"":[""Hawaii"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Idaho"",""Varies by District"","""","""","""",""""]},{""columns"":[""Illinois"",""Varies by district"","""","""","""",""""]},{""columns"":[""Indiana"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Iowa"",""Varies by district"","""","""","""",""""]},{""columns"":[""Kansas"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Kentucky"",""Unknown"","""","""","""",""""]},{""columns"":[""Louisiana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maine"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maryland"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Massachusetts"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Michigan"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Minnesota"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Mississippi "",""Varies by district"","""","""","""",""""]},{""columns"":[""Missouri"",""Varies by district"","""","""","""",""""]},{""columns"":[""Montana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nebraska"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nevada"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Hampshire"",""Not yet determined"","""","""","""",""""]},{""columns"":[""New Jersey"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Mexico"",""Unknown"","""","""","""",""""]},{""columns"":[""New York"",""Not yet determined"","""","""","""",""""]},{""columns"":[""North Carolina"",""8/17/2020"","""","""","""",""""]},{""columns"":[""North Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Northern Marianas"",""Unknown"","""","""","""",""""]},{""columns"":[""Ohio"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Oklahoma"",""Varies by district"","""","""","""",""""]},{""columns"":[""Oregon"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Pennsylvania"",""Varies by district"","""","""","""",""""]},{""columns"":[""Puerto Rico"",""Unknown"","""","""","""",""""]},{""columns"":[""Rhode Island"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Carolina"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Tennessee"",""Varies by district"","""","""","""",""""]},{""columns"":[""Texas"",""Varies by district"","""","""","""",""""]},{""columns"":[""U.S. Virgin Islands\n  "",""Not yet determined"","""","""","""",""""]},{""columns"":[""Utah"",""Varies by district"","""","""","""",""""]},{""columns"":[""Vermont"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Washington"",""Varies by District"","""","""","""",""""]},{""columns"":[""West Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Wisconsin"",""Varies by district"","""","""","""",""""]},{""columns"":[""Wyoming"",""Not yet determined"","""","""","""",""""]}]}; </code></pre>  <p>Any help would be greatly appreciated!</p>"	"<p>You don't need to execute Javascript. It can be done with <code>json</code> and <code>re</code> module.</p>  <p>For example:</p>  <pre><code>import re import json import requests  url = 'https://flo.uri.sh/visualisation/2451841/embed?auto=1'  html_data = requests.get(url).text data = re.search(r'_Flourish_data = (\{.*?\});', html_data).group(1)  data = json.loads(data)  # uncomment this to print all data: # print(json.dumps(data, indent=4))  for row in data['rows']:     print('{:&lt;55}{}'.format(*map(str.strip, row['columns'][:2]))) </code></pre>  <p>Prints:</p>  <pre><code>Alabama                                                Varies by district Alaska                                                 Varies by district American Samoa                                         Unknown Arizona                                                Varies by district Arkansas                                               Varies by district Bureau of Indian Education                             Varies by district California                                             Varies by district Colorado                                               Varies by district Connecticut                                            Not yet determined Delaware                                               Varies by district Department of Defense Education Activity               Varies by district District of Columbia                                   8/31/2020 Florida                                                Unknown Georgia                                                Unknown Guam                                                   Unknown Hawaii                                                 Not yet determined Idaho                                                  Varies by District Illinois                                               Varies by district Indiana                                                Not yet determined Iowa                                                   Varies by district Kansas                                                 Not yet determined Kentucky                                               Unknown Louisiana                                              Varies by district Maine                                                  Varies by district Maryland                                               Not yet determined Massachusetts                                          Not yet determined Michigan                                               Not yet determined Minnesota                                              Not yet determined Mississippi                                            Varies by district Missouri                                               Varies by district Montana                                                Varies by district Nebraska                                               Varies by district Nevada                                                 Varies by district New Hampshire                                          Not yet determined New Jersey                                             Varies by district New Mexico                                             Unknown New York                                               Not yet determined North Carolina                                         8/17/2020 North Dakota                                           Varies by district Northern Marianas                                      Unknown Ohio                                                   Not yet determined Oklahoma                                               Varies by district Oregon                                                 Not yet determined Pennsylvania                                           Varies by district Puerto Rico                                            Unknown Rhode Island                                           Not yet determined South Carolina                                         Not yet determined South Dakota                                           Varies by district Tennessee                                              Varies by district Texas                                                  Varies by district U.S. Virgin Islands                                    Not yet determined Utah                                                   Varies by district Vermont                                                Not yet determined Virginia                                               Not yet determined Washington                                             Varies by District West Virginia                                          Not yet determined Wisconsin                                              Varies by district Wyoming                                                Not yet determined </code></pre>"
62031809	Extracting JavaScript Variables into Python Dictionaries	python|beautifulsoup	2020-05-26 21:35:51.177000 UTC	"<p>Understanding that I have to use PyQt5 in conjunction with BeautifulSoup to run javascript on my client after extracting the html using BeautifulSoup, I am trying to convert variable _Flourish_data into a Python dictionary. </p>  <p>Is there an easy way to extract the Javascript variable, _Flourish_data, into a Python dictionary? Here is my current Python to extract the Javascript using PyQt5 and BeautifulSoup:</p>  <pre><code>import bs4 as bs import sys import urllib.request from PyQt5.QtWebEngineWidgets import QWebEnginePage from PyQt5.QtWidgets import QApplication from PyQt5.QtCore import QUrl  class Page(QWebEnginePage):     def __init__(self, url):         self.app = QApplication(sys.argv)         QWebEnginePage.__init__(self)         self.html = ''         self.loadFinished.connect(self._on_load_finished)         self.load(QUrl(url))         self.app.exec_()      def _on_load_finished(self):         self.html = self.toHtml(self.Callable)      def Callable(self, html_str):         self.html = html_str         self.app.quit()  page = Page('https://flo.uri.sh/visualisation/2451841/embed?auto=1') soup = bs.BeautifulSoup(page.html, 'html.parser') js_test = soup.find_all('script') js_test[5] </code></pre>  <p>The output of the existing code is </p>  <pre><code>&lt;script&gt;         function _Flourish_unflattenInto(dest, src) {             dest = dest || {};             for (var k in src) {                 var t = dest;                 for (var i = k.indexOf("".""), p = 0; i &gt;= 0; i = k.indexOf(""."", p = i+1)) {                     var s = k.substring(p, i);                     if (!(s in t)) t[s] = {};                     t = t[s];                 }                 t[k.substring(p)] = src[k];             }             return dest;         }         var _Flourish_settings = {""cell_fill_1"":""#ffffff"",""cell_fill_2"":""#ebebeb"",""cell_fill_direction"":""horizontal"",""cell_font_size"":""1"",""cell_height"":20,""cell_horizontal_alignment"":""center"",""cell_link_color"":""#2886b2"",""cell_padding_horizontal"":16,""cell_padding_vertical"":11,""column_width_mode"":""auto"",""column_widths"":""10%, 10%, 10%, 10%, 50%, 10%"",""header_fill"":""#181f6c"",""header_font_color"":""#ffffff"",""header_font_default"":false,""header_font_size"":1.1,""header_horizontal_alignment"":""center"",""header_style_default"":true,""layout.body_font"":{""name"":""Source Sans Pro"",""url"":""https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700""},""layout.layout_order"":""stack-default"",""layout.space_between_sections"":""0.5"",""mobile.view"":true,""no_results_text"":""Use the search bar to find your state"",""pagination_amount"":41,""pagination_amount_search"":""5"",""search_enabled"":false,""search_hide_table"":false,""search_placeholder"":""Search to find your state"",""search_resize"":true,""search_width"":15};         _Flourish_unflattenInto(window.template.state, _Flourish_settings);          var _Flourish_data_column_names = {""rows"":{""columns"":[""State "",""Earliest/Planned Start Date for 20/21 Academic Year "","""","""","""",""""]}},                 _Flourish_data = {""rows"":[{""columns"":[""Alabama"",""Varies by district"","""","""","""",""""]},{""columns"":[""Alaska"",""Varies by district"","""","""","""",""""]},{""columns"":[""American Samoa"",""Unknown"","""","""","""",""""]},{""columns"":[""Arizona"",""Varies by district"","""","""","""",""""]},{""columns"":[""Arkansas"",""Varies by district"","""","""","""",""""]},{""columns"":[""Bureau of Indian Education"",""Varies by district"","""","""","""",""""]},{""columns"":[""California"",""Varies by district"","""","""","""",""""]},{""columns"":[""Colorado"",""Varies by district"","""","""","""",""""]},{""columns"":[""Connecticut"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Delaware"",""Varies by district"","""","""","""",""""]},{""columns"":[""Department of Defense Education Activity\n  "",""Varies by district"","""","""","""",""""]},{""columns"":[""District of Columbia"",""8/31/2020"","""","""","""",""""]},{""columns"":[""Florida"",""Unknown"","""","""","""",""""]},{""columns"":[""Georgia"",""Unknown"","""","""","""",""""]},{""columns"":[""Guam"",""Unknown"","""","""","""",""""]},{""columns"":[""Hawaii"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Idaho"",""Varies by District"","""","""","""",""""]},{""columns"":[""Illinois"",""Varies by district"","""","""","""",""""]},{""columns"":[""Indiana"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Iowa"",""Varies by district"","""","""","""",""""]},{""columns"":[""Kansas"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Kentucky"",""Unknown"","""","""","""",""""]},{""columns"":[""Louisiana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maine"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maryland"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Massachusetts"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Michigan"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Minnesota"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Mississippi "",""Varies by district"","""","""","""",""""]},{""columns"":[""Missouri"",""Varies by district"","""","""","""",""""]},{""columns"":[""Montana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nebraska"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nevada"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Hampshire"",""Not yet determined"","""","""","""",""""]},{""columns"":[""New Jersey"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Mexico"",""Unknown"","""","""","""",""""]},{""columns"":[""New York"",""Not yet determined"","""","""","""",""""]},{""columns"":[""North Carolina"",""8/17/2020"","""","""","""",""""]},{""columns"":[""North Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Northern Marianas"",""Unknown"","""","""","""",""""]},{""columns"":[""Ohio"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Oklahoma"",""Varies by district"","""","""","""",""""]},{""columns"":[""Oregon"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Pennsylvania"",""Varies by district"","""","""","""",""""]},{""columns"":[""Puerto Rico"",""Unknown"","""","""","""",""""]},{""columns"":[""Rhode Island"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Carolina"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Tennessee"",""Varies by district"","""","""","""",""""]},{""columns"":[""Texas"",""Varies by district"","""","""","""",""""]},{""columns"":[""U.S. Virgin Islands\n  "",""Not yet determined"","""","""","""",""""]},{""columns"":[""Utah"",""Varies by district"","""","""","""",""""]},{""columns"":[""Vermont"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Washington"",""Varies by District"","""","""","""",""""]},{""columns"":[""West Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Wisconsin"",""Varies by district"","""","""","""",""""]},{""columns"":[""Wyoming"",""Not yet determined"","""","""","""",""""]}]};         for (var _Flourish_dataset in _Flourish_data) {                 window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];                 window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];         }         window.template.draw();     &lt;/script&gt; </code></pre>  <p>I just want var _flourish_data from HTML  tag, as shown below:</p>  <pre><code>        _Flourish_data = {""rows"":[{""columns"":[""Alabama"",""Varies by district"","""","""","""",""""]},{""columns"":[""Alaska"",""Varies by district"","""","""","""",""""]},{""columns"":[""American Samoa"",""Unknown"","""","""","""",""""]},{""columns"":[""Arizona"",""Varies by district"","""","""","""",""""]},{""columns"":[""Arkansas"",""Varies by district"","""","""","""",""""]},{""columns"":[""Bureau of Indian Education"",""Varies by district"","""","""","""",""""]},{""columns"":[""California"",""Varies by district"","""","""","""",""""]},{""columns"":[""Colorado"",""Varies by district"","""","""","""",""""]},{""columns"":[""Connecticut"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Delaware"",""Varies by district"","""","""","""",""""]},{""columns"":[""Department of Defense Education Activity\n  "",""Varies by district"","""","""","""",""""]},{""columns"":[""District of Columbia"",""8/31/2020"","""","""","""",""""]},{""columns"":[""Florida"",""Unknown"","""","""","""",""""]},{""columns"":[""Georgia"",""Unknown"","""","""","""",""""]},{""columns"":[""Guam"",""Unknown"","""","""","""",""""]},{""columns"":[""Hawaii"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Idaho"",""Varies by District"","""","""","""",""""]},{""columns"":[""Illinois"",""Varies by district"","""","""","""",""""]},{""columns"":[""Indiana"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Iowa"",""Varies by district"","""","""","""",""""]},{""columns"":[""Kansas"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Kentucky"",""Unknown"","""","""","""",""""]},{""columns"":[""Louisiana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maine"",""Varies by district"","""","""","""",""""]},{""columns"":[""Maryland"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Massachusetts"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Michigan"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Minnesota"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Mississippi "",""Varies by district"","""","""","""",""""]},{""columns"":[""Missouri"",""Varies by district"","""","""","""",""""]},{""columns"":[""Montana"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nebraska"",""Varies by district"","""","""","""",""""]},{""columns"":[""Nevada"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Hampshire"",""Not yet determined"","""","""","""",""""]},{""columns"":[""New Jersey"",""Varies by district"","""","""","""",""""]},{""columns"":[""New Mexico"",""Unknown"","""","""","""",""""]},{""columns"":[""New York"",""Not yet determined"","""","""","""",""""]},{""columns"":[""North Carolina"",""8/17/2020"","""","""","""",""""]},{""columns"":[""North Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Northern Marianas"",""Unknown"","""","""","""",""""]},{""columns"":[""Ohio"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Oklahoma"",""Varies by district"","""","""","""",""""]},{""columns"":[""Oregon"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Pennsylvania"",""Varies by district"","""","""","""",""""]},{""columns"":[""Puerto Rico"",""Unknown"","""","""","""",""""]},{""columns"":[""Rhode Island"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Carolina"",""Not yet determined"","""","""","""",""""]},{""columns"":[""South Dakota"",""Varies by district"","""","""","""",""""]},{""columns"":[""Tennessee"",""Varies by district"","""","""","""",""""]},{""columns"":[""Texas"",""Varies by district"","""","""","""",""""]},{""columns"":[""U.S. Virgin Islands\n  "",""Not yet determined"","""","""","""",""""]},{""columns"":[""Utah"",""Varies by district"","""","""","""",""""]},{""columns"":[""Vermont"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Washington"",""Varies by District"","""","""","""",""""]},{""columns"":[""West Virginia"",""Not yet determined"","""","""","""",""""]},{""columns"":[""Wisconsin"",""Varies by district"","""","""","""",""""]},{""columns"":[""Wyoming"",""Not yet determined"","""","""","""",""""]}]}; </code></pre>  <p>Any help would be greatly appreciated!</p>"	"<pre class=""lang-py prettyprint-override""><code>import requests import re import json   def main(url):     r = requests.get(url)     match = json.loads(re.search(r'_Flourish_data = ({.*})', r.text).group(1))     print(match.keys())   main(""https://flo.uri.sh/visualisation/2451841/embed?auto=1"") </code></pre>"
62064714	How to decode javascript-unicode string in python?	python|unicode|utf|ucs2	2020-05-28 12:27:58.153000 UTC	"<p>I have this string:</p>  <pre><code>{\u0022allow_group_shows\u0022: true, \u0022needs_supporter_to_pm\u0022: true, \u0022ads_zone_ids\u0022: {\u0022300x250,centre\u0022: \u0022\u0022, \u0022300x250,right\u0022: \u0022\u0022, \u0022300x250,left\u0022: \u0022\u0022, \u0022468x60\u0022: \u0022\u0022, \u0022160x600,top\u0022: \u0022\u0022, \u0022160x600,bottom\u0022: \u0022\u0022, \u0022160x600,middle\u0022: \u0022\u0022}, \u0022chat_settings\u0022: {\u0022sort_users_key\u0022: \u0022a\u0022, \u0022silence_broadcasters\u0022: \u0022false\u0022, \u0022highest_token_color\u0022: \u0022darkpurple\u0022, \u0022emoticon_autocomplete_delay\u0022: \u00220\u0022, \u0022ignored_users\u0022: \u0022\u0022, \u0022show_emoticons\u0022: true, \u0022font_size\u0022: \u00229pt\u0022, \u0022b_tip_vol\u0022: \u002210\u0022, \u0022allowed_chat\u0022: \u0022all\u0022, \u0022room_leave_for\u0022: \u0022org\u0022, \u0022font_color\u0022: \u0022#494949\u0022, \u0022font_family\u0022: \u0022default\u0022, \u0022room_entry_for\u0022: \u0022org\u0022, \u0022v_tip_vol\u0022: \u002280\u0022}, \u0022is_age_verified\u0022: true, \u0022flash_host\u0022: \u0022edge143.stream.highwebmedia.com\u0022, \u0022tips_in_past_24_hours\u0022: 0, \u0022dismissible_messages\u0022: [], \u0022show_mobile_site_banner_link\u0022: false, \u0022last_vote_in_past_90_days_down\u0022: false, \u0022server_name\u0022: \u0022113\u0022, \u0022num_users_required_for_group\u0022: 2, \u0022group_show_price\u0022: 18, \u0022is_mobile\u0022: false, \u0022chat_username\u0022: \u0022__anonymous__eiwBXR\u0022, \u0022recommender_hmac\u0022: \u0022dae28e4e9afa15da7c6227af2e8fb8abd85a3714aca8f86f01a53a6dd1377115\u0022, \u0022broadcaster_gender\u0022: \u0022couple\u0022, \u0022hls_source\u0022: \u0022https://localhost/live\u002Dhls/amlst:jimmy_and_amy\u002Dsd\u002De73f4b67186a2ec4c13137607d02470ac61f32b60ac15e691bf33493423ef477_trns_h264/playlist.m3u8\u0022, \u0022allow_show_recordings\u0022: true, \u0022is_moderator\u0022: false, \u0022room_status\u0022: \u0022public\u0022, \u0022edge_auth\u0022: \u0022{\u005C\u0022username\u005C\u0022:\u005C\u0022__anonymous__eiwBXR\u005C\u0022,\u005C\u0022org\u005C\u0022:\u005C\u0022A\u005C\u0022,\u005C\u0022expire\u005C\u0022:1590669977,\u005C\u0022sig\u005C\u0022:\u005C\u0022454d96141c66fb42f74e9620b9d79e937de3a774a5687021f8650cc4f563d371\u005C\u0022,\u005C\u0022room\u005C\u0022:\u005C\u0022jimmy_and_amy\u005C\u0022}\u0022, \u0022is_supporter\u0022: false, \u0022chat_password\u0022: \u0022{\u005C\u0022username\u005C\u0022:\u005C\u0022__anonymous__eiwBXR\u005C\u0022,\u005C\u0022org\u005C\u0022:\u005C\u0022A\u005C\u0022,\u005C\u0022expire\u005C\u0022:1590669977,\u005C\u0022sig\u005C\u0022:\u005C\u0022454d96141c66fb42f74e9620b9d79e937de3a774a5687021f8650cc4f563d371\u005C\u0022,\u005C\u0022room\u005C\u0022:\u005C\u0022jimmy_and_amy\u005C\u0022}\u0022, \u0022room_pass\u0022: \u0022b5b2408cd91e6c595a3f732a5b7b1567b566bcc92f384ce5e6a00a26a24fb5c7\u0022, \u0022low_satisfaction_score\u0022: false, \u0022tfa_enabled\u0022: false, \u0022room_title\u0022: \u0022(STEP SIS CUM FACE) shh... Luna is here and dont know what we are doing #hairy #creampie #stockings #new #lush [3536 tokens remaining]\u0022, \u0022satisfaction_score\u0022: {\u0022down_votes\u0022: 15, \u0022up_votes\u0022: 67, \u0022percent\u0022: 82, \u0022max\u0022: 31222657}, \u0022viewer_username\u0022: \u0022AnonymousUser\u0022, \u0022hidden_message\u0022: \u0022\u0022, \u0022following\u0022: false, \u0022wschat_host\u0022: \u0022https://chatws\u002D45.stream.highwebmedia.com/ws\u0022, \u0022has_studio\u0022: false, \u0022num_followed\u0022: 0, \u0022spy_private_show_price\u0022: 30, \u0022hide_satisfaction_score\u0022: false, \u0022broadcaster_username\u0022: \u0022jimmy_and_amy\u0022, \u0022ignored_emoticons\u0022: [], \u0022apps_running\u0022: \u0022[[\u005C\u0022Tip Goal\u005C\u0022,\u005C\u0022\u005C\u005C/apps\u005C\u005C/app_details\u005C\u005C/tip\u002Dgoal\u005C\u005C/?slot\u003D0\u005C\u0022],[\u005C\u0022Ultra Bot \u002D 4Sci\u005C\u0022,\u005C\u0022\u005C\u005C/apps\u005C\u005C/app_details\u005C\u005C/ultra\u002Dbot\u002D4sci\u005C\u005C/?slot\u003D2\u005C\u0022],[\u005C\u0022Roll The Dice\u005C\u0022,\u005C\u0022\u005C\u005C/apps\u005C\u005C/app_details\u005C\u005C/roll\u002Dthe\u002Ddice\u002D5\u005C\u005C/?slot\u003D3\u005C\u0022]]\u0022, \u0022token_balance\u0022: 0, \u0022private_min_minutes\u0022: 10, \u0022viewer_gender\u0022: \u0022m\u0022, \u0022allow_anonymous_tipping\u0022: false, \u0022num_users_waiting_for_group\u0022: 0, \u0022last_vote_in_past_24_hours\u0022: null, \u0022is_widescreen\u0022: true, \u0022num_viewers\u0022: 1672, \u0022broadcaster_on_new_chat\u0022: false, \u0022private_show_price\u0022: 30, \u0022num_followed_online\u0022: 0, \u0022allow_private_shows\u0022: true} </code></pre>  <p>and I want to decode it in python to view to make it easier for me to send it over the internet into our android app... anyways that why I am here it should look like </p>  <pre><code>""{""allow_group_shows"": true, ""needs_supporter_to_pm"": true, ""ads_zone_ids"": {""300x250,centre"": """", ""300x250,right"": """", ""300x250,left"": """", ""468x60"": """", ""160x600,top"": """", ""160x600,bottom"": """", ""160x600,middle"": """"}, ""chat_settings"": {""sort_users_key"": ""a"", ""silence_broadcasters"": ""false"", ""highest_token_color"": ""darkpurple"", ""emoticon_autocomplete_delay"": ""0"", ""ignored_users"": """", ""show_emoticons"": true, ""font_size"": ""9pt"", ""b_tip_vol"": ""10"", ""allowed_chat"": ""all"", ""room_leave_for"": ""org"", ""font_color"": ""#494949"", ""font_family"": ""default"", ""room_entry_for"": ""org"", ""v_tip_vol"": ""80""}, ""is_age_verified"": true, ""flash_host"": ""edge306.stream.highwebmedia.com"", ""tips_in_past_24_hours"": 0, ""dismissible_messages"": [], ""show_mobile_site_banner_link"": false, ""last_vote_in_past_90_days_down"": false, ""server_name"": ""115"", ""num_users_required_for_group"": 2, ""group_show_price"": 18, ""is_mobile"": false, ""chat_username"": ""bom4b5"", ""recommender_hmac"": ""ed05e292bb82262255a96944d81bb04dc2d248ca69fff35cf5d7015889c005b1"", ""broadcaster_gender"": ""couple"", ""hls_source"": ""https://***/live-edge/****-sd-e73f4b67186a2ec4c13137607d02470ac61f32b60***%22%7D"", ""allow_show_recordings"": true, ""is_moderator"": false, ""room_status"": ""public"", ""edge_auth"": ""{\""username\"":\""bom4b5\"",\""org\"":\""A\"",\""expire\"":1590666696,\""sig\"":\""49b6844fde2c47c2430bd05946b6cfbc9c7864788b9236d7f5af5ff88efd3f95\"",\""room\"":\""jimmy_and_amy\""}"", ""is_supporter"": false, ""chat_password"": ""****"", ""room_pass"": ""b5b2408cd91e6c595a3f732a5b7b1567b566bcc92f384ce5e6a00a26a24fb5c7"", ""low_satisfaction_score"": false, ""tfa_enabled"": false, ""room_title"": ""(STEP SIS CUM FACE) shh... Luna is here and dont know what we are doing #hairy #creampie #stockings #new #lush [4310 tokens remaining]"", ""satisfaction_score"": {""down_votes"": 15, ""up_votes"": 67, ""percent"": 82, ""max"": 31222657}, ""viewer_username"": ""bom4b5"", ""hidden_message"": """", ""following"": false, ""wschat_host"": ""https://chatws-45.stream.highwebmedia.com/ws"", ""has_studio"": false, ""num_followed"": 0, ""spy_private_show_price"": 30, ""hide_satisfaction_score"": false, ""broadcaster_username"": ""jimmy_and_amy"", ""ignored_emoticons"": [], ""apps_running"": ""[[\""Tip Goal\"",\""\\/apps\\/app_details\\/tip-goal\\/?slot=0\""],[\""Ultra Bot - 4Sci\"",\""\\/apps\\/app_details\\/ultra-bot-4sci\\/?slot=2\""],[\""Roll The Dice\"",\""\\/apps\\/app_details\\/roll-the-dice-5\\/?slot=3\""]]"", ""token_balance"": 0, ""private_min_minutes"": 10, ""viewer_gender"": ""f"", ""allow_anonymous_tipping"": false, ""num_users_waiting_for_group"": 0, ""last_vote_in_past_24_hours"": null, ""is_widescreen"": true, ""num_viewers"": 331, ""broadcaster_on_new_chat"": false, ""private_show_price"": 30, ""num_followed_online"": 0, ""allow_private_shows"": true}"" </code></pre>  <p>I tried <a href=""https://stackoverflow.com/questions/49769903/how-to-decode-javascript-unicode-string-in-python"">How to decode javascript unicode string in python?</a> it worked but the only one issue is that I cant decode it after I split </p>  <pre><code>gett = s.get(""https://localhost.com/34534535/"") # print(gett.text + ""\n\n\n\n"")  m = json.dumps({""k"": gett.text})  # decodes it  # split testt = (json.loads(m)[""k""]).split('window.initialRoomDossier = ""') testt = testt[1].split('"";')  final = testt[0]  # show the same  </code></pre>  <p>the thing is that if I load it from a string like </p>  <pre><code>a = ""{\u0022allow_group_shows\u0022: true, \u0022nee..."" </code></pre>  <p>it does work but not after I split</p>"	"<p>Here is how I solved it</p>  <pre><code>import js2py   #split splitt = (json.loads(m)[""k""]).split('window.initialRoomDossier = ""') splitt = splitt[1].split('"";')  final = str(splitt[0]) final = 'var kek = ""'+final+'"";'#Turning it into javascript code (Later we will run it)   #Javascript Virtual Machine context = js2py.EvalJs({'python_sum': sum})    #Slides the sexy code context.execute(final)#Running the javascript code #print (context.kek)#  m3u8_url = json.loads(context.kek)[""hls_source""] </code></pre>"
62067325	python flask javascript DELETE 405 (METHOD NOT ALLOWED)	javascript|python|postgresql|flask|flask-sqlalchemy	2020-05-28 14:32:25.257000 UTC	"<p>I'm trying to add a button to delete a musical venue from my postgres database with flask-sqlalchemy on that venue's page and then redirect to the homepage but I'm getting the error</p>  <pre><code>DELETE ip 405 (METHOD NOT ALLOWED) </code></pre>  <p>in my console and </p>  <pre><code>[28/May/2020 14:12:49] ""DELETE /deletevenue/1 HTTP/1.1"" 302 - 72.133.209.13 - - [28/May/2020 14:12:50] ""DELETE / HTTP/1.1"" 405 - </code></pre>  <p>in my terminal.  I don't know what is going wrong.  I can see that the correct venue_id is being sent to the route but I'm still getting this error.  I don't know what's wrong here.  This is the relevant code:</p>  <p>app.py</p>  <pre><code>@app.route('/deletevenue/&lt;venue_id&gt;', methods=['DELETE']) def delete_venue(venue_id):   error = False   venue = db.session.query(Venue).filter_by(id=venue_id).one()   name = venue.name   try:     Venue.query.filter_by(id=venue_id).delete()     db.session.commit()   except:     error = True     db.session.rollback()   finally:     db.session.close()   if error:     flash('An Error occured.  The venue ' + name + ' could not be deleted.')     return redirect(url_for('index'))   else:     flash('Success.  Venue ' + name + ' was deleted.')     return redirect(url_for('index'))  @app.route('/') def index():   return render_template('pages/home.html') </code></pre>  <p>show_venue.html</p>  <pre><code>    &lt;div class=""row""&gt;         &lt;button class=""btn btn-default btn-lg"" id=""deleteArtist"" data-id=""{{ venue.id }}""&gt;Delete this Artist&lt;/button&gt;     &lt;/div&gt; &lt;/section&gt;  &lt;script&gt;     const btn = document.getElementById('deleteArtist');     btn.onclick = function(e) {         venue_id = e.target.dataset['id'];         console.log(venue_id)         let r = confirm(""Are you sure you want to delete this venue?"");         if (r == true) {             fetch('/deletevenue/' + venue_id, {                 method: 'DELETE'             })         }     }  &lt;/script&gt; </code></pre>  <p>How can I get this button working?</p>"	"<ol> <li><p>redirect() is flask => return response_code: 302 with same method it's recieved. (HERE is DELETE) => so it's redirect to <code>index route</code> with method DELETE => 405.</p></li> <li><p>Method <a href=""https://developers.google.com/web/updates/2015/03/introduction-to-fetch"" rel=""nofollow noreferrer"">fetch()</a> return a Promise => It's need a result response, you can not redirect code like: </p></li> </ol>  <pre class=""lang-py prettyprint-override""><code>return redirect(url_for('index')) </code></pre>  <p>It should return json or something like value, then use your javascript code check value => redirect. - <a href=""https://www.w3schools.com/howto/howto_js_redirect_webpage.asp"" rel=""nofollow noreferrer"">How TO - Redirect to Another Webpage</a></p>"
62081486	Call python with argument from javascript	javascript|python|genius-api	2020-05-29 08:12:25.700000 UTC	"<p>I want to create a simple website to show lyrics of a songs using the genius API, the problem i encountered is that i can't find lyrics with the genius API only with javascript. So i created a simple python function to find the lyrics, the arguments of the method is the title of the song and the artist.</p>  <p>Python code : </p>  <pre><code>import lyricsgenius  def get_lyrics(theSong,theArtist):     genius = lyricsgenius.Genius(""token"")     artist = genius.search_artist(theArtist, max_songs=1, sort=""title"")     song = genius.search_song(theSong, artist.name)     return song.lyrics </code></pre>  <p>I found this to make a request to the python file : </p>  <pre><code>$.ajax({   type: ""POST"",   url: ""~/pythoncode.py"",   data: { param: text} }).done(function( o ) {    // do something }); </code></pre>  <p>I know that i need a server to run the python because it's not running client side, i have a cpanel account and i can create python app on it. When you create : passenger_wsgi.py</p>  <p>This is what the passenger_wsgi.py contain :</p>  <pre><code>import os import sys sys.path.insert(0, os.path.dirname(__file__)) def application(environ, start_response):     start_response('200 OK', [('Content-Type', 'text/plain')])     message = 'It works!\n'     version = 'Python %s\n' % sys.version.split()[0]     response = '\n'.join([message, version])     return [response.encode()] </code></pre>  <p>So now how do i put everything together to make this work, i just need to make a request to the python file with the name of the artist and the title of the song and then it returns me the lyrics. Thanks</p>"	
62092430	How to retrieve a JSON list within a javascript element with python?	javascript|python|json	2020-05-29 18:23:27.983000 UTC	"<p>I am trying to parse a json that I found in a website via python3.</p>  <p><a href=""https://i.stack.imgur.com/dnL5m.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dnL5m.png"" alt=""enter image description here""></a></p>  <p>This is the beginning of the snippet:</p>  <pre><code>&gt;&gt;&gt; jssnippet '\n        var staticImpressions = staticImpressions || {};\n        staticImpressions[\'search_result_list\'] = [\n     {\n                ""id"": ""16336937"",... </code></pre>  <p>This unfortunatelly failes:</p>  <pre><code>data = json.loads(jssnippet, strict=False) </code></pre>  <p>How can I access the variables in that list, e.g. id?</p>"	
62093616	OpenCV resize substantially different results between python and javascript	javascript|python|opencv|image-processing|interpolation	2020-05-29 19:46:40.737000 UTC	"<p>I'm currently working on a project dealing with thermal imagery and am having to do some resizing of the resulting image. I'm currently resizing in javascript (after sending data from web server), and this works really well, unfortunately a new requirement means I'm having to move this resizing over to the web server, using python.</p>  <p>I've done this, but when i'm resizing i'm now getting a 'triple overlapping image', which I don't get in the javascript side (see screenshot)</p>  <p>Python (Working Version)</p>  <pre><code>nparr = np.frombuffer(temps, dtype=np.float32) temparr = np.copy(nparr) temparr *= (1.0/temparr.max()) // array comes in single dimension, reshapre to (width,height) temps = temparr.reshape(int(temp_frame[""width""]), int(temp_frame[""height""]))  socketio.emit(""thermal_image"", {'data':b''+bytearray(temps),'width':temps.shape[0], 'height':temps.shape[1]}, broadcast=True)  </code></pre>  <p>Javascript (Working Version)</p>  <pre><code>let bytes = new Float32Array(msg.data); let width = msg.width; let height = msg.height; var mat = cv.matFromArray(height, width, cv.CV_32FC1, bytes); let dst_mat = new cv.Mat(); let dsize = new cv.Size(1000,1000); cv.resize(mat, dst_mat, dsize,0,0,cv.INTER_AREA); cv.imshow(canvas_name, dst_mat);  </code></pre>  <p>And the new python code, alongside the javascript used to display Python (Not working version)</p>  <pre><code>nparr = np.frombuffer(temps, dtype=np.float32) temparr = np.copy(nparr) temparr *= (1.0/temparr.max()) temps = temparr.reshape(int(temp_frame[""width""]), int(temp_frame[""height""])) resized_temps = np.zeros((1000,1000), np.float32) cv2.resize(temps, dsize=(1000,1000), dst=resized_temps, fx=0, fy=0,interpolation=cv2.INTER_AREA) socketio.emit(""thermal_image"", {'data':b''+bytearray(resized_temps),    'width':resized_temps.shape[0],    'height':resized_temps.shape[1]},    broadcast=True) </code></pre>  <p>Javascript (Not Working Version)</p>  <pre><code>let bytes = new Float32Array(msg.data); let width = msg.width; let height = msg.height; var mat = cv.matFromArray(height, width, cv.CV_32FC1, bytes); cv.imshow(canvas_name, dst_mat); </code></pre>  <p>As you can see the only difference is the resize being either in the javascript or the python, and yet the results are between really good, and pretty much useless. I know this is something i'm doing wrong but can't for the life of me figure it out.</p>  <p>The images are of the same person, slightly different poses. The second image is using the python, movement can still be seen, and if positioned correctly the object in the scene can be seen.. 3 times.</p>  <p><a href=""https://i.stack.imgur.com/XvjvF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XvjvF.png"" alt=""good_thermal""></a> <a href=""https://i.stack.imgur.com/PtKTy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PtKTy.png"" alt=""bad_thermal""></a></p>  <p>EDIT: Changed images to clearer ones</p>"	"<p>Silly bug but in case anyone else comes across it after a sleepless time like me i'll post the answer:</p>  <p>I was receiving in the data a flattened byte array, then reshaping to the shape (width, height). This worked fine when doing the resize in javascript as I sent again the flattened array to javascript and the resize was done (height,width). Which is how opencv takes its values.</p>  <p>When moving to python I forgot to change the reshape to (height, width) and instead was keeping (width,height). So when opencv did the resize we were interpolating in the wrong directions, resulting in the lines and the duplicate images. </p>  <p>So Solution,</p>  <p>change line  <code>temps = temparr.reshape(int(temp_frame[""width""]), int(temp_frame[""height""]))</code> <code>temps = temparr.reshape(int(temp_frame[""height""]), int(temp_frame[""width""]))</code></p>  <p>and voila, opencv plays nice</p>"
62093844	JavascriptException: Message: javascript error: arguments[0].click is not a function error using arguments[0].click through Selenium and Python	javascript|python|selenium|selenium-webdriver|webdriver	2020-05-29 20:05:00.833000 UTC	"<p>I have been webscraping some websites to grab there locations for webscraping practice. This code gets me down to individual city levels of a hotel brand, but whenever I use driver.execute_script(""arguments[0].click();"", button) in my code (as seen in the second to last line) I get this error:</p>  <pre><code>JavascriptException: Message: javascript error: arguments[0].click is not a function </code></pre>  <p>Below is a sample of the code that I have written thus far. </p>  <pre><code>for state in state_links: driver = Chrome(path_to_chrome_driver) link = 'https://www.ihg.com/destinations/us/en/united-states/' + state.lower().replace(' ', '-') driver.get(link) city_links = driver.find_elements_by_xpath('//div[@class=""countryListingContainer col-xs-12""]//ul//div//li//a//span') city_links = [thing.text for thing in city_links] driver.close() for city in city_links:     driver = Chrome(path_to_chrome_driver)     link2 = 'https://www.ihg.com/destinations/us/en/united-states/' + state.lower().replace(' hotels', '').replace(' ', '-') + '/' + city.lower().replace(' ', '-')     driver.get(link2)     hotel_links = driver.find_elements_by_xpath('//div[@class=""hotelList-detailsContainer""]//div//div//p//a')     hotel_links = [elem.text for elem in hotel_links]     driver.close()     for hotel in hotel_links:         driver = Chrome(path_to_chrome_driver)         driver.get(link2)         driver.implicitly_wait(15)         driver.execute_script(""arguments[0].click();"", hotel)         driver.implicitly_wait(10) </code></pre>"	"<p>This error message...</p>  <pre><code>JavascriptException: Message: javascript error: arguments[0].click is not a function </code></pre>  <p>...implies that invoking <em>click()</em> on <code>arguments[0]</code> using <code>execute_script()</code> failed.</p>  <hr>  <p>A bit of more information about the steps would have helped us to construct a canonical answer. However, presumably as you are collecting the <code>hotel_links</code> just after:</p>  <pre><code>driver.get(link2) hotel_links = driver.find_elements_by_xpath('//div[@class=""hotelList-detailsContainer""]//div//div//p//a') </code></pre>  <p>So initially, <code>hotel_links</code> contains the <a href=""https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139"">WebElements</a>. But in the next line you are overwriting the <em>List</em> <code>hotel_links</code> with the <em>elem.text</em> as follows:</p>  <pre><code>hotel_links = [elem.text for elem in hotel_links] </code></pre>  <p>So, <code>hotel_links</code> now contains elements of type <strong>text</strong>.</p>  <p>As <em>text</em> element doesn't support <code>click()</code>, hence moving forward when you try to invoke <code>click()</code> on the text elements through <code>execute_script()</code>, you see the said error.</p>  <hr>  <h2>Solution</h2>  <p>If you need the <em>text</em> of the hotel links, store them in a seperate <em>List</em> asfollows:</p>  <pre><code>hotel_links_text = [elem.text for elem in hotel_links] </code></pre>  <hr>  <h2>Reference</h2>  <p>You can find a couple of relevant discussions in:</p>  <ul> <li><a href=""https://stackoverflow.com/questions/49871432/what-does-argument-0-and-argument-1-mean-in-javascriptexecutor-in-selenium-w/49873090#49873090"">What does arguments[0] and arguments[1] mean when using executeScript method from JavascriptExecutor interface through Selenium WebDriver?</a></li> </ul>"
62101253	Javascript vs Python indentation	python|function	2020-05-30 10:42:08.027000 UTC	"<p>I want to make a function work like an on off switch in python. I know how to do it in Javascript, but I don't understand how indenting works with Python, can someone help point me in the right direction? </p>  <pre><code>&lt;p id=""demo""&gt;test&lt;/p&gt; &lt;button onClick=""myFunction()""&gt;change&lt;/button&gt;  &lt;script&gt; var onoff = 1;  function myFunction() {     if(onoff == 1){         document.getElementById(""demo"").innerHTML = ""one"";         onoff = 2;     }     else if(onoff == 2){         document.getElementById(""demo"").innerHTML = ""two"";         onoff = 1;     } } &lt;/script&gt; </code></pre>  <pre><code>onoff = 1  def test():   if onoff == 1:     print(""on"")     onoff = 2   elif onoff == 2:     print(""off"")     onoff = 1   test() test() test() test() </code></pre>"	"<p>This is about scope as @jonrsharpe commented.</p>  <p>Did you run and notice the error below?</p>  <blockquote>   <p>UnboundLocalError: local variable 'onoff' referenced before assignment</p> </blockquote>  <p>There are many solutions. Here is an example.</p>  <pre><code>onoff = 1  def test():   global onoff   if onoff == 1:     print(""on"")     onoff = 2   elif onoff == 2:     print(""off"")     onoff = 1   test() test() test() test() </code></pre>  <p>see:</p>  <ul> <li><a href=""https://stackoverflow.com/questions/370357/unboundlocalerror-on-local-variable-when-reassigned-after-first-use"">python - UnboundLocalError on local variable when reassigned after first use - Stack Overflow</a></li> <li><a href=""https://medium.com/@vbsreddy1/unboundlocalerror-when-the-variable-has-a-value-in-python-e34e097547d6"" rel=""nofollow noreferrer"">UnboundLocalError: local variable referenced before assignment in Python.</a></li> <li><a href=""https://stackoverflow.com/questions/10851906/python-3-unboundlocalerror-local-variable-referenced-before-assignment"">function - Python 3: UnboundLocalError: local variable referenced before assignment - Stack Overflow</a></li> </ul>"
62112033	How can I use Javascript and Python together (Javascript executes a python function based on certain input)?	javascript|python-3.x|speech-recognition|speech-to-text	2020-05-31 05:40:16.487000 UTC	"<p>I have a simple speech recogniser running in Javascript, which detects my voice and converts it into text. However, I want it to do certain commands such as open a folder on my laptop, which is possible to do in python,  but I do not know how to call a python function from javascript based on the command given. </p>  <p>I have tried to use speech recognition in python and it worked, but the speech recognition API in Javascript is much faster, so that is the reason I want to use Javascript for the speech recognition, and python for performing other tasks not possible (at least not with ease) with Javascript.</p>  <p>Thanks, Adi</p>"	
62120029	Python BeautifulSoup how to extract var result from javascript element?	python|beautifulsoup|esprima-python	2020-05-31 17:30:40.393000 UTC	"<p>I'm new with Python and I've been trying to use BeautifulSoup to extract one particular data line from a variable defined in a script element.</p>  <p>Code:</p>  <pre><code>import requests from bs4 import BeautifulSoup import esprima  #----------------some comment'  URL = 'https://downdetector.com/status/facebook/'  browser = {'user-agent': 'my agent'}   #--------------some comment: page = requests.get(URL, headers=browser) soup = BeautifulSoup(page.content, 'html.parser')   #---------------some comment:  chart = soup.find(""div"",{""class"":""popover-container justify-content-center p-relative""}).script.get_text() print(chart) </code></pre>  <p>OUTPUT:</p>  <pre><code>var data = { status: 'success',   baseline: 29,        communicate: null,   company: 'Facebook', max: 66, series: [                        { x: '2020-05-30T13:22:28.168484-04:00', y: 25  },                        { x: '2020-05-30T13:37:28.168484-04:00', y: 27  },                        .....                        { x: '2020-05-31T13:07:28.168484-04:00', y: 30  },                    ]                 }                  $(function () {                   chartThis(data, 'holder', 'line')                 });                  if (data.communicate &amp;&amp; $('#dd-communicate').length) {                   $('#dd-communicate').html('&lt;div class=""border text-left d-inline-block p-2""&gt;&lt;i class=""fa"" aria-hidden=""true"" style=""color: red; width:16px; height:12px; background:url(https://cdn2.downdetector.com/d328eb8cbe4e164/images/v2/message.svg) no-repeat""&gt;&lt;/i&gt;'                     +'&lt;span class=""d-inline-block px-1""&gt;'+ data.company+' &amp;bull;  ' + moment.utc(data.communicate.created_at).fromNow()                     + '&lt;/span&gt;&lt;p class=""font-weight-bold my-0""&gt;'+ data.communicate.message + '&lt;/p&gt;&lt;/div&gt;')                 } </code></pre>  <p>Do you know an easy way to extract the 'max' value from the var result above?</p>  <p>I've tried using esprima, but still no luck as I've hit error:</p>  <blockquote>   <p>Traceback (most recent call last):   File   ""c:/test.py, line 31, in        if token[""type""] == ""Identifier"" and token[""value""] == ""max"": TypeError: 'BufferEntry' object is not subscriptable</p> </blockquote>  <p>My code with esprima looked like this:</p>  <pre><code>import requests from bs4 import BeautifulSoup import esprima  #----------------some comment'  URL = 'https://downdetector.com/status/facebook/'  browser = {'user-agent': 'my agent'}   #--------------some comment: page = requests.get(URL, headers=browser) soup = BeautifulSoup(page.content, 'html.parser')   #---------------some comment:  chart = soup.find(""div"",{""class"":""popover-container justify-content-center p-relative""}).script.get_text()  tokens = esprima.tokenize(chart)  token_iterator = iter(tokens)  for token in token_iterator:     if token[""type""] == ""Identifier"" and token[""value""] == ""max"":         value_token = next(next(token_iterator))         result = value_token[""value""] </code></pre>  <p>Any help would be greatly appreciated!</p>"	"<p>A quick solution to extract the max value would be to use <code>split</code> on the <code>chart</code>: </p>  <pre><code>import requests from bs4 import BeautifulSoup  URL = 'https://downdetector.com/status/facebook/' browser = {'user-agent': 'my agent'}  page = requests.get(URL, headers=browser) soup = BeautifulSoup(page.content, 'html.parser')   chart = soup.find(""div"",{""class"":""popover-container justify-content-center p-relative""}).script.get_text() max_val= chart.split(""max: "")[1].split("","")[0]  print(max_val)  OUT: 64 </code></pre>"
62133702	Javascript is not getting implemented while running python program	javascript|python|html	2020-06-01 13:47:16.450000 UTC	"<p><strong>Python Code</strong></p>  <pre><code>from flask import Flask, render_template  app = Flask(__name__)  @app.route(""/"") def button():     return render_template(""buttons.html"")  if __name__ == ""__main__"":     app.run(debug=True) </code></pre>  <p><strong>HTML Code</strong></p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;  &lt;head&gt;     &lt;title&gt;Creating new channel&lt;/title&gt;     &lt;script src=""{{url_for('static', filename = 'js/button.js')}}""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;     &lt;ul class=""unordered""&gt;&lt;/ul&gt;     &lt;form&gt;         &lt;input type=""text"" class=""name"" placeholder=""Create Channel"" autocomplete=""off"" /&gt;         &lt;button class=""submit""&gt;Create Channel&lt;/button&gt;     &lt;/form&gt; &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p><strong>Javascript code</strong></p>  <pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {      document.querySelector('.submit').disabled = true;      document.querySelector('.name').onkeyup = () =&gt; {         // checking whether the input bar is empty or not         if (document.querySelector('.name').value.length &gt; 0)              document.querySelector('.submit').disabled = false;         else         document.querySelector('.submit').disabled = true;     };      document.querySelector('.form').onsubmit = () =&gt; {          //Crearting a list item         const li = document.createElement('li');         li.innerHTML = document.querySelector('.name').value;          //Appending it to the unordered list         document.querySelector('.unordered').append(li);          //Clear input feild         document.querySelector('.name').value = '';         document.querySelector('.submit').disabled = true;          //Stop form from submitting         return false;     }; }); </code></pre>  <p>When i run this code seperately, meaning when i only run the HTML file in the webpage than the program runs perfectly (when you press the button then whatever is in the input feild, shows up as an unordered list). But when i am using the html file in a python file, it doesn't work(when i press the button the page refreshes and nothing happens)</p>"	
62137129	"Why are JavaScript classes not considered ""real"" classes? (compared to Python, Java, etc.)"	javascript|java|class|oop|prototypal-inheritance	2020-06-01 16:58:57.447000 UTC	"<p>Why are JavaScript classes considered not ""real"" compared to those in a ""standard"" class-based languages such as Java? I know that JavaScript classes use prototypes under the hood, but doesn't Java code compile down to <code>getfield</code>,<code>invokevirtual</code> etc. that perform dynamic lookups as well? Other than the fact that prototypes are regular objects that can be modified arbitrarily at run time and that you can't implement access control or multiple inheritance with prototypes, how are Java' classes fundamentally different from JavaScript's?</p>"	"<p>Because JavaScript doesn't have classes; it's a prototypE-based OOPL.</p> <p>The syntactic sugar of ES6 classes adds no additional functionality to ES5. Classes are implemented <em>on top</em> of its native OOP paradigm: prototypal inheritance can mimic classical inheritance, the reverse is not true (with caveats).</p> <p>You may actually be asking a duplicate of <a href=""https://stackoverflow.com/q/19633762/438992"">this question</a>, with the (yet another) caveat that points are applicable to varying degrees depending on which specific languages are being discussed (e.g., Ruby's classes and instances are a lot different than Java's.)</p> <p>Access control and multiple inheritance are orthogonal discussions, e.g., Self has (prioritized) multiple inheritance, you could implement access control in Lua via metatables/metafunctions, etc.</p>"
62147000	Python - Write to HTML input element through javascript	javascript|python|html|python-3.x	2020-06-02 07:34:19.743000 UTC	"<p><strong>The goal</strong></p>  <p>I am working on a private project, written in Python3 and using Selenium to write information from a local database into input-elements on an HTML file of a website.</p>  <p>More explicitly : I want to write to a dnd-character-sheet-html on the website roll20 (<a href=""https://roll20.org"" rel=""nofollow noreferrer"">https://roll20.org</a>). </p>  <p><strong>The Problem</strong></p>  <p>Sadly, the ""send_keys()"" method of the selenium package often drops characters, due to a <a href=""https://stackoverflow.com/questions/18013821/pythons-selenium-send-keys-with-chrome-driver-drops-characters"">known bugg</a> in the drivers for firefox and chrome that selenium uses. Thus I want to write using javascript directly. I managed to write to some elements, however, the second I click anywhere on the HTML all the entered values disappear. </p>  <p><strong>Current Solution Attempts</strong></p>  <p>Currently I identify the element I want to write to through its xpath and then set its ""value"" attribute. Below is some example code for this:</p>  <pre><code>import selenium   class DemoClass:     def __init__(self, driver):         self.driver = driver         self.known_element_xpaths = ['Some/Xpath1', 'Some/Xpath2', 'Some/Xpath3']       def write_all_elements(self, input_string):         for element_xpath in self.known_element_xpaths:             self.write_to_element(element_xpath, input_string)      def write_to_element(self, element_xpath, input_string):         js_command = f'document.evaluate(\'{element_xpath}\', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.value = \'{input_string}\';'         self.driver.execute_script(js_command)  driver = selenium.webdriver.chrome() page = DemoClass(driver) page.write_all_elements('Test') </code></pre>  <p>I do not know enough about javascript to understand why values keep disappearing. My last searches showed me that it might be about the form (?) being updated with its default values after clicking, leading to a reset of the HTML (?).</p>  <p>Either way, it seems to me I should've used a different way in javascript to write to these elements. What is the correct way to do it here?</p>  <p>Any help or pointing towards the right solution would be appreciated, I am a fair bit out of my depth here.</p>  <p><strong>Attached Resources</strong></p>  <p>In case it helps, here is also a screenshot of the section where I am trying to write to elements and a more close-up screenshot of the exact elements I'm trying to write to. Further here is an <a href=""https://filebin.net/9k32eunu6zswmt3b"" rel=""nofollow noreferrer"">example HTML</a> (including associated resources), but please note the text only disappears when writing to- and clicking on a character sheet <strong>online</strong>. </p>  <p><a href=""https://i.stack.imgur.com/No789.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/No789.png"" alt=""The spell-section of a character sheet""></a></p>  <hr>  <hr>  <p><a href=""https://i.stack.imgur.com/mzAB5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mzAB5.png"" alt=""The spell elements I want to write to""></a></p>"	"<p>You could try setting</p> <pre><code>driver.implicitly_wait(10) </code></pre> <p>either when declaring the driver or in the class constructor</p> <pre><code>self.driver = driver self.driver.implicitly_wait(10) </code></pre> <p>Explanation <a href=""https://stackoverflow.com/questions/53588966/python-selenium-difference-between-driver-implicitly-wait-and-time-sleep"">here</a></p> <hr /> <p>If you want to avoid using JS (<em>because its very hard to debug using selenium and python - been there</em>), you could checkout this post on <a href=""https://stackoverflow.com/questions/28346240/selenium-not-setting-input-field-value"">selenium-not-setting-input-field-value</a>. Note the .clear() method that is used before sending keys.</p> <p>The post you mention about the driver bug also has this <a href=""https://stackoverflow.com/a/55493098/9511107"">answer</a>, have you tried that?</p> <p>Did you tried and <em>press Enter</em> (programmatically or manually) after sending the keys. Maybe the site expects some kind of field validation.</p>"
62163095	Import Python Classes to Javascript?	javascript|python|import	2020-06-02 23:48:28.310000 UTC	"<p>I want to use Python classes and functions I've written in a separate Javascript file. I'm wondering if it's possible to ""import"" those classes to my JS file?</p>"	"<p>Short answer: No, you can not do that. The problem is, that JavaScript runs on the client while python is server-sided.</p>  <p>Long answer: While you can't directly import python scripts and use their classes and functions in JavaScript, you can actually use server-sided JavaScript implementations like AJAX to call a Python script. This is not what you imagined however, such a request would look like this:</p>  <pre><code>$.ajax({   type: ""POST"",   url: ""~/your_script.py"",   data: { param1: value1} }).done(function( o ) {    // some more code }); </code></pre>  <p>As you can see, you are able to call a script and even pass some parameters, but that is about it. I mean in theorie sure, you could hack your way around and set up your website like this. But trust me, before you know what is happening you loose track of all the calls and the project becomes virtually impossible to maintain.</p>"
62163119	How to access python library in javascript react native library	javascript|python|react-native	2020-06-02 23:52:28.673000 UTC	"<p>I am developing a mobile application using the react native library with the JavaScript language. On the other hand, I have an image processing code that I wrote in python. Is it possible to combine them? Can I put python in my React native code?</p>"	<p>No this is not possible. What are you trying to achieve? Why do you thing that embedding python in your React native code is the way to achieve it?</p>
62172608	reading data from python file into javascript file	javascript|python|reactjs|react-native	2020-06-03 12:15:27.787000 UTC	"<p>Hi I have been trying to create an application using reactJS which takes a file (.mf4 format ) as input, reads data and plots it. But there does not exist any JS librarie for reading data from .mf4 file, however there are python libraries.</p>  <p>Lets say <code>getdata()</code> is a python function which returns say python dataframe.</p>  <p>How can I call <code>getdata()</code> function in JS and get data? </p>  <p>what are the different ways I can implement this?</p>"	"<p>Export from python to JSON format and read the JSON with React JS Hooks: </p>  <p><a href=""https://blog.nubecolectiva.com/como-mostrar-datos-mediante-hooks-con-react-js-16-12/"" rel=""nofollow noreferrer"">https://blog.nubecolectiva.com/como-mostrar-datos-mediante-hooks-con-react-js-16-12/</a></p>  <p>In you front you can use Chart JS or other library.</p>"
62187408	python selenium xpath multiple button using javascript issues	javascript|python|selenium	2020-06-04 05:26:50.880000 UTC	"<p>i'm currently facing issue with selenium getting the exact xpath on a javascript button and appreciate if someone could enlighten me or guide me.</p>  <p>As you can see from the image, the highlighted ones are the javascript button. what i'm planning to do is to use selenium to find buttons that are showing ""bill"" and click into it to clear the status. </p>  <p><img src=""https://i.stack.imgur.com/YY0if.png"" alt=""testing""></p>  <p>my current codes are</p>  <pre><code>while True:     try:         driver.find_element_by_xpath(""//*[@id='main']/div/div/div[2]/div/div[2]/table/tbody/tr[1]/td[12]/a[1]"")     except NoSuchElementException:         driver.refresh()         time.sleep(5)     else:         time.sleep(3)         driver.find_element_by_xpath(""//*[@id='main']/div/div/div[2]/div/div[2]/table/tbody/tr[1]/td[12]/a[1]"").click() </code></pre>  <p>What i want it to do is to search for the ""bill"" button and if is not found, keep refreshing the page until ""bill"" button appear, then click on it which will bring it to another page. Do take note that it can be more than 1 ""bill"" button appearing (still have not figure out how to code for that part as well but i would want it to click on the row that appear the ""bill"" button with the earlier timing first which will bring to another page and after clearing on that page which will forward back to this page and proceed with the 2nd ""bill"" button etc.)</p>  <p>what happen now with my code is that the xpath element is only on the first row of ""bill"" button which it also can be ""check"" button being on the first row at the same position. And like i mention earlier on there could be multiple ""bill"" button coming so i'm not sure how to solve for that.</p>  <p>this are the html i get from inspecting from chrome browser for the ""bill"" button.</p>  <pre><code>&lt;a href=""javascript:;"" onclick=""showContent('billing','/info/bill/12');"" class=""btn btn-danger btn-sm""&gt;                                     &lt;span class=""glyphicon glyphicon-card""&gt;                                     &lt;/span&gt;                                     &amp;nbsp;bill                                 &lt;/a&gt; </code></pre>  <p>Really really appreciate if someone can help me out on this. thanks</p>"	"<p>Looks like your XPATH has been copy pasted. That should have worked since every XPATH is unique but let me show another way for declaring XPATH.</p>  <p>Try declaring XPATH in this format //tag_name[@attr1=""value1"" and @attr2=""value2"" and...and @attrn=""valuen""].  In your Example:   </p>  <pre><code>while True:     try:         driver.find_element_by_xpath(""//a[@class='btn btn-danger btn-sm' and @href='javascript;']"")     except NoSuchElementException:         driver.refresh()         time.sleep(5)     else:         time.sleep(3)         driver.find_element_by_xpath(""//a[@class='btn btn-danger btn-sm' and @href='javascript;']"").click() </code></pre>  <p>You Can also validate whether your XPATH is unique or not by searching the XPATH in your console. Click Ctrl+F in console and copy paste your XPATH. If the number of results is 1, it's fine. Else, try adding more attributes to your XPATH.</p>  <p>Also check in the console whether the control of the button stays with a or wrapped in another tag. If it is wrapped within another tag, then you might have to change the XPATH. </p>"
62221824	Discrepancies between Javascript and Python	javascript|python|math|finance	2020-06-05 18:17:55.183000 UTC	"<p>I have an exam question where I have to find the delta of a put and a call option using the Black and Schole formula.</p>  <p>I found a website <a href=""http://www.deltaquants.com/calc-test"" rel=""nofollow noreferrer"">http://www.deltaquants.com/calc-test</a> that does that for me, so I went in the code and found this function:</p>  <pre><code>getDelta: function(spot, strike, volatility, riskfree, dividendy) {     var self = this;     var d1 = self.getD1(spot, strike, volatility, riskfree, dividendy);     var Nd1 = phi(d1);     // Interesting line     var result = Math.exp( - dividendy * self.expiry) * (self.type !== 'put') ? Nd1 : (Nd1 - 1);      return result.toFixed(6); } </code></pre>  <p>I replicated that in Python:</p>  <pre><code>def delta(q, t, nd1, put: bool):     return np.exp(- q * t) * (nd1 - 1 * put)  print(delta(.02, .25, .5279031701805211, True)) # -0.46974223705768553 print(delta(.02, .25, .5279031701805211, False)) # 0.5252702421349968 </code></pre>  <p>With the same inputs (Nd1 = nd1, dividendy = q, self.expiry = t), the JS code returns <code>-0.472097</code> for the put and <code>0.527903</code> for the call. </p>  <p>I rewrote their JS code to be testable in the console:</p>  <pre><code>const delta = (q, t, nd1, type) =&gt; Math.exp(-q * t) * (type !== ""put"") ? nd1 : (nd1 - 1); </code></pre>  <p>If you rewrite the JS the same way I did in python:</p>  <pre><code>const delta2 = (q, t, nd1, put) =&gt; Math.exp(-q * t) * (nd1 - 1 * put); // Where put is a boolean </code></pre>  <p>You get the same results as my python code, it seems that the <code>Mat.exp</code> part is always disregarded in their code. Do you know why?</p>"	"<p>The problem is that the ternary operator (<code>... ? ... : ...</code>) has lower operator precedence than multiplication, so if you have an expression <code>A * B ? C : D</code> it gets parsed as if it were <code>(A * B) ? C : D</code> rather than <code>A * (B ? C : D)</code>.</p>  <p>If you add parentheses to emphasise the way the expression gets parsed, you end up with this:</p>  <pre class=""lang-js prettyprint-override""><code>    var result = (Math.exp( - dividendy * self.expiry) * (self.type !== 'put')) ? Nd1 : (Nd1 - 1);     //           ^-------------------- added parentheses ---------------------^ </code></pre>  <p>Here you can see that the expression involving <code>Math.exp</code> is in the condition of the ternary operator, and so the value of <code>result</code> will be either <code>Nd1</code> or <code>Nd1 - 1</code>.</p>  <p>I suspect the intended calculation is </p>  <pre class=""lang-js prettyprint-override""><code>    var result = Math.exp( - dividendy * self.expiry) * ((self.type !== 'put') ? Nd1 : (Nd1 - 1));     //                                                  ^---------- added parentheses ----------^ </code></pre>"
62235853	python match values from javascript using re.search	python	2020-06-06 18:01:19.057000 UTC	"<p>Helloo guys,</p>  <p>I want to extract two values from one javascript but my code not working.</p>  <p>Content :</p>  <pre><code>window.DETAILS_PAGE_MAP_GLOBALS = {         GOOGLE_MAPS_LONGITUDE: 55.3750694379,         GOOGLE_MAPS_LATITUDE: 25.309934898     };  </code></pre>  <p>My code :</p>  <pre><code>sk = re.search(r'window.DETAILS_PAGE_MAP_GLOBALS = {(.*?)', str(content)).group(1) print(sk)  </code></pre>  <p>But it prints nothing !!</p>  <p>I need to get longitude and latitiude into variable, how i can do that ?</p>"	"<p>This will extract the longitude and latitude numbers into a list.</p>  <pre><code>import re content = """"""window.DETAILS_PAGE_MAP_GLOBALS = {                 GOOGLE_MAPS_LONGITUDE: 55.3750694379,                 GOOGLE_MAPS_LATITUDE: 25.309934898             };""""""  lat_lon_re = re.compile(r'GOOGLE_MAPS_L.+:\s+([-\d\.]+)')  m = lat_lon_re.findall(content) print(m)  Output: ['55.3750694379', '25.309934898'] </code></pre>"
62235853	python match values from javascript using re.search	python	2020-06-06 18:01:19.057000 UTC	"<p>Helloo guys,</p>  <p>I want to extract two values from one javascript but my code not working.</p>  <p>Content :</p>  <pre><code>window.DETAILS_PAGE_MAP_GLOBALS = {         GOOGLE_MAPS_LONGITUDE: 55.3750694379,         GOOGLE_MAPS_LATITUDE: 25.309934898     };  </code></pre>  <p>My code :</p>  <pre><code>sk = re.search(r'window.DETAILS_PAGE_MAP_GLOBALS = {(.*?)', str(content)).group(1) print(sk)  </code></pre>  <p>But it prints nothing !!</p>  <p>I need to get longitude and latitiude into variable, how i can do that ?</p>"	"<p>You could use</p>  <pre><code>(\w+):\s+([\d.]+) </code></pre>  <p>See <a href=""https://regex101.com/r/a9bn3A/1/"" rel=""nofollow noreferrer""><strong>a demo on regex101.com</strong></a>.</p>"
62253564	I just need to turn solution of JavaScript problem into Python code using the same approach	python|string|hashmap|anagram	2020-06-08 01:01:31.310000 UTC	"<p>I'm stuck on turning this JS anagram problem into Python solution using the same approach. Here is the problem:</p>  <p><a href=""https://i.stack.imgur.com/yxcF7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yxcF7.png"" alt=""Here the problem:""></a> </p>  <p>Here is the JavaScript solution:</p>  <pre><code>    if (first.length !== second.length) {         return false;     }      const lookup = {};      for (let i = 0; i &lt; first.length; i++) {         let letter = first[i];         // if letter exists, increment, otherwise set to 1         lookup[letter] ? (lookup[letter] += 1) : (lookup[letter] = 1);     }      for (let i = 0; i &lt; second.length; i++) {         let letter = second[i];         // can't find letter or letter is zero then it's not an anagram         if (!lookup[letter]) {             return false;         } else {             lookup[letter] -= 1;         }     }      return true; }  console.log(validAnagram('anagram', 'nagaram')); </code></pre>  <p>And here is my Python code using the same approach:</p>  <pre><code>    if len(first) != len(second):         return False      lookup = {}      for char in first:         letter = first[char]         if lookup[letter]:             lookup[letter] += 1         else:             lookup[letter] = 1      for char in second:         letter = second[char]         if not lookup[letter]:             return False         else:             lookup[letter] -= 1      return True   print(valid_anagram(""anagram"", ""nagaram"")) </code></pre>  <p>This is the error I'm getting when I run my Python solution:</p>  <pre><code>letter = first[char] TypeError: string indices must be integers </code></pre>"	"<p>You are attempting to pass in a string to get the index instead of passing in an integer. </p>  <pre><code>first = ""hello"" for char in first:       print(char)   </code></pre>  <p>Output: </p>  <pre><code>h e l l o </code></pre>  <p>To get the index use this:</p>  <pre><code>for char in range(len(first)):    print(char) </code></pre>  <p>Output:</p>  <pre><code>0 1 2 3 4 </code></pre>  <p>Here is a simpler solution </p>  <pre><code>def valid_anagram(str1, str2):     list_str1 = list(str1)     list_str1.sort()     list_str2 = list(str2)     list_str2.sort()      return (list_str1 == list_str2) </code></pre>"
62253564	I just need to turn solution of JavaScript problem into Python code using the same approach	python|string|hashmap|anagram	2020-06-08 01:01:31.310000 UTC	"<p>I'm stuck on turning this JS anagram problem into Python solution using the same approach. Here is the problem:</p>  <p><a href=""https://i.stack.imgur.com/yxcF7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/yxcF7.png"" alt=""Here the problem:""></a> </p>  <p>Here is the JavaScript solution:</p>  <pre><code>    if (first.length !== second.length) {         return false;     }      const lookup = {};      for (let i = 0; i &lt; first.length; i++) {         let letter = first[i];         // if letter exists, increment, otherwise set to 1         lookup[letter] ? (lookup[letter] += 1) : (lookup[letter] = 1);     }      for (let i = 0; i &lt; second.length; i++) {         let letter = second[i];         // can't find letter or letter is zero then it's not an anagram         if (!lookup[letter]) {             return false;         } else {             lookup[letter] -= 1;         }     }      return true; }  console.log(validAnagram('anagram', 'nagaram')); </code></pre>  <p>And here is my Python code using the same approach:</p>  <pre><code>    if len(first) != len(second):         return False      lookup = {}      for char in first:         letter = first[char]         if lookup[letter]:             lookup[letter] += 1         else:             lookup[letter] = 1      for char in second:         letter = second[char]         if not lookup[letter]:             return False         else:             lookup[letter] -= 1      return True   print(valid_anagram(""anagram"", ""nagaram"")) </code></pre>  <p>This is the error I'm getting when I run my Python solution:</p>  <pre><code>letter = first[char] TypeError: string indices must be integers </code></pre>"	"<p>Here's the same solution, that uses <code>dict</code> to count letters like your Java code:</p>  <pre><code>from collections import Counter  def valid_anagram( str1, str2 ) :     return Counter(str1) == Counter(str2) </code></pre>  <p>testing:</p>  <pre><code>&gt;&gt;&gt; valid_anagram('anagram', 'nagaram') True &gt;&gt;&gt;  </code></pre>  <hr>  <p>I wrote below, and I write here again, the whole point of using python is not reinventing the wheel and use existing libraries to make the code compact, fast and easy to understand.</p>  <p>Take for example your code:</p>  <pre><code>for char in first:     letter = first[char]     if lookup[letter]:         lookup[letter] += 1     else:         lookup[letter] = 1 </code></pre>  <p>This can be rewritten as:</p>  <pre><code>lookup = dict() for letter in first:     if lookup[letter]:         lookup[letter] += 1     else:         lookup[letter] = 1 </code></pre>  <p>Or, better yet:</p>  <pre><code>lookup = Counter() for letter in first:     lookup[letter] += 1 </code></pre>  <p>Or, even better:</p>  <pre><code>lookup = Counter( first ) </code></pre>  <p>So why waste time and space....</p>"
62253605	How to click a javascript enabled anchor element using Selenium and Python	python|selenium|xpath|css-selectors|linktext	2020-06-08 01:09:07.863000 UTC	"<p>This is the html of the element I am trying to click:</p>  <pre><code>&lt;a id=""sd3"" class=""node"" href=""/cgi-bin/luci/;stok=753940cb907c7e8524cfaf3c5227614c/expert/configuration/network/wlan""  target=""mainFrame"" onclick=""javascript: d.s(3);""&gt;Wireless LAN 2.4G&lt;/a&gt; </code></pre>  <p>This is the error raised:</p>  <pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element </code></pre>  <p>From the F12 inspection screen, this is the xpath:</p>  <pre><code>//*[@id=""sd3""] </code></pre>  <p>This is the selector:</p>  <pre><code>#sd3 </code></pre>  <p>This is the full xpath: </p>  <pre><code>/html/body/div[3]/div/ul/li[2]/div/ul/li/div/ul/li[3]/div/div/div[2]/div[2]/div[2]/a </code></pre>  <p>I tried all of these:</p>  <pre><code>driver.find_element_by_link_text(url).click() driver.find_element_by_xpath(""//dTreeNode[3]"").click() driver.find_element_by_partial_link_text('url').click() driver.find_element_by_css_selector('a.node').click() driver.find_element_by_xpath(""//dd1[2]"").click() driver.find_element_by_css_selector('a#sd3').click() driver.find_element_by_css_selector("".node[id='sd3']"").click() driver.find_element_by_xpath(""//a[@id='sd3']"").click() driver.find_element_by_link_text('Wireless LAN 2.4G').click() driver.find_element_by_xpath(""//div[@id='dd1']/div[2]/a[1]"").click() driver.find_element_by_xpath(""//div[@id='dd1']/div[2]/a[@id='sd3']"").click() driver.find_element_by_xpath(""//a[@id='sd3']"").click() driver.find_element_by_id(""sd3"").click() driver.find_element_by_link_text('Wireless LAN 2.4G').click() driver.find_element_by_xpath(""/html/body/div[3]/div/ul/li[2]/div/ul/li/div/ul/li[3]/div/div/div[2]/div[2]/div[2]/a"").click() driver.find_element_by_xpath(""//*[@id='sd3']"").click() </code></pre>  <p>Conclusion: I must admit that I find myself completely clueless to find that despite all my different attempts, it is this very same exception being raised. And yet I'm using the same line of codes earlier in my script and it works like a dime. I even tried to give the content time to generate (3 seconds) cause it's dynamically generated. I'm led to 2 conclusions. I'm either the problem which I couldn't find, or the fact that this is some dynamically generated content is adding a layer of complexity for Selenium that I didn't get.</p>"	"<p>The <code>&lt;a&gt;</code> element is a <a href=""https://www.javascript.com/"" rel=""nofollow noreferrer"">JavaScript</a> enabled element. So to <code>click()</code> on the element you need to induce <a href=""https://stackoverflow.com/questions/49775502/webdriverwait-not-working-as-expected/49775808#49775808"">WebDriverWait</a> for the <code>element_to_be_clickable()</code> and you can use either of the following <a href=""https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890"">Locator Strategies</a>:</p>  <ul> <li><p>Using <code>LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.LINK_TEXT, ""Wireless LAN 2.4G""))).click() </code></pre></li> <li><p>Using <code>PARTIAL_LINK_TEXT</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.PARTIAL_LINK_TEXT, ""Wireless LAN 2""))).click() </code></pre></li> <li><p>Using <code>CSS_SELECTOR</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.CSS_SELECTOR, ""a.node[href$='/expert/configuration/network/wlan']""))).click() </code></pre></li> <li><p>Using <code>XPATH</code>:</p>  <pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, ""//a[@class='node' and contains(@href, 'expert/configuration/network/wlan')][contains(., 'LAN 2.4G')]""))).click() </code></pre></li> <li><p><strong>Note</strong> : You have to add the following imports:</p>  <pre><code>from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC </code></pre></li> </ul>  <blockquote>   <p><strong>Note</strong>: You can find a relevant discussion in <a href=""https://stackoverflow.com/questions/47993443/selenium-selenium-common-exceptions-nosuchelementexception-when-using-chrome/47995294#47995294"">Selenium “selenium.common.exceptions.NoSuchElementException” when using Chrome</a></p> </blockquote>"
62271380	Send UDP Data from Python to Javascript?	javascript|python|sockets|server|client	2020-06-08 21:21:32.663000 UTC	"<p>How do I retrieve data fro this Python Server in Javacript. The end goal is to be able to use Python variables to Control Javascript variables. I've scoured everywhere for hints on how to work with sockets and javascript but they only dive into sending data whereas I'm wanting to receive data. </p>  <p>Thanks in Advance! :)</p>  <p>Python Server Code:</p>  <pre><code>import socket UDP_IP = socket.gethostname() UDP_PORT = 5005 ip_address = socket.gethostbyname(socket.gethostname())  MESSAGE = ""Hello, World!""  print (""UDP target IP:"", UDP_IP) print(""IP Address is"",ip_address) print (""UDP target port:"", UDP_PORT) print (""message:"", MESSAGE)  sock = socket.socket(socket.AF_INET,  # Internet                  socket.SOCK_DGRAM)  # UDP  #sock.sendto(MESSAGE, (UDP_IP, UDP_PORT))  sock.sendto(bytes(MESSAGE, ""utf-8""), (ip_address, UDP_PORT)) </code></pre>  <p>JAVASCRIPT CLIENT:</p>  <pre><code>var socket = io.connect('http://127.0.0.1:5005'); </code></pre>"	"<p><strong>Best option should be flask</strong></p>  <pre><code>@app.route('/') def hello():    data = {'username': 'Pang', 'site': 'stackoverflow.com'}    return render_template('settings.html', data=data) </code></pre>  <p>In the above code you specify the route and the data you want to send, previously processed in a python variable.</p>  <p><strong>In your js:</strong></p>  <pre><code>function myFunc(vars) { return vars </code></pre>  <p>}</p>  <p>In this way you should be able to view your values and use them</p>  <p><strong>In your html</strong></p>  <pre><code>&lt;html&gt; &lt;head&gt;      &lt;script type=""text/javascript"" {{ url_for('static', filename='app.js')}}&gt;&lt;/script&gt;      &lt;script type=""text/javascript""&gt;         myVar = myFunc({{vars|tojsenter code hereon}})      &lt;/script&gt; &lt;/head&gt; </code></pre>  <p></p>  <p>In the above code you store your data reciebed in <strong>MyVar</strong>, you can omit the json parsing.</p>"
62318161	How to add Thousand Separator to number in Javascript / Python / Django	javascript|python|django	2020-06-11 06:12:44.673000 UTC	"<p>I wanted to ask how to add thousand separator to the number when I type the number and also to the output.</p>  <p>For example 10 000 becomes 10,000.</p>  <p>I tried to use Django intcomma but it's not working.</p>  <p>Really appreciate if you guys can help me with this. Below is my code :</p>  <p>HTML     </p>  <pre><code>&lt;html&gt; &lt;head&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js""&gt;&lt;/script&gt;   &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"" /&gt;   &lt;script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;   &lt;div class=""container""&gt;     &lt;br /&gt;     &lt;br /&gt;     &lt;div class=""form-group""&gt;       &lt;form name=""add_price"" id=""add_price""&gt;         &lt;div class=""table-responsive""&gt;           &lt;table class=""table table-bordered"" id=""price""&gt;             {{ priceformset.management_form }}             {% for price in priceformset %}              &lt;tr&gt;               &lt;td&gt;{{ product.product_price }}&lt;/td&gt;               &lt;td&gt;{{ product.product_quantity }}&lt;/td&gt;                &lt;td&gt;{{ product.product_total_price }}&lt;/td&gt;             &lt;/tr&gt;             {% endfor %}           &lt;/table&gt;           &lt;input type=""button"" name=""submit"" id=""submit"" class=""btn btn-info"" value=""Submit"" /&gt;         &lt;/div&gt;       &lt;/form&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/body </code></pre>  <p>Javascript</p>  <pre><code>$('.textInput').on('change keyup', function() {        product_total_price=0;        var product_price= Number($('#id_Product-0-price').val());       var product_quantity= Number($('#id_Product-0-quantity').val());        product_total_price= product_price * product_quantity;       $('#id_Product-0-total_price').val(product_total_price);  }); </code></pre>  <p>Models.py</p>  <pre><code> class Price (models.Model):     product_price = models.CharField(max_length=512,null=True,blank=True)     product_quantity = models.CharField(max_length=512,null=True,blank=True)     product_total_price= models.CharField(max_length=512,null=True,blank=True) </code></pre>  <p>Forms.py</p>  <pre><code>class PriceForm(forms.ModelForm):  product_price =forms.CharField(required=False,label=('Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Price"" }))  product_quantity =forms.CharField(required=False,label=('Quantity'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Quantity"" }))  product_total_price =forms.CharField(required=False,label=('Total Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Total Price"" }))  class Meta:         model = Price         fields = ('__all__') </code></pre>"	"<p>It works with float-type vale as well. It's a little complex but I really love to share my idea. It's based on Javascript.</p> <pre><code>value.toString().split('.').map((v, i) =&gt; i===0?v.split('').map((val, idx, self) =&gt; ((idx===0)||((self.length-idx)%3!==0))?val:`,${val}`).join(''):v).join('.') </code></pre>"
62318161	How to add Thousand Separator to number in Javascript / Python / Django	javascript|python|django	2020-06-11 06:12:44.673000 UTC	"<p>I wanted to ask how to add thousand separator to the number when I type the number and also to the output.</p>  <p>For example 10 000 becomes 10,000.</p>  <p>I tried to use Django intcomma but it's not working.</p>  <p>Really appreciate if you guys can help me with this. Below is my code :</p>  <p>HTML     </p>  <pre><code>&lt;html&gt; &lt;head&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js""&gt;&lt;/script&gt;   &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"" /&gt;   &lt;script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;   &lt;div class=""container""&gt;     &lt;br /&gt;     &lt;br /&gt;     &lt;div class=""form-group""&gt;       &lt;form name=""add_price"" id=""add_price""&gt;         &lt;div class=""table-responsive""&gt;           &lt;table class=""table table-bordered"" id=""price""&gt;             {{ priceformset.management_form }}             {% for price in priceformset %}              &lt;tr&gt;               &lt;td&gt;{{ product.product_price }}&lt;/td&gt;               &lt;td&gt;{{ product.product_quantity }}&lt;/td&gt;                &lt;td&gt;{{ product.product_total_price }}&lt;/td&gt;             &lt;/tr&gt;             {% endfor %}           &lt;/table&gt;           &lt;input type=""button"" name=""submit"" id=""submit"" class=""btn btn-info"" value=""Submit"" /&gt;         &lt;/div&gt;       &lt;/form&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/body </code></pre>  <p>Javascript</p>  <pre><code>$('.textInput').on('change keyup', function() {        product_total_price=0;        var product_price= Number($('#id_Product-0-price').val());       var product_quantity= Number($('#id_Product-0-quantity').val());        product_total_price= product_price * product_quantity;       $('#id_Product-0-total_price').val(product_total_price);  }); </code></pre>  <p>Models.py</p>  <pre><code> class Price (models.Model):     product_price = models.CharField(max_length=512,null=True,blank=True)     product_quantity = models.CharField(max_length=512,null=True,blank=True)     product_total_price= models.CharField(max_length=512,null=True,blank=True) </code></pre>  <p>Forms.py</p>  <pre><code>class PriceForm(forms.ModelForm):  product_price =forms.CharField(required=False,label=('Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Price"" }))  product_quantity =forms.CharField(required=False,label=('Quantity'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Quantity"" }))  product_total_price =forms.CharField(required=False,label=('Total Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Total Price"" }))  class Meta:         model = Price         fields = ('__all__') </code></pre>"	"<p>javascript:</p>  <pre class=""lang-js prettyprint-override""><code>const n = 100000 const formated = n.toLocaleString() </code></pre>  <p>python (requires python 3.6+):</p>  <pre class=""lang-py prettyprint-override""><code>n = 1000000 formatted = f'{n:,}' </code></pre>"
62318161	How to add Thousand Separator to number in Javascript / Python / Django	javascript|python|django	2020-06-11 06:12:44.673000 UTC	"<p>I wanted to ask how to add thousand separator to the number when I type the number and also to the output.</p>  <p>For example 10 000 becomes 10,000.</p>  <p>I tried to use Django intcomma but it's not working.</p>  <p>Really appreciate if you guys can help me with this. Below is my code :</p>  <p>HTML     </p>  <pre><code>&lt;html&gt; &lt;head&gt;   &lt;script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js""&gt;&lt;/script&gt;   &lt;link rel=""stylesheet"" href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"" /&gt;   &lt;script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js""&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;   &lt;div class=""container""&gt;     &lt;br /&gt;     &lt;br /&gt;     &lt;div class=""form-group""&gt;       &lt;form name=""add_price"" id=""add_price""&gt;         &lt;div class=""table-responsive""&gt;           &lt;table class=""table table-bordered"" id=""price""&gt;             {{ priceformset.management_form }}             {% for price in priceformset %}              &lt;tr&gt;               &lt;td&gt;{{ product.product_price }}&lt;/td&gt;               &lt;td&gt;{{ product.product_quantity }}&lt;/td&gt;                &lt;td&gt;{{ product.product_total_price }}&lt;/td&gt;             &lt;/tr&gt;             {% endfor %}           &lt;/table&gt;           &lt;input type=""button"" name=""submit"" id=""submit"" class=""btn btn-info"" value=""Submit"" /&gt;         &lt;/div&gt;       &lt;/form&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/body </code></pre>  <p>Javascript</p>  <pre><code>$('.textInput').on('change keyup', function() {        product_total_price=0;        var product_price= Number($('#id_Product-0-price').val());       var product_quantity= Number($('#id_Product-0-quantity').val());        product_total_price= product_price * product_quantity;       $('#id_Product-0-total_price').val(product_total_price);  }); </code></pre>  <p>Models.py</p>  <pre><code> class Price (models.Model):     product_price = models.CharField(max_length=512,null=True,blank=True)     product_quantity = models.CharField(max_length=512,null=True,blank=True)     product_total_price= models.CharField(max_length=512,null=True,blank=True) </code></pre>  <p>Forms.py</p>  <pre><code>class PriceForm(forms.ModelForm):  product_price =forms.CharField(required=False,label=('Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Price"" }))  product_quantity =forms.CharField(required=False,label=('Quantity'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Quantity"" }))  product_total_price =forms.CharField(required=False,label=('Total Price'),widget=forms.TextInput(         attrs= {         ""class"":""textInput form-control"",         ""placeholder"" : ""Total Price"" }))  class Meta:         model = Price         fields = ('__all__') </code></pre>"	"<p>It's easy to do in js:</p>  <pre><code>let number = 1000 number.toLocaleString() </code></pre>  <p>This is how to do it in python:</p>  <pre><code>def place_value(number):      return (""{:,}"".format(number))   print(place_value(1000000))  </code></pre>  <p>Happy to help</p>"
62327055	How to create a stock availability checker with python requests if JavaScript is used?	python-requests	2020-06-11 14:45:42.790000 UTC	"<p>I wrote some code which should check whether a product is back in stock and when it is, send me an email to notify me. This works when the things I'm looking for are in the html.</p> <p>However, sometimes certain objects are loaded through JavaScript. How could I edit my code so that the web scraping also works with JavaScript?</p> <p>This is my code thus far:</p> <pre><code>import time import requests  while True:     # Get the url of the IKEA page     url = 'https://www.ikea.com/nl/nl/p/flintan-bureaustoel-vissle-zwart-20336841/'      # Get the text from that page and put everything in lower cases     productpage = requests.get(url).text.lower()      # Set the strings that should be on the page if the product is not available     outofstockstrings = ['niet beschikbaar voor levering', 'alleen beschikbaar in de winkel']      # Check whether the strings are in the text of the webpage     if any(x in productpage for x in outofstockstrings):         time.sleep(1800)         continue     else:         # send me an email and break the loop </code></pre>"	"<p>Instead of scraping and analyzing the HTML you could use the inofficial stock API that the IKEA website is using too. That API return JSON data which is way easier to analyze and you’ll also get estimates when the product gets back to stock.</p> <p>There even is a project written in javascript / node which provides you this kind of information straight from the command line: <a href=""https://github.com/Ephigenia/ikea-availability-checker"" rel=""nofollow noreferrer"">https://github.com/Ephigenia/ikea-availability-checker</a></p> <p>You can easily check the stock amount of the chair in all stores in the Netherlands:</p> <pre><code>npx ikea-availability-checker stock --country nl 20336841 </code></pre>"
62350675	"Python Selenium, javascript button never finishing to load"	python|selenium|selenium-webdriver	2020-06-12 18:51:08.577000 UTC	"<p>i'm doing a simple selenium script to get all products in this page: <a href=""https://www.bauducco.com.br/produtos/"" rel=""nofollow noreferrer"">https://www.bauducco.com.br/produtos/</a>.</p>  <p>I've just created this code to try to open the page and click in the red button to load more products:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait  from selenium.webdriver.support import expected_conditions as EC import time   driver = webdriver.Firefox(executable_path=r'mypath') driver.get('http://www.bauducco.com.br/produtos/')  button = driver.find_element_by_xpath(                  '/html/body/div[1]/div/section/div[2]/span/a')  driver.execute_script(""window.scrollTo(0, 1080)"")    button.click() time.sleep(5)  </code></pre>  <p>This is all the code. I've tried to execute using Google Chrome and also fireFox but none worked. The button just keep loading and never brings my content. Even if i just open the page with the selenium and click by myself the button doesn't work.</p>  <p>Some ideia what is happening ? Maybe is a trick to block bots ?</p>"	"<p>You should add firefox webdriver option ""--disable-web-security"" because webdriver blocks CORS requests:</p>  <pre><code>from selenium import webdriver from selenium.webdriver.firefox.options import Options firefox_options = Options()   firefox_options.add_argument(""--disable-web-security"")   driver = webdriver.Firefox(executable_path=r'mypath',  firefox_options=firefox_options) driver.get('http://www.bauducco.com.br/produtos/')  button = driver.find_element_by_xpath('/html/body/div[1]/div/section/div[2]/span/a')  button.click() </code></pre>"
62353469	How to scrape the Javascript based site https://marketchameleon.com/Calendar/Earnings using Selenium and Python?	javascript|python|selenium|akamai	2020-06-12 22:41:22.253000 UTC	"<p>I am trying to get earning dates from <a href=""https://marketchameleon.com/Calendar/Earnings"" rel=""nofollow noreferrer"">https://marketchameleon.com/Calendar/Earnings</a>  The site has a javascript loader that loads the earnings table, but when I am using selenium it is not appears. I tried chrome and firefox drivers.</p>  <p>a sample of the code:</p>  <pre><code>firefox_driver_path = os.path.abspath('../firefoxdriver_win32/geckodriver.exe') options = webdriver.FirefoxOptions() options.add_argument(""--enable-javascript"") driver = webdriver.Firefox(executable_path=firefox_driver_path, options=options) driver.get(""https://marketchameleon.com/Calendar/Earnings"") </code></pre>  <p>how can I get the data? </p>"	"<p>I took your code added a few tweaks and ran a test to extract the earning dates from <a href=""https://marketchameleon.com/Calendar/Earnings"" rel=""nofollow noreferrer"">https://marketchameleon.com/Calendar/Earnings</a> as follows:</p> <ul> <li><p>Code Block:</p> <pre><code>from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC  options = webdriver.ChromeOptions()  options.add_argument(&quot;start-maximized&quot;) options.add_experimental_option(&quot;excludeSwitches&quot;, [&quot;enable-automation&quot;]) options.add_experimental_option('useAutomationExtension', False) driver = webdriver.Chrome(options=options, executable_path=r'C:\Utility\BrowserDrivers\chromedriver.exe') driver.get('https://marketchameleon.com/Calendar/Earnings') print(WebDriverWait(driver, 5).until(EC.visibility_of_element_located((By.CSS_SELECTOR, &quot;table.dateselect_menu_h_table tr &gt; th &gt; span&quot;))).text) print(WebDriverWait(driver, 5).until(EC.visibility_of_element_located((By.XPATH, &quot;//table[@class='dateselect_menu_h_table']//tr/th/span&quot;))).get_attribute(&quot;innerHTML&quot;)) </code></pre> </li> </ul> <hr /> <h2>Observation</h2> <p>Similar to your observation, I have hit the same roadblock that using <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> the earnings table doesn't loads:</p> <p><img src=""https://i.stack.imgur.com/HKws0.png"" alt=""marketchameleon"" /></p> <hr /> <h2>Deep Dive</h2> <p>While inspecting the <a href=""https://javascript.info/dom-nodes"" rel=""nofollow noreferrer"">DOM Tree</a> of the <em>webpage</em> I found that some of the <code>&lt;script&gt;</code> and other tags refers to the keyword <strong>akam</strong>. As an example:</p> <ul> <li><code>!function(){if(BOOMR=a.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var e=&quot;&quot;==&quot;true&quot;?1:0,t=&quot;&quot;,n=&quot;gertvyrrfrzvsxxfd3ta-f-81b1f5d51-clientnsv4-s.akamaihd.net&quot;</code></li> <li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;https://marketchameleon.com/akam/11/4e7414cb&quot; defer=&quot;&quot;&gt;&lt;/script&gt;</code></li> <li><code>&lt;noscript&gt;&lt;img src=&quot;https://marketchameleon.com/akam/11/pixel_4e7414cb?a=dD03OTIxZTlmM2QwMWVhMDkxODhjNzQwN2E3NmFkNzRiMDQ5ODBkOGU0JmpzPW9mZg==&quot; style=&quot;visibility: hidden; position: absolute; left: -999px; top: -999px;&quot; /&gt;&lt;/noscript&gt;</code></li> <li><code>&lt;link id=&quot;dnsprefetchlink&quot; rel=&quot;dns-prefetch&quot; href=&quot;//gertvyrrfrzvsxxfd3ta-f-81b1f5d51-clientnsv4-s.akamaihd.net&quot;&gt;</code></li> </ul> <p>Which is a clear indication that the website is protected by <a href=""https://www.akamai.com/us/en/products/security/bot-manager.jsp"" rel=""nofollow noreferrer""><strong>Bot Manager</strong></a> an advanced bot detection service provided by <a href=""https://www.akamai.com/"" rel=""nofollow noreferrer""><strong>Akamai</strong></a> and the response gets <strong>blocked</strong>.</p> <hr /> <h2>Bot Manager</h2> <p>As per the article <a href=""https://www.akamai.com/us/en/multimedia/documents/akamai/akamai-bot-manager-training-overview-and-agenda.pdf"" rel=""nofollow noreferrer"">Bot Manager - Foundations</a>:</p> <p><img src=""https://i.stack.imgur.com/DwL3F.png"" alt=""akamai_detection"" /></p> <hr /> <h2>Conclusion</h2> <p>So it can be concluded that the request for the data is detected as being performed by <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> driven <a href=""https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871"">WebDriver</a> instance and the response is blocked.</p> <hr /> <h2>References</h2> <p>A couple of documentations:</p> <ul> <li><a href=""https://www.akamai.com/us/en/multimedia/documents/product-brief/bot-manager-product-brief.pdf"" rel=""nofollow noreferrer"">Bot Manager</a></li> <li><a href=""https://www.akamai.com/us/en/multimedia/documents/akamai/akamai-bot-manager-training-overview-and-agenda.pdf"" rel=""nofollow noreferrer"">Bot Manager : Foundations</a></li> </ul> <hr /> <h2>tl; dr</h2> <p>A couple of relevant discussions:</p> <ul> <li><a href=""https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/62520191#62520191"">Can a website detect when you are using selenium with chromedriver?</a></li> <li><a href=""https://stackoverflow.com/questions/53039551/selenium-webdriver-modifying-navigator-webdriver-flag-to-prevent-selenium-detec/53040904#53040904"">Selenium webdriver: Modifying navigator.webdriver flag to prevent selenium detection</a></li> </ul>"
62366934	Control Javascript/CSS elements with Python via Websocket?	javascript|python|html|css|websocket	2020-06-14 00:04:56.923000 UTC	"<p>I'm trying to control the Font Size property via the below python code. I've sent the data via Websocket and Python and JS seem to work perfectly. I'm now just trying to use that data to control the font size JS/CSS property but, I've no luck. Below are my code attempts. What am I doing wrong?</p>  <p>Thanks in Advance! : )</p>  <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function WebSocketTest() {              if (""WebSocket"" in window) {                alert(""WebSocket is supported by your Browser!"");                 // Let us open a web socket                var ws = new WebSocket(""ws://localhost:8768/echo"");                 ws.onopen = function() {                    // Web Socket is connected, send data using send()                   ws.send(""Message to send"");                   alert(""Message is sent..."");                };                 ws.onmessage = function (evt) {                   var received_msg = evt.data;                   document.querySelector(""h1"").style.fontSize = evt.data;                   };                 ws.onclose = function() {                    // websocket is closed.                 };             } else {                 // The browser doesn't support WebSocket                alert(""WebSocket NOT supported by your Browser!"");             }          }</code></pre> <pre class=""snippet-code-css lang-css prettyprint-override""><code>/*! Generated by Font Squirrel (https://www.fontsquirrel.com) on June 3, 2020 */  @font-face {     font-family: 'spartanthin';     src: url('fonts/SpartanUnconv/Spartan-VariableFont_wght.ttf');     font-weight: 100 900;     font-style: normal;   }     h1 {  margin-bottom: 10px; font-family: 'spartanthin'; font-weight: var(--font-weight); font-size: 15px; text-align: left; position: relative;   }</code></pre> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt; &lt;body&gt;  &lt;h1&gt;Heading&lt;/h1&gt;  &lt;p&gt;A Black Fox Jumped Over A Fence&lt;/p&gt;  &lt;/body&gt; &lt;/html&gt;</code></pre> </div> </div> </p>  <p>Python:    </p>  <pre><code>import asyncio     import websockets      async def echo(websocket, path):         async for message in websocket:             await websocket.send(str(900)) #FontSize Value      start_server = websockets.serve(echo, ""localhost"", 8778)      asyncio.get_event_loop().run_until_complete(start_server)     asyncio.get_event_loop().run_forever() </code></pre>"	"<p>that <code>async for message in websocket:</code> means your server only responds to messages from client and your client does not send any messages.</p>  <p>try it like so</p>  <pre><code>import asyncio import websockets  async def echo(websocket, path):     await websocket.send(str(900)) #FontSize Value  start_server = websockets.serve(echo, ""localhost"", 8778) asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() </code></pre>  <p>also, change the JS part <code>WebSocket(""ws://localhost:8768/echo"");</code> to <code>WebSocket(""ws://localhost:8778"");</code> (so it corresponds with your server). And I'am not sure if you are calling that js function, so if u dont have <code>WebSocketTest();</code> anywhere, place it to script tag in html or directly to a js file after that <code>WebSocketTest</code> function definition.</p>"
62382415	How to use the Python string index in JavaScript?	javascript|python|string|slice	2020-06-15 06:18:27.093000 UTC	"<p>In Python, you can do something like this:</p>  <pre><code>string = ""Hello World"" print(string[2:5]) # llo </code></pre>  <p>What is the equivalent of that in JavaScript?</p>"	"<p>You can use both <code>slice</code> or <code>substring</code>:</p>  <pre class=""lang-js prettyprint-override""><code>const str = ""Hello world!"";  console.log(str.substring(2, 5)); console.log(str.slice(2, 5)); </code></pre>"
62382415	How to use the Python string index in JavaScript?	javascript|python|string|slice	2020-06-15 06:18:27.093000 UTC	"<p>In Python, you can do something like this:</p>  <pre><code>string = ""Hello World"" print(string[2:5]) # llo </code></pre>  <p>What is the equivalent of that in JavaScript?</p>"	"<p>Try using the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice"" rel=""nofollow noreferrer""><code>slice</code></a> function:</p>  <pre><code>var str = ""Hello world!"";  var res = str.slice(2, 5);  console.log(res) // llo </code></pre>"
62385261	Interpret Javascript web application using Python	javascript|python	2020-06-15 09:30:00.697000 UTC	"<p>Excuse me if my coding lingo is off, I'm familiar with coding but still what you might consider a beginner. Let me first explain why I'm doing this, followed by what I what I want from it to hopefully give you an idea of how to tackle this problem. </p>  <p>I'm a small streamer on dlive, to reward my viewers for watching I'm using a service called Incent, that rewards viewers with crypto for picking up dropcodes. I've noticed that people have a better experience when someone has typed out the code in the chat rather than it blinking on screen for 30 seconds only to disappear. It's not always someone sits in chat and types it out and sometimes there are spelling errors etc. I figured I wanted to automate  the process to make the integration of incent into my stream more seamless. I've coded my own chat bot using python and just wanted to push the code through that.The bot is working and able to send messages, so that's not my issue here. </p>  <p>Now the issue I have is how do I make python interpret what's happening on the drop url, making it take just the drop code. The incent drop url uses javascript so I'm not entirely sure how to make it work. Here's a url to the preview, so you can get an idea what happens when a drop comes <a href=""https://get.incent.com/overlays/v1/dropcodes/28mIAiGQNa7adlZAg6948N:15LCP76AiNGk6RmRAaKKep?preview"" rel=""nofollow noreferrer"">https://get.incent.com/overlays/v1/dropcodes/28mIAiGQNa7adlZAg6948N:15LCP76AiNGk6RmRAaKKep?preview</a></p>  <p>I'm not sure what route to go from here. I was playing around the idea with web scraping, but I'd rather it run in the background and not having to open up, say a selenium browser every time it needs to check for the code. A method like that I imagine would have to run continuously inside a while loop. Ideally I'd want python to just receive the code every time it drops. I thought I could use requests to accomplish this, but I have to admit that I don't know how to make that work. </p>  <p>Hopefully you now have an idea of what the problem is and I hope you can help me with this.  </p>"	"<p>You could try something like this.</p>  <ul> <li>Open the page via headless browser</li> <li>wait until the code arrives (an element with <code>class^=""RewardCodestyles__Code""]</code> - meaning that starts with that class)</li> <li>evaluate the <code>innertText</code> or <code>textContent</code> of that element to retrieve the code</li> <li>sleep for some time (10 sec in this example) and start over</li> </ul>  <p>Sample code (with <a href=""https://pypi.org/project/pyppeteer/"" rel=""nofollow noreferrer"">pyppeteer</a>):</p>  <pre><code>import asyncio from pyppeteer import launch  URL = 'https://get.incent.com/overlays/v1/dropcodes/28mIAiGQNa7adlZAg6948N:15LCP76AiNGk6RmRAaKKep?preview'   async def main():     browser = await launch()     page = await browser.newPage()     await page.goto(URL)      # wait until the code arrives     await page.waitForFunction('''() =&gt; {         return !!document.body.querySelector('[class^=""RewardCodestyles__Code""]')     }     ''', {         'timeout': 60000     })      # then just extract the code     code = await page.evaluate('''() =&gt; {         return document.body.querySelector('[class^=""RewardCodestyles__Code""]').innerText     }''')      # do things with the code here     print(code)      await browser.close()   async def forever():     while True:         await main()         # sleep a bit here - for 10 secs.         await asyncio.sleep(10)  loop = asyncio.get_event_loop() loop.run_until_complete(forever()) </code></pre>  <p>An output from a sample run:</p>  <pre><code>TEST-C0D3 TEST-C0D3 TEST-C0D3 TEST-C0D3 TEST-C0D3 TEST-C0D3 </code></pre>"
62404345	Javascript HMAC and Python HMAC not returning same hash	javascript|python|hmac	2020-06-16 08:36:58.573000 UTC	"<p>I currently have a Javascript code that looks like this</p>  <pre><code>var CryptoJS = require(""crypto-js"");  var key = ""bookbookbook""; var msg = ""2020-06-16 20:03:19"";  var signature = CryptoJS.HmacSHA1(msg, key); var checksum = CryptoJS.enc.Utf8.parse(signature);  console.log(""checksum: "" + CryptoJS.enc.Base64.stringify(checksum)); </code></pre>  <p>the checksum is ODNjOWY5NThmYzUxODNkYWM1MjhjZTY3ZTYzYmQxNjE1ZDRkZDQ5Zg==</p>  <p>I tried to convert it to Python</p>  <pre><code>import base64 import time import hmac import hashlib  key = ""bookbookbook"".encode(encoding='utf-8') msg = ""2020-06-16 20:03:19"".encode(encoding='utf-8')  digest = hmac.new(key, msg, hashlib.sha1).digest() checksum = base64.b64encode(digest).decode('utf-8')  print(checksum) </code></pre>  <p>but the checksum returned is this g8n5WPxRg9rFKM5n5jvRYV1N1J8=</p>  <p>How do I make it return the same?</p>"	"<p>I found the solution. Although I do agree with Kaddath the Javascript sucks, I'm unable to alter it due to the fact that  1) it has been been used and running for several years and  2) I'm doing a port to Python, not fixing/updating the original code and 3) ""da bossman"" says just port not fix</p>  <p>Here's the Python code that produces the same output:</p>  <pre><code>import base64 import time import hmac import hashlib import binascii  key = ""bookbookbook"".encode(encoding='utf-8') msg = ""2020-06-16 20:03:19"".encode(encoding='utf-8')  digest = hmac.new(key, msg, hashlib.sha1).digest()  checksum = base64.b64encode(binascii.hexlify(bytearray(digest))) print(""checksum: "", checksum.decode('utf-8')) </code></pre>"
62404345	Javascript HMAC and Python HMAC not returning same hash	javascript|python|hmac	2020-06-16 08:36:58.573000 UTC	"<p>I currently have a Javascript code that looks like this</p>  <pre><code>var CryptoJS = require(""crypto-js"");  var key = ""bookbookbook""; var msg = ""2020-06-16 20:03:19"";  var signature = CryptoJS.HmacSHA1(msg, key); var checksum = CryptoJS.enc.Utf8.parse(signature);  console.log(""checksum: "" + CryptoJS.enc.Base64.stringify(checksum)); </code></pre>  <p>the checksum is ODNjOWY5NThmYzUxODNkYWM1MjhjZTY3ZTYzYmQxNjE1ZDRkZDQ5Zg==</p>  <p>I tried to convert it to Python</p>  <pre><code>import base64 import time import hmac import hashlib  key = ""bookbookbook"".encode(encoding='utf-8') msg = ""2020-06-16 20:03:19"".encode(encoding='utf-8')  digest = hmac.new(key, msg, hashlib.sha1).digest() checksum = base64.b64encode(digest).decode('utf-8')  print(checksum) </code></pre>  <p>but the checksum returned is this g8n5WPxRg9rFKM5n5jvRYV1N1J8=</p>  <p>How do I make it return the same?</p>"	"<p>this step is unnecessary and transforms your data, making the result wrong: <code>var checksum = CryptoJS.enc.Utf8.parse(signature);</code> (<code>Utf8.parse</code> is used to convert an UTF-8 string to wordsArray, but you already have a wordsArray as a result from <code>CryptoJS.HmacSHA1</code>'s call)</p>  <p>Your code should be: (took responsability to change variables names to something more proper)</p>  <pre><code>var CryptoJS = require(""crypto-js"");  var key = ""bookbookbook""; var msg = ""2020-06-16 20:03:19"";  var encrypted = CryptoJS.HmacSHA1(msg, key);  console.log(""encrypted in Base64: "" + CryptoJS.enc.Base64.stringify(encrypted)); </code></pre>  <p><a href=""https://jsfiddle.net/q758dwL0/"" rel=""nofollow noreferrer"">see it in action in a fiddle, you'll see same result as the python code</a></p>"
62431352	Are JavaScript object literals the same thing as Python dictionaries?	javascript|python|dictionary|object-literal	2020-06-17 14:26:34.273000 UTC	<p>I’ve started using JavaScript recently and have noticed a resemblance between JavaScript object literals and python dictionaries. They are used in similar situations and have similar syntax. So are they basically the same thing but with different names?</p>	"<p>it is totally not the same thing. in JS, object literals is a object, so you can combine them with data and function, and you can call the method by dot, just like x.xxx(), and you can deconstruction it with the same symbol {...}, just like other object.</p> <p>but in python, dict is not a object, you can not use dot, and if you want deconstruction, you must use ** for it, by the way, you can deconstruction turple by *</p> <p>summarize: their is nothing just like object literals in python...</p>"
62431352	Are JavaScript object literals the same thing as Python dictionaries?	javascript|python|dictionary|object-literal	2020-06-17 14:26:34.273000 UTC	<p>I’ve started using JavaScript recently and have noticed a resemblance between JavaScript object literals and python dictionaries. They are used in similar situations and have similar syntax. So are they basically the same thing but with different names?</p>	"<p>They have the same structures; <code>key: value</code>. The key could be an array, integer, object etc. Same goes for the value.</p>  <p>Python:</p>  <pre><code>my_python_dictionary = {'name': 'John', age: 5, 123: 'a string'} one_of_the_values_of_my_python_dictionary = my_python_dictionary['name'] </code></pre>  <p>JavaScript:</p>  <pre><code>let myJavaScriptObjectLiteral = {""name"": ""John"", age: 5, 123: ""a string""} let oneOfTheValuesOfMyJavaScriptObjectLiteral = myJavaScriptObjectLiteral[""name""] </code></pre>"
62436893	Transpile python request in Javascript fetch?	javascript|python|post|authorization|fetch	2020-06-17 19:26:35.493000 UTC	"<p>I was wondering how to write this python request in javascript:</p>  <pre><code>url = ""something.something"" data = {""name"":""description""} auth = (""user"",""11111"")  x = requests.post(url, json=data, auth=auth) </code></pre>  <p>I have this so far:</p>  <pre><code>fetch(`something.something`, {       method: 'POST',       header: {         'Content-Type': 'application/json',         'Authorization': 'user:11111',       },       body: {         ""name"": ""description""       } }) </code></pre>  <p>But I have an 403. My guess is that the authorization is formatted incorrectly. </p>"	"<pre><code>auth = (""user"",""11111"")  x = requests.post(url, json=data, auth=auth) </code></pre>  <p>This uses <code>HTTPBasicAuth</code> for authorization. </p>  <p><a href=""https://en.wikipedia.org/wiki/Basic_access_authentication"" rel=""nofollow noreferrer"">Basic HTTP Auth</a> requires the credentials to be passed in the <code>Authorization</code> header like this:</p>  <pre><code>Authorization: Basic &lt;base64(user:password)&gt; </code></pre>  <p>So the javascript example should look something like:</p>  <pre><code>fetch(`something.something`, {       method: 'POST',       header: {         'Content-Type': 'application/json',         'Authorization': 'Basic ' + btoa('user:11111'),       },       body: {         ""name"": ""description""       } }) </code></pre>"
62448747	"How to create simple ""CHAT APP"" using Flask-SocketIO, Python, Javascript?"	javascript|python|flask|socket.io	2020-06-18 11:16:36.007000 UTC	"<p>How can I edit these codes so that when I click the button, the input texts will be appended to the empty unordered lists and be able to broadcast to other ""users""?</p>  <h1>HTML code</h1>  <pre><code>    &lt;body&gt;        &lt;ul&gt;        &lt;/ul&gt;        &lt;input type=""text"" id=""myMessage""&gt;        &lt;button&gt;Send&lt;/button&gt;     &lt;/body&gt; </code></pre>  <h1>Javascript Template code</h1>  <pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {      var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port);      socket.on('connect', () =&gt; {      });      socket.on('announce chat', data =&gt; {      }); });  </code></pre>  <h1>Python code</h1>  <pre><code>app = Flask(__name__) app.config[""SECRET_KEY""] = os.getenv(""SECRET_KEY"") socketio = SocketIO(app)  @app.route(""/"") def index():     return render_template(""index.html"")  @socketio.on(""submit chat"") def chat(data): </code></pre>"	"<p>Well you dont call your submit chat and you should format it like submit_chat not with white space in between.</p>  <p>On your socket.io script you dont have submit_chat called you do have announce chat...</p>  <pre><code> socket.on('submit_chat', data =&gt; {  }); </code></pre>"
62463210	Communicating image data between Python and JavaScript	javascript|python|database	2020-06-19 04:21:39.690000 UTC	"<p>I'm currently working to send image data, in the form the byte arrays, from Python to JavaScript. I tried to use Redis as a means of in-memory, persistent communication channel, but it seems like bad design to force users to separately run <code>redis-cli</code> in the terminal. I tried to see if I can launch a Redis server using Python, but I could not find anything for that either. Is there an efficient, user-friendly way of setting up this type of communication? Would socket programming be a good way of setting up this communication channel as well?</p>"	"<p>To answer my own question, I decided to go down the path of using websockets to achieve bidirectional communication between Python and JavaScript. Specifically, I set up a websocket using <a href=""https://github.com/tornadoweb/tornado"" rel=""nofollow noreferrer"">tornado</a>, setup Python and JavaScript cilents, and communicate via event-driven programming.</p> <p>I really wanted to steer away from calling <code>redis-cli</code> or any other bash commands via subprocess, and I think using websockets is an elegant and efficient solution.</p>"
62463210	Communicating image data between Python and JavaScript	javascript|python|database	2020-06-19 04:21:39.690000 UTC	"<p>I'm currently working to send image data, in the form the byte arrays, from Python to JavaScript. I tried to use Redis as a means of in-memory, persistent communication channel, but it seems like bad design to force users to separately run <code>redis-cli</code> in the terminal. I tried to see if I can launch a Redis server using Python, but I could not find anything for that either. Is there an efficient, user-friendly way of setting up this type of communication? Would socket programming be a good way of setting up this communication channel as well?</p>"	"<p>You can start redis-cli from your python code using <a href=""https://docs.python.org/3/library/subprocess.html"" rel=""nofollow noreferrer"">subprocess</a>. As per my understanding of your problem, you have to use subprocess.Popen(), to run a terminal command in a separate thread(in parallel). If want your python code to wait for the terminal command to finish, you can use subprocess.call()</p>"
62472323	Is javascript date object compatible to python datetime object	javascript|python|django	2020-06-19 14:22:51.510000 UTC	"<p>For example in python, a date can be something like: 2020-06-19T11:32:16.548109Z, is there a way that i can use to convert this to a javascript Date object?</p>"	"<p>If your date from python is serialized into an <a href=""https://www.iso.org/iso-8601-date-and-time-format.html"" rel=""nofollow noreferrer"">ISO 8601</a> date format, then you can simply pass the string into the <code>Date</code> constructor in JavaScript. The precision of the decimal fraction is non-standard, as it is up the the language to decide that.</p>  <pre class=""lang-js prettyprint-override""><code>// 2020-06-19T11:32:16.548Z new Date('2020-06-19T11:32:16.548109Z').toISOString() </code></pre>  <pre class=""lang-js prettyprint-override""><code>// Fri, 19 Jun 2020 11:32:16 GMT new Date('2020-06-19T11:32:16.548109Z').toUTCString() </code></pre>  <hr>  <p><strong>Note:</strong> In Python, the precision of timestamp epochs are to the nearest microsecond. JavaScript will just ignore those when deserializing, because it uses millisecond epochs.</p>  <p>From <a href=""https://en.wikipedia.org/wiki/ISO_8601#General_principles"" rel=""nofollow noreferrer"">Wikipedia</a>:</p>  <blockquote>   <p><em>If necessary for a particular application, the standard supports the addition of a decimal fraction to the smallest time value in the representation.</em></p> </blockquote>  <p>Check this article out, as it explains how different languages handle ISO 8601:</p>  <blockquote>   <p><strong><em><a href=""https://nbsoftsolutions.com/blog/iso-8601-and-nanosecond-precision-across-languages"" rel=""nofollow noreferrer"">ISO 8601 and Nanosecond Precision Across Languages</a></em></strong></p> </blockquote>"
62476447	Python list of dicts not converting properly in javascript GET handler	javascript|python|django|ajax	2020-06-19 18:27:52.740000 UTC	"<p>i am sending data from views.py in Javascript Ajax function, but it was not converting string to dict  here is my  code  //////////////////////////////////// views.py</p>  <pre><code>def SortShop(request,shortby):     items = Item.objects.order_by(shortby)     item_list = []     for item in items:       item_list.append({'name':item.item_name,'title':item.item_titile,                           'pricse':item.item_FrashPricse,'dicsount':item.item_Discount_pricse,                           'image':item.item_image})  return HttpResponse([item_list]) </code></pre>  <p>///////////////////////////////////////////ajax function</p>  <pre><code>$('#sorting').on('change', function(e) {         selected_value = this.value         $.ajax({             type: 'GET',             url: '/shopsorting/' + selected_value,             // data: formData,             encode: true,             success: function(data) {                 y = JSON.stringify(data)                 x = JSON.parse(y)                 console.log(x)              }          });     });     }); </code></pre>  <p>////////////////////////////Result's is </p>  <pre><code>[{'name': 'Shoulder Bag',   'title': 'Boys Shoulder Bag (Yellow )',   'pricse': 15.99,   'dicsount': 0.0,   'image': &lt;ImageFieldFile: man-1.jpg&gt;},  {'name': 'Sweeter',   'title': 'Cotton Sweeter',   'pricse': 19.9,   'dicsount': 0.0,   'image': &lt;ImageFieldFile: product-6.jpg&gt;},  {'name': 'Shirt',   'title': 'Full Sleeves Shirt',   'pricse': 20.99,   'dicsount': 12.99,   'image': &lt;ImageFieldFile: man-4.jpg&gt;},  {'name': 'Jacket',   'title': 'Jackson Jacket',   'pricse': 20.25,   'dicsount': 0.0,   'image': &lt;ImageFieldFile: man-3.jpg&gt;},  {'name': 'Yellow Shoes',   'title': 'Leopard Shoes',   'pricse': 29.99,   'dicsount': 25.99,   'image': &lt;ImageFieldFile: man-2.jpg&gt;},  {'name': 'Bag',   'title': 'Mini Cary Bag',   'pricse': 14.99, 'dicsount': 12.99,   'image': &lt;ImageFieldFile: women-4.jpg&gt;},  {'name': 'Coat',   'title': 'Overcoat (Gray)',   'pricse': 17.7,   'dicsount': 0.0,   'image': &lt;ImageFieldFile: product-3.jpg&gt;},  {'name': 'TOWEL',   'title': 'Pure Pineapple',   'pricse': 19.9,   'dicsount': 0.0,   'image': &lt;ImageFieldFile: women-2.jpg&gt;},  {'name': 'Coat',   'title': 'Pure Pineapple',   'pricse': 17.9,   'dicsount': 11.9,   'image': &lt;ImageFieldFile: product-1.jpg&gt;},  {'name': 'TOWEL',   'title': 'Pure Pineapple (White)',   'pricse': 17.9, 'dicsount': 0.0,   'image': &lt;ImageFieldFile: product-2.jpg&gt;}] </code></pre>"	
62480499	"Need to get links from youtube video page, links are loading through javascript. Using python request module"	python|web-scraping|scrapy	2020-06-20 01:05:33.470000 UTC	<p>I need to read links of videos from below links.</p>  <pre><code>https://www.youtube.com/channel/UCoq5eKuZhG7Dm-63YFUYQog/videos </code></pre>  <p>The links which are loading at the start are easy to get but those are loading after javascript are difficult. Can anyone help me to identify how to get those using Python request module. I do not understand what would be the Post request.</p>	"<p>You can't use request smodule only. You would have to scrape website for those links with Selenium and / or BeautifulSoup. There is plenty of help here about those . </p>  <p>Here is a link to one of my answers which will give you a head start. </p>  <p><a href=""https://stackoverflow.com/a/62480188/13775029"">https://stackoverflow.com/a/62480188/13775029</a></p>  <p>You'll have to search for different div and possibly  tags .</p>"
62480499	"Need to get links from youtube video page, links are loading through javascript. Using python request module"	python|web-scraping|scrapy	2020-06-20 01:05:33.470000 UTC	<p>I need to read links of videos from below links.</p>  <pre><code>https://www.youtube.com/channel/UCoq5eKuZhG7Dm-63YFUYQog/videos </code></pre>  <p>The links which are loading at the start are easy to get but those are loading after javascript are difficult. Can anyone help me to identify how to get those using Python request module. I do not understand what would be the Post request.</p>	"<p>You can use the official API which is straightforward to search for the videos for a specific channel :</p>  <ul> <li>Go to <a href=""https://console.developers.google.com/"" rel=""nofollow noreferrer"">Google Developer Console</a>, search Youtube Data API / enable Youtube Data API v3</li> </ul>  <p><a href=""https://i.stack.imgur.com/nMieAm.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nMieAm.png"" alt=""enable API screen""></a></p>  <ul> <li>Go to Credentials / Create Credentials / API key</li> </ul>  <p><a href=""https://i.stack.imgur.com/fTQw9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fTQw9.png"" alt=""API key screen""></a></p>  <ul> <li><p>install google api client for python :</p>  <pre><code>pip3 install --upgrade google-api-python-client </code></pre></li> </ul>  <p>Use the API key in the script below. This script fetch videos items from channel with id <code>UCoq5eKuZhG7Dm-63YFUYQog</code>, use <a href=""https://github.com/googleapis/google-api-python-client/blob/master/docs/pagination.md#pagination"" rel=""nofollow noreferrer"">pagination</a> to get all of them, and re-create the link from the videoId :</p>  <pre><code>import googleapiclient.discovery from urllib.parse import parse_qs, urlparse import re  #extract channel id from url url = 'https://www.youtube.com/channel/UCoq5eKuZhG7Dm-63YFUYQog/videos' channel_id = re.search('channel\/(.*)\/videos', url).group(1)  print(f'get all videos links from {channel_id}') youtube = googleapiclient.discovery.build(""youtube"", ""v3"", developerKey = ""YOUR_KEY"")  request = youtube.search().list(     channelId = channel_id,     part = ""id"",     maxResults = 50,     type = ""video"" ) response = request.execute()  videos_items = [] while request is not None:     response = request.execute()     videos_items += response[""items""]     request = youtube.search().list_next(request, response)  print(f""total: {len(videos_items)}"") print([      f'https://www.youtube.com/watch?v={t[""id""][""videoId""]}'     for t in videos_items ]) </code></pre>  <p>Output:</p>  <pre><code>get all videos links from UCoq5eKuZhG7Dm-63YFUYQog total: 80 [     'https://www.youtube.com/watch?v=uORsR14S7gw',      'https://www.youtube.com/watch?v=cARHPeZIUs4',      ............     'https://www.youtube.com/watch?v=CF2JO5a2EHE',      'https://www.youtube.com/watch?v=1yLesOxlHs0' ] </code></pre>  <p>If you need more details about the video, use <code>part = ""snippet""</code>, see <a href=""https://developers.google.com/youtube/v3/docs/search/list"" rel=""nofollow noreferrer"">this</a></p>"
62501059	"the javascript of pywebview python library for MacOS is working with a local implementation, but not from a remote web server"	python|macos|macos-catalina|pywebview	2020-06-21 15:59:03.547000 UTC	"<p>I'm quite a noob at any development at all.  So I apologize ahead of time if I'm missing something very trivial.</p> <p>I implemented pywebview on ubuntu and on raspbian, and now I'm trying to do it on MacOS.  the test bed is Catalina 10.15.5.</p> <p>the code I'm running:</p> <pre><code>import os import webview     def get_ip(self):             raw_ip = os.popen('curl https://ipinfo.io/ip').read()             local_ip = raw_ip.replace('\n','')             response = {&quot;ip&quot;: local_ip}             return response window = webview.create_window('PyWebView Test', 'https://website.com/index.html', js_api=api, width=1024, height=768) </code></pre> <p>on this html page, I try to display the public IP of my local machine:</p> <p>so in the html I run is:</p> <pre><code>&lt;html&gt; &lt;body&gt; &lt;h2 class=&quot;text&quot;&gt;Current IP:&lt;/h2&gt; &lt;h2 class=&quot;text&quot; id=&quot;local_ip&quot;&gt;&lt;/h2&gt; &lt;/body&gt; &lt;script&gt;     $(function getipaddress(){     $(document).ready(function () {       pywebview.api.get_ip().then(function(response) {         window.local_ip = response.ip;         $('#local_ip').html(window.local_ip);       })      });     }); &lt;/script&gt; &lt;/html&gt; </code></pre> <p>when I run this code locally, that is</p> <pre><code>window = webview.create_window('PyWebView Test', './index.html', js_api=api, width=1024, height=768) </code></pre> <p>when index.html is in the same folder, I'm able to see the IP address displayed, which is what is desired.</p> <p>I scoured for a solution, I've found <a href=""https://stackoverflow.com/questions/2101611/javascript-alert-not-working-in-embedded-webview"">this</a> which seems close, but I don't know how to implement this fix.  but unable to find what I need, please help!</p>"	"<p>within the JS on the html side, added an on mouse movement function and worked, which was acceptable for my use case.</p>"
62528941	Decode javascript JSON.stringify to dict in Flask Python	python|flask	2020-06-23 06:54:12.310000 UTC	"<p>I converted an array <code>[5,10,1]</code> in javascript to store it in the cookies.</p> <pre><code>JSON.stringify(stored_list)  </code></pre> <p>In my cookies stored as</p> <pre><code>[%225%22%2C%2210%22%2C%221%22] </code></pre> <p>How can I read this now in Flask Python as a dict for example? Because the following code does not work.</p> <pre><code>cookies = request.cookies.get('cart_ids') print(json.loads(str(cookies))) </code></pre>"	"<p>When you use the JSON.stringify, it &quot;urlencodes&quot; the content. To decode this in python you can use <code>urllib</code>:</p> <pre class=""lang-py prettyprint-override""><code>import json from urllib.parse import unquote  encoded_array = &quot;[%225%22%2C%2210%22%2C%221%22]&quot; decoded_array = unquote(encoded_array) assert decoded_array == '[&quot;5&quot;,&quot;10&quot;,&quot;1&quot;]'  array = json.loads(decoded_array) print(array) # ['5', '10', '1'] # At this point it is a list of strings, that you can easily parse to integers using map(int, array). </code></pre>"
62556397	How to extract JSON/Table from a javascript variable in python	python|web-scraping|beautifulsoup|powerbi	2020-06-24 13:36:00.967000 UTC	"<p>I have been trying to <strong>scrape</strong> <a href=""https://support.riverbed.com/content/support/eos_eoa.html"" rel=""nofollow noreferrer"">https://support.riverbed.com/content/support/eos_eoa.html</a> which contains a paginated table generated in javascript.</p> <p>I am currently using beautiful soup to capture the script element. However the variable EOL_ENTRIES hold the data I need but I am unable to parse it. Any tips on how to successfully <strong>scrape</strong> the data.</p> <p>The ultimate aim is to actually put this data in PowerBI, However PBI is only able to <strong>scrape</strong> the first page.</p> <p>Any help is much appreciated.</p> <pre><code>import re from bs4 import BeautifulSoup  http = httplib2.Http() url='https://support.riverbed.com/content/support/eos_eoa.html' resp, data = http.request(url) html = data.decode(&quot;UTF-8&quot;) soup = BeautifulSoup(html, 'html5lib')  #the 37th script which contains the data script_with_data = soup.find_all('script')[37] </code></pre> <p>The Sample output looks like</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt;          var EOL_ENTRIES = [                                                                                                                                                                                                                    {                     productFamily: 'SteelCentral',                     shortName: 'SteelCentral AppInternals Collector v9',                     link: 'https:\/\/support.riverbed.com\/content\/support\/eos_eoa\/steelcentral-cascade-opnet\/SteelCentral-AppInternals-Console-v9-and-AppInternals-Collector-v9-BrowserMetrix-OnPremise.html',                     linkOverride: 'https:\/\/support.riverbed.com\/content\/support\/eos_eoa\/steelcentral-cascade-opnet\/SteelCentral-AppInternals-Console-v9-and-AppInternals-Collector-v9-BrowserMetrix-OnPremise.html',                     sku: 'AIXCOL',                     skuOverride: '',                     description: 'SteelCentral AppInternals Collector v9',                     limitedAvailability: '',                     limitedAvailabilityFormatted: '',                     endOfAvailability: 'Wed Jul 03 00:00:00 PDT 2019',                     endOfAvailabilityFormatted: 'Wed Jul 03 00:00:00 PDT 2019',                     endOfSupportFeatures: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportFeaturesFormatted: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportMaintenance: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportMaintenanceFormatted: 'Sat Aug 31 00:00:00 PDT 2019'} ];                               </code></pre>"	"<p>If you are trying to get the data into Power BI, I would take a different approach: extract the data and load it into a dataframe, which can then be exported to Excel/CSV which PBI can read.</p> <p>So I would try this:</p> <pre><code>import pandas as pd     prods = str(script_with_data).split('var EOL_ENTRIES = [')[1].split('}')[0].replace('\t','').replace('\n','').split(',')     rows = []     for prod in prods:         row = []         row.extend([prod.split(': ')[0],prod.split(': ')[1].replace(&quot;'&quot;,&quot;&quot;)])         rows.append(row)          pd.DataFrame(rows) </code></pre> <p>and from here use standard panda methods to export the dataframe.</p>"
62556397	How to extract JSON/Table from a javascript variable in python	python|web-scraping|beautifulsoup|powerbi	2020-06-24 13:36:00.967000 UTC	"<p>I have been trying to <strong>scrape</strong> <a href=""https://support.riverbed.com/content/support/eos_eoa.html"" rel=""nofollow noreferrer"">https://support.riverbed.com/content/support/eos_eoa.html</a> which contains a paginated table generated in javascript.</p> <p>I am currently using beautiful soup to capture the script element. However the variable EOL_ENTRIES hold the data I need but I am unable to parse it. Any tips on how to successfully <strong>scrape</strong> the data.</p> <p>The ultimate aim is to actually put this data in PowerBI, However PBI is only able to <strong>scrape</strong> the first page.</p> <p>Any help is much appreciated.</p> <pre><code>import re from bs4 import BeautifulSoup  http = httplib2.Http() url='https://support.riverbed.com/content/support/eos_eoa.html' resp, data = http.request(url) html = data.decode(&quot;UTF-8&quot;) soup = BeautifulSoup(html, 'html5lib')  #the 37th script which contains the data script_with_data = soup.find_all('script')[37] </code></pre> <p>The Sample output looks like</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt;          var EOL_ENTRIES = [                                                                                                                                                                                                                    {                     productFamily: 'SteelCentral',                     shortName: 'SteelCentral AppInternals Collector v9',                     link: 'https:\/\/support.riverbed.com\/content\/support\/eos_eoa\/steelcentral-cascade-opnet\/SteelCentral-AppInternals-Console-v9-and-AppInternals-Collector-v9-BrowserMetrix-OnPremise.html',                     linkOverride: 'https:\/\/support.riverbed.com\/content\/support\/eos_eoa\/steelcentral-cascade-opnet\/SteelCentral-AppInternals-Console-v9-and-AppInternals-Collector-v9-BrowserMetrix-OnPremise.html',                     sku: 'AIXCOL',                     skuOverride: '',                     description: 'SteelCentral AppInternals Collector v9',                     limitedAvailability: '',                     limitedAvailabilityFormatted: '',                     endOfAvailability: 'Wed Jul 03 00:00:00 PDT 2019',                     endOfAvailabilityFormatted: 'Wed Jul 03 00:00:00 PDT 2019',                     endOfSupportFeatures: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportFeaturesFormatted: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportMaintenance: 'Sat Aug 31 00:00:00 PDT 2019',                     endOfSupportMaintenanceFormatted: 'Sat Aug 31 00:00:00 PDT 2019'} ];                               </code></pre>"	"<p>The data is in JavaScript, so you need some preprocessing to be able to load it with <code>json</code> module:</p> <pre><code>import re import json import requests from bs4 import BeautifulSoup   url = 'https://support.riverbed.com/content/support/eos_eoa.html' soup = BeautifulSoup(requests.get(url).content, 'html5lib')  # select &lt;script&gt; tag of interest s = soup.find(lambda t: t.name == 'script' and 'var EOL_ENTRIES' in t.text)  # extract string from this script tag t = re.search(r'var EOL_ENTRIES = (\[.*\]);', s.text, flags=re.S)[1]  # preprocess the string t = t.replace(&quot;'&quot;, '&quot;') t = re.sub(r'^(\s*)(.*?):', r'\1&quot;\2&quot;:', t, flags=re.M)  # decode string to Python data data = json.loads(t)  # uncomment this to print all data: # print(json.dumps(data, indent=4))  # print some data to screen: for product in data:     print('{:&lt;40} {:&lt;40} {}'.format(product['sku'], product['productFamily'], product['shortName'])) </code></pre> <p>Prints:</p> <pre><code>AIXCOL                                   SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-AN                                SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-LP                                SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-LP-MODEL                          SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-LS                                SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-LS-MODEL                          SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-SITE                              SteelCentral                             SteelCentral AppInternals Collector v9 AIXCOL-SUB-LIC                           SteelCentral                             SteelCentral AppInternals Collector v9 PANCOL                                   SteelCentral                             SteelCentral AppInternals Collector v9   ... and so on. </code></pre>"
62565087	How can I mimic Python's step argument in JavaScript?	javascript|python|arrays|slice	2020-06-24 22:37:19.323000 UTC	"<p>In Python, I can overwrite elements in an array using slicing syntax and passing a step argument. For example:</p> <pre><code>alist = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] alist[::2] = [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;] print(alist) # ['foo', 2, 'foo', 4, 'foo', 6, 'foo', 8, 'foo', 10] </code></pre> <p>Is there a way to mimic this behavior in JavaScript?</p>"	"<p>Let me know  if this works for you:</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>function range(from, to){   let f = from, t = to;   if(t === undefined){     t = from; f = 0;   }   for(var i=f,r=[]; i&lt;=t; i++){     r.push(i);   }   return r; } function step(a, num, b){   const r = b.slice();   for(let i=num-1,l=a.length; i&lt;l; i+=num){     if(!a.hasOwnProperty(i)){       break;     }     r.splice(i, 0, a[i]);   }   return r; } const aList = range(1, 10), bList = ['foo', 'bar', 'foo', 'bar', 'foo', 'bar']; console.log(step(aList, 2, bList)); console.log(step(aList, 3, bList));</code></pre> </div> </div> </p>"
62565087	How can I mimic Python's step argument in JavaScript?	javascript|python|arrays|slice	2020-06-24 22:37:19.323000 UTC	"<p>In Python, I can overwrite elements in an array using slicing syntax and passing a step argument. For example:</p> <pre><code>alist = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] alist[::2] = [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;] print(alist) # ['foo', 2, 'foo', 4, 'foo', 6, 'foo', 8, 'foo', 10] </code></pre> <p>Is there a way to mimic this behavior in JavaScript?</p>"	"<p>You can use <code>map</code> and return an element from the second list on every even iteration.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>const alist = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]; const blist = [""foo"", ""foo"", ""foo"", ""foo"", ""foo""]; const clist = alist.map((e,i) =&gt; i%2==0?blist[i/2]:e);  console.log (clist)</code></pre> </div> </div> </p>"
62565087	How can I mimic Python's step argument in JavaScript?	javascript|python|arrays|slice	2020-06-24 22:37:19.323000 UTC	"<p>In Python, I can overwrite elements in an array using slicing syntax and passing a step argument. For example:</p> <pre><code>alist = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] alist[::2] = [&quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;, &quot;foo&quot;] print(alist) # ['foo', 2, 'foo', 4, 'foo', 6, 'foo', 8, 'foo', 10] </code></pre> <p>Is there a way to mimic this behavior in JavaScript?</p>"	"<p>You can implement such a function yourself with a <code>for</code> loop.</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-js lang-js prettyprint-override""><code>var alist = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] var alist2 = [""foo"", ""foo"", ""foo"", ""foo"", ""foo""] function overwrite(arr, arr2, step){   for(let i = 0, j = 0; i &lt; arr.length &amp;&amp; j &lt; arr2.length; i += step, j++){     arr[i] = arr2[j];   } } overwrite(alist, alist2, 2); console.log(alist);</code></pre> </div> </div> </p>"
62601392	Python to Javascript via JSON	javascript|python|json	2020-06-26 19:11:42.667000 UTC	"<p>I'm trying to send int data from Python to Javascript. I'd like to use input from python to control elements in Javascript. I'm just having trouble getting data sent from Python's JSON to Javascript. Below are my attempts with little luck, Python code works excellent, how to I get Javascript to read and turn that data into a variable?</p> <p>Thanks in Advance! :)</p> <pre><code>import json          x = 1          while True:              x = int(input())              if 10 &lt;= x &lt;= 900:             x += 100                  print(x)                  json.dumps(x) </code></pre> <p>Javascript:</p> <pre><code>&lt;script type = &quot;text/javascript&quot;&gt;    document.getElementById(&quot;page&quot;).style.fontWeight = json.dumps(x);      &lt;/script&gt; </code></pre>"	<p>I'm assuming you're new to programming since you seem to have an oversimplified understanding of making two units of code communicate. The proper way to do that depends greatly on the context in which the code is executed.</p> <p>From the snippets you included one can guess you want to run Python server-side and JavaScript client-side in the browser. For this setup you probably want to set up a web server or web socket in Python and query it or connect to it with your JS script.</p>
62602424	Python webscraping: HTML instead of Javascript function	python-3.x|web-scraping|beautifulsoup	2020-06-26 20:30:36.810000 UTC	"<p>i am trying to scrape the 4 strings within the red box with python from this URL: <a href=""https://crypto.post.at/CS2/6XFSGJ"" rel=""nofollow noreferrer"">https://crypto.post.at/CS2/6XFSGJ</a></p> <p><a href=""https://i.stack.imgur.com/v9SZT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/v9SZT.png"" alt=""enter image description here"" /></a></p> <p>When inspecting the page i can find the values in the html body. When i try to get the html with Beautiful Soup or urllib.request i get the following</p> <pre class=""lang-html prettyprint-override""><code>&lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt;  &lt;head&gt;     &lt;meta charset=&quot;utf-8&quot; /&gt;     &lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; /&gt;     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot; /&gt;     &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot; /&gt;     &lt;meta name=&quot;description&quot; content=&quot;A physcial-digital stamp collectible for post.at - by capacity.at&quot; /&gt;     &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/logo192.png&quot; /&gt;     &lt;link rel=&quot;manifest&quot; href=&quot;/manifest.json&quot; /&gt;     &lt;title&gt;Crypto stamp 2&lt;/title&gt;     &lt;script type=&quot;text/javascript&quot;&gt;console.log = () =&gt; { }, console.warn = () =&gt; { }, console.error = () =&gt; { }&lt;/script&gt;     &lt;link href=&quot;/static/css/7.b1cfa592.chunk.css&quot; rel=&quot;stylesheet&quot;&gt;     &lt;link href=&quot;/static/css/main.86d5d71a.chunk.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;/head&gt;  &lt;body&gt;&lt;noscript&gt;You need to enable JavaScript to run this dApp.&lt;/noscript&gt;     &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;     &lt;script&gt;!function (e) { function t(t) { for (var n, a, f = t[0], u = t[1], i = t[2], d = 0, s = []; d &lt; f.length; d++)a = f[d], Object.prototype.hasOwnProperty.call(o, a) &amp;&amp; o[a] &amp;&amp; s.push(o[a][0]), o[a] = 0; for (n in u) Object.prototype.hasOwnProperty.call(u, n) &amp;&amp; (e[n] = u[n]); for (l &amp;&amp; l(t); s.length;)s.shift()(); return c.push.apply(c, i || []), r() } function r() { for (var e, t = 0; t &lt; c.length; t++) { for (var r = c[t], n = !0, a = 1; a &lt; r.length; a++) { var u = r[a]; 0 !== o[u] &amp;&amp; (n = !1) } n &amp;&amp; (c.splice(t--, 1), e = f(f.s = r[0])) } return e } var n = {}, a = { 6: 0 }, o = { 6: 0 }, c = []; function f(t) { if (n[t]) return n[t].exports; var r = n[t] = { i: t, l: !1, exports: {} }; return e[t].call(r.exports, r, r.exports, f), r.l = !0, r.exports } f.e = function (e) { var t = []; a[e] ? t.push(a[e]) : 0 !== a[e] &amp;&amp; { 0: 1, 1: 1, 8: 1, 9: 1, 10: 1, 11: 1, 12: 1, 13: 1, 14: 1, 16: 1, 17: 1, 18: 1, 20: 1, 21: 1, 22: 1, 23: 1 }[e] &amp;&amp; t.push(a[e] = new Promise((function (t, r) { for (var n = &quot;static/css/&quot; + ({}[e] || e) + &quot;.&quot; + { 0: &quot;7429d2cd&quot;, 1: &quot;a61c0bf9&quot;, 2: &quot;31d6cfe0&quot;, 3: &quot;31d6cfe0&quot;, 4: &quot;31d6cfe0&quot;, 8: &quot;aeac5f21&quot;, 9: &quot;6ad86d01&quot;, 10: &quot;3bb5f1a4&quot;, 11: &quot;9617c16b&quot;, 12: &quot;f996d814&quot;, 13: &quot;0033f4ad&quot;, 14: &quot;52eb52b6&quot;, 15: &quot;31d6cfe0&quot;, 16: &quot;7d672536&quot;, 17: &quot;f6d29a98&quot;, 18: &quot;543b35a5&quot;, 19: &quot;31d6cfe0&quot;, 20: &quot;9aea3428&quot;, 21: &quot;9aea3428&quot;, 22: &quot;9b3f5997&quot;, 23: &quot;e520eab9&quot;, 24: &quot;31d6cfe0&quot;, 25: &quot;31d6cfe0&quot;, 26: &quot;31d6cfe0&quot;, 27: &quot;31d6cfe0&quot;, 28: &quot;31d6cfe0&quot; }[e] + &quot;.chunk.css&quot;, o = f.p + n, c = document.getElementsByTagName(&quot;link&quot;), u = 0; u &lt; c.length; u++) { var i = (l = c[u]).getAttribute(&quot;data-href&quot;) || l.getAttribute(&quot;href&quot;); if (&quot;stylesheet&quot; === l.rel &amp;&amp; (i === n || i === o)) return t() } var d = document.getElementsByTagName(&quot;style&quot;); for (u = 0; u &lt; d.length; u++) { var l; if ((i = (l = d[u]).getAttribute(&quot;data-href&quot;)) === n || i === o) return t() } var s = document.createElement(&quot;link&quot;); s.rel = &quot;stylesheet&quot;, s.type = &quot;text/css&quot;, s.onload = t, s.onerror = function (t) { var n = t &amp;&amp; t.target &amp;&amp; t.target.src || o, c = new Error(&quot;Loading CSS chunk &quot; + e + &quot; failed.\\n(&quot; + n + &quot;)&quot;); c.code = &quot;CSS_CHUNK_LOAD_FAILED&quot;, c.request = n, delete a[e], s.parentNode.removeChild(s), r(c) }, s.href = o, document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s) })).then((function () { a[e] = 0 }))); var r = o[e]; if (0 !== r) if (r) t.push(r[2]); else { var n = new Promise((function (t, n) { r = o[e] = [t, n] })); t.push(r[2] = n); var c, u = document.createElement(&quot;script&quot;); u.charset = &quot;utf-8&quot;, u.timeout = 120, f.nc &amp;&amp; u.setAttribute(&quot;nonce&quot;, f.nc), u.src = function (e) { return f.p + &quot;static/js/&quot; + ({}[e] || e) + &quot;.&quot; + { 0: &quot;37cb5cd9&quot;, 1: &quot;27668167&quot;, 2: &quot;1935e8bb&quot;, 3: &quot;18c6f29c&quot;, 4: &quot;bb39ce13&quot;, 8: &quot;cabd6ab7&quot;, 9: &quot;8952c698&quot;, 10: &quot;2b03fd70&quot;, 11: &quot;2d167b3a&quot;, 12: &quot;9e30f254&quot;, 13: &quot;46916483&quot;, 14: &quot;2e15bf0e&quot;, 15: &quot;76d9f1c6&quot;, 16: &quot;a529361e&quot;, 17: &quot;f84f46d1&quot;, 18: &quot;685d52a1&quot;, 19: &quot;24283f6b&quot;, 20: &quot;d2e3f4f7&quot;, 21: &quot;35128c16&quot;, 22: &quot;13b7793f&quot;, 23: &quot;97055897&quot;, 24: &quot;69ccb34b&quot;, 25: &quot;690ede0a&quot;, 26: &quot;329c9c33&quot;, 27: &quot;2a536f40&quot;, 28: &quot;65db6d43&quot; }[e] + &quot;.chunk.js&quot; }(e); var i = new Error; c = function (t) { u.onerror = u.onload = null, clearTimeout(d); var r = o[e]; if (0 !== r) { if (r) { var n = t &amp;&amp; (&quot;load&quot; === t.type ? &quot;missing&quot; : t.type), a = t &amp;&amp; t.target &amp;&amp; t.target.src; i.message = &quot;Loading chunk &quot; + e + &quot; failed.\\n(&quot; + n + &quot;: &quot; + a + &quot;)&quot;, i.name = &quot;ChunkLoadError&quot;, i.type = n, i.request = a, r[1](i) } o[e] = void 0 } }; var d = setTimeout((function () { c({ type: &quot;timeout&quot;, target: u }) }), 12e4); u.onerror = u.onload = c, document.head.appendChild(u) } return Promise.all(t) }, f.m = e, f.c = n, f.d = function (e, t, r) { f.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }) }, f.r = function (e) { &quot;undefined&quot; != typeof Symbol &amp;&amp; Symbol.toStringTag &amp;&amp; Object.defineProperty(e, Symbol.toStringTag, { value: &quot;Module&quot; }), Object.defineProperty(e, &quot;__esModule&quot;, { value: !0 }) }, f.t = function (e, t) { if (1 &amp; t &amp;&amp; (e = f(e)), 8 &amp; t) return e; if (4 &amp; t &amp;&amp; &quot;object&quot; == typeof e &amp;&amp; e &amp;&amp; e.__esModule) return e; var r = Object.create(null); if (f.r(r), Object.defineProperty(r, &quot;default&quot;, { enumerable: !0, value: e }), 2 &amp; t &amp;&amp; &quot;string&quot; != typeof e) for (var n in e) f.d(r, n, function (t) { return e[t] }.bind(null, n)); return r }, f.n = function (e) { var t = e &amp;&amp; e.__esModule ? function () { return e.default } : function () { return e }; return f.d(t, &quot;a&quot;, t), t }, f.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, f.p = &quot;/&quot;, f.oe = function (e) { throw console.error(e), e }; var u = this[&quot;webpackJsonpcreate-capacity-app&quot;] = this[&quot;webpackJsonpcreate-capacity-app&quot;] || [], i = u.push.bind(u); u.push = t, u = u.slice(); for (var d = 0; d &lt; u.length; d++)t(u[d]); var l = i; r() }([])&lt;/script&gt;     &lt;script src=&quot;/static/js/7.12875f3a.chunk.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;/static/js/main.8d5a6bd9.chunk.js&quot;&gt;&lt;/script&gt; &lt;/body&gt;  &lt;/html&gt; </code></pre> <p>Here the values in the HTML body are missing and there is just the JavaScript script.</p> <p>How can i scrape this values?</p> <p>Thanks</p>"	"<p>The data is loaded dynamically via JavaScript. You only have to compute <code>token ID</code> from the <code>Stamp Code</code>:</p> <pre><code>import json import requests from bs4 import BeautifulSoup   alphabet = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz' base_count = len(alphabet) def base58_decode(s):     &quot;&quot;&quot; Decodes the base58-encoded string s into an integer &quot;&quot;&quot;     decoded = 0     multi = 1     s = s[::-1]     for char in s:         decoded += multi * alphabet.index(char)         multi = multi * base_count      return decoded  def get_token_id(stamp_id):     n = (base58_decode(stamp_id) &amp; 0xffffff)     return n-150000 if n &gt;= 150000 else n  url = 'https://crypto.post.at/CS2/6XFSGJ' api_url = 'https://crypto.post.at/api/asset/CS2/{}'.format(get_token_id(url.rsplit('/', maxsplit=1)[-1])) data = requests.get(api_url).json()  print(json.dumps(data, indent=4))  print('-' * 80)  print('contract_symbol:', data['contract_symbol']) print('type:', data['type']) print('asset_id:', data['asset_id']) print('color:', data['color']) </code></pre> <p>Prints:</p> <pre><code>{     &quot;asset_id&quot;: &quot;6XFSGJ&quot;,     &quot;color&quot;: &quot;black&quot;,     &quot;contract_address&quot;: &quot;0xa7f87E8D193E29bf1eD050Fdd511B79Fe0264d8B&quot;,     &quot;contract_ensname&quot;: &quot;cs2.cryptostamp.eth&quot;,     &quot;contract_name&quot;: &quot;Crypto stamp Edition 2&quot;,     &quot;contract_symbol&quot;: &quot;CS2&quot;,     &quot;image_path&quot;: &quot;/CS2/image/llama-black&quot;,     &quot;minted&quot;: false,     &quot;network_id&quot;: &quot;1&quot;,     &quot;network_name&quot;: &quot;main&quot;,     &quot;owner&quot;: &quot;0x76192e78957BD40C01321b7aF61C30D5f214580b&quot;,     &quot;owner_ens&quot;: null,     &quot;sales_source_name&quot;: &quot;Physical Sale&quot;,     &quot;sales_source_ocs&quot;: false,     &quot;sales_source_presale&quot;: false,     &quot;shop_deliverable&quot;: false,     &quot;shop_delivery_status&quot;: 0,     &quot;shop_delivery_status_name&quot;: &quot;None&quot;,     &quot;token_id&quot;: 66619,     &quot;total_number_issued&quot;: 240000,     &quot;type&quot;: &quot;llama&quot;,     &quot;uri&quot;: &quot;https://crypto.post.at/CS2/meta/66619&quot;,     &quot;used_in_upgrade&quot;: false } -------------------------------------------------------------------------------- contract_symbol: CS2 type: llama asset_id: 6XFSGJ color: black </code></pre>"
62605237	Translating Javascript Function to Python	javascript|python|angular|encryption|obfuscation	2020-06-27 02:33:14.200000 UTC	"<p>I am far from knowing javascript however am attempting to solve a decode function and translate it to python. Within the sites code it generates a string of length 100 characters which gets plugged into a function called decode as shown here and returns a string of 96 characters in length. I've already started trying to translate this into a usable python function.</p> <pre class=""lang-js prettyprint-override""><code>decode.call(undefined, &quot;TaYWuqsVvO1zjYWnzcZaSyOucBGnvoz7Jiq2RLZBvTk35uaNHlYrwFb8V2fqQqBjVOGPyuu4WD1dMXeX1Si1GqVIWJYXey75PQMS&quot;);  function decode(message) {   /** @type {number} */   var offset = 71 + 28 * 75 + 14 + 38;   if (this.angular.isDate(offset)) {     console.log(&quot;Offset derived as: {&quot;, offset, &quot;}&quot;);   }   return _.replace(message, /./g, function(char, increment) {     return String.fromCharCode((char.charCodeAt(0) * increment + offset) % 77 + 48);   }); } ; </code></pre> <p>Javascript is not my native language so any help and explaining of the different function calls would help a lot. I understand already that in this case our offset is an integer value of 2223. And then we take our message and replace its content. However I am a bit confused by the increment function and the <code>/./g</code> portion.</p>"	"<p>It's not clear in your code what <code>this.angular</code> is all about, but it seems like you are most interested in the string substitution. In python you can do something like:</p> <pre><code>def decode(s):     offset = 71 + 28 * 75 + 14 + 38;     return &quot;&quot;.join(chr((ord(a) * increment + offset)  % 77 + 48) for increment, a in enumerate(s) )  p = decode(&quot;TaYWuqsVvO1zjYWnzcZaSyOucBGnvoz7Jiq2RLZBvTk35uaNHlYrwFb8V2fqQqBjVOGPyuu4WD1dMXeX1Si1GqVIWJYXey75PQMS&quot;) </code></pre> <p>This makes <code>p</code> equal to:</p> <pre><code>'s:&gt;Dy@pe:8BGNueGAhvnQsRohGqRldO1`sk^@NFG=^BK&lt;CoUj^cMB4^sPtfS|N1^K[hUhgBoAJzEss&gt;&lt;l&gt;eeI_wKGOusZ11D_vs]' </code></pre> <p>which is the same value I get in javascript.</p> <p><code>chr()</code> and <code>ord()</code> are roughly the same as <code>String.fromCharCode()</code> and <code>char.charCodeAt()</code>. You can get both the <code>increment</code> and value using <code>enumerate</code>. After that the rest is just math.</p>"
62607340	Decode base64 string sent by javascript to python	javascript|python|jquery|base64|odoo	2020-06-27 07:48:56.580000 UTC	"<p>I'm trying to decode a string in Python sent by jQuery. I don't receive any error, but if I try to open the file, I get encoding error.</p> <p>I'm trying to decode to save in ir.attachment in Odoo, but I think that's not the problem.</p> <p>Currently, I remove 'data:image/jpeg;' at the start of the string sent by js. I'm trying the following code:</p> <pre><code>base64.b64decode('iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAB30lEQVRYhe1XMW6DQBCcQ24j+wdxSxVShc7OC+ImtW0JRJHCyU+IUiGQjF8Q5wXBHV1IE1rnB/YLiC5anNPpMBBwXMQjnQTL6mb27nb3YFmW4ZjQjsr+7wWcBHB0VMaUmX0A9wAMGl369AkgARDqWbxsXUDKzB4AF8C4wP+cBvdbWrYzBPAKYBH43qQOsWU7EYDBbgtSZvJI13vIRayl97FlO24N8pCT82cNP5FHwlLXFcAxs2yndBVI6C7IfAXCAvIFgCmAaxr8eQVgUzD/fJ8I+jYTbewDV3zp3yTfLYCRnsVRSTT5GZBxGfheoiCfy44anXYZkzLyEkSW7RgCuaEi5+BZMJRsqxZSrCuIyM+XEhqllYhW8ptE8LnO9jmpKmGisFXFu+R3AeAJwJ1g25YJaAIe8YNCxC1l0FQOUCXAUNgqI/A9l9JXxA2vHYHvhfI8GtV3EaOmy0BlWRQxDXxPeRA1xQkdpMysVddLRDyqIs/RKWg+bsrMTdN0rNKgOnoWJykzX2ifcvAUek6ZuaIyndd+g+pGT89iuX78Cnk7nhCJ3A8Gedc6FL6zQM/iDUW2PSSZCrs05FsBoK9IISVSZrayBcofkwpXsoiuZUVtuZmAv8TpWn4ScFwBAL4AbIiR9pT9cFoAAAAASUVORK5CYII=') </code></pre>"	"<p>It works very well for me:</p> <pre><code>import base64   elem = base64.b64decode('iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsSAAALEgHS3X78AAAB30lEQVRYhe1XMW6DQBCcQ24j+wdxSxVShc7OC+ImtW0JRJHCyU+IUiGQjF8Q5wXBHV1IE1rnB/YLiC5anNPpMBBwXMQjnQTL6mb27nb3YFmW4ZjQjsr+7wWcBHB0VMaUmX0A9wAMGl369AkgARDqWbxsXUDKzB4AF8C4wP+cBvdbWrYzBPAKYBH43qQOsWU7EYDBbgtSZvJI13vIRayl97FlO24N8pCT82cNP5FHwlLXFcAxs2yndBVI6C7IfAXCAvIFgCmAaxr8eQVgUzD/fJ8I+jYTbewDV3zp3yTfLYCRnsVRSTT5GZBxGfheoiCfy44anXYZkzLyEkSW7RgCuaEi5+BZMJRsqxZSrCuIyM+XEhqllYhW8ptE8LnO9jmpKmGisFXFu+R3AeAJwJ1g25YJaAIe8YNCxC1l0FQOUCXAUNgqI/A9l9JXxA2vHYHvhfI8GtV3EaOmy0BlWRQxDXxPeRA1xQkdpMysVddLRDyqIs/RKWg+bsrMTdN0rNKgOnoWJykzX2ifcvAUek6ZuaIyndd+g+pGT89iuX78Cnk7nhCJ3A8Gedc6FL6zQM/iDUW2PSSZCrs05FsBoK9IISVSZrayBcofkwpXsoiuZUVtuZmAv8TpWn4ScFwBAL4AbIiR9pT9cFoAAAAASUVORK5CYII=')  with open('test_save.jpeg', 'wb') as f:     f.write(elem) </code></pre> <p>Result:</p> <p><a href=""https://i.stack.imgur.com/TJEZI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TJEZI.png"" alt=""enter image description here"" /></a></p> <p>Does it answer your question?</p>"
62631962	How to scrape HTML from a javascript webpage using Python	javascript|python|html|linux|screen-scraping	2020-06-29 05:45:50.250000 UTC	"<p>Trying to parse the html in order to get data from  tags nested inside of  tags, but when I prettify I get javascript. How do I get the information out of this javascript? How do I turn it into html? Is there a better way to get this information? This is my first question and I apologize if I've made any mistakes. Thank you.</p> <p>This is my code:</p> <pre><code>from bs4 import BeautifulSoup as bs import requests  html = requests.get(url) soup = bs(html.content, 'html.parser') print(soup.prettify()) </code></pre> <p>The response is: what looks like byte/string of pre-prettified code followed by</p> <pre><code>&lt;html&gt; &lt;head&gt; &lt;/head&gt; &lt;script language=&quot;javascript&quot;&gt; var strUrl = window.location.href;   if (strUrl.indexOf(&quot;modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftinc.com/home.html&quot;); if (strUrl.indexOf(&quot;www.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftinc.com/home.html&quot;); if (strUrl.indexOf(&quot;http://modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftinc.com/home.html&quot;); if (strUrl.indexOf(&quot;www.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftinc.com/home.html&quot;);   if (strUrl.indexOf(&quot;echecks.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://echecks.modisoftinc.com/Account/Logon&quot;);   if (strUrl.indexOf(&quot;pos.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://pos.modisoftinc.com/Account/Logon&quot;);   if (strUrl.indexOf(&quot;clock.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://clock.modisoftinc.com/Account/Logon&quot;);   if (strUrl.indexOf(&quot;admin11.modisoftinc.com&quot;) &gt; 0)     window.location.replace(&quot;https://admin11.modisoftinc.com/Account/Logon&quot;);     if (strUrl.indexOf(&quot;modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoft.com/home.html&quot;); if (strUrl.indexOf(&quot;www.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoft.com/home.html&quot;); if (strUrl.indexOf(&quot;http://modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoft.com/home.html&quot;); if (strUrl.indexOf(&quot;www.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoft.com/home.html&quot;);   if (strUrl.indexOf(&quot;echecks.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://echecks.modisoft.com/Account/Logon&quot;);  if (strUrl.indexOf(&quot;app.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://app.modisoft.com/Account/Logon&quot;);  if (strUrl.indexOf(&quot;app1.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://app1.modisoft.com/Account/Logon&quot;);  if (strUrl.indexOf(&quot;app2.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://app2.modisoft.com/Account/Logon&quot;);  if (strUrl.indexOf(&quot;pos.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://pos.modisoft.com/Account/Logon&quot;);  if (strUrl.indexOf(&quot;clock.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://clock.modisoft.com/Account/Logon&quot;);      if (strUrl.indexOf(&quot;admin11.modisoft.com&quot;) &gt; 0)     window.location.replace(&quot;https://admin11.modisoft.com/Account/Logon&quot;);    if (strUrl.indexOf(&quot;modisoftrewards.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftrewards.com/index.html&quot;); if (strUrl.indexOf(&quot;www.modisoftrewards.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftrewards.com/index.html&quot;); if (strUrl.indexOf(&quot;http://modisoftrewards.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftrewards.com/index.html&quot;); if (strUrl.indexOf(&quot;www.modisoftrewards.com&quot;) &gt; 0)     window.location.replace(&quot;https://www.modisoftrewards.com/index.html&quot;);          if (strUrl.indexOf(&quot;localhost&quot;) &gt; 0)        window.location.replace(&quot;Account/Logon&quot;); &lt;/script&gt; &lt;body&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>"	"<blockquote> <p>How do I get the information out of this javascript? How do I turn it into html?</p> </blockquote> <p>Yes, you need a browser automation (selenium, headless Chrome) to execute on-site JS. Then upon that, the JS fills in HTML with missing data. Eg.:</p> <ol> <li><p><a href=""https://webscraping.pro/javascript-rendering-library-for-scraping-javascript-sites/"" rel=""nofollow noreferrer"">https://webscraping.pro/javascript-rendering-library-for-scraping-javascript-sites/</a></p> </li> <li><p><a href=""https://webscraping.pro/java-library-to-scrape-linkedin-its-data-affiliates/"" rel=""nofollow noreferrer"">https://webscraping.pro/java-library-to-scrape-linkedin-its-data-affiliates/</a></p> </li> </ol> <h2>Hack</h2> <p>In some cases you might use <code>a bare coding</code> (python, php) to <strong>imitate JS requests</strong> (usually XHR/Ajax) and get the missing info. Eg. <a href=""https://webscraping.pro/scrape-lazy-load-page-python-requests/"" rel=""nofollow noreferrer"">Scrape a JS Lazy load page by Python requests</a></p>"
62633601	HMAC SHA256 in Python vs. JavaScript	javascript|python|hmac|sha|cryptojs	2020-06-29 07:56:50.010000 UTC	"<p>I want to re-implement a certain API client, which is written in Python, in JavaScript. I fail to replicate the HMAC SHA256 signing function. For some keys the output is identical, but for some it is different. It appears that the output is the same when the key consists of printable characters after decoding its Base64 representation.</p> <h2>Python</h2> <pre><code>#!/usr/bin/env python3  import base64 import hashlib import hmac  def sign_string(key_b64, to_sign):     key = base64.b64decode(key_b64)     signed_hmac_sha256 = hmac.HMAC(key, to_sign.encode(), hashlib.sha256)     digest = signed_hmac_sha256.digest()     return base64.b64encode(digest).decode()  print(sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)) print(sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)) print(sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;)) </code></pre> <h2>JavaScript</h2> <pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac-sha256.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js&quot;&gt;&lt;/script&gt;  &lt;script&gt;     function sign_string(key_b64, to_sign) {         key = atob(key_b64)         var hash = CryptoJS.HmacSHA256(to_sign, key);         var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);         document.write(hashInBase64 + '&lt;br&gt;');     }     sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)     sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)     sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;) &lt;/script&gt; </code></pre> <h2>Outputs</h2> <p><strong>Python</strong></p> <pre><code>TdhfUQfym16HyWQ8wxQeNVvJKr/tp5rLKHYQSpURLpw= pQ5NzK3KIWjqc75AXBvWgLK8X0kZvjRHXrLAdxIN+Bk= 8srAvMucCd91CWI7DeCFjxJrEYllaaH63wmVlMk0W+I= </code></pre> <p><strong>JavaScript</strong></p> <pre><code>TdhfUQfym16HyWQ8wxQeNVvJKr/tp5rLKHYQSpURLpw= pQ5NzK3KIWjqc75AXBvWgLK8X0kZvjRHXrLAdxIN+Bk= 31QxOpifnpFUpx/sn336ZmmjkYbLlNrs8NP9om6nPeY= </code></pre> <p>As you can see the first two are the same, while the last is different.</p> <p><strong>How can I change the JavaScript code to behave the same as the python code?</strong></p>"	"<p>The base64 encoded secret you are trying to give to CryptoJs does not represent a valid UTF-8 string, which CryptoJS requires. You can use <a href=""https://onlineutf8tools.com/convert-hexadecimal-to-utf8"" rel=""nofollow noreferrer"">this tool</a> to check for validity. <code>atob()</code> is encoding agnostic and just converts byte by byte, and does not check if it's valid UTF-8.</p> <p>Here I did the decoding of the base64 secret with CryptoJS's own decoder and it throws an error saying it's invalid UTF-8:</p> <pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac-sha256.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js&quot;&gt;&lt;/script&gt;  &lt;script&gt;     function sign_string(key_b64, to_sign) {         var key = CryptoJS.enc.Base64.parse(key_b64).toString(CryptoJS.enc.Utf8);         var hash = CryptoJS.HmacSHA256(to_sign, key);         var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);         document.write(hashInBase64 + '&lt;br&gt;');     }     sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)     sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)     sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;) &lt;/script&gt; </code></pre> <p>I also found a way you can use raw bytes for the key. This works for the last key but not for the first two.</p> <pre><code>var key = CryptoJS.enc.Hex.parse(toHex(atob(key_b64))); </code></pre> <p>Now if you combine these two methods you can have a real solution. This final code gives identical output as python:</p> <pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac-sha256.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js&quot;&gt;&lt;/script&gt;  &lt;script&gt;     function sign_string(key_b64, to_sign) {         try {             var key = CryptoJS.enc.Base64.parse(key_b64).toString(CryptoJS.enc.Utf8);         }         catch {             var key = CryptoJS.enc.Hex.parse(toHex(atob(key_b64)));         }         var hash = CryptoJS.HmacSHA256(to_sign, key);         var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);         document.write(hashInBase64 + '&lt;br&gt;');     }          function toHex(str) {         var result = '';         for (var i=0; i&lt;str.length; i++) {           if (str.charCodeAt(i).toString(16).length === 1) {             result += '0' + str.charCodeAt(i).toString(16);           } else {             result += str.charCodeAt(i).toString(16);           }         }         return result;     }      sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)     sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)     sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;)     sign_string('xTsHZGfWUmnIpSu+TaVraECU88O3j9qVjlwTWGb/C8k=', &quot;my message&quot;) &lt;/script&gt; </code></pre>"
62633601	HMAC SHA256 in Python vs. JavaScript	javascript|python|hmac|sha|cryptojs	2020-06-29 07:56:50.010000 UTC	"<p>I want to re-implement a certain API client, which is written in Python, in JavaScript. I fail to replicate the HMAC SHA256 signing function. For some keys the output is identical, but for some it is different. It appears that the output is the same when the key consists of printable characters after decoding its Base64 representation.</p> <h2>Python</h2> <pre><code>#!/usr/bin/env python3  import base64 import hashlib import hmac  def sign_string(key_b64, to_sign):     key = base64.b64decode(key_b64)     signed_hmac_sha256 = hmac.HMAC(key, to_sign.encode(), hashlib.sha256)     digest = signed_hmac_sha256.digest()     return base64.b64encode(digest).decode()  print(sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)) print(sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)) print(sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;)) </code></pre> <h2>JavaScript</h2> <pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/hmac-sha256.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js&quot;&gt;&lt;/script&gt;  &lt;script&gt;     function sign_string(key_b64, to_sign) {         key = atob(key_b64)         var hash = CryptoJS.HmacSHA256(to_sign, key);         var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);         document.write(hashInBase64 + '&lt;br&gt;');     }     sign_string('VGhpcyBpcyBhIHByaW50YWJsZSBzdHJpbmcuCg==', &quot;my message&quot;)     sign_string('dGhlIHdpbmQgb2YgTXQuIEZ1amkK', &quot;my message&quot;)     sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;) &lt;/script&gt; </code></pre> <h2>Outputs</h2> <p><strong>Python</strong></p> <pre><code>TdhfUQfym16HyWQ8wxQeNVvJKr/tp5rLKHYQSpURLpw= pQ5NzK3KIWjqc75AXBvWgLK8X0kZvjRHXrLAdxIN+Bk= 8srAvMucCd91CWI7DeCFjxJrEYllaaH63wmVlMk0W+I= </code></pre> <p><strong>JavaScript</strong></p> <pre><code>TdhfUQfym16HyWQ8wxQeNVvJKr/tp5rLKHYQSpURLpw= pQ5NzK3KIWjqc75AXBvWgLK8X0kZvjRHXrLAdxIN+Bk= 31QxOpifnpFUpx/sn336ZmmjkYbLlNrs8NP9om6nPeY= </code></pre> <p>As you can see the first two are the same, while the last is different.</p> <p><strong>How can I change the JavaScript code to behave the same as the python code?</strong></p>"	"<p>In the third example you are using different parameters in the python and JavaScript versions. In python: sign_string('xTsHZGfWUmnIpSu+TaVraECU88O3j9qVjlwTWGb/C8k=', &quot;my message&quot;) In JavaScript: sign_string('pkmNNJw3alrpIBi5t5Pxuym00M211oN86IhLZVT8', &quot;my message&quot;)</p>"
62641283	How to use Python Flask in Javascript file(.js)?	javascript|python|flask	2020-06-29 15:17:14.233000 UTC	"<p>When Javascript code was in the HTML file, this was not problem. However, As soon as I moved the contents of the script tag to a js file for use in other HTML files, there was a problem with not being able to read the image. The code is as follows.</p> <p>script.js</p> <pre><code>function mouseOverSelf() {     let img = document.getElementById(&quot;changeImg1&quot;);     let m = document.getElementById(&quot;changeColor1&quot;);     img.src = &quot;{{ url_for('static', filename='img/edit_w.svg') }}&quot;;     m.style.color = &quot;white&quot;; }  function mouseOutSelf() {     let img = document.getElementById(&quot;changeImg1&quot;);     let m = document.getElementById(&quot;changeColor1&quot;);     img.src = &quot;{{ url_for('static', filename='img/edit.svg') }}&quot;;     m.style.color = &quot;black&quot;; }  function mouseOverExcel() {     let img = document.getElementById(&quot;changeImg2&quot;);     let m = document.getElementById(&quot;changeColor2&quot;);     img.src = &quot;{{ url_for('static', filename='img/spreadsheet_w.svg') }}&quot;;     m.style.color = &quot;white&quot;; }  function mouseOutExcel() {     let img = document.getElementById(&quot;changeImg2&quot;);     let m = document.getElementById(&quot;changeColor2&quot;);     img.src = &quot;{{ url_for('static', filename='img/spreadsheet.svg') }}&quot;;     m.style.color = &quot;black&quot;; }  </code></pre> <p>index.html</p> <pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;{{ url_for('static', filename='js/script.js') }}&quot;&gt;&lt;/script&gt; </code></pre> <p>How Can I do?</p>"	"<p>the solution is to include the javascript code (the same with css) via <code>{% block %}</code> tag in the template, not via <code>&lt;script src=&quot;..&quot;&gt;</code> html tag (<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;..&quot;&gt;</code>).</p> <p>you have two option, the javascript code (the same with css) is meant to be loaded and executed for:</p> <ul> <li>a particular page (local)</li> <li>all pages (global)</li> </ul> <p>with <code>jinja2</code> template inheritance mechanism, below how you can do:</p> <p>in <code>base.html</code></p> <pre><code>&lt;!doctype html&gt; &lt;html class=&quot;no-js&quot; lang=&quot;en_US&quot;&gt; &lt;head&gt;   &lt;meta charset=&quot;utf-8&quot;&gt;   &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;   &lt;meta name=&quot;description&quot; content=&quot;{% block description %}{% endblock %}&quot;&gt;   &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;    &lt;link rel=&quot;manifest&quot; href=&quot;{{ url_for('static', filename='site.webmanifest') }}&quot;&gt;   &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;{{ url_for('static', filename='icon.png') }}&quot;&gt;   &lt;link rel=&quot;shortcut icon&quot; href=&quot;{{ url_for('static', filename='favicon.ico') }}&quot;&gt;    {% block stylesheets %}    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css&quot; integrity=&quot;sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=&quot; crossorigin=&quot;anonymous&quot; /&gt;   &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;   {% block stylesheets_others %}{% endblock %}   &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/bootstrap-override.css') }}&quot;&gt;   &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/bootstrap-extend.css') }}&quot;&gt;   &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ url_for('static', filename='css/main.css') }}&quot;&gt;   {% block stylesheets_local %}{% endblock %}    {% endblock %}    &lt;meta name=&quot;theme-color&quot; content=&quot;#fafafa&quot;&gt; &lt;/head&gt; &lt;body&gt;   &lt;!--[if IE]&gt;     &lt;p class=&quot;browserupgrade&quot;&gt;You are using an &lt;strong&gt;outdated&lt;/strong&gt; browser. Please &lt;a href=&quot;https://browsehappy.com/&quot;&gt;upgrade your browser&lt;/a&gt; to improve your experience and security.&lt;/p&gt;   &lt;![endif]--&gt;    {% block body %}     {% include 'includes/header.html' %}     {% block content %}{% endblock %}     {% include 'includes/footer.html' %}   {% endblock %}    {% block javascripts %}    &lt;script src=&quot;{{ url_for('static', filename='js/vendor/modernizr-3.8.0.min.js') }}&quot;&gt;&lt;/script&gt;   &lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot; integrity=&quot;sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;   &lt;script&gt;window.jQuery || document.write('&lt;script src=&quot;{{ url_for('static', filename='js/vendor/jquery-3.4.1.min.js') }}&quot;&gt;&lt;\/script&gt;')&lt;/script&gt;   &lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;   &lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;   {% block javascripts_others %}{% endblock %}   &lt;script src=&quot;{{ url_for('static', filename='js/vendor/vendor.min.js') }}&quot;&gt;&lt;/script&gt;   &lt;script src=&quot;{{ url_for('static', filename='js/plugins.js') }}&quot;&gt;&lt;/script&gt;   &lt;script src=&quot;{{ url_for('static', filename='js/main.js') }}&quot;&gt;&lt;/script&gt;   {% block javascripts_local %}{% endblock %}   &lt;!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. --&gt;   &lt;script&gt;     window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;     ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')   &lt;/script&gt;   &lt;script src=&quot;https://www.google-analytics.com/analytics.js&quot; async&gt;&lt;/script&gt;    {% endblock %} &lt;/body&gt; &lt;/html&gt; </code></pre> <p>in <code>my-page.html</code></p> <pre><code>{% extends 'base.html' %}  [..] {% block stylesheets_local %}   {{ super() }} {# to load the parent assets #}   &lt;style&gt;   /* You &quot;Local&quot; css goes here .. (if any) */   &lt;/style&gt; {% endblock %}  {% block body %}   [..] {% endblock %}   [..] {% block javascripts_local %}   {{ super() }} {# to load the parent assets #}   &lt;script&gt;   // You &quot;Local&quot; javascript code goes here ..   &lt;/script&gt; {% endblock %} </code></pre> <p>if you want to load other javascript or css <strong>external libraries</strong> via e.g: <code>cdn</code> for particular page the logic is the same, you need to extend <code>{% block javascripts_others %}{% endblock %}</code> and <code>{% block stylesheets_others %}{% endblock %}</code> blocks in your template, but don't forget to include <code>{{ super }}</code> to load the parent assets if any.</p> <p>But if you think an external libraries, javascript or css, should be loaded <strong>globally</strong> then add them in <code>base.html</code> respectively below <code>bootstrap</code> and <code>font awesome</code> libs. So with this logic you'll load the assets for any page with the right order with no conflict.</p> <p>But it happens that your code (js or css) is meant to be loaded for <strong>few pages</strong> not all pages (not globally), in this case, create a <strong>separated template</strong> and put you js or css code and include it in the right place and order (like we did previously)</p> <p>in <code>page-1.html</code>, <code>page-2.html</code>, <code>page-3.html</code> ..</p> <pre><code>{% extends 'base.html' %}  [..] {% block stylesheets_local %}    {{ super() }} {# to load the parent assets #}   {% include 'includes/mycss.css.html' %}  {% endblock %}  {% block body %}   [..] {% endblock %}   [..] {% block javascripts_local %}    {{ super() }} {# to load the parent assets #}   {% include 'includes/myscript.js.html' %}  {% endblock %} </code></pre> <p>note how i named partial template just convention, a good practice.</p>"
62666026	Sending a javascript variable to python using forms	javascript|python|python-requests	2020-06-30 20:56:26.203000 UTC	"<p>Suppose I have created a form</p> <pre><code>&lt;form action=&quot; &quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;xyz&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;abc&quot;&gt; &lt;button type=&quot;submit&quot; &gt;submit&lt;/button&gt; &lt;/form&gt; </code></pre> <p>Using this I can access the values with the name &quot;xyz&quot; and &quot;abc&quot;</p> <pre><code>if request.method == &quot;POST&quot;:      val1 = request.form['abc']      val2 = request.form['xyz'] </code></pre> <p>But I also want to access a javascript variable using the same form. Since javascript variable has no identifier as like <code>&lt;input&gt;</code> has 'name', So is there any way to do so?</p>"	<p>If you want to pass a JavaScript variable to python using the form you can add an input field of type hidden with the value of the is variable (you can set it from JavaScript using document.getElementBy... functions)</p>
62669179	What is the execution flow of an await/async program in TypeScript/JavaScript or Python?	javascript|typescript|asynchronous|async-await	2020-07-01 03:22:55.850000 UTC	"<p>For a while know I try to wrap my head around the <strong>internals</strong> of async/await. I am a C++ developer with focus on multithreading and this concepts interferes with how a C++ program is executed.</p> <p>I do understand Promise objects, and the emphasis of concurrent != parallelism, and also the event loop. I can follow the demand to have a single-threaded application that concurrently executes different parts of the program but what &quot;creates&quot; an event on the event loop? Is it the <code>Promise</code> object? Or the <code>async</code> keyword? Or is it something in some I/O functions to not block?</p> <p>The closest concept I know would be the Global Interpreter Lock in Python where several threads wait for a global lock, so Python executes in a round-robin method to let every thread execute a piece of code. But this concept doesn't require an event-loop, and e.g. in JS/TS there is only a single thread involved.</p> <p>Can anyone help me out (or recommend a good resource), so I can understand the execution flow or how I can make sense of this? Thank you so much!</p>"	<p>If you understand a promise then async await is just syntactic sugar.</p> <pre><code>async function() {   doStuff();   const x = await getSomePromise();   doStuffWithX(x); } </code></pre> <p>is the same as</p> <pre><code>function() {   doStuff();   getSomePromise().then(function(data) {     const x = data;     doStuffWithX(x);   }); } </code></pre> <p>The interpreter does the callback wrapping for you.</p>
62680304	Pass value of javascript variable into flask python	javascript|python|flask	2020-07-01 15:33:23.670000 UTC	<p><code>logReg = (Math.exp(ptsCrunch) / (1 + Math.exp(ptsCrunch)) * 100)</code></p> <p>The code above is a javascript variable that I want to pass into an if-else statement in flask. I have used ajax and various @app.route requests but none seems to work. Please help!</p>	"<p>This sample code will help you.</p> <p><strong>Flask:</strong></p> <pre><code>from flask import Flask, render_template, request from flask import jsonify  from flask_cors import CORS,cross_origin app = Flask(__name__) CORS(app, support_credentials=True)   @app.route(&quot;/send&quot;, methods=['GET']) @cross_origin() def post_bot_response():      usr_inp = request.args.get('msg');      ### res = chat(urs_inp)     return 'd' ## return res   if __name__ == '__main__':     app.run(debug=True, port=8009)  ## For deploying the app use `app.run(debug=False, host=&quot;0.0.0.0&quot;, port=80) </code></pre> <p><strong>Html:</strong></p> <pre><code>&lt;div&gt; &lt;div id=&quot;chatBox&quot;&gt; &lt;p class=&quot;botText&quot;&gt;&lt;span&gt;Hi! I'm a chatbot, how can I help you today?&lt;/span&gt;&lt;/p&gt; &lt;/div&gt;  &lt;!-- &lt;form action=&quot;&quot; method=&quot;POST&quot;&gt; --&gt; &lt;input id=&quot;textInput&quot; type=&quot;text&quot; name=&quot;msg&quot; placeholder=&quot;Message&quot;/&gt; &lt;input type=&quot;submit&quot; value=&quot;Send&quot;/&gt; &lt;!-- &lt;/form&gt; --&gt; &lt;/div&gt; &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; function getBotResponse() { var rawText = $(&quot;#textInput&quot;).val(); var userHtml = '&lt;p class=&quot;userText&quot;&gt;&lt;span&gt;' + rawText + &quot;&lt;/span&gt;&lt;/p&gt;&quot;; $(&quot;#textInput&quot;).val(&quot;&quot;); $(&quot;#chatBox&quot;).append(userHtml); document .getElementById(&quot;textInput&quot;) .scrollIntoView({ block: &quot;start&quot;, behavior: &quot;smooth&quot; }); $.get(&quot;http://127.0.0.1:8009/send&quot;, { msg: rawText }).done(function(data) { var botHtml = '&lt;p class=&quot;botText&quot;&gt;&lt;span&gt;' + data + &quot;&lt;/span&gt;&lt;/p&gt;&quot;; $(&quot;#chatBox&quot;).append(botHtml); document.getElementById(&quot;textInput&quot;) .scrollIntoView({ block: &quot;start&quot;, behavior: &quot;smooth&quot; }); });  } $(&quot;#textInput&quot;).keypress(function(e) { if (e.which == 13) {   getBotResponse();  } console.log(&quot;works&quot;); });   &lt;/script&gt; </code></pre>"
62682504	How to get a variable from Javascript in Python	javascript|python|html	2020-07-01 17:42:58.790000 UTC	"<p>I'm trying to make a program that reads a JSON string from a javascript file, and I just can't seem to do it. I can only the opposite of what I want. Here is my code</p> <pre class=""lang-py prettyprint-override""><code>#python 2.7? import sys from subprocess import Popen, PIPE  messages = [] #store messages from send.js sensor = Popen([communication.html, send.js]) buffer = b'' while True:      # read the sensor a character at a time     out = sensor.stdout.read(1)      #after reading     if out = b'\n':         messages.append(float(buffer))         print(messages)         buffer = b''     else:         buffer += out #append to buffer </code></pre> <pre class=""lang-js prettyprint-override""><code>//javascript function sendMsg(){     var msg = document.getElementById('talk').value;     var data = {         &quot;sending&quot;: msg     };     data = JSON.stringify(data) } </code></pre> <pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;!--&lt;script src=&quot;comScrp.py&quot;&gt;&lt;/script&gt;--&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;script src=&quot;send.js&quot;&gt;&lt;/script&gt;         &lt;!--Without the Python, we wouldn't be able to use this without a server or nodeJs.--&gt;         &lt;input id=&quot;talk&quot;&gt;&lt;button onclick=&quot;sendMsg()&quot;&gt;Send&lt;/button&gt;         &lt;p id=&quot;output&quot;&gt;&lt;/p&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre> <p>Thanks!</p>"	
62692345	Opening outlook in python/javascript/shell with an attachment in windows 64bits	python|email|outlook|thunderbird	2020-07-02 08:40:28.113000 UTC	<p>I've been trying to open a mail client (does not have to be outlook) in windows with specified attachment</p> <p>Using <code>mailto</code> option does not open with the attachment and using thunderbird commandline does not work in window machine.</p> <p>Will there be any way to solve this problem (using any of the javascript/python/shell)</p>	"<p>There is no generic way of doing that for all email clients, but for Outlook you can use a script (VBS) similar to the one below. JS or Python will be very similar.</p> <pre><code>set App = CreateObject(&quot;Outlook.Application&quot;) set Item = App.CreateItem(0) Item.Subject = &quot;test&quot; Item.Attachments.Add &quot;c:\temp\test.txt&quot; </code></pre>"
62700658	Python equivalent of the JavaScript bitwise >>>	javascript|python|bitwise-operators	2020-07-02 16:09:13.307000 UTC	"<p>Is there an equivalent of <code>&gt;&gt;&gt;</code> operator of JavaScript in Python. As per <code>&gt;&gt;&gt;</code> definition of JavaScript, the operator,</p> <blockquote> <p>Shifts right by pushing zeros in from the left, and let the rightmost bits fall off</p> </blockquote> <p>So is there any direct operator in python as <code>&gt;&gt;</code> cannot do so in my opinion</p>"	<p>What worked for me is not applying bit shifts to negative numbers and that was the only difference between <code>&gt;&gt;&gt;</code> and <code>&gt;&gt;</code></p>
62700658	Python equivalent of the JavaScript bitwise >>>	javascript|python|bitwise-operators	2020-07-02 16:09:13.307000 UTC	"<p>Is there an equivalent of <code>&gt;&gt;&gt;</code> operator of JavaScript in Python. As per <code>&gt;&gt;&gt;</code> definition of JavaScript, the operator,</p> <blockquote> <p>Shifts right by pushing zeros in from the left, and let the rightmost bits fall off</p> </blockquote> <p>So is there any direct operator in python as <code>&gt;&gt;</code> cannot do so in my opinion</p>"	<p><code>x &lt;&lt; y</code> Returns x with the bits shifted to the left by y places (and new bits on the right-hand-side are zeros). This is the same as multiplying <code>x</code> by <code>2**y</code>.</p> <p><code>x &gt;&gt; y</code> Returns x with the bits shifted to the right by y places. This is the same as integer-dividing <code>x</code> by <code>2**y</code>.</p>
62707514	Any way to automate desktop GUI using Python just like automating web forms with JavaScript?	javascript|python|user-interface|webautomation	2020-07-03 02:14:10.710000 UTC	"<p>As we all know, filling out the web forms automatically is possible using JavaScript. Basically, We find the ID of related element using Inspect (Ctrl + I) in i.e Chrome and write a javascript code in the chrome console to automate what we want to do by code.</p> <p>Just like that, is it possible to automate desktop apps using python? if yes how ?</p>"	"<p><a href=""https://pywinauto.github.io/"" rel=""nofollow noreferrer"">Pywinauto</a>  is a GUI automation library written in pure Python and well developed for Windows GUI.</p>"
62707514	Any way to automate desktop GUI using Python just like automating web forms with JavaScript?	javascript|python|user-interface|webautomation	2020-07-03 02:14:10.710000 UTC	"<p>As we all know, filling out the web forms automatically is possible using JavaScript. Basically, We find the ID of related element using Inspect (Ctrl + I) in i.e Chrome and write a javascript code in the chrome console to automate what we want to do by code.</p> <p>Just like that, is it possible to automate desktop apps using python? if yes how ?</p>"	"<p>You can do this in python using <strong>selenium</strong>. Selenium is an open-source testing tool, used for functional testing and also compatible with non-functional testing. You can refer to this <a href=""https://www.guru99.com/selenium-python.html"" rel=""nofollow noreferrer"">link</a> to get started.</p>"
62710432	Django: Passing multiple keys into AJAX including a JavaScript seralised form and parsing them in python	javascript|python|jquery|django	2020-07-03 07:24:58.487000 UTC	"<p><strong>What I need</strong></p> <p>I'm trying to find a way to send a multi layered dictionary via AJAX to my server, including a JavaScript seralised form with the use of <code>serialize()</code>.</p> <p><strong>The issue</strong></p> <p>When I use <code>data: frm.serialize();</code>. It's a single layered json and it is easily parsed when returned to server with result:</p> <pre class=""lang-py prettyprint-override""><code>&lt;QueryDict: {'csrfmiddlewaretoken': ['6aTZ7xey90sczae15069ZlbIiE7gVWW69RyeJBptUxadbgnBo8t8R0Nskg8S8Jzb', '6aTZ7xey90sczae15069ZlbIiE7gVWW69RyeJBptUxadbgnBo8t8R0Nskg8S8Jzb'], 'days': ['Mon', 'Wed'], 'no_weeks': ['1']}&gt; </code></pre> <p>Then when using a nested dictionary with</p> <pre class=""lang-js prettyprint-override""><code>data: {'form':frm.serialize(),'additional_data':12,'csrfmiddlewaretoken' : $(&quot;input[name=csrfmiddlewaretoken]&quot;).val()}``` </code></pre> <p>I get:</p> <pre class=""lang-py prettyprint-override""><code>&lt;QueryDict: {'form': ['csrfmiddlewaretoken=IF2D4vTBjaQSsrE4oY3Lb36jekPB5nZbLmHSGz4w4HyT4xNEH6qK3II3gWQdiaCg&amp;days=Mon&amp;days=Thu&amp;no_weeks=2&amp;csrfmiddlewaretoken=IF2D4vTBjaQSsrE4oY3Lb36jekPB5nZbLmHSGz4w4HyT4xNEH6qK3II3gWQdiaCg'], 'additional_data': ['12'], 'csrfmiddlewaretoken': ['IF2D4vTBjaQSsrE4oY3Lb36jekPB5nZbLmHSGz4w4HyT4xNEH6qK3II3gWQdiaCg']}&gt; </code></pre> <p><strong>What i've tried</strong></p> <p>I have attempted with use of <a href=""https://stackoverflow.com/a/11281019/11475846"">this answer</a> to use <code>urllib</code> to parse the form section of the data into a separate variable. Like so:</p> <pre class=""lang-py prettyprint-override""><code>x = parse_qs(urllib.parse.urlparse(request.POST['form']).query) </code></pre> <p>This returns an empty dicitonary.</p> <p><strong>Code</strong></p> <p><em><strong>HTML</strong></em></p> <pre class=""lang-html prettyprint-override""><code>&lt;form method=&quot;post&quot; id=&quot;replicate_form&quot;&gt;     [..more code] &lt;/form&gt; </code></pre> <p><em><strong>Javscript</strong></em></p> <pre class=""lang-js prettyprint-override""><code>function send_replication_data() {     var frm = $('#replicate_form')     var form_server_response = submit_formdata(frm) }  // parent function to handle replcation form saving  $('#create_replicate_booking_button').on('click', function() {     send_replication_data()  });  // submit booking data ajax  function submit_formdata(frm) {     var tmp = $.ajax({             type: frm.attr('method'),             async:false,             url: window.location.href,             data: {'form':frm.serialize(),                    'additional_data':12,                    'csrfmiddlewaretoken' : $(&quot;input[name=csrfmiddlewaretoken]&quot;).val()}          });     return tmp.responseJSON; } </code></pre> <p>Possibly I could somehow make use of whatever Django is doing in it's middleware to a parse the form data in the first scenario?</p>"	"<p>The <code>.serialize()</code> method creates a text string in standard <strong>URL-encoded</strong> notation.</p> <p>You could use <code>urllib.parse.parse_qs</code> to parse a query string(form data sent to server by GET) or <code>request.POST['form']</code> since it uses the same encoding.</p> <p>Query strings are element of <strong>urls</strong>, while <code>request.POST['form']</code> has no attribute called <code>query</code></p> <pre><code>from urllib import parse x = parse.parse_qs(request.POST['form'])<del>.query</del>) </code></pre>"
62729679	How to move the slider at specific position in python selenium(i found other solutions but they were either for javascript or java )?	python|python-3.x|selenium|selenium-webdriver|selenium-chromedriver	2020-07-04 13:23:21.747000 UTC	"<p>so this is the code that i use, it works fine but i cant move it to where i want to it seems to always give me a different amount, i want to move the slider range that im trying to slide is min:0 max:10 and i want to want to move the slider using the range(i have tried to adjust the pixel amount but no matter how much i change it it keeps going beyond the point i want it to)?</p> <pre><code>    slider = driver.find_element_by_xpath('/html/body/div[6]/div/div[2]/div[2]/input')     move = ActionChains(driver)     move.click_and_hold(slider).move_by_offset(45, 0).release().perform() </code></pre>"	
62733734	javascript error: circular reference error while trying to retrieve navigator.plugins using Selenium and Python	javascript|selenium|selenium-webdriver|navigator|circular-reference	2020-07-04 19:48:04.940000 UTC	"<p>I'm trying to retrieve the value of <code>navigator.plugins</code> from a <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> driven <a href=""https://stackoverflow.com/questions/51091121/why-doesnt-chromedriver-require-chrome-or-chromium/51096327#51096327"">ChromeDriver</a> initiated <a href=""/questions/tagged/google-chrome"" class=""post-tag"" title=""show questions tagged &#39;google-chrome&#39;"" rel=""tag"">google-chrome</a> <em>Browsing Context</em>.</p> <p>Using <a href=""/questions/tagged/google-chrome-devtools"" class=""post-tag"" title=""show questions tagged &#39;google-chrome-devtools&#39;"" rel=""tag"">google-chrome-devtools</a> I'm able to retrieve <code>navigator.userAgent</code> and <code>navigator.plugins</code> as follows:</p> <p><a href=""https://i.stack.imgur.com/J7NQ3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/J7NQ3.png"" alt=""navigator_userAgent_plugins"" /></a></p> <p>But using <em>Selenium</em>'s <code>execute_script()</code> method I'm able to extract the <code>navigator.userAgent</code> but <code>navigator.plugins</code> raises the following <em>circular reference</em> error:</p> <ul> <li><p>Code Block:</p> <pre><code>from selenium import webdriver   options = webdriver.ChromeOptions()  options.add_argument(&quot;start-maximized&quot;) driver = webdriver.Chrome(options=options, executable_path=r'C:\WebDrivers\chromedriver.exe') driver.get(&quot;https://www.google.com/&quot;) print(&quot;userAgent: &quot;+driver.execute_script(&quot;return navigator.userAgent;&quot;)) print(&quot;plugins: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;)) </code></pre> </li> <li><p>Console Output:</p> <pre><code>userAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36 Traceback (most recent call last):   File &quot;C:\Users\Soma Bhattacharjee\Desktop\Debanjan\PyPrograms\navigator_properties.py&quot;, line 19, in &lt;module&gt;     print(&quot;vendor: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;))   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 636, in execute_script     'args': converted_args})['value']   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 321, in execute     self.error_handler.check_response(response)   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\errorhandler.py&quot;, line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.JavascriptException: Message: javascript error: circular reference   (Session info: chrome=83.0.4103.116) </code></pre> </li> </ul> <p>I've been through the following discussions on <em>circular reference</em> and I understand the concept. But I am not sure how should I address the issue here.</p> <ul> <li><a href=""https://stackoverflow.com/questions/1493453/example-of-a-circular-reference-in-javascript"">Example of a circular reference in Javascript?</a></li> <li><a href=""https://stackoverflow.com/questions/14962018/detecting-and-fixing-circular-references-in-javascript"">Detecting and fixing circular references in JavaScript</a></li> <li><a href=""https://stackoverflow.com/questions/16334440/is-circular-reference-between-objects-a-bad-practice"">Is circular reference between objects a bad practice?</a></li> </ul> <p>Can someone help me to retrieve the <code>navigator.plugins</code> please?</p>"	"<h2>Circular Reference</h2> <p>A <a href=""https://www.tutorialspoint.com/why-circular-reference-is-bad-in-javascript"" rel=""nofollow noreferrer"">circular reference</a> occurs if two separate objects pass references to each other. Circular referencing implies that the 2 objects referencing each other are tightly coupled and changes to one object may need changes in other as well.</p> <hr /> <h2>NavigatorPlugins.plugins</h2> <p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/NavigatorPlugins/plugins"" rel=""nofollow noreferrer"">NavigatorPlugins.plugins</a> returns a <a href=""https://developer.mozilla.org/en-US/docs/Web/API/PluginArray"" rel=""nofollow noreferrer"">PluginArray</a> object, listing the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Plugin"" rel=""nofollow noreferrer"">Plugin</a> objects describing the plugins installed in the application. <code>plugins</code> is <code>PluginArray</code> object used to access <code>Plugin</code> objects either by name or as a list of items. The returned value has the length property and supports accessing individual items using bracket notation (e.g. <code>plugins[2]</code>), as well as via <code>item(index)</code> and <code>namedItem(&quot;name&quot;)</code> methods.</p> <hr /> <p>To extract the <code>navigator.plugins</code> properties you can use the following solutions:</p> <ul> <li><p>To get the list of <em>names</em> of the <code>plugins</code>:</p> <pre><code>print(driver.execute_script(&quot;return Array.from(navigator.plugins).map(({name}) =&gt; name);&quot;)) </code></pre> <ul> <li><p>Console Output:</p> <pre><code>['Chrome PDF Plugin', 'Chrome PDF Viewer', 'Native Client'] </code></pre> </li> </ul> </li> <li><p>To get the list of <em>filename</em> of the <code>plugins</code>:</p> <pre><code>print(driver.execute_script(&quot;return Array.from(navigator.plugins).map(({filename}) =&gt; filename);&quot;)) </code></pre> <ul> <li><p>Console Output:</p> <pre><code>['internal-pdf-viewer', 'mhjfbmdgcfjbbpaeojofohoefgiehjai', 'internal-nacl-plugin'] </code></pre> </li> </ul> </li> <li><p>To get the list of <em>description</em> of the <code>plugins</code>:</p> <pre><code>print(driver.execute_script(&quot;return Array.from(navigator.plugins).map(({description}) =&gt; description);&quot;)) </code></pre> <ul> <li><p>Console Output:</p> <pre><code>['Portable Document Format', '', ''] </code></pre> </li> </ul> </li> </ul>"
62733734	javascript error: circular reference error while trying to retrieve navigator.plugins using Selenium and Python	javascript|selenium|selenium-webdriver|navigator|circular-reference	2020-07-04 19:48:04.940000 UTC	"<p>I'm trying to retrieve the value of <code>navigator.plugins</code> from a <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> driven <a href=""https://stackoverflow.com/questions/51091121/why-doesnt-chromedriver-require-chrome-or-chromium/51096327#51096327"">ChromeDriver</a> initiated <a href=""/questions/tagged/google-chrome"" class=""post-tag"" title=""show questions tagged &#39;google-chrome&#39;"" rel=""tag"">google-chrome</a> <em>Browsing Context</em>.</p> <p>Using <a href=""/questions/tagged/google-chrome-devtools"" class=""post-tag"" title=""show questions tagged &#39;google-chrome-devtools&#39;"" rel=""tag"">google-chrome-devtools</a> I'm able to retrieve <code>navigator.userAgent</code> and <code>navigator.plugins</code> as follows:</p> <p><a href=""https://i.stack.imgur.com/J7NQ3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/J7NQ3.png"" alt=""navigator_userAgent_plugins"" /></a></p> <p>But using <em>Selenium</em>'s <code>execute_script()</code> method I'm able to extract the <code>navigator.userAgent</code> but <code>navigator.plugins</code> raises the following <em>circular reference</em> error:</p> <ul> <li><p>Code Block:</p> <pre><code>from selenium import webdriver   options = webdriver.ChromeOptions()  options.add_argument(&quot;start-maximized&quot;) driver = webdriver.Chrome(options=options, executable_path=r'C:\WebDrivers\chromedriver.exe') driver.get(&quot;https://www.google.com/&quot;) print(&quot;userAgent: &quot;+driver.execute_script(&quot;return navigator.userAgent;&quot;)) print(&quot;plugins: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;)) </code></pre> </li> <li><p>Console Output:</p> <pre><code>userAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36 Traceback (most recent call last):   File &quot;C:\Users\Soma Bhattacharjee\Desktop\Debanjan\PyPrograms\navigator_properties.py&quot;, line 19, in &lt;module&gt;     print(&quot;vendor: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;))   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 636, in execute_script     'args': converted_args})['value']   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 321, in execute     self.error_handler.check_response(response)   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\errorhandler.py&quot;, line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.JavascriptException: Message: javascript error: circular reference   (Session info: chrome=83.0.4103.116) </code></pre> </li> </ul> <p>I've been through the following discussions on <em>circular reference</em> and I understand the concept. But I am not sure how should I address the issue here.</p> <ul> <li><a href=""https://stackoverflow.com/questions/1493453/example-of-a-circular-reference-in-javascript"">Example of a circular reference in Javascript?</a></li> <li><a href=""https://stackoverflow.com/questions/14962018/detecting-and-fixing-circular-references-in-javascript"">Detecting and fixing circular references in JavaScript</a></li> <li><a href=""https://stackoverflow.com/questions/16334440/is-circular-reference-between-objects-a-bad-practice"">Is circular reference between objects a bad practice?</a></li> </ul> <p>Can someone help me to retrieve the <code>navigator.plugins</code> please?</p>"	"<p>I'm assuming it has something to do with the fact that <a href=""https://developer.mozilla.org/en-US/docs/Web/API/NavigatorPlugins/plugins"" rel=""nofollow noreferrer""><code>navigator.plugins</code></a> returns a <a href=""https://developer.mozilla.org/en-US/docs/Web/API/PluginArray"" rel=""nofollow noreferrer"">PluginArray</a>.</p> <p>The <code>PluginArray</code> page lists the methods and properties that are available and with that I wrote this code that returns the list of names. You can adapt it to whatever you need.</p> <pre><code>print(&quot;plugins: &quot; + driver.execute_script(&quot;var list = [];for(var i = 0; i &lt; navigator.plugins.length; i++) { list.push(navigator.plugins[i].name); }; return list.join();&quot;)) </code></pre>"
62733734	javascript error: circular reference error while trying to retrieve navigator.plugins using Selenium and Python	javascript|selenium|selenium-webdriver|navigator|circular-reference	2020-07-04 19:48:04.940000 UTC	"<p>I'm trying to retrieve the value of <code>navigator.plugins</code> from a <a href=""https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491"">Selenium</a> driven <a href=""https://stackoverflow.com/questions/51091121/why-doesnt-chromedriver-require-chrome-or-chromium/51096327#51096327"">ChromeDriver</a> initiated <a href=""/questions/tagged/google-chrome"" class=""post-tag"" title=""show questions tagged &#39;google-chrome&#39;"" rel=""tag"">google-chrome</a> <em>Browsing Context</em>.</p> <p>Using <a href=""/questions/tagged/google-chrome-devtools"" class=""post-tag"" title=""show questions tagged &#39;google-chrome-devtools&#39;"" rel=""tag"">google-chrome-devtools</a> I'm able to retrieve <code>navigator.userAgent</code> and <code>navigator.plugins</code> as follows:</p> <p><a href=""https://i.stack.imgur.com/J7NQ3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/J7NQ3.png"" alt=""navigator_userAgent_plugins"" /></a></p> <p>But using <em>Selenium</em>'s <code>execute_script()</code> method I'm able to extract the <code>navigator.userAgent</code> but <code>navigator.plugins</code> raises the following <em>circular reference</em> error:</p> <ul> <li><p>Code Block:</p> <pre><code>from selenium import webdriver   options = webdriver.ChromeOptions()  options.add_argument(&quot;start-maximized&quot;) driver = webdriver.Chrome(options=options, executable_path=r'C:\WebDrivers\chromedriver.exe') driver.get(&quot;https://www.google.com/&quot;) print(&quot;userAgent: &quot;+driver.execute_script(&quot;return navigator.userAgent;&quot;)) print(&quot;plugins: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;)) </code></pre> </li> <li><p>Console Output:</p> <pre><code>userAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36 Traceback (most recent call last):   File &quot;C:\Users\Soma Bhattacharjee\Desktop\Debanjan\PyPrograms\navigator_properties.py&quot;, line 19, in &lt;module&gt;     print(&quot;vendor: &quot;+driver.execute_script(&quot;return navigator.plugins;&quot;))   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 636, in execute_script     'args': converted_args})['value']   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\webdriver.py&quot;, line 321, in execute     self.error_handler.check_response(response)   File &quot;C:\Python\lib\site-packages\selenium\webdriver\remote\errorhandler.py&quot;, line 242, in check_response     raise exception_class(message, screen, stacktrace) selenium.common.exceptions.JavascriptException: Message: javascript error: circular reference   (Session info: chrome=83.0.4103.116) </code></pre> </li> </ul> <p>I've been through the following discussions on <em>circular reference</em> and I understand the concept. But I am not sure how should I address the issue here.</p> <ul> <li><a href=""https://stackoverflow.com/questions/1493453/example-of-a-circular-reference-in-javascript"">Example of a circular reference in Javascript?</a></li> <li><a href=""https://stackoverflow.com/questions/14962018/detecting-and-fixing-circular-references-in-javascript"">Detecting and fixing circular references in JavaScript</a></li> <li><a href=""https://stackoverflow.com/questions/16334440/is-circular-reference-between-objects-a-bad-practice"">Is circular reference between objects a bad practice?</a></li> </ul> <p>Can someone help me to retrieve the <code>navigator.plugins</code> please?</p>"	"<p>There might be a serialization issue when you query a non-primitive data structure from a browser realm. By closely inspecting the hierarchy of a single plugin, we can see it has a recursive structure which is an issue for the serializer. <a href=""https://i.stack.imgur.com/MJzr3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MJzr3.png"" alt=""enter image description here"" /></a></p> <p>If you need a list of plugins, try returning just a serialized, newline-separated string and then split it by a newline symbol in the Python realm.</p> <p>For example:</p> <pre><code>plugins = driver.execute_script(&quot;return Array.from(navigator.plugins).map(({name}) =&gt; name).join('\n');&quot;).split('\n') </code></pre>"
62736697	How to receive a JavaScript variable (two-dimensional array) in Python	javascript|python	2020-07-05 04:05:08.667000 UTC	"<h1>What I want to do</h1> <p>By Python (ver 3.7.7), I read a local htm file using an IE browser(I have to use IE 11) and use JavaScript to generate a two-dimensional array variable (element's id and height in IE browser). I want to receive this variable in Python but I cannot now. Using this varible, I will conduct some data analysis.</p> <h2>Codes</h2> <p>This is a local htm file (sample.htm).</p> <pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt;     &lt;head&gt;         &lt;meta charset=&quot;UTF-8&quot;&gt;     &lt;/head&gt;     &lt;body&gt;         &lt;section class=&quot;contents&quot;&gt;             &lt;p id=&quot;p1&quot;&gt;test&lt;/p&gt;             &lt;p id=&quot;p2&quot;&gt;test&lt;br&gt;test&lt;br&gt;test&lt;/p&gt;         &lt;/section&gt;         &lt;script src=&quot;./script.js&quot;&gt;&lt;/script&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre> <p>JavaScript code in the above htm file(script.js).</p> <pre class=""lang-js prettyprint-override""><code>var all_ids = document.querySelectorAll(&quot;[id]&quot;); var id_height_list = [];  for (var cnt = 0; cnt &lt; all_ids.length; cnt++){     var temp_list = [];     var temp_id = all_ids[cnt].id;     var temp_size = all_ids[cnt].getBoundingClientRect();      temp_list.push(temp_id);     temp_list.push(temp_size.height);      id_height_list.push(temp_list) } </code></pre> <p>Now, I use the below Python code to open the htm file by IE 11.</p> <pre class=""lang-py prettyprint-override""><code>import webbrowser url = &quot;path\to\sample.htm&quot;  browser = webbrowser.get(&quot;path\to\iexplore.exe&quot;) browser.open(url) </code></pre> <p><em>id_height_list</em> in JavaScript is the variable I want to receive in Python. Futhermore, because I have more than 10,000 htm files which I apply this code to, no manual intervention (e.g. click to save the variable) is favorable.</p> <p>If you have ideas to receive this JavaScript variable in Python, please advise me. Thank you.</p>"	
62747582	Can I connect Python To JavaScript in PyQt5 QWebEngine?	javascript|python|pyqt|pyqt5|qwebenginepage	2020-07-06 00:01:33.603000 UTC	"<p>I've setup a basic PyQt5 GUI window, with a QWebEngine web browser element in the centre, and I'd like a good way to go about setting up the following:</p> <p>I'd like the web browser to show a local HTML file, and when you press a certain button on the page, it will call a python function, which will in turn update some content in the html.</p> <p>this is what I've got so far; I've tried a lot of different methods but all of them seemed to be for PyQt4 and not using QWebEngine.</p> <pre><code>import sys, os import PyQt5 from PyQt5.QtCore import * from PyQt5.QtWidgets import * from PyQt5.QtGui import * from PyQt5.QtWebEngineWidgets import *   class WindowC(PyQt5.QtWidgets.QMainWindow):      def __init__(self, *args, **kwargs):         super(WindowC,self).__init__(*args, **kwargs)          self.directory = os.getcwd()          self.browser = QWebEngineView()         self.setCentralWidget(self.browser)          local_url = QUrl.fromLocalFile( os.path.join( self.directory, &quot;page.html&quot; ) )         self.browser.load(local_url)   app = PyQt5.QtWidgets.QApplication(sys.argv) window = WindowC() window.show() app.exec_() </code></pre> <p>Sorry if the question's a bit vague</p>"	
62753694	Variables in pandas table are not updated during the cell running in Jupyter notebook: Problem in calling python function from javascript	javascript|python|pandas|dataframe|jupyter-notebook	2020-07-06 10:04:15.360000 UTC	"<p>I am making a code in Jupyter notebook using pandas, python, and javascript. <br> I want to monitor the prices of products, here let's say the products' numbers as &quot;1234&quot; and &quot;5678&quot;. <br> This table is renewed every 5 seconds, then new prices are appended and the links to buy them are attached on the bottom of the table. In addition, I also want to display together the click counter(df_cnt), i.e. the number you clicked the links in the pandas table so far during the cell in the for loop running (#In[7] shown below). <br> The clickable link in pandas table calls javascript function add(var1) #In[2] and then this add(var1) executes python function add_func(x) #In[4], which increments click counts for each product.</p> <p><strong>Problem</strong></p> <p>The problem is that the displayed counter(df_cnt) in #In[7] is not updated even if I clicked the links during the cell is running in #In[7], while after the for loop is finished, the counter (df_cnt) is updated correctly in the next cell (#In[8] shown below).</p> <p><strong>What I tried</strong></p> <p>I tried to change the command in the javascript from  <br></p> <pre><code>kernel.execute( &quot;df_cnt=add_func(&quot;+ var1 + &quot;)&quot;) ; </code></pre> <p>to</p> <pre><code>kernel.execute( &quot;df_cnt[&quot;+ var1 + &quot;] += 1&quot;) ; </code></pre> <p>but the result was the same.</p> <p>How can I dynamically update the pandas table df_cnt in in #In[7]? I appreciate any comments or suggestions.</p> <p><strong>Code</strong></p> <pre><code># In[1]: import pandas as pd import copy from random import randint  from time import sleep from IPython.display import display, clear_output  %%html # In[2]: &lt;script&gt; function add(var1) {         var kernel = IPython.notebook.kernel;         kernel.execute( &quot;df_cnt=add_func(&quot;+ var1 + &quot;)&quot;) ;           alert(var1 + &quot; is clicked.&quot; ) ;      }; &lt;/script&gt;  # In[3]: def row_wise_clickable_add(val):     return f'&lt;a  onclick=&quot;add(%s)&quot; target=&quot;_blank&quot;&gt;%s&lt;/a&gt;'%(val,val)  # In[4]: def add_func(x):     global df_cnt     df_cnt[x] +=1     return df_cnt  # In[5]: df_cnt=pd.DataFrame([[0,0]],columns=[1234,5678])  # pandas table for click counter df=pd.DataFrame([[0,0 ]],columns=[1234,5678]  ) # pandas table for price monitoring </code></pre> <p>This is the function for monitoring.</p> <pre><code># In[6]: def monitor():     global df,df_cnt     sleep(5)     df_new=pd.DataFrame(data=[[int(randint(1,10)) for _ in range(2) ]],columns=[1234,5678])     df=df.append(df_new,sort=False).reset_index(drop=True)          df2=df.copy()     df_tmp=pd.DataFrame([df2.columns.tolist()],columns=df2.columns)     df2=df2.append(df_tmp.astype(int).rename(index={df_tmp.index[-1]: 'buy'}))     s=df2.style.format(row_wise_clickable_add, subset=pd.IndexSlice[ df2.index[-1], df2.columns.tolist()[0:]])     clear_output()     return s </code></pre> <p>After definition of functions, and initialization of pandas tables, main part starts.</p> <pre><code># In[7]: for k in range(7):      s=monitor()     print(&quot;Price monitor:&quot;)     display(s)     print(&quot;Click counter: &quot;)     display(df_cnt) # not updated while running this cell... </code></pre> <p>After finished the cell above, pandas table for click counter is updated, but not within the for loop shown above...</p> <pre><code># In[8]: df_cnt  </code></pre>"	
62799729	How do i use a python variable in the middle of a javascript code?	javascript|python-3.x	2020-07-08 16:52:21.750000 UTC	<p>How do I use a python variable in the middle of a javascript code?</p> <p>I want to put the variable where it says <code>'test';</code></p> <pre><code>test = 'Lorem ipsum dolor sit amet'  driver.execute_script(&quot;document.querySelector('#react-root').innerText = 'test';&quot;) </code></pre>	"<p>You just have to use <a href=""http://zetcode.com/python/fstring/"" rel=""nofollow noreferrer"">string interpolation</a>:</p> <pre><code>test = 'Lorem ipsum dolor sit amet'  driver.execute_script(f&quot;document.querySelector('#react-root').innerText = '{test}';&quot;)  </code></pre>"
62812295	Selenium for crawling javascript in python : using page_source	javascript|python|selenium	2020-07-09 09:57:54.873000 UTC	"<p>Try to Crawling website's data but these are edited by javascript. So, quit to use beautifulSoup and changed to Selenium. But, the result is same as follow my code. As I know, using Selenium, can crawling javascripts htmls, but I couldn't find out these...</p> <pre><code>import requests from bs4 import BeautifulSoup as bs from selenium import webdriver  for url in Url_Number: driver = webdriver.Chrome(C:\Python_Study\chromedriver.exe.') driver.implicitly_wait(3) Real_url = 'http://www.sbiz.or.kr/sijangtong/nation/onnuri/pop/onnuriShopListPopup.do?cpage=1&amp;mkt_cd=100101&amp;mkt_gubun=O&amp;shop_table=SJTT.MKT_ELE_SHOP' driver.get(Real_url) html=driver.page_source  print(html) </code></pre> <blockquote> <p>the result of print(html), couldn't figure out table's data which are written as javascript...</p> </blockquote> <p>How could I approach javascript data by using selenium??</p>"	
62818066	Python / JavaScript - WebSockets connection problem	javascript|python|websocket|portforwarding|dmz	2020-07-09 15:11:55.377000 UTC	"<p>I am having several errors with a <strong>WebSockets</strong> server.</p> <p>Previously, I had a lot of problems in acknowledging the server when a connection was established. In the bind address, I have the empty string which is equal to <code>0.0.0.0</code> so I thought that the problem may come from there. For now, the client can only know that it has been connected when the server stops the <code>time</code> async function. I sometimes get the error</p> <p><code>send.html:14 WebSocket connection to ws://86.205.245.32:5678/ failed: WebSocket opening handshake timed out</code></p> <p>but rarely.</p> <p><em><strong>I have lots of questions that can maybe answer this post.</strong></em></p> <ul> <li><p>Can using subprotocol help? If yes, how to use it with a Python server?</p> </li> <li><p>Can using WSS help?</p> </li> <li><p>Do I need to change the bind IP of <code>0.0.0.0</code> to another?</p> </li> </ul> <p><em><strong>The Server</strong></em></p> <pre><code>print(&quot;start serveur&quot;) import time, websockets, asyncio  async def time(websocket, path):     print(&quot;connect&quot;)     print(websocket)     print(await websocket.recv()) start_server = websockets.serve(time, &quot;&quot;, 5678) loop=asyncio.get_event_loop()   loop.run_until_complete(start_server)   loop.run_forever() </code></pre> <p><em><strong>Server's Traceback</strong></em></p> <pre><code>Error in connection handler Traceback (most recent call last):   File &quot;/usr/lib/python3.5/asyncio/tasks.py&quot;, line 241, in _step     result = coro.throw(exc)   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 674, in transfer_data     message = yield from self.read_message()   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 742, in read_message     frame = yield from self.read_data_frame(max_size=self.max_size)   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 815, in read_data_frame     frame = yield from self.read_frame(max_size)   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 884, in read_frame     extensions=self.extensions,   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/framing.py&quot;, line 99, in read     data = yield from reader(2)   File &quot;/usr/lib/python3.5/asyncio/streams.py&quot;, line 668, in readexactly     yield from self._wait_for_data('readexactly')   File &quot;/usr/lib/python3.5/asyncio/streams.py&quot;, line 458, in _wait_for_data     yield from self._waiter   File &quot;/usr/lib/python3.5/asyncio/futures.py&quot;, line 380, in __iter__     yield self  # This tells Task to wait for completion.   File &quot;/usr/lib/python3.5/asyncio/tasks.py&quot;, line 304, in _wakeup     future.result()   File &quot;/usr/lib/python3.5/asyncio/futures.py&quot;, line 285, in result     raise CancelledError concurrent.futures._base.CancelledError  The above exception was the direct cause of the following exception:  Traceback (most recent call last):   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/server.py&quot;, line 169, in handler     yield from self.ws_handler(self, path)   File &quot;webserveur.py&quot;, line 8, in time     print(await websocket.recv())   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 434, in recv     yield from self.ensure_open()   File &quot;/usr/local/lib/python3.5/dist-packages/websockets/protocol.py&quot;, line 658, in ensure_open     ) from self.transfer_data_exc websockets.exceptions.ConnectionClosed: WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason </code></pre> <p><em><strong>The Client</strong></em></p> <pre><code>&lt;script&gt;     alert(&quot;hello&quot;);      var ws = new WebSocket(&quot;ws://86.205.245.32:5678/&quot;  );//1*              ws.onopen = function (event) {        alert(&quot;had a handshake answer that cause a connection&quot;);        ws.send(&quot;hello&quot;);     }  &lt;/script&gt; </code></pre> <p><em><strong>WebSockets Request</strong></em></p> <pre><code>General Request URL: ws://86.205.245.32:5678/ Request Headers Provisional headers are shown Accept-Encoding: gzip, deflate Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,fr;q=0.7 Cache-Control: no-cache Connection: Upgrade Host: 86.205.245.32:5678 Origin: file:// Pragma: no-cache Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits Sec-WebSocket-Key: M+CfTACesBfbhkWnFclrsA== Sec-WebSocket-Version: 13 Upgrade: websocket User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36 </code></pre> <p>I want to use <em><strong>DMZ</strong></em> because my network is very strange with lots of protection, so I think that putting the server in a <em><strong>Demilitarize zone</strong></em> will help. For now, I can't tell you if it will be helpful because for now when the client execute the line <code>1* see on the client code</code> it can't connect to the server. What is strange is that without <em><strong>DMZ</strong></em> and the server on a Windows computer, it's the same but for sending data, the client can only see the data of the server when the server closes the connection.</p> <p><em><strong>What did I try</strong></em></p> <ul> <li>I tried to deactivate the firewall</li> <li>I asked questions on StackOverflow</li> </ul> <p>I often have this issues when I close the server during the client execution, even if it doesn't execute the block <code>time</code> that prints <code>print(&quot;connect&quot;)</code>:</p> <pre><code>Task was destroyed but it is pending! task: &lt;Task pending coro=&lt;WebSocketServerProtocol.handler() running at /usr/local/lib/python3.5/dist-packages/websockets/server.py:117&gt; wait_for=&lt;Future pending cb=[Task._wakeup()]&gt;&gt; </code></pre> <p>I also changed the client's code as follows but without success.</p> <pre><code>var ws = new WebSocket(&quot;ws://86.205.245.32:5678/&quot;),         messages = document.createElement('ul');          ws.onopen = function (event) {         alert(&quot;connect&quot;);         ws.send(&quot;hello&quot;);                  } </code></pre> <p><em><strong>The Hardware</strong></em></p> <ul> <li><p>A Windows computer (client)</p> </li> <li><p>A Rasberry Pi (server)</p> </li> </ul> <p><em>Thanks for helping and let me know if you already had this issue and what have you done to solve it. Or if you have found errors in the code that could cause this type of problem</em></p> <p>THANKS</p>"	"<p>I tried to reproduce your issue, but my opinion is that your problem is caused by your network infrastructure.</p> <p>The <em><strong>server</strong></em> and the <em><strong>client</strong></em> are very basic and they work smoothly.</p> <p>Divide your problem into different phases:</p> <ol> <li>Use your local environment to debug the code (<strong>client</strong> and <strong>server</strong> in <code>localhost</code>, on your PC)</li> <li>Use your local network to have the first segregation between the <strong>client</strong> and the <strong>server</strong></li> <li>Use some free plans on Cloud Providers to test extended networking (AWS, GCP, DigitalOcean)</li> </ol> <p>Some suggestions may be:</p> <ul> <li>Disable completely the Windows Firewall</li> <li>Check out that you don't have Firewalls on your Linux Distro (UFW, IPTables...)</li> <li>Use the LAN IP of your Raspberry Pi for testing instead of its public IP</li> <li>Make sure that in your <em>Livebox Play</em> you don't have a Firewall in place or some routing rules</li> </ul>"
62839889	"Send simple TCP messages in JavaScript, similarly to Python .socket"	javascript|python|node.js|sockets|tcp	2020-07-10 17:59:31.980000 UTC	"<p>Coming from Python, I am trying to achieve a similar result using <code>JavaScript</code> and <code>node.js</code>.</p> <p>I am trying to send a simple TCP message across a network. In <code>Python</code>, I would achieve this in the following way:</p> <pre><code>import socket  device_ip = '192.168.0.10' device_port = 20000  s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.settimeout(5) s.connect((device_ip, device_port))  command = ('Message to be sent to device here') s.sendall(command.encode()) s.recv(4096) </code></pre> <p>I have looked at node's <code>socket.io</code> module, but I couldn't find anything as simple as the above solution in <code>Python</code>.</p> <p>The device at the end of <code>device_ip</code> will respond to the message so long as it is TCP encoded, it will then just send back an <code>Ack</code> message which the JS can effectively ignore. The <code>Ack</code> messages only exist as a simple handshake before sending another message. I have the <code>Python</code> code working as desired, but I find myself needing to run this with <code>JS</code> and <code>Node</code>.</p>"	"<p>Node provides the <code>Net</code>-<a href=""https://nodejs.org/api/net.html#net_net"" rel=""nofollow noreferrer"">module</a> which basically allows you to create tcp-server and client sockets. Here's a very simple example for a server-socket:</p> <pre><code>const net = require('net'); const server = net.createServer((c) =&gt; {     console.log('client connected');     c.on('end', () =&gt; {         console.log('client disconnected');     });     c.write('hello\r\n');     c.pipe(c); });  server.listen(20000, () =&gt; {     console.log('server socket listening ...'); }); </code></pre> <p>And here's the code for a corresponding client-socket:</p> <pre><code>const net = require('net'); const client = net.createConnection({ port: 20000}, () =&gt; {     client.write('world!\r\n'); }); client.on('data', (data) =&gt; {     console.log(data.toString());     client.end(); }); </code></pre>"
62845612	Unable to click buttons using Selenium with Python (JavaScript did not work either)	javascript|python|selenium	2020-07-11 05:37:58.397000 UTC	"<p><a href=""https://www.fire.ca.gov/incidents/2018/"" rel=""nofollow noreferrer"">https://www.fire.ca.gov/incidents/2018/</a>[enter image description here][1]</p> <p>[1]: <a href=""https://i.stack.imgur.com/c6Z5K.png**strong"" rel=""nofollow noreferrer"">https://i.stack.imgur.com/c6Z5K.png**strong</a> text**</p> <p>The idea was trying to pull all the acres burnt on total of 31 pages. Tried with regular click and JS click but both failed. No error was reported it was just the buttons that was not functional --- It never left page 1 so basically I got the same numbers 31 times.</p> <p>Any useful advice will be much appreciated cuz I literally spent a whole day trying to click several god damn buttons.</p> <pre><code>for i in range(31):     records = driver.find_elements_by_class_name('responsive-table-row')     for n in range(1,11):         record_single = records[n].find_elements_by_class_name('responsive-table-cell')         try:             acres = record_single[3].find_element_by_tag_name('span').text           except:             acres = 'N/A'              ws.append([acres])      buttons = driver.find_element_by_class_name('pagination-navigation')     button_parent = buttons.find_element_by_tag_name('ul')     button_list = button_parent.find_elements_by_tag_name('li')      if i &lt;30:         #button_list[i+1].click         driver.execute_script('arguments[0].click()',button_list[i+1])         time.sleep(3) </code></pre>"	"<p>Button_list contains the li's.</p> <p>Your script is attempting the click the list items (li) structure , not the anchor within it (a). If you look at the source, the li doesn't contain anything. The anchor contains  javascript href and should fire the event to navigate the page.</p> <p>In your solution, in your loop at the end, you'll want to do something like:</p> <pre><code>Button_list[i+1].find_element_by_tag_name('a').click </code></pre> <p>Alternatively, you can combine all those finds into 1 xpath.  Open chromedevtools, press control+f and enter this: <em>[edit] updated xpath</em></p> <pre><code>//*[@class='pagination-navigation']/ul/li </code></pre> <p>That will create a list of all the li's.</p> <p><em>[edit] Added this bit</em></p> <p>Additionally, you can add the <code>/a</code> to the end and directly create a a list of buttons (still using find element<strong>s</strong>):</p> <pre><code>//*[@class='pagination-navigation']/ul/li/a </code></pre> <p>In my dev tools, this matches 31 elements.</p> <p>That returns multiple matches and you can use that to populate your button_list. There's lots of resources out there to help you learn how to use xpath - just give it a Google :-)</p>"
62869304	Python Web Scraping that involves javascript element	python|web-scraping|beautifulsoup	2020-07-13 04:34:02.670000 UTC	"<p>I amt trying to get the size and stock information whether it is out of stock or in stock. <a href=""https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577"" rel=""nofollow noreferrer"">https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577</a></p> <p>It looks like I have to click on each sizing manually,  and the button will either show &quot;SOLD OUT&quot; or &quot;Add to CART&quot;.</p> <p>I am able to retrieve basic information from the HTML  page, but this looks like a JS event.</p> <p>When I click on the size, the url changes to</p> <p><a href=""https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577?variant=32432939466823"" rel=""nofollow noreferrer"">https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577?variant=32432939466823</a></p> <p>There is additional &quot;variant=32432939466823 &quot;</p> <p>I was thinking I can manually figure out what the variant is, then use request to load the page again and then try to get the button info and determine whether it's in stock or out of stock.</p> <p>Are there any alternatives that I can request once and interact with the sizings to check the stocks?</p> <pre><code>url = &quot;https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577&quot;  source = requests.get(url).text  soup = BeautifulSoup(source, 'lxml') </code></pre>"	"<p>By looking at the networking tab in your Browser you find a <code>JSON</code> that contains all the products - you can load this data simply by adding <code>.json</code> to the URL. This does not contain stock information, though, as this data is loaded from a shopify, which seems to be <em>a Canadian multinational e-commerce company headquartered in Ottawa</em> (according to Wikipedia). This data is loaded into a script tag in the DOM that you can easily extract using BeautifulSoup (though I don't really use it - we could simply use regular expressions).</p> <pre><code>from bs4 import BeautifulSoup import requests import re  # define both URLs: for the JSON and the actual website for the shopify stock url = 'https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577' product_info = url + '.json'  # fetch both data sources with requests.Session() as session:     soup = BeautifulSoup(session.get(url).text, 'html.parser')     swym = soup.find('script', {'id': 'swym-snippet'})     info = session.get(product_info).json()  # this will contain all the products and their stock products = dict()  # get the data for each product from the json for variant in info['product']['variants']:     products[variant['id']] = variant  # find the shopify data using a regular expression regex = re.compile(r'SwymProductVariants\[[0-9]+\] = ({[^(;)]+)') inventory = re.findall(regex, swym.text)  # add the inventory information to the previously constructed product dictionary for inv in inventory:     indices = [key.strip().split(':')[1] for index, key in enumerate(inv.split(',')) if index in [1, 5]]     products[int(indices[0])]['stock'] = int(indices[1]) </code></pre>"
62870544	Python Web Scraping Beautiful Soup Parse Javascript Element and process variable	python|web-scraping|beautifulsoup	2020-07-13 06:45:37.823000 UTC	"<p>I am trying to retrieve the variable in json format to python.</p> <pre><code>url = &quot;https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577&quot; source = requests.get(url).text  soup = BeautifulSoup(source, 'lxml') print(soup.findAll('script')[10]) </code></pre> <p>The code above produces:</p> <pre><code>&lt;script&gt;window.ShopifyAnalytics = window.ShopifyAnalytics || {}; window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {}; window.ShopifyAnalytics.meta.currency = 'SGD'; var meta = {&quot;product&quot;:{&quot;id&quot;:4738795503687,&quot;gid&quot;:&quot;gid:\/\/shopify\/Product\/4738795503687&quot;,&quot;vendor&quot;:&quot;adidas Originals&quot;,&quot;type&quot;:&quot;footwear&quot;,&quot;variants&quot;:[{&quot;id&quot;:32432939204679,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 7&quot;,&quot;public_title&quot;:&quot;7&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939237447,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 7.5&quot;,&quot;public_title&quot;:&quot;7.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939270215,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 8&quot;,&quot;public_title&quot;:&quot;8&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939302983,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 8.5&quot;,&quot;public_title&quot;:&quot;8.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939335751,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 9&quot;,&quot;public_title&quot;:&quot;9&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939368519,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 9.5&quot;,&quot;public_title&quot;:&quot;9.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939401287,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 10&quot;,&quot;public_title&quot;:&quot;10&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939434055,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 10.5&quot;,&quot;public_title&quot;:&quot;10.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939466823,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 11&quot;,&quot;public_title&quot;:&quot;11&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939499591,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 11.5&quot;,&quot;public_title&quot;:&quot;11.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;}]},&quot;page&quot;:{&quot;pageType&quot;:&quot;product&quot;,&quot;resourceType&quot;:&quot;product&quot;,&quot;resourceId&quot;:4738795503687}}; for (var attr in meta) {   window.ShopifyAnalytics.meta[attr] = meta[attr]; }&lt;/script&gt; </code></pre> <p>Basically I want to retrieve the meta variable's content and access the key value pairs in python.</p> <p>How do I do that?</p>"	"<pre><code>import re, json  url = &quot;https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577&quot; source = requests.get(url).text  soup = BeautifulSoup(source, 'lxml') script = soup.findAll('script')[10].text.strip()  p = re.compile(&quot;meta = ({(.*)})&quot;) m = p.search(script) json_str = m[1]  json_data = json.loads(json_str) print(json_data) </code></pre> <p>Output:</p> <pre><code>{'product': {'id': 4738795503687,   'gid': 'gid://shopify/Product/4738795503687',   'vendor': 'adidas Originals',   'type': 'footwear',   'variants': [{'id': 32432939204679,     'price': 18000,     'name': '+ Jonah Hill Superstar - 7',     'public_title': '7',     'sku': 'FW7577'},    {'id': 32432939237447,     'price': 18000,     'name': '+ Jonah Hill Superstar - 7.5',     'public_title': '7.5',     'sku': 'FW7577'},    {'id': 32432939270215,     'price': 18000,     'name': '+ Jonah Hill Superstar - 8',     'public_title': '8',     'sku': 'FW7577'},    {'id': 32432939302983,     'price': 18000,     'name': '+ Jonah Hill Superstar - 8.5',     'public_title': '8.5',     'sku': 'FW7577'},    {'id': 32432939335751,     'price': 18000,     'name': '+ Jonah Hill Superstar - 9',     'public_title': '9',     'sku': 'FW7577'},    {'id': 32432939368519,     'price': 18000,     'name': '+ Jonah Hill Superstar - 9.5',     'public_title': '9.5',     'sku': 'FW7577'},    {'id': 32432939401287,     'price': 18000,     'name': '+ Jonah Hill Superstar - 10',     'public_title': '10',     'sku': 'FW7577'},    {'id': 32432939434055,     'price': 18000,     'name': '+ Jonah Hill Superstar - 10.5',     'public_title': '10.5',     'sku': 'FW7577'},    {'id': 32432939466823,     'price': 18000,     'name': '+ Jonah Hill Superstar - 11',     'public_title': '11',     'sku': 'FW7577'},    {'id': 32432939499591,     'price': 18000,     'name': '+ Jonah Hill Superstar - 11.5',     'public_title': '11.5',     'sku': 'FW7577'}]},  'page': {'pageType': 'product',   'resourceType': 'product',   'resourceId': 4738795503687}} </code></pre>"
62870544	Python Web Scraping Beautiful Soup Parse Javascript Element and process variable	python|web-scraping|beautifulsoup	2020-07-13 06:45:37.823000 UTC	"<p>I am trying to retrieve the variable in json format to python.</p> <pre><code>url = &quot;https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577&quot; source = requests.get(url).text  soup = BeautifulSoup(source, 'lxml') print(soup.findAll('script')[10]) </code></pre> <p>The code above produces:</p> <pre><code>&lt;script&gt;window.ShopifyAnalytics = window.ShopifyAnalytics || {}; window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {}; window.ShopifyAnalytics.meta.currency = 'SGD'; var meta = {&quot;product&quot;:{&quot;id&quot;:4738795503687,&quot;gid&quot;:&quot;gid:\/\/shopify\/Product\/4738795503687&quot;,&quot;vendor&quot;:&quot;adidas Originals&quot;,&quot;type&quot;:&quot;footwear&quot;,&quot;variants&quot;:[{&quot;id&quot;:32432939204679,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 7&quot;,&quot;public_title&quot;:&quot;7&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939237447,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 7.5&quot;,&quot;public_title&quot;:&quot;7.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939270215,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 8&quot;,&quot;public_title&quot;:&quot;8&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939302983,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 8.5&quot;,&quot;public_title&quot;:&quot;8.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939335751,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 9&quot;,&quot;public_title&quot;:&quot;9&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939368519,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 9.5&quot;,&quot;public_title&quot;:&quot;9.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939401287,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 10&quot;,&quot;public_title&quot;:&quot;10&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939434055,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 10.5&quot;,&quot;public_title&quot;:&quot;10.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939466823,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 11&quot;,&quot;public_title&quot;:&quot;11&quot;,&quot;sku&quot;:&quot;FW7577&quot;},{&quot;id&quot;:32432939499591,&quot;price&quot;:18000,&quot;name&quot;:&quot;+ Jonah Hill Superstar - 11.5&quot;,&quot;public_title&quot;:&quot;11.5&quot;,&quot;sku&quot;:&quot;FW7577&quot;}]},&quot;page&quot;:{&quot;pageType&quot;:&quot;product&quot;,&quot;resourceType&quot;:&quot;product&quot;,&quot;resourceId&quot;:4738795503687}}; for (var attr in meta) {   window.ShopifyAnalytics.meta[attr] = meta[attr]; }&lt;/script&gt; </code></pre> <p>Basically I want to retrieve the meta variable's content and access the key value pairs in python.</p> <p>How do I do that?</p>"	<p>This works for me</p> <pre><code>import json import requests  url = &quot;https://limitededt.com/collections/footwear/products/adidas-originals-jonah-hill-superstar-fw7577&quot; json_data = session.get(url + '.json').json() </code></pre>
62879698	Any tips on context manager similar to Python in Javascript?	javascript	2020-07-13 15:59:23.727000 UTC	<p>I quite liked Python's context manager where I did not have to be concerned with how the resource was obtained or cleaned up afterwards. Is there a way to do this in a neat way in Javascript?</p>	"<p>I'm happy to break this to you, we now have that in JavaScript. It's a tiny library called &quot;contextlib&quot; (closely resembling python's contexlib).</p> <p>Disclaimer: I authored contextlib.</p> <p>You can install using <code>npm install contextlib</code>.</p> <pre class=""lang-js prettyprint-override""><code>import {With, contextmanager} from 'contextlib';  class context:     enter() { console.log('entering context') }      exit() { console.log('leaving context') }  With(new context(), () =&gt; {    console.log('inside context') }) </code></pre> <p>You can also use the <code>contextmanager</code> decorator</p> <pre><code>context = contextmanager(function*(){     try {         console.log('entering context')         yield     } finally {         console.log('leaving context')     } }) </code></pre> <p>You should check it out on <a href=""https://github.com/mcsavvy/contextlib"" rel=""nofollow noreferrer"">github</a>.</p>"
62879698	Any tips on context manager similar to Python in Javascript?	javascript	2020-07-13 15:59:23.727000 UTC	<p>I quite liked Python's context manager where I did not have to be concerned with how the resource was obtained or cleaned up afterwards. Is there a way to do this in a neat way in Javascript?</p>	"<p>I also surprised by missing this feature. Unfortunately, only callback based solutions are available in JS</p> <p><a href=""https://promise-nuggets.github.io/articles/21-context-managers-transactions.html"" rel=""nofollow noreferrer"">https://promise-nuggets.github.io/articles/21-context-managers-transactions.html</a></p>"
62879698	Any tips on context manager similar to Python in Javascript?	javascript	2020-07-13 15:59:23.727000 UTC	<p>I quite liked Python's context manager where I did not have to be concerned with how the resource was obtained or cleaned up afterwards. Is there a way to do this in a neat way in Javascript?</p>	"<p>You can make something similar using generator functions in javascript:</p> <pre class=""lang-js prettyprint-override""><code>function* usingGroup() {    // setup    console.group()    try {      yield    } finally {      // cleanup      console.groupEnd()    } } </code></pre> <p>and to use it, you can use a <code>for ... of</code> loop:</p> <pre class=""lang-js prettyprint-override""><code>for(const _ of usingGroup()) {    console.log('inside a group') } </code></pre> <p>This method is similar to how you define context managers in python using the <code>@contextmanager</code> decorator. Although the way of using a for loop to define where the context applies feels strange in my opinion.</p> <p><em>How does it work:</em></p> <p>Abstracting away the whole generator object and iterator protocol, you can think of it as doing this: before the first iteration of the loop, the code inside the generator function is run until the <code>yield</code> statement, at this point, the for loop body runs once since a value has been yielded by the generator, before the next iteration, the rest of the code in the generator is run. Since it does not yield, the loop considers it done and exits without executing its body again. The <code>try ... finally</code> ensures that even if an error is thrown, the code gets executed.</p> <p>If you need to use some value inside your loop (like a file you opened for example), you can just <code>yield</code> it inside the generator.</p> <p><em>full code:</em></p> <pre class=""lang-js prettyprint-override""><code>function* usingGroup() {    console.group()    try {      yield    } finally {      console.groupEnd()    } }  for(const _ of usingGroup()) {    console.log('inside a group') } </code></pre>"
62882219	I need guidance on how to convert the creation of a matrix via python/numpy to javascript	javascript|opencv|transformation	2020-07-13 18:39:31.213000 UTC	"<p>I need to align 2 images with opencv.js</p> <p>I'm attempting to find a way around the problem found <a href=""https://stackoverflow.com/questions/62744310/opencv-js-issue-with-findtransformecc-criteria"">here</a>. So I am trying <a href=""https://www.learnopencv.com/image-alignment-feature-based-using-opencv-c-python/"" rel=""nofollow noreferrer"">this approach</a>.</p> <p>I'm having issues trying to recreate (and calculate) the python numpy transformation matrix in javascript.</p> <p>Here is the python:</p> <pre><code> image_baseline_keypoints = np.float32([kpv_image_baseline[m.queryIdx].pt for m in matches[:number_of_matches]]).reshape(-1, 1, 2); image_keypoints = n.float32([kpv_image[m.trainIdx].pt for m in matches[:number_of_matches]]).reshape(-1, 1, 2);  (note: the article [linked above][2] has another way of creating the matrix via numpy as well. ) </code></pre> <p><strong>what is the appropriate approach to doing the same thing in javascript?</strong>  is it to use numjs (attempting it next but if possible i don't want to bring in another library)?</p> <p>here is the overall JS code:</p> <pre><code>     function Align_img2() {          let image_baseline = cv.imread(imgElement_Baseline);         let image = cv.imread('imageChangeup');          let image_baseline_gray = new cv.Mat();         let image_gray = new cv.Mat();          //get size of baseline image         var image_baseline_width = image_baseline.cols;         var image_baseline_height = image_baseline.rows;          //resize image to baseline image         let image_baseline_dimensions = new cv.Size(image_baseline_width, image_baseline_height);         cv.resize(image, image, image_baseline_dimensions, cv.INTER_AREA);          // Convert images to grayscale         cv.cvtColor(image_baseline, image_baseline_gray, cv.COLOR_BGR2GRAY);         cv.cvtColor(image, image_gray, cv.COLOR_BGR2GRAY);          // Initiate detector         var orb = new cv.ORB(10000);         var kpv_image_baseline = new cv.KeyPointVector();         var kpv_image = new cv.KeyPointVector();         var descriptors_image_baseline =new cv.Mat();         var descriptors_image =new cv.Mat();         var image_baseline_keypoints=new cv.Mat();         var image_keypoints =new cv.Mat();          // find the keypoints with ORB         orb.detect(image_baseline_gray, kpv_image_baseline);         orb.detect(image_gray, kpv_image);          // compute the descriptors with ORB         orb.compute(image_baseline_gray, kpv_image_baseline, descriptors_image_baseline);         orb.compute(image_gray, kpv_image, descriptors_image);          // Debug to verify key points found         //let color = new cv.Scalar(0,255,0, 255);         //cv.drawKeypoints(image_baseline_gray, kpv_image_baseline, image_baseline_keypoints, color);         //cv.drawKeypoints(image_gray, kpv_image, image_keypoints, color);         //console.log(image_baseline_keypoints);         //console.log(image_keypoints);          // find matches         let bf = new cv.BFMatcher(cv.NORM_HAMMING, 1);         // Match descriptors         let matches = new cv.DMatchVector();         bf.match(descriptors_image_baseline, descriptors_image, matches);          // Debug to verify matches found         //var matches_img = new cv.Mat();         //cv.drawMatches(image_baseline_gray, kpv_image_baseline, image_gray, kpv_image, matches, matches_img, color);         //console.log(matches_img);          // calculate transformation matrix         number_of_matches = 10;         /*          image_baseline_keypoints = np.float32([kpv_image_baseline[m.queryIdx].pt for m in matches[:number_of_matches]]).reshape(-1, 1, 2);         image_keypoints = np.float32([kpv_image[m.trainIdx].pt for m in matches[:number_of_matches]]).reshape(-1, 1, 2);         */          //note: np =&gt; nj in numjs         image_baseline_keypoints = nj.float32([kpv_image_baseline[m.queryIdx].pt for (m in matches)]).reshape(-1, 1, 2);         image_keypoints = nj.float32([kpv_image[m.trainIdx].pt for (m in matches)]).reshape(-1, 1, 2);          // Calculate Homography         var h = new cv.Mat();         h = cv.findHomography(image_baseline_keypoints, image_keypoints);          // Warp image to baseline_image based on homography         var dst = new cv.Mat();         cv.warpPerspective(image_gray, dst, h, (image_baseline_gray.shape[1], image_baseline_gray.shape[0]));         cv.imshow('imageChangeup', dst);          matches_img.delete();         matches.delete();         bf.delete();         orb.delete();         kpv_image_baseline.delete();         kpv_image.delete();         descriptors_image_baseline.delete();         descriptors_image.delete();         image_baseline_keypoints.delete();         image_keypoints.delete();         image_baseline_gray.delete();         image_gray.delete();         h.delete();         dst.delete();     };  </code></pre>"	"<p>Unfortunately , opencvjs doc is AWFUL ! actually there is nothing to be named as doc ! cv.findHomography method has 3 arguments . where two first ones must be matArray . you must convert your pointA and pointB to matArray by calling : <code>cv.matFromArray(number_of_cols_pointsA,2,cv.CV_32F,pointsA)</code> and here , &quot;2&quot; is array dimention . and CV_32F referes to float32 type mat . and for the third argument of <code>findHomography</code> you can use <code>cv.RANSAC</code></p>"
62892495	Scraping a specific website with a search box and javascripts in Python	javascript|python|selenium|web-scraping|beautifulsoup	2020-07-14 09:54:22.700000 UTC	"<p>On the website <a href=""https://sray.arabesque.com/dashboard"" rel=""nofollow noreferrer"">https://sray.arabesque.com/dashboard</a> there is a search box &quot;input&quot; in html. I want to enter a company name in the search box, choose the first suggestion for that name in the dropout menu (e.g., &quot;Anglo American plc&quot;), go to the url with the info about that company, load javascripts to get full html version of the obtained page, and then scrape it for GC Score, ESG Score, Temperature Score in the bottom.</p> <pre><code>!apt install chromium-chromedriver !cp /usr/lib/chromium-browser/chromedriver /usr/bin !pip install selenium  from selenium import webdriver from selenium.webdriver.common.keys import Keys options = webdriver.ChromeOptions() options.add_argument('-headless') options.add_argument('-no-sandbox') options.add_argument('-disable-dev-shm-usage')  wd = webdriver.Chrome('chromedriver',options=options)  companies = ['Anglo American plc']  for company in companies:   # dryscrape.start_xvfb()   # session = dryscrape.Session()   # session.visit(&quot;https://srayapi.arabesque.com/api/sray/company/history/004BTP-E&quot;)   resp = wd.get('https://sray.arabesque.com/dashboard/') #print(driver.page_source)   e = wd.find_element_by_id(id_='mat-input-0')   e.send_keys(company)   e.send_keys(Keys.ENTER)   innerHTML = e.execute_script(&quot;return document.body.innerHTML&quot;)   print(innerHTML) </code></pre> <p>I don't quite understand how to visit an URL with info about Anglo American and scrape it if we don't know the URL after entering the company name in the search box.</p>"	"<p>Without exactly knowing why you want to use selenium, use the search and then getting another site, here is what I would do to get the data you are looking for:</p> <pre><code>import requests import json  session = requests.Session() url = 'https://srayapi.arabesque.com/api/sray/q' response = session.get(url).json()  rays = response['data']['rays'] [ray for ray in rays if ray['name'].startswith('Anglo American')] </code></pre> <p>Then do whatever you want, so for <em>esg</em>, <em>gc</em> and <em>temperature</em> perhaps:</p> <pre><code>myObj = [{result['name']: {'gc': result['gc'], 'esg': result['esg'], 'temp': result['score_near']}} for result in results] </code></pre>"
62892495	Scraping a specific website with a search box and javascripts in Python	javascript|python|selenium|web-scraping|beautifulsoup	2020-07-14 09:54:22.700000 UTC	"<p>On the website <a href=""https://sray.arabesque.com/dashboard"" rel=""nofollow noreferrer"">https://sray.arabesque.com/dashboard</a> there is a search box &quot;input&quot; in html. I want to enter a company name in the search box, choose the first suggestion for that name in the dropout menu (e.g., &quot;Anglo American plc&quot;), go to the url with the info about that company, load javascripts to get full html version of the obtained page, and then scrape it for GC Score, ESG Score, Temperature Score in the bottom.</p> <pre><code>!apt install chromium-chromedriver !cp /usr/lib/chromium-browser/chromedriver /usr/bin !pip install selenium  from selenium import webdriver from selenium.webdriver.common.keys import Keys options = webdriver.ChromeOptions() options.add_argument('-headless') options.add_argument('-no-sandbox') options.add_argument('-disable-dev-shm-usage')  wd = webdriver.Chrome('chromedriver',options=options)  companies = ['Anglo American plc']  for company in companies:   # dryscrape.start_xvfb()   # session = dryscrape.Session()   # session.visit(&quot;https://srayapi.arabesque.com/api/sray/company/history/004BTP-E&quot;)   resp = wd.get('https://sray.arabesque.com/dashboard/') #print(driver.page_source)   e = wd.find_element_by_id(id_='mat-input-0')   e.send_keys(company)   e.send_keys(Keys.ENTER)   innerHTML = e.execute_script(&quot;return document.body.innerHTML&quot;)   print(innerHTML) </code></pre> <p>I don't quite understand how to visit an URL with info about Anglo American and scrape it if we don't know the URL after entering the company name in the search box.</p>"	"<p>You can do that using selenium.Couple of things you need to update.</p> <p>While interacting headless you need to provide <code>window size</code>.</p> <p>Induce <code>WebDriverWait</code>() to avoid synchronization issue.</p> <p><strong>Code</strong>:</p> <pre><code>from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By  options = webdriver.ChromeOptions() options.add_argument('-headless') options.add_argument('-no-sandbox') options.add_argument('-disable-dev-shm-usage') options.add_argument('window-size=1920,1080')  wd = webdriver.Chrome(options=options)  companies = ['Anglo American plc']  for company in companies:   wd.get('https://sray.arabesque.com/dashboard/')   WebDriverWait(wd, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//a[text()='list']&quot;))).click()   WebDriverWait(wd, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//input[@id='mat-input-0']&quot;))).send_keys(company)   WebDriverWait(wd, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//span[contains(.,' Anglo American plc ')]&quot;))).click()   WebDriverWait(wd, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;(//span[normalize-space(.)='Open dashboard'])[1]&quot;))).click()   WebDriverWait(wd,10).until(EC.visibility_of_element_located((By.CSS_SELECTOR,&quot;div.mat-tab-labels&quot;)))   print(wd.find_element_by_xpath(&quot;//div[@class='mat-tab-label-content'][contains(.,'GC Score')]/span&quot;).text)   print(wd.find_element_by_xpath(&quot;//div[@class='mat-tab-label-content'][contains(.,'ESG Score')]/span&quot;).text)   print(wd.find_element_by_xpath(&quot;//div[@class='mat-tab-label-content'][contains(.,'Temp')]/span&quot;).text) </code></pre> <p><strong>Output</strong>:</p> <pre><code>57.03 53.78 2.7°C     </code></pre>"
62925743	How do I extract the data from these JavaScript tables using Selenium and Python?	javascript|python|selenium|web-scraping|beautifulsoup	2020-07-16 00:39:03.680000 UTC	"<p>I am very new to Python, JavaScript, and Web-Scraping. I am trying to write code that writes all of the data in tables like this into a csv file. The webpage is &quot;https://www.mcmaster.com/cam-lock-fittings/material~aluminum/&quot;</p> <p><a href=""https://i.stack.imgur.com/xQBOJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/xQBOJ.png"" alt=""enter image description here"" /></a></p> <p>I started by trying to find the data in the html but then realized that the website uses JavaScript. I then tried using selenium but I cannot find anywhere in the JavaScript code that has the actual data that is displayed in these tables. I wrote this code to see if I could find the display data anywhere but I was unable to find it.</p> <pre><code>from urllib.request import urlopen from bs4 import BeautifulSoup from selenium import webdriver  url = 'https://www.mcmaster.com/cam-lock-fittings/material~aluminum/'   options = webdriver.ChromeOptions() options.add_experimental_option('excludeSwitches', ['enable-logging']) driver = webdriver.Chrome(executable_path='C:/Users/Brian Knoll/Desktop/chromedriver.exe', options=options)  driver.get(url) html = driver.execute_script(&quot;return document.documentElement.outerHTML&quot;) driver.close()  filename = &quot;McMaster Text.txt&quot; fo = open(filename, &quot;w&quot;) fo.write(html) fo.close() </code></pre> <p>I'm sure there's an obvious answer that is just going over my head. Any help would be greatly appreciated! Thank you!</p>"	"<p>I guess you need to wait till the table your looking for is loaded.<br /> To do so, add the following line to wait for 10 seconds before start scraping the data</p> <pre><code>fullLoad = WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.XPATH, &quot;//div[contains(@class, 'ItmTblCntnr')]&quot;))) </code></pre> <p>Here is the full code:</p> <pre><code>from urllib.request import urlopen from bs4 import BeautifulSoup from selenium import webdriver from selenium.webdriver.support.ui import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.common.by import By  url = 'https://www.mcmaster.com/cam-lock-fittings/material~aluminum/'   options = webdriver.ChromeOptions() options.add_experimental_option('excludeSwitches', ['enable-logging']) driver = webdriver.Chrome(executable_path=os.path.abspath(&quot;chromedriver&quot;), options=options)  driver.get(url) fullLoad = WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.XPATH, &quot;//div[contains(@class, 'ItmTblCntnr')]&quot;)))  html = driver.execute_script(&quot;return document.documentElement.outerHTML&quot;) driver.close()  filename = &quot;McMaster Text.txt&quot; fo = open(filename, &quot;w&quot;) fo.write(html) fo.close() </code></pre>"
62928870	How to disable JavaScript in chrome using Chrome driver (Python and Selenium)	javascript|python|selenium|web-scraping|selenium-chromedriver	2020-07-16 06:34:34.483000 UTC	"<p>My goal is to disable JavaScript loading of a page to get the data that appears before loading and compare it with the data after loading.</p> <p>Im using:</p> <ul> <li><strong>Selenium</strong> version 3.141.0</li> <li><strong>Python</strong> 3.6.8</li> <li><strong>Chromedriver</strong> 83.0.4103.39</li> <li><strong>macOS Catalina</strong> 10.15.5</li> </ul> <p>I have tried to use this, but it does not work in my case:</p> <pre><code>options.add_experimental_option( &quot;prefs&quot;, {'profile.managed_default_content_settings.javascript': 2}) </code></pre> <p>and this:</p> <pre><code>prefs = {'profile.default_content_setting_values': {'cookies': 2, 'images': 2, 'javascript': 2,                          'plugins': 2, 'popups': 2, 'geolocation': 2,                          'notifications': 2, 'auto_select_certificate': 2, 'fullscreen': 2,                          'mouselock': 2, 'mixed_script': 2, 'media_stream': 2,                          'media_stream_mic': 2, 'media_stream_camera': 2, 'protocol_handlers': 2,                          'ppapi_broker': 2, 'automatic_downloads': 2, 'midi_sysex': 2,                          'push_messaging': 2, 'ssl_cert_decisions': 2, 'metro_switch_to_desktop': 2,                          'protected_media_identifier': 2, 'app_banner': 2, 'site_engagement': 2,                          'durable_storage': 2}} </code></pre> <p>I have been looking for more ways to get it but without success, I hope someone knows another solution that works</p>"	
62936214	Flask Python - Google Chart javascript is not working passing string as parameter in html page	python|flask|charts|google-visualization	2020-07-16 13:47:12.363000 UTC	"<p>I have this string in my flask app.</p> <p><a href=""https://i.stack.imgur.com/J2ZZn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/J2ZZn.png"" alt=""enter image description here"" /></a></p> <p>I am passing this string for my google chart in page, but its not working. Somebody could help me? <a href=""https://i.stack.imgur.com/ZLBa6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZLBa6.png"" alt=""enter image description here"" /></a></p> <p>My javascript and HTML page <a href=""https://i.stack.imgur.com/LfA4b.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LfA4b.png"" alt=""enter image description here"" /></a></p>"	"<p><code>arrayToDataTable</code> expects an array, not a string.</p> <p>you could parse the string as JSON...</p> <pre><code>JSON.parse(my_string)  var data2 = google.visualization.arrayToDataTable(JSON.parse(my_string)); </code></pre> <p>but first, you will need to change <strong>all</strong> the single quotes...</p> <pre><code>['Month',  ... </code></pre> <p>to double quotes...</p> <pre><code>[&quot;Month&quot;,  ... </code></pre>"
62939087	"How to connect to Splunk API via Python, receiving javascript error"	python|json|python-requests|splunk|splunk-sdk	2020-07-16 16:19:28.877000 UTC	"<p>I am trying to connect to Splunk via API using python. I can connect, and get a 200 status code but when I read the content, it doesn't read the content of the page. View below:</p> <p><a href=""https://i.stack.imgur.com/0E597.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0E597.png"" alt=""enter image description here"" /></a></p> <p>Here is my code:</p> <pre><code>import json import requests import re  baseurl = 'https://my_splunk_url:8888' username = 'my_username' password = 'my_password'  headers={&quot;Content-Type&quot;: &quot;application/json&quot;}  s = requests.Session() s.proxies = {&quot;http&quot;: &quot;my_proxy&quot;}  r = s.get(baseurl, auth=(username, password), verify=False, headers=None, data=None)  print(r.status_code) print(r.text) </code></pre> <p>I am new to Splunk and python so any ideas or suggestions as to why this is happening would help.</p>"	"<p>You need to authenticate first to get a token, then you'll be able to hit the rest of REST endpoints. The auth endpoint it at <code>/servicesNS/admin/search/auth/login</code>, which will give you the <code>session_key</code>, which you then provide to subsequent requests.</p> <p>Here is some code that uses requests to authenticate to a Splunk instance, then start a search. It then checks to see if the search is complete, if not, wait a second and then check again. Keep checking and sleeping until the search is done, then print out the results.</p> <pre><code>import time # need for sleep from xml.dom import minidom  import json, pprint  import requests from requests.packages.urllib3.exceptions import InsecureRequestWarning requests.packages.urllib3.disable_warnings(InsecureRequestWarning)   base_url = 'https://localhost:8089' username = 'admin' password = 'changeme'  search_query = &quot;search=search index=*&quot;  r = requests.get(base_url+&quot;/servicesNS/admin/search/auth/login&quot;,     data={'username':username,'password':password}, verify=False)  session_key = minidom.parseString(r.text).getElementsByTagName('sessionKey')[0].firstChild.nodeValue print (&quot;Session Key:&quot;, session_key)  r = requests.post(base_url + '/services/search/jobs/', data=search_query,     headers = { 'Authorization': ('Splunk %s' %session_key)},     verify = False)  sid = minidom.parseString(r.text).getElementsByTagName('sid')[0].firstChild.nodeValue print (&quot;Search ID&quot;, sid)  done = False while not done:     r = requests.get(base_url + '/services/search/jobs/' + sid,         headers = { 'Authorization': ('Splunk %s' %session_key)},         verify = False)     response = minidom.parseString(r.text)     for node in response.getElementsByTagName(&quot;s:key&quot;):         if node.hasAttribute(&quot;name&quot;) and node.getAttribute(&quot;name&quot;) == &quot;dispatchState&quot;:             dispatchState = node.firstChild.nodeValue             print (&quot;Search Status: &quot;, dispatchState)             if dispatchState == &quot;DONE&quot;:                 done = True             else:                 time.sleep(1)  r = requests.get(base_url + '/services/search/jobs/' + sid + '/results/',     headers = { 'Authorization': ('Splunk %s' %session_key)},     data={'output_mode': 'json'},     verify = False)  pprint.pprint(json.loads(r.text)) </code></pre> <p>Many of the request calls thare used include the flag, <code>verify = False</code> to avoid issues with the default self-signed SSL certs, but you can drop that if you have legit certificates.</p> <p>Published a while ago at <a href=""https://gist.github.com/sduff/aca550a8df636fdc07326225de380a91"" rel=""nofollow noreferrer"">https://gist.github.com/sduff/aca550a8df636fdc07326225de380a91</a></p>"
62939087	"How to connect to Splunk API via Python, receiving javascript error"	python|json|python-requests|splunk|splunk-sdk	2020-07-16 16:19:28.877000 UTC	"<p>I am trying to connect to Splunk via API using python. I can connect, and get a 200 status code but when I read the content, it doesn't read the content of the page. View below:</p> <p><a href=""https://i.stack.imgur.com/0E597.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0E597.png"" alt=""enter image description here"" /></a></p> <p>Here is my code:</p> <pre><code>import json import requests import re  baseurl = 'https://my_splunk_url:8888' username = 'my_username' password = 'my_password'  headers={&quot;Content-Type&quot;: &quot;application/json&quot;}  s = requests.Session() s.proxies = {&quot;http&quot;: &quot;my_proxy&quot;}  r = s.get(baseurl, auth=(username, password), verify=False, headers=None, data=None)  print(r.status_code) print(r.text) </code></pre> <p>I am new to Splunk and python so any ideas or suggestions as to why this is happening would help.</p>"	"<p>Nice piece of coding. One of the wonderful aspects of Python is the ability to use other people's well written packages. In this case, why not use Splunk's Python packages to do all of that work, with a lot less coding around it.</p> <p>pip install splunklib.</p> <p>Then add the following to your import block</p> <p>import splunklib.client as client</p> <p>import splunklib.results as results</p> <p>pypi.org has documentation on some of the usage, Splunk has an excellent set of how-to documents. Remember, be lazy, use someone else's work to make your work look better.</p>"
62939572	How to serialize a python class to pass onto javascript	javascript|python|html|flask|jinja2	2020-07-16 16:47:43.793000 UTC	"<p>I am trying to pass a variable onto a javascript in flask. But I get the following error: <code>TypeError: Object of type MyClass is not JSON serializable</code></p> <p>Code:</p> <p>routes.py:</p> <pre><code>@app.route('/') @app.route('/index') def index():     data = {         &quot;foo&quot;: myObj     }     return render_template('index.html', data=data) </code></pre> <p>To note that <code>myObj</code> is a custom class object of type MyClass.</p> <p>index.html:</p> <pre><code>    &lt;script src=&quot;{{ url_for('static', filename='my_script.js', type=&quot;module&quot;) }}&quot; crossorigin=&quot;anonymous&quot;             defer&gt;     &lt;/script&gt;     &lt;script&gt;         let data = {{ data|tojson }};     &lt;/script&gt; </code></pre> <p>my_script.js:</p> <pre><code>console.log(data); </code></pre> <p>I tried to simply write <code>{{ data }}</code> instead of <code>{{ data|tojson }}</code> but I get the errors: <code>Uncaught SyntaxError: Unexpected token '&amp;'</code> and <code>my_script.js?type=module:1 Uncaught ReferenceError: data is not defined at my_script.js?type=module:1</code></p> <p>I know that there are a lot of question, but I do not find one that addresses this issue.</p>"	"<p>The problem here is that you're trying to pass a Python object to Javascript. It's not going to work. The best thing to do is convert it to JSON, which is compatible between Python and Javascript.</p> <p>Using the <code>json</code> module you can serialise your dictionary. However, the Python object of <code>MyClass</code> is not JSON serialisable. You should be able to serialise the <code>__data__</code> attribute instead, which is a dictionary of attributes in the object.</p> <p>Change your Python like this:</p> <pre><code>import json  @app.route('/') @app.route('/index') def index():     data = {         &quot;foo&quot;: myObj.__dict__     }     return render_template('index.html', data=json.dumps(data))   </code></pre>"
62949687	From Python to Javascript : dealing with negatives arrays indexes	javascript|python	2020-07-17 08:04:54.717000 UTC	"<p>I have to convert a python code to javascript. Now in this code we are dealing with lists like so :</p> <pre class=""lang-py prettyprint-override""><code>    selected_element = current_list[index_col] </code></pre> <p>The <code>index_col</code> is an index that come from a database. I cannot really manipulate it because it has to keep the same value for another part in the code.</p> <p>Some of thoses indexes are negatives (-3, -5, and so on)</p> <p>So i need a simple solution to pretty keep the same syntax <code>current_array[index_col]</code> (I replace <code>list</code> by <code>array</code> here in order to respect the JS syntax names), that would allow me to deal with negative values.</p> <p>I cannot use external libraries, all must be implemented in vanilla javascript (no lodash)</p> <p>So far I found :</p> <p><a href=""https://stackoverflow.com/questions/30549077/accessing-an-element-of-an-array-through-negative-indexes"">Accessing an element of an array through negative indexes</a></p> <p>But is does not really help me to keep the same syntax. I must keep this syntax <code>current_array[index_col]</code>.</p>"	"<p>Well, for that reason you have Proxy (<a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"" rel=""nofollow noreferrer"">docs</a>):</p> <pre class=""lang-js prettyprint-override""><code>const current_array = ['dog', 'pig', 'cat']; const current_array_proxy = new Proxy(current_array, {     get(target, prop) {         // First check if the given index is a valis number         if (!isNaN(prop)) {             // If it is a valid number : be sure to not passing a string, parse it to an integer              prop = parseInt(prop, 10);             if (prop &lt; 0) {                                  prop += target.length;             }         }         return target[prop];     } }); </code></pre> <p><a href=""https://medium.com/uncaught-exception/javascript-array-negative-index-using-proxies-ed096dc84416#:%7E:text=JavaScript%20arrays%20are%20collections%20of,index%20will%20just%20return%20undefined%20."" rel=""nofollow noreferrer"">Source</a>  (for this implementation and further explanation)</p> <p>If you try it :</p> <pre><code>current_array_proxy[-2];  </code></pre> <p><strong>OUTPUT</strong> : &quot;pig&quot;</p> <p><strong>EDIT</strong> :</p> <p>From comments :</p> <p>You should handle the float number case, so replace :</p> <p><code>if (!isNaN(prop))</code></p> <p>by :</p> <p><code>if(typeof prop !== &quot;symbol&quot; &amp;&amp; (+prop) === (prop|0) &amp;&amp; +prop &lt; 0){ prop = +prop + target.length; }</code></p> <p>If you want you can write a utils function that will return you the proxy for each single input array :</p> <pre class=""lang-js prettyprint-override""><code> const getArrayProxy = (current_array) =&gt; new Proxy(...) //the rest is the same  </code></pre>"
62984320	Finding web element using javascript statments through Python Selenium WebDriver	javascript|python|selenium-webdriver|xpath	2020-07-19 18:45:45.863000 UTC	"<p>I want to find specific web element by executing javascript code and then click on that element. This is my code:</p> <pre><code>driver.get('https://justjoin.it') driver.maximize_window()   for position in [x.text for x in driver.find_elements_by_xpath('//div[@class=&quot;css-1x9zltl&quot;]')]:       javascript = f&quot;document.evaluate('//div[contains(@class, 'css-1x9zltl') and text()='{position}']', document);&quot;       driver.execute_script(javascript).click() </code></pre> <p>And when I run this code console throws me this error:</p> <pre><code>selenium.common.exceptions.JavascriptException: Message: javascript error: missing ) after argument list </code></pre> <p>Any ideas how to solve this?</p>"	"<p>It probably has to do with the interaction of the single and double quote marks within your f-string. Try escaping one by changing your <code>javascript</code> to:</p> <pre><code>javascript = f&quot;document.evaluate(\&quot;//div[contains(@class, 'css-1x9zltl') and text()='{position}']\&quot;, document);&quot; </code></pre> <p>and see if it works.</p>"
62987956	How to have javascript and python communicate together in a phone application?	javascript|python|react-native	2020-07-20 02:52:12.823000 UTC	<p><strong>How to have java script and python communicate together in a phone application?</strong></p> <p>I am working on this phone app as a project of mine. I have a python script which web scrapes data from other websites. I am trying to have include this data in my app. I need a way to use python in react-native so I can connect it with java script. Is there anyway I can do this?</p>	"<p>You can try to use <a href=""https://www.jython.org/"" rel=""nofollow noreferrer"">Jython</a> to create one connection between Python and JavaScript, or use <a href=""https://www.transcrypt.org/home"" rel=""nofollow noreferrer"">Transcrypt</a> to transcript your Python code into JavaScript.</p> <p>I also had this doubt but the solution that I found was to use AWS lambda to run my Python code, but in this case, my app already has the necessity to connect with my API, so it was one simple and smart solution to my problem.</p>"
62987956	How to have javascript and python communicate together in a phone application?	javascript|python|react-native	2020-07-20 02:52:12.823000 UTC	<p><strong>How to have java script and python communicate together in a phone application?</strong></p> <p>I am working on this phone app as a project of mine. I have a python script which web scrapes data from other websites. I am trying to have include this data in my app. I need a way to use python in react-native so I can connect it with java script. Is there anyway I can do this?</p>	"<p>See. In a few words, what you would do is:</p> <ol> <li>Gather/Scrape the data.</li> <li>Insert data into database of your choice using a server side language of your choice. 2.1. This is generally done by creating something called an API.</li> <li>You then query this API using an HTTP/S React Native library that is hopefully available.</li> <li>Once that data is properly stored in the database, you can run all kinds of reports on it.</li> </ol>"
62997124	Trying to render a python dictionary into django template with javascript	python|django|ajax	2020-07-20 14:03:04.840000 UTC	"<p>Im trying to render a python dictionary into my django template using ajax. I have some results from the whoisLookup which i want to render in certain table rows. Be gentle im litteraly new to django and JavaScript!</p> <p>My views.py code</p> <pre><code>def whois_lookup(request):     if request.is_ajax():         domain = request.session.get('domain_or_ip')         res = whois.whois(domain)         data = {'message': 'whois-lookup completed.',                 'domain_name': res.domain_name                 }         return HttpResponse(json.dumps(data), content_type='application/json')     else:         raise Http404 </code></pre> <p>what i tryed in my .js file.</p> <pre><code>$(document).ready(function () { $('#whois-btn').click(function () {     $.ajax({         type: &quot;GET&quot;,         url: &quot;/WanDashboard/whoisLookup/&quot;,         beforeSend: () =&gt; {             $(&quot;.ajax_loader&quot;).show();             console.log('BeforeSend whoisLookup');         },         success: function (data) {             # this works.             alert(data.message);             # this does not work             alert(data.domain_name)         },         complete: () =&gt; {             $(&quot;.ajax_loader&quot;).hide();             console.log('Completed whois ajax request.');         }     }); }); </code></pre> <p>});</p> <p>the .html page</p> <pre><code>&lt;div id=&quot;whois-results&quot;&gt; &lt;table class=&quot;table table-dark&quot; id=&quot;result_whois_table&quot;&gt;     &lt;thead&gt;     &lt;tr&gt;         &lt;th scope=&quot;col&quot;&gt;Domain Name&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Whois Server&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Name Servers&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Contact mails&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Address&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;City&lt;/th&gt;     &lt;/tr&gt;     &lt;/thead&gt;     &lt;tbody&gt;     &lt;tr&gt;         &lt;td&gt;{{ data.domain_name }}&lt;/td&gt;     &lt;/tr&gt;     &lt;/tbody&gt; &lt;/table&gt; </code></pre>"	<pre><code>domain = request.session.get('domain_or_ip') </code></pre> <p>Im not sure if the code you have added here is the exact same as in your application - but the .get() needs a valid parameter. e.g.</p> <pre><code>domain = request.session.get('https://api.github.com/user') </code></pre> <p>Your whois_lookup function will return a JSON dump to the url that you have assigned to it in your urls.py file.</p> <p>So your templates will not work as they are not setup as @vishal has mentioned in the comments.</p>
62997124	Trying to render a python dictionary into django template with javascript	python|django|ajax	2020-07-20 14:03:04.840000 UTC	"<p>Im trying to render a python dictionary into my django template using ajax. I have some results from the whoisLookup which i want to render in certain table rows. Be gentle im litteraly new to django and JavaScript!</p> <p>My views.py code</p> <pre><code>def whois_lookup(request):     if request.is_ajax():         domain = request.session.get('domain_or_ip')         res = whois.whois(domain)         data = {'message': 'whois-lookup completed.',                 'domain_name': res.domain_name                 }         return HttpResponse(json.dumps(data), content_type='application/json')     else:         raise Http404 </code></pre> <p>what i tryed in my .js file.</p> <pre><code>$(document).ready(function () { $('#whois-btn').click(function () {     $.ajax({         type: &quot;GET&quot;,         url: &quot;/WanDashboard/whoisLookup/&quot;,         beforeSend: () =&gt; {             $(&quot;.ajax_loader&quot;).show();             console.log('BeforeSend whoisLookup');         },         success: function (data) {             # this works.             alert(data.message);             # this does not work             alert(data.domain_name)         },         complete: () =&gt; {             $(&quot;.ajax_loader&quot;).hide();             console.log('Completed whois ajax request.');         }     }); }); </code></pre> <p>});</p> <p>the .html page</p> <pre><code>&lt;div id=&quot;whois-results&quot;&gt; &lt;table class=&quot;table table-dark&quot; id=&quot;result_whois_table&quot;&gt;     &lt;thead&gt;     &lt;tr&gt;         &lt;th scope=&quot;col&quot;&gt;Domain Name&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Whois Server&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Name Servers&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Contact mails&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;Address&lt;/th&gt;         &lt;th scope=&quot;col&quot;&gt;City&lt;/th&gt;     &lt;/tr&gt;     &lt;/thead&gt;     &lt;tbody&gt;     &lt;tr&gt;         &lt;td&gt;{{ data.domain_name }}&lt;/td&gt;     &lt;/tr&gt;     &lt;/tbody&gt; &lt;/table&gt; </code></pre>"	"<p>Kinda late but i managed to do it like this.</p> <p>views.py code</p> <pre><code>def whois_lookup(request): if request.is_ajax():     domain = request.session.get('domain_or_ip')     res = whois.whois(domain)     l_nameservers = res.name_servers         nameservers = ' '.join([str(elem) for elem in l_nameservers])     whois_data = {         'message': 'Completed-scan!',         'nameservers': nameservers     }     return JsonResponse(whois_data, safe=False) else:     raise Http404 </code></pre> <p>and the JavaScript code that helped me do the job.</p> <pre><code>$(document).ready(function () { $('#whois-btn').click(function () {     $.ajax({         type: &quot;GET&quot;,         url: &quot;/WanDashboard/whoisLookup/&quot;,         dataType: 'json',         beforeSend: () =&gt; {             $(&quot;.ajax_loader&quot;).show();             console.log('BeforeSend whoisLookup');         },         success: function (whois_data) {             let splitted_array_nameservers = whois_data.nameservers.split(&quot;&quot;);             $(&quot;#result_whois_table&quot;).show();             let whois_table = $(&quot;#result_whois_table tbody&quot;);             whois_table.append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + whois_data.nameservers + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;)         },         complete: () =&gt; {             $(&quot;.ajax_loader&quot;).hide();             console.log('Completed ajax.');         }     }); }); </code></pre> <p>});</p> <p>This is a really sketchy sollution though!!</p>"
63003077	Send live audio from UDP socket in python server to javascript client	javascript|python|flask|websocket|udp	2020-07-20 20:09:31.423000 UTC	"<p>I'm receiving radio messages (audio) in a UDP socket. The port is opened when audio appears, and it's being closed when audio disappears. I know the audio appears, because in a different UDP port I receive a json message with the event &quot;initiated&quot; and &quot;down&quot;.</p> <p>I want to send that live audio to the browser, I understand I need to use a websocket. How I can connect the UDP audio packets when those appears, and send it using a websocket?</p> <p>The audio packets are raw 16-bit real samples at 8ksps.</p> <p>Is it possible to use a flask API to receive audio packet from UDP, and send it as live audio to the browser?</p>"	
63043666	How to pass python list to javascript array using Django	javascript|python|html|django|templates	2020-07-22 21:46:11.863000 UTC	"<p>UPDATE 7/23/2020</p> <p>I have a Django project where I am trying to pass a list of values from a python function to my 'index.html' file. This list of values comes from a DB query in my views.py file</p> <p>my views.py</p> <pre><code>def index_view(request):          context = {}       con=sqlite3.connect(&quot;db.sqlite3&quot;)     cursor=con.cursor()      db_query=&quot;SELECT distinct product_name from dboinvproduct&quot;      cursor.execute(db_query)      result=cursor.fetchall()      con.close()      list_of_products = list(itertools.chain(*result))           context['product_names'] = list_of_products     return render(request, 'index.html', context) </code></pre> <p>then within the body of my index.html</p> <pre><code>function loadFunct(){                var products = &quot;{{product_names|safe}}&quot;;                alert(products);               } </code></pre> <p>And the alert shows the following string:</p> <pre><code>['product a', 'product b', 'product c', 'product d'] </code></pre> <p>Which is much closer than I was previously. The problem is, this is a string that looks like an array... Which means this will not work for my application... I need it to be in the form of an array.</p> <p>What is the best way to do this? I have read about json_dumps on the python side, but I get a typeError because that expects a dictionary...</p>"	"<p><code>json.dumps()</code> should accept list like this.</p> <pre><code>&gt;&gt;&gt; import json &gt;&gt;&gt; json.dumps(['a','b']) '[&quot;a&quot;, &quot;b&quot;]' </code></pre> <p>Therefore you can pre-jsonify the list in the view like this,</p> <pre><code>context['product_names'] = json.dumps(list_of_products) return render(request, 'index.html', context) </code></pre> <p>and use in the template like this.</p> <pre><code>function loadFunct(){     var products = {{product_names|safe}}; // Be aware that there are no quotes or double quotes.      console.log(products); } </code></pre>"
63053320	Python flask ERROR You need to enable JavaScript to run this app	javascript|python|flask	2020-07-23 11:36:20.500000 UTC	"<p><a href=""https://i.stack.imgur.com/OE1oO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OE1oO.png"" alt=""You need to enable JavaScript to run this app. "" /></a></p> <p>HTML file not working and JavaScript python flask i have run direct html code..</p> <pre><code>app = Flask(__name__, static_url_path=&quot;/&quot;, static_folder=&quot;/&quot;)  @app.route(&quot;/&quot;) def home():     return app.send_static_file(&quot;index.html&quot;)   @app.route(&quot;/viewer/&lt;StudyID&gt;&quot;) def view(StudyID):     print ( StudyID)     return app.send_static_file(&quot;index.html&quot;)       if __name__ == &quot;__main__&quot;:     app.run(host='0.0.0.0', port=8888)  </code></pre>"	
63079635	How to convert a Javascript object with nested functions into a Python Class?	javascript|python|json|class|nested	2020-07-24 18:38:15.200000 UTC	"<p>Trying to convert this code below into a Python class. Would I need to nest a System class within the original class? Confused on how to go about this. I want to call <code>MainClass.System.GetInstance().GetLibraryVersion()</code>, as an example</p> <pre><code>{   System: {     GetInstance: () =&gt; {       return {         GetLibraryVersion: () =&gt; {           return {             major: 0,             minor: 0,             type: '',             build: ''           }         }       }     }   } } </code></pre>"	<p>The answer:</p> <pre><code>class MainClass: def __init__(self):     self.System = self.System()  class System():     def __init__(self):         self.major = 0         self.minor = 0         self.type = ''         self.build = ''      def GetInstance(self):         return self      def GetLibraryVersion(self):         return self </code></pre>
63085734	Is there a way to return args to command line in Python (Compiled to EXE) to a JavaScript file?	javascript|python|node.js|command-line|exe	2020-07-25 07:44:00.563000 UTC	"<p>So, I am making a node program and there are many things which Python can do and JavaScript can't like using modules Python-specific, etc. So, I decided to compile the Python files to EXE and then use invoke them using JavaScript with the code below...</p> <pre><code>const execFile = require(&quot;child_process&quot;).execFile; function openExe(filePath, args = &quot;&quot;) {   execFile(filePath, [args], (error, stdout, stderr) =&gt; {     if (error) {       console.error(&quot;stderr&quot;, stderr);       throw error;     }   }); }  </code></pre> <p>Then I wrote this in Python...</p> <pre><code>import sys  from pyowm.owm import OWM  args = (sys.argv) args.pop(0) print(args)   def print_weather(thing, location):     location = location.lower()     location = location.replace(&quot; &quot;, &quot;&quot;)     location = location.replace(&quot;weather&quot;, &quot;&quot;)     owm = OWM(api-key)     mgr = owm.weather_manager()     listOfAll = []     listOfNotAll = []     weather = mgr.weather_at_place(location).weather     temp = int((weather.to_dict()['temperature'])['temp'])     temp = round((temp - (273.15)) * 9/5 + 32)     weather1 = str(weather.to_dict()[thing])     listOfAll.append(f&quot;The weather in {location} is {weather1}&quot;)     listOfAll.append(f&quot;The current temperature is {temp}°F&quot;)     if temp &lt;= 68:         listOfAll.append(&quot;You should probably wear warm cloths &quot;)         listOfNotAll.append(&quot;\U0001F455&quot;)     elif temp &gt; 99:         listOfAll.append(&quot;Drink some water its pretty hot...&quot;)         listOfNotAll.append(&quot;\U0001F4A6&quot;)     #{{{{Some way to return both (listOfNotAll and listOfAll) the lists}}}}   print_weather(&quot;detailed_status&quot;, &quot;chennai&quot;) </code></pre> <p>Now what I need is some way to return the output of this file (Has been compiled to EXE) to the JavaScript file. If that is not possible in this case then what is it that I have to change...</p> <p>Thanks...</p>"	"<p>You can print <code>listOfAll</code> and <code>listOfNotAll</code> at the end of the <code>print_weather</code> function. For example:</p> <pre><code>print(&quot;listOfAll:&quot;) for item in listOfAll:     print(item)  print(&quot;listOfNotAll:&quot;) for item in listOfNotAll:     print(item) </code></pre> <p>The output from your python code will be captured by the stdout variable in javascript. At this point you can do whatever you want with stdout (for example, convert it to an array of lines using <code>stdout.split(&quot;\n&quot;)</code> )</p> <p>I found a blog post that's also a possible solution to your question: <a href=""https://www.sohamkamani.com/blog/2015/08/21/python-nodejs-comm/"" rel=""nofollow noreferrer"">https://www.sohamkamani.com/blog/2015/08/21/python-nodejs-comm/</a></p>"
63087753	How to find web element by xpath using javascript code in python selenium webdriver?	javascript|python|selenium-webdriver|xpath|document.evaluate	2020-07-25 11:26:00.403000 UTC	<p>I would like to find web element by xpath executing javascript code in python and then click on it. Is this possible and how to do this?</p>	"<p>To find a <a href=""https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139"">WebElement</a> by <a href=""/questions/tagged/xpath"" class=""post-tag"" title=""show questions tagged &#39;xpath&#39;"" rel=""tag"">xpath</a> using <a href=""/questions/tagged/javascript"" class=""post-tag"" title=""show questions tagged &#39;javascript&#39;"" rel=""tag"">javascript</a> in you have to use the <a href=""https://www.w3.org/TR/DOM-Level-3-XPath/xpath.html#XPathEvaluator-evaluate"" rel=""nofollow noreferrer""><code>evaluate()</code></a> method which evaluates an <em>xpath</em> expression and returns a result.</p> <hr /> <h2>document.evaluate()</h2> <p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Document/evaluate"" rel=""nofollow noreferrer"">document.evaluate()</a> returns an <a href=""https://developer.mozilla.org/en-US/docs/Web/API/XPathResult"" rel=""nofollow noreferrer"">XPathResult</a> based on an <a href=""https://developer.mozilla.org/en-US/docs/Web/XPath"" rel=""nofollow noreferrer"">XPath</a> expression and other given parameters.</p> <p>The syntax is:</p> <pre><code>var xpathResult = document.evaluate(   xpathExpression,   contextNode,   namespaceResolver,   resultType,   result ); </code></pre> <hr /> <h2>Example</h2> <p>As an example the <em>Search Box</em> within the <a href=""https://www.google.com/"" rel=""nofollow noreferrer"">Google Home Page</a> which can be identified uniquely using the <em>xpath</em> as <code>//*[@name='q']</code> can also be identified from the <a href=""/questions/tagged/google-chrome-devtools"" class=""post-tag"" title=""show questions tagged &#39;google-chrome-devtools&#39;"" rel=""tag"">google-chrome-devtools</a> <em>Console</em> using <code>document.evaluate()</code> and the <em>xpath</em> expression as follows:</p> <pre><code>document.evaluate(&quot;//*[@name='q']&quot;, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue; </code></pre> <p>Snapshot:</p> <p><img src=""https://i.stack.imgur.com/KC4iS.png"" alt=""document_evalute_xpath"" /></p>"
63087753	How to find web element by xpath using javascript code in python selenium webdriver?	javascript|python|selenium-webdriver|xpath|document.evaluate	2020-07-25 11:26:00.403000 UTC	<p>I would like to find web element by xpath executing javascript code in python and then click on it. Is this possible and how to do this?</p>	"<p>You can use the following method (check the <a href=""https://selenium-python.readthedocs.io/locating-elements.html"" rel=""nofollow noreferrer"">docs</a>):</p> <pre><code>find_element_by_xpath </code></pre> <p>Then, to click on the element you found, simply use:</p> <pre><code>element.click() </code></pre>"
63109260	How to connect javascript and python using webkit2gtk?	javascript|python|webkit|gtk3	2020-07-27 05:40:53.037000 UTC	"<p>I am running a small html file inside a python window using <code>webkit2gtk</code>. I have disabled the gtk title bar, and there is a close and minimize button in the html page itself.</p> <p>Now, I want to close the window when that close button is clicked. Previously I used <code>webkitgtk</code>, and there webkit could sense the change in title of the html file, and would close the window when the title was changed (not just close, minimize and dragging were also implemented in this method. It would disable dragging when the mouse hovered over a button in html).</p> <pre class=""lang-py prettyprint-override""><code>    def title_changed(widget, frame, title):             print(title)             if title == &quot;close&quot;:                 Gtk.main_quit()             elif title == &quot;minimize&quot;:                 self.window.iconify()      self.webview.connect('title-changed', title_changed) </code></pre> <p>Now I want to port the code to <code>webkit2gtk</code>. However, it looks like the <code>title-changed</code> call, which was available in <code>webkitgtk</code> <a href=""https://stackoverflow.com/questions/63090388/how-to-handle-title-change-in-webkit2gtk"">has been removed</a> in <code>webkit2gtk</code>. So, how to handle close and other events, that is, how to make python do something to the window, when a button is clicked (which is handled by JS)?</p> <p>If title-change is not available anymore, what other option is there?</p>"	"<p>Communication from the web process to the UI process via the page title was a bit dubious even in WebKit 1, but it was unfortunately the most convenient option at the time.</p> <p>In WebKit 2 you can use <a href=""https://lazka.github.io/pgi-docs/#WebKit2-4.0/classes/WebView.html#WebKit2.WebView.send_message_to_page"" rel=""nofollow noreferrer""><code>WebView.send_message_to_page()</code></a> and <a href=""https://lazka.github.io/pgi-docs/#WebKit2-4.0/classes/UserContentManager.html#WebKit2.UserContentManager.register_script_message_handler"" rel=""nofollow noreferrer""><code>UserContentManager.register_script_message_handler()</code></a>.</p>"
63122089	extract attributes from plotly plot (generated in python) javascript	javascript|python|plotly|plotly-python|plotly.js	2020-07-27 19:18:17.243000 UTC	"<p>I am using the python API to generate a plot:</p> <pre class=""lang-py prettyprint-override""><code>import plotly.graph_objs as go fig = go.Figure(         ) fig_html = fig.to_html(             include_plotlyjs=False,             full_html=False,             ... ) </code></pre> <p>I then add the html figure to my webpage, which loads the Plotly CDN in the head section.</p> <p>I understand that when javascript creates the object through <code>Plotly.newPlot</code> you get a reference to the plot object in javascript (as explained in <a href=""https://stackoverflow.com/questions/50192259/extract-all-attributes-from-plotly-javascript"">this question</a>). But in the case where javascript only has a reference to the raw html div generated through python but not the plotly object, how does one extract plot attributes in javascript?</p>"	"<p>I figured it out! The div DOM object automatically has the <code>_fullLayout</code> property, without needing to use any Plotly functions:</p> <pre class=""lang-js prettyprint-override""><code>document.getElementById(&quot;&lt;figure_div_id&gt;&quot;)._fullLayout </code></pre>"
63132205	React javascript fetch python	javascript|python-3.x|react-native|flask	2020-07-28 10:39:06.603000 UTC	"<p>So I'm trying to connect a Flask server to a front end create react app.  Below is the code for each and a bit more description on the errors. I followed the existed answer <a href=""https://stackoverflow.com/questions/40915319/javascript-fetch-flask-json"">from this link</a></p> <p>Create React App fetch</p> <pre><code> export default class Toggle extends Component {      state = {         on: false,         pyResp: []     }      toggle = () =&gt; {         this.setState({             on: !this.state.on,         })          console.log(&quot;fetching python localhost&quot;);         fetch('http://127.0.0.1:5000/', {             method: 'GET',             mode: 'no-cors',             dataType: 'json'         })             .then(r =&gt; r.json())             .then(r =&gt; {                 console.log(r)                 this.setState({                     pyResp: r                 })             })             .catch(err =&gt; console.log(err))     }      render() {         return (             &lt;div&gt;                 &lt;div className=&quot;toggle&quot;&gt;                     &lt;div className=&quot;toggle-btn&quot;&gt;&lt;button onClick={this.toggle}&gt; Toggle &lt;/button&gt; &lt;/div&gt;                     &lt;div className={!this.state.on ? &quot;display-txt hide&quot; : &quot;display-txt show&quot;}&gt;                         {this.state.on &amp;&amp; &lt;p&gt;true&lt;/p&gt;}                     &lt;/div&gt;                 &lt;/div&gt;                  &lt;div className=&quot;text-box&quot;&gt; &lt;label&gt; Name:&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt; &lt;/label&gt;&lt;/div&gt;             &lt;/div&gt;         )     } } </code></pre> <p>And Flask Server</p> <pre><code>from flask_cors import CORS, cross_origin  app = Flask(__name__) CORS(app)   @app.route(&quot;/&quot;) def hello_world():     jsonResp = {&quot;jack&quot;: 4098, &quot;sape&quot;: 4139}     print(&quot;===print===&quot;)     print(jsonify(jsonResp))     return jsonify(jsonResp)   if __name__ == &quot;__main__&quot;:     app.run(debug=True) </code></pre> <p><strong>I am getting error Toggle.js:27 SyntaxError: Unexpected end of input at Toggle.js:16</strong></p>"	<p>The problem seem to be here</p> <pre><code>&lt;div className={!this.state.on ? &quot;display-txt hide&quot; : &quot;display-txt show&quot;}&gt;     {this.state.on &amp;&amp; &lt;p&gt;true&lt;/p&gt;} &lt;/div&gt; </code></pre> <p>Change to</p> <pre><code>&lt;div className={!this.state.on ? &quot;display-txt hide&quot; : &quot;display-txt show&quot;}&gt;     {(this.state.on) ? (&lt;p&gt;true&lt;/p&gt;) : null) } &lt;/div&gt; </code></pre>
63132205	React javascript fetch python	javascript|python-3.x|react-native|flask	2020-07-28 10:39:06.603000 UTC	"<p>So I'm trying to connect a Flask server to a front end create react app.  Below is the code for each and a bit more description on the errors. I followed the existed answer <a href=""https://stackoverflow.com/questions/40915319/javascript-fetch-flask-json"">from this link</a></p> <p>Create React App fetch</p> <pre><code> export default class Toggle extends Component {      state = {         on: false,         pyResp: []     }      toggle = () =&gt; {         this.setState({             on: !this.state.on,         })          console.log(&quot;fetching python localhost&quot;);         fetch('http://127.0.0.1:5000/', {             method: 'GET',             mode: 'no-cors',             dataType: 'json'         })             .then(r =&gt; r.json())             .then(r =&gt; {                 console.log(r)                 this.setState({                     pyResp: r                 })             })             .catch(err =&gt; console.log(err))     }      render() {         return (             &lt;div&gt;                 &lt;div className=&quot;toggle&quot;&gt;                     &lt;div className=&quot;toggle-btn&quot;&gt;&lt;button onClick={this.toggle}&gt; Toggle &lt;/button&gt; &lt;/div&gt;                     &lt;div className={!this.state.on ? &quot;display-txt hide&quot; : &quot;display-txt show&quot;}&gt;                         {this.state.on &amp;&amp; &lt;p&gt;true&lt;/p&gt;}                     &lt;/div&gt;                 &lt;/div&gt;                  &lt;div className=&quot;text-box&quot;&gt; &lt;label&gt; Name:&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt; &lt;/label&gt;&lt;/div&gt;             &lt;/div&gt;         )     } } </code></pre> <p>And Flask Server</p> <pre><code>from flask_cors import CORS, cross_origin  app = Flask(__name__) CORS(app)   @app.route(&quot;/&quot;) def hello_world():     jsonResp = {&quot;jack&quot;: 4098, &quot;sape&quot;: 4139}     print(&quot;===print===&quot;)     print(jsonify(jsonResp))     return jsonify(jsonResp)   if __name__ == &quot;__main__&quot;:     app.run(debug=True) </code></pre> <p><strong>I am getting error Toggle.js:27 SyntaxError: Unexpected end of input at Toggle.js:16</strong></p>"	"<p>Change the mode from <code>no-cors</code> to <code>cors</code>.</p> <pre><code>fetch('http://127.0.0.1:5000/', {             method: 'GET',             mode: 'cors'         })             .then(r =&gt; r.json())             .then(r =&gt; {                 console.log(r)                 this.setState({                     pyResp: r                 })             })             .catch(err =&gt; console.log(err)) </code></pre> <p>I tried locally and this worked for me.</p>"
63160078	Problem with encrypting with Python and decrypting in Javascript	javascript|python|encryption|blockchain	2020-07-29 18:21:04.300000 UTC	"<p>i'm having troubles encrypting with Python and decrypting with Javascript , here's what i did in Python :</p> <pre><code>import binascii import pandas as pd import Crypto import Crypto.Random from Crypto.PublicKey import RSA import binascii import json from Crypto.Signature import PKCS1_v1_5 from Crypto.Cipher import PKCS1_OAEP from Crypto.Hash import SHA512, SHA384, SHA256, SHA, MD5 import requests from flask import Flask, jsonify, request, render_template     ....  public_keyy = RSA.importKey(binascii.unhexlify(recipient_address)) encryptor = PKCS1_OAEP.new(public_keyy) encrypted = encryptor.encrypt(bytes(value, encoding='utf-8')) value=  binascii.hexlify(encrypted).decode('utf8',errors='ignore') print(&quot;Encrypted:&quot;, binascii.hexlify(encrypted)) </code></pre> <p>And here's what im doing in Javascript (using JSEncrypt.js )  :</p> <pre><code>        for (i = 1; i &lt; response.length; i++) {             for (j = 0; j &lt; response[&quot;chain&quot;][i][&quot;transactions&quot;].length; j++) {                //format date                var options = {  year: &quot;numeric&quot;, month: &quot;short&quot;,  day: &quot;numeric&quot;, hour: &quot;2-digit&quot;, minute: &quot;2-digit&quot;, second: &quot;2-digit&quot;  };               var date = new Date(response[&quot;chain&quot;][i][&quot;timestamp&quot;] * 1000);               var formattedDateTime = date.toLocaleTimeString(&quot;en-us&quot;, options);               var valeur=response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;value&quot;]                //DECRYPTION                               decrypt = new JSEncrypt();                decrypt.setPrivateKey(priv_key);                var plainText = decrypt.decrypt(valeur);                transaction = [count,                             response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;recipient_address&quot;],                             response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;sender_address&quot;],                             response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;sender_id&quot;],                             response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;sender_bat&quot;],                             response[&quot;chain&quot;][i][&quot;transactions&quot;][j][&quot;value&quot;],                             formattedDateTime,plainText,message,                             response[&quot;chain&quot;][i][&quot;block_number&quot;]];           transactions.push(transaction); </code></pre> <p>So im trying to decrypt with a private key that the user generates , like this one :</p> <p>&quot;3082025b02010002818100a2376cf4d9ca5d09c1c8392edb218af719d4cc6b1b49999cdfdb0f819e0dc6f0220a9e0007a50bf7185c52e4b6e769dbffe9312ae9dedf8ec9dc6f70711a4f2b5c61af54e431e20a267af4224a34bb7f7da9823b365c31be62593dd79baad421b1c5f3dd4cdf4dce06492543cbafa058b4151b6b99064abcc1ccfb2bb572afab020301000102818003a12cda533a4ec282d9e0a7e4cb6af3dd3d4413a8c59717d0ff1d306dfdf89748cc98cb70d22069e93ecb97cd808d7f6df4ba10a1b11c0000d945fd48245b9d6dac7f2dbe558eb6a5329da2429e72765e2f5d1ec328c0e5da628cb72e0867e71fa510b5ee20238028b93e5e36c371abd7a320f0267de8f2308bdc352722e409024100be201b36623b3e6bb2a1a1cbcaaee0accb98baa2e166955e1c903461ca3fe31b1d42201c9ada9d7dfa1b0104a55a9203e72934cf36d1ca6551091d123f7e6d23024100da6bd53bdaa03961b20074e5a0b6fc03fa839464765e795d39ee522e3c7cc0033256f9dc30e551f58eaf5a3cd67e421a1b8e05cad56f8efaa4c567761c926fd90240315801d8067c9bc1b5d5cf3925fc672151a1ece6731b7daeb43914ef405f7e60be223855543762e29c33bffae5b370ec0465a468173131974405da7eaeedf003024039b7a1034e0464e5620a28d9bd1c5d8017a4c983ba9bc06a583297d8cbf7132e451122b982da364c3346370c3889e8a1c9824019974901794e2d33e7cc290e11024038c801fcb3d9c28fbe6c352148cefe7dbc0214ce6fb3eb5bb656daef6426b49a68e1d1d3aa419d409992e71be0d97fad9f7d44b969a55c980fb0e6d19804afa8 &quot;</p> <p>what am I doing wrong ? I think that this key format is not supported by JSEncrypt, but i don't know what to do, any help ?</p> <p>Thank you :)</p>"	<p>I suspect you are not decrypting with the right algo &amp; key size.</p> <p>The problem might be in these lines of code.</p> <pre><code>decrypt.setPrivateKey(priv_key); var plainText = decrypt.decrypt(valeur); </code></pre>
63175106	Django: How to pass python variable value to javascript file?	javascript|python|django	2020-07-30 14:14:36.960000 UTC	"<p>I've a function in views.py which returns latitude and longitude:</p> <pre><code>return render(request, 'map.html', {'lat_lng':lat_lng}) </code></pre> <p>and I am able to access it in html file as <code>{{ lat_lng }}</code> but when I try to use <code>lat_lng</code> in separate <strong>js</strong> file then I'm not able to access it.</p> <p>I tried all below stack answers but none worked for me:</p> <p><a href=""https://stackoverflow.com/questions/298772/django-template-variables-and-javascript"">Django Template Variables and Javascript</a></p> <p><a href=""https://stackoverflow.com/questions/52886765/passing-django-variables-to-javascript"">Passing django variables to javascript</a></p> <p><a href=""https://stackoverflow.com/questions/36689075/how-to-use-django-variable-in-javascript-file"">How to use Django variable in JavaScript file?</a></p> <p><a href=""https://stackoverflow.com/questions/1445989/passing-python-data-to-javascript-via-django"">Passing Python Data to JavaScript via Django</a></p>"	"<p>Be sure when that getting the variable in a script tag is before including the separate js file Exmple :</p> <p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""false"" data-babel=""false""> <div class=""snippet-code""> <pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script type=""text/javascript""&gt;     var variable = ""{{myV}}""; &lt;/script&gt;  &lt;script type=""text/javascript"" src=""myJsFile.js""&gt;&lt;/script&gt;</code></pre> </div> </div> </p>"
63175106	Django: How to pass python variable value to javascript file?	javascript|python|django	2020-07-30 14:14:36.960000 UTC	"<p>I've a function in views.py which returns latitude and longitude:</p> <pre><code>return render(request, 'map.html', {'lat_lng':lat_lng}) </code></pre> <p>and I am able to access it in html file as <code>{{ lat_lng }}</code> but when I try to use <code>lat_lng</code> in separate <strong>js</strong> file then I'm not able to access it.</p> <p>I tried all below stack answers but none worked for me:</p> <p><a href=""https://stackoverflow.com/questions/298772/django-template-variables-and-javascript"">Django Template Variables and Javascript</a></p> <p><a href=""https://stackoverflow.com/questions/52886765/passing-django-variables-to-javascript"">Passing django variables to javascript</a></p> <p><a href=""https://stackoverflow.com/questions/36689075/how-to-use-django-variable-in-javascript-file"">How to use Django variable in JavaScript file?</a></p> <p><a href=""https://stackoverflow.com/questions/1445989/passing-python-data-to-javascript-via-django"">Passing Python Data to JavaScript via Django</a></p>"	"<blockquote> <p>when I try to use lat_lng in separate js file then I'm not able to access it.</p> </blockquote> <p>You can't use a django template variable in a static file. The static files will be returned in a way that bypasses Django's typical request processing.</p> <p>Instead, set the variables on <code>data-*</code> attributes on an known HTML element, then get the element, access the attribute and use the value that way.</p>"
63175106	Django: How to pass python variable value to javascript file?	javascript|python|django	2020-07-30 14:14:36.960000 UTC	"<p>I've a function in views.py which returns latitude and longitude:</p> <pre><code>return render(request, 'map.html', {'lat_lng':lat_lng}) </code></pre> <p>and I am able to access it in html file as <code>{{ lat_lng }}</code> but when I try to use <code>lat_lng</code> in separate <strong>js</strong> file then I'm not able to access it.</p> <p>I tried all below stack answers but none worked for me:</p> <p><a href=""https://stackoverflow.com/questions/298772/django-template-variables-and-javascript"">Django Template Variables and Javascript</a></p> <p><a href=""https://stackoverflow.com/questions/52886765/passing-django-variables-to-javascript"">Passing django variables to javascript</a></p> <p><a href=""https://stackoverflow.com/questions/36689075/how-to-use-django-variable-in-javascript-file"">How to use Django variable in JavaScript file?</a></p> <p><a href=""https://stackoverflow.com/questions/1445989/passing-python-data-to-javascript-via-django"">Passing Python Data to JavaScript via Django</a></p>"	<p>One simple way to do it is to append the following snippet at the top of your template html file(the one that imports your javascript file):</p> <pre><code>&lt;script type=&quot;text/javascript&quot;&gt;     const LAT_LNG = &quot;{{ lat_lng }}&quot;; // Or pass it through a function &lt;/script&gt; </code></pre>
63175106	Django: How to pass python variable value to javascript file?	javascript|python|django	2020-07-30 14:14:36.960000 UTC	"<p>I've a function in views.py which returns latitude and longitude:</p> <pre><code>return render(request, 'map.html', {'lat_lng':lat_lng}) </code></pre> <p>and I am able to access it in html file as <code>{{ lat_lng }}</code> but when I try to use <code>lat_lng</code> in separate <strong>js</strong> file then I'm not able to access it.</p> <p>I tried all below stack answers but none worked for me:</p> <p><a href=""https://stackoverflow.com/questions/298772/django-template-variables-and-javascript"">Django Template Variables and Javascript</a></p> <p><a href=""https://stackoverflow.com/questions/52886765/passing-django-variables-to-javascript"">Passing django variables to javascript</a></p> <p><a href=""https://stackoverflow.com/questions/36689075/how-to-use-django-variable-in-javascript-file"">How to use Django variable in JavaScript file?</a></p> <p><a href=""https://stackoverflow.com/questions/1445989/passing-python-data-to-javascript-via-django"">Passing Python Data to JavaScript via Django</a></p>"	"<p>You can take advantage of <a href=""https://docs.djangoproject.com/en/3.0/ref/templates/builtins/#json-script"" rel=""nofollow noreferrer"">json_script</a> template tag. In your template do this</p> <pre><code>{{ lat_lng|json_script:&quot;lat_lng&quot; }} </code></pre> <p>Then in your javascript file you can access this variable like</p> <pre class=""lang-js prettyprint-override""><code>const lat_lng = JSON.parse(document.getElementById(&quot;lat_lng&quot;).textContent); </code></pre>"
